(self.webpackChunkkcc_management=self.webpackChunkkcc_management||[]).push([[792],{44273:(ye,I,A)=>{"use strict";var O,$,U,K,y,T,w,x,R,k,v,N,M,P,L,G,B;A.r(I),A.d(I,{JSONPath:()=>$l}),($={})[(O={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",$[O.EOF]="<end>",$[O.Identifier]="Identifier",$[O.Keyword]="Keyword",$[O.NullLiteral]="Null",$[O.NumericLiteral]="Numeric",$[O.Punctuator]="Punctuator",$[O.StringLiteral]="String",$[O.RegularExpression]="RegularExpression",U=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var q={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function X(Ke,nt){if(!Ke)throw new Error("ASSERT: "+nt)}function Q(Ke){return Ke>=48&&Ke<=57}function te(Ke){return"0123456789abcdefABCDEF".indexOf(Ke)>=0}function ie(Ke){return"01234567".indexOf(Ke)>=0}function ae(Ke){return 32===Ke||9===Ke||11===Ke||12===Ke||160===Ke||Ke>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(Ke)>=0}function me(Ke){return 10===Ke||13===Ke||8232===Ke||8233===Ke}function ge(Ke){return 64==Ke||36===Ke||95===Ke||Ke>=65&&Ke<=90||Ke>=97&&Ke<=122||92===Ke||Ke>=128&&T.NonAsciiIdentifierStart.test(String.fromCharCode(Ke))}function de(Ke){return 36===Ke||95===Ke||Ke>=65&&Ke<=90||Ke>=97&&Ke<=122||Ke>=48&&Ke<=57||92===Ke||Ke>=128&&T.NonAsciiIdentifierPart.test(String.fromCharCode(Ke))}function d(Ke){switch(Ke){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function f(Ke){return"eval"===Ke||"arguments"===Ke}function C(Ke,nt,St,pt,bt){var Ot;X("number"==typeof St,"Comment must have valid position"),!(G.lastCommentStart>=St)&&(G.lastCommentStart=St,Ot={type:Ke,value:nt},B.range&&(Ot.range=[St,pt]),B.loc&&(Ot.loc=bt),B.comments.push(Ot),B.attachComment&&(B.leadingComments.push(Ot),B.trailingComments.push(Ot)))}function D(Ke){var nt,St,pt,bt;for(nt=k-Ke,St={start:{line:v,column:k-N-Ke}};k<M;)if(pt=x.charCodeAt(k),++k,me(pt))return B.comments&&(bt=x.slice(nt+Ke,k-1),St.end={line:v,column:k-N-1},C("Line",bt,nt,k-1,St)),13===pt&&10===x.charCodeAt(k)&&++k,++v,void(N=k);B.comments&&(bt=x.slice(nt+Ke,k),St.end={line:v,column:k-N},C("Line",bt,nt,k,St))}function V(){var Ke,nt,St,pt;for(B.comments&&(Ke=k-2,nt={start:{line:v,column:k-N-2}});k<M;)if(me(St=x.charCodeAt(k)))13===St&&10===x.charCodeAt(k+1)&&++k,++v,++k,N=k,k>=M&&Ye({},y.UnexpectedToken,"ILLEGAL");else if(42===St){if(47===x.charCodeAt(k+1))return++k,++k,void(B.comments&&(pt=x.slice(Ke+2,k-2),nt.end={line:v,column:k-N},C("Block",pt,Ke,k,nt)));++k}else++k;Ye({},y.UnexpectedToken,"ILLEGAL")}function Y(){var Ke,nt;for(nt=0===k;k<M;)if(ae(Ke=x.charCodeAt(k)))++k;else if(me(Ke))++k,13===Ke&&10===x.charCodeAt(k)&&++k,++v,N=k,nt=!0;else if(47===Ke)if(47===(Ke=x.charCodeAt(k+1)))++k,++k,D(2),nt=!0;else{if(42!==Ke)break;++k,++k,V()}else if(nt&&45===Ke){if(45!==x.charCodeAt(k+1)||62!==x.charCodeAt(k+2))break;k+=3,D(3)}else{if(60!==Ke)break;if("!--"!==x.slice(k+1,k+4))break;++k,++k,++k,++k,D(4)}}function F(Ke){var nt,St,pt,bt=0;for(St="u"===Ke?4:2,nt=0;nt<St;++nt){if(!(k<M&&te(x[k])))return"";pt=x[k++],bt=16*bt+"0123456789abcdef".indexOf(pt.toLowerCase())}return String.fromCharCode(bt)}function h(){var Ke,nt;for(Ke=x.charCodeAt(k++),nt=String.fromCharCode(Ke),92===Ke&&(117!==x.charCodeAt(k)&&Ye({},y.UnexpectedToken,"ILLEGAL"),++k,(!(Ke=F("u"))||"\\"===Ke||!ge(Ke.charCodeAt(0)))&&Ye({},y.UnexpectedToken,"ILLEGAL"),nt=Ke);k<M&&de(Ke=x.charCodeAt(k));)++k,nt+=String.fromCharCode(Ke),92===Ke&&(nt=nt.substr(0,nt.length-1),117!==x.charCodeAt(k)&&Ye({},y.UnexpectedToken,"ILLEGAL"),++k,(!(Ke=F("u"))||"\\"===Ke||!de(Ke.charCodeAt(0)))&&Ye({},y.UnexpectedToken,"ILLEGAL"),nt+=Ke);return nt}function ee(){var St,bt,Ot,mn,Ke=k,nt=x.charCodeAt(k),pt=x[k];switch(nt){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++k,B.tokenize&&(40===nt?B.openParenToken=B.tokens.length:123===nt&&(B.openCurlyToken=B.tokens.length)),{type:O.Punctuator,value:String.fromCharCode(nt),lineNumber:v,lineStart:N,start:Ke,end:k};default:if(61===(St=x.charCodeAt(k+1)))switch(nt){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return k+=2,{type:O.Punctuator,value:String.fromCharCode(nt)+String.fromCharCode(St),lineNumber:v,lineStart:N,start:Ke,end:k};case 33:case 61:return 61===x.charCodeAt(k+=2)&&++k,{type:O.Punctuator,value:x.slice(Ke,k),lineNumber:v,lineStart:N,start:Ke,end:k}}}return">>>="===(mn=x.substr(k,4))?{type:O.Punctuator,value:mn,lineNumber:v,lineStart:N,start:Ke,end:k+=4}:">>>"===(Ot=mn.substr(0,3))||"<<="===Ot||">>="===Ot?{type:O.Punctuator,value:Ot,lineNumber:v,lineStart:N,start:Ke,end:k+=3}:pt===(bt=Ot.substr(0,2))[1]&&"+-<>&|".indexOf(pt)>=0||"=>"===bt?{type:O.Punctuator,value:bt,lineNumber:v,lineStart:N,start:Ke,end:k+=2}:"<>=!+-*%&|^/".indexOf(pt)>=0?(++k,{type:O.Punctuator,value:pt,lineNumber:v,lineStart:N,start:Ke,end:k}):void Ye({},y.UnexpectedToken,"ILLEGAL")}function Ae(){var Ke,nt,St;if(X(Q((St=x[k]).charCodeAt(0))||"."===St,"Numeric literal must start with a decimal digit or a decimal point"),nt=k,Ke="","."!==St){if(Ke=x[k++],St=x[k],"0"===Ke){if("x"===St||"X"===St)return++k,function re(Ke){for(var nt="";k<M&&te(x[k]);)nt+=x[k++];return 0===nt.length&&Ye({},y.UnexpectedToken,"ILLEGAL"),ge(x.charCodeAt(k))&&Ye({},y.UnexpectedToken,"ILLEGAL"),{type:O.NumericLiteral,value:parseInt("0x"+nt,16),lineNumber:v,lineStart:N,start:Ke,end:k}}(nt);if(ie(St))return function fe(Ke){for(var nt="0"+x[k++];k<M&&ie(x[k]);)nt+=x[k++];return(ge(x.charCodeAt(k))||Q(x.charCodeAt(k)))&&Ye({},y.UnexpectedToken,"ILLEGAL"),{type:O.NumericLiteral,value:parseInt(nt,8),octal:!0,lineNumber:v,lineStart:N,start:Ke,end:k}}(nt);St&&Q(St.charCodeAt(0))&&Ye({},y.UnexpectedToken,"ILLEGAL")}for(;Q(x.charCodeAt(k));)Ke+=x[k++];St=x[k]}if("."===St){for(Ke+=x[k++];Q(x.charCodeAt(k));)Ke+=x[k++];St=x[k]}if("e"===St||"E"===St)if(Ke+=x[k++],("+"===(St=x[k])||"-"===St)&&(Ke+=x[k++]),Q(x.charCodeAt(k)))for(;Q(x.charCodeAt(k));)Ke+=x[k++];else Ye({},y.UnexpectedToken,"ILLEGAL");return ge(x.charCodeAt(k))&&Ye({},y.UnexpectedToken,"ILLEGAL"),{type:O.NumericLiteral,value:parseFloat(Ke),lineNumber:v,lineStart:N,start:nt,end:k}}function He(){var Ke,nt,St,bt;return L=null,Y(),Ke=k,nt=function Ee(){var Ke,nt,St,pt;for(X("/"===(Ke=x[k]),"Regular expression literal must start with a slash"),nt=x[k++],St=!1,pt=!1;k<M;)if(nt+=Ke=x[k++],"\\"===Ke)me((Ke=x[k++]).charCodeAt(0))&&Ye({},y.UnterminatedRegExp),nt+=Ke;else if(me(Ke.charCodeAt(0)))Ye({},y.UnterminatedRegExp);else if(St)"]"===Ke&&(St=!1);else{if("/"===Ke){pt=!0;break}"["===Ke&&(St=!0)}return pt||Ye({},y.UnterminatedRegExp),{value:nt.substr(1,nt.length-2),literal:nt}}(),St=function Se(){var Ke,nt,St,pt;for(nt="",St="";k<M&&de((Ke=x[k]).charCodeAt(0));)if(++k,"\\"===Ke&&k<M)if("u"===(Ke=x[k])){if(pt=++k,Ke=F("u"))for(St+=Ke,nt+="\\u";pt<k;++pt)nt+=x[pt];else k=pt,St+="u",nt+="\\u";wt({},y.UnexpectedToken,"ILLEGAL")}else nt+="\\",wt({},y.UnexpectedToken,"ILLEGAL");else St+=Ke,nt+=Ke;return{value:St,literal:nt}}(),bt=function Le(Ke,nt){var St;try{St=new RegExp(Ke,nt)}catch{Ye({},y.InvalidRegExp)}return St}(nt.value,St.value),B.tokenize?{type:O.RegularExpression,value:bt,lineNumber:v,lineStart:N,start:Ke,end:k}:{literal:nt.literal+St.literal,value:bt,start:Ke,end:k}}function Te(){var Ke,nt,St,pt;return Y(),Ke=k,nt={start:{line:v,column:k-N}},St=He(),nt.end={line:v,column:k-N},B.tokenize||(B.tokens.length>0&&(pt=B.tokens[B.tokens.length-1]).range[0]===Ke&&"Punctuator"===pt.type&&("/"===pt.value||"/="===pt.value)&&B.tokens.pop(),B.tokens.push({type:"RegularExpression",value:St.literal,range:[Ke,k],loc:nt})),St}function be(){var Ke;return Y(),k>=M?{type:O.EOF,lineNumber:v,lineStart:N,start:k,end:k}:ge(Ke=x.charCodeAt(k))?function J(){var Ke,nt,St;return Ke=k,nt=92===x.charCodeAt(k)?h():function g(){var Ke,nt;for(Ke=k++;k<M;){if(92===(nt=x.charCodeAt(k)))return k=Ke,h();if(!de(nt))break;++k}return x.slice(Ke,k)}(),St=1===nt.length?O.Identifier:function b(Ke){if(R&&d(Ke))return!0;switch(Ke.length){case 2:return"if"===Ke||"in"===Ke||"do"===Ke;case 3:return"var"===Ke||"for"===Ke||"new"===Ke||"try"===Ke||"let"===Ke;case 4:return"this"===Ke||"else"===Ke||"case"===Ke||"void"===Ke||"with"===Ke||"enum"===Ke;case 5:return"while"===Ke||"break"===Ke||"catch"===Ke||"throw"===Ke||"const"===Ke||"yield"===Ke||"class"===Ke||"super"===Ke;case 6:return"return"===Ke||"typeof"===Ke||"delete"===Ke||"switch"===Ke||"export"===Ke||"import"===Ke;case 7:return"default"===Ke||"finally"===Ke||"extends"===Ke;case 8:return"function"===Ke||"continue"===Ke||"debugger"===Ke;case 10:return"instanceof"===Ke;default:return!1}}(nt)?O.Keyword:"null"===nt?O.NullLiteral:"true"===nt||"false"===nt?O.BooleanLiteral:O.Identifier,{type:St,value:nt,lineNumber:v,lineStart:N,start:Ke,end:k}}():40===Ke||41===Ke||59===Ke?ee():39===Ke||34===Ke?function Me(){var nt,St,pt,bt,Ot,mn,Gn,mr,Ke="",wn=!1;for(Gn=v,mr=N,X("'"===(nt=x[k])||'"'===nt,"String literal must starts with a quote"),St=k,++k;k<M;){if((pt=x[k++])===nt){nt="";break}if("\\"===pt)if((pt=x[k++])&&me(pt.charCodeAt(0)))++v,"\r"===pt&&"\n"===x[k]&&++k,N=k;else switch(pt){case"u":case"x":mn=k,(Ot=F(pt))?Ke+=Ot:(k=mn,Ke+=pt);break;case"n":Ke+="\n";break;case"r":Ke+="\r";break;case"t":Ke+="\t";break;case"b":Ke+="\b";break;case"f":Ke+="\f";break;case"v":Ke+="\v";break;default:ie(pt)?(0!==(bt="01234567".indexOf(pt))&&(wn=!0),k<M&&ie(x[k])&&(wn=!0,bt=8*bt+"01234567".indexOf(x[k++]),"0123".indexOf(pt)>=0&&k<M&&ie(x[k])&&(bt=8*bt+"01234567".indexOf(x[k++]))),Ke+=String.fromCharCode(bt)):Ke+=pt}else{if(me(pt.charCodeAt(0)))break;Ke+=pt}}return""!==nt&&Ye({},y.UnexpectedToken,"ILLEGAL"),{type:O.StringLiteral,value:Ke,octal:wn,startLineNumber:Gn,startLineStart:mr,lineNumber:v,lineStart:N,start:St,end:k}}():46===Ke?Q(x.charCodeAt(k+1))?Ae():ee():Q(Ke)?Ae():B.tokenize&&47===Ke?function xe(){var Ke,nt;if(!(Ke=B.tokens[B.tokens.length-1]))return Te();if("Punctuator"===Ke.type){if("]"===Ke.value)return ee();if(")"===Ke.value)return!(nt=B.tokens[B.openParenToken-1])||"Keyword"!==nt.type||"if"!==nt.value&&"while"!==nt.value&&"for"!==nt.value&&"with"!==nt.value?ee():Te();if("}"===Ke.value){if(B.tokens[B.openCurlyToken-3]&&"Keyword"===B.tokens[B.openCurlyToken-3].type){if(!(nt=B.tokens[B.openCurlyToken-4]))return ee()}else{if(!B.tokens[B.openCurlyToken-4]||"Keyword"!==B.tokens[B.openCurlyToken-4].type)return ee();if(!(nt=B.tokens[B.openCurlyToken-5]))return Te()}return U.indexOf(nt.value)>=0?ee():Te()}return Te()}return"Keyword"===Ke.type?Te():ee()}():ee()}function _e(){var Ke,nt,pt;return Y(),Ke={start:{line:v,column:k-N}},nt=be(),Ke.end={line:v,column:k-N},nt.type!==O.EOF&&(pt=x.slice(nt.start,nt.end),B.tokens.push({type:$[nt.type],value:pt,range:[nt.start,nt.end],loc:Ke})),nt}function Ce(){var Ke;return k=(Ke=L).end,v=Ke.lineNumber,N=Ke.lineStart,L=typeof B.tokens<"u"?_e():be(),k=Ke.end,v=Ke.lineNumber,N=Ke.lineStart,Ke}function ke(){var Ke,nt,St;Ke=k,nt=v,St=N,L=typeof B.tokens<"u"?_e():be(),k=Ke,v=nt,N=St}function ze(Ke,nt){this.line=Ke,this.column=nt}function Ne(Ke,nt,St,pt){this.start=new ze(Ke,nt),this.end=new ze(St,pt)}function We(){var Ke,nt,St,pt;return Ke=k,nt=v,St=N,Y(),pt=v!==nt,k=Ke,v=nt,N=St,pt}function Ye(Ke,nt){for(var St=[],pt=2;pt<arguments.length;pt++)St[pt-2]=arguments[pt];var bt,Ot=nt.replace(/%(\d)/g,function(mn,wn){return X(wn<St.length,"Message reference must be in range"),St[wn]});throw"number"==typeof Ke.lineNumber?((bt=new Error("Line "+Ke.lineNumber+": "+Ot)).index=Ke.start,bt.lineNumber=Ke.lineNumber,bt.column=Ke.start-N+1):((bt=new Error("Line "+v+": "+Ot)).index=k,bt.lineNumber=v,bt.column=k-N+1),bt.description=Ot,bt}function wt(){for(var Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=arguments[nt];try{Ye.apply(null,Ke)}catch(St){if(!B.errors)throw St;B.errors.push(St)}}function mt(Ke){if(Ke.type===O.EOF&&Ye(Ke,y.UnexpectedEOS),Ke.type===O.NumericLiteral&&Ye(Ke,y.UnexpectedNumber),Ke.type===O.StringLiteral&&Ye(Ke,y.UnexpectedString),Ke.type===O.Identifier&&Ye(Ke,y.UnexpectedIdentifier),Ke.type===O.Keyword){if(function z(Ke){switch(Ke){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(Ke.value))Ye(Ke,y.UnexpectedReserved);else if(R&&d(Ke.value))return void wt(Ke,y.StrictReservedWord);Ye(Ke,y.UnexpectedToken,Ke.value)}Ye(Ke,y.UnexpectedToken,Ke.value)}function rt(Ke){var nt=Ce();(nt.type!==O.Punctuator||nt.value!==Ke)&&mt(nt)}function Ut(Ke){var nt=Ce();(nt.type!==O.Keyword||nt.value!==Ke)&&mt(nt)}function se(Ke){return L.type===O.Punctuator&&L.value===Ke}function W(Ke){return L.type===O.Keyword&&L.value===Ke}function he(){var Ke;59===x.charCodeAt(k)||se(";")?Ce():(Ke=v,Y(),v===Ke&&L.type!==O.EOF&&!se("}")&&mt(L))}function De(Ke){return Ke.type===q.Identifier||Ke.type===q.MemberExpression}function Ze(Ke,nt){var St,pt,bt;return St=R,bt=L,pt=qn(),nt&&R&&f(Ke[0].name)&&wt(nt,y.StrictParamName),R=St,P.markEnd(P.createFunctionExpression(null,Ke,[],pt),bt)}function at(){var Ke,nt;return nt=L,(Ke=Ce()).type===O.StringLiteral||Ke.type===O.NumericLiteral?(R&&Ke.octal&&wt(Ke,y.StrictOctalLiteral),P.markEnd(P.createLiteral(Ke),nt)):P.markEnd(P.createIdentifier(Ke.value),nt)}function Rt(){var Ke,nt,St,pt,bt,Ot;return Ot=L,(Ke=L).type===O.Identifier?(St=at(),"get"!==Ke.value||se(":")?"set"!==Ke.value||se(":")?(rt(":"),pt=Be(),P.markEnd(P.createProperty("init",St,pt),Ot)):(nt=at(),rt("("),(Ke=L).type!==O.Identifier?(rt(")"),wt(Ke,y.UnexpectedToken,Ke.value),pt=Ze([])):(bt=[ut()],rt(")"),pt=Ze(bt,Ke)),P.markEnd(P.createProperty("set",nt,pt),Ot)):(nt=at(),rt("("),rt(")"),pt=Ze([]),P.markEnd(P.createProperty("get",nt,pt),Ot))):Ke.type!==O.EOF&&Ke.type!==O.Punctuator?(nt=at(),rt(":"),pt=Be(),P.markEnd(P.createProperty("init",nt,pt),Ot)):void mt(Ke)}function Wt(){var Ke,nt,St,pt;if(se("("))return function At(){var Ke;return rt("("),Ke=Ge(),rt(")"),Ke}();if(se("["))return function Xe(){var nt,Ke=[];for(nt=L,rt("[");!se("]");)se(",")?(Ce(),Ke.push(null)):(Ke.push(Be()),se("]")||rt(","));return Ce(),P.markEnd(P.createArrayExpression(Ke),nt)}();if(se("{"))return function Mt(){var nt,St,pt,bt,wn,Ke=[],Ot={},mn=String;for(wn=L,rt("{");!se("}");)St=(nt=Rt()).key.type===q.Identifier?nt.key.name:mn(nt.key.value),bt="init"===nt.kind?K.Data:"get"===nt.kind?K.Get:K.Set,pt="$"+St,Object.prototype.hasOwnProperty.call(Ot,pt)?(Ot[pt]===K.Data?R&&bt===K.Data?wt({},y.StrictDuplicateProperty):bt!==K.Data&&wt({},y.AccessorDataProperty):bt===K.Data?wt({},y.AccessorDataProperty):Ot[pt]&bt&&wt({},y.AccessorGetSet),Ot[pt]|=bt):Ot[pt]=bt,Ke.push(nt),se("}")||rt(",");return rt("}"),P.markEnd(P.createObjectExpression(Ke),wn)}();if(pt=L,(Ke=L.type)===O.Identifier)St=P.createIdentifier(Ce().value);else if(Ke===O.StringLiteral||Ke===O.NumericLiteral)R&&L.octal&&wt(L,y.StrictOctalLiteral),St=P.createLiteral(Ce());else if(Ke===O.Keyword){if(W("function"))return function Ti(){var Ke,St,pt,bt,Ot,wn,Gn,mr,mn,nt=null;return mr=L,Ut("function"),se("(")||(Ke=L,nt=ut(),R?f(Ke.value)&&wt(Ke,y.StrictFunctionName):f(Ke.value)?(pt=Ke,bt=y.StrictFunctionName):d(Ke.value)&&(pt=Ke,bt=y.StrictReservedWord)),mn=(Ot=$r(pt)).params,St=Ot.stricted,pt=Ot.firstRestricted,Ot.message&&(bt=Ot.message),Gn=R,wn=qn(),R&&pt&&Ye(pt,bt),R&&St&&wt(St,bt),R=Gn,P.markEnd(P.createFunctionExpression(nt,mn,[],wn),mr)}();W("this")?(Ce(),St=P.createThisExpression()):mt(Ce())}else Ke===O.BooleanLiteral?((nt=Ce()).value="true"===nt.value,St=P.createLiteral(nt)):Ke===O.NullLiteral?((nt=Ce()).value=null,St=P.createLiteral(nt)):se("/")||se("/=")?(St=P.createLiteral(typeof B.tokens<"u"?Te():He()),ke()):mt(Ce());return P.markEnd(St,pt)}function Bt(){var Ke=[];if(rt("("),!se(")"))for(;k<M&&(Ke.push(Be()),!se(")"));)rt(",");return rt(")"),Ke}function Hn(){return rt("."),function nn(){var Ke,nt;return nt=L,function u(Ke){return Ke.type===O.Identifier||Ke.type===O.Keyword||Ke.type===O.BooleanLiteral||Ke.type===O.NullLiteral}(Ke=Ce())||mt(Ke),P.markEnd(P.createIdentifier(Ke.value),nt)}()}function sn(){var Ke;return rt("["),Ke=Ge(),rt("]"),Ke}function an(){var Ke,nt,St;return St=L,Ut("new"),Ke=function Ve(){var Ke,nt,St,pt;for(pt=L,Ke=G.allowIn,nt=W("new")?an():Wt(),G.allowIn=Ke;se(".")||se("[");)se("[")?(St=sn(),nt=P.createMemberExpression("[",nt,St)):(St=Hn(),nt=P.createMemberExpression(".",nt,St)),P.markEnd(nt,pt);return nt}(),nt=se("(")?Bt():[],P.markEnd(P.createNewExpression(Ke,nt),St)}function st(){var Ke,nt,St=L;return Ke=function kn(){var Ke,nt,St,pt,bt;for(bt=L,Ke=G.allowIn,G.allowIn=!0,nt=W("new")?an():Wt(),G.allowIn=Ke;;){if(se("."))pt=Hn(),nt=P.createMemberExpression(".",nt,pt);else if(se("("))St=Bt(),nt=P.createCallExpression(nt,St);else{if(!se("["))break;pt=sn(),nt=P.createMemberExpression("[",nt,pt)}P.markEnd(nt,bt)}return nt}(),L.type===O.Punctuator&&(se("++")||se("--"))&&!We()&&(R&&Ke.type===q.Identifier&&f(Ke.name)&&wt({},y.StrictLHSPostfix),De(Ke)||wt({},y.InvalidLHSInAssignment),nt=Ce(),Ke=P.markEnd(P.createPostfixExpression(nt.value,Ke),St)),Ke}function gt(){var Ke,nt,St;return L.type!==O.Punctuator&&L.type!==O.Keyword?nt=st():se("++")||se("--")?(St=L,Ke=Ce(),nt=gt(),R&&nt.type===q.Identifier&&f(nt.name)&&wt({},y.StrictLHSPrefix),De(nt)||wt({},y.InvalidLHSInAssignment),nt=P.createUnaryExpression(Ke.value,nt),nt=P.markEnd(nt,St)):se("+")||se("-")||se("~")||se("!")?(St=L,Ke=Ce(),nt=gt(),nt=P.createUnaryExpression(Ke.value,nt),nt=P.markEnd(nt,St)):W("delete")||W("void")||W("typeof")?(St=L,Ke=Ce(),nt=gt(),nt=P.createUnaryExpression(Ke.value,nt),nt=P.markEnd(nt,St),R&&"delete"===nt.operator&&nt.argument.type===q.Identifier&&wt({},y.StrictDelete)):nt=st(),nt}function dt(Ke,nt){var St=0;if(Ke.type!==O.Punctuator&&Ke.type!==O.Keyword)return 0;switch(Ke.value){case"||":St=1;break;case"&&":St=2;break;case"|":St=3;break;case"^":St=4;break;case"&":St=5;break;case"==":case"!=":case"===":case"!==":St=6;break;case"<":case">":case"<=":case">=":case"instanceof":St=7;break;case"in":St=nt?7:0;break;case"<<":case">>":case">>>":St=8;break;case"+":case"-":St=9;break;case"*":case"/":case"%":St=11}return St}function Be(){var Ke,nt,St,pt,bt;return Ke=L,bt=L,pt=nt=function ln(){var Ke,nt,St,pt,bt;return bt=L,Ke=function yt(){var Ke,nt,St,pt,bt,Ot,mn,wn,Gn,mr;if(Ke=L,Gn=gt(),0===(bt=dt(pt=L,G.allowIn)))return Gn;for(pt.prec=bt,Ce(),nt=[Ke,L],Ot=[Gn,pt,mn=gt()];(bt=dt(L,G.allowIn))>0;){for(;Ot.length>2&&bt<=Ot[Ot.length-2].prec;)mn=Ot.pop(),wn=Ot.pop().value,Gn=Ot.pop(),St=P.createBinaryExpression(wn,Gn,mn),nt.pop(),P.markEnd(St,Ke=nt[nt.length-1]),Ot.push(St);(pt=Ce()).prec=bt,Ot.push(pt),nt.push(L),St=gt(),Ot.push(St)}for(St=Ot[mr=Ot.length-1],nt.pop();mr>1;)St=P.createBinaryExpression(Ot[mr-1].value,Ot[mr-2],St),mr-=2,Ke=nt.pop(),P.markEnd(St,Ke);return St}(),se("?")&&(Ce(),nt=G.allowIn,G.allowIn=!0,St=Be(),G.allowIn=nt,rt(":"),pt=Be(),Ke=P.createConditionalExpression(Ke,St,pt),P.markEnd(Ke,bt)),Ke}(),function Z(){var Ke;return L.type===O.Punctuator&&("="===(Ke=L.value)||"*="===Ke||"/="===Ke||"%="===Ke||"+="===Ke||"-="===Ke||"<<="===Ke||">>="===Ke||">>>="===Ke||"&="===Ke||"^="===Ke||"|="===Ke)}()&&(De(nt)||wt({},y.InvalidLHSInAssignment),R&&nt.type===q.Identifier&&f(nt.name)&&wt(Ke,y.StrictLHSAssignment),Ke=Ce(),St=Be(),pt=P.markEnd(P.createAssignmentExpression(Ke.value,nt,St),bt)),pt}function Ge(){var Ke,nt=L;if(Ke=Be(),se(",")){for(Ke=P.createSequenceExpression([Ke]);k<M&&se(",");)Ce(),Ke.expressions.push(Be());P.markEnd(Ke,nt)}return Ke}function et(){var Ke,nt;return nt=L,rt("{"),Ke=function ht(){for(var nt,Ke=[];k<M&&!(se("}")||(nt=qs(),typeof nt>"u"));)Ke.push(nt);return Ke}(),rt("}"),P.markEnd(P.createBlockStatement(Ke),nt)}function ut(){var Ke,nt;return nt=L,(Ke=Ce()).type!==O.Identifier&&mt(Ke),P.markEnd(P.createIdentifier(Ke.value),nt)}function en(Ke){var St,pt,nt=null;return pt=L,St=ut(),R&&f(St.name)&&wt({},y.StrictVarName),"const"===Ke?(rt("="),nt=Be()):se("=")&&(Ce(),nt=Be()),P.markEnd(P.createVariableDeclarator(St,nt),pt)}function It(Ke){var nt=[];do{if(nt.push(en(Ke)),!se(","))break;Ce()}while(k<M);return nt}function Xr(){var Ke,St,pt,nt=[];for(pt=L,W("default")?(Ce(),Ke=null):(Ut("case"),Ke=Ge()),rt(":");k<M&&!(se("}")||W("default")||W("case"));)St=Tr(),nt.push(St);return P.markEnd(P.createSwitchCase(Ke,nt),pt)}function Tr(){var nt,St,pt,bt,Ke=L.type;if(Ke===O.EOF&&mt(L),Ke===O.Punctuator&&"{"===L.value)return et();if(bt=L,Ke===O.Punctuator)switch(L.value){case";":return P.markEnd(function Vt(){return rt(";"),P.createEmptyStatement()}(),bt);case"(":return P.markEnd(function cn(){var Ke=Ge();return he(),P.createExpressionStatement(Ke)}(),bt)}if(Ke===O.Keyword)switch(L.value){case"break":return P.markEnd(function tr(){var Ke=null;return Ut("break"),59===x.charCodeAt(k)?(Ce(),G.inIteration||G.inSwitch||Ye({},y.IllegalBreak),P.createBreakStatement(null)):We()?(G.inIteration||G.inSwitch||Ye({},y.IllegalBreak),P.createBreakStatement(null)):(L.type===O.Identifier&&(Ke=ut(),Object.prototype.hasOwnProperty.call(G.labelSet,"$"+Ke.name)||Ye({},y.UnknownLabel,Ke.name)),he(),null===Ke&&!(G.inIteration||G.inSwitch)&&Ye({},y.IllegalBreak),P.createBreakStatement(Ke))}(),bt);case"continue":return P.markEnd(function nr(){var Ke=null;return Ut("continue"),59===x.charCodeAt(k)?(Ce(),G.inIteration||Ye({},y.IllegalContinue),P.createContinueStatement(null)):We()?(G.inIteration||Ye({},y.IllegalContinue),P.createContinueStatement(null)):(L.type===O.Identifier&&(Ke=ut(),Object.prototype.hasOwnProperty.call(G.labelSet,"$"+Ke.name)||Ye({},y.UnknownLabel,Ke.name)),he(),null===Ke&&!G.inIteration&&Ye({},y.IllegalContinue),P.createContinueStatement(Ke))}(),bt);case"debugger":return P.markEnd(function Qr(){return Ut("debugger"),he(),P.createDebuggerStatement()}(),bt);case"do":return P.markEnd(function jn(){var Ke,nt,St;return Ut("do"),St=G.inIteration,G.inIteration=!0,Ke=Tr(),G.inIteration=St,Ut("while"),rt("("),nt=Ge(),rt(")"),se(";")&&Ce(),P.createDoWhileStatement(Ke,nt)}(),bt);case"for":return P.markEnd(function Vn(){var Ke,nt,St,pt,bt,Ot,mn;return Ke=nt=St=null,Ut("for"),rt("("),se(";")?Ce():(W("var")||W("let")?(G.allowIn=!1,Ke=function gr(){var Ke,nt,St;return St=L,Ke=Ce(),nt=It(),P.markEnd(P.createVariableDeclaration(nt,Ke.value),St)}(),G.allowIn=!0,1===Ke.declarations.length&&W("in")&&(Ce(),pt=Ke,bt=Ge(),Ke=null)):(G.allowIn=!1,Ke=Ge(),G.allowIn=!0,W("in")&&(De(Ke)||wt({},y.InvalidLHSInForIn),Ce(),pt=Ke,bt=Ge(),Ke=null)),typeof pt>"u"&&rt(";")),typeof pt>"u"&&(se(";")||(nt=Ge()),rt(";"),se(")")||(St=Ge())),rt(")"),mn=G.inIteration,G.inIteration=!0,Ot=Tr(),G.inIteration=mn,typeof pt>"u"?P.createForStatement(Ke,nt,St,Ot):P.createForInStatement(pt,bt,Ot)}(),bt);case"function":return P.markEnd(xi(),bt);case"if":return P.markEnd(function vr(){var Ke,nt,St;return Ut("if"),rt("("),Ke=Ge(),rt(")"),nt=Tr(),W("else")?(Ce(),St=Tr()):St=null,P.createIfStatement(Ke,nt,St)}(),bt);case"return":return P.markEnd(function Xn(){var Ke=null;return Ut("return"),G.inFunctionBody||wt({},y.IllegalReturn),32===x.charCodeAt(k)&&ge(x.charCodeAt(k+1))?(Ke=Ge(),he(),P.createReturnStatement(Ke)):We()?P.createReturnStatement(null):(se(";")||!se("}")&&L.type!==O.EOF&&(Ke=Ge()),he(),P.createReturnStatement(Ke))}(),bt);case"switch":return P.markEnd(function Rr(){var Ke,nt,St,pt,bt;if(Ut("switch"),rt("("),Ke=Ge(),rt(")"),rt("{"),nt=[],se("}"))return Ce(),P.createSwitchStatement(Ke,nt);for(pt=G.inSwitch,G.inSwitch=!0,bt=!1;k<M&&!se("}");)null===(St=Xr()).test&&(bt&&Ye({},y.MultipleDefaultsInSwitch),bt=!0),nt.push(St);return G.inSwitch=pt,rt("}"),P.createSwitchStatement(Ke,nt)}(),bt);case"throw":return P.markEnd(function Un(){var Ke;return Ut("throw"),We()&&Ye({},y.NewlineAfterThrow),Ke=Ge(),he(),P.createThrowStatement(Ke)}(),bt);case"try":return P.markEnd(function Jr(){var Ke,nt=[],St=null;return Ut("try"),Ke=et(),W("catch")&&nt.push(function Qn(){var Ke,nt,St;return St=L,Ut("catch"),rt("("),se(")")&&mt(L),Ke=ut(),R&&f(Ke.name)&&wt({},y.StrictCatchVariable),rt(")"),nt=et(),P.markEnd(P.createCatchClause(Ke,nt),St)}()),W("finally")&&(Ce(),St=et()),0===nt.length&&!St&&Ye({},y.NoCatchOrFinally),P.createTryStatement(Ke,[],nt,St)}(),bt);case"var":return P.markEnd(function qt(){var Ke;return Ut("var"),Ke=It(),he(),P.createVariableDeclaration(Ke,"var")}(),bt);case"while":return P.markEnd(function Bn(){var Ke,nt,St;return Ut("while"),rt("("),Ke=Ge(),rt(")"),St=G.inIteration,G.inIteration=!0,nt=Tr(),G.inIteration=St,P.createWhileStatement(Ke,nt)}(),bt);case"with":return P.markEnd(function pi(){var Ke,nt;return R&&(Y(),wt({},y.StrictModeWith)),Ut("with"),rt("("),Ke=Ge(),rt(")"),nt=Tr(),P.createWithStatement(Ke,nt)}(),bt)}return(nt=Ge()).type===q.Identifier&&se(":")?(Ce(),pt="$"+nt.name,Object.prototype.hasOwnProperty.call(G.labelSet,pt)&&Ye({},y.Redeclaration,"Label",nt.name),G.labelSet[pt]=!0,St=Tr(),delete G.labelSet[pt],P.markEnd(P.createLabeledStatement(nt,St),bt)):(he(),P.markEnd(P.createExpressionStatement(nt),bt))}function qn(){var Ke,St,bt,Ot,mn,wn,Gn,mr,nt=[];for(mr=L,rt("{");k<M&&L.type===O.StringLiteral&&(St=L,Ke=qs(),nt.push(Ke),Ke.expression.type===q.Literal);)"use strict"===x.slice(St.start+1,St.end-1)?(R=!0,bt&&wt(bt,y.StrictOctalLiteral)):!bt&&St.octal&&(bt=St);for(Ot=G.labelSet,mn=G.inIteration,wn=G.inSwitch,Gn=G.inFunctionBody,G.labelSet={},G.inIteration=!1,G.inSwitch=!1,G.inFunctionBody=!0;k<M&&!(se("}")||(Ke=qs(),typeof Ke>"u"));)nt.push(Ke);return rt("}"),G.labelSet=Ot,G.inIteration=mn,G.inSwitch=wn,G.inFunctionBody=Gn,P.markEnd(P.createBlockStatement(nt),mr)}function $r(Ke){var nt,pt,bt,Ot,mn,wn,St=[];if(rt("("),!se(")"))for(Ot={};k<M&&(pt=L,nt=ut(),mn="$"+pt.value,R?(f(pt.value)&&(bt=pt,wn=y.StrictParamName),Object.prototype.hasOwnProperty.call(Ot,mn)&&(bt=pt,wn=y.StrictParamDupe)):Ke||(f(pt.value)?(Ke=pt,wn=y.StrictParamName):d(pt.value)?(Ke=pt,wn=y.StrictReservedWord):Object.prototype.hasOwnProperty.call(Ot,mn)&&(Ke=pt,wn=y.StrictParamDupe)),St.push(nt),Ot[mn]=!0,!se(")"));)rt(",");return rt(")"),{params:St,stricted:bt,firstRestricted:Ke,message:wn}}function xi(){var Ke,nt,St,pt,bt,Ot,mn,wn,Gn,mr;return mr=L,Ut("function"),pt=L,Ke=ut(),R?f(pt.value)&&wt(pt,y.StrictFunctionName):f(pt.value)?(mn=pt,wn=y.StrictFunctionName):d(pt.value)&&(mn=pt,wn=y.StrictReservedWord),nt=(Ot=$r(mn)).params,bt=Ot.stricted,mn=Ot.firstRestricted,Ot.message&&(wn=Ot.message),Gn=R,St=qn(),R&&mn&&Ye(mn,wn),R&&bt&&wt(bt,wn),R=Gn,P.markEnd(P.createFunctionDeclaration(Ke,nt,[],St),mr)}function qs(){if(L.type===O.Keyword)switch(L.value){case"const":case"let":return function Fn(Ke){var nt,St;return St=L,Ut(Ke),nt=It(Ke),he(),P.markEnd(P.createVariableDeclaration(nt,Ke),St)}(L.value);case"function":return xi();default:return Tr()}if(L.type!==O.EOF)return Tr()}function is(Ke,nt){var St,pt;pt=String,"string"!=typeof Ke&&!(Ke instanceof String)&&(Ke=pt(Ke)),P=w,k=0,v=(x=Ke).length>0?1:0,N=0,M=x.length,L=null,G={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},B={},typeof nt<"u"&&(B.range="boolean"==typeof nt.range&&nt.range,B.loc="boolean"==typeof nt.loc&&nt.loc,B.attachComment="boolean"==typeof nt.attachComment&&nt.attachComment,B.loc&&null!=nt.source&&(B.source=pt(nt.source)),"boolean"==typeof nt.tokens&&nt.tokens&&(B.tokens=[]),"boolean"==typeof nt.comment&&nt.comment&&(B.comments=[]),"boolean"==typeof nt.tolerant&&nt.tolerant&&(B.errors=[]),B.attachComment&&(B.range=!0,B.comments=[],B.bottomRightStack=[],B.trailingComments=[],B.leadingComments=[]));try{St=function Fo(){var Ke,nt;return Y(),ke(),nt=L,R=!1,Ke=function vi(){for(var Ke,St,bt,nt=[];k<M&&(St=L).type===O.StringLiteral&&(Ke=qs(),nt.push(Ke),Ke.expression.type===q.Literal);)"use strict"===x.slice(St.start+1,St.end-1)?(R=!0,bt&&wt(bt,y.StrictOctalLiteral)):!bt&&St.octal&&(bt=St);for(;k<M&&!(typeof(Ke=qs())>"u");)nt.push(Ke);return nt}(),P.markEnd(P.createProgram(Ke),nt)}(),typeof B.comments<"u"&&(St.comments=B.comments),typeof B.tokens<"u"&&(function tc(){var Ke,nt,St,pt=[];for(Ke=0;Ke<B.tokens.length;++Ke)St={type:(nt=B.tokens[Ke]).type,value:nt.value},B.range&&(St.range=nt.range),B.loc&&(St.loc=nt.loc),pt.push(St);B.tokens=pt}(),St.tokens=B.tokens),typeof B.errors<"u"&&(St.errors=B.errors)}catch(bt){throw bt}finally{B={}}return St}function jd(Ke,nt,St,pt){function bt(Gn){return String(Gn).match(/^[0-9]+$/)?parseInt(Gn):Number.isFinite(Gn)?parseInt(Gn,10):0}if("string"==typeof nt)throw new Error("start cannot be a string");if("string"==typeof St)throw new Error("end cannot be a string");if("string"==typeof pt)throw new Error("step cannot be a string");var Ot=Ke.length;if(0===pt)throw new Error("step cannot be zero");if(pt=pt?bt(pt):1,St=St<0?Ot+St:St,nt=bt(0===(nt=nt<0?Ot+nt:nt)?0:nt||(pt>0?0:Ot-1)),St=bt(0===St?0:St||(pt>0?Ot:-1)),nt=pt>0?Math.max(0,nt):Math.min(Ot,nt),St=pt>0?Math.min(St,Ot):Math.max(-1,St),pt>0&&St<=nt)return[];if(pt<0&&nt<=St)return[];for(var mn=[],wn=nt;wn!=St&&!(pt<0&&wn<=St||pt>0&&wn>=St);wn+=pt)mn.push(Ke[wn]);return mn}K={Data:1,Get:2,Set:4},y={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},T={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},w={name:"SyntaxTree",processComment:function(Ke){var nt,St;if(!(Ke.type===q.Program&&Ke.body.length>0)){for(B.trailingComments.length>0?B.trailingComments[0].range[0]>=Ke.range[1]?(St=B.trailingComments,B.trailingComments=[]):B.trailingComments.length=0:B.bottomRightStack.length>0&&B.bottomRightStack[B.bottomRightStack.length-1].trailingComments&&B.bottomRightStack[B.bottomRightStack.length-1].trailingComments[0].range[0]>=Ke.range[1]&&(St=B.bottomRightStack[B.bottomRightStack.length-1].trailingComments,delete B.bottomRightStack[B.bottomRightStack.length-1].trailingComments);B.bottomRightStack.length>0&&B.bottomRightStack[B.bottomRightStack.length-1].range[0]>=Ke.range[0];)nt=B.bottomRightStack.pop();nt?nt.leadingComments&&nt.leadingComments[nt.leadingComments.length-1].range[1]<=Ke.range[0]&&(Ke.leadingComments=nt.leadingComments,delete nt.leadingComments):B.leadingComments.length>0&&B.leadingComments[B.leadingComments.length-1].range[1]<=Ke.range[0]&&(Ke.leadingComments=B.leadingComments,B.leadingComments=[]),St&&(Ke.trailingComments=St),B.bottomRightStack.push(Ke)}},markEnd:function(Ke,nt){return B.range&&(Ke.range=[nt.start,k]),B.loc&&(Ke.loc=new Ne(void 0===nt.startLineNumber?nt.lineNumber:nt.startLineNumber,nt.start-(void 0===nt.startLineStart?nt.lineStart:nt.startLineStart),v,k-N),this.postProcess(Ke)),B.attachComment&&this.processComment(Ke),Ke},postProcess:function(Ke){return B.source&&(Ke.loc.source=B.source),Ke},createArrayExpression:function(Ke){return{type:q.ArrayExpression,elements:Ke}},createAssignmentExpression:function(Ke,nt,St){return{type:q.AssignmentExpression,operator:Ke,left:nt,right:St}},createBinaryExpression:function(Ke,nt,St){return{type:"||"===Ke||"&&"===Ke?q.LogicalExpression:q.BinaryExpression,operator:Ke,left:nt,right:St}},createBlockStatement:function(Ke){return{type:q.BlockStatement,body:Ke}},createBreakStatement:function(Ke){return{type:q.BreakStatement,label:Ke}},createCallExpression:function(Ke,nt){return{type:q.CallExpression,callee:Ke,arguments:nt}},createCatchClause:function(Ke,nt){return{type:q.CatchClause,param:Ke,body:nt}},createConditionalExpression:function(Ke,nt,St){return{type:q.ConditionalExpression,test:Ke,consequent:nt,alternate:St}},createContinueStatement:function(Ke){return{type:q.ContinueStatement,label:Ke}},createDebuggerStatement:function(){return{type:q.DebuggerStatement}},createDoWhileStatement:function(Ke,nt){return{type:q.DoWhileStatement,body:Ke,test:nt}},createEmptyStatement:function(){return{type:q.EmptyStatement}},createExpressionStatement:function(Ke){return{type:q.ExpressionStatement,expression:Ke}},createForStatement:function(Ke,nt,St,pt){return{type:q.ForStatement,init:Ke,test:nt,update:St,body:pt}},createForInStatement:function(Ke,nt,St){return{type:q.ForInStatement,left:Ke,right:nt,body:St,each:!1}},createFunctionDeclaration:function(Ke,nt,St,pt){return{type:q.FunctionDeclaration,id:Ke,params:nt,defaults:St,body:pt,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(Ke,nt,St,pt){return{type:q.FunctionExpression,id:Ke,params:nt,defaults:St,body:pt,rest:null,generator:!1,expression:!1}},createIdentifier:function(Ke){return{type:q.Identifier,name:Ke}},createIfStatement:function(Ke,nt,St){return{type:q.IfStatement,test:Ke,consequent:nt,alternate:St}},createLabeledStatement:function(Ke,nt){return{type:q.LabeledStatement,label:Ke,body:nt}},createLiteral:function(Ke){return{type:q.Literal,value:Ke.value,raw:x.slice(Ke.start,Ke.end)}},createMemberExpression:function(Ke,nt,St){return{type:q.MemberExpression,computed:"["===Ke,object:nt,property:St}},createNewExpression:function(Ke,nt){return{type:q.NewExpression,callee:Ke,arguments:nt}},createObjectExpression:function(Ke){return{type:q.ObjectExpression,properties:Ke}},createPostfixExpression:function(Ke,nt){return{type:q.UpdateExpression,operator:Ke,argument:nt,prefix:!1}},createProgram:function(Ke){return{type:q.Program,body:Ke}},createProperty:function(Ke,nt,St){return{type:q.Property,key:nt,value:St,kind:Ke}},createReturnStatement:function(Ke){return{type:q.ReturnStatement,argument:Ke}},createSequenceExpression:function(Ke){return{type:q.SequenceExpression,expressions:Ke}},createSwitchCase:function(Ke,nt){return{type:q.SwitchCase,test:Ke,consequent:nt}},createSwitchStatement:function(Ke,nt){return{type:q.SwitchStatement,discriminant:Ke,cases:nt}},createThisExpression:function(){return{type:q.ThisExpression}},createThrowStatement:function(Ke){return{type:q.ThrowStatement,argument:Ke}},createTryStatement:function(Ke,nt,St,pt){return{type:q.TryStatement,block:Ke,guardedHandlers:nt,handlers:St,finalizer:pt}},createUnaryExpression:function(Ke,nt){return"++"===Ke||"--"===Ke?{type:q.UpdateExpression,operator:Ke,argument:nt,prefix:!0}:{type:q.UnaryExpression,operator:Ke,argument:nt,prefix:!0}},createVariableDeclaration:function(Ke,nt){return{type:q.VariableDeclaration,declarations:Ke,kind:nt}},createVariableDeclarator:function(Ke,nt){return{type:q.VariableDeclarator,id:Ke,init:nt}},createWhileStatement:function(Ke,nt){return{type:q.WhileStatement,test:Ke,body:nt}},createWithStatement:function(Ke,nt){return{type:q.WithStatement,object:Ke,body:nt}}};var La=A(18911),No=A.n(La);function Xo(Ke){return function(nt,St,pt,bt){var Ot=nt.value,mn=nt.path,wn=[],Gn=function(mr,Ei){ni(mr)?(mr.forEach(function(Si,Fs){wn.length>=bt||pt(Fs,Si,St)&&wn.push({path:Ei.concat(Fs),value:Si})}),mr.forEach(function(Si,Fs){wn.length>=bt||Ke&&Gn(Si,Ei.concat(Fs))})):function Tc(Ke){return Ke&&!(Ke instanceof Array)&&Ke instanceof Object}(mr)&&(Object.keys(mr).forEach(function(Si){wn.length>=bt||pt(Si,mr[Si],St)&&wn.push({path:Ei.concat(Si),value:mr[Si]})}),Object.keys(mr).forEach(function(Si){wn.length>=bt||Ke&&Gn(mr[Si],Ei.concat(Si))}))}.bind(this);return Gn(Ot,mn),wn}}function Cc(Ke,nt){try{return No()(Ke,nt)}catch{}}function As(Ke){return function(nt,St,pt){return this.descend(St,nt.expression.value,Ke,pt)}}function va(Ke){return function(nt,St,pt){return this.traverse(St,nt.expression.value,Ke,pt)}}function Ac(Ke){return function Jc(Ke,nt){for(var St=[],pt=[],bt=0,Ot=Ke?.length;bt<Ot;bt++){var mn=Ke[bt],wn=nt?nt(mn,bt):mn;pt.includes(wn)||(pt.push(wn),St.push(mn))}return St}(Ke=Ke.filter(function(nt){return nt}),function(nt){return nt.path.map(function(St){return String(St).replace("-","--")}).join("-")})}function Hr(Ke){var nt=String(Ke);return nt.match(/^-?[0-9]+$/)?parseInt(nt):null}function ni(Ke){return Array.isArray(Ke)}function Zc(Ke,nt,St){var bt=Cc(is(nt).body[0].expression,{"@":Ke.value}),Ot=St.replace(/\{\{\s*value\s*\}\}/g,bt),mn=$l.nodes(Ke.value,Ot);return mn.forEach(function(wn){wn.path=Ke.path.concat(wn.path.slice(1))}),mn}var Eu=function(){function Ke(){this._fns={"member-child-identifier":function(nt,St){var pt=nt.expression.value,bt=St.value;if(bt instanceof Object&&pt in bt)return[{value:bt[pt],path:St.path.concat(pt)}]},"member-descendant-identifier":va(function(nt,St,pt){return nt==pt}),"subscript-child-numeric_literal":As(function(nt,St,pt){return nt===pt}),"member-child-numeric_literal":As(function(nt,St,pt){return String(nt)===String(pt)}),"subscript-descendant-numeric_literal":va(function(nt,St,pt){return nt===pt}),"member-child-wildcard":As(function(){return!0}),"member-descendant-wildcard":va(function(){return!0}),"subscript-descendant-wildcard":va(function(){return!0}),"subscript-child-wildcard":As(function(){return!0}),"subscript-child-slice":function(nt,St){if(ni(St.value)){var pt=nt.expression.value.split(":").map(Hr),bt=St.value.map(function(Ot,mn){return{value:Ot,path:St.path.concat(mn)}});return jd.apply(null,[bt].concat(pt))}},"subscript-child-union":function(nt,St){var pt=[];return nt.expression.value.forEach(function(bt){var Ot={operation:"subscript",scope:"child",expression:bt.expression},wn=this.resolve(Ot)(Ot,St);wn&&(pt=pt.concat(wn))},this),Ac(pt)},"subscript-descendant-union":function(nt,St,pt){var bt=this,Ot=[];return $l.nodes(St,"$..*").slice(1).forEach(function(wn){Ot.length>=pt||nt.expression.value.forEach(function(Gn){var mr={operation:"subscript",scope:"child",expression:Gn.expression},Si=bt.resolve(mr)(mr,wn);Ot=Ot.concat(Si)})}),Ac(Ot)},"subscript-child-filter_expression":function(nt,St,pt){var Ot=is(nt.expression.value.slice(2,-1)).body[0].expression;return this.descend(St,null,function(wn,Gn){return Cc(Ot,{"@":Gn})},pt)},"subscript-descendant-filter_expression":function(nt,St,pt){var Ot=is(nt.expression.value.slice(2,-1)).body[0].expression;return this.traverse(St,null,function(wn,Gn){return Cc(Ot,{"@":Gn})},pt)},"subscript-child-script_expression":function(nt,St){return Zc(St,nt.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(nt,St){return Zc(St,nt.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(nt,St){return Zc(St,nt.expression.value.slice(1,-1),"$..value")}},this.initialize()}return Ke.prototype.initialize=function(){this.traverse=Xo(!0),this.descend=Xo(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},Ke.prototype.resolve=function(nt){var St=[nt.operation,nt.scope,nt.expression.type].join("-"),pt=this._fns[St];if(!pt)throw new Error("couldn't resolve key: "+St);return pt.bind(this)},Ke.prototype.register=function(nt,St){if(!(St instanceof Function))throw new Error("handler must be a function");this._fns[nt]=St},Ke}(),nc=A(15320);function Vr(){var Ke=new nc.iX,nt=Ke.parseError;return Ke.yy.parseError=function(){Ke.yy.ast&&Ke.yy.ast.initialize(),nt.apply(Ke,arguments)},Ke}var ps=function(){function Ke(){}return Ke.ok=function(nt,St){if(!nt)throw new Error(St)},Ke.equal=function(nt,St,pt){if(nt!==St)throw new Error(pt)},Ke}(),$l=function(){function Ke(){}return Ke.parse=function(nt){return ps.ok("string"==typeof nt,"we need a path"),(new Vr).parse(nt)},Ke.parent=function(nt,St){ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path");var pt=this.nodes(nt,St)[0];return pt.path.pop(),this.value(nt,pt.path)},Ke.apply=function(nt,St,pt){ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path"),ps.equal(typeof pt,"function","fn needs to be function");var bt=this.nodes(nt,St).sort(function(Ot,mn){return mn.path.length-Ot.path.length});return bt.forEach(function(Ot){var mn=Ot.path.pop(),wn=this.value(nt,this.stringify(Ot.path)),Gn=Ot.value=pt.call(nt,wn[mn]);wn[mn]=Gn},this),bt},Ke.value=function(nt,St,pt){if(ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path"),void 0!==pt){var bt=this.nodes(nt,St).shift();if(!bt)return this._vivify(nt,St,pt);var Ot=bt.path.slice(-1).shift();this.parent(nt,this.stringify(bt.path))[Ot]=pt}return this.query(nt,this.stringify(St),1).shift()},Ke._vivify=function(nt,St,pt){var bt=this;ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path");var Ot=(new Vr).parse(St).map(function(wn){return wn.expression.value}),mn=function(wn,Gn){var mr=wn.pop(),Ei=bt.value(nt,wn);Ei||(mn(wn.concat(),"string"==typeof mr?{}:[]),Ei=bt.value(nt,wn)),Ei[mr]=Gn};return mn(Ot,pt),this.query(nt,St)[0]},Ke.query=function(nt,St,pt){return ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok("string"==typeof St,"we need a path"),this.nodes(nt,St,pt).map(function(Ot){return Ot.value})},Ke.paths=function(nt,St,pt){return ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path"),this.nodes(nt,St,pt).map(function(Ot){return Ot.path})},Ke.nodes=function(nt,St,pt){if(ps.ok(nt instanceof Object,"obj needs to be an object"),ps.ok(St,"we need a path"),0===pt)return[];var bt=(new Vr).parse(St),Ot=new Eu,mn=[{path:["$"],value:nt}],wn=[];return bt.length&&"root"==bt[0].expression.type&&bt.shift(),bt.length?(bt.forEach(function(Gn,mr){if(!(wn.length>=pt)){var Ei=Ot.resolve(Gn),Si=[];mn.forEach(function(Fs){if(!(wn.length>=pt)){var Ns=Ei(Gn,Fs,pt);mr==bt.length-1?wn=wn.concat(Ns||[]):Si=Si.concat(Ns||[])}}),mn=Si}}),pt?wn.slice(0,pt):wn):mn},Ke.stringify=function(nt){ps.ok(nt,"we need a path");var St="$",pt={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(nt=this._normalize(nt)).forEach(function(bt){if("root"!=bt.expression.type){var wn,Ot=[bt.scope,bt.operation].join("-"),mn=pt[Ot];if(wn="string_literal"==bt.expression.type?JSON.stringify(bt.expression.value):bt.expression.value,!mn)throw new Error("couldn't find template "+Ot);St+=mn.replace(/{{value}}/,wn)}}),St},Ke._normalize=function(nt){if(ps.ok(nt,"we need a path"),"string"==typeof nt)return(new Vr).parse(nt);if(Array.isArray(nt)&&"string"==typeof nt[0]){var St=[{expression:{type:"root",value:"$"}}];return nt.forEach(function(pt,bt){"$"==pt&&0===bt||("string"==typeof pt&&pt.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$")?St.push({operation:"member",scope:"child",expression:{value:pt,type:"identifier"}}):St.push({operation:"subscript",scope:"child",expression:{value:pt,type:"number"==typeof pt?"numeric_literal":"string_literal"}}))}),St}if(Array.isArray(nt)&&"object"==typeof nt[0])return nt;throw new Error("couldn't understand path "+nt)},Ke}()},15320:(ye,I)=>{var O=function(){var $=function(me,ge,de,z){for(de=de||{},z=me.length;z--;de[me[z]]=ge);return de},U=[1,5],K=[1,6],y=[1,7],T=[1,8],w=[1,9],x=[1,18],R=[1,19],k=[1,20],v=[1,12,14,22],N=[1,29],M=[1,30],P=[1,33],L=[1,35],G=[1,31],B=[1,36],q=[1,37],X=[24,28],Q={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(ge,de,z,d,f,b,C){d.ast||(d.ast=te,te.initialize());var D=b.length-1;switch(f){case 1:return d.ast.set({expression:{type:"root",value:b[D]}}),d.ast.unshift(),d.ast.yield();case 2:return d.ast.set({expression:{type:"root",value:b[D-1]}}),d.ast.unshift(),d.ast.yield();case 3:return d.ast.unshift(),d.ast.yield();case 4:return d.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:b[D-1]}}),d.ast.unshift(),d.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:d.ast.set({operation:"member"}),d.ast.push();break;case 8:d.ast.set({operation:"subscript"}),d.ast.push();break;case 9:case 19:d.ast.set({scope:"child"});break;case 10:case 20:d.ast.set({scope:"descendant"});break;case 12:d.ast.set({scope:"child",operation:"member"});break;case 14:d.ast.set({expression:{type:"wildcard",value:b[D]}});break;case 15:d.ast.set({expression:{type:"identifier",value:b[D]}});break;case 16:d.ast.set({expression:{type:"script_expression",value:b[D]}});break;case 17:d.ast.set({expression:{type:"numeric_literal",value:parseInt(b[D])}});break;case 24:b[D].length>1?d.ast.set({expression:{type:"union",value:b[D]}}):this.$=b[D];break;case 25:this.$=[b[D]];break;case 26:this.$=b[D-2].concat(b[D]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(b[D])}},d.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:b[D]}},d.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:b[D]}},d.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:b[D]}},d.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:b[D]}},d.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:b[D]}},d.ast.set(this.$);break;case 33:case 34:this.$=b[D]}},table:[{3:1,4:[1,2],6:3,13:4,15:U,16:K,17:y,18:T,19:w},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:x,14:R,20:16,21:17,22:k},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:x,14:R,20:16,21:17,22:k},$(v,[2,12]),$(v,[2,14]),$(v,[2,15]),$(v,[2,16]),$(v,[2,17]),$(v,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:x,14:R,20:16,21:17,22:k},$(v,[2,5]),$(v,[2,7]),$(v,[2,8]),$(v,[2,9]),$(v,[2,10]),$(v,[2,19]),$(v,[2,20]),{13:23,15:U,16:K,17:y,18:T,19:w},{13:24,15:U,16:K,17:y,18:T,19:w,22:[1,25]},{15:N,17:M,18:P,23:26,25:27,26:28,27:32,29:34,30:L,31:G,32:B,33:q},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:x,14:R,20:16,21:17,22:k},$(v,[2,6]),$(v,[2,11]),$(v,[2,13]),{15:N,17:M,18:P,23:38,25:27,26:28,27:32,29:34,30:L,31:G,32:B,33:q},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},$(X,[2,25]),$(X,[2,27]),$(X,[2,28]),$(X,[2,29]),$(X,[2,33]),$(X,[2,34]),{24:[1,41]},$(v,[2,21]),{18:P,27:42,29:34,30:L,32:B,33:q},$(v,[2,22]),$(X,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(ge,de){if(!de.recoverable){var z=new Error(ge);throw z.hash=de,z}this.trace(ge)},parse:function(ge){var z=[0],f=[null],b=[],C=this.table,D="",V=0,Y=0,F=0,J=b.slice.call(arguments,1),ee=Object.create(this.lexer),re={yy:{}};for(var fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,fe)&&(re.yy[fe]=this.yy[fe]);ee.setInput(ge,re.yy),re.yy.lexer=ee,re.yy.parser=this,typeof ee.yylloc>"u"&&(ee.yylloc={});var Ae=ee.yylloc;b.push(Ae);var Ye,Me=ee.options&&ee.options.ranges;this.parseError="function"==typeof re.yy.parseError?re.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Se,He,Te,u,be,Ce,ke,Ne,_e={};;){if(this.defaultActions[Te=z[z.length-1]]?u=this.defaultActions[Te]:((null===Se||typeof Se>"u")&&(Ye=void 0,"number"!=typeof(Ye=ee.lex()||1)&&(Ye=this.symbols_[Ye]||Ye),Se=Ye),u=C[Te]&&C[Te][Se]),typeof u>"u"||!u.length||!u[0]){var We;for(Ce in Ne=[],C[Te])this.terminals_[Ce]&&Ce>2&&Ne.push("'"+this.terminals_[Ce]+"'");We=ee.showPosition?"Parse error on line "+(V+1)+":\n"+ee.showPosition()+"\nExpecting "+Ne.join(", ")+", got '"+(this.terminals_[Se]||Se)+"'":"Parse error on line "+(V+1)+": Unexpected "+(1==Se?"end of input":"'"+(this.terminals_[Se]||Se)+"'"),this.parseError(We,{text:ee.match,token:this.terminals_[Se]||Se,line:ee.yylineno,loc:Ae,expected:Ne})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Te+", token: "+Se);switch(u[0]){case 1:z.push(Se),f.push(ee.yytext),b.push(ee.yylloc),z.push(u[1]),Se=null,He?(Se=He,He=null):(Y=ee.yyleng,D=ee.yytext,V=ee.yylineno,Ae=ee.yylloc,F>0&&F--);break;case 2:if(_e.$=f[f.length-(ke=this.productions_[u[1]][1])],_e._$={first_line:b[b.length-(ke||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(ke||1)].first_column,last_column:b[b.length-1].last_column},Me&&(_e._$.range=[b[b.length-(ke||1)].range[0],b[b.length-1].range[1]]),typeof(be=this.performAction.apply(_e,[D,Y,V,re.yy,u[1],f,b].concat(J)))<"u")return be;ke&&(z=z.slice(0,-1*ke*2),f=f.slice(0,-1*ke),b=b.slice(0,-1*ke)),z.push(this.productions_[u[1]][0]),f.push(_e.$),b.push(_e._$),z.push(C[z[z.length-2]][z[z.length-1]]);break;case 3:return!0}}return!0}},te={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(me){for(var ge in me)this._node[ge]=me[ge];return this._node},node:function(me){return arguments.length&&(this._node=me),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var me=this._nodes;return this.initialize(),me}};function ae(){this.yy={}}return Q.lexer=function(){return{EOF:1,parseError:function(de,z){if(!this.yy.parser)throw new Error(de);this.yy.parser.parseError(de,z)},setInput:function(ge,de){return this.yy=de||this.yy||{},this._input=ge,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ge=this._input[0];return this.yytext+=ge,this.yyleng++,this.offset++,this.match+=ge,this.matched+=ge,ge.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ge},unput:function(ge){var de=ge.length,z=ge.split(/(?:\r\n?|\n)/g);this._input=ge+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-de),this.offset-=de;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===d.length?this.yylloc.first_column:0)+d[d.length-z.length].length-z[0].length:this.yylloc.first_column-de},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-de]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ge){this.unput(this.match.slice(ge))},pastInput:function(){var ge=this.matched.substr(0,this.matched.length-this.match.length);return(ge.length>20?"...":"")+ge.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ge=this.match;return ge.length<20&&(ge+=this._input.substr(0,20-ge.length)),(ge.substr(0,20)+(ge.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ge=this.pastInput(),de=new Array(ge.length+1).join("-");return ge+this.upcomingInput()+"\n"+de+"^"},test_match:function(ge,de){var z,d,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),(d=ge[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ge[0].length},this.yytext+=ge[0],this.match+=ge[0],this.matches=ge,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ge[0].length),this.matched+=ge[0],z=this.performAction.call(this,this.yy,this,de,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var b in f)this[b]=f[b];return!1}return!1},next:function(){if(this.done)return this.EOF;var ge,de,z,d;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),b=0;b<f.length;b++)if((z=this._input.match(this.rules[f[b]]))&&(!de||z[0].length>de[0].length)){if(de=z,d=b,this.options.backtrack_lexer){if(!1!==(ge=this.test_match(z,f[b])))return ge;if(this._backtrack){de=!1;continue}return!1}if(!this.options.flex)break}return de?!1!==(ge=this.test_match(de,f[d]))&&ge:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(de){this.conditionStack.push(de)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(de){return(de=this.conditionStack.length-1-Math.abs(de||0))>=0?this.conditionStack[de]:"INITIAL"},pushState:function(de){this.begin(de)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(de,z,d,f){switch(d){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return z.yytext=z.yytext.substr(1,z.yyleng-2),32;case 11:return z.yytext=z.yytext.substr(1,z.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}(),ae.prototype=Q,Q.Parser=ae,new ae}();I.iX=O.Parser},52191:(ye,I,A)=>{var O=A(40573);const $="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,U=()=>$.now(),y=w=>w===1/0||(w=>w&&w===Math.floor(w)&&w>0&&isFinite(w))(w);class T{constructor({max:x=1/0,ttl:R,updateAgeOnGet:k=!1,checkAgeOnGet:v=!1,noUpdateTTL:N=!1,dispose:M,noDisposeOnSet:P=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==R&&!y(R))throw new TypeError("ttl must be positive integer or Infinity if set");if(!y(x))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=R,this.max=x,this.updateAgeOnGet=!!k,this.checkAgeOnGet=!!v,this.noUpdateTTL=!!N,this.noDisposeOnSet=!!P,void 0!==M){if("function"!=typeof M)throw new TypeError("dispose must be function if set");this.dispose=M}this.timer=void 0,this.timerExpiration=void 0}setTimer(x,R){if(this.timerExpiration<x)return;this.timer&&clearTimeout(this.timer);const k=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const v in this.expirations){this.setTimer(v,v-U());break}},R);k.unref&&k.unref(),this.timerExpiration=x,this.timer=k}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return O.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const x=this.dispose!==T.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[R,k]of x)this.dispose(k,R,"delete")}setTTL(x,R=this.ttl){const k=this.expirationMap.get(x);if(void 0!==k){const v=this.expirations[k];!v||v.length<=1?delete this.expirations[k]:this.expirations[k]=v.filter(N=>N!==x)}if(R!==1/0){const v=Math.floor(U()+R);this.expirationMap.set(x,v),this.expirations[v]||(this.expirations[v]=[],this.setTimer(v,R)),this.expirations[v].push(x)}else this.expirationMap.set(x,1/0)}set(x,R,{ttl:k=this.ttl,noUpdateTTL:v=this.noUpdateTTL,noDisposeOnSet:N=this.noDisposeOnSet}={}){if(!y(k))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(x)){v||this.setTTL(x,k);const M=this.data.get(x);M!==R&&(this.data.set(x,R),N||this.dispose(M,x,"set"))}else this.setTTL(x,k),this.data.set(x,R);for(;this.size>this.max;)this.purgeToCapacity();return this}has(x){return this.data.has(x)}getRemainingTTL(x){const R=this.expirationMap.get(x);return R===1/0?R:void 0!==R?Math.max(0,Math.ceil(R-U())):0}get(x,{updateAgeOnGet:R=this.updateAgeOnGet,ttl:k=this.ttl,checkAgeOnGet:v=this.checkAgeOnGet}={}){const N=this.data.get(x);if(!v||0!==this.getRemainingTTL(x))return R&&this.setTTL(x,k),N;this.delete(x)}dispose(x,R){}delete(x){const R=this.expirationMap.get(x);if(void 0!==R){const k=this.data.get(x);this.data.delete(x),this.expirationMap.delete(x);const v=this.expirations[R];return v&&(v.length<=1?delete this.expirations[R]:this.expirations[R]=v.filter(N=>N!==x)),this.dispose(k,x,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const x in this.expirations){const R=this.expirations[x];if(!(this.size-R.length>=this.max)){const k=this.size-this.max,v=[];for(const N of R.splice(0,k))v.push([N,this.data.get(N)]),this.data.delete(N),this.expirationMap.delete(N);for(const[N,M]of v)this.dispose(M,N,"evict");return}{delete this.expirations[x];const k=[];for(const v of R)k.push([v,this.data.get(v)]),this.data.delete(v),this.expirationMap.delete(v);for(const[v,N]of k)this.dispose(N,v,"evict")}}}get size(){return this.data.size}purgeStale(){const x=Math.ceil(U());for(const R in this.expirations){if("Infinity"===R||R>x)return;const k=[...this.expirations[R]||[]],v=[];delete this.expirations[R];for(const N of k)v.push([N,this.data.get(N)]),this.data.delete(N),this.expirationMap.delete(N);for(const[N,M]of v)this.dispose(M,N,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const x in this.expirations)for(const R of this.expirations[x])yield[R,this.data.get(R)]}*keys(){for(const x in this.expirations)for(const R of this.expirations[x])yield R}*values(){for(const x in this.expirations)for(const R of this.expirations[x])yield this.data.get(R)}[Symbol.iterator](){return this.entries()}}ye.exports=T},4302:(ye,I,A)=>{"use strict";var O={};A.r(O),A.d(O,{base32:()=>Bf,base32hex:()=>S2,base32hexpad:()=>IT,base32hexpadupper:()=>__,base32hexupper:()=>y0,base32pad:()=>fP,base32padupper:()=>r7,base32upper:()=>uP,base32z:()=>C2});var $={};A.r($),A.d($,{base58btc:()=>sl,base58flickr:()=>PT});var U={};A.r(U),A.d(U,{base64:()=>OT,base64pad:()=>hP,base64url:()=>Xd,base64urlpad:()=>i7});var K={};A.r(K),A.d(K,{OG:()=>Gf,My:()=>bd,Ph:()=>x0,lX:()=>Gh,Id:()=>ju,fg:()=>$y,qj:()=>Zo,aT:()=>Yp,aY:()=>zf,lq:()=>Hf,z:()=>E0,Q5:()=>S0});var y={};A.r(y),A.d(y,{DO:()=>kk,OG:()=>FU,My:()=>hS,Ph:()=>J1,lX:()=>OU,Id:()=>Ik,fg:()=>Zee,qj:()=>ap,aT:()=>pS,aY:()=>Z1,lq:()=>mS,z:()=>RU,Q5:()=>Pk});var T={};A.r(T),A.d(T,{base10:()=>Gve});var w={};A.r(w),A.d(w,{base16:()=>Wve,base16upper:()=>Kve});var x={};A.r(x),A.d(x,{base2:()=>qve});var R={};A.r(R),A.d(R,{base256emoji:()=>Qve});var k={};A.r(k),A.d(k,{base32:()=>Rk,base32hex:()=>rbe,base32hexpad:()=>sbe,base32hexpadupper:()=>obe,base32hexupper:()=>ibe,base32pad:()=>tbe,base32padupper:()=>nbe,base32upper:()=>ebe,base32z:()=>abe});var v={};A.r(v),A.d(v,{base36:()=>DR,base36upper:()=>cbe});var N={};A.r(N),A.d(N,{base58btc:()=>X0,base58flickr:()=>lbe});var M={};A.r(M),A.d(M,{base64:()=>dbe,base64pad:()=>ube,base64url:()=>fbe,base64urlpad:()=>hbe});var P={};A.r(P),A.d(P,{base8:()=>pbe});var L={};A.r(L),A.d(L,{identity:()=>mbe});var G={};A.r(G),A.d(G,{code:()=>bbe,decode:()=>wbe,encode:()=>_be,name:()=>vbe});var B={};A.r(B),A.d(B,{code:()=>Ebe,decode:()=>Cbe,encode:()=>Sbe,name:()=>xbe});var q={};A.r(q),A.d(q,{identity:()=>qbe});var X={};A.r(X),A.d(X,{sha256:()=>Ybe,sha512:()=>Zbe});var Q={};A.r(Q),A.d(Q,{Authorization:()=>f_e,AuthorizationDelegatedGrant:()=>h_e,AuthorizationOwner:()=>g_e,Definitions:()=>E_e,GeneralJwk:()=>S_e,GeneralJws:()=>C_e,GenericSignaturePayload:()=>q_e,JwkVerificationMethod:()=>A_e,MessagesFilter:()=>D_e,MessagesQuery:()=>M_e,MessagesRead:()=>k_e,MessagesSubscribe:()=>I_e,NumberRangeFilter:()=>P_e,PaginationCursor:()=>O_e,PermissionGrantData:()=>R_e,PermissionRequestData:()=>F_e,PermissionRevocationData:()=>N_e,PermissionsDefinitions:()=>B_e,PermissionsScopes:()=>L_e,ProtocolDefinition:()=>j_e,ProtocolRuleSet:()=>U_e,ProtocolsConfigure:()=>z_e,ProtocolsQuery:()=>H_e,PublicJwk:()=>K_e,RecordsDelete:()=>y_e,RecordsFilter:()=>W_e,RecordsQuery:()=>v_e,RecordsRead:()=>G_e,RecordsSubscribe:()=>b_e,RecordsWrite:()=>__e,RecordsWriteDataEncoded:()=>w_e,RecordsWriteSignaturePayload:()=>X_e,RecordsWriteUnidentified:()=>x_e,StringRangeFilter:()=>Y_e});var te={};A.r(te),A.d(te,{code:()=>qR,decode:()=>dne,encode:()=>oxe,name:()=>sxe});var ie={};A.r(ie),A.d(ie,{code:()=>Ez,createLink:()=>kxe,createNode:()=>Mxe,decode:()=>Xk,encode:()=>jv,name:()=>Pxe,prepare:()=>Lv,validate:()=>Cne});var ae={};A.r(ae),A.d(ae,{base10:()=>qxe});var me={};A.r(me),A.d(me,{base16:()=>Xxe,base16upper:()=>Yxe});var ge={};A.r(ge),A.d(ge,{base2:()=>Zxe});var de={};A.r(de),A.d(de,{base256emoji:()=>n2e});var z={};A.r(z),A.d(z,{base36:()=>r2e,base36upper:()=>i2e});var d={};A.r(d),A.d(d,{base8:()=>s2e});var f={};A.r(f),A.d(f,{identity:()=>o2e});var b={};A.r(b),A.d(b,{code:()=>d2e,decode:()=>f2e,encode:()=>u2e,name:()=>l2e});var C={};A.r(C),A.d(C,{code:()=>p2e,decode:()=>g2e,encode:()=>m2e,name:()=>h2e});var D={};A.r(D),A.d(D,{identity:()=>b2e});var V={};A.r(V),A.d(V,{sha256:()=>_2e,sha512:()=>w2e});var Y={};A.r(Y),A.d(Y,{code:()=>Nz,decode:()=>$2e,encode:()=>j2e,name:()=>L2e});var F={};A.r(F),A.d(F,{base10:()=>qEe});var h={};A.r(h),A.d(h,{base16:()=>XEe,base16upper:()=>YEe});var g={};A.r(g),A.d(g,{base2:()=>ZEe});var J={};A.r(J),A.d(J,{base256emoji:()=>nSe});var ee={};A.r(ee),A.d(ee,{base32:()=>s3,base32hex:()=>oSe,base32hexpad:()=>cSe,base32hexpadupper:()=>lSe,base32hexupper:()=>aSe,base32pad:()=>iSe,base32padupper:()=>sSe,base32upper:()=>rSe,base32z:()=>dSe});var re={};A.r(re),A.d(re,{base36:()=>uSe,base36upper:()=>fSe});var fe={};A.r(fe),A.d(fe,{base58btc:()=>Q0,base58flickr:()=>hSe});var Ae={};A.r(Ae),A.d(Ae,{base64:()=>pSe,base64pad:()=>mSe,base64url:()=>gSe,base64urlpad:()=>ySe});var Me={};A.r(Me),A.d(Me,{base8:()=>vSe});var Le={};A.r(Le),A.d(Le,{identity:()=>bSe});var Ee={};A.r(Ee),A.d(Ee,{code:()=>ESe,decode:()=>CSe,encode:()=>SSe,name:()=>xSe});var Se={};A.r(Se),A.d(Se,{code:()=>TSe,decode:()=>MSe,encode:()=>DSe,name:()=>ASe});var He={};A.r(He),A.d(He,{identity:()=>ZSe});var Te={};A.r(Te),A.d(Te,{sha256:()=>QSe,sha512:()=>eCe});var u=A(54438);let xe=null;function be(){return xe}class Ce{}const ze=new u.nKC("");let Ne=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(Ye),providedIn:"platform"})}}return n})();const We=new u.nKC("");let Ye=(()=>{class n extends Ne{constructor(){super(),this._doc=(0,u.WQX)(ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return be().getBaseHref(this._doc)}onPopState(t){const i=be().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=be().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wt(n,r){if(0==n.length)return r;if(0==r.length)return n;let t=0;return n.endsWith("/")&&t++,r.startsWith("/")&&t++,2==t?n+r.substring(1):1==t?n+r:n+"/"+r}function mt(n){const r=n.match(/#|\?|$/),t=r&&r.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Ut=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(W),providedIn:"root"})}}return n})();const se=new u.nKC("");let W=(()=>{class n extends Ut{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wt(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,o){const a=this.prepareExternalUrl(s+rt(o));this._platformLocation.pushState(t,i,a)}replaceState(t,i,s,o){const a=this.prepareExternalUrl(s+rt(o));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Ne),u.KVO(se,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z=(()=>{class n extends Ut{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=wt(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,o){let a=this.prepareExternalUrl(s+rt(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,s,o){let a=this.prepareExternalUrl(s+rt(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Ne),u.KVO(se,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})(),he=(()=>{class n{constructor(t){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function at(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(mt(Ze(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+rt(i))}normalize(t){return n.stripTrailingSlash(function Xe(n,r){if(!n||!r.startsWith(n))return r;const t=r.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:r}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}static{this.normalizeQueryParams=rt}static{this.joinWithSlash=wt}static{this.stripTrailingSlash=mt}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Ut))}}static{this.\u0275prov=u.jDH({token:n,factory:()=>function De(){return new he((0,u.KVO)(Ut))}(),providedIn:"root"})}}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}function Qc(n,r){r=encodeURIComponent(r);for(const t of n.split(";")){const i=t.indexOf("="),[s,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===r)return decodeURIComponent(o)}return null}const Bs=/\s+/,Ym=[];let Jn=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Ym,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Bs):Ym}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Bs):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Bs).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class ba{constructor(r,t,i,s){this.$implicit=r,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ba(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),el(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{el(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function el(n,r){n.context.$implicit=r.item}let Bo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Mc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ls("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ls("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.c1b),u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Mc{constructor(){this.$implicit=null,this.ngIf=null}}function Ls(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.Tbb)(r)}'.`)}let Ul=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,s),get:(t,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.c1b))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.OA$]})}}return n})(),gs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();const Lo="browser";function fo(n){return n===Lo}function Cu(n){return"server"===n}let ja=(()=>{class n{static{this.\u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>fo((0,u.WQX)(u.Agw))?new Ic((0,u.WQX)(ze),window):new Pp})}}return n})();class Ic{constructor(r,t){this.document=r,this.window=t,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){const t=function Mh(n,r){const t=n.getElementById(r)||n.getElementsByName(r)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const a=o.getElementById(r)||o.querySelector(`[name="${r}"]`);if(a)return a}s=i.nextNode()}}return null}(this.document,r);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){const t=r.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}}class Pp{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}}class Ug{}class t0 extends Ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yg extends t0{static makeCurrent(){!function _e(n){xe??=n}(new Yg)}onAndCancel(r,t,i){return r.addEventListener(t,i),()=>{r.removeEventListener(t,i)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.remove()}createElement(r,t){return(t=t||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return"window"===t?window:"document"===t?r:"body"===t?r.body:null}getBaseHref(r){const t=function Bb(){return il=il||document.querySelector("base"),il?il.getAttribute("href"):null}();return null==t?null:function C8(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){il=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Qc(document.cookie,r)}}let il=null,lA=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const wx=new u.nKC("");let A8=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(wx),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();class xx{constructor(r){this._doc=r}}const T8="ng-app-id";let AL=(()=>{class n{constructor(t,i,s,o={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cu(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${T8}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){const s=this.styleRef;if(s.has(t)){const o=s.get(t);return o.usage+=i,o.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===t)return s.delete(i),o.removeAttribute(T8),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(T8,this.appId),t.appendChild(a),a}}addStyleToHost(t,i){const s=this.getStyleElement(t,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const D8={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},M8=/%COMP%/g,NX=new u.nKC("",{providedIn:"root",factory:()=>!0});function DL(n,r){return r.map(t=>t.replace(M8,n))}let Lb=(()=>{class n{constructor(t,i,s,o,a,c,_,E=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=_,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=Cu(c),this.defaultRenderer=new Ex(t,a,_,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.gXe.ShadowDom&&(i={...i,encapsulation:u.gXe.Emulated});const s=this.getOrCreateRenderer(t,i);return s instanceof uA?s.applyToHost(t):s instanceof dA&&s.applyStyles(),s}getOrCreateRenderer(t,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,_=this.eventManager,E=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,j=this.platformIsServer;switch(i.encapsulation){case u.gXe.Emulated:o=new uA(_,E,i,this.appId,m,a,c,j);break;case u.gXe.ShadowDom:return new $X(_,E,t,i,a,c,this.nonce,j);default:o=new dA(_,E,i,m,a,c,j)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(A8),u.KVO(AL),u.KVO(u.sZ2),u.KVO(NX),u.KVO(ze),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();class Ex{constructor(r,t,i,s){this.eventManager=r,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,t){return t?this.doc.createElementNS(D8[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(ML(r)?r.content:r).appendChild(t)}insertBefore(r,t,i){r&&(ML(r)?r.content:r).insertBefore(t,i)}removeChild(r,t){t.remove()}selectRootElement(r,t){let i="string"==typeof r?this.doc.querySelector(r):r;if(!i)throw new u.wOt(-5104,!1);return t||(i.textContent=""),i}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,i,s){if(s){t=s+":"+t;const o=D8[s];o?r.setAttributeNS(o,t,i):r.setAttribute(t,i)}else r.setAttribute(t,i)}removeAttribute(r,t,i){if(i){const s=D8[i];s?r.removeAttributeNS(s,t):r.removeAttribute(`${i}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,i,s){s&(u.czy.DashCase|u.czy.Important)?r.style.setProperty(t,i,s&u.czy.Important?"important":""):r.style[t]=i}removeStyle(r,t,i){i&u.czy.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,i){null!=r&&(r[t]=i)}setValue(r,t){r.nodeValue=t}listen(r,t,i){if("string"==typeof r&&!(r=be().getGlobalEventTarget(this.doc,r)))throw new Error(`Unsupported event target ${r} for event ${t}`);return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(i))}decoratePreventDefault(r){return t=>{if("__ngUnwrap__"===t)return r;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))&&t.preventDefault()}}}function ML(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $X extends Ex{constructor(r,t,i,s,o,a,c,_){super(r,o,a,_),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=DL(s.id,s.styles);for(const m of E){const j=document.createElement("style");c&&j.setAttribute("nonce",c),j.textContent=m,this.shadowRoot.appendChild(j)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,i){return super.insertBefore(this.nodeOrShadowRoot(r),t,i)}removeChild(r,t){return super.removeChild(null,t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dA extends Ex{constructor(r,t,i,s,o,a,c,_){super(r,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=_?DL(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class uA extends dA{constructor(r,t,i,s,o,a,c,_){const E=s+"-"+i.id;super(r,t,i,o,a,c,_,E),this.contentAttr=function BX(n){return"_ngcontent-%COMP%".replace(M8,n)}(E),this.hostAttr=function LX(n){return"_nghost-%COMP%".replace(M8,n)}(E)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){const i=super.createElement(r,t);return super.setAttribute(i,this.contentAttr,""),i}}let fA=(()=>{class n extends xx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const hA=["alt","control","meta","shift"],kL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let k8=(()=>{class n extends xx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>be().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),hA.forEach(E=>{const m=i.indexOf(E);m>-1&&(i.splice(m,1),a+=E+".")}),a+=o,0!=i.length||0===o.length)return null;const _={};return _.domEventName=s,_.fullKey=a,_}static matchEventFullKeyCode(t,i){let s=kL[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(s=t.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),hA.forEach(a=>{a!==s&&(0,IL[a])(t)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(t,i,s){return o=>{n.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const pA=(0,u.oH4)(u.fpN,"browser",[{provide:u.Agw,useValue:Lo},{provide:u.PLl,useValue:function Mf(){Yg.makeCurrent()},multi:!0},{provide:ze,useFactory:function P8(){return(0,u.TL$)(document),document},deps:[]}]),jb=new u.nKC(""),Oc=[{provide:u.e01,useClass:class CL{addToWindow(r){u.JZv.getAngularTestability=(i,s=!0)=>{const o=r.findTestabilityInTree(i,s);if(null==o)throw new u.wOt(5103,!1);return o},u.JZv.getAllAngularTestabilities=()=>r.getAllTestabilities(),u.JZv.getAllAngularRootElements=()=>r.getAllRootElements(),u.JZv.frameworkStabilizers||(u.JZv.frameworkStabilizers=[]),u.JZv.frameworkStabilizers.push(i=>{const s=u.JZv.getAllAngularTestabilities();let o=s.length;const a=function(){o--,0==o&&i()};s.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(r,t,i){return null==t?null:r.getTestability(t)??(i?be().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}},deps:[]},{provide:u.WHO,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]},{provide:u.NYb,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]}],O8=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function I8(){return new u.zcH},deps:[]},{provide:wx,useClass:fA,multi:!0,deps:[ze,u.SKi,u.Agw]},{provide:wx,useClass:k8,multi:!0,deps:[ze]},Lb,AL,A8,{provide:u._9s,useExisting:Lb},{provide:Ug,useClass:lA,deps:[]},[]];let Zg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(jb,12))}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:[...O8,...Oc],imports:[gs,u.Hbi]})}}return n})(),OL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$b=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:function(i){let s=null;return s=i?new(i||n):u.KVO(F8),s},providedIn:"root"})}}return n})(),F8=(()=>{class n extends $b{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.WPN.NONE:return i;case u.WPN.HTML:return(0,u.ZF7)(i,"HTML")?(0,u.rcV)(i):(0,u.h9k)(this._doc,String(i)).toString();case u.WPN.STYLE:return(0,u.ZF7)(i,"Style")?(0,u.rcV)(i):i;case u.WPN.SCRIPT:if((0,u.ZF7)(i,"Script"))return(0,u.rcV)(i);throw new u.wOt(5200,!1);case u.WPN.URL:return(0,u.ZF7)(i,"URL")?(0,u.rcV)(i):(0,u.$MX)(String(i));case u.WPN.RESOURCE_URL:if((0,u.ZF7)(i,"ResourceURL"))return(0,u.rcV)(i);throw new u.wOt(5201,!1);default:throw new u.wOt(5202,!1)}}bypassSecurityTrustHtml(t){return(0,u.Kcf)(t)}bypassSecurityTrustStyle(t){return(0,u.cWb)(t)}bypassSecurityTrustScript(t){return(0,u.UyX)(t)}bypassSecurityTrustUrl(t){return(0,u.osQ)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.e5t)(t)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vs=A(71985),$o=A(98071);function Np(n){return this instanceof Np?(this.v=n,this):new Np(n)}function V8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n=function ic(n){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&n[r],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const xa=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bp(n){return(0,$o.T)(n?.then)}var js=A(3494);function MA(n){return(0,$o.T)(n[js.s])}function K8(n){return Symbol.asyncIterator&&(0,$o.T)(n?.[Symbol.asyncIterator])}function kA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IA=function VL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function PA(n){return(0,$o.T)(n?.[IA])}function ty(n){return function SA(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function a(le){return function(ue){return Promise.resolve(ue).then(le,j)}}),s[Symbol.asyncIterator]=function(){return this},s;function c(le,ue){i[le]&&(s[le]=function(pe){return new Promise(function(we,Oe){o.push([le,pe,we,Oe])>1||_(le,pe)})},ue&&(s[le]=ue(s[le])))}function _(le,ue){try{!function E(le){le.value instanceof Np?Promise.resolve(le.value.v).then(m,j):oe(o[0][2],le)}(i[le](ue))}catch(pe){oe(o[0][3],pe)}}function m(le){_("next",le)}function j(le){_("throw",le)}function oe(le,ue){le(ue),o.shift(),o.length&&_(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield Np(t.read());if(s)return yield Np(void 0);yield yield Np(i)}}finally{t.releaseLock()}})}function Iu(n){return(0,$o.T)(n?.getReader)}var UL=A(45334);function Do(n){if(n instanceof vs.c)return n;if(null!=n){if(MA(n))return function kx(n){return new vs.c(r=>{const t=n[js.s]();if((0,$o.T)(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(xa(n))return function Ix(n){return new vs.c(r=>{for(let t=0;t<n.length&&!r.closed;t++)r.next(n[t]);r.complete()})}(n);if(Bp(n))return function OA(n){return new vs.c(r=>{n.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,UL.m)})}(n);if(K8(n))return RA(n);if(PA(n))return function q8(n){return new vs.c(r=>{for(const t of n)if(r.next(t),r.closed)return;r.complete()})}(n);if(Iu(n))return function zL(n){return RA(ty(n))}(n)}throw kA(n)}function RA(n){return new vs.c(r=>{(function ny(n,r){var t,i,s,o;return function LL(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){try{for(t=V8(n);!(i=yield t.next()).done;)if(r.next(i.value),r.closed)return}catch(a){s={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}r.complete()})})(n,r).catch(t=>r.error(t))})}function md(n,r,t,i=0,s=!1){const o=r.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!s)return o}var Mo=A(39974),Ds=A(54360);function FA(n,r=0){return(0,Mo.N)((t,i)=>{t.subscribe((0,Ds._)(i,s=>md(i,n,()=>i.next(s),r),()=>md(i,n,()=>i.complete(),r),s=>md(i,n,()=>i.error(s),r)))})}function X8(n,r=0){return(0,Mo.N)((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),r))})}function Px(n,r){if(!n)throw new Error("Iterable cannot be null");return new vs.c(t=>{md(t,r,()=>{const i=n[Symbol.asyncIterator]();md(t,r,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function ho(n,r){return r?function NA(n,r){if(null!=n){if(MA(n))return function HL(n,r){return Do(n).pipe(X8(r),FA(r))}(n,r);if(xa(n))return function YX(n,r){return new vs.c(t=>{let i=0;return r.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,r);if(Bp(n))return function GL(n,r){return Do(n).pipe(X8(r),FA(r))}(n,r);if(K8(n))return Px(n,r);if(PA(n))return function ZX(n,r){return new vs.c(t=>{let i;return md(t,r,()=>{i=n[IA](),md(t,r,()=>{let s,o;try{({value:s,done:o}=i.next())}catch(a){return void t.error(a)}o?t.complete():t.next(s)},0,!0)}),()=>(0,$o.T)(i?.return)&&i.return()})}(n,r);if(Iu(n))return function n0(n,r){return Px(ty(n),r)}(n,r)}throw kA(n)}(n,r):Do(n)}function Y8(n){return n&&(0,$o.T)(n.schedule)}function r0(n){return n[n.length-1]}function Ox(n){return(0,$o.T)(r0(n))?n.pop():void 0}function s0(n){return Y8(r0(n))?n.pop():void 0}function Ar(...n){return ho(n,s0(n))}var gd=A(84412);const{isArray:Z8}=Array,{getPrototypeOf:WL,prototype:If,keys:KL}=Object;function zb(n){if(1===n.length){const r=n[0];if(Z8(r))return{args:r,keys:null};if(function BA(n){return n&&"object"==typeof n&&WL(n)===If}(r)){const t=KL(r);return{args:t.map(i=>r[i]),keys:t}}}return{args:n,keys:null}}var Oh=A(33669),ei=A(96354);const{isArray:LA}=Array;function Fx(n){return(0,ei.T)(r=>function qL(n,r){return LA(r)?n(...r):n(r)}(n,r))}function jA(n,r){return n.reduce((t,i,s)=>(t[i]=r[s],t),{})}function Hb(...n){const r=s0(n),t=Ox(n),{args:i,keys:s}=zb(n);if(0===i.length)return ho([],r);const o=new vs.c(function J8(n,r,t=Oh.D){return i=>{Q8(r,()=>{const{length:s}=n,o=new Array(s);let a=s,c=s;for(let _=0;_<s;_++)Q8(r,()=>{const E=ho(n[_],r);let m=!1;E.subscribe((0,Ds._)(i,j=>{o[_]=j,m||(m=!0,c--),c||i.next(t(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,r,s?a=>jA(s,a):Oh.D));return t?o.pipe(Fx(t)):o}function Q8(n,r,t){n?md(t,n,r):r()}const Pf=(0,A(81853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ea(n,r,t=1/0){return(0,$o.T)(r)?Ea((i,s)=>(0,ei.T)((o,a)=>r(i,o,s,a))(Do(n(i,s))),t):("number"==typeof r&&(t=r),(0,Mo.N)((i,s)=>function XL(n,r,t,i,s,o,a,c){const _=[];let E=0,m=0,j=!1;const oe=()=>{j&&!_.length&&!E&&r.complete()},le=pe=>E<i?ue(pe):_.push(pe),ue=pe=>{o&&r.next(pe),E++;let we=!1;Do(t(pe,m++)).subscribe((0,Ds._)(r,Oe=>{s?.(Oe),o?le(Oe):r.next(Oe)},()=>{we=!0},void 0,()=>{if(we)try{for(E--;_.length&&E<i;){const Oe=_.shift();a?md(r,a,()=>ue(Oe)):ue(Oe)}oe()}catch(Oe){r.error(Oe)}}))};return n.subscribe((0,Ds._)(r,le,()=>{j=!0,oe()})),()=>{c?.()}}(i,s,n,t)))}function o0(n=1/0){return Ea(Oh.D,n)}function Pu(...n){return function ry(){return o0(1)}()(ho(n,s0(n)))}function la(n){return new vs.c(r=>{Do(n()).subscribe(r)})}var YL=A(71203);function iy(n,r){const t=(0,$o.T)(n)?n:()=>n,i=s=>s.error(t());return new vs.c(r?s=>r.schedule(i,0,s):i)}const sc=new vs.c(n=>n.complete());var da=A(18359);function $A(){return(0,Mo.N)((n,r)=>{let t=null;n._refCount++;const i=(0,Ds._)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,o=t;t=null,s&&(!o||s===o)&&s.unsubscribe(),r.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class VA extends vs.c{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mo.S)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new da.yU;const t=this.getSubject();r.add(this.source.subscribe((0,Ds._)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),r.closed&&(this._connection=null,r=da.yU.EMPTY)}return r}refCount(){return $A()(this)}}var Ir=A(21413);function Rc(n,r){return(0,Mo.N)((t,i)=>{let s=null,o=0,a=!1;const c=()=>a&&!s&&i.complete();t.subscribe((0,Ds._)(i,_=>{s?.unsubscribe();let E=0;const m=o++;Do(n(_,m)).subscribe(s=(0,Ds._)(i,j=>i.next(r?r(_,j,m,E++):j),()=>{s=null,c()}))},()=>{a=!0,c()}))})}function oc(n){return n<=0?()=>sc:(0,Mo.N)((r,t)=>{let i=0;r.subscribe((0,Ds._)(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function sy(...n){const r=s0(n);return(0,Mo.N)((t,i)=>{(r?Pu(n,t,r):Pu(n,t)).subscribe(i)})}function ro(n,r){return(0,Mo.N)((t,i)=>{let s=0;t.subscribe((0,Ds._)(i,o=>n.call(r,o,s++)&&i.next(o)))})}function Bx(n){return(0,Mo.N)((r,t)=>{let i=!1;r.subscribe((0,Ds._)(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function UA(n=ZL){return(0,Mo.N)((r,t)=>{let i=!1;r.subscribe((0,Ds._)(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function ZL(){return new Pf}function Lp(n,r){const t=arguments.length>=2;return i=>i.pipe(n?ro((s,o)=>n(s,o,i)):Oh.D,oc(1),t?Bx(r):UA(()=>new Pf))}function oy(n,r){return(0,$o.T)(r)?Ea(n,r,1):Ea(n,1)}function Yo(n,r,t){const i=(0,$o.T)(n)||r||t?{next:n,error:r,complete:t}:n;return i?(0,Mo.N)((s,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let c=!0;s.subscribe((0,Ds._)(o,_=>{var E;null===(E=i.next)||void 0===E||E.call(i,_),o.next(_)},()=>{var _;c=!1,null===(_=i.complete)||void 0===_||_.call(i),o.complete()},_=>{var E;c=!1,null===(E=i.error)||void 0===E||E.call(i,_),o.error(_)},()=>{var _,E;c&&(null===(_=i.unsubscribe)||void 0===_||_.call(i)),null===(E=i.finalize)||void 0===E||E.call(i)}))}):Oh.D}function ay(n){return(0,Mo.N)((r,t)=>{let o,i=null,s=!1;i=r.subscribe((0,Ds._)(t,void 0,void 0,a=>{o=Do(n(a,ay(n)(r))),i?(i.unsubscribe(),i=null,o.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ua(n){return n<=0?()=>sc:(0,Mo.N)((r,t)=>{let i=[];r.subscribe((0,Ds._)(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function Gb(n){return(0,Mo.N)((r,t)=>{try{r.subscribe(t)}finally{t.add(n)}})}var Lx=A(85343);function Ni(n){return(0,Mo.N)((r,t)=>{Do(n).subscribe((0,Ds._)(t,()=>t.complete(),Lx.l)),!t.closed&&r.subscribe(t)})}const Ci="primary",cy=Symbol("RouteTitle");class ly{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){const t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dy(n){return new ly(n)}function JL(n,r,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(r.hasChildren()||i.length<n.length))return null;const s={};for(let o=0;o<i.length;o++){const a=i[o],c=n[o];if(":"===a[0])s[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Rh(n,r){const t=n?zA(n):void 0,i=r?zA(r):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let o=0;o<t.length;o++)if(s=t[o],!Ou(n[s],r[s]))return!1;return!0}function zA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ou(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const t=[...n].sort(),i=[...r].sort();return t.every((s,o)=>i[o]===s)}return n===r}function Wb(n){return n.length>0?n[n.length-1]:null}function Fh(n){return function Tn(n){return!!n&&(n instanceof vs.c||(0,$o.T)(n.lift)&&(0,$o.T)(n.subscribe))}(n)?n:(0,u.jNT)(n)?ho(Promise.resolve(n)):Ar(n)}const i6={exact:function s6(n,r,t){if(!Nh(n.segments,r.segments)||!Ux(n.segments,r.segments,t)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const i in r.children)if(!n.children[i]||!s6(n.children[i],r.children[i],t))return!1;return!0},subset:o6},QL={exact:function $x(n,r){return Rh(n,r)},subset:function po(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(t=>Ou(n[t],r[t]))},ignored:()=>!0};function jx(n,r,t){return i6[t.paths](n.root,r.root,t.matrixParams)&&QL[t.queryParams](n.queryParams,r.queryParams)&&!("exact"===t.fragment&&n.fragment!==r.fragment)}function o6(n,r,t){return Vx(n,r,r.segments,t)}function Vx(n,r,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Nh(s,t)||r.hasChildren()||!Ux(s,t,i))}if(n.segments.length===t.length){if(!Nh(n.segments,t)||!Ux(n.segments,t,i))return!1;for(const s in r.children)if(!n.children[s]||!o6(n.children[s],r.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Nh(n.segments,s)&&Ux(n.segments,s,i)&&n.children[Ci])&&Vx(n.children[Ci],r,o,i)}}function Ux(n,r,t){return r.every((i,s)=>QL[t](n[s].parameters,i.parameters))}class c0{constructor(r=new bs([],{}),t={},i=null){this.root=r,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=dy(this.queryParams),this._queryParamMap}toString(){return t9.serialize(this)}}class bs{constructor(r,t){this.segments=r,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}}class uy{constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=dy(this.parameters),this._parameterMap}toString(){return l6(this)}}function Nh(n,r){return n.length===r.length&&n.every((t,i)=>t.path===r[i].path)}let fy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>new Kb,providedIn:"root"})}}return n})();class Kb{parse(r){const t=new Jb(r);return new c0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){const t=`/${qb(r.root,!0)}`,i=function Xb(n){const r=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${GA(t)}=${GA(s)}`).join("&"):`${GA(t)}=${GA(i)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${t}${i}${"string"==typeof r.fragment?`#${function eY(n){return encodeURI(n)}(r.fragment)}`:""}`}}const t9=new Kb;function Gd(n){return n.segments.map(r=>l6(r)).join("/")}function qb(n,r){if(!n.hasChildren())return Gd(n);if(r){const t=n.children[Ci]?qb(n.children[Ci],!1):"",i=[];return Object.entries(n.children).forEach(([s,o])=>{s!==Ci&&i.push(`${s}:${qb(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function e9(n,r){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===Ci&&(t=t.concat(r(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==Ci&&(t=t.concat(r(s,i)))}),t}(n,(i,s)=>s===Ci?[qb(n.children[Ci],!1)]:[`${s}:${qb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ci]?`${Gd(n)}/${t[0]}`:`${Gd(n)}/(${t.join("//")})`}}function HA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function GA(n){return HA(n).replace(/%3B/gi,";")}function c6(n){return HA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function WA(n){return decodeURIComponent(n)}function n9(n){return WA(n.replace(/\+/g,"%20"))}function l6(n){return`${c6(n.path)}${function hy(n){return Object.entries(n).map(([r,t])=>`;${c6(r)}=${c6(t)}`).join("")}(n.parameters)}`}const d6=/^[^\/()?;#]+/;function KA(n){const r=n.match(d6);return r?r[0]:""}const zx=/^[^\/()?;=#]+/,r9=/^[^=?&#]+/,u6=/^[^&#]+/;class Jb{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bs([],{}):new bs([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(i[Ci]=new bs(r,t)),i}parseSegment(){const r=KA(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(r),new uy(WA(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const t=function Yb(n){const r=n.match(zx);return r?r[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=KA(this.remaining);s&&(i=s,this.capture(i))}r[WA(t)]=WA(i)}parseQueryParam(r){const t=function qA(n){const r=n.match(r9);return r?r[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function Zb(n){const r=n.match(u6);return r?r[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=n9(t),o=n9(i);if(r.hasOwnProperty(s)){let a=r[s];Array.isArray(a)||(a=[a],r[s]=a),a.push(o)}else r[s]=o}parseParens(r){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=KA(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new u.wOt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=Ci);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[Ci]:new bs([],a),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new u.wOt(4011,!1)}}function XA(n){return n.segments.length>0?new bs([],{[Ci]:n}):n}function Hx(n){const r={};for(const[i,s]of Object.entries(n.children)){const o=Hx(s);if(i===Ci&&0===o.segments.length&&o.hasChildren())for(const[a,c]of Object.entries(o.children))r[a]=c;else(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function i9(n){if(1===n.numberOfChildren&&n.children[Ci]){const r=n.children[Ci];return new bs(n.segments.concat(r.segments),r.children)}return n}(new bs(n.segments,r))}function l0(n){return n instanceof c0}function YA(n){let r;const s=XA(function t(o){const a={};for(const _ of o.children){const E=t(_);a[_.outlet]=E}const c=new bs(o.url,a);return o===n&&(r=c),c}(n.root));return r??s}function Gx(n,r,t,i){let s=n;for(;s.parent;)s=s.parent;if(0===r.length)return Qb(s,s,s,t,i);const o=function tY(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new e_(!0,0,n);let r=0,t=!1;const i=n.reduce((s,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([_,E])=>{c[_]="string"==typeof E?E.split("/"):E}),[...s,{outlets:c}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===a?(o.split("/").forEach((c,_)=>{0==_&&"."===c||(0==_&&""===c?t=!0:".."===c?r++:""!=c&&s.push(c))}),s):[...s,o]},[]);return new e_(t,r,i)}(r);if(o.toRoot())return Qb(s,s,new bs([],{}),t,i);const a=function Fc(n,r,t){if(n.isAbsolute)return new JA(r,!0,0);if(!t)return new JA(r,!1,NaN);if(null===t.parent)return new JA(t,!0,0);const i=Wx(n.commands[0])?0:1;return function py(n,r,t){let i=n,s=r,o=t;for(;o>s;){if(o-=s,i=i.parent,!i)throw new u.wOt(4005,!1);s=i.segments.length}return new JA(i,!1,s-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,s,n),c=a.processChildren?t_(a.segmentGroup,a.index,o.commands):QA(a.segmentGroup,a.index,o.commands);return Qb(s,a.segmentGroup,c,t,i)}function Wx(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function za(n){return"object"==typeof n&&null!=n&&n.outlets}function Qb(n,r,t,i,s){let a,o={};i&&Object.entries(i).forEach(([_,E])=>{o[_]=Array.isArray(E)?E.map(m=>`${m}`):`${E}`}),a=n===r?t:ZA(n,r,t);const c=XA(Hx(a));return new c0(c,o,s)}function ZA(n,r,t){const i={};return Object.entries(n.children).forEach(([s,o])=>{i[s]=o===r?t:ZA(o,r,t)}),new bs(n.segments,i)}class e_{constructor(r,t,i){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=i,r&&i.length>0&&Wx(i[0]))throw new u.wOt(4003,!1);const s=i.find(za);if(s&&s!==Wb(i))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JA{constructor(r,t,i){this.segmentGroup=r,this.processChildren=t,this.index=i}}function QA(n,r,t){if(n??=new bs([],{}),0===n.segments.length&&n.hasChildren())return t_(n,r,t);const i=function h6(n,r,t){let i=0,s=r;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return o;const a=n.segments[s],c=t[i];if(za(c))break;const _=`${c}`,E=i<t.length-1?t[i+1]:null;if(s>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!tT(_,E,a))return o;i+=2}else{if(!tT(_,{},a))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,r,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new bs(n.segments.slice(0,i.pathIndex),{});return o.children[Ci]=new bs(n.segments.slice(i.pathIndex),n.children),t_(o,0,s)}return i.match&&0===s.length?new bs(n.segments,{}):i.match&&!n.hasChildren()?eT(n,r,t):i.match?t_(n,0,s):eT(n,r,t)}function t_(n,r,t){if(0===t.length)return new bs(n.segments,{});{const i=function f6(n){return za(n[0])?n[0].outlets:{[Ci]:n}}(t),s={};if(Object.keys(i).some(o=>o!==Ci)&&n.children[Ci]&&1===n.numberOfChildren&&0===n.children[Ci].segments.length){const o=t_(n.children[Ci],r,t);return new bs(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(s[o]=QA(n.children[o],r,a))}),Object.entries(n.children).forEach(([o,a])=>{void 0===i[o]&&(s[o]=a)}),new bs(n.segments,s)}}function eT(n,r,t){const i=n.segments.slice(0,r);let s=0;for(;s<t.length;){const o=t[s];if(za(o)){const _=p6(o.outlets);return new bs(i,_)}if(0===s&&Wx(t[0])){i.push(new uy(n.segments[r].path,m6(t[0]))),s++;continue}const a=za(o)?o.outlets[Ci]:`${o}`,c=s<t.length-1?t[s+1]:null;a&&c&&Wx(c)?(i.push(new uy(a,m6(c))),s+=2):(i.push(new uy(a,{})),s++)}return new bs(i,{})}function p6(n){const r={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(r[t]=eT(new bs([],{}),0,i))}),r}function m6(n){const r={};return Object.entries(n).forEach(([t,i])=>r[t]=`${i}`),r}function tT(n,r,t){return n==t.path&&Rh(r,t.parameters)}const n_="imperative";var Zi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Zi||{});class Of{constructor(r,t){this.id=r,this.url=t}}class Kx extends Of{constructor(r,t,i="imperative",s=null){super(r,t),this.type=Zi.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rf extends Of{constructor(r,t,i){super(r,t),this.urlAfterRedirects=i,this.type=Zi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Hl=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Hl||{}),r_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(r_||{});class Ff extends Of{constructor(r,t,i,s){super(r,t),this.reason=i,this.code=s,this.type=Zi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class d0 extends Of{constructor(r,t,i,s){super(r,t),this.reason=i,this.code=s,this.type=Zi.NavigationSkipped}}class qx extends Of{constructor(r,t,i,s){super(r,t),this.error=i,this.target=s,this.type=Zi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nT extends Of{constructor(r,t,i,s){super(r,t),this.urlAfterRedirects=i,this.state=s,this.type=Zi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g6 extends Of{constructor(r,t,i,s){super(r,t),this.urlAfterRedirects=i,this.state=s,this.type=Zi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o9 extends Of{constructor(r,t,i,s,o){super(r,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o,this.type=Zi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class a9 extends Of{constructor(r,t,i,s){super(r,t),this.urlAfterRedirects=i,this.state=s,this.type=Zi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c9 extends Of{constructor(r,t,i,s){super(r,t),this.urlAfterRedirects=i,this.state=s,this.type=Zi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l9{constructor(r){this.route=r,this.type=Zi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class y6{constructor(r){this.route=r,this.type=Zi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nY{constructor(r){this.snapshot=r,this.type=Zi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v6{constructor(r){this.snapshot=r,this.type=Zi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d9{constructor(r){this.snapshot=r,this.type=Zi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u9{constructor(r){this.snapshot=r,this.type=Zi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f9{constructor(r,t,i){this.routerEvent=r,this.position=t,this.anchor=i,this.type=Zi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rT{}class i_{constructor(r,t){this.url=r,this.navigationBehaviorOptions=t}}function Ru(n){return n.outlet||Ci}function Yx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){const t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class iY{get injector(){return Yx(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new jp(this.rootInjector),this.attachRef=null}}let jp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){const s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new iY(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(u.uvJ))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class _6{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){const t=s_(r,this._root);return t?t.children.map(i=>i.value):[]}firstChild(r){const t=s_(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){const t=o_(r,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==r)}pathFromRoot(r){return o_(r,this._root).map(t=>t.value)}}function s_(n,r){if(n===r.value)return r;for(const t of r.children){const i=s_(n,t);if(i)return i}return null}function o_(n,r){if(n===r.value)return[r];for(const t of r.children){const i=o_(n,t);if(i.length)return i.unshift(r),i}return[]}class Nc{constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bh(n){const r={};return n&&n.children.forEach(t=>r[t.value.outlet]=t),r}class Zx extends _6{constructor(r,t){super(r),this.snapshot=t,a_(this,r)}toString(){return this.snapshot.toString()}}function my(n){const r=function Jx(n){const o=new f0([],{},{},"",{},Ci,n,null,{});return new yy("",new Nc(o,[]))}(n),t=new gd.t([new uy("",{})]),i=new gd.t({}),s=new gd.t({}),o=new gd.t({}),a=new gd.t(""),c=new Fu(t,i,o,a,s,Ci,n,r.root);return c.snapshot=r.root,new Zx(new Nc(c,[]),r)}class Fu{constructor(r,t,i,s,o,a,c,_){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,ei.T)(E=>E[cy]))??Ar(void 0),this.url=r,this.params=t,this.queryParams=i,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ei.T)(r=>dy(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ei.T)(r=>dy(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gy(n,r,t="emptyOnly"){let i;const{routeConfig:s}=n;return i=null===r||"always"!==t&&""!==s?.path&&(r.component||r.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...r.params,...n.params},data:{...r.data,...n.data},resolve:{...n.data,...r.data,...s?.data,...n._resolvedData}},s&&w6(s)&&(i.resolve[cy]=s.title),i}class f0{get title(){return this.data?.[cy]}constructor(r,t,i,s,o,a,c,_,E){this.url=r,this.params=t,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=c,this.routeConfig=_,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=dy(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=dy(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yy extends _6{constructor(r,t){super(t),this.url=r,a_(this,t)}toString(){return v9(this._root)}}function a_(n,r){r.value._routerState=n,r.children.forEach(t=>a_(n,t))}function v9(n){const r=n.children.length>0?` { ${n.children.map(v9).join(", ")} } `:"";return`${n.value}${r}`}function c_(n){if(n.snapshot){const r=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rh(r.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rh(r.params,t.params)||n.paramsSubject.next(t.params),function a0(n,r){if(n.length!==r.length)return!1;for(let t=0;t<n.length;++t)if(!Rh(n[t],r[t]))return!1;return!0}(r.url,t.url)||n.urlSubject.next(t.url),Rh(r.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function h0(n,r){const t=Rh(n.params,r.params)&&function a6(n,r){return Nh(n,r)&&n.every((t,i)=>Rh(t.parameters,r[i].parameters))}(n.url,r.url);return t&&!(!n.parent!=!r.parent)&&(!n.parent||h0(n.parent,r.parent))}function w6(n){return"string"==typeof n.title||null===n.title}let l_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ci,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(jp),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.inputBinder=(0,u.WQX)(Qx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=t;const s=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,_=new sT(t,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:_,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}}return n})();class sT{__ngOutletInjector(r){return new sT(this.route,this.childContexts,r)}constructor(r,t,i){this.route=r,this.childContexts=t,this.parent=i}get(r,t){return r===Fu?this.route:r===jp?this.childContexts:this.parent.get(r,t)}}const Qx=new u.nKC("");let e2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,s=Hb([i.queryParams,i.params,i.data]).pipe(Rc(([o,a,c],_)=>(c={...o,...a,...c},0===_?Ar(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const a=(0,u.HJs)(i.component);if(a)for(const{templateName:c}of a.inputs)t.activatedComponentRef.setInput(c,o[c]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();function d_(n,r,t){if(t&&n.shouldReuseRoute(r.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=r.value;const s=function b9(n,r,t){return r.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return d_(n,i,s);return d_(n,i)})}(n,r,t);return new Nc(i,s)}{if(n.shouldAttach(r.value)){const o=n.retrieve(r.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=r.value,a.children=r.children.map(c=>d_(n,c)),a}}const i=function u_(n){return new Fu(new gd.t(n.url),new gd.t(n.params),new gd.t(n.queryParams),new gd.t(n.fragment),new gd.t(n.data),n.outlet,n.component,n)}(r.value),s=r.children.map(o=>d_(n,o));return new Nc(i,s)}}class t2{constructor(r,t){this.redirectTo=r,this.navigationBehaviorOptions=t}}const n2="ngNavigationCancelingError";function r2(n,r){const{redirectTo:t,navigationBehaviorOptions:i}=l0(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,s=_9(!1,Hl.Redirect);return s.url=t,s.navigationBehaviorOptions=i,s}function _9(n,r){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[n2]=!0,t.cancellationCode=r,t}function vy(n){return!!n&&n[n2]}class oT{constructor(r,t,i,s,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=o}activate(r){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,r),c_(this.futureState.root),this.activateChildRoutes(t,i,r)}deactivateChildRoutes(r,t,i){const s=Bh(t);r.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,s[a],i),delete s[a]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(r,t,i){const s=r.value,o=t?t.value:null;if(s===o)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(r,t,a.children)}else this.deactivateChildRoutes(r,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){const i=t.getContext(r.value.outlet),s=i&&r.value.component?i.children:t,o=Bh(r);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,s);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:a,route:r,contexts:c})}}deactivateRouteAndOutlet(r,t){const i=t.getContext(r.value.outlet),s=i&&r.value.component?i.children:t,o=Bh(r);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(r,t,i){const s=Bh(t);r.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new u9(o.value.snapshot))}),r.children.length&&this.forwardEvent(new v6(r.value.snapshot))}activateRoutes(r,t,i){const s=r.value,o=t?t.value:null;if(c_(s),s===o)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(r,t,a.children)}else this.activateChildRoutes(r,t,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),c_(c.route.value),this.activateChildRoutes(r,null,a.children)}else a.attachRef=null,a.route=s,a.outlet&&a.outlet.activateWith(s,a.injector),this.activateChildRoutes(r,null,a.children)}else this.activateChildRoutes(r,null,i)}}class aT{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class o2{constructor(r,t){this.component=r,this.route=t}}function E6(n,r,t){const i=n._root;return Nu(i,r?r._root:null,t,[i.value])}function p0(n,r){const t=Symbol(),i=r.get(n,t);return i===t?"function"!=typeof n||(0,u.LfX)(n)?r.get(n):n:i}function Nu(n,r,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bh(r);return n.children.forEach(a=>{(function S6(n,r,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=r?r.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const _=function a2(n,r,t){if("function"==typeof t)return t(n,r);switch(t){case"pathParamsChange":return!Nh(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Nh(n.url,r.url)||!Rh(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h0(n,r)||!Rh(n.queryParams,r.queryParams);default:return!h0(n,r)}}(a,o,o.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new aT(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Nu(n,r,o.component?c?c.children:null:t,i,s),_&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new o2(c.outlet.component,a))}else a&&by(r,c,s),s.canActivateChecks.push(new aT(i)),Nu(n,null,o.component?c?c.children:null:t,i,s)})(a,o[a.value.outlet],t,i.concat([a.value]),s),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>by(c,t.getContext(a),s)),s}function by(n,r,t){const i=Bh(n),s=n.value;Object.entries(i).forEach(([o,a])=>{by(a,s.component?r?r.children.getContext(o):null:r,t)}),t.canDeactivateChecks.push(new o2(s.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,s))}function _y(n){return"function"==typeof n}function T6(n){return n instanceof Pf||"EmptyError"===n?.name}const l2=Symbol("INITIAL_VALUE");function f_(){return Rc(n=>Hb(n.map(r=>r.pipe(oc(1),sy(l2)))).pipe((0,ei.T)(r=>{for(const t of r)if(!0!==t){if(t===l2)return l2;if(!1===t||d2(t))return t}return!0}),ro(r=>r!==l2),oc(1)))}function d2(n){return l0(n)||n instanceof t2}function I6(n){return(0,YL.F)(Yo(r=>{if("boolean"!=typeof r)throw r2(0,r)}),(0,ei.T)(r=>!0===r))}class $p{constructor(r){this.segmentGroup=r||null}}class u2 extends Error{constructor(r){super(),this.urlTree=r}}function xy(n){return iy(new $p(n))}class T9{constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Ar(i);if(s.numberOfChildren>1||!s.children[Ci])return iy(new u.wOt(4e3,!1));s=s.children[Ci]}}applyRedirectCommands(r,t,i,s,o){if("string"!=typeof t){const c=t,{queryParams:_,fragment:E,routeConfig:m,url:j,outlet:oe,params:le,data:ue,title:pe}=s,we=(0,u.N4e)(o,()=>c({params:le,data:ue,queryParams:_,fragment:E,routeConfig:m,url:j,outlet:oe,title:pe}));if(we instanceof c0)throw new u2(we);t=we}const a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),r,i);if("/"===t[0])throw new u2(a);return a}applyRedirectCreateUrlTree(r,t,i,s){const o=this.createSegmentGroup(r,t.root,i,s);return new c0(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){const i={};return Object.entries(r).forEach(([s,o])=>{if("string"==typeof o&&":"===o[0]){const c=o.substring(1);i[s]=t[c]}else i[s]=o}),i}createSegmentGroup(r,t,i,s){const o=this.createSegments(r,t.segments,i,s);let a={};return Object.entries(t.children).forEach(([c,_])=>{a[c]=this.createSegmentGroup(r,_,i,s)}),new bs(o,a)}createSegments(r,t,i,s){return t.map(o=>":"===o.path[0]?this.findPosParam(r,o,s):this.findOrReturn(o,i))}findPosParam(r,t,i){const s=i[t.path.substring(1)];if(!s)throw new u.wOt(4001,!1);return s}findOrReturn(r,t){let i=0;for(const s of t){if(s.path===r.path)return t.splice(i),s;i++}return r}}const f2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D9(n,r,t,i,s){const o=P6(n,r,t);return o.matched?(i=function h9(n,r){return n.providers&&!n._injector&&(n._injector=(0,u.Ol2)(n.providers,r,`Route: ${n.path}`)),n._injector??r}(r,i),function Lh(n,r,t,i){const s=r.canMatch;return s&&0!==s.length?Ar(s.map(a=>{const c=p0(a,n);return Fh(function wy(n){return n&&_y(n.canMatch)}(c)?c.canMatch(r,t):(0,u.N4e)(n,()=>c(r,t)))})).pipe(f_(),I6()):Ar(!0)}(i,r,t).pipe((0,ei.T)(a=>!0===a?o:{...f2}))):Ar(o)}function P6(n,r,t){if("**"===r.path)return function M9(n){return{matched:!0,parameters:n.length>0?Wb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||t.length>0)?{...f2}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(r.matcher||JL)(t,n,r);if(!s)return{...f2};const o={};Object.entries(s.posParams??{}).forEach(([c,_])=>{o[c]=_.path});const a=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:s.posParams??{}}}function O6(n,r,t,i){return t.length>0&&function h_(n,r,t){return t.some(i=>p_(n,r,i)&&Ru(i)!==Ci)}(n,t,i)?{segmentGroup:new bs(r,jh(i,new bs(t,n.children))),slicedSegments:[]}:0===t.length&&function R6(n,r,t){return t.some(i=>p_(n,r,i))}(n,t,i)?{segmentGroup:new bs(n.segments,h2(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new bs(n.segments,n.children),slicedSegments:t}}function h2(n,r,t,i){const s={};for(const o of t)if(p_(n,r,o)&&!i[Ru(o)]){const a=new bs([],{});s[Ru(o)]=a}return{...i,...s}}function jh(n,r){const t={};t[Ci]=r;for(const i of n)if(""===i.path&&Ru(i)!==Ci){const s=new bs([],{});t[Ru(i)]=s}return t}function p_(n,r,t){return(!(n.hasChildren()||r.length>0)||"full"!==t.pathMatch)&&""===t.path}class cY{}class fT{constructor(r,t,i,s,o,a,c){this.injector=r,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new T9(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new u.wOt(4002,`'${r.segmentGroup}'`)}recognize(){const r=O6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe((0,ei.T)(({children:t,rootSnapshot:i})=>{const s=new Nc(i,t),o=new yy("",s),a=function s9(n,r,t=null,i=null){return Gx(YA(n),r,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(r){const t=new f0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ci,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,Ci,t).pipe((0,ei.T)(i=>({children:i,rootSnapshot:t})),ay(i=>{if(i instanceof u2)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $p?this.noMatchError(i):i}))}processSegmentGroup(r,t,i,s,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,t,i,o):this.processSegment(r,t,i,i.segments,s,!0,o).pipe((0,ei.T)(a=>a instanceof Nc?[a]:[]))}processChildren(r,t,i,s){const o=[];for(const a of Object.keys(i.children))"primary"===a?o.unshift(a):o.push(a);return ho(o).pipe(oy(a=>{const c=i.children[a],_=function y9(n,r){const t=n.filter(i=>Ru(i)===r);return t.push(...n.filter(i=>Ru(i)!==r)),t}(t,a);return this.processSegmentGroup(r,_,c,a,s)}),function n6(n,r){return(0,Mo.N)(function t6(n,r,t,i,s){return(o,a)=>{let c=t,_=r,E=0;o.subscribe((0,Ds._)(a,m=>{const j=E++;_=c?n(_,m,j):(c=!0,m),i&&a.next(_)},s&&(()=>{c&&a.next(_),a.complete()})))}}(n,r,arguments.length>=2,!0))}((a,c)=>(a.push(...c),a)),Bx(null),function QX(n,r){const t=arguments.length>=2;return i=>i.pipe(n?ro((s,o)=>n(s,o,i)):Oh.D,Ua(1),t?Bx(r):UA(()=>new Pf))}(),Ea(a=>{if(null===a)return xy(i);const c=k9(a);return function hT(n){n.sort((r,t)=>r.value.outlet===Ci?-1:t.value.outlet===Ci?1:r.value.outlet.localeCompare(t.value.outlet))}(c),Ar(c)}))}processSegment(r,t,i,s,o,a,c){return ho(t).pipe(oy(_=>this.processSegmentAgainstRoute(_._injector??r,t,_,i,s,o,a,c).pipe(ay(E=>{if(E instanceof $p)return Ar(null);throw E}))),Lp(_=>!!_),ay(_=>{if(T6(_))return function F6(n,r,t){return 0===r.length&&!n.children[t]}(i,s,o)?Ar(new cY):xy(i);throw _}))}processSegmentAgainstRoute(r,t,i,s,o,a,c,_){return Ru(i)===a||a!==Ci&&p_(s,o,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(r,s,i,o,a,_):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(r,s,t,i,o,a,_):xy(s):xy(s)}expandSegmentAgainstRouteUsingRedirect(r,t,i,s,o,a,c){const{matched:_,parameters:E,consumedSegments:m,positionalParamSegments:j,remainingSegments:oe}=P6(t,s,o);if(!_)return xy(t);"string"==typeof s.redirectTo&&"/"===s.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const le=new f0(o,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N6(s),Ru(s),s.component??s._loadedComponent??null,s,B6(s)),ue=gy(le,c,this.paramsInheritanceStrategy);le.params=Object.freeze(ue.params),le.data=Object.freeze(ue.data);const pe=this.applyRedirects.applyRedirectCommands(m,s.redirectTo,j,le,r);return this.applyRedirects.lineralizeSegments(s,pe).pipe(Ea(we=>this.processSegment(r,i,t,we.concat(oe),a,!1,c)))}matchSegmentAgainstRoute(r,t,i,s,o,a){const c=D9(t,i,s,r);return"**"===i.path&&(t.children={}),c.pipe(Rc(_=>_.matched?this.getChildConfig(r=i._injector??r,i,s).pipe(Rc(({routes:E})=>{const m=i._loadedInjector??r,{parameters:j,consumedSegments:oe,remainingSegments:le}=_,ue=new f0(oe,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N6(i),Ru(i),i.component??i._loadedComponent??null,i,B6(i)),pe=gy(ue,a,this.paramsInheritanceStrategy);ue.params=Object.freeze(pe.params),ue.data=Object.freeze(pe.data);const{segmentGroup:we,slicedSegments:Oe}=O6(t,oe,le,E);if(0===Oe.length&&we.hasChildren())return this.processChildren(m,E,we,ue).pipe((0,ei.T)(Ie=>new Nc(ue,Ie)));if(0===E.length&&0===Oe.length)return Ar(new Nc(ue,[]));const Pe=Ru(i)===o;return this.processSegment(m,E,we,Oe,Pe?Ci:o,!0,ue).pipe((0,ei.T)(Ie=>new Nc(ue,Ie instanceof Nc?[Ie]:[])))})):xy(t)))}getChildConfig(r,t,i){return t.children?Ar({routes:t.children,injector:r}):t.loadChildren?void 0!==t._loadedRoutes?Ar({routes:t._loadedRoutes,injector:t._loadedInjector}):function S9(n,r,t,i){const s=r.canLoad;return void 0===s||0===s.length?Ar(!0):Ar(s.map(a=>{const c=p0(a,n);return Fh(function lT(n){return n&&_y(n.canLoad)}(c)?c.canLoad(r,t):(0,u.N4e)(n,()=>c(r,t)))})).pipe(f_(),I6())}(r,t,i).pipe(Ea(s=>s?this.configLoader.loadChildren(r,t).pipe(Yo(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function A9(){return iy(_9(!1,Hl.GuardRejected))}())):Ar({routes:[],injector:r})}}function uY(n){const r=n.value.routeConfig;return r&&""===r.path}function k9(n){const r=[],t=new Set;for(const i of n){if(!uY(i)){r.push(i);continue}const s=r.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):r.push(i)}for(const i of t){const s=k9(i.children);r.push(new Nc(i.value,s))}return r.filter(i=>!t.has(i))}function N6(n){return n.data||{}}function B6(n){return n.resolve||{}}function O9(n,r){return Ea(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return Ar(t);const o=new Set(s.map(_=>_.route)),a=new Set;for(const _ of o)if(!a.has(_))for(const E of L6(_))a.add(E);let c=0;return ho(a).pipe(oy(_=>o.has(_)?function j6(n,r,t,i){const s=n.routeConfig,o=n._resolve;return void 0!==s?.title&&!w6(s)&&(o[cy]=s.title),function $6(n,r,t,i){const s=zA(n);if(0===s.length)return Ar({});const o={};return ho(s).pipe(Ea(a=>function R9(n,r,t,i){const s=Yx(r)??i,o=p0(n,s);return Fh(o.resolve?o.resolve(r,t):(0,u.N4e)(s,()=>o(r,t)))}(n[a],r,t,i).pipe(Lp(),Yo(c=>{if(c instanceof t2)throw r2(new Kb,c);o[a]=c}))),Ua(1),function r6(n){return(0,ei.T)(()=>n)}(o),ay(a=>T6(a)?sc:iy(a)))}(o,n,r,i).pipe((0,ei.T)(a=>(n._resolvedData=a,n.data=gy(n,n.parent,t).resolve,null)))}(_,i,n,r):(_.data=gy(_,_.parent,n).resolve,Ar(void 0))),Yo(()=>c++),Ua(1),Ea(_=>c===a.size?Ar(t):sc))})}function L6(n){const r=n.children.map(t=>L6(t)).flat();return[n,...r]}function pT(n){return Rc(r=>{const t=n(r);return t?ho(t).pipe((0,ei.T)(()=>r)):Ar(r)})}let mT=(()=>{class n{buildTitle(t){let i,s=t.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ci);return i}getResolvedTitleForRoute(t){return t.data[cy]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(p2),providedIn:"root"})}}return n})(),p2=(()=>{class n extends mT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(OL))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const g0=new u.nKC("",{providedIn:"root",factory:()=>({})});let m2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(i,s){1&i&&u.nrm(0,"router-outlet")},dependencies:[l_],encapsulation:2})}}return n})();function gT(n){const r=n.children&&n.children.map(gT),t=r?{...n,children:r}:{...n};return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==Ci&&(t.component=m2),t}const Wd=new u.nKC("");let g2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ar(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Fh(t.loadComponent()).pipe((0,ei.T)(yT),Yo(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Gb(()=>{this.componentLoaders.delete(t)})),s=new VA(i,()=>new Ir.B).pipe($A());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ar({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function F9(n,r,t,i){return Fh(n.loadChildren()).pipe((0,ei.T)(yT),Ea(s=>s instanceof u.Co$||Array.isArray(s)?Ar(s):ho(r.compileModuleAsync(s))),(0,ei.T)(s=>{i&&i(n);let o,a,c=!1;return Array.isArray(s)?(a=s,!0):(o=s.create(t).injector,a=o.get(Wd,[],{optional:!0,self:!0}).flat()),{routes:a.map(gT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Gb(()=>{this.childrenLoaders.delete(i)})),a=new VA(o,()=>new Ir.B).pipe($A());return this.childrenLoaders.set(i,a),a}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yT(n){return function V6(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let vT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(N9),providedIn:"root"})}}return n})(),N9=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const U6=new u.nKC(""),z6=new u.nKC("");function H6(n,r,t){const i=n.get(z6),s=n.get(ze);return n.get(u.SKi).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(E=>setTimeout(E));let o;const a=new Promise(E=>{o=E}),c=s.startViewTransition(()=>(o(),function fY(n){return new Promise(r=>{(0,u.mal)({read:()=>setTimeout(r)},{injector:n})})}(n))),{onViewTransitionCreated:_}=i;return _&&(0,u.N4e)(n,()=>_({transition:c,from:r,to:t})),a})}const B9=new u.nKC("");let Vp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ir.B,this.transitionAbortSubject=new Ir.B,this.configLoader=(0,u.WQX)(g2),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(fy),this.rootContexts=(0,u.WQX)(jp),this.location=(0,u.WQX)(he),this.inputBindingEnabled=null!==(0,u.WQX)(Qx,{optional:!0}),this.titleStrategy=(0,u.WQX)(mT),this.options=(0,u.WQX)(g0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.WQX)(vT),this.createViewTransition=(0,u.WQX)(U6,{optional:!0}),this.navigationErrorHandler=(0,u.WQX)(B9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ar(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new y6(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new l9(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,s){return this.transitions=new gd.t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:n_,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ro(o=>0!==o.id),(0,ei.T)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rc(o=>{let a=!1,c=!1;return Ar(o).pipe(Rc(_=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Hl.SupersededByNewNavigation),sc;this.currentTransition=o,this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,targetBrowserUrl:"string"==typeof _.extras.browserUrl?this.urlSerializer.parse(_.extras.browserUrl):_.extras.browserUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const E=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!E&&"reload"!==(_.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const j="";return this.events.next(new d0(_.id,this.urlSerializer.serialize(_.rawUrl),j,r_.IgnoredSameUrlNavigation)),_.resolve(!1),sc}if(this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Ar(_).pipe(Rc(j=>{const oe=this.transitions?.getValue();return this.events.next(new Kx(j.id,this.urlSerializer.serialize(j.extractedUrl),j.source,j.restoredState)),oe!==this.transitions?.getValue()?sc:Promise.resolve(j)}),function P9(n,r,t,i,s,o){return Ea(a=>function lY(n,r,t,i,s,o,a="emptyOnly"){return new fT(n,r,t,i,s,a,o).recognize()}(n,r,t,i,a.extractedUrl,s,o).pipe((0,ei.T)(({state:c,tree:_})=>({...a,targetSnapshot:c,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yo(j=>{o.targetSnapshot=j.targetSnapshot,o.urlAfterRedirects=j.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:j.urlAfterRedirects};const oe=new nT(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(oe)}));if(E&&this.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:j,extractedUrl:oe,source:le,restoredState:ue,extras:pe}=_,we=new Kx(j,this.urlSerializer.serialize(oe),le,ue);this.events.next(we);const Oe=my(this.rootComponentType).snapshot;return this.currentTransition=o={..._,targetSnapshot:Oe,urlAfterRedirects:oe,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=oe,Ar(o)}{const j="";return this.events.next(new d0(_.id,this.urlSerializer.serialize(_.extractedUrl),j,r_.IgnoredByUrlHandlingStrategy)),_.resolve(!1),sc}}),Yo(_=>{const E=new g6(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}),(0,ei.T)(_=>(this.currentTransition=o={..._,guards:E6(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},o)),function uT(n,r){return Ea(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?Ar({...t,guardsResult:!0}):function D6(n,r,t,i){return ho(n).pipe(Ea(s=>function E9(n,r,t,i,s){const o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;return o&&0!==o.length?Ar(o.map(c=>{const _=Yx(r)??s,E=p0(c,_);return Fh(function dT(n){return n&&_y(n.canDeactivate)}(E)?E.canDeactivate(n,r,t,i):(0,u.N4e)(_,()=>E(n,r,t,i))).pipe(Lp())})).pipe(f_()):Ar(!0)}(s.component,s.route,t,r,i)),Lp(s=>!0!==s,!0))}(a,i,s,n).pipe(Ea(c=>c&&function C6(n){return"boolean"==typeof n}(c)?function M6(n,r,t,i){return ho(r).pipe(oy(s=>Pu(function m0(n,r){return null!==n&&r&&r(new nY(n)),Ar(!0)}(s.route.parent,i),function k6(n,r){return null!==n&&r&&r(new d9(n)),Ar(!0)}(s.route,i),function x9(n,r,t){const i=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(a=>function cT(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(a)).filter(a=>null!==a).map(a=>la(()=>Ar(a.guards.map(_=>{const E=Yx(a.node)??t,m=p0(_,E);return Fh(function c2(n){return n&&_y(n.canActivateChild)}(m)?m.canActivateChild(i,n):(0,u.N4e)(E,()=>m(i,n))).pipe(Lp())})).pipe(f_())));return Ar(o).pipe(f_())}(n,s.path,t),function w9(n,r,t){const i=r.routeConfig?r.routeConfig.canActivate:null;if(!i||0===i.length)return Ar(!0);const s=i.map(o=>la(()=>{const a=Yx(r)??t,c=p0(o,a);return Fh(function A6(n){return n&&_y(n.canActivate)}(c)?c.canActivate(r,n):(0,u.N4e)(a,()=>c(r,n))).pipe(Lp())}));return Ar(s).pipe(f_())}(n,s.route,t))),Lp(s=>!0!==s,!0))}(i,o,n,r):Ar(c)),(0,ei.T)(c=>({...t,guardsResult:c})))})}(this.environmentInjector,_=>this.events.next(_)),Yo(_=>{if(o.guardsResult=_.guardsResult,_.guardsResult&&"boolean"!=typeof _.guardsResult)throw r2(0,_.guardsResult);const E=new o9(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(E)}),ro(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",Hl.GuardRejected),!1)),pT(_=>{if(_.guards.canActivateChecks.length)return Ar(_).pipe(Yo(E=>{const m=new a9(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(m)}),Rc(E=>{let m=!1;return Ar(E).pipe(O9(this.paramsInheritanceStrategy,this.environmentInjector),Yo({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(E,"",Hl.NoDataFromResolver)}}))}),Yo(E=>{const m=new c9(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(m)}))}),pT(_=>{const E=m=>{const j=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&j.push(this.configLoader.loadComponent(m.routeConfig).pipe(Yo(oe=>{m.component=oe}),(0,ei.T)(()=>{})));for(const oe of m.children)j.push(...E(oe));return j};return Hb(E(_.targetSnapshot.root)).pipe(Bx(null),oc(1))}),pT(()=>this.afterPreactivation()),Rc(()=>{const{currentSnapshot:_,targetSnapshot:E}=o,m=this.createViewTransition?.(this.environmentInjector,_.root,E.root);return m?ho(m).pipe((0,ei.T)(()=>o)):Ar(o)}),(0,ei.T)(_=>{const E=function x6(n,r,t){const i=d_(n,r._root,t?t._root:void 0);return new Zx(i,r)}(t.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=o={..._,targetRouterState:E},this.currentNavigation.targetRouterState=E,o}),Yo(()=>{this.events.next(new rT)}),((n,r,t,i)=>(0,ei.T)(s=>(new oT(r,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),oc(1),Yo({next:_=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rf(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),this.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{a=!0}}),Ni(this.transitionAbortSubject.pipe(Yo(_=>{throw _}))),Gb(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Hl.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ay(_=>{if(c=!0,vy(_))this.events.next(new Ff(o.id,this.urlSerializer.serialize(o.extractedUrl),_.message,_.cancellationCode)),function sY(n){return vy(n)&&l0(n.url)}(_)?this.events.next(new i_(_.url,_.navigationBehaviorOptions)):o.resolve(!1);else{const E=new qx(o.id,this.urlSerializer.serialize(o.extractedUrl),_,o.targetSnapshot??void 0);try{const m=(0,u.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(E));if(m instanceof t2){const{message:j,cancellationCode:oe}=r2(0,m);this.events.next(new Ff(o.id,this.urlSerializer.serialize(o.extractedUrl),j,oe)),this.events.next(new i_(m.redirectTo,m.navigationBehaviorOptions))}else{this.events.next(E);const j=t.errorHandler(_);o.resolve(!!j)}}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return sc}))}))}cancelNavigationTransition(t,i,s){const o=new Ff(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function L9(n){return n!==n_}let j9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(G6),providedIn:"root"})}}return n})();class $9{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}}let G6=(()=>{class n extends $9{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=u.xGo(n)))(s||n)}})()}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:()=>(0,u.WQX)(V9),providedIn:"root"})}}return n})(),V9=(()=>{class n extends W6{constructor(){super(...arguments),this.location=(0,u.WQX)(he),this.urlSerializer=(0,u.WQX)(fy),this.options=(0,u.WQX)(g0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.WQX)(vT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new c0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=my(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Kx)this.stateMemento=this.createStateMemento();else if(t instanceof d0)this.rawUrlTree=i.initialUrl;else if(t instanceof nT){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof rT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Ff&&(t.code===Hl.GuardRejected||t.code===Hl.NoDataFromResolver)?this.restoreHistory(i):t instanceof qx?this.restoreHistory(i,!0):t instanceof Rf&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const s=t instanceof c0?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=u.xGo(n)))(s||n)}})()}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var m_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(m_||{});function K6(n,r){n.events.pipe(ro(t=>t instanceof Rf||t instanceof Ff||t instanceof qx||t instanceof d0),(0,ei.T)(t=>t instanceof Rf||t instanceof d0?m_.COMPLETE:t instanceof Ff&&(t.code===Hl.Redirect||t.code===Hl.SupersededByNewNavigation)?m_.REDIRECTING:m_.FAILED),ro(t=>t!==m_.REDIRECTING),oc(1)).subscribe(()=>{r()})}function U9(n){throw n}const z9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,u.WQX)(u.H3F),this.stateManager=(0,u.WQX)(W6),this.options=(0,u.WQX)(g0,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.WQX)(Vp),this.urlSerializer=(0,u.WQX)(fy),this.location=(0,u.WQX)(he),this.urlHandlingStrategy=(0,u.WQX)(vT),this._events=new Ir.B,this.errorHandler=this.options.errorHandler||U9,this.navigated=!1,this.routeReuseStrategy=(0,u.WQX)(j9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,u.WQX)(Wd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,u.WQX)(Qx,{optional:!0}),this.eventsSubscription=new da.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==s&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Ff&&i.code!==Hl.Redirect&&i.code!==Hl.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rf)this.navigated=!0;else if(i instanceof i_){const a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),_={browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||"eager"===this.urlUpdateStrategy||L9(s.source),...a};this.scheduleNavigation(c,n_,null,_,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function _T(n){return!(n instanceof rT||n instanceof i_)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),n_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const c=this.parseUrl(t);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:_}=i,E=_?this.currentUrlTree.fragment:a;let j,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m={...this.currentUrlTree.queryParams,...o};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}null!==m&&(m=this.removeEmptyProps(m));try{j=YA(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),j=this.currentUrlTree.root}return Gx(j,t,m,E??null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=l0(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,n_,null,i)}navigate(t,i={skipLocationChange:!1}){return function hY(n){for(let r=0;r<n.length;r++)if(null==n[r])throw new u.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(s=!0===i?{...z9}:!1===i?{...bT}:i,l0(t))return jx(this.currentUrlTree,t,s);const o=this.parseUrl(t);return jx(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,o])=>(null!=o&&(i[s]=o),i),{})}scheduleNavigation(t,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,_,E;a?(c=a.resolve,_=a.reject,E=a.promise):E=new Promise((j,oe)=>{c=j,_=oe});const m=this.pendingTasks.add();return K6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(j=>Promise.reject(j))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wT=(()=>{class n{constructor(t,i,s,o,a,c){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new Ir.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const _=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof Rf&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=l0(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,s,o,a){const c=this.urlTree;return!!(null===c||this.isAnchorElement&&(0!==t||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(c,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const i=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,t,i):s.removeAttribute(o,t)}get urlTree(){return null===this.routerLinkInput?null:l0(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Kd),u.rXU(Fu),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ut))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){1&i&&u.bIt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&i&&u.BMQ("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",u.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",u.L39],replaceUrl:[2,"replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}}return n})();class H9{}let y2=(()=>{class n{constructor(t,i,s,o,a){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ro(t=>t instanceof Rf),oy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,u.Ol2)(o.providers,t,`Route: ${o.path}`));const a=o._injector??t,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ho(s).pipe(o0())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ar(null);const o=s.pipe(Ea(a=>null===a?Ar(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return i.loadComponent&&!i._loadedComponent?ho([o,this.loader.loadComponent(i)]).pipe(o0()):o})}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Kd),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(H9),u.KVO(g2))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ey=new u.nKC("");let xT=(()=>{class n{constructor(t,i,s,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rf?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof d0&&t.code===r_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof f9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new f9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){u.QTQ()}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();function Bu(n,r){return{\u0275kind:n,\u0275providers:r}}function Gl(){const n=(0,u.WQX)(u.zZn);return r=>{const t=n.get(u.o8S);if(r!==t.components[0])return;const i=n.get(Kd),s=n.get(ST);1===n.get(q6)&&i.initialNavigation(),n.get(CT,null,u.$GK.Optional)?.setUpPreloading(),n.get(Ey,null,u.$GK.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const ST=new u.nKC("",{factory:()=>new Ir.B}),q6=new u.nKC("",{providedIn:"root",factory:()=>1}),CT=new u.nKC("");function X6(n){return Bu(0,[{provide:CT,useExisting:y2},{provide:H9,useExisting:n}])}function X9(n){return Bu(9,[{provide:U6,useValue:H6},{provide:z6,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const v2=new u.nKC("ROUTER_FORROOT_GUARD"),Z6=[he,{provide:fy,useClass:Kb},Kd,jp,{provide:Fu,useFactory:function ET(n){return n.routerState.root},deps:[Kd]},g2,[]];let b2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Z6,[],{provide:Wd,multi:!0,useValue:t},{provide:v2,useFactory:J6,deps:[[Kd,new u.Xx1,new u.kdw]]},{provide:g0,useValue:i||{}},i?.useHash?{provide:Ut,useClass:Z}:{provide:Ut,useClass:W},{provide:Ey,useFactory:()=>{const n=(0,u.WQX)(ja),r=(0,u.WQX)(u.SKi),t=(0,u.WQX)(g0),i=(0,u.WQX)(Vp),s=(0,u.WQX)(fy);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xT(s,i,n,r,t)}},i?.preloadingStrategy?X6(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?J9(i):[],i?.bindToComponentInputs?Bu(8,[e2,{provide:Qx,useExisting:e2}]).\u0275providers:[],i?.enableViewTransitions?X9().\u0275providers:[],[{provide:Q6,useFactory:Gl},{provide:u.iLQ,multi:!0,useExisting:Q6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Wd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(v2,8))}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();function J6(n){return"guarded"}function J9(n){return["disabled"===n.initialNavigation?Bu(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const r=(0,u.WQX)(Kd);return()=>{r.setUpLocationChangeListener()}}},{provide:q6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Bu(2,[{provide:q6,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:r=>{const t=r.get(We,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=r.get(Kd),o=r.get(ST);K6(s,()=>{i(!0)}),r.get(Vp).afterPreactivation=()=>(i(!0),o.closed?Ar(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const Q6=new u.nKC("");var Nn=A(10467),Nf=function(n){return n.authentication="authentication",n.assertionMethod="assertionMethod",n.keyAgreement="keyAgreement",n.capabilityInvocation="capabilityInvocation",n.capabilityDelegation="capabilityDelegation",n}(Nf||{});const Ha={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Gi{constructor({method:r,id:t,path:i,query:s,fragment:o,params:a}){this.uri=`did:${r}:${t}`,this.method=r,this.id=t,this.path=i,this.query=s,this.fragment=o,this.params=a}static parse(r){if(!r)return null;const t=Gi.DID_URI_PATTERN.exec(r);if(!t||!t.groups)return null;const{method:i,id:s,path:o,query:a,fragment:c}=t.groups,_={uri:`did:${i}:${s}`,method:i,id:s};if(o&&(_.path=o),a&&(_.query=a.slice(1)),c&&(_.fragment=c.slice(1)),a){const E={},m=a.slice(1).split("&");for(const j of m){const[oe,le]=j.split("=");E[oe]=le}_.params=E}return _}}Gi.METHOD_PATTERN="([a-z0-9]+)",Gi.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Gi.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Gi.PCT_ENCODED_PATTERN})`,Gi.METHOD_ID_PATTERN=`((?:${Gi.ID_CHAR_PATTERN}*:)*(${Gi.ID_CHAR_PATTERN}+))`,Gi.PATH_PATTERN="(/[^#?]*)?",Gi.QUERY_PATTERN="([?][^#]*)?",Gi.FRAGMENT_PATTERN="(#.*)?",Gi.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Gi.METHOD_PATTERN}):(?<id>${Gi.METHOD_ID_PATTERN})(?<path>${Gi.PATH_PATTERN})(?<query>${Gi.QUERY_PATTERN})(?<fragment>${Gi.FRAGMENT_PATTERN})$`);class Or extends Error{constructor(r,t){super(`${r}: ${t}`),this.code=r,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or)}}var Lr=function(n){return n.InvalidDid="invalidDid",n.MethodNotSupported="methodNotSupported",n.InternalError="internalError",n.InvalidDidDocument="invalidDidDocument",n.InvalidDidDocumentLength="invalidDidDocumentLength",n.InvalidDidUrl="invalidDidUrl",n.InvalidPreviousDidProof="invalidPreviousDidProof",n.InvalidPublicKey="invalidPublicKey",n.InvalidPublicKeyLength="invalidPublicKeyLength",n.InvalidPublicKeyType="invalidPublicKeyType",n.InvalidSignature="invalidSignature",n.NotFound="notFound",n.RepresentationNotSupported="representationNotSupported",n.UnsupportedPublicKeyType="unsupportedPublicKeyType",n}(Lr||{}),Sy=A(52191);const iP=new Uint8Array(0);function x2(n){const r=n.match(/../g);return null!=r?new Uint8Array(r.map(t=>parseInt(t,16))):iP}function $h(n){if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")}const E2=function v_(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}};class e7{name;prefix;baseEncode;constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class cP{name;prefix;baseDecode;prefixCodePoint;constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return lP(this,r)}}class t7{decoders;constructor(r){this.decoders=r}or(r){return lP(this,r)}decode(r){const i=this.decoders[r[0]];if(null!=i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function lP(n,r){return new t7({...n.decoders??{[n.prefix]:n},...r.decoders??{[r.prefix]:r}})}class n7{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new e7(r,t,i),this.decoder=new cP(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}function b_({name:n,prefix:r,encode:t,decode:i}){return new n7(n,r,t,i)}function Ay({name:n,prefix:r,alphabet:t}){const{encode:i,decode:s}=E2(t,n);return b_({prefix:r,name:n,encode:i,decode:o=>$h(s(o))})}function Ga({name:n,prefix:r,bitsPerChar:t,alphabet:i}){return b_({prefix:r,name:n,encode:s=>function dP(n,r,t){const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(0!==a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o}(s,i,t),decode:s=>function bi(n,r,t,i){const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a}(s,i,t,n)})}const Bf=Ga({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uP=Ga({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fP=Ga({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),r7=Ga({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),S2=Ga({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),y0=Ga({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IT=Ga({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),__=Ga({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),C2=Ga({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),sl=Ay({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),PT=Ay({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),OT=Ga({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hP=Ga({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xd=Ga({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),i7=Ga({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function A2(n){const t=Object.prototype.toString.call(n).match(/\s([a-zA-Z0-9]+)/),[i,s]=t;return s}var w_=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},pP=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}};const T2=new TextEncoder,Up=new TextDecoder;class hn{constructor(r,t){this.data=r,this.format=t}static arrayBuffer(r){return new hn(r,"ArrayBuffer")}static asyncIterable(r){if(!function o7(n){return"object"==typeof n&&null!==n&&"function"==typeof n[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new hn(r,"AsyncIterable")}static base32Z(r){return new hn(r,"Base32Z")}static base58Btc(r){return new hn(r,"Base58Btc")}static base64Url(r){return new hn(r,"Base64Url")}static bufferSource(r){return new hn(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new hn(r,"Hex")}static multibase(r){return new hn(r,"Multibase")}static object(r){return new hn(r,"Object")}static string(r){return new hn(r,"String")}static uint8Array(r){return new hn(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return sl.baseDecode(this.data).buffer;case"Base64Url":return Xd.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===A2(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function s7(n){return 0!==n.byteOffset||n.byteLength!==n.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return w_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return C2.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return sl.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return sl.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return Xd.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return Xd.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),t=T2.encode(r);return Xd.baseEncode(t)}case"String":{const r=T2.encode(this.data);return Xd.baseEncode(r)}case"Uint8Array":return Xd.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return w_(this,void 0,void 0,function*(){var r,t,i;if("AsyncIterable"===this.format){const _=[];try{for(var c,o=!0,a=pP(this.data);!(r=(c=yield a.next()).done);o=!0)o=!1,_.push(c.value)}catch(m){t={error:m}}finally{try{!o&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(t)throw t.error}}return new Blob(_)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(t,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const t=this.toUint8Array();return hn.uint8Array(t).toHex()}case"Base64Url":{const t=this.toUint8Array();return hn.uint8Array(t).toHex()}case"Uint8Array":{let t="";for(let i=0;i<this.data.length;i++)t+=r[this.data[i]];return t}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=Xd.baseDecode(this.data),t=Up.decode(r);return JSON.parse(t)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=Up.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return w_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Up.decode(this.data);case"Base64Url":{const r=Xd.baseDecode(this.data);return Up.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return w_(this,void 0,void 0,function*(){var r,t,i,s;if("AsyncIterable"===this.format){let _="";try{for(var c,o=!0,a=pP(this.data);!(r=(c=yield a.next()).done);o=!0)o=!1,_+="string"==typeof(s=c.value)?s:Up.decode(s,{stream:!0})}catch(E){t={error:E}}finally{try{!o&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(t)throw t.error}}return _+=Up.decode(void 0,{stream:!1}),_}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return C2.baseDecode(this.data);case"Base58Btc":return sl.baseDecode(this.data);case"Base64Url":return Xd.baseDecode(this.data);case"BufferSource":{const r=A2(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let t=0;t<this.data.length;t+=2){const i=parseInt(this.data.substring(t,t+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");r[t/2]=i}return r}case"Object":{const r=JSON.stringify(this.data);return T2.encode(r)}case"String":return T2.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return w_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var D2=function(n){return n.Debug="debug",n.Silent="silent",n}(D2||{});const $s=new class c7{constructor(){this.logLevel=D2.Silent}setLogLevel(r){this.logLevel=r}log(r){this.info(r)}info(r){this.logLevel!==D2.Silent&&console.info(r)}error(r){this.logLevel!==D2.Silent&&console.error(r)}};typeof window<"u"&&(window.web5logger=$s);var mP=128,RT=-128,gP=Math.pow(2,31),u7=128,FT=127,f7=Math.pow(2,7),BT=Math.pow(2,14),h7=Math.pow(2,21),p7=Math.pow(2,28),m7=Math.pow(2,35),g7=Math.pow(2,42),y7=Math.pow(2,49),Lf=Math.pow(2,56),LT=Math.pow(2,63),b7={encode:function yP(n,r,t){r=r||[];for(var i=t=t||0;n>=gP;)r[t++]=255&n|mP,n/=128;for(;n&RT;)r[t++]=255&n|mP,n>>>=7;return r[t]=0|n,yP.bytes=t-i+1,r},decode:function NT(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw NT.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&FT)<<s:(a&FT)*Math.pow(2,s),s+=7}while(a>=u7);return NT.bytes=o-i,t},encodingLength:function(n){return n<f7?1:n<BT?2:n<h7?3:n<p7?4:n<m7?5:n<g7?6:n<y7?7:n<Lf?8:n<LT?9:10}};const x_=b7;function zp(n,r=0){return[x_.decode(n,r),x_.decode.bytes]}function v0(n,r,t=0){return x_.encode(n,r,t),r}function M2(n){return x_.encodingLength(n)}function E_(n,r){const t=r.byteLength,i=M2(n),s=i+M2(t),o=new Uint8Array(s+t);return v0(n,o,0),v0(t,o,i),o.set(r,s),new Ty(n,t,r,o)}class Ty{code;size;digest;bytes;constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}function S_(n,r){const{bytes:t,version:i}=n;return 0===i?function xP(n,r,t){const{prefix:i}=t;if(i!==sl.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const s=r.get(i);if(null==s){const o=t.encode(n).slice(1);return r.set(i,o),o}return s}(t,C_(n),r??sl.encoder):function b0(n,r,t){const{prefix:i}=t,s=r.get(i);if(null==s){const o=t.encode(n);return r.set(i,o),o}return s}(t,C_(n),r??Bf.encoder)}const wP=new WeakMap;function C_(n){const r=wP.get(n);if(null==r){const t=new Map;return wP.set(n,t),t}return r}class Vo{code;version;multihash;bytes;"/";constructor(r,t,i,s){this.code=t,this.version=r,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:r,multihash:t}=this;if(r!==jf)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==jT)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Vo.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:r,digest:t}=this.multihash,i=E_(r,t);return Vo.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return Vo.equals(this,r)}static equals(r,t){return null!=t&&r.code===t.code&&r.version===t.version&&function _P(n,r){return n===r||n.code===r.code&&n.size===r.size&&r.bytes instanceof Uint8Array&&function sP(n,r){if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0}(n.bytes,r.bytes)}(r.multihash,t.multihash)}toString(r){return S_(this,r)}toJSON(){return{"/":S_(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(null==r)return null;const t=r;if(t instanceof Vo)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:i,code:s,multihash:o,bytes:a}=t;return new Vo(i,s,o,a??My(i,s,o.bytes))}if(!0===t[EP]){const{version:i,multihash:s,code:o}=t,a=function bP(n){const r=$h(n),[t,i]=zp(r),[s,o]=zp(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new Ty(t,s,a,r)}(s);return Vo.create(i,o,a)}return null}static create(r,t,i){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:if(t!==jf)throw new Error(`Version 0 CID must use dag-pb (code: ${jf}) block encoding`);return new Vo(r,t,i,i.bytes);case 1:{const s=My(r,t,i.bytes);return new Vo(r,t,i,s)}default:throw new Error("Invalid version")}}static createV0(r){return Vo.create(0,jf,r)}static createV1(r,t){return Vo.create(1,r,t)}static decode(r){const[t,i]=Vo.decodeFirst(r);if(0!==i.length)throw new Error("Incorrect length");return t}static decodeFirst(r){const t=Vo.inspectBytes(r),i=t.size-t.multihashSize,s=$h(r.subarray(i,i+t.multihashSize));if(s.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=s.subarray(t.multihashSize-t.digestSize),a=new Ty(t.multihashCode,t.digestSize,o,s);return[0===t.version?Vo.createV0(a):Vo.createV1(t.codec,a),r.subarray(t.size)]}static inspectBytes(r){let t=0;const i=()=>{const[j,oe]=zp(r.subarray(t));return t+=oe,j};let s=i(),o=jf;if(18===s?(s=0,t=0):o=i(),0!==s&&1!==s)throw new RangeError(`Invalid CID version ${s}`);const a=t,c=i(),_=i(),E=t+_;return{version:s,codec:o,multihashCode:c,digestSize:_,multihashSize:E-a,size:E}}static parse(r,t){const[i,s]=function Dy(n,r){switch(n[0]){case"Q":return[sl.prefix,(r??sl).decode(`${sl.prefix}${n}`)];case sl.prefix:return[sl.prefix,(r??sl).decode(n)];case Bf.prefix:return[Bf.prefix,(r??Bf).decode(n)];default:if(null==r)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}}(r,t),o=Vo.decode(s);if(0===o.version&&"Q"!==r[0])throw Error("Version 0 CID string must not include multibase prefix");return C_(o).set(i,r),o}}const jf=112,jT=18;function My(n,r,t){const i=M2(n),s=i+M2(r),o=new Uint8Array(s+t.byteLength);return v0(n,o,0),v0(r,o,i),o.set(t,s),o}const EP=Symbol.for("@ipld/js-cid/CID");function ky({name:n,code:r,encode:t}){return new _7(n,r,t)}class _7{name;code;encode;constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?E_(this.code,t):t.then(i=>E_(this.code,i))}throw Error("Unknown type, must be binary type")}}class ua{static addPrefix(r){var t;let{code:i,data:s,name:o}=r;if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=ua.codeToName.has(i)?i:ua.nameToCode.get(o),void 0===i)throw new Error(`Unsupported multicodec: ${null!==(t=r.name)&&void 0!==t?t:r.code}`);const a=M2(i),c=new Uint8Array(a+s.byteLength);return c.set(s,a),v0(i,c),c}static getCodeFromData(r){const{prefixedData:t}=r,[i,s]=zp(t);return i}static getCodeFromName(r){const{name:t}=r,i=ua.nameToCode.get(t);if(void 0===i)throw new Error(`Unsupported multicodec: ${t}`);return i}static getNameFromCode(r){const{code:t}=r,i=ua.codeToName.get(t);if(void 0===i)throw new Error(`Unsupported multicodec: ${t}`);return i}static registerCodec(r){ua.codeToName.set(r.code,r.name),ua.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:t}=r,[i,s]=zp(t),o=ua.codeToName.get(i);if(void 0===o)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:t.slice(s),name:o}}}function $T(n){return!("object"!=typeof n||null===n||Object.getOwnPropertySymbols(n).length>0)&&0===Object.keys(n).length}function k2(n){Object.keys(n).forEach(r=>{void 0===n[r]?delete n[r]:"object"==typeof n[r]&&k2(n[r])})}ua.codeToName=new Map,ua.nameToCode=new Map,ua.registerCodec({code:237,name:"ed25519-pub"}),ua.registerCodec({code:4864,name:"ed25519-priv"}),ua.registerCodec({code:236,name:"x25519-pub"}),ua.registerCodec({code:4866,name:"x25519-priv"}),ua.registerCodec({code:231,name:"secp256k1-pub"}),ua.registerCodec({code:4865,name:"secp256k1-priv"});var SP=A(54626),yd=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class VT{constructor({db:r,location:t="DATASTORE"}={}){this.store=r??new SP.Level(t)}clear(){return yd(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return yd(this,void 0,void 0,function*(){yield this.store.close()})}delete(r){return yd(this,void 0,void 0,function*(){yield this.store.del(r)})}get(r){return yd(this,void 0,void 0,function*(){try{return yield this.store.get(r)}catch(t){if(t.notFound)return;throw t}})}set(r,t){return yd(this,void 0,void 0,function*(){yield this.store.put(r,t)})}}class A_{constructor(){this.store=new Map}clear(){return yd(this,void 0,void 0,function*(){this.store.clear()})}close(){return yd(this,void 0,void 0,function*(){})}delete(r){return yd(this,void 0,void 0,function*(){return this.store.delete(r)})}get(r){return yd(this,void 0,void 0,function*(){return this.store.get(r)})}has(r){return yd(this,void 0,void 0,function*(){return this.store.has(r)})}list(){return yd(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(r,t){return yd(this,void 0,void 0,function*(){this.store.set(r,t)})}}var T_=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Iy=function(n){return this instanceof Iy?(this.v=n,this):new Iy(n)};class Wl{static asAsyncIterator(r){return function(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s={},c("next"),c("throw"),c("return",function a(le){return function(ue){return Promise.resolve(ue).then(le,j)}}),s[Symbol.asyncIterator]=function(){return this},s;function c(le,ue){i[le]&&(s[le]=function(pe){return new Promise(function(we,Oe){o.push([le,pe,we,Oe])>1||_(le,pe)})},ue&&(s[le]=ue(s[le])))}function _(le,ue){try{!function E(le){le.value instanceof Iy?Promise.resolve(le.value.v).then(m,j):oe(o[0][2],le)}(i[le](ue))}catch(pe){oe(o[0][3],pe)}}function m(le){_("next",le)}function j(le){_("throw",le)}function oe(le,ue){le(ue),o.shift(),o.length&&_(o[0][0],o[0][1])}}(this,arguments,function*(){const i=r.getReader();try{for(;;){const{done:s,value:o}=yield Iy(i.read());if(s)break;yield yield Iy(o)}}finally{i.releaseLock()}})}static consumeToArrayBuffer(r){return T_(this,arguments,void 0,function*({readableStream:t}){const i=Wl.asAsyncIterator(t);return yield hn.asyncIterable(i).toArrayBufferAsync()})}static consumeToBlob(r){return T_(this,arguments,void 0,function*({readableStream:t}){const i=Wl.asAsyncIterator(t);return yield hn.asyncIterable(i).toBlobAsync()})}static consumeToBytes(r){return T_(this,arguments,void 0,function*({readableStream:t}){const i=Wl.asAsyncIterator(t);return yield hn.asyncIterable(i).toUint8ArrayAsync()})}static consumeToJson(r){return T_(this,arguments,void 0,function*({readableStream:t}){const i=Wl.asAsyncIterator(t);return yield hn.asyncIterable(i).toObjectAsync()})}static consumeToText(r){return T_(this,arguments,void 0,function*({readableStream:t}){const i=Wl.asAsyncIterator(t);return yield hn.asyncIterable(i).toStringAsync()})}static generateByteStream({streamLength:r,chunkLength:t,fillValue:i}){let o,s=r??1/0;function a(){const c=Math.min(s,t??1/0);let _;if(s-=c,"number"==typeof i)_=new Uint8Array(c).fill(i);else if(Array.isArray(i)){_=new Uint8Array(c);const[E,m]=i,j=m-E+1;for(let oe=0;oe<c;oe++)_[oe]=Math.floor(Math.random()*j)+E}else _=new Uint8Array(c);o.enqueue(_),s<=0&&o.close()}return new ReadableStream({start(c){o=c,a()},pull(){a()}})}static isReadable({readableStream:r}){if(!Wl.isReadableStream(r)||r.locked)return!1;try{return r.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(r){return"object"==typeof r&&null!==r&&"getReader"in r&&"function"==typeof r.getReader}static isStream(r){return Wl.isReadableStream(r)||Wl.isWritableStream(r)||Wl.isTransformStream(r)}static isTransformStream(r){return"object"==typeof r&&null!==r&&"readable"in r&&"object"==typeof r.readable&&"writable"in r&&"object"==typeof r.writable}static isWritableStream(r){return"object"==typeof r&&null!==r&&"getWriter"in r&&"function"==typeof r.getWriter&&"abort"in r&&"function"==typeof r.abort}}var E7=A(95424),D_=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Wa{static consumeToArrayBuffer(r){return D_(this,arguments,void 0,function*({readable:t}){return yield hn.asyncIterable(t).toArrayBufferAsync()})}static consumeToBlob(r){return D_(this,arguments,void 0,function*({readable:t}){return yield hn.asyncIterable(t).toBlobAsync()})}static consumeToBytes(r){return D_(this,arguments,void 0,function*({readable:t}){return yield hn.asyncIterable(t).toUint8ArrayAsync()})}static consumeToJson(r){return D_(this,arguments,void 0,function*({readable:t}){return yield hn.asyncIterable(t).toObjectAsync()})}static consumeToText(r){return D_(this,arguments,void 0,function*({readable:t}){return yield hn.asyncIterable(t).toStringAsync()})}static fromWebReadable({readableStream:r,readableOptions:t}){if(!Wl.isReadableStream(r))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const i=r.getReader();let s=!1;const o=new E7.Readable(Object.assign(Object.assign({},t),{read:function(){i.read().then(({done:a,value:c})=>{if(a)this.push(null);else if(!this.push(c))return}).catch(a=>{this.destroy(a)})},destroy:function(a,c){function _(){c(a)}s?_():i.cancel(a).then(_).catch(_)}}));return i.closed.then(()=>{s=!0}).catch(a=>{s=!0,o.destroy(a)}),o}static isDestroyed({stream:r}){if(!Wa.isStream(r))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!r.destroyed&&!(("_writableState"in r?r._writableState:void 0)||r._readableState).destroyed)}static isReadable({readable:r}){return!!Wa.isReadableStream(r)&&r.readable&&"boolean"==typeof r._readableState.ended&&!r._readableState.ended&&"boolean"==typeof r._readableState.endEmitted&&!r._readableState.endEmitted&&!r.destroyed&&!r.isPaused()}static isReadableStream(r){return"object"==typeof r&&null!==r&&"pipe"in r&&"function"==typeof r.pipe&&"on"in r&&"function"==typeof r.on&&!("_writableState"in r)&&"_readableState"in r}static isStream(r){return"object"==typeof r&&null!==r&&("_readableState"in r||"_writableState"in r)}static toWebReadable({readable:r}){if(!Wa.isReadableStream(r))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(Wa.isDestroyed({stream:r})){const t=new ReadableStream;return t.cancel(),t}return new ReadableStream({start(t){r.on("data",i=>{t.enqueue(i)}),r.on("end",()=>{t.close()}),r.on("error",i=>{t.error(i)})},cancel(){r.destroy()}})}}function M_(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Vh(n,...r){if(!function k_(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(n.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${n.length}`)}function I_(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}const Gp="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,zT=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$f=(n,r)=>n<<32-r|n>>>r;function Uh(n){return"string"==typeof n&&(n=function C7(n){if("string"!=typeof n)throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}(n)),Vh(n),n}new Uint8Array(new Uint32Array([287454020]).buffer);class GT{clone(){return this._cloneInto()}}function T7(n){const r=i=>n().update(Uh(i)).digest(),t=n();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>n(),r}function Oy(n=32){if(Gp&&"function"==typeof Gp.getRandomValues)return Gp.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}const M7=(n,r,t)=>n&r^~n&t,k7=(n,r,t)=>n&r^n&t^r&t;class R2 extends GT{constructor(r,t,i,s){super(),this.blockLen=r,this.outputLen=t,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=zT(this.buffer)}update(r){I_(this);const{view:t,buffer:i,blockLen:s}=this,o=(r=Uh(r)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(r.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0);else{const _=zT(r);for(;s<=o-a;a+=s)this.process(_,a)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){I_(this),function AP(n,r){Vh(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let j=a;j<s;j++)t[j]=0;(function D7(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=zT(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=_/4,m=this.get();if(E>m.length)throw new Error("_sha2: outputLen bigger than state");for(let j=0;j<E;j++)c.setUint32(4*j,m[j],o)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return r.length=s,r.pos=c,r.finished=o,r.destroyed=a,s%t&&r.buffer.set(i),r}}const IP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hh=new Uint32Array(64);class PP extends R2{constructor(){super(64,32,8,!1),this.A=0|zh[0],this.B=0|zh[1],this.C=0|zh[2],this.D=0|zh[3],this.E=0|zh[4],this.F=0|zh[5],this.G=0|zh[6],this.H=0|zh[7]}get(){const{A:r,B:t,C:i,D:s,E:o,F:a,G:c,H:_}=this;return[r,t,i,s,o,a,c,_]}set(r,t,i,s,o,a,c,_){this.A=0|r,this.B=0|t,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|_}process(r,t){for(let j=0;j<16;j++,t+=4)Hh[j]=r.getUint32(t,!1);for(let j=16;j<64;j++){const oe=Hh[j-15],le=Hh[j-2],ue=$f(oe,7)^$f(oe,18)^oe>>>3,pe=$f(le,17)^$f(le,19)^le>>>10;Hh[j]=pe+Hh[j-7]+ue+Hh[j-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:_,G:E,H:m}=this;for(let j=0;j<64;j++){const le=m+($f(c,6)^$f(c,11)^$f(c,25))+M7(c,_,E)+IP[j]+Hh[j]|0,pe=($f(i,2)^$f(i,13)^$f(i,22))+k7(i,s,o)|0;m=E,E=_,_=c,c=a+le|0,a=o,o=s,s=i,i=le+pe|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,_=_+this.F|0,E=E+this.G|0,m=m+this.H|0,this.set(i,s,o,a,c,_,E,m)}roundClean(){Hh.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Wp=T7(()=>new PP);class F2{static digest(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,arguments,void 0,function*({data:t}){return Wp(t)})}}class Vf{}class KT extends Vf{digest(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,arguments,void 0,function*({algorithm:t,data:i}){if("SHA-256"===t)return yield F2.digest({data:i})})}}function qT(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function N2(n,...r){if(!function P_(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(n.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${n.length}`)}function O_(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}const JT="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function QT(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}const B2=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Uf=(n,r)=>n<<32-r|n>>>r;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function NP(n){if("string"!=typeof n)throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}function _0(n){if("string"==typeof n&&(n=NP(n)),!QT(n))throw new Error("expected Uint8Array, got "+typeof n);return n}function BP(...n){let r=0;for(let i=0;i<n.length;i++){const s=n[i];if(!QT(s))throw new Error("Uint8Array expected");r+=s.length}const t=new Uint8Array(r);for(let i=0,s=0;i<n.length;i++){const o=n[i];t.set(o,s),s+=o.length}return t}class LP{clone(){return this._cloneInto()}}function Ny(n){const r=i=>n().update(_0(i)).digest(),t=n();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>n(),r}function tD(n=32){if(JT&&"function"==typeof JT.getRandomValues)return JT.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class nD extends LP{constructor(r,t,i,s){super(),this.blockLen=r,this.outputLen=t,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=B2(this.buffer)}update(r){O_(this);const{view:t,buffer:i,blockLen:s}=this,o=(r=_0(r)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(r.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0);else{const _=B2(r);for(;s<=o-a;a+=s)this.process(_,a)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){O_(this),function Ry(n,r){N2(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let j=a;j<s;j++)t[j]=0;(function By(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=B2(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=_/4,m=this.get();if(E>m.length)throw new Error("_sha2: outputLen bigger than state");for(let j=0;j<E;j++)c.setUint32(4*j,m[j],o)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return r.length=s,r.pos=c,r.finished=o,r.destroyed=a,s%t&&r.buffer.set(i),r}}const j7=(n,r,t)=>n&r^~n&t,$7=(n,r,t)=>n&r^n&t^r&t,V7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qp=new Uint32Array(64);class rD extends nD{constructor(){super(64,32,8,!1),this.A=0|Kp[0],this.B=0|Kp[1],this.C=0|Kp[2],this.D=0|Kp[3],this.E=0|Kp[4],this.F=0|Kp[5],this.G=0|Kp[6],this.H=0|Kp[7]}get(){const{A:r,B:t,C:i,D:s,E:o,F:a,G:c,H:_}=this;return[r,t,i,s,o,a,c,_]}set(r,t,i,s,o,a,c,_){this.A=0|r,this.B=0|t,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|_}process(r,t){for(let j=0;j<16;j++,t+=4)qp[j]=r.getUint32(t,!1);for(let j=16;j<64;j++){const oe=qp[j-15],le=qp[j-2],ue=Uf(oe,7)^Uf(oe,18)^oe>>>3,pe=Uf(le,17)^Uf(le,19)^le>>>10;qp[j]=pe+qp[j-7]+ue+qp[j-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:_,G:E,H:m}=this;for(let j=0;j<64;j++){const le=m+(Uf(c,6)^Uf(c,11)^Uf(c,25))+j7(c,_,E)+V7[j]+qp[j]|0,pe=(Uf(i,2)^Uf(i,13)^Uf(i,22))+$7(i,s,o)|0;m=E,E=_,_=c,c=a+le|0,a=o,o=s,s=i,i=le+pe|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,_=_+this.F|0,E=E+this.G|0,m=m+this.H|0,this.set(i,s,o,a,c,_,E,m)}roundClean(){qp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const iD=Ny(()=>new rD),L2=(BigInt(0),BigInt(1)),UP=BigInt(2);function zf(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}const U7=Array.from({length:256},(n,r)=>r.toString(16).padStart(2,"0"));function bd(n){if(!zf(n))throw new Error("Uint8Array expected");let r="";for(let t=0;t<n.length;t++)r+=U7[n[t]];return r}function Ly(n){if("string"!=typeof n)throw new Error("hex string expected, got "+typeof n);return BigInt(""===n?"0":`0x${n}`)}const Xp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function oD(n){return n>=Xp._0&&n<=Xp._9?n-Xp._0:n>=Xp._A&&n<=Xp._F?n-(Xp._A-10):n>=Xp._a&&n<=Xp._f?n-(Xp._a-10):void 0}function Yp(n){if("string"!=typeof n)throw new Error("hex string expected, got "+typeof n);const r=n.length,t=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(t);for(let s=0,o=0;s<t;s++,o+=2){const a=oD(n.charCodeAt(o)),c=oD(n.charCodeAt(o+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(n[o]+n[o+1])+'" at index '+o);i[s]=16*a+c}return i}function x0(n){return Ly(bd(n))}function Gh(n){if(!zf(n))throw new Error("Uint8Array expected");return Ly(bd(Uint8Array.from(n).reverse()))}function Hf(n,r){return Yp(n.toString(16).padStart(2*r,"0"))}function E0(n,r){return Hf(n,r).reverse()}function Zo(n,r,t){let i;if("string"==typeof r)try{i=Yp(r)}catch(o){throw new Error(`${n} must be valid hex string, got "${r}". Cause: ${o}`)}else{if(!zf(r))throw new Error(`${n} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof t&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return i}function ju(...n){let r=0;for(let s=0;s<n.length;s++){const o=n[s];if(!zf(o))throw new Error("Uint8Array expected");r+=o.length}let t=new Uint8Array(r),i=0;for(let s=0;s<n.length;s++){const o=n[s];t.set(o,i),i+=o.length}return t}const Gf=n=>(UP<<BigInt(n-1))-L2,jy=n=>new Uint8Array(n),aD=n=>Uint8Array.from(n);function $y(n,r,t){if("number"!=typeof n||n<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof t)throw new Error("hmacFn must be a function");let i=jy(n),s=jy(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},c=(...j)=>t(s,i,...j),_=(j=jy())=>{s=c(aD([0]),j),i=c(),0!==j.length&&(s=c(aD([1]),j),i=c())},E=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let j=0;const oe=[];for(;j<r;){i=c();const le=i.slice();oe.push(le),j+=i.length}return ju(...oe)};return(j,oe)=>{let le;for(a(),_(j);!(le=oe(E()));)_();return a(),le}}const z7={bigint:n=>"bigint"==typeof n,function:n=>"function"==typeof n,boolean:n=>"boolean"==typeof n,string:n=>"string"==typeof n,stringOrUint8Array:n=>"string"==typeof n||zf(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,r)=>r.Fp.isValid(n),hash:n=>"function"==typeof n&&Number.isSafeInteger(n.outputLen)};function S0(n,r,t={}){const i=(s,o,a)=>{const c=z7[o];if("function"!=typeof c)throw new Error(`Invalid validator "${o}", expected function`);const _=n[s];if(!(a&&void 0===_||c(_,n)))throw new Error(`Invalid param ${String(s)}=${_} (${typeof _}), expected ${o}`)};for(const[s,o]of Object.entries(r))i(s,o,!1);for(const[s,o]of Object.entries(t))i(s,o,!0);return n}const Jo=BigInt(0),ks=BigInt(1),ol=BigInt(2),R_=BigInt(3),GP=BigInt(4),F_=BigInt(5),cD=BigInt(8);function us(n,r){const t=n%r;return t>=Jo?t:r+t}function KP(n,r,t){if(t<=Jo||r<Jo)throw new Error("Expected power/modulo > 0");if(t===ks)return Jo;let i=ks;for(;r>Jo;)r&ks&&(i=i*n%t),n=n*n%t,r>>=ks;return i}function ko(n,r,t){let i=n;for(;r-- >Jo;)i*=i,i%=t;return i}function j2(n,r){if(n===Jo||r<=Jo)throw new Error(`invert: expected positive integers, got n=${n} mod=${r}`);let t=us(n,r),i=r,s=Jo,o=ks,a=ks,c=Jo;for(;t!==Jo;){const E=i/t,m=i%t,j=s-a*E,oe=o-c*E;i=t,t=m,s=a,o=c,a=j,c=oe}if(i!==ks)throw new Error("invert: does not exist");return us(s,r)}BigInt(9),BigInt(16);const q7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V2(n,r){const t=void 0!==r?r:n.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}function N_(n,r,t=!1,i={}){if(n<=Jo)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=V2(n,r);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function W7(n){if(n%GP===R_){const r=(n+ks)/GP;return function(i,s){const o=i.pow(s,r);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%cD===F_){const r=(n-F_)/cD;return function(i,s){const o=i.mul(s,ol),a=i.pow(o,r),c=i.mul(s,a),_=i.mul(i.mul(c,ol),a),E=i.mul(c,i.sub(_,i.ONE));if(!i.eql(i.sqr(E),s))throw new Error("Cannot find square root");return E}}return function G7(n){const r=(n-ks)/ol;let t,i,s;for(t=n-ks,i=0;t%ol===Jo;t/=ol,i++);for(s=ol;s<n&&KP(s,r,n)!==n-ks;s++);if(1===i){const a=(n+ks)/GP;return function(_,E){const m=_.pow(E,a);if(!_.eql(_.sqr(m),E))throw new Error("Cannot find square root");return m}}const o=(t+ks)/ol;return function(c,_){if(c.pow(_,r)===c.neg(c.ONE))throw new Error("Cannot find square root");let E=i,m=c.pow(c.mul(c.ONE,s),t),j=c.pow(_,o),oe=c.pow(_,t);for(;!c.eql(oe,c.ONE);){if(c.eql(oe,c.ZERO))return c.ZERO;let le=1;for(let pe=c.sqr(oe);le<E&&!c.eql(pe,c.ONE);le++)pe=c.sqr(pe);const ue=c.pow(m,ks<<BigInt(E-le-1));m=c.sqr(ue),j=c.mul(j,ue),oe=c.mul(oe,m),E=le}return j}}(n)}(n),c=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:Gf(s),ZERO:Jo,ONE:ks,create:_=>us(_,n),isValid:_=>{if("bigint"!=typeof _)throw new Error("Invalid field element: expected bigint, got "+typeof _);return Jo<=_&&_<n},is0:_=>_===Jo,isOdd:_=>(_&ks)===ks,neg:_=>us(-_,n),eql:(_,E)=>_===E,sqr:_=>us(_*_,n),add:(_,E)=>us(_+E,n),sub:(_,E)=>us(_-E,n),mul:(_,E)=>us(_*E,n),pow:(_,E)=>function $2(n,r,t){if(t<Jo)throw new Error("Expected power > 0");if(t===Jo)return n.ONE;if(t===ks)return r;let i=n.ONE,s=r;for(;t>Jo;)t&ks&&(i=n.mul(i,s)),s=n.sqr(s),t>>=ks;return i}(c,_,E),div:(_,E)=>us(_*j2(E,n),n),sqrN:_=>_*_,addN:(_,E)=>_+E,subN:(_,E)=>_-E,mulN:(_,E)=>_*E,inv:_=>j2(_,n),sqrt:i.sqrt||(_=>a(c,_)),invertBatch:_=>function Y7(n,r){const t=new Array(r.length),i=r.reduce((o,a,c)=>n.is0(a)?o:(t[c]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return r.reduceRight((o,a,c)=>n.is0(a)?o:(t[c]=n.mul(o,t[c]),n.mul(o,a)),s),t}(c,_),cmov:(_,E,m)=>m?E:_,toBytes:_=>t?E0(_,o):Hf(_,o),fromBytes:_=>{if(_.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${_.length}`);return t?Gh(_):x0(_)}});return Object.freeze(c)}function U2(n){if("bigint"!=typeof n)throw new Error("field order must be bigint");const r=n.toString(2).length;return Math.ceil(r/8)}function lD(n){const r=U2(n);return r+Math.ceil(r/2)}class XP extends LP{constructor(r,t){super(),this.finished=!1,this.destroyed=!1,function YT(n){if("function"!=typeof n||"function"!=typeof n.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");qT(n.outputLen),qT(n.blockLen)}(r);const i=_0(t);if(this.iHash=r.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?r.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=r.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(r){return O_(this),this.iHash.update(r),this}digestInto(r){O_(this),N2(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return r.finished=s,r.destroyed=o,r.blockLen=a,r.outputLen=c,r.oHash=t._cloneInto(r.oHash),r.iHash=i._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const YP=(n,r,t)=>new XP(n,r).update(t).digest();YP.create=(n,r)=>new XP(n,r);const tj=BigInt(0),B_=BigInt(1);function z2(n,r){const t=(s,o)=>{const a=o.negate();return s?a:o},i=s=>({windows:Math.ceil(r/s)+1,windowSize:2**(s-1)});return{constTimeNegate:t,unsafeLadder(s,o){let a=n.ZERO,c=s;for(;o>tj;)o&B_&&(a=a.add(c)),c=c.double(),o>>=B_;return a},precomputeWindow(s,o){const{windows:a,windowSize:c}=i(o),_=[];let E=s,m=E;for(let j=0;j<a;j++){m=E,_.push(m);for(let oe=1;oe<c;oe++)m=m.add(E),_.push(m);E=m.double()}return _},wNAF(s,o,a){const{windows:c,windowSize:_}=i(s);let E=n.ZERO,m=n.BASE;const j=BigInt(2**s-1),oe=2**s,le=BigInt(s);for(let ue=0;ue<c;ue++){const pe=ue*_;let we=Number(a&j);a>>=le,we>_&&(we-=oe,a+=B_);const Oe=pe,Pe=pe+Math.abs(we)-1,$e=we<0;0===we?m=m.add(t(ue%2!=0,o[Oe])):E=E.add(t($e,o[Pe]))}return{p:E,f:m}},wNAFCached(s,o,a,c){const _=s._WINDOW_SIZE||1;let E=o.get(s);return E||(E=this.precomputeWindow(s,_),1!==_&&o.set(s,c(E))),this.wNAF(_,E,a)}}}function H2(n){return function X7(n){S0(n,q7.reduce((i,s)=>(i[s]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(n.Fp),S0(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...V2(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}const{Ph:uD,aT:nj}=K,C0={Err:class extends Error{constructor(r=""){super(r)}},_parseInt(n){const{Err:r}=C0;if(n.length<2||2!==n[0])throw new r("Invalid signature integer tag");const t=n[1],i=n.subarray(2,t+2);if(!t||i.length!==t)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:uD(i),l:n.subarray(t+2)}},toSig(n){const{Err:r}=C0,t="string"==typeof n?nj(n):n;if(!zf(t))throw new Error("ui8a expected");let i=t.length;if(i<2||48!=t[0])throw new r("Invalid signature tag");if(t[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:o}=C0._parseInt(t.subarray(2)),{d:a,l:c}=C0._parseInt(o);if(c.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const r=E=>8&Number.parseInt(E[0],16)?"00"+E:E,t=E=>{const m=E.toString(16);return 1&m.length?`0${m}`:m},i=r(t(n.s)),s=r(t(n.r)),o=i.length/2,a=s.length/2,c=t(o),_=t(a);return`30${t(a+o+4)}02${_}${s}02${c}${i}`}},$u=BigInt(0),Uo=BigInt(1),Vy=(BigInt(2),BigInt(3));function QP(n){const r=function JP(n){const r=H2(n);return S0(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(n),{Fp:t,n:i}=r,s=t.BYTES+1,o=2*t.BYTES+1;function c(vt){return us(vt,i)}function _(vt){return j2(vt,i)}const{ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:j,isWithinCurveOrder:oe}=function ZP(n){const r=function dD(n){const r=H2(n);S0(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:s}=r;if(t){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof t||"bigint"!=typeof t.beta||"function"!=typeof t.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(n),{Fp:t}=r,i=r.toBytes||((ue,pe,we)=>{const Oe=pe.toAffine();return ju(Uint8Array.from([4]),t.toBytes(Oe.x),t.toBytes(Oe.y))}),s=r.fromBytes||(ue=>{const pe=ue.subarray(1);return{x:t.fromBytes(pe.subarray(0,t.BYTES)),y:t.fromBytes(pe.subarray(t.BYTES,2*t.BYTES))}});function o(ue){const{a:pe,b:we}=r,Oe=t.sqr(ue),Pe=t.mul(Oe,ue);return t.add(t.add(Pe,t.mul(ue,pe)),we)}if(!t.eql(t.sqr(r.Gy),o(r.Gx)))throw new Error("bad generator point: equation left != right");function a(ue){return"bigint"==typeof ue&&$u<ue&&ue<r.n}function c(ue){if(!a(ue))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function _(ue){const{allowedPrivateKeyLengths:pe,nByteLength:we,wrapPrivateKey:Oe,n:Pe}=r;if(pe&&"bigint"!=typeof ue){if(zf(ue)&&(ue=bd(ue)),"string"!=typeof ue||!pe.includes(ue.length))throw new Error("Invalid key");ue=ue.padStart(2*we,"0")}let Ie;try{Ie="bigint"==typeof ue?ue:x0(Zo("private key",ue,we))}catch{throw new Error(`private key must be ${we} bytes, hex or bigint, not ${typeof ue}`)}return Oe&&(Ie=us(Ie,Pe)),c(Ie),Ie}const E=new Map;function m(ue){if(!(ue instanceof j))throw new Error("ProjectivePoint expected")}class j{constructor(pe,we,Oe){if(this.px=pe,this.py=we,this.pz=Oe,null==pe||!t.isValid(pe))throw new Error("x required");if(null==we||!t.isValid(we))throw new Error("y required");if(null==Oe||!t.isValid(Oe))throw new Error("z required")}static fromAffine(pe){const{x:we,y:Oe}=pe||{};if(!pe||!t.isValid(we)||!t.isValid(Oe))throw new Error("invalid affine point");if(pe instanceof j)throw new Error("projective point not allowed");const Pe=Ie=>t.eql(Ie,t.ZERO);return Pe(we)&&Pe(Oe)?j.ZERO:new j(we,Oe,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(pe){const we=t.invertBatch(pe.map(Oe=>Oe.pz));return pe.map((Oe,Pe)=>Oe.toAffine(we[Pe])).map(j.fromAffine)}static fromHex(pe){const we=j.fromAffine(s(Zo("pointHex",pe)));return we.assertValidity(),we}static fromPrivateKey(pe){return j.BASE.multiply(_(pe))}_setWindowSize(pe){this._WINDOW_SIZE=pe,E.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:pe,y:we}=this.toAffine();if(!t.isValid(pe)||!t.isValid(we))throw new Error("bad point: x or y not FE");const Oe=t.sqr(we),Pe=o(pe);if(!t.eql(Oe,Pe))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:pe}=this.toAffine();if(t.isOdd)return!t.isOdd(pe);throw new Error("Field doesn't support isOdd")}equals(pe){m(pe);const{px:we,py:Oe,pz:Pe}=this,{px:Ie,py:$e,pz:Je}=pe,Qe=t.eql(t.mul(we,Je),t.mul(Ie,Pe)),tt=t.eql(t.mul(Oe,Je),t.mul($e,Pe));return Qe&&tt}negate(){return new j(this.px,t.neg(this.py),this.pz)}double(){const{a:pe,b:we}=r,Oe=t.mul(we,Vy),{px:Pe,py:Ie,pz:$e}=this;let Je=t.ZERO,Qe=t.ZERO,tt=t.ZERO,ot=t.mul(Pe,Pe),xt=t.mul(Ie,Ie),Ct=t.mul($e,$e),Tt=t.mul(Pe,Ie);return Tt=t.add(Tt,Tt),tt=t.mul(Pe,$e),tt=t.add(tt,tt),Je=t.mul(pe,tt),Qe=t.mul(Oe,Ct),Qe=t.add(Je,Qe),Je=t.sub(xt,Qe),Qe=t.add(xt,Qe),Qe=t.mul(Je,Qe),Je=t.mul(Tt,Je),tt=t.mul(Oe,tt),Ct=t.mul(pe,Ct),Tt=t.sub(ot,Ct),Tt=t.mul(pe,Tt),Tt=t.add(Tt,tt),tt=t.add(ot,ot),ot=t.add(tt,ot),ot=t.add(ot,Ct),ot=t.mul(ot,Tt),Qe=t.add(Qe,ot),Ct=t.mul(Ie,$e),Ct=t.add(Ct,Ct),ot=t.mul(Ct,Tt),Je=t.sub(Je,ot),tt=t.mul(Ct,xt),tt=t.add(tt,tt),tt=t.add(tt,tt),new j(Je,Qe,tt)}add(pe){m(pe);const{px:we,py:Oe,pz:Pe}=this,{px:Ie,py:$e,pz:Je}=pe;let Qe=t.ZERO,tt=t.ZERO,ot=t.ZERO;const xt=r.a,Ct=t.mul(r.b,Vy);let Tt=t.mul(we,Ie),Kt=t.mul(Oe,$e),Lt=t.mul(Pe,Je),Xt=t.add(we,Oe),vt=t.add(Ie,$e);Xt=t.mul(Xt,vt),vt=t.add(Tt,Kt),Xt=t.sub(Xt,vt),vt=t.add(we,Pe);let Et=t.add(Ie,Je);return vt=t.mul(vt,Et),Et=t.add(Tt,Lt),vt=t.sub(vt,Et),Et=t.add(Oe,Pe),Qe=t.add($e,Je),Et=t.mul(Et,Qe),Qe=t.add(Kt,Lt),Et=t.sub(Et,Qe),ot=t.mul(xt,vt),Qe=t.mul(Ct,Lt),ot=t.add(Qe,ot),Qe=t.sub(Kt,ot),ot=t.add(Kt,ot),tt=t.mul(Qe,ot),Kt=t.add(Tt,Tt),Kt=t.add(Kt,Tt),Lt=t.mul(xt,Lt),vt=t.mul(Ct,vt),Kt=t.add(Kt,Lt),Lt=t.sub(Tt,Lt),Lt=t.mul(xt,Lt),vt=t.add(vt,Lt),Tt=t.mul(Kt,vt),tt=t.add(tt,Tt),Tt=t.mul(Et,vt),Qe=t.mul(Xt,Qe),Qe=t.sub(Qe,Tt),Tt=t.mul(Xt,Kt),ot=t.mul(Et,ot),ot=t.add(ot,Tt),new j(Qe,tt,ot)}subtract(pe){return this.add(pe.negate())}is0(){return this.equals(j.ZERO)}wNAF(pe){return le.wNAFCached(this,E,pe,we=>{const Oe=t.invertBatch(we.map(Pe=>Pe.pz));return we.map((Pe,Ie)=>Pe.toAffine(Oe[Ie])).map(j.fromAffine)})}multiplyUnsafe(pe){const we=j.ZERO;if(pe===$u)return we;if(c(pe),pe===Uo)return this;const{endo:Oe}=r;if(!Oe)return le.unsafeLadder(this,pe);let{k1neg:Pe,k1:Ie,k2neg:$e,k2:Je}=Oe.splitScalar(pe),Qe=we,tt=we,ot=this;for(;Ie>$u||Je>$u;)Ie&Uo&&(Qe=Qe.add(ot)),Je&Uo&&(tt=tt.add(ot)),ot=ot.double(),Ie>>=Uo,Je>>=Uo;return Pe&&(Qe=Qe.negate()),$e&&(tt=tt.negate()),tt=new j(t.mul(tt.px,Oe.beta),tt.py,tt.pz),Qe.add(tt)}multiply(pe){c(pe);let Oe,Pe,we=pe;const{endo:Ie}=r;if(Ie){const{k1neg:$e,k1:Je,k2neg:Qe,k2:tt}=Ie.splitScalar(we);let{p:ot,f:xt}=this.wNAF(Je),{p:Ct,f:Tt}=this.wNAF(tt);ot=le.constTimeNegate($e,ot),Ct=le.constTimeNegate(Qe,Ct),Ct=new j(t.mul(Ct.px,Ie.beta),Ct.py,Ct.pz),Oe=ot.add(Ct),Pe=xt.add(Tt)}else{const{p:$e,f:Je}=this.wNAF(we);Oe=$e,Pe=Je}return j.normalizeZ([Oe,Pe])[0]}multiplyAndAddUnsafe(pe,we,Oe){const Pe=j.BASE,Ie=(Je,Qe)=>Qe!==$u&&Qe!==Uo&&Je.equals(Pe)?Je.multiply(Qe):Je.multiplyUnsafe(Qe),$e=Ie(this,we).add(Ie(pe,Oe));return $e.is0()?void 0:$e}toAffine(pe){const{px:we,py:Oe,pz:Pe}=this,Ie=this.is0();null==pe&&(pe=Ie?t.ONE:t.inv(Pe));const $e=t.mul(we,pe),Je=t.mul(Oe,pe),Qe=t.mul(Pe,pe);if(Ie)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Qe,t.ONE))throw new Error("invZ was invalid");return{x:$e,y:Je}}isTorsionFree(){const{h:pe,isTorsionFree:we}=r;if(pe===Uo)return!0;if(we)return we(j,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:pe,clearCofactor:we}=r;return pe===Uo?this:we?we(j,this):this.multiplyUnsafe(r.h)}toRawBytes(pe=!0){return this.assertValidity(),i(j,this,pe)}toHex(pe=!0){return bd(this.toRawBytes(pe))}}j.BASE=new j(r.Gx,r.Gy,t.ONE),j.ZERO=new j(t.ZERO,t.ONE,t.ZERO);const oe=r.nBitLength,le=z2(j,r.endo?Math.ceil(oe/2):oe);return{CURVE:r,ProjectivePoint:j,normPrivateKeyToScalar:_,weierstrassEquation:o,isWithinCurveOrder:a}}({...r,toBytes(vt,Et,Dt){const jt=Et.toAffine(),Ft=t.toBytes(jt.x),Jt=ju;return Dt?Jt(Uint8Array.from([Et.hasEvenY()?2:3]),Ft):Jt(Uint8Array.from([4]),Ft,t.toBytes(jt.y))},fromBytes(vt){const Et=vt.length,Dt=vt[0],jt=vt.subarray(1);if(Et!==s||2!==Dt&&3!==Dt){if(Et===o&&4===Dt)return{x:t.fromBytes(jt.subarray(0,t.BYTES)),y:t.fromBytes(jt.subarray(t.BYTES,2*t.BYTES))};throw new Error(`Point of length ${Et} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}{const Ft=x0(jt);if(!function a(vt){return $u<vt&&vt<t.ORDER}(Ft))throw new Error("Point is not on curve");const Jt=j(Ft);let on=t.sqrt(Jt);return!(1&~Dt)!=((on&Uo)===Uo)&&(on=t.neg(on)),{x:Ft,y:on}}}}),le=vt=>bd(Hf(vt,r.nByteLength));function ue(vt){return vt>i>>Uo}const we=(vt,Et,Dt)=>x0(vt.slice(Et,Dt));class Oe{constructor(Et,Dt,jt){this.r=Et,this.s=Dt,this.recovery=jt,this.assertValidity()}static fromCompact(Et){const Dt=r.nByteLength;return Et=Zo("compactSignature",Et,2*Dt),new Oe(we(Et,0,Dt),we(Et,Dt,2*Dt))}static fromDER(Et){const{r:Dt,s:jt}=C0.toSig(Zo("DER",Et));return new Oe(Dt,jt)}assertValidity(){if(!oe(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!oe(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Et){return new Oe(this.r,this.s,Et)}recoverPublicKey(Et){const{r:Dt,s:jt,recovery:Ft}=this,Jt=tt(Zo("msgHash",Et));if(null==Ft||![0,1,2,3].includes(Ft))throw new Error("recovery id invalid");const on=2===Ft||3===Ft?Dt+r.n:Dt;if(on>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Yt=E.fromHex((1&Ft?"03":"02")+le(on)),Cn=_(on),In=c(-Jt*Cn),_n=c(jt*Cn),$t=E.BASE.multiplyAndAddUnsafe(Yt,In,_n);if(!$t)throw new Error("point at infinify");return $t.assertValidity(),$t}hasHighS(){return ue(this.s)}normalizeS(){return this.hasHighS()?new Oe(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Yp(this.toDERHex())}toDERHex(){return C0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yp(this.toCompactHex())}toCompactHex(){return le(this.r)+le(this.s)}}const Pe={isValidPrivateKey(vt){try{return m(vt),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const vt=lD(r.n);return function qP(n,r,t=!1){const i=n.length,s=U2(r),o=lD(r);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const c=us(t?x0(n):Gh(n),r-ks)+ks;return t?E0(c,s):Hf(c,s)}(r.randomBytes(vt),r.n)},precompute:(vt=8,Et=E.BASE)=>(Et._setWindowSize(vt),Et.multiply(BigInt(3)),Et)};function $e(vt){const Et=zf(vt),Dt="string"==typeof vt,jt=(Et||Dt)&&vt.length;return Et?jt===s||jt===o:Dt?jt===2*s||jt===2*o:vt instanceof E}const Qe=r.bits2int||function(vt){const Et=x0(vt),Dt=8*vt.length-r.nBitLength;return Dt>0?Et>>BigInt(Dt):Et},tt=r.bits2int_modN||function(vt){return c(Qe(vt))},ot=Gf(r.nBitLength);function xt(vt){if("bigint"!=typeof vt)throw new Error("bigint expected");if(!($u<=vt&&vt<ot))throw new Error(`bigint expected < 2^${r.nBitLength}`);return Hf(vt,r.nByteLength)}const Tt={lowS:r.lowS,prehash:!1},Kt={lowS:r.lowS,prehash:!1};return E.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function Ie(vt,Et=!0){return E.fromPrivateKey(vt).toRawBytes(Et)},getSharedSecret:function Je(vt,Et,Dt=!0){if($e(vt))throw new Error("first arg must be private key");if(!$e(Et))throw new Error("second arg must be public key");return E.fromHex(Et).multiply(m(vt)).toRawBytes(Dt)},sign:function Lt(vt,Et,Dt=Tt){const{seed:jt,k2sig:Ft}=function Ct(vt,Et,Dt=Tt){if(["recovered","canonical"].some(un=>un in Dt))throw new Error("sign() legacy options not supported");const{hash:jt,randomBytes:Ft}=r;let{lowS:Jt,prehash:on,extraEntropy:dn}=Dt;null==Jt&&(Jt=!0),vt=Zo("msgHash",vt),on&&(vt=Zo("prehashed msgHash",jt(vt)));const Yt=tt(vt),Cn=m(Et),In=[xt(Cn),xt(Yt)];if(null!=dn){const un=!0===dn?Ft(t.BYTES):dn;In.push(Zo("extraEntropy",un))}const _n=ju(...In),$t=Yt;return{seed:_n,k2sig:function gn(un){const pn=Qe(un);if(!oe(pn))return;const Gt=_(pn),Ht=E.BASE.multiply(pn).toAffine(),yn=c(Ht.x);if(yn===$u)return;const Pn=c(Gt*c($t+yn*Cn));if(Pn===$u)return;let $n=(Ht.x===yn?0:2)|Number(Ht.y&Uo),rn=Pn;return Jt&&ue(Pn)&&(rn=function pe(vt){return ue(vt)?c(-vt):vt}(Pn),$n^=1),new Oe(yn,rn,$n)}}}(vt,Et,Dt);return $y(r.hash.outputLen,r.nByteLength,r.hmac)(jt,Ft)},verify:function Xt(vt,Et,Dt,jt=Kt){const Ft=vt;if(Et=Zo("msgHash",Et),Dt=Zo("publicKey",Dt),"strict"in jt)throw new Error("options.strict was renamed to lowS");const{lowS:Jt,prehash:on}=jt;let dn,Yt;try{if("string"==typeof Ft||zf(Ft))try{dn=Oe.fromDER(Ft)}catch(Ht){if(!(Ht instanceof C0.Err))throw Ht;dn=Oe.fromCompact(Ft)}else{if("object"!=typeof Ft||"bigint"!=typeof Ft.r||"bigint"!=typeof Ft.s)throw new Error("PARSE");{const{r:Ht,s:yn}=Ft;dn=new Oe(Ht,yn)}}Yt=E.fromHex(Dt)}catch(Ht){if("PARSE"===Ht.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Jt&&dn.hasHighS())return!1;on&&(Et=r.hash(Et));const{r:Cn,s:In}=dn,_n=tt(Et),$t=_(In),gn=c(_n*$t),un=c(Cn*$t),pn=E.BASE.multiplyAndAddUnsafe(Yt,gn,un)?.toAffine();return!!pn&&c(pn.x)===Cn},ProjectivePoint:E,Signature:Oe,utils:Pe}}function sj(n){return{hash:n,hmac:(r,...t)=>YP(n,r,BP(...t)),randomBytes:tD}}function W2(n,r){const t=i=>QP({...n,...sj(i)});return Object.freeze({...t(r),create:t})}BigInt(4);const L_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),j_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ac=BigInt(1),Uy=BigInt(2),oj=(n,r)=>(n+r/Uy)/r;const K2=N_(L_,void 0,void 0,{sqrt:function aj(n){const r=L_,t=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),c=BigInt(44),_=BigInt(88),E=n*n*n%r,m=E*E*n%r,j=ko(m,t,r)*m%r,oe=ko(j,t,r)*m%r,le=ko(oe,Uy,r)*E%r,ue=ko(le,s,r)*le%r,pe=ko(ue,o,r)*ue%r,we=ko(pe,c,r)*pe%r,Oe=ko(we,_,r)*we%r,Pe=ko(Oe,c,r)*pe%r,Ie=ko(Pe,t,r)*m%r,$e=ko(Ie,a,r)*ue%r,Je=ko($e,i,r)*E%r,Qe=ko(Je,Uy,r);if(!K2.eql(K2.sqr(Qe),n))throw new Error("Cannot find square root");return Qe}}),al=W2({a:BigInt(0),b:BigInt(7),Fp:K2,n:j_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const r=j_,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-ac*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,a=BigInt("0x100000000000000000000000000000000"),c=oj(o*n,r),_=oj(-i*n,r);let E=us(n-c*t-_*s,r),m=us(-c*i-_*o,r);const j=E>a,oe=m>a;if(j&&(E=r-E),oe&&(m=r-m),E>a||m>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:j,k1:E,k2neg:oe,k2:m}}}},iD);function sO(n){const r=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const s=Object.keys(i).sort(),o={};for(const a of s)o[a]=r(i[a]);return o}return i},t=r(n);return JSON.stringify(t)}BigInt(0);const mD="urn:jwk:";function Pi(n){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,arguments,void 0,function*({jwk:r}){const t=r.kty;let i;if("EC"===t)i={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)i={k:r.k,kty:r.kty};else if("OKP"===t)i={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);i={e:r.e,kty:r.kty,n:r.n}}k2(i);const s=sO(i),o=hn.string(s).toUint8Array(),a=yield F2.digest({data:o});return hn.uint8Array(a).toBase64Url()})}function cl(n){return!(!n||"object"!=typeof n||!("kty"in n&&"crv"in n&&"x"in n&&"d"in n)||"EC"!==n.kty||"string"!=typeof n.d||"string"!=typeof n.x)}function Zp(n){return!(!n||"object"!=typeof n||!("kty"in n&&"crv"in n&&"x"in n)||"d"in n||"EC"!==n.kty||"string"!=typeof n.x)}function oO(n){return!(!n||"object"!=typeof n||!("kty"in n)||!("k"in n)||"oct"!==n.kty||"string"!=typeof n.k)}function Kh(n){return!(!n||"object"!=typeof n||!("kty"in n&&"crv"in n&&"x"in n&&"d"in n)||"OKP"!==n.kty||"string"!=typeof n.d||"string"!=typeof n.x)}function V_(n){return!(!n||"object"!=typeof n||"d"in n||!("kty"in n&&"crv"in n&&"x"in n)||"OKP"!==n.kty||"string"!=typeof n.x)}function gD(n){if(!n||"object"!=typeof n)return!1;switch(n.kty){case"EC":case"OKP":case"RSA":return"d"in n;case"oct":return"k"in n;default:return!1}}var cc=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class ls{static adjustSignatureToLowS(r){return cc(this,arguments,void 0,function*({signature:t}){const i=al.Signature.fromCompact(t);return i.hasHighS()?i.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey(r){return cc(this,arguments,void 0,function*({privateKeyBytes:t}){const i=yield ls.getCurvePoint({keyBytes:t}),s={kty:"EC",crv:"secp256k1",d:hn.uint8Array(t).toBase64Url(),x:hn.uint8Array(i.x).toBase64Url(),y:hn.uint8Array(i.y).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static bytesToPublicKey(r){return cc(this,arguments,void 0,function*({publicKeyBytes:t}){const i=yield ls.getCurvePoint({keyBytes:t}),s={kty:"EC",crv:"secp256k1",x:hn.uint8Array(i.x).toBase64Url(),y:hn.uint8Array(i.y).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static compressPublicKey(r){return cc(this,arguments,void 0,function*({publicKeyBytes:t}){return al.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey(r){return cc(this,arguments,void 0,function*({key:t}){const i=yield ls.privateKeyToBytes({privateKey:t}),s=yield ls.getCurvePoint({keyBytes:i}),o={kty:"EC",crv:"secp256k1",x:hn.uint8Array(s.x).toBase64Url(),y:hn.uint8Array(s.y).toBase64Url()};return o.kid=yield Pi({jwk:o}),o})}static convertDerToCompactSignature(r){return cc(this,arguments,void 0,function*({derSignature:t}){return al.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey(r){return cc(this,arguments,void 0,function*({publicKeyBytes:t}){return al.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return cc(this,void 0,void 0,function*(){const r=al.utils.randomPrivateKey(),t=yield ls.bytesToPrivateKey({privateKeyBytes:r});return t.kid=yield Pi({jwk:t}),t})}static getPublicKey(r){return cc(this,arguments,void 0,function*({key:t}){var i;if(!cl(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["d"]);return null!==(i=o.kid)&&void 0!==i||(o.kid=yield Pi({jwk:o})),o})}static privateKeyToBytes(r){return cc(this,arguments,void 0,function*({privateKey:t}){if(!cl(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return hn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(r){return cc(this,arguments,void 0,function*({publicKey:t}){if(!Zp(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const i=new Uint8Array([4]),s=hn.base64Url(t.x).toUint8Array(),o=hn.base64Url(t.y).toUint8Array();return new Uint8Array([...i,...s,...o])})}static sharedSecret(r){return cc(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:i}){if("x"in t&&"x"in i&&t.x===i.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const s=yield ls.privateKeyToBytes({privateKey:t}),o=yield ls.publicKeyToBytes({publicKey:i});return al.getSharedSecret(s,o,!0).slice(1)})}static sign(r){return cc(this,arguments,void 0,function*({data:t,key:i}){const s=yield ls.privateKeyToBytes({privateKey:i}),o=Wp(t);return al.sign(o,s).toCompactRawBytes()})}static validatePrivateKey(r){return cc(this,arguments,void 0,function*({privateKeyBytes:t}){return al.utils.isValidPrivateKey(t)})}static validatePublicKey(r){return cc(this,arguments,void 0,function*({publicKeyBytes:t}){try{al.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(r){return cc(this,arguments,void 0,function*({key:t,signature:i,data:s}){const o=yield ls.publicKeyToBytes({publicKey:t}),a=Wp(s);return al.verify(i,a,o,{lowS:!1})})}static getCurvePoint(r){return cc(this,arguments,void 0,function*({keyBytes:t}){32===t.byteLength&&(t=al.getPublicKey(t));const i=al.ProjectivePoint.fromHex(t);return{x:Hf(i.x,32),y:Hf(i.y,32)}})}}const U_=N_(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Vu=W2({a:U_.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:U_,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},iD);var Sa=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class fs{static adjustSignatureToLowS(r){return Sa(this,arguments,void 0,function*({signature:t}){const i=Vu.Signature.fromCompact(t);return i.hasHighS()?i.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey(r){return Sa(this,arguments,void 0,function*({privateKeyBytes:t}){const i=yield fs.getCurvePoint({keyBytes:t}),s={kty:"EC",crv:"P-256",d:hn.uint8Array(t).toBase64Url(),x:hn.uint8Array(i.x).toBase64Url(),y:hn.uint8Array(i.y).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static bytesToPublicKey(r){return Sa(this,arguments,void 0,function*({publicKeyBytes:t}){const i=yield fs.getCurvePoint({keyBytes:t}),s={kty:"EC",crv:"P-256",x:hn.uint8Array(i.x).toBase64Url(),y:hn.uint8Array(i.y).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static compressPublicKey(r){return Sa(this,arguments,void 0,function*({publicKeyBytes:t}){return Vu.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey(r){return Sa(this,arguments,void 0,function*({key:t}){const i=yield fs.privateKeyToBytes({privateKey:t}),s=yield fs.getCurvePoint({keyBytes:i}),o={kty:"EC",crv:"P-256",x:hn.uint8Array(s.x).toBase64Url(),y:hn.uint8Array(s.y).toBase64Url()};return o.kid=yield Pi({jwk:o}),o})}static convertDerToCompactSignature(r){return Sa(this,arguments,void 0,function*({derSignature:t}){return Vu.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey(r){return Sa(this,arguments,void 0,function*({publicKeyBytes:t}){return Vu.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Sa(this,void 0,void 0,function*(){const r=Vu.utils.randomPrivateKey(),t=yield fs.bytesToPrivateKey({privateKeyBytes:r});return t.kid=yield Pi({jwk:t}),t})}static getPublicKey(r){return Sa(this,arguments,void 0,function*({key:t}){var i;if(!cl(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["d"]);return null!==(i=o.kid)&&void 0!==i||(o.kid=yield Pi({jwk:o})),o})}static privateKeyToBytes(r){return Sa(this,arguments,void 0,function*({privateKey:t}){if(!cl(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return hn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(r){return Sa(this,arguments,void 0,function*({publicKey:t}){if(!Zp(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const i=new Uint8Array([4]),s=hn.base64Url(t.x).toUint8Array(),o=hn.base64Url(t.y).toUint8Array();return new Uint8Array([...i,...s,...o])})}static sharedSecret(r){return Sa(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:i}){if("x"in t&&"x"in i&&t.x===i.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const s=yield fs.privateKeyToBytes({privateKey:t}),o=yield fs.publicKeyToBytes({publicKey:i});return Vu.getSharedSecret(s,o,!0).slice(1)})}static sign(r){return Sa(this,arguments,void 0,function*({data:t,key:i}){const s=yield fs.privateKeyToBytes({privateKey:i}),o=Wp(t);return Vu.sign(o,s).toCompactRawBytes()})}static validatePrivateKey(r){return Sa(this,arguments,void 0,function*({privateKeyBytes:t}){return Vu.utils.isValidPrivateKey(t)})}static validatePublicKey(r){return Sa(this,arguments,void 0,function*({publicKeyBytes:t}){try{Vu.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(r){return Sa(this,arguments,void 0,function*({key:t,signature:i,data:s}){const o=yield fs.publicKeyToBytes({publicKey:t}),a=Wp(s);return Vu.verify(i,a,o,{lowS:!1})})}static getCurvePoint(r){return Sa(this,arguments,void 0,function*({keyBytes:t}){32===t.byteLength&&(t=Vu.getPublicKey(t));const i=Vu.ProjectivePoint.fromHex(t);return{x:Hf(i.x,32),y:Hf(i.y,32)}})}}var Jp=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class J2 extends Vf{computePublicKey(r){return Jp(this,arguments,void 0,function*({key:t}){if(!cl(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const i=yield ls.computePublicKey({key:t});return i.alg="ES256K",i}case"P-256":{const i=yield fs.computePublicKey({key:t});return i.alg="ES256",i}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey(r){return Jp(this,arguments,void 0,function*({algorithm:t}){switch(t){case"ES256K":case"secp256k1":{const i=yield ls.generateKey();return i.alg="ES256K",i}case"ES256":case"secp256r1":{const i=yield fs.generateKey();return i.alg="ES256",i}}})}getPublicKey(r){return Jp(this,arguments,void 0,function*({key:t}){if(!cl(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const i=yield ls.getPublicKey({key:t});return i.alg="ES256K",i}case"P-256":{const i=yield fs.getPublicKey({key:t});return i.alg="ES256",i}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign(r){return Jp(this,arguments,void 0,function*({key:t,data:i}){if(!cl(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ls.sign({key:t,data:i});case"P-256":return yield fs.sign({key:t,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify(r){return Jp(this,arguments,void 0,function*({key:t,signature:i,data:s}){if(!Zp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ls.verify({key:t,signature:i,data:s});case"P-256":return yield fs.verify({key:t,signature:i,data:s});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const Q2=BigInt(2**32-1),yD=BigInt(32);function cO(n,r=!1){return r?{h:Number(n&Q2),l:Number(n>>yD&Q2)}:{h:0|Number(n>>yD&Q2),l:0|Number(n&Q2)}}const Oi_split=function gj(n,r=!1){let t=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=cO(n[s],r);[t[s],i[s]]=[o,a]}return[t,i]},Oi_shrSH=(n,r,t)=>n>>>t,Oi_shrSL=(n,r,t)=>n<<32-t|r>>>t,Oi_rotrSH=(n,r,t)=>n>>>t|r<<32-t,Oi_rotrSL=(n,r,t)=>n<<32-t|r>>>t,Oi_rotrBH=(n,r,t)=>n<<64-t|r>>>t-32,Oi_rotrBL=(n,r,t)=>n>>>t-32|r<<64-t,Oi_add=function bD(n,r,t,i){const s=(r>>>0)+(i>>>0);return{h:n+t+(s/2**32|0)|0,l:0|s}},Oi_add3L=(n,r,t)=>(n>>>0)+(r>>>0)+(t>>>0),Oi_add3H=(n,r,t,i)=>r+t+i+(n/2**32|0)|0,Oi_add4L=(n,r,t,i)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0),Oi_add4H=(n,r,t,i,s)=>r+t+i+s+(n/2**32|0)|0,Oi_add5H=(n,r,t,i,s,o)=>r+t+i+s+o+(n/2**32|0)|0,Oi_add5L=(n,r,t,i,s)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0)+(s>>>0),[wD,wj]=Oi_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),lc=new Uint32Array(80),Yd=new Uint32Array(80);class mo extends nD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:r,Al:t,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:_,Eh:E,El:m,Fh:j,Fl:oe,Gh:le,Gl:ue,Hh:pe,Hl:we}=this;return[r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we]}set(r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we){this.Ah=0|r,this.Al=0|t,this.Bh=0|i,this.Bl=0|s,this.Ch=0|o,this.Cl=0|a,this.Dh=0|c,this.Dl=0|_,this.Eh=0|E,this.El=0|m,this.Fh=0|j,this.Fl=0|oe,this.Gh=0|le,this.Gl=0|ue,this.Hh=0|pe,this.Hl=0|we}process(r,t){for(let Ie=0;Ie<16;Ie++,t+=4)lc[Ie]=r.getUint32(t),Yd[Ie]=r.getUint32(t+=4);for(let Ie=16;Ie<80;Ie++){const $e=0|lc[Ie-15],Je=0|Yd[Ie-15],Qe=Oi_rotrSH($e,Je,1)^Oi_rotrSH($e,Je,8)^Oi_shrSH($e,Je,7),tt=Oi_rotrSL($e,Je,1)^Oi_rotrSL($e,Je,8)^Oi_shrSL($e,Je,7),ot=0|lc[Ie-2],xt=0|Yd[Ie-2],Ct=Oi_rotrSH(ot,xt,19)^Oi_rotrBH(ot,xt,61)^Oi_shrSH(ot,xt,6),Tt=Oi_rotrSL(ot,xt,19)^Oi_rotrBL(ot,xt,61)^Oi_shrSL(ot,xt,6),Kt=Oi_add4L(tt,Tt,Yd[Ie-7],Yd[Ie-16]),Lt=Oi_add4H(Kt,Qe,Ct,lc[Ie-7],lc[Ie-16]);lc[Ie]=0|Lt,Yd[Ie]=0|Kt}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:c,Cl:_,Dh:E,Dl:m,Eh:j,El:oe,Fh:le,Fl:ue,Gh:pe,Gl:we,Hh:Oe,Hl:Pe}=this;for(let Ie=0;Ie<80;Ie++){const $e=Oi_rotrSH(j,oe,14)^Oi_rotrSH(j,oe,18)^Oi_rotrBH(j,oe,41),Je=Oi_rotrSL(j,oe,14)^Oi_rotrSL(j,oe,18)^Oi_rotrBL(j,oe,41),Qe=j&le^~j&pe,ot=Oi_add5L(Pe,Je,oe&ue^~oe&we,wj[Ie],Yd[Ie]),xt=Oi_add5H(ot,Oe,$e,Qe,wD[Ie],lc[Ie]),Ct=0|ot,Tt=Oi_rotrSH(i,s,28)^Oi_rotrBH(i,s,34)^Oi_rotrBH(i,s,39),Kt=Oi_rotrSL(i,s,28)^Oi_rotrBL(i,s,34)^Oi_rotrBL(i,s,39),Lt=i&o^i&c^o&c,Xt=s&a^s&_^a&_;Oe=0|pe,Pe=0|we,pe=0|le,we=0|ue,le=0|j,ue=0|oe,({h:j,l:oe}=Oi_add(0|E,0|m,0|xt,0|Ct)),E=0|c,m=0|_,c=0|o,_=0|a,o=0|i,a=0|s;const vt=Oi_add3L(Ct,Kt,Xt);i=Oi_add3H(vt,xt,Tt,Lt),s=0|vt}({h:i,l:s}=Oi_add(0|this.Ah,0|this.Al,0|i,0|s)),({h:o,l:a}=Oi_add(0|this.Bh,0|this.Bl,0|o,0|a)),({h:c,l:_}=Oi_add(0|this.Ch,0|this.Cl,0|c,0|_)),({h:E,l:m}=Oi_add(0|this.Dh,0|this.Dl,0|E,0|m)),({h:j,l:oe}=Oi_add(0|this.Eh,0|this.El,0|j,0|oe)),({h:le,l:ue}=Oi_add(0|this.Fh,0|this.Fl,0|le,0|ue)),({h:pe,l:we}=Oi_add(0|this.Gh,0|this.Gl,0|pe,0|we)),({h:Oe,l:Pe}=Oi_add(0|this.Hh,0|this.Hl,0|Oe,0|Pe)),this.set(i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe)}roundClean(){lc.fill(0),Yd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const T0=Ny(()=>new mo),Zd=BigInt(0),Kl=BigInt(1),tE=BigInt(2),xj=BigInt(8),Qo={zip215:!0};function ED(n){const r=function yO(n){const r=H2(n);return S0(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}(n),{Fp:t,n:i,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:_}=r,E=tE<<BigInt(8*c)-Kl,m=t.create,j=r.uvRatio||((jt,Ft)=>{try{return{isValid:!0,value:t.sqrt(jt*t.inv(Ft))}}catch{return{isValid:!1,value:Zd}}}),oe=r.adjustScalarBytes||(jt=>jt),le=r.domain||((jt,Ft,Jt)=>{if(Ft.length||Jt)throw new Error("Contexts/pre-hash are not supported");return jt}),ue=jt=>"bigint"==typeof jt&&Zd<jt,pe=(jt,Ft)=>ue(jt)&&ue(Ft)&&jt<Ft,we=jt=>jt===Zd||pe(jt,E);function Oe(jt,Ft){if(pe(jt,Ft))return jt;throw new Error(`Expected valid scalar < ${Ft}, got ${typeof jt} ${jt}`)}function Pe(jt){return jt===Zd?jt:Oe(jt,i)}const Ie=new Map;function $e(jt){if(!(jt instanceof Je))throw new Error("ExtendedPoint expected")}class Je{constructor(Ft,Jt,on,dn){if(this.ex=Ft,this.ey=Jt,this.ez=on,this.et=dn,!we(Ft))throw new Error("x required");if(!we(Jt))throw new Error("y required");if(!we(on))throw new Error("z required");if(!we(dn))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ft){if(Ft instanceof Je)throw new Error("extended point not allowed");const{x:Jt,y:on}=Ft||{};if(!we(Jt)||!we(on))throw new Error("invalid affine point");return new Je(Jt,on,Kl,m(Jt*on))}static normalizeZ(Ft){const Jt=t.invertBatch(Ft.map(on=>on.ez));return Ft.map((on,dn)=>on.toAffine(Jt[dn])).map(Je.fromAffine)}_setWindowSize(Ft){this._WINDOW_SIZE=Ft,Ie.delete(this)}assertValidity(){const{a:Ft,d:Jt}=r;if(this.is0())throw new Error("bad point: ZERO");const{ex:on,ey:dn,ez:Yt,et:Cn}=this,In=m(on*on),_n=m(dn*dn),$t=m(Yt*Yt),gn=m($t*$t),un=m(In*Ft);if(m($t*m(un+_n))!==m(gn+m(Jt*m(In*_n))))throw new Error("bad point: equation left != right (1)");if(m(on*dn)!==m(Yt*Cn))throw new Error("bad point: equation left != right (2)")}equals(Ft){$e(Ft);const{ex:Jt,ey:on,ez:dn}=this,{ex:Yt,ey:Cn,ez:In}=Ft,_n=m(Jt*In),$t=m(Yt*dn),gn=m(on*In),un=m(Cn*dn);return _n===$t&&gn===un}is0(){return this.equals(Je.ZERO)}negate(){return new Je(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){const{a:Ft}=r,{ex:Jt,ey:on,ez:dn}=this,Yt=m(Jt*Jt),Cn=m(on*on),In=m(tE*m(dn*dn)),_n=m(Ft*Yt),$t=Jt+on,gn=m(m($t*$t)-Yt-Cn),un=_n+Cn,pn=un-In,Gt=_n-Cn,Ht=m(gn*pn),yn=m(un*Gt),Pn=m(gn*Gt),$n=m(pn*un);return new Je(Ht,yn,$n,Pn)}add(Ft){$e(Ft);const{a:Jt,d:on}=r,{ex:dn,ey:Yt,ez:Cn,et:In}=this,{ex:_n,ey:$t,ez:gn,et:un}=Ft;if(Jt===BigInt(-1)){const ji=m((Yt-dn)*($t+_n)),lo=m((Yt+dn)*($t-_n)),Ch=m(lo-ji);if(Ch===Zd)return this.double();const Ec=m(Cn*tE*un),Ii=m(In*tE*gn),Fi=Ii+Ec,Cs=lo+ji,as=Ii-Ec,jr=m(Fi*Ch),Na=m(Cs*as),Ba=m(Fi*as),Sc=m(Ch*Cs);return new Je(jr,Na,Sc,Ba)}const pn=m(dn*_n),Gt=m(Yt*$t),Ht=m(In*on*un),yn=m(Cn*gn),Pn=m((dn+Yt)*(_n+$t)-pn-Gt),$n=yn-Ht,rn=yn+Ht,bn=m(Gt-Jt*pn),On=m(Pn*$n),rr=m(rn*bn),sr=m(Pn*bn),Sf=m($n*rn);return new Je(On,rr,Sf,sr)}subtract(Ft){return this.add(Ft.negate())}wNAF(Ft){return ot.wNAFCached(this,Ie,Ft,Je.normalizeZ)}multiply(Ft){const{p:Jt,f:on}=this.wNAF(Oe(Ft,i));return Je.normalizeZ([Jt,on])[0]}multiplyUnsafe(Ft){let Jt=Pe(Ft);return Jt===Zd?tt:this.equals(tt)||Jt===Kl?this:this.equals(Qe)?this.wNAF(Jt).p:ot.unsafeLadder(this,Jt)}isSmallOrder(){return this.multiplyUnsafe(_).is0()}isTorsionFree(){return ot.unsafeLadder(this,i).is0()}toAffine(Ft){const{ex:Jt,ey:on,ez:dn}=this,Yt=this.is0();null==Ft&&(Ft=Yt?xj:t.inv(dn));const Cn=m(Jt*Ft),In=m(on*Ft),_n=m(dn*Ft);if(Yt)return{x:Zd,y:Kl};if(_n!==Kl)throw new Error("invZ was invalid");return{x:Cn,y:In}}clearCofactor(){const{h:Ft}=r;return Ft===Kl?this:this.multiplyUnsafe(Ft)}static fromHex(Ft,Jt=!1){const{d:on,a:dn}=r,Yt=t.BYTES,Cn=(Ft=Zo("pointHex",Ft,Yt)).slice(),In=Ft[Yt-1];Cn[Yt-1]=-129&In;const _n=Gh(Cn);_n===Zd||Oe(_n,Jt?E:t.ORDER);const $t=m(_n*_n),gn=m($t-Kl),un=m(on*$t-dn);let{isValid:pn,value:Gt}=j(gn,un);if(!pn)throw new Error("Point.fromHex: invalid y coordinate");const Ht=(Gt&Kl)===Kl,yn=!!(128&In);if(!Jt&&Gt===Zd&&yn)throw new Error("Point.fromHex: x=0 and x_0=1");return yn!==Ht&&(Gt=m(-Gt)),Je.fromAffine({x:Gt,y:_n})}static fromPrivateKey(Ft){return Tt(Ft).point}toRawBytes(){const{x:Ft,y:Jt}=this.toAffine(),on=E0(Jt,t.BYTES);return on[on.length-1]|=Ft&Kl?128:0,on}toHex(){return bd(this.toRawBytes())}}Je.BASE=new Je(r.Gx,r.Gy,Kl,m(r.Gx*r.Gy)),Je.ZERO=new Je(Zd,Kl,Kl,Zd);const{BASE:Qe,ZERO:tt}=Je,ot=z2(Je,8*c);function xt(jt){return us(jt,i)}function Ct(jt){return xt(Gh(jt))}function Tt(jt){const Ft=c;jt=Zo("private key",jt,Ft);const Jt=Zo("hashed private key",o(jt),2*Ft),on=oe(Jt.slice(0,Ft)),dn=Jt.slice(Ft,2*Ft),Yt=Ct(on),Cn=Qe.multiply(Yt),In=Cn.toRawBytes();return{head:on,prefix:dn,scalar:Yt,point:Cn,pointBytes:In}}function Lt(jt=new Uint8Array,...Ft){const Jt=ju(...Ft);return Ct(o(le(Jt,Zo("context",jt),!!s)))}const vt=Qo;return Qe._setWindowSize(8),{CURVE:r,getPublicKey:function Kt(jt){return Tt(jt).pointBytes},sign:function Xt(jt,Ft,Jt={}){jt=Zo("message",jt),s&&(jt=s(jt));const{prefix:on,scalar:dn,pointBytes:Yt}=Tt(Ft),Cn=Lt(Jt.context,on,jt),In=Qe.multiply(Cn).toRawBytes(),$t=xt(Cn+Lt(Jt.context,In,Yt,jt)*dn);return Pe($t),Zo("result",ju(In,E0($t,t.BYTES)),2*c)},verify:function Et(jt,Ft,Jt,on=vt){const{context:dn,zip215:Yt}=on,Cn=t.BYTES;jt=Zo("signature",jt,2*Cn),Ft=Zo("message",Ft),s&&(Ft=s(Ft));const In=Gh(jt.slice(Cn,2*Cn));let _n,$t,gn;try{_n=Je.fromHex(Jt,Yt),$t=Je.fromHex(jt.slice(0,Cn),Yt),gn=Qe.multiplyUnsafe(In)}catch{return!1}if(!Yt&&_n.isSmallOrder())return!1;const un=Lt(dn,$t.toRawBytes(),_n.toRawBytes(),Ft);return $t.add(_n.multiplyUnsafe(un)).subtract(gn).clearCofactor().equals(Je.ZERO)},ExtendedPoint:Je,utils:{getExtendedPublicKey:Tt,randomPrivateKey:()=>a(t.BYTES),precompute:(jt=8,Ft=Je.BASE)=>(Ft._setWindowSize(jt),Ft.multiply(BigInt(3)),Ft)}}}const io=BigInt(0),D0=BigInt(1),qh=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),z_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),zu=(BigInt(0),BigInt(1)),H_=BigInt(2),rE=BigInt(5),iE=BigInt(10),bO=BigInt(20),WY=BigInt(40),Qp=BigInt(80);function SD(n){const r=qh,i=n*n%r*n%r,s=ko(i,H_,r)*i%r,o=ko(s,zu,r)*n%r,a=ko(o,rE,r)*o%r,c=ko(a,iE,r)*a%r,_=ko(c,bO,r)*c%r,E=ko(_,WY,r)*_%r,m=ko(E,Qp,r)*E%r,j=ko(m,Qp,r)*E%r,oe=ko(j,iE,r)*a%r;return{pow_p_5_8:ko(oe,H_,r)*n%r,b2:i}}function Gy(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const cr=N_(qh,void 0,!0),G_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:cr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:T0,randomBytes:tD,adjustScalarBytes:Gy,uvRatio:function CD(n,r){const t=qh,i=us(r*r*r,t),s=us(i*i*r,t);let a=us(n*i*SD(n*s).pow_p_5_8,t);const c=us(r*a*a,t),_=a,E=us(a*z_,t),m=c===n,j=c===us(-n,t),oe=c===us(-n*z_,t);return m&&(a=_),(j||oe)&&(a=E),((n,r)=>(us(n,r)&ks)===ks)(a,t)&&(a=us(-a,t)),{isValid:m||j,value:a}}},go=ED(G_);const W_=function nE(n){const r=function Hy(n){return S0(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}(n),{P:t}=r,i=Ie=>us(Ie,t),s=r.montgomeryBits,o=Math.ceil(s/8),a=r.nByteLength,c=r.adjustScalarBytes||(Ie=>Ie),_=r.powPminus2||(Ie=>KP(Ie,t-BigInt(2),t));function E(Ie,$e,Je){const Qe=i(Ie*($e-Je));return[$e=i($e-Qe),Je=i(Je+Qe)]}function m(Ie){if("bigint"==typeof Ie&&io<=Ie&&Ie<t)return Ie;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const j=(r.a-BigInt(2))/BigInt(4);function le(Ie){return E0(i(Ie),o)}function we(Ie,$e){const Je=function ue(Ie){const $e=Zo("u coordinate",Ie,o);return 32===a&&($e[31]&=127),Gh($e)}($e),Qe=function pe(Ie){const $e=Zo("scalar",Ie),Je=$e.length;if(Je!==o&&Je!==a)throw new Error(`Expected ${o} or ${a} bytes, got ${Je}`);return Gh(c($e))}(Ie),tt=function oe(Ie,$e){const Je=m(Ie),Qe=m($e),tt=Je;let Lt,ot=D0,xt=io,Ct=Je,Tt=D0,Kt=io;for(let vt=BigInt(s-1);vt>=io;vt--){const Et=Qe>>vt&D0;Kt^=Et,Lt=E(Kt,ot,Ct),ot=Lt[0],Ct=Lt[1],Lt=E(Kt,xt,Tt),xt=Lt[0],Tt=Lt[1],Kt=Et;const Dt=ot+xt,jt=i(Dt*Dt),Ft=ot-xt,Jt=i(Ft*Ft),on=jt-Jt,dn=Ct+Tt,Cn=i((Ct-Tt)*Dt),In=i(dn*Ft),_n=Cn+In,$t=Cn-In;Ct=i(_n*_n),Tt=i(tt*i($t*$t)),ot=i(jt*Jt),xt=i(on*(jt+i(j*on)))}Lt=E(Kt,ot,Ct),ot=Lt[0],Ct=Lt[1],Lt=E(Kt,xt,Tt),xt=Lt[0],Tt=Lt[1];const Xt=_(xt);return i(ot*Xt)}(Je,Qe);if(tt===io)throw new Error("Invalid private or public key received");return le(tt)}const Oe=le(r.Gu);function Pe(Ie){return we(Ie,Oe)}return{scalarMult:we,scalarMultBase:Pe,getSharedSecret:(Ie,$e)=>we(Ie,$e),getPublicKey:Ie=>Pe(Ie),utils:{randomPrivateKey:()=>r.randomBytes(r.nByteLength)},GuBytes:Oe}}({P:qh,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:n=>{const r=qh,{pow_p_5_8:t,b2:i}=SD(n);return us(ko(t,BigInt(3),r)*i,r)},adjustScalarBytes:Gy,randomBytes:tD}),DD=(cr.ORDER+BigInt(3))/BigInt(8);cr.pow(H_,DD),cr.sqrt(cr.neg(cr.ONE)),BigInt(5),BigInt(8),BigInt(486662),function Q7(n,r){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(r);n.isOdd(t)&&n.neg(t)}(cr,cr.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var xd=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class ns{static bytesToPrivateKey(r){return xd(this,arguments,void 0,function*({privateKeyBytes:t}){const i=go.getPublicKey(t),s={crv:"Ed25519",d:hn.uint8Array(t).toBase64Url(),kty:"OKP",x:hn.uint8Array(i).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static bytesToPublicKey(r){return xd(this,arguments,void 0,function*({publicKeyBytes:t}){const i={kty:"OKP",crv:"Ed25519",x:hn.uint8Array(t).toBase64Url()};return i.kid=yield Pi({jwk:i}),i})}static computePublicKey(r){return xd(this,arguments,void 0,function*({key:t}){const i=yield ns.privateKeyToBytes({privateKey:t}),s=go.getPublicKey(i),o={kty:"OKP",crv:"Ed25519",x:hn.uint8Array(s).toBase64Url()};return o.kid=yield Pi({jwk:o}),o})}static convertPrivateKeyToX25519(r){return xd(this,arguments,void 0,function*({privateKey:t}){const s=function Sj(n){const r=G_.hash(n.subarray(0,32));return G_.adjustScalarBytes(r).subarray(0,32)}(yield ns.privateKeyToBytes({privateKey:t})),o=W_.getPublicKey(s),a={kty:"OKP",crv:"X25519",d:hn.uint8Array(s).toBase64Url(),x:hn.uint8Array(o).toBase64Url()};return a.kid=yield Pi({jwk:a}),a})}static convertPublicKeyToX25519(r){return xd(this,arguments,void 0,function*({publicKey:t}){const i=yield ns.publicKeyToBytes({publicKey:t});if(!(yield ns.validatePublicKey({publicKeyBytes:i})))throw new Error("Ed25519: Invalid public key.");const o=function _d(n){const{y:r}=go.ExtendedPoint.fromHex(n),t=BigInt(1);return cr.toBytes(cr.create((t+r)*cr.inv(t-r)))}(i),a={kty:"OKP",crv:"X25519",x:hn.uint8Array(o).toBase64Url()};return a.kid=yield Pi({jwk:a}),a})}static generateKey(){return xd(this,void 0,void 0,function*(){const r=go.utils.randomPrivateKey(),t=yield ns.bytesToPrivateKey({privateKeyBytes:r});return t.kid=yield Pi({jwk:t}),t})}static getPublicKey(r){return xd(this,arguments,void 0,function*({key:t}){var i;if(!Kh(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["d"]);return null!==(i=o.kid)&&void 0!==i||(o.kid=yield Pi({jwk:o})),o})}static privateKeyToBytes(r){return xd(this,arguments,void 0,function*({privateKey:t}){if(!Kh(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return hn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(r){return xd(this,arguments,void 0,function*({publicKey:t}){if(!V_(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return hn.base64Url(t.x).toUint8Array()})}static sign(r){return xd(this,arguments,void 0,function*({key:t,data:i}){const s=yield ns.privateKeyToBytes({privateKey:t});return go.sign(i,s)})}static validatePublicKey(r){return xd(this,arguments,void 0,function*({publicKeyBytes:t}){try{go.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(r){return xd(this,arguments,void 0,function*({key:t,signature:i,data:s}){const o=yield ns.publicKeyToBytes({publicKey:t});return go.verify(i,s,o)})}}var aE=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class RD extends Vf{computePublicKey(r){return aE(this,arguments,void 0,function*({key:t}){if(!Kh(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const i=yield ns.computePublicKey({key:t});return i.alg="EdDSA",i}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey(r){return aE(this,arguments,void 0,function*({algorithm:t}){if("Ed25519"===t){const i=yield ns.generateKey();return i.alg="EdDSA",i}})}getPublicKey(r){return aE(this,arguments,void 0,function*({key:t}){if(!Kh(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const i=yield ns.getPublicKey({key:t});return i.alg="EdDSA",i}throw new Error(`Unsupported curve: ${t.crv}`)})}sign(r){return aE(this,arguments,void 0,function*({key:t,data:i}){if(!Kh(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ns.sign({key:t,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}verify(r){return aE(this,arguments,void 0,function*({key:t,signature:i,data:s}){if(!V_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ns.verify({key:t,signature:i,data:s});throw new Error(`Unsupported curve: ${t.crv}`)})}}var Hu=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const q_={Ed25519:{implementation:RD,names:["Ed25519"]},secp256k1:{implementation:J2,names:["ES256K","secp256k1"]},secp256r1:{implementation:J2,names:["ES256","secp256r1"]},"SHA-256":{implementation:KT,names:["SHA-256"]}};class ll{constructor(r){var t;this._algorithmInstances=new Map,this._keyStore=null!==(t=r?.keyStore)&&void 0!==t?t:new A_}digest(r){return Hu(this,arguments,void 0,function*({algorithm:t,data:i}){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:i})})}exportKey(r){return Hu(this,arguments,void 0,function*({keyUri:t}){return yield this.getPrivateKey({keyUri:t})})}generateKey(r){return Hu(this,arguments,void 0,function*({algorithm:t}){const s=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===s?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${mD}${s.kid}`;return yield this._keyStore.set(o,s),o})}getKeyUri(r){return Hu(this,arguments,void 0,function*({key:t}){const i=yield Pi({jwk:t});return`${mD}${i}`})}getPublicKey(r){return Hu(this,arguments,void 0,function*({keyUri:t}){const i=yield this.getPrivateKey({keyUri:t}),s=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:s}).getPublicKey({key:i})})}importKey(r){return Hu(this,arguments,void 0,function*({key:t}){var i;if(!gD(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const s=structuredClone(t);null!==(i=s.kid)&&void 0!==i||(s.kid=yield Pi({jwk:s}));const o=yield this.getKeyUri({key:s});return yield this._keyStore.set(o,s),o})}sign(r){return Hu(this,arguments,void 0,function*({keyUri:t,data:i}){const s=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:s});return this.getAlgorithm({algorithm:o}).sign({data:i,key:s})})}verify(r){return Hu(this,arguments,void 0,function*({key:t,signature:i,data:s}){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:i,data:s})})}getAlgorithm({algorithm:r}){var t;const i=null===(t=q_[r])||void 0===t?void 0:t.implementation;if(!i)throw new Error(`Algorithm not supported: ${r}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:r}){const t=r.alg,i=r.crv;for(const s in q_){const o=q_[s];if(t&&o.names.includes(t))return s;if(i&&o.names.includes(i))return s}throw new Error(`Unable to determine algorithm based on provided input: alg=${t}, crv=${i}`)}getPrivateKey(r){return Hu(this,arguments,void 0,function*({keyUri:t}){const i=yield this._keyStore.get(t);if(!i)throw new Error(`Key not found: ${t}`);return i})}}class zo{static getJoseSignatureAlgorithmFromPublicKey(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}static randomBytes(r){return Oy(r)}static randomUuid(){return Gp.randomUUID()}static randomPin({length:r}){if(3>r||r>10)throw new Error("randomPin() can securely generate a PIN between 3 to 10 digits.");const t=Math.pow(10,r)-1;let i;if(r<=6){const s=Math.pow(10,r);do{const o=zo.randomBytes(Math.ceil(r/2));i=new DataView(o.buffer).getUint16(0,!1)%s}while(i>t)}else{const s=Math.pow(10,10);do{const o=zo.randomBytes(4);i=new DataView(o.buffer).getUint32(0,!1)%s}while(i>t)}return i.toString().padStart(r,"0")}}const k0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Xh(){if(k0&&"object"==typeof k0.subtle&&null!=k0.subtle)return k0.subtle;throw new Error("crypto.subtle must be defined")}var Y_=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const ND=[128,192,256],Z_=[96,104,112,120,128];class dl{static bytesToPrivateKey(r){return Y_(this,arguments,void 0,function*({privateKeyBytes:t}){const i={k:hn.uint8Array(t).toBase64Url(),kty:"oct"};return i.kid=yield Pi({jwk:i}),i})}static decrypt(r){return Y_(this,arguments,void 0,function*({key:t,data:i,iv:s,additionalData:o,tagLength:a}){if(12!==s.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(a&&!Z_.includes(a))throw new RangeError(`The tag length is invalid: Must be ${Z_.join(", ")} bits`);const c=Xh(),_=yield c.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),E=Object.assign(Object.assign({name:"AES-GCM",iv:s},a&&{tagLength:a}),o&&{additionalData:o}),m=yield c.decrypt(E,_,i);return new Uint8Array(m)})}static encrypt(r){return Y_(this,arguments,void 0,function*({data:t,iv:i,key:s,additionalData:o,tagLength:a}){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(a&&!Z_.includes(a))throw new RangeError(`The tag length is invalid: Must be ${Z_.join(", ")} bits`);const c=Xh(),_=yield c.importKey("jwk",s,{name:"AES-GCM"},!0,["encrypt"]),E=Object.assign(Object.assign({name:"AES-GCM",iv:i},a&&{tagLength:a}),o&&{additionalData:o}),m=yield c.encrypt(E,_,t);return new Uint8Array(m)})}static generateKey(r){return Y_(this,arguments,void 0,function*({length:t}){if(!ND.includes(t))throw new RangeError(`The key length is invalid: Must be ${ND.join(", ")} bits`);const i=Xh(),s=yield i.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),_=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(yield i.exportKey("jwk",s),["ext","key_ops"]);return _.kid=yield Pi({jwk:_}),_})}static privateKeyToBytes(r){return Y_(this,arguments,void 0,function*({privateKey:t}){if(!oO(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return hn.base64Url(t.k).toUint8Array()})}}var J_=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class MO{static deriveKey(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,arguments,void 0,function*({hash:t,password:i,salt:s,iterations:o,length:a}){const c=yield Gp.subtle.importKey("raw",i,{name:"PBKDF2"},!1,["deriveBits"]),_=yield Gp.subtle.deriveBits({name:"PBKDF2",hash:t,salt:s,iterations:o},c,a);return new Uint8Array(_)})}}var Jd=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Ed{static bytesToPrivateKey(r){return Jd(this,arguments,void 0,function*({privateKeyBytes:t}){const i=W_.getPublicKey(t),s={kty:"OKP",crv:"X25519",d:hn.uint8Array(t).toBase64Url(),x:hn.uint8Array(i).toBase64Url()};return s.kid=yield Pi({jwk:s}),s})}static bytesToPublicKey(r){return Jd(this,arguments,void 0,function*({publicKeyBytes:t}){const i={kty:"OKP",crv:"X25519",x:hn.uint8Array(t).toBase64Url()};return i.kid=yield Pi({jwk:i}),i})}static computePublicKey(r){return Jd(this,arguments,void 0,function*({key:t}){const i=yield Ed.privateKeyToBytes({privateKey:t}),s=W_.getPublicKey(i),o={kty:"OKP",crv:"X25519",x:hn.uint8Array(s).toBase64Url()};return o.kid=yield Pi({jwk:o}),o})}static generateKey(){return Jd(this,void 0,void 0,function*(){const r=W_.utils.randomPrivateKey(),t=yield Ed.bytesToPrivateKey({privateKeyBytes:r});return t.kid=yield Pi({jwk:t}),t})}static getPublicKey(r){return Jd(this,arguments,void 0,function*({key:t}){var i;if(!Kh(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["d"]);return null!==(i=o.kid)&&void 0!==i||(o.kid=yield Pi({jwk:o})),o})}static privateKeyToBytes(r){return Jd(this,arguments,void 0,function*({privateKey:t}){if(!Kh(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return hn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(r){return Jd(this,arguments,void 0,function*({publicKey:t}){if(!V_(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return hn.base64Url(t.x).toUint8Array()})}static sharedSecret(r){return Jd(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:i}){if("x"in t&&"x"in i&&t.x===i.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const s=yield Ed.privateKeyToBytes({privateKey:t}),o=yield Ed.publicKeyToBytes({publicKey:i});return W_.getSharedSecret(s,o)})}}function Bc(n){if("string"==typeof n&&0!==n.length)return n.split("#").pop()}function nm({didDocument:n}){var r,t;if(!n)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(t=null===(r=n.verificationMethod)||void 0===r?void 0:r.filter(r1))&&void 0!==t?t:[]),Object.keys(Nf).forEach(s=>{var o,a;i.push(...null!==(a=null===(o=n[s])||void 0===o?void 0:o.filter(r1))&&void 0!==a?a:[])}),i}function IO({didDocument:n,methodId:r}){const t=[];return Object.keys(Nf).forEach(i=>{if(Array.isArray(n[i])){const s=n[i],o=Bc(r);s.some(c=>{const _=Bc(c)===o,E=r1(c)&&Bc(c.id)===o;return _||E})&&t.push(i)}}),t}function r1(n){return!(!n||"object"!=typeof n||null===n||!("id"in n&&"type"in n&&"controller"in n)||"string"!=typeof n.id||"string"!=typeof n.type||"string"!=typeof n.controller)}function LD({keyBytes:n,multicodecCode:r,multicodecName:t}){const i=ua.addPrefix({code:r,data:n,name:t}),s=hn.uint8Array(i).toBase58Btc();return hn.base58Btc(s).toMultibase()}function jD({multibaseKeyId:n}){try{const r=hn.multibase(n).toBase58Btc(),t=hn.base58Btc(r).toUint8Array(),{code:i,data:s,name:o}=ua.removePrefix({prefixedData:t});return{keyBytes:s,multicodecCode:i,multicodecName:o}}catch{throw new Or(Lr.InvalidDid,`Invalid multibase identifier: ${n}`)}}var Zy=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class ul{constructor({uri:r,document:t,metadata:i,keyManager:s}){this.uri=r,this.document=t,this.metadata=i,this.keyManager=s}export(){return Zy(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let r=JSON.parse(JSON.stringify({uri:this.uri,document:this.document,metadata:this.metadata}));if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const t=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const s=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),o=yield this.keyManager.exportKey({keyUri:s});t.push(Object.assign({},o))}r.privateKeys=t}return r})}getSigner(r){return Zy(this,void 0,void 0,function*(){var t;const i=null===(t=this.document.verificationMethod)||void 0===t?void 0:t.find(_=>{var E,m;return Bc(_.id)===(null!==(E=Bc(r?.methodId))&&void 0!==E?E:Bc(null===(m=this.document.assertionMethod)||void 0===m?void 0:m[0]))});if(!i||!i.publicKeyJwk)throw new Or(Lr.InternalError,"A verification method intended for signing could not be determined from the DID Document");const s=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),o=yield this.keyManager.getPublicKey({keyUri:s}),a=this.keyManager;return{algorithm:zo.getJoseSignatureAlgorithmFromPublicKey(o),keyId:i.id,sign(_){return Zy(this,arguments,void 0,function*({data:E}){return yield a.sign({data:E,keyUri:s})})},verify(_){return Zy(this,arguments,void 0,function*({data:E,signature:m}){return yield a.verify({data:E,key:o,signature:m})})}}})}static import(r){return Zy(this,arguments,void 0,function*({portableDid:t,keyManager:i=new ll}){var s;const o=nm({didDocument:t.document});if(0===o.length)throw new Or(Lr.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let c of null!==(s=t.privateKeys)&&void 0!==s?s:[]){const _=yield i.getKeyUri({key:c});(yield i.getPublicKey({keyUri:_}).then(()=>!0).catch(()=>!1))||(yield i.importKey({key:c}))}for(let c of o){if(!c.publicKeyJwk)throw new Error(`Verification method '${c.id}' does not contain a public key in JWK format`);const _=yield i.getKeyUri({key:c.publicKeyJwk});yield i.getPublicKey({keyUri:_})}return new ul({uri:t.uri,document:t.document,metadata:t.metadata,keyManager:i})})}}const s1="0123456789abcdef",Yh=[],uE=[];for(let n=0;n<256;n++)Yh[n]=s1[n>>4&15]+s1[15&n],n<16&&(n<10?uE[48+n]=n:uE[87+n]=n);const RO=n=>{const r=n.length;let t="",i=0;for(;i<r;)t+=Yh[n[i++]];return t};for(var O0=typeof Uint8Array>"u"?[]:new Uint8Array(256),$D=0;$D<64;$D++)O0["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt($D)]=$D;const Oj=new TextDecoder,VD=(n,r)=>r?new TextDecoder(r).decode(n):Oj.decode(n),Rj=new TextEncoder,Vs=n=>Rj.encode(n);function a1(n){const r=n<0?1:0;return n=Math.abs(Number(n||1)),Math.floor(Math.log10(n))+1+r}function HD(n){return ArrayBuffer.isView(n)?"arraybufferview":Array.isArray(n)?"array":n instanceof Number?"number":n instanceof Boolean?"boolean":n instanceof Set?"set":n instanceof Map?"map":n instanceof String?"string":n instanceof ArrayBuffer?"arraybuffer":typeof n}function _s(n,r,t){const i=[];let s=null;return _s._encode(i,n),s=((n,r=0)=>{const t=n.length||0;if(!r){let a=t;for(;a--;)r+=n[a].length}const i=new Uint8Array(r);let s=r,o=t;for(;o--;)s-=n[o].length,i.set(n[o],s);return i})(i),_s.bytes=s.length,ArrayBuffer.isView(r)?(r.set(s,t),r):s}typeof window<"u"?window:self,_s.bytes=-1,_s._floatConversionDetected=!1,_s._encode=function(n,r){if(null!=r)switch(HD(r)){case"object":_s.dict(n,r);break;case"map":_s.dictMap(n,r);break;case"array":_s.list(n,r);break;case"set":_s.listSet(n,r);break;case"string":_s.string(n,r);break;case"number":case"boolean":_s.number(n,r);break;case"arraybufferview":_s.buffer(n,new Uint8Array(r.buffer,r.byteOffset,r.byteLength));break;case"arraybuffer":_s.buffer(n,new Uint8Array(r))}};const Qy=new Uint8Array([101]),hE=new Uint8Array([100]),pE=new Uint8Array([108]);_s.buffer=function(n,r){n.push(Vs(r.length+":"),r)},_s.string=function(n,r){n.push(Vs(Vs(r).byteLength+":"+r))},_s.number=function(n,r){if(Number.isInteger(r))return n.push(Vs("i"+BigInt(r)+"e"));const t=2147483648,o=(r/t|0)*t+(r%t|0);n.push(Vs("i"+o+"e")),o!==r&&!_s._floatConversionDetected&&(_s._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+r+'":','Bencoding only defines support for integers, value was converted to "'+o+'"'),console.trace())},_s.dict=function(n,r){n.push(hE);let i,t=0;const s=Object.keys(r).sort(),o=s.length;for(;t<o;t++)i=s[t],null!=r[i]&&(_s.string(n,i),_s._encode(n,r[i]));n.push(Qy)},_s.dictMap=function(n,r){n.push(hE);const t=Array.from(r.keys()).sort();for(const i of t)null!=r.get(i)&&(ArrayBuffer.isView(i)?_s._encode(n,i):_s.string(n,String(i)),_s._encode(n,r.get(i)));n.push(Qy)},_s.list=function(n,r){let t=0;const i=r.length;for(n.push(pE);t<i;t++)null!=r[t]&&_s._encode(n,r[t]);n.push(Qy)},_s.listSet=function(n,r){n.push(pE);for(const t of r)null!=t&&_s._encode(n,t);n.push(Qy)};const GD=_s;function Qd(n,r,t){let i=0,s=1;for(let o=r;o<t;o++){const a=n[o];if(a<58&&a>=48)i=10*i+(a-48);else if(o!==r||43!==a){if(o===r&&45===a){s=-1;continue}if(46===a)break;throw new Error("not a number: buffer["+o+"] = "+a)}}return i*s}function ti(n,r,t,i){return null==n||0===n.length?null:("number"!=typeof r&&null==i&&(i=r,r=void 0),"number"!=typeof t&&null==i&&(i=t,t=void 0),ti.position=0,ti.encoding=i||null,ti.data=ArrayBuffer.isView(n)?new Uint8Array(n.slice(r,t)):Vs(n),ti.bytes=ti.data.length,ti.next())}function rm(n){if(null==n)return 0;const t=HD(n);switch(t){case"arraybufferview":return function WD(n){const r=n.byteLength-n.byteOffset;return a1(r)+1+r}(n);case"string":return function $j(n){const r=Vs(n).byteLength;return a1(r)+1+r}(n);case"array":case"set":return function Bj(n){let r=2;for(const t of n)r+=rm(t);return r}(n);case"number":return 1+a1(Math.floor(n))+1;case"bigint":return 1+n.toString().length+1;case"object":return function jj(n){let r=2;const t=Object.keys(n);for(let i=0;i<t.length;i++){const s=Vs(t[i]).byteLength;r+=a1(s)+1+s,r+=rm(n[t[i]])}return r}(n);case"map":return function Lj(n){let r=2;for(const[t,i]of n){const s=Vs(t).byteLength;r+=a1(s)+1+s,r+=rm(i)}return r}(n);default:throw new TypeError(`Unsupported value of type "${t}"`)}}ti.bytes=0,ti.position=0,ti.data=null,ti.encoding=null,ti.next=function(){switch(ti.data[ti.position]){case 100:return ti.dictionary();case 108:return ti.list();case 105:return ti.integer();default:return ti.buffer()}},ti.find=function(n){let r=ti.position;const t=ti.data.length,i=ti.data;for(;r<t;){if(i[r]===n)return r;r++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(n)+'" [0x'+n.toString(16)+"]")},ti.dictionary=function(){ti.position++;const n={};for(;101!==ti.data[ti.position];){const r=ti.buffer();let t=VD(r);t.includes("\ufffd")&&(t=RO(r)),n[t]=ti.next()}return ti.position++,n},ti.list=function(){ti.position++;const n=[];for(;101!==ti.data[ti.position];)n.push(ti.next());return ti.position++,n},ti.integer=function(){const n=ti.find(101),r=Qd(ti.data,ti.position+1,n);return ti.position+=n+1-ti.position,r},ti.buffer=function(){let n=ti.find(58);const r=Qd(ti.data,ti.position,n),t=++n+r;return ti.position=t,ti.encoding?VD(ti.data.slice(n,t)):ti.data.slice(n,t)};const VO={encode:GD,decode:ti,byteLength:rm,encodingLength:rm},Uj=/^(\d{1,3}\.){3,3}\d{1,3}$/,UO=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,Xf={name:"v4",size:4,isFormat:n=>Uj.test(n),encode(n,r,t){t=~~t,r=r||new Uint8Array(t+4);const i=n.length;let s=0;for(let o=0;o<i;){const a=n.charCodeAt(o++);46===a?(r[t++]=s,s=0):s=10*s+(a-48)}return r[t]=s,r},decode:(n,r)=>(r=~~r,`${n[r++]}.${n[r++]}.${n[r++]}.${n[r]}`)},Zh={name:"v6",size:16,isFormat:n=>n.length>0&&UO.test(n),encode(n,r,t){let i=16+(t=~~t),s=-1,o=0,a=0,c=!0,_=!1;r=r||new Uint8Array(t+16);for(let E=0;E<n.length;E++){let m=n.charCodeAt(E);58===m?(c?-1!==s?(t<i&&(r[t]=0),t<i-1&&(r[t+1]=0),t+=2):t<i&&(s=t):(!0===_?(t<i&&(r[t]=a),t++):(t<i&&(r[t]=o>>8),t<i-1&&(r[t+1]=255&o),t+=2),o=0,a=0),c=!0,_=!1):46===m?(t<i&&(r[t]=a),t++,a=0,o=0,c=!1,_=!0):(c=!1,m>=97?m-=87:m>=65?m-=55:(m-=48,a=10*a+m),o=(o<<4)+m)}if(!1===c)!0===_?(t<i&&(r[t]=a),t++):(t<i&&(r[t]=o>>8),t<i-1&&(r[t+1]=255&o),t+=2);else if(0===s)t<i&&(r[t]=0),t<i-1&&(r[t+1]=0),t+=2;else if(-1!==s){t+=2;for(let E=Math.min(t-1,i-1);E>=s+2;E--)r[E]=r[E-2];r[s]=0,r[s+1]=0,s=t}if(s!==t&&-1!==s)for(t>i-2&&(t=i-2);i>s;)r[--i]=t<i&&t>s?r[--t]:0;else for(;t<i;)r[t++]=0;return r},decode(n,r){r=~~r;let t="";for(let i=0;i<16;i+=2)0!==i&&(t+=":"),t+=(n[r+i]<<8|n[r+i+1]).toString(16);return t.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function zO(n){if(Xf.isFormat(n))return Xf.size;if(Zh.isFormat(n))return Zh.size;throw Error(`Invalid ip address: ${n}`)}function mE(n){switch(n){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+n}function c1(n){switch(n.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return n.toUpperCase().startsWith("UNKNOWN_")?parseInt(n.slice(8)):0}function Kj(n){switch(n){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+n}function qj(n){switch(n){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+n}function gE(n){switch(n){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+n}function Xj(n){switch(n.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function yE(n){if("number"==typeof n)return n;if(!n)return-1;switch(n.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const r=n.match(/_(\d+)$/);return r?parseInt(r[1],10):-1}const vE=55296,ev=56320;function qD(n){let r=0;const t=n.length;for(let i=0;i<t;i+=1){const s=n.charCodeAt(i);if(s<=127)r+=1;else if(s<=2047)r+=2;else if((63488&s)!==vE)r+=3;else{const o=i+1;o===t||s>=ev||(64512&n.charCodeAt(o))!==ev?r+=3:(i=o,r+=4)}}return r}function l1(n,r,t){const i=n.length;null==t&&(t=0),void 0===r&&(r=new Uint8Array(qD(n)+t));let s=t;for(let o=0;o<i;o+=1){let a=n.charCodeAt(o);if(a<=127)r[s++]=a;else if(a<=2047)r[s++]=192|(1984&a)>>6,r[s++]=128|63&a;else if((63488&a)!==vE)r[s++]=224|(61440&a)>>12,r[s++]=128|(4032&a)>>6,r[s++]=128|63&a;else{const c=o+1;if(c===i||a>=ev)r[s++]=239,r[s++]=191,r[s++]=189;else{const _=n.charCodeAt(c);(64512&_)!==ev?(r[s++]=239,r[s++]=191,r[s++]=189):(o=c,a=65536|(1023&a)<<10|1023&_,r[s++]=240|(1835008&a)>>18,r[s++]=128|(258048&a)>>12,r[s++]=128|(4032&a)>>6,r[s++]=128|63&a)}}}return l1.bytes=s-t,r}function tv(n,r,t){let i="";null==r&&(r=0),null==t&&(t=n.length);for(let s=r;s<t;){const o=n[s++];let a;o<=128?a=o:o>191&&o<224?a=(31&o)<<6|63&n[s++]:o>239&&o<365?(a=((7&o)<<18|(63&n[s++])<<12|(63&n[s++])<<6|63&n[s++])-65536,i+=String.fromCharCode(vE|a>>10&1023),a=ev|1023&a):a=(15&o)<<12|(63&n[s++])<<6|63&n[s++],i+=String.fromCharCode(a)}return tv.bytes=t-r,i}l1.bytes=0,tv.bytes=0;const im=n=>n instanceof Uint8Array;function sm(n){return"string"==typeof n?qD(n):n.byteLength}function bE(n){return n instanceof Uint8Array?n:Array.isArray(n)?new Uint8Array(n):l1(n)}function HO(n,r,t){if("string"!=typeof r)throw new Error("unknown input type");return l1(r,n,t),l1.bytes}const _E={},GO=new Array(255);for(let n=0;n<=15;n+=1){const r=n.toString(16),t=r.toUpperCase();for(let i=0;i<=15;i+=1){const s=i.toString(16),o=s.toUpperCase(),a=n<<4|i,c=`${r}${s}`;GO[a]=c,_E[c]=a,_E[`${t}${s}`]=a,_E[`${r}${o}`]=a,_E[`${t}${o}`]=a}}function d1(n){return n.length>>>1}const Qj=Math.pow(2,24),XD=Math.pow(2,16),e$=Math.pow(2,8),eu=(n,r)=>n[r]*Qj+n[r+1]*XD+n[r+2]*e$+n[r+3],Ai=(n,r)=>n[r]<<8|n[r+1],Gu=(n,r,t)=>(n[t+3]=r=+r,n[t+2]=r>>>=8,n[t+1]=r>>>=8,n[t]=r>>>=8,t+4),Gr=(n,r,t)=>(n[t]=r>>8,n[t+1]=255&r,t+2);function Cd(n,r,t,i,s){return t<0&&(i-=t,t=0),i<0&&(i=0),s<0?new Uint8Array(0):t>=r.length||i>=s?0:function t$(n,r,t,i,s){s-i>r.length-t&&(s=i+r.length-t);let o=s-i;const a=n.length-i;return o>a&&(o=a),(0!==i||s<n.length)&&(n=new Uint8Array(n.buffer,n.byteOffset+i,o)),r.set(n,t),o}(n,r,t,i,s)}function Us({bytes:n=0,encode:r,decode:t,encodingLength:i}){return r.bytes=n,t.bytes=n,{encode:r,decode:t,encodingLength:i||(()=>n)}}const wr=Us({encode(n,r,t){r||(r=new Uint8Array(wr.encodingLength(n))),t||(t=0);const i=t,s=n.replace(/^\.|\.$/gm,"");if(s.length){const o=s.split(".");for(let a=0;a<o.length;a++){const c=HO(r,o[a],t+1);r[t]=c,t+=c+1}}return r[t++]=0,wr.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=[];let i=r,s=0,o=0,a=!1;for(;;){if(r>=n.length)throw new Error("Cannot decode name (buffer overflow)");const c=n[r++];if(o+=a?0:1,0===c)break;if(192&c){if(192&~c)throw new Error("Cannot decode name (bad label)");{if(r+1>n.length)throw new Error("Cannot decode name (buffer overflow)");const _=Ai(n,r-1)-49152;if(_>=i)throw new Error("Cannot decode name (bad pointer)");r=_,i=_,o+=a?0:1,a=!0}}else{if(r+c>n.length)throw new Error("Cannot decode name (buffer overflow)");if(s+=c+1,s>254)throw new Error("Cannot decode name (name too long)");t.push(tv(n,r,r+c)),r+=c,o+=a?0:c}}return wr.decode.bytes=o,0===t.length?".":t.join(".")},encodingLength:n=>"."===n||".."===n?1:sm(n.replace(/^\.|\.$/gm,""))+2}),ea=Us({encode(n,r,t){r||(r=new Uint8Array(ea.encodingLength(n))),t||(t=0);const i=HO(r,n,t+1);return r[t]=i,ea.encode.bytes=i+1,r},decode(n,r){r||(r=0);const t=n[r],i=tv(n,r+1,r+1+t);return ea.decode.bytes=t+1,i},encodingLength:n=>sm(n)+1}),F0=Us({bytes:12,encode(n,r,t){r||(r=new Uint8Array(F0.encodingLength(n))),t||(t=0);const i=32767&(n.flags||0),s="response"===n.type?32768:0;return Gr(r,n.id||0,t),Gr(r,i|s,t+2),Gr(r,n.questions.length,t+4),Gr(r,n.answers.length,t+6),Gr(r,n.authorities.length,t+8),Gr(r,n.additionals.length,t+10),r},decode(n,r){if(r||(r=0),n.length<12)throw new Error("Header must be 12 bytes");const t=Ai(n,r+2);return{id:Ai(n,r),type:32768&t?"response":"query",flags:32767&t,flag_qr:1==(t>>15&1),opcode:qj(t>>11&15),flag_aa:1==(t>>10&1),flag_tc:1==(t>>9&1),flag_rd:1==(t>>8&1),flag_ra:1==(t>>7&1),flag_z:1==(t>>6&1),flag_ad:1==(t>>5&1),flag_cd:1==(t>>4&1),rcode:Kj(15&t),questions:new Array(Ai(n,r+4)),answers:new Array(Ai(n,r+6)),authorities:new Array(Ai(n,r+8)),additionals:new Array(Ai(n,r+10))}},encodingLength:()=>12}),Yf=Us({encode(n,r,t){r||(r=new Uint8Array(Yf.encodingLength(n))),t||(t=0);const i=n.length;return Gr(r,i,t),Cd(n,r,t+2,0,i),Yf.encode.bytes=i+2,r},decode(n,r){r||(r=0);const t=Ai(n,r),i=n.slice(r+2,r+2+t);return Yf.decode.bytes=t+2,i},encodingLength:n=>n.length+2}),xE=Us({encode:(n,r,t)=>(r||(r=new Uint8Array(xE.encodingLength(n))),t||(t=0),wr.encode(n,r,t+2),Gr(r,wr.encode.bytes,t),xE.encode.bytes=wr.encode.bytes+2,r),decode(n,r){r||(r=0);const t=Ai(n,r),i=wr.decode(n,r+2);return xE.decode.bytes=t+2,i},encodingLength:n=>wr.encodingLength(n)+2}),EE=Us({encode(n,r,t){r||(r=new Uint8Array(EE.encodingLength(n))),t||(t=0);const i=t;return wr.encode(n.mname,r,t+=2),wr.encode(n.rname,r,t+=wr.encode.bytes),Gu(r,n.serial||0,t+=wr.encode.bytes),Gu(r,n.refresh||0,t+=4),Gu(r,n.retry||0,t+=4),Gu(r,n.expire||0,t+=4),Gu(r,n.minimum||0,t+=4),Gr(r,(t+=4)-i-2,i),EE.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r,i={};return i.mname=wr.decode(n,r+=2),i.rname=wr.decode(n,r+=wr.decode.bytes),i.serial=eu(n,r+=wr.decode.bytes),i.refresh=eu(n,r+=4),i.retry=eu(n,r+=4),i.expire=eu(n,r+=4),i.minimum=eu(n,r+=4),EE.decode.bytes=(r+=4)-t,i},encodingLength:n=>22+wr.encodingLength(n.mname)+wr.encodingLength(n.rname)}),Jh=Us({encode(n,r,t){Array.isArray(n)||(n=[n]);for(let s=0;s<n.length;s++)if("string"==typeof n[s]&&(n[s]=bE(n[s])),!im(n[s]))throw new Error("Must be a Buffer");r||(r=new Uint8Array(Jh.encodingLength(n))),t||(t=0);const i=t;return t+=2,n.forEach(function(s){r[t++]=s.length,Cd(s,r,t,0,s.length),t+=s.length}),Gr(r,t-i-2,i),Jh.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r;let i=Ai(n,r);r+=2;const s=[];for(;i>0;){const o=n[r++];if(--i,i<o)throw new Error("Buffer overflow");s.push(n.slice(r,r+o)),r+=o,i-=o}return Jh.decode.bytes=r-t,s},encodingLength(n){Array.isArray(n)||(n=[n]);let r=2;return n.forEach(function(t){r+="string"==typeof t?sm(t)+1:t.length+1}),r}}),ZD=Us({encode(n,r,t){r||(r=new Uint8Array(ZD.encodingLength(n))),t||(t=0),"string"==typeof n&&(n=bE(n)),n||(n=new Uint8Array(0));const i=t,s=n.length;return Cd(n,r,t+=2,0,s),Gr(r,(t+=s)-i-2,i),ZD.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r,i=Ai(n,r),s=n.slice(r+=2,r+i);return ZD.decode.bytes=(r+=i)-t,s},encodingLength:n=>n?(im(n)?n.length:sm(n))+2:2}),nv=Us({encode(n,r,t){r||(r=new Uint8Array(nv.encodingLength(n))),t||(t=0);const i=t;return ea.encode(n.cpu,r,t+=2),ea.encode(n.os,r,t+=ea.encode.bytes),Gr(r,(t+=ea.encode.bytes)-i-2,i),nv.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r,i={};return i.cpu=ea.decode(n,r+=2),i.os=ea.decode(n,r+=ea.decode.bytes),nv.decode.bytes=(r+=ea.decode.bytes)-t,i},encodingLength:n=>ea.encodingLength(n.cpu)+ea.encodingLength(n.os)+2}),f1=Us({encode:(n,r,t)=>(r||(r=new Uint8Array(f1.encodingLength(n))),t||(t=0),wr.encode(n,r,t+2),Gr(r,wr.encode.bytes,t),f1.encode.bytes=wr.encode.bytes+2,r),decode(n,r){r||(r=0);const t=wr.decode(n,r+2);return f1.decode.bytes=wr.decode.bytes+2,t},encodingLength:n=>wr.encodingLength(n)+2}),h1=Us({encode(n,r,t){r||(r=new Uint8Array(h1.encodingLength(n))),t||(t=0),Gr(r,n.priority||0,t+2),Gr(r,n.weight||0,t+4),Gr(r,n.port||0,t+6),wr.encode(n.target,r,t+8);const i=wr.encode.bytes+6;return Gr(r,i,t),h1.encode.bytes=i+2,r},decode(n,r){r||(r=0);const t=Ai(n,r),i={};return i.priority=Ai(n,r+2),i.weight=Ai(n,r+4),i.port=Ai(n,r+6),i.target=wr.decode(n,r+8),h1.decode.bytes=t+2,i},encodingLength:n=>8+wr.encodingLength(n.target)}),Qh=Us({encode(n,r,t){const i=Qh.encodingLength(n);return r||(r=new Uint8Array(Qh.encodingLength(n))),t||(t=0),n.issuerCritical&&(n.flags=Qh.ISSUER_CRITICAL),Gr(r,i-2,t),r[t+=2]=n.flags||0,ea.encode(n.tag,r,t+=1),HO(r,n.value,t+=ea.encode.bytes),t+=sm(n.value),Qh.encode.bytes=i,r},decode(n,r){r||(r=0);const t=Ai(n,r),i=r+=2,s={};return s.flags=n[r],s.tag=ea.decode(n,r+=1),s.value=tv(n,r+=ea.decode.bytes,i+t),s.issuerCritical=!!(s.flags&Qh.ISSUER_CRITICAL),Qh.decode.bytes=t+2,s},encodingLength:n=>ea.encodingLength(n.tag)+ea.encodingLength(n.value)+2});Qh.ISSUER_CRITICAL=128;const JD=Us({encode(n,r,t){r||(r=new Uint8Array(JD.encodingLength(n))),t||(t=0);const i=t;return Gr(r,n.preference||0,t+=2),wr.encode(n.exchange,r,t+=2),Gr(r,(t+=wr.encode.bytes)-i-2,i),JD.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r,i={};return i.preference=Ai(n,r+=2),i.exchange=wr.decode(n,r+=2),JD.decode.bytes=(r+=wr.decode.bytes)-t,i},encodingLength:n=>4+wr.encodingLength(n.exchange)}),N0=Us({encode:(n,r,t)=>(r||(r=new Uint8Array(N0.encodingLength(n))),t||(t=0),Gr(r,4,t),Xf.encode(n,r,t+=2),r),decode:(n,r)=>(r||(r=0),Xf.decode(n,r+=2)),bytes:6}),SE=Us({encode:(n,r,t)=>(r||(r=new Uint8Array(SE.encodingLength(n))),t||(t=0),Gr(r,16,t),Zh.encode(n,r,t+=2),SE.encode.bytes=18,r),decode(n,r){r||(r=0);const t=Zh.decode(n,r+=2);return SE.decode.bytes=18,t},bytes:18}),qO=n=>new Uint8Array(n),ep=Us({encode(n,r,t){r||(r=new Uint8Array(ep.encodingLength(n))),t||(t=0);const i=t,s=yE(n.code);if(Gr(r,s,t),t+=2,n.data)Gr(r,n.data.length,t),Cd(n.data,r,t+=2),t+=n.data.length;else switch(s){case 8:{const o=n.sourcePrefixLength||0,a=n.family||function Hj(n){return zO(n)===Xf.size?1:2}(n.ip),c=function Gj(n,r,t){t=~~t;const i=zO(n);return"function"==typeof r&&(r=r(t+i)),i===Xf.size?Xf.encode(n,r,t):Zh.encode(n,r,t)}(n.ip,qO),_=Math.ceil(o/8);Gr(r,_+4,t),Gr(r,a,t+=2),t+=2,r[t++]=o,r[t++]=n.scopePrefixLength||0,Cd(c,r,t,0,_),t+=_}break;case 11:n.timeout?(Gr(r,2,t),Gr(r,n.timeout,t+=2),t+=2):(Gr(r,0,t),t+=2);break;case 12:{const o=n.length||0;Gr(r,o,t),r.fill(0,t+=2,t+o),t+=o}break;case 14:Gr(r,2*n.tags.length,t),t+=2;for(const a of n.tags)Gr(r,a,t),t+=2;break;default:throw new Error(`Unknown roption code: ${n.code}`)}return ep.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t={};t.code=Ai(n,r),t.type=function Yj(n){switch(n){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return n<0?null:`OPTION_${n}`}(t.code);const i=Ai(n,r+=2);switch(t.data=n.slice(r+=2,r+i),t.code){case 8:t.family=Ai(n,r),r+=2,t.sourcePrefixLength=n[r++],t.scopePrefixLength=n[r++];{const s=new Uint8Array(1===t.family?4:16);Cd(n,s,0,r,r+i-4),t.ip=function Wj(n,r,t){if(r=~~r,(t=t||n.length-r)===Xf.size)return Xf.decode(n,r,t);if(t===Zh.size)return Zh.decode(n,r,t);throw Error(`Invalid buffer size needs to be ${Xf.size} for v4 or ${Zh.size} for v6.`)}(s)}break;case 11:i>0&&(t.timeout=Ai(n,r),r+=2);break;case 14:t.tags=[];for(let s=0;s<i;s+=2)t.tags.push(Ai(n,r)),r+=2}return ep.decode.bytes=i+4,t},encodingLength(n){if(n.data)return n.data.length+4;switch(yE(n.code)){case 8:return Math.ceil((n.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof n.timeout?6:4;case 12:return n.length+4;case 14:return 4+2*n.tags.length}throw new Error(`Unknown roption code: ${n.code}`)}}),Wu=Us({encode(n,r,t){r||(r=new Uint8Array(Wu.encodingLength(n))),t||(t=0);const i=t,s=iv(n,ep);return Gr(r,s,t),t=b1(n,ep,r,t+2),Wu.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t=r,i=[];let s=Ai(n,r);r+=2;let o=0;for(;s>0;)i[o++]=ep.decode(n,r),r+=ep.decode.bytes,s-=ep.decode.bytes;return Wu.decode.bytes=r-t,i},encodingLength:n=>2+iv(n||[],ep)}),Zf=Us({encode(n,r,t){r||(r=new Uint8Array(Zf.encodingLength(n))),t||(t=0);const i=t,s=n.key;if(!im(s))throw new Error("Key must be a Buffer");return Gr(r,n.flags,t+=2),r[t+=2]=Zf.PROTOCOL_DNSSEC,r[t+=1]=n.algorithm,Cd(s,r,t+=1,0,s.length),Zf.encode.bytes=(t+=s.length)-i,Gr(r,Zf.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={},s=Ai(n,r);if(i.flags=Ai(n,r+=2),n[r+=2]!==Zf.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return i.algorithm=n[r+=1],i.key=n.slice(r+=1,t+s+2),Zf.decode.bytes=(r+=i.key.length)-t,i},encodingLength:n=>6+sm(n.key)});Zf.PROTOCOL_DNSSEC=3,Zf.ZONE_KEY=128,Zf.SECURE_ENTRYPOINT=32768;const om=Us({encode(n,r,t){r||(r=new Uint8Array(om.encodingLength(n))),t||(t=0);const i=t,s=n.signature;if(!im(s))throw new Error("Signature must be a Buffer");return t+=2,Gr(r,c1(n.typeCovered),t),r[t+=2]=n.algorithm,r[t+=1]=n.labels,Gu(r,n.originalTTL,t+=1),Gu(r,n.expiration,t+=4),Gu(r,n.inception,t+=4),Gr(r,n.keyTag,t+=4),wr.encode(n.signersName,r,t+=2),Cd(s,r,t+=wr.encode.bytes,0,s.length),om.encode.bytes=(t+=s.length)-i,Gr(r,om.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={},s=Ai(n,r);return i.typeCovered=mE(Ai(n,r+=2)),i.algorithm=n[r+=2],i.labels=n[r+=1],i.originalTTL=eu(n,r+=1),i.expiration=eu(n,r+=4),i.inception=eu(n,r+=4),i.keyTag=Ai(n,r+=4),i.signersName=wr.decode(n,r+=2),i.signature=n.slice(r+=wr.decode.bytes,t+s+2),om.decode.bytes=(r+=i.signature.length)-t,i},encodingLength:n=>20+wr.encodingLength(n.signersName)+sm(n.signature)}),am=Us({encode(n,r,t){r||(r=new Uint8Array(am.encodingLength(n))),t||(t=0);const i=t;return wr.encode(n.mbox||".",r,t+=2),wr.encode(n.txt||".",r,t+=wr.encode.bytes),am.encode.bytes=(t+=wr.encode.bytes)-i,Gr(r,am.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={};return i.mbox=wr.decode(n,r+=2)||".",i.txt=wr.decode(n,r+=wr.decode.bytes)||".",am.decode.bytes=(r+=wr.decode.bytes)-t,i},encodingLength:n=>2+wr.encodingLength(n.mbox||".")+wr.encodingLength(n.txt||".")}),Xs=Us({encode(n,r,t){r||(r=new Uint8Array(Xs.encodingLength(n))),t||(t=0);const i=t,s=[];for(let o=0;o<n.length;o++){const a=c1(n[o]);void 0===s[a>>8]&&(s[a>>8]=[]),s[a>>8][a>>3&31]|=1<<7-(7&a)}for(let o=0;o<s.length;o++)if(void 0!==s[o]){const a=bE(s[o]);r[t]=o,r[t+=1]=a.length,Cd(a,r,t+=1,0,a.length),t+=a.length}return Xs.encode.bytes=t-i,r},decode(n,r,t){r||(r=0);const i=r,s=[];for(;r-i<t;){const o=n[r],a=n[r+=1];r+=1;for(let c=0;c<a;c++){const _=n[r+c];for(let E=0;E<8;E++)if(_&1<<7-E){const m=mE(o<<8|c<<3|E);s.push(m)}}r+=a}return Xs.decode.bytes=r-i,s},encodingLength(n){const r=[];for(let i=0;i<n.length;i++){const s=c1(n[i]);r[s>>8]=Math.max(r[s>>8]||0,255&s)}let t=0;for(let i=0;i<r.length;i++)void 0!==r[i]&&(t+=2+Math.ceil((r[i]+1)/8));return t}}),rv=Us({encode(n,r,t){r||(r=new Uint8Array(rv.encodingLength(n))),t||(t=0);const i=t;return wr.encode(n.nextDomain,r,t+=2),Xs.encode(n.rrtypes,r,t+=wr.encode.bytes),rv.encode.bytes=(t+=Xs.encode.bytes)-i,Gr(r,rv.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={},s=Ai(n,r);return i.nextDomain=wr.decode(n,r+=2),i.rrtypes=Xs.decode(n,r+=wr.decode.bytes,s-(r-t)),rv.decode.bytes=(r+=Xs.decode.bytes)-t,i},encodingLength:n=>2+wr.encodingLength(n.nextDomain)+Xs.encodingLength(n.rrtypes)}),p1=Us({encode(n,r,t){r||(r=new Uint8Array(p1.encodingLength(n))),t||(t=0);const i=t,s=n.salt;if(!im(s))throw new Error("salt must be a Buffer");const o=n.nextDomain;if(!im(o))throw new Error("nextDomain must be a Buffer");return r[t+=2]=n.algorithm,r[t+=1]=n.flags,Gr(r,n.iterations,t+=1),r[t+=2]=s.length,Cd(s,r,t+=1,0,s.length),r[t+=s.length]=o.length,Cd(o,r,t+=1,0,o.length),Xs.encode(n.rrtypes,r,t+=o.length),p1.encode.bytes=(t+=Xs.encode.bytes)-i,Gr(r,p1.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={},s=Ai(n,r);i.algorithm=n[r+=2],i.flags=n[r+=1],i.iterations=Ai(n,r+=1);const o=n[r+=2];i.salt=n.slice(r+=1,r+o);const a=n[r+=o];return i.nextDomain=n.slice(r+=1,r+a),i.rrtypes=Xs.decode(n,r+=a,s-(r-t)),p1.decode.bytes=(r+=Xs.decode.bytes)-t,i},encodingLength:n=>8+n.salt.length+n.nextDomain.length+Xs.encodingLength(n.rrtypes)}),m1=Us({encode(n,r,t){r||(r=new Uint8Array(m1.encodingLength(n))),t||(t=0);const i=t,s=n.digest;if(!im(s))throw new Error("Digest must be a Buffer");return Gr(r,n.keyTag,t+=2),r[t+=2]=n.algorithm,r[t+=1]=n.digestType,Cd(s,r,t+=1,0,s.length),m1.encode.bytes=(t+=s.length)-i,Gr(r,m1.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={},s=Ai(n,r);return i.keyTag=Ai(n,r+=2),i.algorithm=n[r+=2],i.digestType=n[r+=1],i.digest=n.slice(r+=1,t+s+2),m1.decode.bytes=(r+=i.digest.length)-t,i},encodingLength:n=>6+sm(n.digest)}),Jf=Us({encode(n,r,t){r||(r=new Uint8Array(Jf.encodingLength(n))),t||(t=0);const i=t;r[t+=2]=n.algorithm,r[t+=1]=n.hash,t+=1;const s=d1(n.fingerprint),o=B0(n.hash);if(s!==o)throw new Error(`Invalid length of fingerprint "${n.fingerprint}" for hashType=${n.hash}: ${s} != ${o}`);return function Jj(n,r,t,i){let s=0;for(;t<i;){const o=r.substr(s,2),a=_E[o];if(void 0===a)return;n[t++]=a,s+=2}}(r,n.fingerprint,t,t+=s),Jf.encode.bytes=t-i,Gr(r,Jf.encode.bytes-2,i),r},decode(n,r){r||(r=0);const t=r,i={};i.algorithm=n[r+=2],i.hash=n[r+=1],r+=1;const s=B0(i.hash);return i.fingerprint=function WO(n,r,t){let i="";for(let s=r;s<t;){const o=n[s++];i+=GO[o]}return i}(n,r,r+s),Jf.decode.bytes=(r+=s)-t,i},encodingLength:n=>4+d1(n.fingerprint)});function B0(n){if(1===n)return 20;if(2===n)return 32;throw new Error(`Invalid hashType=${n}, supported=1,2`)}function QD(n){switch(n.toUpperCase()){case"A":return N0;case"PTR":case"CNAME":case"DNAME":return f1;case"TXT":return Jh;case"NULL":return ZD;case"AAAA":return SE;case"SRV":return h1;case"HINFO":return nv;case"CAA":return Qh;case"NS":return xE;case"SOA":return EE;case"MX":return JD;case"OPT":return Wu;case"DNSKEY":return Zf;case"RRSIG":return om;case"RP":return am;case"NSEC":return rv;case"NSEC3":return p1;case"SSHFP":return Jf;case"DS":return m1}return Yf}Jf.getFingerprintLengthForHashType=B0;const tu=Us({encode(n,r,t){r||(r=new Uint8Array(tu.encodingLength(n))),t||(t=0);const i=t;if(wr.encode(n.name,r,t),t+=wr.encode.bytes,Gr(r,c1(n.type),t),"OPT"===n.type.toUpperCase()){if("."!==n.name)throw new Error("OPT name must be root.");Gr(r,n.udpPayloadSize||4096,t+2),r[t+4]=n.extendedRcode||0,r[t+5]=n.ednsVersion||0,Gr(r,n.flags||0,t+6),Wu.encode(n.options||[],r,t+=8),t+=Wu.encode.bytes}else{let s=Xj(void 0===n.class?"IN":n.class);n.flush&&(s|=32768),Gr(r,s,t+2),Gu(r,n.ttl||0,t+4),t+=8;const o=QD(n.type);o.encode(n.data,r,t),t+=o.encode.bytes}return tu.encode.bytes=t-i,r},decode(n,r){r||(r=0);const t={},i=r;if(t.name=wr.decode(n,r),t.type=mE(Ai(n,r+=wr.decode.bytes)),"OPT"===t.type)t.udpPayloadSize=Ai(n,r+2),t.extendedRcode=n[r+4],t.ednsVersion=n[r+5],t.flags=Ai(n,r+6),t.flag_do=1==(t.flags>>15&1),t.options=Wu.decode(n,r+8),r+=8+Wu.decode.bytes;else{const s=Ai(n,r+2);t.ttl=eu(n,r+4),t.class=gE(-32769&s),t.flush=!!(32768&s);const o=QD(t.type);t.data=o.decode(n,r+8),r+=8+o.decode.bytes}return tu.decode.bytes=r-i,t},encodingLength(n){const r=null!=n.data?n.data:n.options;return wr.encodingLength(n.name)+8+QD(n.type).encodingLength(r)}}),L0=Us({encode(n,r,t){r||(r=new Uint8Array(L0.encodingLength(n))),t||(t=0);const i=t;return wr.encode(n.name,r,t),t+=wr.encode.bytes,Gr(r,c1(n.type),t),t+=2,Gr(r,Xj(void 0===n.class?"IN":n.class),t),L0.encode.bytes=(t+=2)-i,n},decode(n,r){r||(r=0);const t=r,i={};return i.name=wr.decode(n,r),i.type=mE(Ai(n,r+=wr.decode.bytes)),i.class=gE(Ai(n,r+=2)),r+=2,!!(32768&i.class)&&(i.class&=-32769),L0.decode.bytes=r-t,i},encodingLength:n=>wr.encodingLength(n.name)+4}),dc={encode:function(n,r,t){const i=!r;i&&(r=new Uint8Array(fZ(n))),t||(t=0);const s=t;return n.questions||(n.questions=[]),n.answers||(n.answers=[]),n.authorities||(n.authorities=[]),n.additionals||(n.additionals=[]),F0.encode(n,r,t),t=b1(n.questions,L0,r,t+=F0.encode.bytes),t=b1(n.answers,tu,r,t),t=b1(n.authorities,tu,r,t),t=b1(n.additionals,tu,r,t),dc.encode.bytes=t-s,i&&tM.bytes!==r.length?r.slice(0,tM.bytes):r},decode:function(n,r){r||(r=0);const t=r,i=F0.decode(n,r);return r=_1(i.questions,L0,n,r+=F0.decode.bytes),r=_1(i.answers,tu,n,r),r=_1(i.authorities,tu,n,r),r=_1(i.additionals,tu,n,r),dc.decode.bytes=r-t,i},encodingLength:function(n){return F0.encodingLength(n)+iv(n.questions||[],L0)+iv(n.answers||[],tu)+iv(n.authorities||[],tu)+iv(n.additionals||[],tu)}};function y1(n,r){if(n.questions)throw new Error("Only one .question object expected instead of a .questions array!");const t=Object.assign({type:r},n);return t.question&&(t.questions=[t.question],delete t.question),t}dc.encode.bytes=0,dc.decode.bytes=0;const CE={encode:function(n,r,t){return r=dc.encode(y1(n,"query"),r,t),CE.encode.bytes=dc.encode.bytes,r},decode:function(n,r){const t=dc.decode(n,r);return CE.decode.bytes=dc.decode.bytes,t.questions&&(t.question=t.questions[0],delete t.questions),t},encodingLength:function(n){return dc.encodingLength(y1(n,"query"))}};CE.encode.bytes=0,CE.decode.bytes=0;const eM={encode:function(n,r,t){return r=dc.encode(y1(n,"response"),r,t),eM.encode.bytes=dc.encode.bytes,r},decode:function(n,r){const t=dc.decode(n,r);return eM.decode.bytes=dc.decode.bytes,t.questions&&(t.question=t.questions[0],delete t.questions),t},encodingLength:function(n){return dc.encodingLength(y1(n,"response"))}};eM.encode.bytes=0,eM.decode.bytes=0;const tM=dc.encode,XO=dc.decode,fZ=dc.encodingLength;function iv(n,r){let t=0;for(let i=0;i<n.length;i++)t+=r.encodingLength(n[i]);return t}function b1(n,r,t,i){for(let s=0;s<n.length;s++)r.encode(n[s],t,i),i+=r.encode.bytes;return i}function _1(n,r,t,i){for(let s=0;s<n.length;s++)n[s]=r.decode(t,i),i+=r.decode.bytes;return i}var sv=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class w1{static getSigningMethod(r){return sv(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(r,t){return sv(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Ka=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},YO=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};const ZO="https://diddht.tbddev.org",cm=7200,fl=",";var JO=function(n){return n[n.Discoverable=0]="Discoverable",n[n.Organization=1]="Organization",n[n.Government=2]="Government",n[n.Corporation=3]="Corporation",n[n.LocalBusiness=4]="LocalBusiness",n[n.SoftwarePackage=5]="SoftwarePackage",n[n.WebApp=6]="WebApp",n[n.FinancialInstitution=7]="FinancialInstitution",n}(JO||{}),qa=function(n){return n[n.Ed25519=0]="Ed25519",n[n.secp256k1=1]="secp256k1",n[n.secp256r1=2]="secp256r1",n[n.X25519=3]="X25519",n}(qa||{}),QO=function(n){return n.authentication="auth",n.assertionMethod="asm",n.capabilityDelegation="del",n.capabilityInvocation="inv",n.keyAgreement="agm",n}(QO||{});const rM={Ed25519:qa.Ed25519,ES256K:qa.secp256k1,ES256:qa.secp256r1,"P-256":qa.secp256r1,secp256k1:qa.secp256k1,secp256r1:qa.secp256r1,X25519:qa.X25519},iM={[qa.Ed25519]:"EdDSA",[qa.secp256k1]:"ES256K",[qa.secp256r1]:"ES256",[qa.X25519]:"ECDH-ES+A256KW"};let Qf=(()=>{class n extends w1{static create(){return Ka(this,arguments,void 0,function*({keyManager:t=new ll,options:i={}}={}){var s,o,a,c,_,E,m,j,oe,le,ue;if(null!==(s=i.verificationMethods)&&void 0!==s&&s.some(Qe=>!(Qe.algorithm in rM)))throw new Error("One or more verification method algorithms are not supported");const pe=null===(o=i.verificationMethods)||void 0===o?void 0:o.filter(Qe=>"id"in Qe).map(Qe=>Qe.id);if(pe&&pe.length!==new Set(pe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(Qe=>!Qe.id||!Qe.type||!Qe.serviceEndpoint))throw new Error("One or more services are missing required properties");const we=yield t.generateKey({algorithm:"Ed25519"}),Oe=yield t.getPublicKey({keyUri:we}),Pe=yield fa.identityKeyToIdentifier({identityKey:Oe}),Ie=Object.assign(Object.assign({id:Pe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),$e=[...null!==(c=i.verificationMethods)&&void 0!==c?c:[]];$e?.some(Qe=>{var tt;return"0"===(null===(tt=Qe.id)||void 0===tt?void 0:tt.split("#").pop())})||$e.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Qe of $e){const tt=Qe.id&&"0"===Qe.id.split("#").pop()?we:yield t.generateKey({algorithm:Qe.algorithm}),ot=yield t.getPublicKey({keyUri:tt});let xt=null!==(E=null!==(_=Qe.id)&&void 0!==_?_:ot.kid)&&void 0!==E?E:yield Pi({jwk:ot});xt=`${Pe}#${Bc(xt)}`,null!==(m=Ie.verificationMethod)&&void 0!==m||(Ie.verificationMethod=[]),Ie.verificationMethod.push({id:xt,type:"JsonWebKey",controller:null!==(j=Qe.controller)&&void 0!==j?j:Pe,publicKeyJwk:ot});for(const Ct of null!==(oe=Qe.purposes)&&void 0!==oe?oe:[])Ie[Ct]||(Ie[Ct]=[]),Ie[Ct].push(xt)}null===(le=i.services)||void 0===le||le.forEach(Qe=>{var tt;null!==(tt=Ie.service)&&void 0!==tt||(Ie.service=[]),Qe.id=`${Pe}#${Qe.id.split("#").pop()}`,Ie.service.push(Qe)});const Je=new ul({uri:Pe,document:Ie,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:t});if(null===(ue=i.publish)||void 0===ue||ue){const Qe=yield n.publish({did:Je,gatewayUri:i.gatewayUri});Je.metadata=Qe.didDocumentMetadata}return Je})}static import(t){return Ka(this,arguments,void 0,function*({portableDid:i,keyManager:s=new ll}){var o;const a=Gi.parse(i.uri);if(a?.method!==n.methodName)throw new Or(Lr.MethodNotSupported,"Method not supported");const c=yield ul.import({portableDid:i,keyManager:s});if(null===(o=c.document.verificationMethod)||void 0===o||!o.some(_=>{var E;return"0"===(null===(E=_.id)||void 0===E?void 0:E.split("#").pop())}))throw new Or(Lr.InvalidDidDocument,"DID document must contain an Identity Key");return c})}static getSigningMethod(t){return Ka(this,arguments,void 0,function*({didDocument:i,methodId:s="#0"}){var o;const a=Gi.parse(i.id);if(a&&a.method!==this.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${a.method}`);const c=null===(o=i.verificationMethod)||void 0===o?void 0:o.find(_=>{var E,m;return Bc(_.id)===(null!==(E=Bc(s))&&void 0!==E?E:Bc(null===(m=i.assertionMethod)||void 0===m?void 0:m[0]))});if(!c||!c.publicKeyJwk)throw new Or(Lr.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static publish(t){return Ka(this,arguments,void 0,function*({did:i,gatewayUri:s=ZO}){return yield eh.put({did:i,gatewayUri:s})})}static resolve(t){return Ka(this,arguments,void 0,function*(i,s={}){var o;const a=null!==(o=s?.gatewayUri)&&void 0!==o?o:ZO;try{yield fa.identifierToIdentityKey({didUri:i});const{didDocument:c,didDocumentMetadata:_}=yield eh.get({didUri:i,gatewayUri:a});return Object.assign(Object.assign({},Ha),{didDocument:c,didDocumentMetadata:_})}catch(c){if(!(c instanceof Or))throw new Error(c);return Object.assign(Object.assign({},Ha),{didResolutionMetadata:Object.assign({error:c.code},c.message&&{errorMessage:c.message})})}})}}return n.methodName="dht",n})();class eh{static get(r){return Ka(this,arguments,void 0,function*({didUri:t,gatewayUri:i}){const s=fa.identifierToIdentityKeyBytes({didUri:t}),o=yield eh.pkarrGet({gatewayUri:i,publicKeyBytes:s}),a=yield fa.parseBep44GetMessage({bep44Message:o}),c=yield eh.fromDnsPacket({didUri:t,dnsPacket:a});return c.didDocumentMetadata.versionId=o.seq.toString(),c})}static put(r){return Ka(this,arguments,void 0,function*({did:t,gatewayUri:i}){const s=yield eh.toDnsPacket({didDocument:t.document,didMetadata:t.metadata,authoritativeGatewayUris:[i]}),o=yield fa.createBep44PutMessage({dnsPacket:s,publicKeyBytes:fa.identifierToIdentityKeyBytes({didUri:t.uri}),signer:yield t.getSigner({methodId:"0"})}),a=yield eh.pkarrPut({gatewayUri:i,bep44Message:o});return{didDocument:t.document,didDocumentMetadata:Object.assign(Object.assign({},t.metadata),{published:a,versionId:o.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(r){return Ka(this,arguments,void 0,function*({gatewayUri:t,publicKeyBytes:i}){const s=hn.uint8Array(i).toBase32Z(),o=new URL(s,t).href;let a;try{if(a=yield fetch(o,{method:"GET"}),!a.ok)throw new Or(Lr.NotFound,`Pkarr record not found for: ${s}`)}catch(E){throw E instanceof Or?E:new Or(Lr.InternalError,`Failed to fetch Pkarr record: ${E.message}`)}const c=yield a.arrayBuffer();if(!c)throw new Or(Lr.NotFound,`Pkarr record not found for: ${s}`);if(c.byteLength<72)throw new Or(Lr.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${c.byteLength}`);if(c.byteLength>1072)throw new Or(Lr.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${c.byteLength}`);return{k:i,seq:Number(new DataView(c).getBigUint64(64)),sig:new Uint8Array(c,0,64),v:new Uint8Array(c,72)}})}static pkarrPut(r){return Ka(this,arguments,void 0,function*({gatewayUri:t,bep44Message:i}){const s=hn.uint8Array(i.k).toBase32Z(),o=new URL(s,t).href,a=new Uint8Array(i.v.length+72);let c;a.set(i.sig,0),new DataView(a.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),a.set(i.v,i.sig.length+8);try{c=yield fetch(o,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a})}catch(_){throw new Or(Lr.InternalError,`Failed to put Pkarr record for identifier ${s}: ${_.message}`)}return c.ok})}static fromDnsPacket(r){return Ka(this,arguments,void 0,function*({didUri:t,dnsPacket:i}){var s,o,a;const c={id:t},_={published:!0},E=new Map;for(const m of null!==(s=i?.answers)&&void 0!==s?s:[]){if("TXT"!==m.type)continue;const j=m.name.split(".")[0].substring(1);switch(!0){case j.startsWith("aka"):{const oe=fa.parseTxtDataToString(m.data);c.alsoKnownAs=oe.split(fl);break}case j.startsWith("cnt"):{const oe=fa.parseTxtDataToString(m.data);c.controller=oe.includes(fl)?oe.split(fl):oe;break}case j.startsWith("k"):{const{id:oe,t:le,k:ue,c:pe,a:we}=fa.parseTxtDataToObject(m.data),Oe=hn.base64Url(ue).toUint8Array(),Pe=qa[Number(le)];let Ie=yield fa.keyConverter(Pe).bytesToPublicKey({publicKeyBytes:Oe});Ie.alg=we||iM[Number(le)];const $e="k0"===j?"0":void 0!==oe?oe:yield Pi({jwk:Ie});null!==(o=c.verificationMethod)&&void 0!==o||(c.verificationMethod=[]);const Je=`${t}#${$e}`;c.verificationMethod.push({id:Je,type:"JsonWebKey",controller:pe??t,publicKeyJwk:Ie}),E.set(j,Je);break}case j.startsWith("s"):{const oe=fa.parseTxtDataToObject(m.data),{id:le,t:ue,se:pe}=oe,we=YO(oe,["id","t","se"]),Oe=pe.includes(fl)?pe.split(fl):[pe],Pe=Object.fromEntries(Object.entries(we).map(([Ie,$e])=>[Ie,$e.includes(fl)?$e.split(fl):$e]));null!==(a=c.service)&&void 0!==a||(c.service=[]),c.service.push(Object.assign(Object.assign({},Pe),{id:`${t}#${le}`,type:ue,serviceEndpoint:Oe}));break}case j.startsWith("typ"):{const{id:oe}=fa.parseTxtDataToObject(m.data);_.types=oe.split(fl).map(le=>Number(le));break}case j.startsWith("did"):{const oe=Pe=>Pe.split(fl).map(Ie=>E.get(Ie)).filter(Ie=>"string"==typeof Ie),{auth:le,asm:ue,del:pe,inv:we,agm:Oe}=fa.parseTxtDataToObject(m.data);le&&(c.authentication=oe(le)),ue&&(c.assertionMethod=oe(ue)),pe&&(c.capabilityDelegation=oe(pe)),we&&(c.capabilityInvocation=oe(we)),Oe&&(c.keyAgreement=oe(Oe));break}}}return{didDocument:c,didDocumentMetadata:_,didResolutionMetadata:{}}})}static toDnsPacket(r){return Ka(this,arguments,void 0,function*({didDocument:t,didMetadata:i,authoritativeGatewayUris:s,previousDidProof:o}){var a,c,_,E,m;const j=[],oe=[],le=new Map,ue=[],pe=[];if(void 0!==o){const{signature:Pe,previousDid:Ie}=o;yield fa.validatePreviousDidProof({newDid:t.id,previousDidProof:o}),j.push({type:"TXT",name:"_prv._did.",ttl:cm,data:`id=${Ie};s=${Pe}`})}if(t.alsoKnownAs&&j.push({type:"TXT",name:"_aka._did.",ttl:cm,data:t.alsoKnownAs.join(fl)}),t.controller){const Pe=Array.isArray(t.controller)?t.controller.join(fl):t.controller;j.push({type:"TXT",name:"_cnt._did.",ttl:cm,data:Pe})}for(const[Pe,Ie]of null!==(c=null===(a=t.verificationMethod)||void 0===a?void 0:a.entries())&&void 0!==c?c:[]){const $e=`k${Pe}`;pe.push($e);let Je=Ie.id.split("#").pop();le.set(Je,$e);const Qe=Ie.publicKeyJwk;if(!Qe?.crv||!(Qe.crv in rM))throw new Or(Lr.InvalidPublicKeyType,`Verification method '${Ie.id}' contains an unsupported key type: ${null!==(_=Qe?.crv)&&void 0!==_?_:"undefined"}`);const tt=qa[Qe.crv],ot=yield fa.keyConverter(Qe.crv).publicKeyToBytes({publicKey:Qe}),Ct=[`t=${tt}`,`k=${hn.uint8Array(ot).toBase64Url()}`];"0"!==Je&&(yield Pi({jwk:Qe}))!==Je&&Ct.unshift(`id=${Je}`),Qe.alg!==iM[tt]&&Ct.push(`a=${Qe.alg}`),Ie.controller!==t.id&&Ct.push(`c=${Ie.controller}`),j.push({type:"TXT",name:`_${$e}._did.`,ttl:cm,data:Ct.join(";")})}null===(E=t.service)||void 0===E||E.forEach((Pe,Ie)=>{const $e=`s${Ie}`;ue.push($e);let{id:Je,type:Qe,serviceEndpoint:tt}=Pe,ot=YO(Pe,["id","type","serviceEndpoint"]);Je=Bc(Je),tt=Array.isArray(tt)?tt.join(","):tt;const Ct=Object.entries(Object.assign({id:Je,t:Qe,se:tt},ot)).map(([Kt,Lt])=>`${Kt}=${Lt}`).join(";"),Tt=fa.chunkDataIfNeeded(Ct);j.push({type:"TXT",name:`_${$e}._did.`,ttl:cm,data:Tt})});const we=["v=0"];if(pe.length&&we.push(`vm=${pe.join(fl)}`),Object.keys(Nf).forEach(Pe=>{var Ie;const $e=null===(Ie=t[Pe])||void 0===Ie?void 0:Ie.map(Je=>le.get(Je.split("#").pop()));$e&&we.push(`${QO[Pe]}=${$e.join(fl)}`)}),ue.length&&we.push(`svc=${ue.join(fl)}`),null!==(m=i.types)&&void 0!==m&&m.length){const Ie=i.types.map($e=>"string"==typeof $e?JO[$e]:$e);j.push({type:"TXT",name:"_typ._did.",ttl:cm,data:`id=${Ie.join(fl)}`})}j.push({type:"TXT",name:"_did."+eh.getUniqueDidSuffix(t.id)+".",ttl:cm,data:we.join(";")});for(const Pe of s||[])oe.push({type:"NS",name:"_did."+eh.getUniqueDidSuffix(t.id)+".",ttl:cm,data:Pe+"."});return{id:0,type:"response",flags:1024,answers:[...j,...oe]}})}static getUniqueDidSuffix(r){return r.split(":")[2]}}class fa{static createBep44PutMessage(r){return Ka(this,arguments,void 0,function*({dnsPacket:t,publicKeyBytes:i,signer:s}){const o=Math.ceil(Date.now()/1e3),a=tM(t),c=VO.encode({seq:o,v:a}).subarray(1,-1);if(c.length>1e3)throw new Or(Lr.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${c.length} bytes`);return{k:i,seq:o,sig:yield s.sign({data:c}),v:a}})}static identifierToIdentityKey(r){return Ka(this,arguments,void 0,function*({didUri:t}){let i=fa.identifierToIdentityKeyBytes({didUri:t});return yield ns.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:r}){const t=Gi.parse(r);if(!t)throw new Or(Lr.InvalidDid,`Invalid DID URI: ${r}`);if(t.method!==Qf.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${t.method}`);let i;try{i=hn.base32Z(t.id).toUint8Array()}catch{throw new Or(Lr.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Or(Lr.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(r){return Ka(this,arguments,void 0,function*({identityKey:t}){const i=yield ns.publicKeyToBytes({publicKey:t}),s=hn.uint8Array(i).toBase32Z();return`did:${Qf.methodName}:${s}`})}static keyConverter(r){const i={Ed25519:ns,"P-256":{publicKeyToBytes:s=>Ka(this,[s],void 0,function*({publicKey:o}){const a=yield fs.publicKeyToBytes({publicKey:o});return yield fs.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:fs.bytesToPublicKey,privateKeyToBytes:fs.privateKeyToBytes,bytesToPrivateKey:fs.bytesToPrivateKey},secp256k1:{publicKeyToBytes:s=>Ka(this,[s],void 0,function*({publicKey:o}){const a=yield ls.publicKeyToBytes({publicKey:o});return yield ls.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:ls.bytesToPublicKey,privateKeyToBytes:ls.privateKeyToBytes,bytesToPrivateKey:ls.bytesToPrivateKey},X25519:Ed}[r];if(!i)throw new Or(Lr.InvalidPublicKeyType,`Unsupported curve: ${r}`);return i}static parseBep44GetMessage(r){return Ka(this,arguments,void 0,function*({bep44Message:t}){const i=yield ns.bytesToPublicKey({publicKeyBytes:t.k}),s=VO.encode({seq:t.seq,v:t.v}).subarray(1,-1);if(!(yield ns.verify({key:i,signature:t.sig,data:s})))throw new Or(Lr.InvalidSignature,"Invalid signature for DHT BEP44 message");return XO(t.v)})}static parseTxtDataToObject(r){return this.parseTxtDataToString(r).split(";").reduce((t,i)=>{const[s,o]=i.split("=");return t[s]=o,t},{})}static parseTxtDataToString(r){if("string"==typeof r)return r;if(r instanceof Uint8Array)return hn.uint8Array(r).toString();if(Array.isArray(r))return r.map(t=>this.parseTxtDataToString(t)).join("");throw new Or(Lr.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(r){return Ka(this,arguments,void 0,function*({newDid:t,previousDidProof:i}){const s=yield fa.identifierToIdentityKey({didUri:i.previousDid}),o=fa.identifierToIdentityKeyBytes({didUri:t}),a=hn.base64Url(i.signature).toUint8Array();if(!(yield ns.verify({key:s,data:o,signature:a})))throw new Or(Lr.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(r){if(r.length<=255)return r;const t=[];for(let i=0;i<r.length;i+=255)t.push(r.slice(i,i+255));return t}}class ta extends Error{constructor(r,t){super(`${r}: ${t}`),this.code=r,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class d${constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class u${constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return n5(this,r)}}class f${constructor(r){this.decoders=r}or(r){return n5(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const n5=(n,r)=>new f$({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class h${constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new d$(r,t,i),this.decoder=new u$(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const E1=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>(({name:n,prefix:r,encode:t,decode:i})=>new h$(n,r,t,i))({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),sM=(E1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),E1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),E1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));E1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class th{static encode(r){return sM.baseEncode(r)}static decodeAsBytes(r,t){if(!th.isBase64UrlString(r))throw new ta("EncodedStringIncorrectEncoding",`Given ${t} must be base64url string.`);return sM.baseDecode(r)}static decodeAsString(r,t){const i=th.decodeAsBytes(r,t);return th.bytesToString(i)}static isBase64UrlString(r){return/^[A-Za-z0-9_-]+$/.test(r)}static stringToBytes(r){return(new TextEncoder).encode(r)}static bytesToString(r){return(new TextDecoder).decode(r)}}var o5=A(95568),oM=function(n){return n.Public="public",n.Private="private",n}(oM||{});const nu=oM;class ql{static validateEs256kOperationKey(r,t){const i=new Set(["kty","crv","x","y"]);t===nu.Private&&i.add("d");for(const s in r)if(!i.has(s))throw new ta("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${s}'.`);if("secp256k1"!==r.crv)throw new ta("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${r.crv}.'`);if("EC"!==r.kty)throw new ta("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${r.kty}.'`);if(43!==r.x.length)throw new ta("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==r.y.length)throw new ta("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(t===nu.Private&&(void 0===r.d||43!==r.d.length))throw new ta("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(r){if(r.length>50)throw new ta("IdTooLong",`Key ID length ${r.length} exceed max allowed length of 50.`);if(!th.isBase64UrlString(r))throw new ta("IdNotUsingBase64UrlCharacterSet",`Key ID '${r}' is not a Base64URL string.`)}static validatePublicKeyPurposes(r){if(void 0===r)return;const t=new Set;for(const i of r){if(t.has(i))throw new ta("PublicKeyPurposeDuplicated",`Public key purpose '${i}' already specified.`);t.add(i)}}}const Ad=(()=>{class n{}return n.hashAlgorithmInMultihashCode=18,n.maxCanonicalizedDeltaSizeInBytes=1e3,n})();var a5=A(28846);class tp{static canonicalizeAsBytes(r){const t=tp.removeAllUndefinedProperties(r),i=a5(t);return th.stringToBytes(i)}static removeAllUndefinedProperties(r){for(const t in r)"object"==typeof r[t]?tp.removeAllUndefinedProperties(r[t]):void 0===r[t]&&delete r[t];return r}}var aM=128,c5=-128,l5=Math.pow(2,31),cM=128,lM=127,f5=Math.pow(2,7),h5=Math.pow(2,14),p5=Math.pow(2,21),m5=Math.pow(2,28),g5=Math.pow(2,35),y5=Math.pow(2,42),v5=Math.pow(2,49),b5=Math.pow(2,56),_5=Math.pow(2,63),x5={encode:function d5(n,r,t){r=r||[];for(var i=t=t||0;n>=l5;)r[t++]=255&n|aM,n/=128;for(;n&c5;)r[t++]=255&n|aM,n>>>=7;return r[t]=0|n,d5.bytes=t-i+1,r},decode:function AE(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw AE.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&lM)<<s:(a&lM)*Math.pow(2,s),s+=7}while(a>=cM);return AE.bytes=o-i,t},encodingLength:function(n){return n<f5?1:n<h5?2:n<p5?3:n<m5?4:n<g5?5:n<y5?6:n<v5?7:n<b5?8:n<_5?9:10}};const S1=x5,TE=(n,r=0)=>[S1.decode(n,r),S1.decode.bytes],dM=(n,r,t=0)=>(S1.encode(n,r,t),r),E5=n=>S1.encodingLength(n),S5=(n,r)=>{const t=r.byteLength,i=E5(n),s=i+E5(t),o=new Uint8Array(s+t);return dM(n,o,0),dM(t,o,i),o.set(r,s),new C5(n,t,r,o)};class C5{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const A5=({name:n,code:r,encode:t})=>new b$(n,r,t);class b${constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?S5(this.code,t):t.then(i=>S5(this.code,i))}throw Error("Unknown type, must be binary type")}}const T5=n=>function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}(),D5=A5({name:"sha2-256",code:18,encode:T5("SHA-256")});A5({name:"sha2-512",code:19,encode:T5("SHA-512")});var ov=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Ca{static hash(r,t){return ov(this,void 0,void 0,function*(){let i;if(18!==t)throw new ta("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${t} is not supported.`);return i=(yield D5.digest(r)).bytes,i})}static hashAsNonMultihashBytes(r,t){return ov(this,void 0,void 0,function*(){let i;if(18!==t)throw new ta("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${t} is not supported.`);return i=yield D5.encode(r),i})}static canonicalizeThenHashThenEncode(r,t){return ov(this,void 0,void 0,function*(){const i=tp.canonicalizeAsBytes(r);return yield Ca.hashThenEncode(i,t)})}static canonicalizeThenDoubleHashThenEncode(r,t){return ov(this,void 0,void 0,function*(){const i=tp.canonicalizeAsBytes(r),s=yield Ca.hashAsNonMultihashBytes(i,t);return yield Ca.hashThenEncode(s,t)})}static hashThenEncode(r,t){return ov(this,void 0,void 0,function*(){const i=yield Ca.hash(r,t);return th.encode(i)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(r,t){let i;const s=th.decodeAsBytes(r,t);try{i=(n=>{const r=(n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")})(n),[t,i]=TE(r),[s,o]=TE(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new C5(t,s,a,r)})(s)}catch{throw new ta("MultihashStringNotAMultihash",`Given ${t} string '${r}' is not a multihash after decoding.`)}const o=Ad.hashAlgorithmInMultihashCode;if(o!==i.code)throw new ta("MultihashUnsupportedHashAlgorithm",`Given ${t} uses unsupported multihash algorithm with code ${i.code}, should use ${o} or change IonSdkConfig to desired hashing algorithm.`)}}var uM=function(n){return n.Create="create",n.Update="update",n.Deactivate="deactivate",n.Recover="recover",n}(uM||{});const C1=uM;var fM=function(n){return n.Replace="replace",n.AddPublicKeys="add-public-keys",n.RemovePublicKeys="remove-public-keys",n.AddServices="add-services",n.RemoveServices="remove-services",n}(fM||{});const j0=fM;var A1=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class hl{static createCreateRequest(r){return A1(this,void 0,void 0,function*(){const t=r.recoveryKey,i=r.updateKey,s=r.document.publicKeys,o=r.document.services;ql.validateEs256kOperationKey(t,nu.Public),ql.validateEs256kOperationKey(i,nu.Public),hl.validateDidDocumentKeys(s),hl.validateServices(o);const a=Ad.hashAlgorithmInMultihashCode,c=[{action:j0.Replace,document:r.document}],_={updateCommitment:yield Ca.canonicalizeThenDoubleHashThenEncode(i,a),patches:c};hl.validateDeltaSize(_);const m={deltaHash:yield Ca.canonicalizeThenHashThenEncode(_,a),recoveryCommitment:yield Ca.canonicalizeThenDoubleHashThenEncode(t,a)};return{type:C1.Create,suffixData:m,delta:_}})}static createDeactivateRequest(r){return A1(this,void 0,void 0,function*(){hl.validateDidSuffix(r.didSuffix),ql.validateEs256kOperationKey(r.recoveryPublicKey,nu.Public);const t=Ad.hashAlgorithmInMultihashCode,i=yield Ca.canonicalizeThenHashThenEncode(r.recoveryPublicKey,t),s={didSuffix:r.didSuffix,recoveryKey:r.recoveryPublicKey},o=yield r.signer.sign({alg:"ES256K"},s);return{type:C1.Deactivate,didSuffix:r.didSuffix,revealValue:i,signedData:o}})}static createRecoverRequest(r){return A1(this,void 0,void 0,function*(){hl.validateDidSuffix(r.didSuffix),ql.validateEs256kOperationKey(r.recoveryPublicKey,nu.Public),ql.validateEs256kOperationKey(r.nextRecoveryPublicKey,nu.Public),ql.validateEs256kOperationKey(r.nextUpdatePublicKey,nu.Public),hl.validateDidDocumentKeys(r.document.publicKeys),hl.validateServices(r.document.services);const t=Ad.hashAlgorithmInMultihashCode,i=yield Ca.canonicalizeThenHashThenEncode(r.recoveryPublicKey,t),a={patches:[{action:j0.Replace,document:r.document}],updateCommitment:yield Ca.canonicalizeThenDoubleHashThenEncode(r.nextUpdatePublicKey,t)},c=yield Ca.canonicalizeThenHashThenEncode(a,t),E={recoveryCommitment:yield Ca.canonicalizeThenDoubleHashThenEncode(r.nextRecoveryPublicKey,t),recoveryKey:r.recoveryPublicKey,deltaHash:c},m=yield r.signer.sign({alg:"ES256K"},E);return{type:C1.Recover,didSuffix:r.didSuffix,revealValue:i,delta:a,signedData:m}})}static createUpdateRequest(r){return A1(this,void 0,void 0,function*(){if(hl.validateDidSuffix(r.didSuffix),ql.validateEs256kOperationKey(r.updatePublicKey,nu.Public),ql.validateEs256kOperationKey(r.nextUpdatePublicKey,nu.Public),hl.validateServices(r.servicesToAdd),hl.validateDidDocumentKeys(r.publicKeysToAdd),void 0!==r.idsOfServicesToRemove)for(const ue of r.idsOfServicesToRemove)ql.validateId(ue);if(void 0!==r.idsOfPublicKeysToRemove)for(const ue of r.idsOfPublicKeysToRemove)ql.validateId(ue);const t=[],i=r.servicesToAdd;void 0!==i&&i.length>0&&t.push({action:j0.AddServices,services:i});const s=r.idsOfServicesToRemove;void 0!==s&&s.length>0&&t.push({action:j0.RemoveServices,ids:s});const o=r.publicKeysToAdd;void 0!==o&&o.length>0&&t.push({action:j0.AddPublicKeys,publicKeys:o});const a=r.idsOfPublicKeysToRemove;void 0!==a&&a.length>0&&t.push({action:j0.RemovePublicKeys,ids:a});const c=Ad.hashAlgorithmInMultihashCode,_=yield Ca.canonicalizeThenHashThenEncode(r.updatePublicKey,c),m={patches:t,updateCommitment:yield Ca.canonicalizeThenDoubleHashThenEncode(r.nextUpdatePublicKey,c)},j=yield Ca.canonicalizeThenHashThenEncode(m,c),oe={updateKey:r.updatePublicKey,deltaHash:j},le=yield r.signer.sign({alg:"ES256K"},oe);return{type:C1.Update,didSuffix:r.didSuffix,revealValue:_,delta:m,signedData:le}})}static validateDidSuffix(r){Ca.validateEncodedHashComputedUsingSupportedHashAlgorithm(r,"didSuffix")}static validateDidDocumentKeys(r){if(void 0===r)return;const t=new Set;for(const i of r){if(Array.isArray(i.publicKeyJwk))throw new ta("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(ql.validateId(i.id),t.has(i.id))throw new ta("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${i.id}' already exists.`);t.add(i.id),ql.validatePublicKeyPurposes(i.purposes)}}static validateServices(r){if(void 0!==r&&0!==r.length){const t=new Set;for(const i of r){if(hl.validateService(i),t.has(i.id))throw new ta("DidDocumentServiceIdDuplicated","Service id has to be unique");t.add(i.id)}}}static validateService(r){if(ql.validateId(r.id),r.type.length>30)throw new ta("ServiceTypeTooLong",`Service endpoint type length ${r.type.length} exceeds max allowed length of 30.`);if(Array.isArray(r.serviceEndpoint))throw new ta("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof r.serviceEndpoint&&void 0!==o5.parse(r.serviceEndpoint).error)throw new ta("ServiceEndpointStringNotValidUri",`Service endpoint string '${r.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(r){const t=tp.canonicalizeAsBytes(r);if(t.length>Ad.maxCanonicalizedDeltaSizeInBytes)throw new ta("DeltaExceedsMaximumSize",`Delta of ${t.length} bytes exceeded limit of ${Ad.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var hM=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class DE{static createLongFormDid(r){return hM(this,void 0,void 0,function*(){const t=yield hl.createCreateRequest(r),i=yield DE.computeDidUniqueSuffix(t.suffixData);let s;s=void 0===Ad.network||"mainnet"===Ad.network?`did:ion:${i}`:`did:ion:${Ad.network}:${i}`;const a=tp.canonicalizeAsBytes({suffixData:t.suffixData,delta:t.delta});return`${s}:${th.encode(a)}`})}static computeDidUniqueSuffix(r){return hM(this,void 0,void 0,function*(){const t=tp.canonicalizeAsBytes(r),i=yield Ca.hash(t,Ad.hashAlgorithmInMultihashCode);return th.encode(i)})}}var np=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},nh=function(n){return n.Ed25519="Ed25519",n.secp256k1="secp256k1",n.secp256r1="secp256r1",n.X25519="X25519",n}(nh||{});const I5={Ed25519:nh.Ed25519,ES256K:nh.secp256k1,ES256:nh.secp256r1,"P-256":nh.secp256r1,secp256k1:nh.secp256k1,secp256r1:nh.secp256r1},yM="https://ion.tbd.engineering";let vM=(()=>{class n extends w1{static create(){return np(this,arguments,void 0,function*({keyManager:t=new ll,options:i={}}={}){var s,o,a,c,_,E,m;if(null!==(s=i.verificationMethods)&&void 0!==s&&s.some(Qe=>!(Qe.algorithm in I5)))throw new Error("One or more verification method algorithms are not supported");const j=null===(o=i.verificationMethods)||void 0===o?void 0:o.filter(Qe=>"id"in Qe).map(Qe=>Qe.id);if(j&&j.length!==new Set(j).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(Qe=>!Qe.id||!Qe.type||!Qe.serviceEndpoint))throw new Error("One or more services are missing required properties");const oe={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},le=[];for(const Qe of null!==(c=i.verificationMethods)&&void 0!==c?c:[oe]){const tt=yield t.generateKey({algorithm:Qe.algorithm}),ot=yield t.getPublicKey({keyUri:tt});le.push({id:Qe.id,publicKeyJwk:ot,purposes:null!==(_=Qe.purposes)&&void 0!==_?_:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const ue=yield t.generateKey({algorithm:nh.secp256k1}),pe=yield t.getPublicKey({keyUri:ue}),we=yield t.generateKey({algorithm:nh.secp256k1}),Oe=yield t.getPublicKey({keyUri:we}),Pe=yield Td.computeLongFormDidUri({recoveryKey:pe,updateKey:Oe,services:null!==(E=i.services)&&void 0!==E?E:[],verificationMethods:le}),{didDocument:Ie,didResolutionMetadata:$e}=yield n.resolve(Pe,{gatewayUri:i.gatewayUri});if(null===Ie)throw new Error(`Unable to resolve DID during creation: ${$e?.error}`);const Je=new ul({uri:Pe,document:Ie,metadata:{published:!1,canonicalId:Pe.split(":",3).join(":"),recoveryKey:pe,updateKey:Oe},keyManager:t});if(null===(m=i.publish)||void 0===m||m){const Qe=yield n.publish({did:Je,gatewayUri:i.gatewayUri});Je.metadata=Qe.didDocumentMetadata}return Je})}static getSigningMethod(t){return np(this,arguments,void 0,function*({didDocument:i,methodId:s}){var o;const a=Gi.parse(i.id);if(a&&a.method!==this.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${a.method}`);const c=null===(o=i.verificationMethod)||void 0===o?void 0:o.find(_=>{var E;return _.id===(s??(null===(E=i.assertionMethod)||void 0===E?void 0:E[0]))});if(!c||!c.publicKeyJwk)throw new Or(Lr.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static import(t){return np(this,arguments,void 0,function*({portableDid:i,keyManager:s=new ll}){const o=Gi.parse(i.uri);if(o?.method!==n.methodName)throw new Or(Lr.MethodNotSupported,"Method not supported");return yield ul.import({portableDid:i,keyManager:s})})}static publish(t){return np(this,arguments,void 0,function*({did:i,gatewayUri:s=yM}){var o,a,c;const _=null!==(a=null===(o=i.document.verificationMethod)||void 0===o?void 0:o.map(j=>({id:j.id,publicKeyJwk:j.publicKeyJwk,purposes:IO({didDocument:i.document,methodId:j.id})})))&&void 0!==a?a:[],E=yield Td.createIonDocument({services:null!==(c=i.document.service)&&void 0!==c?c:[],verificationMethods:_}),m=yield Td.constructCreateRequest({ionDocument:E,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const j=Td.appendPathToUrl({baseUrl:s,path:"/operations"}),oe=yield fetch(j,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:oe.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Lr.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(t){return np(this,arguments,void 0,function*(i,s={}){var o,a;const c=Gi.parse(i);if(!c)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"invalidDid"}});if(c.method!==n.methodName)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"methodNotSupported"}});const _=null!==(o=s?.gatewayUri)&&void 0!==o?o:yM;try{const E=Td.appendPathToUrl({baseUrl:_,path:`/identifiers/${i}`}),m=yield fetch(E);if(!m.ok)throw new Or(Lr.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:j,didDocumentMetadata:oe}=yield m.json();return Object.assign(Object.assign(Object.assign({},Ha),j&&{didDocument:j}),{didDocumentMetadata:Object.assign({published:null===(a=oe?.method)||void 0===a?void 0:a.published},oe)})}catch(E){if(!(E instanceof Or))throw new Error(E);return Object.assign(Object.assign({},Ha),{didResolutionMetadata:Object.assign({error:E.code},E.message&&{errorMessage:E.message})})}})}}return n.methodName="ion",n})();class Td{static appendPathToUrl({baseUrl:r,path:t}){const i=new URL(r);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=t.startsWith("/")?t.substring(1):t,i.toString()}static computeLongFormDidUri(r){return np(this,arguments,void 0,function*({recoveryKey:t,updateKey:i,services:s,verificationMethods:o}){const a=yield Td.createIonDocument({services:s,verificationMethods:o}),c=Td.normalizeJwk(t),_=Td.normalizeJwk(i);return yield DE.createLongFormDid({document:a,recoveryKey:c,updateKey:_})})}static constructCreateRequest(r){return np(this,arguments,void 0,function*({ionDocument:t,recoveryKey:i,updateKey:s}){return yield hl.createCreateRequest({document:t,recoveryKey:Td.normalizeJwk(i),updateKey:Td.normalizeJwk(s)})})}static createIonDocument(r){return np(this,arguments,void 0,function*({services:t,verificationMethods:i}){var s,o;const a=[];for(const E of i){let m=null!==(o=null!==(s=E.id)&&void 0!==s?s:E.publicKeyJwk.kid)&&void 0!==o?o:yield Pi({jwk:E.publicKeyJwk});m=`${m.split("#").pop()}`;const j={id:m,publicKeyJwk:Td.normalizeJwk(E.publicKeyJwk),purposes:E.purposes,type:"JsonWebKey2020"};a.push(j)}return{publicKeys:a,services:t.map(E=>Object.assign(Object.assign({},E),{id:`${E.id.split("#").pop()}`}))}})}static normalizeJwk(r){const t=r.kty;let i;if("EC"===t)i={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)i={k:r.k,kty:r.kty};else if("OKP"===t)i={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);i={e:r.e,kty:r.kty,n:r.n}}return i}}var cv=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};let Ku=(()=>{class n extends w1{static create(){return cv(this,arguments,void 0,function*({keyManager:t=new ll,options:i={}}={}){var s,o,a,c;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const _=null!==(c=null!==(s=i.algorithm)&&void 0!==s?s:null===(a=null===(o=i.verificationMethods)||void 0===o?void 0:o[0])||void 0===a?void 0:a.algorithm)&&void 0!==c?c:"Ed25519",E=yield t.generateKey({algorithm:_}),m=yield t.getPublicKey({keyUri:E}),j=hn.object(m).toBase64Url(),oe=`did:${n.methodName}:${j}`,ue=(yield n.resolve(oe)).didDocument;return new ul({uri:oe,document:ue,metadata:{},keyManager:t})})}static getSigningMethod(t){return cv(this,arguments,void 0,function*({didDocument:i}){var s;const o=Gi.parse(i.id);if(o&&o.method!==this.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${o.method}`);const[a]=null!==(s=i.verificationMethod)&&void 0!==s?s:[];if(!a||!a.publicKeyJwk)throw new Or(Lr.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static import(t){return cv(this,arguments,void 0,function*({portableDid:i,keyManager:s=new ll}){const o=Gi.parse(i.uri);if(o?.method!==n.methodName)throw new Or(Lr.MethodNotSupported,"Method not supported");const a=yield ul.import({portableDid:i,keyManager:s});if(1!==a.document.verificationMethod.length)throw new Or(Lr.InvalidDidDocument,"DID document must contain exactly one verification method");return a})}static resolve(t,i){return cv(this,void 0,void 0,function*(){const s=Gi.parse(t);let o;try{o=hn.base64Url(s.id).toObject()}catch{}if(!s||!o)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"invalidDid"}});if(s.method!==n.methodName)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"methodNotSupported"}});const a={"@context":["https://www.w3.org/ns/did/v1"],id:s.uri},c=`${a.id}#0`;switch(a.verificationMethod=[{id:c,type:"JsonWebKey",controller:a.id,publicKeyJwk:o}],a.authentication=[c],a.assertionMethod=[c],a.capabilityInvocation=[c],a.capabilityDelegation=[c],a.keyAgreement=[c],o.use){case"sig":delete a.keyAgreement;break;case"enc":delete a.authentication,delete a.assertionMethod,delete a.capabilityInvocation,delete a.capabilityDelegation}return Object.assign(Object.assign({},Ha),{didDocument:a})})}}return n.methodName="jwk",n})();var ru=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},lm=function(n){return n.Ed25519="Ed25519",n.secp256k1="secp256k1",n.secp256r1="secp256r1",n.X25519="X25519",n}(lm||{});const bM={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},x$={Ed25519:lm.Ed25519,ES256K:lm.secp256k1,ES256:lm.secp256r1,"P-256":lm.secp256r1,secp256k1:lm.secp256k1,secp256r1:lm.secp256r1,X25519:lm.X25519};let ME=(()=>{class n extends w1{static create(){return ru(this,arguments,void 0,function*({keyManager:t=new ll,options:i={}}={}){var s,o,a,c;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const _=null!==(c=null!==(s=i.algorithm)&&void 0!==s?s:null===(a=null===(o=i.verificationMethods)||void 0===o?void 0:o[0])||void 0===a?void 0:a.algorithm)&&void 0!==c?c:"Ed25519",E=yield t.generateKey({algorithm:_}),m=yield t.getPublicKey({keyUri:E}),j=yield qu.publicKeyToMultibaseId({publicKey:m}),oe=`did:${n.methodName}:${j}`,ue=(yield n.resolve(oe,i)).didDocument;return new ul({uri:oe,document:ue,metadata:{},keyManager:t})})}static getSigningMethod(t){return ru(this,arguments,void 0,function*({didDocument:i}){var s;const o=Gi.parse(i.id);if(o&&o.method!==this.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${o.method}`);const[a]=i.assertionMethod||[],c=null===(s=i.verificationMethod)||void 0===s?void 0:s.find(_=>_.id===a);if(!c||!c.publicKeyJwk)throw new Or(Lr.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static import(t){return ru(this,arguments,void 0,function*({portableDid:i,keyManager:s=new ll}){const o=Gi.parse(i.uri);if(o?.method!==n.methodName)throw new Or(Lr.MethodNotSupported,"Method not supported");const a=yield ul.import({portableDid:i,keyManager:s});if(1!==a.document.verificationMethod.length)throw new Or(Lr.InvalidDidDocument,"DID document must contain exactly one verification method");return a})}static resolve(t,i){return ru(this,void 0,void 0,function*(){try{const s=yield n.createDocument({didUri:t,options:i});return Object.assign(Object.assign({},Ha),{didDocument:s})}catch(s){if(!(s instanceof Or))throw new Error(s);return Object.assign(Object.assign({},Ha),{didResolutionMetadata:Object.assign({error:s.code},s.message&&{errorMessage:s.message})})}})}static createDocument(t){return ru(this,arguments,void 0,function*({didUri:i,options:s={}}){const{defaultContext:o="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:a=!1,enableExperimentalPublicKeyTypes:c=!1,publicKeyFormat:_="JsonWebKey2020"}=s,E={id:""},m=Gi.parse(i);if(!m)throw new Or(Lr.InvalidDid,`Invalid DID URI: ${i}`);const j=m.id;if(m.method!==n.methodName)throw new Or(Lr.MethodNotSupported,`Method not supported: ${m.method}`);if(!n.validateIdentifier(m))throw new Or(Lr.InvalidDid,`Invalid DID URI: ${i}`);const oe=yield n.createSignatureMethod({didUri:i,multibaseValue:j,options:{enableExperimentalPublicKeyTypes:c,publicKeyFormat:_}});if(E.id=m.uri,E.verificationMethod=[oe],E.authentication=[oe.id],E.assertionMethod=[oe.id],E.capabilityInvocation=[oe.id],E.capabilityDelegation=[oe.id],!0===a){const pe="Ed25519VerificationKey2020"===_?"X25519KeyAgreementKey2020":"JsonWebKey2020",we=yield this.createEncryptionMethod({didUri:i,multibaseValue:j,options:{enableExperimentalPublicKeyTypes:c,publicKeyFormat:pe}});E.verificationMethod.push(we),E.keyAgreement=[we.id]}const le=[o];return function kO({didDocument:n}){const t=nm({didDocument:n}).map(i=>i.type);return[...new Set(t)]}({didDocument:E}).forEach(pe=>{le.push(bM[pe])}),E["@context"]=le,E})}static createEncryptionMethod(t){return ru(this,arguments,void 0,function*({didUri:i,multibaseValue:s,options:o}){const{enableExperimentalPublicKeyTypes:a,publicKeyFormat:c}=o,_={id:"",type:"",controller:""},{keyBytes:E,multicodecCode:m}=yield n.deriveEncryptionKey({multibaseValue:s}),j=E.byteLength,oe=qu.MULTICODEC_PUBLIC_KEY_LENGTH[m];if(j!==oe)throw new Or(Lr.InvalidPublicKeyLength,`Expected ${j} bytes. Actual: ${oe}`);const le=LD({keyBytes:E,multicodecCode:m});_.id=`${i}#${le}`;try{new URL(_.id)}catch{throw new Or(Lr.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(c in bM))throw new Or(Lr.UnsupportedPublicKeyType,`Unsupported format: ${c}`);if(!1===a&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(c))throw new Or(Lr.InvalidPublicKeyType,`Specified '${c}' without setting enableExperimentalPublicKeyTypes to true.`);if(_.type=c,_.controller=i,"X25519KeyAgreementKey2020"===c&&(_.publicKeyMultibase=le),"JsonWebKey2020"===c){const{crv:pe}=yield qu.multicodecToJwk({code:m});_.publicKeyJwk=yield qu.keyConverter(pe).bytesToPublicKey({publicKeyBytes:E})}return _})}static createSignatureMethod(t){return ru(this,arguments,void 0,function*({didUri:i,multibaseValue:s,options:o}){const{enableExperimentalPublicKeyTypes:a,publicKeyFormat:c}=o,_={id:"",type:"",controller:""},{keyBytes:E,multicodecCode:m,multicodecName:j}=jD({multibaseKeyId:s}),oe=E.byteLength,le=qu.MULTICODEC_PUBLIC_KEY_LENGTH[m];if(oe!==le)throw new Or(Lr.InvalidPublicKeyLength,`Expected ${oe} bytes. Actual: ${le}`);let ue=!1;switch(j){case"secp256k1-pub":ue=yield ls.validatePublicKey({publicKeyBytes:E});break;case"ed25519-pub":ue=yield ns.validatePublicKey({publicKeyBytes:E});break;case"x25519-pub":ue=!0}if(!ue)throw new Or(Lr.InvalidPublicKey,"Invalid public key detected.");_.id=`${i}#${s}`;try{new URL(_.id)}catch{throw new Or(Lr.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(c in bM))throw new Or(Lr.UnsupportedPublicKeyType,`Unsupported format: ${c}`);if(!1===a&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(c))throw new Or(Lr.InvalidPublicKeyType,`Specified '${c}' without setting enableExperimentalPublicKeyTypes to true.`);if(_.type=c,_.controller=i,"Ed25519VerificationKey2020"===c&&(_.publicKeyMultibase=s),"JsonWebKey2020"===c){const{crv:we}=yield qu.multicodecToJwk({code:m});_.publicKeyJwk=yield qu.keyConverter(we).bytesToPublicKey({publicKeyBytes:E})}return _})}static deriveEncryptionKey(t){return ru(this,arguments,void 0,function*({multibaseValue:i}){let s={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:o,multicodecCode:a}=jD({multibaseKeyId:i});if(237===a){const c=yield qu.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:o}),_=yield ns.convertPublicKeyToX25519({publicKey:c});s={keyBytes:yield qu.keyConverter("Ed25519").publicKeyToBytes({publicKey:_}),multicodecCode:236}}return s})}static validateIdentifier(t){const{method:i,id:s}=t,[o]=t.uri.split(":",1);return"did"===o&&"key"===i&&Number("1")>0&&"String"===A2(s)&&s.startsWith("z")}}return n.methodName="key",n})(),qu=(()=>{class n{static jwkToMulticodec(t){return ru(this,arguments,void 0,function*({jwk:i}){const s=[];i.crv&&(s.push(i.crv),s.push(i.d?"private":"public"));const o=s.join(":"),a=n.JWK_TO_MULTICODEC[o];if(void 0===a)throw new Error(`Unsupported JWK to Multicodec conversion: '${o}'`);return{code:ua.getCodeFromName({name:a}),name:a}})}static keyCompressor(t){const s={"P-256":fs.compressPublicKey,secp256k1:ls.compressPublicKey}[t];if(!s)throw new Or(Lr.InvalidPublicKeyType,`Unsupported curve: ${t}`);return s}static keyConverter(t){const s={Ed25519:ns,"P-256":fs,secp256k1:ls,X25519:Ed}[t];if(!s)throw new Or(Lr.InvalidPublicKeyType,`Unsupported curve: ${t}`);return s}static multicodecToJwk(t){return ru(this,arguments,void 0,function*({code:i,name:s}){if(!(s?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");s=void 0===s?ua.getNameFromCode({code:i}):s;const a=n.MULTICODEC_TO_JWK[s];if(void 0===a)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},a)})}static publicKeyToMultibaseId(t){return ru(this,arguments,void 0,function*({publicKey:i}){var s;if(!i?.crv||!(i.crv in x$))throw new Or(Lr.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(s=i?.crv)&&void 0!==s?s:"undefined"}`);let o=yield n.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(o=yield n.keyCompressor(i.crv)({publicKeyBytes:o}));const{name:a}=yield n.jwkToMulticodec({jwk:i});return LD({keyBytes:o,multicodecName:a})})}}return n.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},n.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},n.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},n})();let _M=(()=>{class n extends w1{static resolve(t,i){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const s=Gi.parse(t);if(!s)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"invalidDid"}});if(s.method!==n.methodName)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"methodNotSupported"}});let o=`https://${s.id.replace(/:/g,"/")}`;o=decodeURIComponent(o);const a=s.id.includes(":")?`${o}/did.json`:`${o}/.well-known/did.json`;try{const c=yield fetch(a);if(!c.ok)throw new Error("HTTP error status code returned");const _=yield c.json();return Object.assign(Object.assign({},Ha),{didDocument:_})}catch{return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:"notFound"}})}})}}return n.methodName="web",n})();var lv=A(63244);class D1{constructor({db:r,location:t="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=r??new SP.Level(t),this.ttl=lv(i)}get(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){try{const t=yield this.cache.get(r),i=JSON.parse(t);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(r)):i.value}catch(t){if(t.notFound)return;throw t}})}set(r,t){const i={ttlMillis:Date.now()+this.ttl,value:t},s=JSON.stringify(i);return this.cache.put(r,s)}delete(r){return this.cache.del(r)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const S$={get:function(n){return null},set:function(n,r){return null},delete:function(n){return null},clear:function(){return null},close:function(){return null}};var wM=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class kE{constructor({cache:r,didResolvers:t}){this.didResolvers=new Map,this.cache=r||S$;for(const i of t)this.didResolvers.set(i.methodName,i)}resolve(r,t){return wM(this,void 0,void 0,function*(){const i=Gi.parse(r);if(!i)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:Lr.InvalidDid,errorMessage:`Invalid DID URI: ${r}`}});const s=this.didResolvers.get(i.method);if(!s)return Object.assign(Object.assign({},Ha),{didResolutionMetadata:{error:Lr.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const o=yield this.cache.get(i.uri);if(o)return o;{const a=yield s.resolve(i.uri,t);return a.didResolutionMetadata.error||(yield this.cache.set(i.uri,a)),a}})}dereference(r,t){return wM(this,void 0,void 0,function*(){const i=Gi.parse(r);if(!i)return{dereferencingMetadata:{error:Lr.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:s,didResolutionMetadata:o,didDocumentMetadata:a}=yield this.resolve(i.uri);if(!s)return{dereferencingMetadata:{error:o.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:s,contentMetadata:a};const{service:c=[],verificationMethod:_=[]}=s,E=new Set([r,i.fragment,`#${i.fragment}`]);let m;for(let j of _)if(E.has(j.id)){m=j;break}for(let j of c)if(E.has(j.id)){m=j;break}return m?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:m,contentMetadata:o}:{dereferencingMetadata:{error:Lr.NotFound},contentStream:null,contentMetadata:{}}})}}let M1=(()=>{class n{constructor(){this.didStorageKey="userDID"}createDid(){var t=this;return(0,Nn.A)(function*(){const s=(yield Qf.create()).uri;return localStorage.setItem(t.didStorageKey,s),s})()}getDid(){return localStorage.getItem(this.didStorageKey)}clearDid(){localStorage.removeItem(this.didStorageKey)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function O5(...n){const r=Ox(n),{args:t,keys:i}=zb(n),s=new vs.c(o=>{const{length:a}=t;if(!a)return void o.complete();const c=new Array(a);let _=a,E=a;for(let m=0;m<a;m++){let j=!1;Do(t[m]).subscribe((0,Ds._)(o,oe=>{j||(j=!0,E--),c[m]=oe},()=>_--,void 0,()=>{(!_||!j)&&(E||o.next(i?jA(i,c):c),o.complete())}))}});return r?s.pipe(Fx(r)):s}let R5=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.sFG),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:n})}}return n})(),rh=(()=>{class n extends R5{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=u.xGo(n)))(s||n)}})()}static{this.\u0275dir=u.FsC({type:n,features:[u.Vt3]})}}return n})();const pl=new u.nKC(""),A$={provide:pl,useExisting:(0,u.Rfq)(()=>k1),multi:!0},T$=new u.nKC("");let k1=(()=>{class n extends R5{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F5(){const n=be()?be().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(T$,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&u.bIt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[u.Jv_([A$]),u.Vt3]})}}return n})();function rp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xM(n){return null!=n&&"number"==typeof n.length}const Aa=new u.nKC(""),dm=new u.nKC(""),D$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M${static min(r){return function N5(n){return r=>{if(rp(r.value)||rp(n))return null;const t=parseFloat(r.value);return!isNaN(t)&&t<n?{min:{min:n,actual:r.value}}:null}}(r)}static max(r){return function B5(n){return r=>{if(rp(r.value)||rp(n))return null;const t=parseFloat(r.value);return!isNaN(t)&&t>n?{max:{max:n,actual:r.value}}:null}}(r)}static required(r){return function dv(n){return rp(n.value)?{required:!0}:null}(r)}static requiredTrue(r){return function EM(n){return!0===n.value?null:{required:!0}}(r)}static email(r){return function SM(n){return rp(n.value)||D$.test(n.value)?null:{email:!0}}(r)}static minLength(r){return function CM(n){return r=>rp(r.value)||!xM(r.value)?null:r.value.length<n?{minlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function AM(n){return r=>xM(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static pattern(r){return function TM(n){if(!n)return PE;let r,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),r=new RegExp(t)):(t=n.toString(),r=n),i=>{if(rp(i.value))return null;const s=i.value;return r.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(r)}static nullValidator(r){return null}static compose(r){return V5(r)}static composeAsync(r){return uv(r)}}function PE(n){return null}function L5(n){return null!=n}function k$(n){return(0,u.jNT)(n)?ho(n):n}function I$(n){let r={};return n.forEach(t=>{r=null!=t?{...r,...t}:r}),0===Object.keys(r).length?null:r}function j5(n,r){return r.map(t=>t(n))}function $5(n){return n.map(r=>function P$(n){return!n.validate}(r)?r:t=>r.validate(t))}function V5(n){if(!n)return null;const r=n.filter(L5);return 0==r.length?null:function(t){return I$(j5(t,r))}}function DM(n){return null!=n?V5($5(n)):null}function uv(n){if(!n)return null;const r=n.filter(L5);return 0==r.length?null:function(t){return O5(j5(t,r).map(k$)).pipe((0,ei.T)(I$))}}function OE(n){return null!=n?uv($5(n)):null}function U5(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function z5(n){return n._rawValidators}function Lc(n){return n._rawAsyncValidators}function um(n){return n?Array.isArray(n)?n:[n]:[]}function RE(n,r){return Array.isArray(n)?n.includes(r):n===r}function H5(n,r){const t=um(r);return um(n).forEach(s=>{RE(t,s)||t.push(s)}),t}function O$(n,r){return um(r).filter(t=>!RE(n,t))}class R${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=DM(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=OE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,t){return!!this.control&&this.control.hasError(r,t)}getError(r,t){return this.control?this.control.getError(r,t):null}}class Ta extends R${get formDirective(){return null}get path(){return null}}class ip extends R${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FE{constructor(r){this._cd=r}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let G5=(()=>{class n extends FE{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(ip,2))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&u.AVh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[u.Vt3]})}}return n})(),W5=(()=>{class n extends FE{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Ta,10))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&u.AVh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[u.Vt3]})}}return n})();const hv="VALID",P1="INVALID",pv="PENDING",mv="DISABLED";class $0{}class X5 extends $0{constructor(r,t){super(),this.value=r,this.source=t}}class PM extends $0{constructor(r,t){super(),this.pristine=r,this.source=t}}class BE extends $0{constructor(r,t){super(),this.touched=r,this.source=t}}class LE extends $0{constructor(r,t){super(),this.status=r,this.source=t}}class Y5 extends $0{constructor(r){super(),this.source=r}}class Z5 extends $0{constructor(r){super(),this.source=r}}function jE(n){return(RM(n)?n.validators:n)||null}function OM(n,r){return(RM(r)?r.asyncValidators:n)||null}function RM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Q5{constructor(r,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,u.EWP)(()=>this.statusReactive()),this.statusReactive=(0,u.vPA)(void 0),this._pristine=(0,u.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,u.vPA)(!0),this._touched=(0,u.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,u.vPA)(!1),this._events=new Ir.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get status(){return(0,u.O8t)(this.statusReactive)}set status(r){(0,u.O8t)(()=>this.statusReactive.set(r))}get valid(){return this.status===hv}get invalid(){return this.status===P1}get pending(){return this.status==pv}get disabled(){return this.status===mv}get enabled(){return this.status!==mv}get pristine(){return(0,u.O8t)(this.pristineReactive)}set pristine(r){(0,u.O8t)(()=>this.pristineReactive.set(r))}get dirty(){return!this.pristine}get touched(){return(0,u.O8t)(this.touchedReactive)}set touched(r){(0,u.O8t)(()=>this.touchedReactive.set(r))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(H5(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(H5(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(O$(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(O$(r,this._rawAsyncValidators))}hasValidator(r){return RE(this._rawValidators,r)}hasAsyncValidator(r){return RE(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){const t=!1===this.touched;this.touched=!0;const i=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched({...r,sourceControl:i}),t&&!1!==r.emitEvent&&this._events.next(new BE(!0,i))}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(r))}markAsUntouched(r={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=r.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:i})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,i),t&&!1!==r.emitEvent&&this._events.next(new BE(!1,i))}markAsDirty(r={}){const t=!0===this.pristine;this.pristine=!1;const i=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty({...r,sourceControl:i}),t&&!1!==r.emitEvent&&this._events.next(new PM(!1,i))}markAsPristine(r={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=r.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,i),t&&!1!==r.emitEvent&&this._events.next(new PM(!0,i))}markAsPending(r={}){this.status=pv;const t=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new LE(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending({...r,sourceControl:t})}disable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=mv,this.errors=null,this._forEachChild(s=>{s.disable({...r,onlySelf:!0})}),this._updateValue();const i=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new X5(this.value,i)),this._events.next(new LE(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:t},this),this._onDisabledChange.forEach(s=>s(!0))}enable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=hv,this._forEachChild(i=>{i.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(r,t){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hv||this.status===pv)&&this._runAsyncValidator(i,r.emitEvent)}const t=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new X5(this.value,t)),this._events.next(new LE(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity({...r,sourceControl:t})}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mv:hv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r,t){if(this.asyncValidator){this.status=pv,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const i=k$(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:r})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const r=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(r){let t=r;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,s)=>i&&i._find(s),this)}getError(r,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[r]:null}hasError(r,t){return!!this.getError(r,t)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r,t,i){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||i)&&this._events.next(new LE(this.status,t)),this._parent&&this._parent._updateControlsErrors(r,t,i)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?mv:this.errors?P1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pv)?pv:this._anyControlsHaveStatus(P1)?P1:hv}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r,t){const i=!this._anyControlsDirty(),s=this.pristine!==i;this.pristine=i,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),s&&this._events.next(new PM(this.pristine,t))}_updateTouched(r={},t){this.touched=this._anyControlsTouched(),this._events.next(new BE(this.touched,t)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){RM(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function J5(n){return Array.isArray(n)?DM(n):n||null}(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function $$(n){return Array.isArray(n)?OE(n):n||null}(this._rawAsyncValidators)}}class e4 extends Q5{constructor(r,t,i){super(jE(t),OM(i,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(r,t,i={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(r,t,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,t={}){(function V$(n,r,t){n._forEachChild((i,s)=>{if(void 0===t[s])throw new u.wOt(1002,"")})})(this,0,r),Object.keys(r).forEach(i=>{(function FM(n,r,t){const i=n.controls;if(!(r?Object.keys(i):i).length)throw new u.wOt(1e3,"");if(!i[t])throw new u.wOt(1001,"")})(this,!0,i),this.controls[i].setValue(r[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(Object.keys(r).forEach(i=>{const s=this.controls[i];s&&s.patchValue(r[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r={},t={}){this._forEachChild((i,s)=>{i.reset(r?r[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(r,t,i)=>(r[i]=t.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&r(i,t)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&r(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,s)=>((i.enabled||this.disabled)&&(t[s]=i.value),t))}_reduceChildren(r,t){let i=r;return this._forEachChild((s,o)=>{i=t(i,s,o)}),i}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}}const fm=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$E}),$E="always";function gv(n,r,t=$E){BM(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&r.valueAccessor.setDisabledState?.(n.disabled),function U$(n,r){r.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&t4(n,r)})}(n,r),function H$(n,r){const t=(i,s)=>{r.valueAccessor.writeValue(i),s&&r.viewToModelUpdate(i)};n.registerOnChange(t),r._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,r),function z$(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&t4(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function UE(n,r){if(r.valueAccessor.setDisabledState){const t=i=>{r.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,r)}function VE(n,r,t=!0){const i=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(i),r.valueAccessor.registerOnTouched(i)),zE(n,r),n&&(r._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hm(n,r){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r)})}function BM(n,r){const t=z5(n);null!==r.validator?n.setValidators(U5(t,r.validator)):"function"==typeof t&&n.setValidators([t]);const i=Lc(n);null!==r.asyncValidator?n.setAsyncValidators(U5(i,r.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();hm(r._rawValidators,s),hm(r._rawAsyncValidators,s)}function zE(n,r){let t=!1;if(null!==n){if(null!==r.validator){const s=z5(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==r.validator);o.length!==s.length&&(t=!0,n.setValidators(o))}}if(null!==r.asyncValidator){const s=Lc(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==r.asyncValidator);o.length!==s.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return hm(r._rawValidators,i),hm(r._rawAsyncValidators,i),t}function t4(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n4(n,r){BM(n,r)}function s4(n,r){n._syncPendingControls(),r.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const q$={provide:Ta,useExisting:(0,u.Rfq)(()=>yv)},O1=Promise.resolve();let yv=(()=>{class n extends Ta{get submitted(){return(0,u.O8t)(this.submittedReactive)}constructor(t,i,s){super(),this.callSetDisabledState=s,this._submitted=(0,u.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,u.vPA)(!1),this._directives=new Set,this.ngSubmit=new u.bkB,this.form=new e4({},DM(t),OE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){O1.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gv(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){O1.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){O1.then(()=>{const i=this._findContainer(t.path),s=new e4({});n4(s,t),i.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){O1.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){O1.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),s4(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Aa,10),u.rXU(dm,10),u.rXU(fm,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&u.bIt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([q$]),u.Vt3]})}}return n})();function HE(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}function o4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const a4=class extends Q5{constructor(r=null,t,i){super(jE(t),OM(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),RM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=o4(r)?r.value:r)}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(r,t={}){this.setValue(r,t)}reset(r=this.defaultValue,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){HE(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){HE(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){o4(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},eV={provide:ip,useExisting:(0,u.Rfq)(()=>R1)},GE=Promise.resolve();let R1=(()=>{class n extends ip{constructor(t,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new a4,this._registered=!1,this.name="",this.update=new u.bkB,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function $M(n,r){if(!r)return null;let t,i,s;return Array.isArray(r),r.forEach(o=>{o.constructor===k1?t=o:function W$(n){return Object.getPrototypeOf(n.constructor)===rh}(o)?i=o:s=o}),s||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function jM(n,r){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(r,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){GE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,s=0!==i&&(0,u.L39)(i);GE.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function NM(n,r){return[...r.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Ta,9),u.rXU(Aa,10),u.rXU(dm,10),u.rXU(pl,10),u.rXU(u.gRc,8),u.rXU(fm,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Jv_([eV]),u.Vt3,u.OA$]})}}return n})(),zM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const GM=new u.nKC(""),KE={provide:Ta,useExisting:(0,u.Rfq)(()=>V0)};let D4,V0=(()=>{class n extends Ta{get submitted(){return(0,u.O8t)(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,s){super(),this.callSetDisabledState=s,this._submitted=(0,u.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,u.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.bkB,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return gv(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){VE(t.control||null,t,!1),function K$(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),s4(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Y5(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Z5(this.form))}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,s=this.form.get(t.path);i!==s&&(VE(i||null,t),(n=>n instanceof a4)(s)&&(gv(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);n4(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function r4(n,r){return zE(n,r)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BM(this.form,this),this._oldForm&&zE(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Aa,10),u.rXU(dm,10),u.rXU(fm,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&u.bIt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([KE]),u.Vt3,u.OA$]})}}return n})(),YM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),zZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fm,useValue:t.callSetDisabledState??$E}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[YM]})}}return n})(),HZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fm,useValue:t.callSetDisabledState??$E}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[YM]})}}return n})();try{D4=typeof Intl<"u"&&Intl.v8BreakIterator}catch{D4=!1}let z0,Po=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?fo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!D4)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const M4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function k4(){if(z0)return z0;if("object"!=typeof document||!document)return z0=new Set(M4),z0;let n=document.createElement("input");return z0=new Set(M4.filter(r=>(n.setAttribute("type",r),n.type===r))),z0}let ZE;function bv(n){return function GZ(){if(null==ZE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ZE=!0}))}finally{ZE=ZE||!1}return ZE}()?n:!!n.capture}var op=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(op||{});let ZM,pm,JM;function B1(){if(null==pm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pm=!1,pm;if("scrollBehavior"in document.documentElement.style)pm=!0;else{const n=Element.prototype.scrollTo;pm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pm}function L1(){if("object"!=typeof document||!document)return op.NORMAL;if(null==ZM){const n=document.createElement("div"),r=n.style;n.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ZM=op.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,ZM=0===n.scrollLeft?op.NEGATED:op.INVERTED),n.remove()}return ZM}function Yu(n){return n.composedPath?n.composedPath()[0]:n.target}function j1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ak(n,...r){return r.length?r.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class BJ extends da.yU{constructor(r,t){super()}schedule(r,t=0){return this}}const ck={setInterval(n,r,...t){const{delegate:i}=ck;return i?.setInterval?i.setInterval(n,r,...t):setInterval(n,r,...t)},clearInterval(n){const{delegate:r}=ck;return(r?.clearInterval||clearInterval)(n)},delegate:void 0};var LJ=A(57908);class lk extends BJ{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var i;if(this.closed)return this;this.state=r;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(r,t,i=0){return ck.setInterval(r.flush.bind(r,this),i)}recycleAsyncId(r,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&ck.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(r,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let s,i=!1;try{this.work(r)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,LJ.o)(i,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}}const z4={now:()=>(z4.delegate||Date).now(),delegate:void 0};class rS{constructor(r,t=rS.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,i){return new this.schedulerActionCtor(this,r).schedule(i,t)}}rS.now=z4.now;class H4 extends rS{constructor(r,t=rS.now){super(r,t),this.actions=[],this._active=!1}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let i;this._active=!0;do{if(i=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,i){for(;r=t.shift();)r.unsubscribe();throw i}}}const dk=new H4(lk),jV=dk;function $1(n,r=dk){return(0,Mo.N)((t,i)=>{let s=null,o=null,a=null;const c=()=>{if(s){s.unsubscribe(),s=null;const E=o;o=null,i.next(E)}};function _(){const E=a+n,m=r.now();if(m<E)return s=this.schedule(void 0,E-m),void i.add(s);c()}t.subscribe((0,Ds._)(i,E=>{o=E,a=r.now(),s||(s=r.schedule(_,n),i.add(s))},()=>{c(),i.complete()},void 0,()=>{o=s=null}))})}function iS(n){return ro((r,t)=>n<=t)}function $V(n,r){return n===r}function ml(n){return null!=n&&"false"!=`${n}`}function sS(n,r=0){return function VV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?r:0}function uk(n){return Array.isArray(n)?n:[n]}function l(n){return null==n?"":"string"==typeof n?n:`${n}px`}function p(n){return n instanceof u.aKT?n.nativeElement:n}let ne=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ce=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map,this._ngZone=(0,u.WQX)(u.SKi)}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=p(t);return new vs.c(s=>{const a=this._observeElement(i).pipe((0,ei.T)(c=>c.filter(_=>!function H(n){if("characterData"===n.type&&n.target instanceof Comment)return!0;if("childList"===n.type){for(let r=0;r<n.addedNodes.length;r++)if(!(n.addedNodes[r]instanceof Comment))return!1;for(let r=0;r<n.removedNodes.length;r++)if(!(n.removedNodes[r]instanceof Comment))return!1;return!0}return!1}(_))),ro(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{s.next(c)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ir.B,s=this._mutationObserverFactory.create(o=>i.next(o));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:i,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:s}=this._observedElements.get(t);i&&i.disconnect(),s.complete(),this._observedElements.delete(t)}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ne))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ve=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=sS(t),this._subscribe()}constructor(t,i){this._contentObserver=t,this._elementRef=i,this.event=new u.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe($1(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(ce),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",u.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[u.GFd]})}}return n})(),Re=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:[ne]})}}return n})();const it=new Set;let ft,kt=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function zt(n,r){if(!it.has(n))try{ft||(ft=document.createElement("style"),r&&ft.setAttribute("nonce",r),ft.setAttribute("type","text/css"),document.head.appendChild(ft)),ft.sheet&&(ft.sheet.insertRule(`@media ${n} {body{ }}`,0),it.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Po),u.KVO(u.BIS,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zt(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let fn=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ir.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Mn(uk(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let o=Hb(Mn(uk(t)).map(a=>this._registerQuery(a).observable));return o=Pu(o.pipe(oc(1)),o.pipe(iS(1),$1(0))),o.pipe((0,ei.T)(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:_,query:E})=>{c.matches=c.matches||_,c.breakpoints[E]=_}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new vs.c(a=>{const c=_=>this._zone.run(()=>a.next(_));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(sy(i),(0,ei.T)(({matches:a})=>({query:t,matches:a})),Ni(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(kt),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mn(n){return n.map(r=>r.split(",")).reduce((r,t)=>r.concat(t)).map(r=>r.trim())}function Bi(n,r){return n.getAttribute(r)?.match(/\S+/g)??[]}const Ho="cdk-describedby-message",uc="cdk-describedby-host";let mm=0,K4=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+mm++,this._document=t,this._id=(0,u.WQX)(u.sZ2)+"-"+mm++}describe(t,i,s){if(!this._canBeDescribed(t,i))return;const o=UV(i,s);"string"!=typeof i?(jJ(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,s),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,s){if(!i||!this._isElementNode(t))return;const o=UV(i,s);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${uc}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(uc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const s=this._document.createElement("div");jJ(s,this._id),s.textContent=t,i&&s.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(UV(t,i),{messageElement:s,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(t),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(t){const i=Bi(t,"aria-describedby").filter(s=>0!=s.indexOf(Ho));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const s=this._messageRegistry.get(i);(function Dn(n,r,t){const i=Bi(n,r);t=t.trim(),!i.some(s=>s.trim()===t)&&(i.push(t),n.setAttribute(r,i.join(" ")))})(t,"aria-describedby",s.messageElement.id),t.setAttribute(uc,this._id),s.referenceCount++}_removeMessageReference(t,i){const s=this._messageRegistry.get(i);s.referenceCount--,function oi(n,r,t){const i=Bi(n,r);t=t.trim();const s=i.filter(o=>o!==t);s.length?n.setAttribute(r,s.join(" ")):n.removeAttribute(r)}(t,"aria-describedby",s.messageElement.id),t.removeAttribute(uc)}_isElementDescribedByMessage(t,i){const s=Bi(t,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=s.indexOf(a)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const s=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!s||o&&o.trim()===s)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(Po))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UV(n,r){return"string"==typeof n?`${r||""}/${n}`:n}function jJ(n,r){n.id||(n.id=`${Ho}-${r}-${mm++}`)}class $J{constructor(r,t){this._letterKeyStream=new Ir.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Ir.B,this.selectedItem=this._selectedItem;const i="number"==typeof t?.debounceInterval?t.debounceInterval:200;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(r),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(r){this._selectedItemIndex=r}setItems(r){this._items=r}handleKey(r){const t=r.keyCode;r.key&&1===r.key.length?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(r){this._letterKeyStream.pipe(Yo(t=>this._pressedLetters.push(t)),$1(r),ro(()=>this._pressedLetters.length>0),(0,ei.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){const o=this._items[(this._selectedItemIndex+i)%this._items.length];if(!this._skipPredicateFn?.(o)&&0===o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)){this._selectedItem.next(o);break}}this._pressedLetters=[]})}}class ame{constructor(r,t){this._items=r,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=da.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new Ir.B,this.change=new Ir.B,r instanceof u.rOR?this._itemChangesSubscription=r.changes.subscribe(i=>this._itemsChanged(i.toArray())):(0,u.Hps)(r)&&(this._effectRef=(0,u.QZP)(()=>this._itemsChanged(r()),{injector:t}))}skipPredicate(r){return this._skipPredicateFn=r,this}withWrap(r=!0){return this._wrap=r,this}withVerticalOrientation(r=!0){return this._vertical=r,this}withHorizontalOrientation(r){return this._horizontal=r,this}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this}withTypeAhead(r=200){this._typeaheadSubscription.unsubscribe();const t=this._getItemsArray();return this._typeahead=new $J(t,{debounceInterval:"number"==typeof r?r:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this}withPageUpDown(r=!0,t=10){return this._pageUpAndDown={enabled:r,delta:t},this}setActiveItem(r){const t=this._activeItem;this.updateActiveItem(r),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(r){const t=r.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!r[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&s){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&s){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((s||ak(r,"shiftKey"))&&this._typeahead?.handleKey(r))}this._typeahead?.reset(),r.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(r){const t=this._getItemsArray(),i="number"==typeof r?r:t.indexOf(r);this._activeItem=t[i]??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r)}_setActiveInWrapMode(r){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const s=(this._activeItemIndex+r*i+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex+r,r)}_setActiveItemByIndex(r,t){const i=this._getItemsArray();if(i[r]){for(;this._skipPredicateFn(i[r]);)if(!i[r+=t])return;this.setActiveItem(r)}}_getItemsArray(){return(0,u.Hps)(this._items)?this._items():this._items instanceof u.rOR?this._items.toArray():this._items}_itemsChanged(r){if(this._typeahead?.setItems(r),this._activeItem){const t=r.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}}class VJ extends ame{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(r){return this._origin=r,this}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin)}}function GJ(n){return 0===n.buttons||0===n.detail}function WJ(n){const r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}const yme=new u.nKC("cdk-input-modality-detector-options"),vme={ignoreKeys:[18,17,224,91,16]},oS=bv({passive:!0,capture:!0});let bme=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,s,o){this._platform=t,this._mostRecentTarget=null,this._modality=new gd.t(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Yu(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(GJ(a)?"keyboard":"mouse"),this._mostRecentTarget=Yu(a))},this._onTouchstart=a=>{WJ(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Yu(a))},this._options={...vme,...o},this.modalityDetected=this._modality.pipe(iS(1)),this.modalityChanged=this.modalityDetected.pipe(function G4(n,r=Oh.D){return n=n??$V,(0,Mo.N)((t,i)=>{let s,o=!0;t.subscribe((0,Ds._)(i,a=>{const c=r(a);(o||!n(s,c))&&(o=!1,s=c,i.next(a))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,oS),s.addEventListener("mousedown",this._onMousedown,oS),s.addEventListener("touchstart",this._onTouchstart,oS)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oS),document.removeEventListener("mousedown",this._onMousedown,oS),document.removeEventListener("touchstart",this._onTouchstart,oS))}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Po),u.KVO(u.SKi),u.KVO(ze),u.KVO(yme,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var q4=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(q4||{});const wme=new u.nKC("cdk-focus-monitor-default-options"),X4=bv({passive:!0,capture:!0});let zV=(()=>{class n{constructor(t,i,s,o,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ir.B,this._rootNodeFocusAndBlurListener=c=>{for(let E=Yu(c);E;E=E.parentElement)"focus"===c.type?this._onFocus(c,E):this._onBlur(c,E)},this._document=o,this._detectionMode=a?.detectionMode||q4.IMMEDIATE}monitor(t,i=!1){const s=p(t);if(!this._platform.isBrowser||1!==s.nodeType)return Ar();const o=function H0(n){if(function I4(){if(null==JM){const n=typeof document<"u"?document.head:null;JM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return JM}()){const r=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;const c={checkChildren:i,subject:new Ir.B,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const i=p(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const o=p(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,_])=>this._originChanged(c,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===q4.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===q4.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),o=Yu(t);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,X4),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,X4)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ni(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,X4),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,X4),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,o)=>{(o===t||s.checkChildren&&o.contains(t))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(u.SKi),u.KVO(Po),u.KVO(bme),u.KVO(ze,8),u.KVO(wme,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xme=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new u.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(zV))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return n})();var V1=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(V1||{});const qJ="cdk-high-contrast-black-on-white",XJ="cdk-high-contrast-white-on-black",HV="cdk-high-contrast-active";let YJ=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.WQX)(fn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return V1.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return V1.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return V1.BLACK_ON_WHITE}return V1.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(HV,qJ,XJ),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===V1.BLACK_ON_WHITE?t.add(HV,qJ):i===V1.WHITE_ON_BLACK&&t.add(HV,XJ)}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Po),u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eme=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(YJ))}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[Re]})}}return n})();const Sme=new u.nKC("cdk-dir-doc",{providedIn:"root",factory:function Cme(){return(0,u.WQX)(ze)}}),Ame=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let U1=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.bkB,t&&(this.value=function Tme(n){const r=n?.toLowerCase()||"";return"auto"===r&&typeof navigator<"u"&&navigator?.language?Ame.test(navigator.language)?"rtl":"ltr":"rtl"===r?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Sme,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();const Dme=["mat-internal-form-field",""],Mme=["*"],Ime=new u.nKC("mat-sanity-checks",{providedIn:"root",factory:function kme(){return!0}});let yo=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!j1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(YJ),u.KVO(Ime,8),u.KVO(ze))}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[fk,fk]})}}return n})();class QJ{constructor(r,t,i,s,o){this._defaultMatcher=r,this.ngControl=t,this._parentFormGroup=i,this._parentForm=s,this._stateChanges=o,this.errorState=!1}updateErrorState(){const r=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,s=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(s,t)??!1;o!==r&&(this.errorState=o,this._stateChanges.next())}}let Bme=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ih=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(ih||{});class Lme{constructor(r,t,i,s=!1){this._renderer=r,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=ih.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const eQ=bv({passive:!0,capture:!0});class jme{constructor(){this._events=new Map,this._delegateEventHandler=r=>{const t=Yu(r);t&&this._events.get(r.type)?.forEach((i,s)=>{(s===t||s.contains(t))&&i.forEach(o=>o.handleEvent(r))})}}addHandler(r,t,i,s){const o=this._events.get(t);if(o){const a=o.get(i);a?a.add(s):o.set(i,new Set([s]))}else this._events.set(t,new Map([[i,new Set([s])]])),r.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eQ)})}removeHandler(r,t,i){const s=this._events.get(r);if(!s)return;const o=s.get(t);o&&(o.delete(i),0===o.size&&s.delete(t),0===s.size&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,eQ)))}}const tQ={enterDuration:225,exitDuration:150},nQ=bv({passive:!0,capture:!0}),rQ=["mousedown","touchstart"],iQ=["mouseup","mouseleave","touchend","touchcancel"];class pk{static{this._eventManager=new jme}constructor(r,t,i,s){this._target=r,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=p(i))}fadeInRipple(r,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...tQ,...i.animation};i.centered&&(r=s.left+s.width/2,t=s.top+s.height/2);const a=i.radius||function Vme(n,r,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(r-t.top),Math.abs(r-t.bottom));return Math.sqrt(i*i+s*s)}(r,t,s),c=r-s.left,_=t-s.top,E=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=c-a+"px",m.style.top=_-a+"px",m.style.height=2*a+"px",m.style.width=2*a+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(m);const j=window.getComputedStyle(m),le=j.transitionDuration,ue="none"===j.transitionProperty||"0s"===le||"0s, 0s"===le||0===s.width&&0===s.height,pe=new Lme(this,m,i,ue);m.style.transform="scale3d(1, 1, 1)",pe.state=ih.FADING_IN,i.persistent||(this._mostRecentTransientRipple=pe);let we=null;return!ue&&(E||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>{we&&(we.fallbackTimer=null),clearTimeout(Ie),this._finishRippleTransition(pe)},Pe=()=>this._destroyRipple(pe),Ie=setTimeout(Pe,E+100);m.addEventListener("transitionend",Oe),m.addEventListener("transitioncancel",Pe),we={onTransitionEnd:Oe,onTransitionCancel:Pe,fallbackTimer:Ie}}),this._activeRipples.set(pe,we),(ue||!E)&&this._finishRippleTransition(pe),pe}fadeOutRipple(r){if(r.state===ih.FADING_OUT||r.state===ih.HIDDEN)return;const t=r.element,i={...tQ,...r.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",r.state=ih.FADING_OUT,(r._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const t=p(r);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,rQ.forEach(i=>{pk._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iQ.forEach(t=>{this._triggerElement.addEventListener(t,this,nQ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===ih.FADING_IN?this._startFadeOutTransition(r):r.state===ih.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){const t=r===this._mostRecentTransientRipple,{persistent:i}=r.config;r.state=ih.VISIBLE,!i&&(!t||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){const t=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=ih.HIDDEN,null!==t&&(r.element.removeEventListener("transitionend",t.onTransitionEnd),r.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),r.element.remove()}_onMousedown(r){const t=GJ(r),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!WJ(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=r.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{!r.config.persistent&&(r.state===ih.VISIBLE||r.config.terminateOnPointerUp&&r.state===ih.FADING_IN)&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const r=this._triggerElement;r&&(rQ.forEach(t=>pk._eventManager.removeHandler(t,r,this)),this._pointerUpEventsRegistered&&(iQ.forEach(t=>r.removeEventListener(t,this,nQ)),this._pointerUpEventsRegistered=!1))}}const Y4=new u.nKC("mat-ripple-global-options");let mk=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,s,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new pk(this,i,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(Po),u.rXU(Y4,8),u.rXU(u.bc$,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&u.AVh("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),sQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,yo]})}}return n})(),Ume=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo]})}}return n})();const oQ={capture:!0},aQ=["focus","mousedown","mouseenter","touchstart"],GV="mat-ripple-loader-uninitialized",WV="mat-ripple-loader-class-name",cQ="mat-ripple-loader-centered",Z4="mat-ripple-loader-disabled";let zme=(()=>{class n{constructor(){this._document=(0,u.WQX)(ze,{optional:!0}),this._animationMode=(0,u.WQX)(u.bc$,{optional:!0}),this._globalRippleOptions=(0,u.WQX)(Y4,{optional:!0}),this._platform=(0,u.WQX)(Po),this._ngZone=(0,u.WQX)(u.SKi),this._hosts=new Map,this._onInteraction=t=>{const i=Yu(t);if(i instanceof HTMLElement){const s=i.closest(`[${GV}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(const t of aQ)this._document?.addEventListener(t,this._onInteraction,oQ)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of aQ)this._document?.removeEventListener(i,this._onInteraction,oQ)}configureRipple(t,i){t.setAttribute(GV,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(WV))&&t.setAttribute(WV,i.className||""),i.centered&&t.setAttribute(cQ,""),i.disabled&&t.setAttribute(Z4,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const s=this._hosts.get(t);s?s.disabled=i:i?t.setAttribute(Z4,""):t.removeAttribute(Z4)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",t.getAttribute(WV)),t.append(s);const o=new mk(new u.aKT(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(cQ),o.disabled=t.hasAttribute(Z4),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(GV),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,s){2&i&&u.AVh("mdc-form-field--align-end","before"===s.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[u.aNF],attrs:Dme,ngContentSelectors:Mme,decls:1,vars:0,template:function(i,s){1&i&&(u.NAR(),u.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})();const Gme=["mat-button",""],Wme=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Kme=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Xme=["mat-icon-button",""],Yme=["*"],Zme=new u.nKC("MAT_BUTTON_CONFIG"),Jme=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let lQ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,s,o){this._elementRef=t,this._platform=i,this._ngZone=s,this._animationMode=o,this._focusMonitor=(0,u.WQX)(zV),this._rippleLoader=(0,u.WQX)(zme),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const a=(0,u.WQX)(Zme,{optional:!0}),c=t.nativeElement,_=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(const{attribute:E,mdcClasses:m}of Jme)c.hasAttribute(E)&&_.add(...m)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){u.QTQ()}}static{this.\u0275dir=u.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",u.L39],disabled:[2,"disabled","disabled",u.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",u.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",u.L39]},features:[u.GFd]})}}return n})(),KV=(()=>{class n extends lQ{constructor(t,i,s,o){super(t,i,s,o)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(Po),u.rXU(u.SKi),u.rXU(u.bc$,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,s){2&i&&(u.BMQ("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),u.HbH(s.color?"mat-"+s.color:""),u.AVh("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[u.Vt3,u.aNF],attrs:Gme,ngContentSelectors:Kme,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,s){1&i&&(u.NAR(Wme),u.nrm(0,"span",0),u.SdG(1),u.j41(2,"span",1),u.SdG(3,1),u.k0s(),u.SdG(4,2),u.nrm(5,"span",2)(6,"span",3)),2&i&&u.AVh("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),e0e=(()=>{class n extends lQ{constructor(t,i,s,o){super(t,i,s,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(Po),u.rXU(u.SKi),u.rXU(u.bc$,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,s){2&i&&(u.BMQ("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),u.HbH(s.color?"mat-"+s.color:""),u.AVh("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[u.Vt3,u.aNF],attrs:Xme,ngContentSelectors:Yme,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,s){1&i&&(u.NAR(),u.nrm(0,"span",0),u.SdG(1),u.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),t0e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,sQ,yo]})}}return n})(),dQ=(()=>{class n{constructor(t,i,s,o){this.didService=t,this.renderer=i,this.el=s,this.router=o}ngOnInit(){}ngAfterViewInit(){!function rP(n,r){const t=r.nativeElement.querySelector("#signUp"),i=r.nativeElement.querySelector("#signIn"),s=r.nativeElement.querySelector("#container");t.addEventListener("click",()=>{n.addClass(s,"right-panel-active")}),i.addEventListener("click",()=>{n.removeClass(s,"right-panel-active")})}(this.renderer,this.el)}createAccount(){var t=this;return(0,Nn.A)(function*(){yield t.didService.createDid(),alert("DID created and saved!")})()}login(){this.didService.getDid()?this.router.navigate(["/dashboard"]):alert("No DID found. Please create an account first.")}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(M1),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Kd))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["app-start"]],decls:36,vars:0,consts:[[1,"component","d-flex","flex-column","justify-content-start","align-items-center","vh-100"],[1,"m-5","p-3","d-flex","align-items-center"],[1,"h1","mx-2","title","pixelify-sans"],["id","container",1,"container","shadow","rounded-5"],[1,"form-container","sign-up-container"],["mat-raised-button","","color","accent",1,"mb-4",3,"click"],[1,"form-container","sign-in-container"],[1,"mb-3"],["mat-raised-button","","color","primary",1,"mb-5",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],[1,"overlay-content","p-3","rounded-5"],["mat-raised-button","","color","primary","id","signIn",1,"ghost"],[1,"overlay-panel","overlay-right"],["mat-raised-button","","color","accent","id","signUp",1,"ghost"]],template:function(i,s){1&i&&(u.j41(0,"section",0)(1,"div",1)(2,"span",2),u.EFF(3,"Known Customer Credential"),u.k0s()(),u.j41(4,"div",3)(5,"div",4)(6,"form")(7,"h1"),u.EFF(8,"Sign Up"),u.k0s(),u.j41(9,"button",5),u.bIt("click",function(){return s.createAccount()}),u.EFF(10," Sign Up "),u.k0s()()(),u.j41(11,"div",6)(12,"form")(13,"h1",7),u.EFF(14,"Sign In"),u.k0s(),u.nrm(15,"div"),u.j41(16,"button",8),u.bIt("click",function(){return s.login()}),u.EFF(17," Sign In "),u.k0s()()(),u.j41(18,"div",9)(19,"div",10)(20,"div",11)(21,"div",12)(22,"h1"),u.EFF(23,"Welcome Back!"),u.k0s(),u.j41(24,"p"),u.EFF(25,"Sign in to stay connected with us and continue managing your credentials efficiently."),u.k0s(),u.j41(26,"button",13),u.EFF(27," Sign In "),u.k0s()()(),u.j41(28,"div",14)(29,"div",12)(30,"h1"),u.EFF(31,"Hello!"),u.k0s(),u.j41(32,"p"),u.EFF(33,"Join and start managing your credentials with ease."),u.k0s(),u.j41(34,"button",15),u.EFF(35," Sign Up "),u.k0s()()()()()()())},dependencies:[zM,W5,yv,KV],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.component[_ngcontent-%COMP%]{background-image:url(background.b31c144052b949e3.jpg);background-size:300%;background-repeat:no-repeat}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100vh;margin:-20px 0 50px}button[_ngcontent-%COMP%]{letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}.container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_show .6s}@keyframes _ngcontent-%COMP%_show{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:#fff;background-image:url(bg.43a590260985f97e.jpg);background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.overlay-content[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.title[_ngcontent-%COMP%]{color:#272727ce;letter-spacing:5px}"]})}}return n})();const n0e=["*",[["mat-toolbar-row"]]],r0e=["*","mat-toolbar-row"];let i0e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),s0e=(()=>{class n{constructor(t,i,s){this._elementRef=t,this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(Po),u.rXU(ze))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,s,o){if(1&i&&u.wni(o,i0e,5),2&i){let a;u.mGM(a=u.lsd())&&(s._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,s){2&i&&(u.HbH(s.color?"mat-"+s.color:""),u.AVh("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[u.aNF],ngContentSelectors:r0e,decls:2,vars:0,template:function(i,s){1&i&&(u.NAR(n0e),u.SdG(0),u.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),o0e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,yo]})}}return n})();var uQ=A(47707);function fQ(n={}){const{connector:r=()=>new Ir.B,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return o=>{let a,c,_,E=0,m=!1,j=!1;const oe=()=>{c?.unsubscribe(),c=void 0},le=()=>{oe(),a=_=void 0,m=j=!1},ue=()=>{const pe=a;le(),pe?.unsubscribe()};return(0,Mo.N)((pe,we)=>{E++,!j&&!m&&oe();const Oe=_=_??r();we.add(()=>{E--,0===E&&!j&&!m&&(c=qV(ue,s))}),Oe.subscribe(we),!a&&E>0&&(a=new uQ.Ms({next:Pe=>Oe.next(Pe),error:Pe=>{j=!0,oe(),c=qV(le,t,Pe),Oe.error(Pe)},complete:()=>{m=!0,oe(),c=qV(le,i),Oe.complete()}}),Do(pe).subscribe(a))})(o)}}function qV(n,r,...t){if(!0===r)return void n();if(!1===r)return;const i=new uQ.Ms({next:()=>{i.unsubscribe(),n()}});return Do(r(...t)).subscribe(i)}class J4{}class Q4{}class sh{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?"string"==typeof r?this.lazyInit=()=>{this.headers=new Map,r.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),o=s.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){const t=new sh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){const t=r.name.toLowerCase();switch(r.op){case"a":case"s":let i=r.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(r.name,t);const s=("a"===r.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const o=r.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(c=>-1===o.indexOf(c)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(r,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),s=r.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(r,s)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}}class a0e{encodeKey(r){return hQ(r)}encodeValue(r){return hQ(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const l0e=/%(\d[a-f0-9])/gi,d0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hQ(n){return encodeURIComponent(n).replace(l0e,(r,t)=>d0e[t]??r)}function eR(n){return`${n}`}class _v{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new a0e,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c0e(n,r){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[a,c]=-1==o?[r.decodeKey(s),""]:[r.decodeKey(s.slice(0,o)),r.decodeValue(s.slice(o+1))],_=t.get(a)||[];_.push(c),t.set(a,_)}),t}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{const i=r.fromObject[t],s=Array.isArray(i)?i.map(eR):[eR(i)];this.map.set(t,s)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){const t=[];return Object.keys(r).forEach(i=>{const s=r[i];Array.isArray(s)?s.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const t=this.encoder.encodeKey(r);return this.map.get(r).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const t=new _v({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const t=("a"===r.op?this.map.get(r.param):void 0)||[];t.push(eR(r.value)),this.map.set(r.param,t);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let i=this.map.get(r.param)||[];const s=i.indexOf(eR(r.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(r.param,i):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class u0e{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function pQ(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mQ(n){return typeof Blob<"u"&&n instanceof Blob}function gQ(n){return typeof FormData<"u"&&n instanceof FormData}class gk{constructor(r,t,i,s){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function f0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new sh,this.context??=new u0e,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+a}}else this.params=new _v,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||pQ(this.body)||mQ(this.body)||gQ(this.body)||function h0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof _v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gQ(this.body)?null:mQ(this.body)?this.body.type||null:pQ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const t=r.method||this.method,i=r.url||this.url,s=r.responseType||this.responseType,o=r.transferCache??this.transferCache,a=void 0!==r.body?r.body:this.body,c=r.withCredentials??this.withCredentials,_=r.reportProgress??this.reportProgress;let E=r.headers||this.headers,m=r.params||this.params;const j=r.context??this.context;return void 0!==r.setHeaders&&(E=Object.keys(r.setHeaders).reduce((oe,le)=>oe.set(le,r.setHeaders[le]),E)),r.setParams&&(m=Object.keys(r.setParams).reduce((oe,le)=>oe.set(le,r.setParams[le]),m)),new gk(t,i,a,{params:m,headers:E,context:j,reportProgress:_,responseType:s,withCredentials:c,transferCache:o})}}var wv=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(wv||{});class XV{constructor(r,t=200,i="OK"){this.headers=r.headers||new sh,this.status=void 0!==r.status?r.status:t,this.statusText=r.statusText||i,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class tR extends XV{constructor(r={}){super(r),this.type=wv.ResponseHeader}clone(r={}){return new tR({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class z1 extends XV{constructor(r={}){super(r),this.type=wv.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new z1({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class aS extends XV{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function YV(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let ZV=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let o;if(t instanceof gk)o=t;else{let _,E;_=s.headers instanceof sh?s.headers:new sh(s.headers),s.params&&(E=s.params instanceof _v?s.params:new _v({fromObject:s.params})),o=new gk(t,i,void 0!==s.body?s.body:null,{headers:_,context:s.context,params:E,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const a=Ar(o).pipe(oy(_=>this.handler.handle(_)));if(t instanceof gk||"events"===s.observe)return a;const c=a.pipe(ro(_=>_ instanceof z1));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe((0,ei.T)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return c.pipe((0,ei.T)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return c.pipe((0,ei.T)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return c.pipe((0,ei.T)(_=>_.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new _v).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,YV(s,i))}post(t,i,s={}){return this.request("POST",t,YV(s,i))}put(t,i,s={}){return this.request("PUT",t,YV(s,i))}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(J4))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const g0e=/^\)\]\}',?\n/;function vQ(n){if(n.url)return n.url;const r="X-Request-URL".toLocaleLowerCase();return n.headers.get(r)}let JV=(()=>{class n{constructor(){this.fetchImpl=(0,u.WQX)(v0e,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=(0,u.WQX)(u.SKi)}handle(t){return new vs.c(i=>{const s=new AbortController;return this.doRequest(t,s.signal,i).then(QV,o=>i.error(new aS({error:o}))),()=>s.abort()})}doRequest(t,i,s){var o=this;return(0,Nn.A)(function*(){const a=o.createRequestInit(t);let c;try{const ue=o.ngZone.runOutsideAngular(()=>o.fetchImpl(t.urlWithParams,{signal:i,...a}));(function b0e(n){n.then(QV,QV)})(ue),s.next({type:wv.Sent}),c=yield ue}catch(ue){return void s.error(new aS({error:ue,status:ue.status??0,statusText:ue.statusText,url:t.urlWithParams,headers:ue.headers}))}const _=new sh(c.headers),E=c.statusText,m=vQ(c)??t.urlWithParams;let j=c.status,oe=null;if(t.reportProgress&&s.next(new tR({headers:_,status:j,statusText:E,url:m})),c.body){const ue=c.headers.get("content-length"),pe=[],we=c.body.getReader();let Pe,Ie,Oe=0;const $e=typeof Zone<"u"&&Zone.current;yield o.ngZone.runOutsideAngular((0,Nn.A)(function*(){for(;;){const{done:Qe,value:tt}=yield we.read();if(Qe)break;if(pe.push(tt),Oe+=tt.length,t.reportProgress){Ie="text"===t.responseType?(Ie??"")+(Pe??=new TextDecoder).decode(tt,{stream:!0}):void 0;const ot=()=>s.next({type:wv.DownloadProgress,total:ue?+ue:void 0,loaded:Oe,partialText:Ie});$e?$e.run(ot):ot()}}}));const Je=o.concatChunks(pe,Oe);try{const Qe=c.headers.get("Content-Type")??"";oe=o.parseBody(t,Je,Qe)}catch(Qe){return void s.error(new aS({error:Qe,headers:new sh(c.headers),status:c.status,statusText:c.statusText,url:vQ(c)??t.urlWithParams}))}}0===j&&(j=oe?200:0),j>=200&&j<300?(s.next(new z1({body:oe,headers:_,status:j,statusText:E,url:m})),s.complete()):s.error(new aS({error:oe,headers:_,status:j,statusText:E,url:m}))})()}parseBody(t,i,s){switch(t.responseType){case"json":const o=(new TextDecoder).decode(i).replace(g0e,"");return""===o?null:JSON.parse(o);case"text":return(new TextDecoder).decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(t){const i={},s=t.withCredentials?"include":void 0;if(t.headers.forEach((o,a)=>i[o]=a.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const o=t.detectContentTypeHeader();null!==o&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:s}}concatChunks(t,i){const s=new Uint8Array(i);let o=0;for(const a of t)s.set(a,o),o+=a.length;return s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();class v0e{}function QV(){}function bQ(n,r){return r(n)}function _0e(n,r){return(t,i)=>r.intercept(t,{handle:s=>n(s,i)})}const x0e=new u.nKC(""),yk=new u.nKC(""),_Q=new u.nKC(""),wQ=new u.nKC("",{providedIn:"root",factory:()=>!0});function E0e(){let n=null;return(r,t)=>{null===n&&(n=((0,u.WQX)(x0e,{optional:!0})??[]).reduceRight(_0e,bQ));const i=(0,u.WQX)(u.TgB);if((0,u.WQX)(wQ)){const o=i.add();return n(r,t).pipe(Gb(()=>i.remove(o)))}return n(r,t)}}let xQ=(()=>{class n extends J4{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,u.WQX)(u.TgB),this.contributeToStability=(0,u.WQX)(wQ)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(yk),...this.injector.get(_Q,[])]));this.chain=i.reduceRight((s,o)=>function w0e(n,r,t){return(i,s)=>(0,u.N4e)(t,()=>r(i,o=>n(o,s)))}(s,o,this.injector),bQ)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(Gb(()=>this.pendingTasks.remove(i)))}return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Q4),u.KVO(u.uvJ))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const D0e=/^\)\]\}',?\n/;let SQ=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new u.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?ho(i.\u0275loadImpl()):Ar(null)).pipe(Rc(()=>new vs.c(o=>{const a=i.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((pe,we)=>a.setRequestHeader(pe,we.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const pe=t.detectContentTypeHeader();null!==pe&&a.setRequestHeader("Content-Type",pe)}if(t.responseType){const pe=t.responseType.toLowerCase();a.responseType="json"!==pe?pe:"text"}const c=t.serializeBody();let _=null;const E=()=>{if(null!==_)return _;const pe=a.statusText||"OK",we=new sh(a.getAllResponseHeaders()),Oe=function M0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return _=new tR({headers:we,status:a.status,statusText:pe,url:Oe}),_},m=()=>{let{headers:pe,status:we,statusText:Oe,url:Pe}=E(),Ie=null;204!==we&&(Ie=typeof a.response>"u"?a.responseText:a.response),0===we&&(we=Ie?200:0);let $e=we>=200&&we<300;if("json"===t.responseType&&"string"==typeof Ie){const Je=Ie;Ie=Ie.replace(D0e,"");try{Ie=""!==Ie?JSON.parse(Ie):null}catch(Qe){Ie=Je,$e&&($e=!1,Ie={error:Qe,text:Ie})}}$e?(o.next(new z1({body:Ie,headers:pe,status:we,statusText:Oe,url:Pe||void 0})),o.complete()):o.error(new aS({error:Ie,headers:pe,status:we,statusText:Oe,url:Pe||void 0}))},j=pe=>{const{url:we}=E(),Oe=new aS({error:pe,status:a.status||0,statusText:a.statusText||"Unknown Error",url:we||void 0});o.error(Oe)};let oe=!1;const le=pe=>{oe||(o.next(E()),oe=!0);let we={type:wv.DownloadProgress,loaded:pe.loaded};pe.lengthComputable&&(we.total=pe.total),"text"===t.responseType&&a.responseText&&(we.partialText=a.responseText),o.next(we)},ue=pe=>{let we={type:wv.UploadProgress,loaded:pe.loaded};pe.lengthComputable&&(we.total=pe.total),o.next(we)};return a.addEventListener("load",m),a.addEventListener("error",j),a.addEventListener("timeout",j),a.addEventListener("abort",j),t.reportProgress&&(a.addEventListener("progress",le),null!==c&&a.upload&&a.upload.addEventListener("progress",ue)),a.send(c),o.next({type:wv.Sent}),()=>{a.removeEventListener("error",j),a.removeEventListener("abort",j),a.removeEventListener("load",m),a.removeEventListener("timeout",j),t.reportProgress&&(a.removeEventListener("progress",le),null!==c&&a.upload&&a.upload.removeEventListener("progress",ue)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Ug))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const eU=new u.nKC(""),CQ=new u.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),AQ=new u.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TQ{}let P0e=(()=>{class n{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(u.Agw),u.KVO(CQ))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();function O0e(n,r){const t=n.url.toLowerCase();if(!(0,u.WQX)(eU)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return r(n);const i=(0,u.WQX)(TQ).getToken(),s=(0,u.WQX)(AQ);return null!=i&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),r(n)}var xv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(xv||{});function H1(n,r){return{\u0275kind:n,\u0275providers:r}}function R0e(...n){const r=[ZV,SQ,xQ,{provide:J4,useExisting:xQ},{provide:Q4,useFactory:()=>(0,u.WQX)(JV,{optional:!0})??(0,u.WQX)(SQ)},{provide:yk,useValue:O0e,multi:!0},{provide:eU,useValue:!0},{provide:TQ,useClass:P0e}];for(const t of n)r.push(...t.\u0275providers);return(0,u.EmA)(r)}const DQ=new u.nKC(""),H0e=["*"];let rR;function vk(n){return function G0e(){if(void 0===rR&&(rR=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(rR=n.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}))}return rR}()?.createHTML(n)||n}function NQ(n){return Error(`Unable to find icon with the name "${n}"`)}function BQ(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LQ(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class G1{constructor(r,t,i){this.url=r,this.svgText=t,this.options=i}}let iR=(()=>{class n{constructor(t,i,s,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(t,i,s){return this.addSvgIconInNamespace("",t,i,s)}addSvgIconLiteral(t,i,s){return this.addSvgIconLiteralInNamespace("",t,i,s)}addSvgIconInNamespace(t,i,s,o){return this._addSvgIconConfig(t,i,new G1(s,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,s,o){const a=this._sanitizer.sanitize(u.WPN.HTML,s);if(!a)throw LQ(s);const c=vk(a);return this._addSvgIconConfig(t,i,new G1("",c,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,s){return this._addSvgIconSetConfig(t,new G1(i,null,s))}addSvgIconSetLiteralInNamespace(t,i,s){const o=this._sanitizer.sanitize(u.WPN.HTML,i);if(!o)throw LQ(i);const a=vk(o);return this._addSvgIconSetConfig(t,new G1("",a,s))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.WPN.RESOURCE_URL,t);if(!i)throw BQ(t);const s=this._cachedIconsByUrl.get(i);return s?Ar(sR(s)):this._loadSvgIconFromConfig(new G1(t,null)).pipe(Yo(o=>this._cachedIconsByUrl.set(i,o)),(0,ei.T)(o=>sR(o)))}getNamedSvgIcon(t,i=""){const s=jQ(i,t);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):iy(NQ(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ar(sR(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ei.T)(i=>sR(i)))}_getSvgFromIconSetConfigs(t,i){const s=this._extractIconWithNameFromAnySet(t,i);return s?Ar(s):O5(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(ay(c=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(u.WPN.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(E)),Ar(null)})))).pipe((0,ei.T)(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw NQ(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Yo(i=>t.svgText=i),(0,ei.T)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ar(null):this._fetchIcon(t).pipe(Yo(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,s){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const c=this._svgElementFromString(vk("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const i=this._svgElementFromString(vk("<svg></svg>")),s=t.attributes;for(let o=0;o<s.length;o++){const{name:a,value:c}=s[o];"id"!==a&&i.setAttribute(a,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:s}=t,o=s?.withCredentials??!1;if(!this._httpClient)throw function W0e(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(u.WPN.RESOURCE_URL,i);if(!a)throw BQ(i);const c=this._inProgressUrlFetches.get(a);if(c)return c;const _=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,ei.T)(E=>vk(E)),Gb(()=>this._inProgressUrlFetches.delete(a)),fQ());return this._inProgressUrlFetches.set(a,_),_}_addSvgIconConfig(t,i,s){return this._svgIconConfigs.set(jQ(t,i),s),this}_addSvgIconSetConfig(t,i){const s=this._iconSetConfigs.get(t);return s?s.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,t);if(o)return q0e(o)?new G1(o.url,null,o.options):new G1(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ZV,8),u.KVO($b),u.KVO(ze,8),u.KVO(u.zcH))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sR(n){return n.cloneNode(!0)}function jQ(n,r){return n+":"+r}function q0e(n){return!(!n.url||!n.options)}const X0e=new u.nKC("MAT_ICON_DEFAULT_OPTIONS"),Y0e=new u.nKC("mat-icon-location",{providedIn:"root",factory:function Z0e(){const n=(0,u.WQX)(ze),r=n?n.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),$Q=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],J0e=$Q.map(n=>`[${n}]`).join(", "),Q0e=/^url\(['"]?#(.*?)['"]?\)$/;let VQ=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,s,o,a,c){this._elementRef=t,this._iconRegistry=i,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=da.yU.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),s||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=t.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>t.classList.remove(s)),i.forEach(s=>t.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(J0e),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)$Q.forEach(a=>{const c=i[o],_=c.getAttribute(a),E=_?_.match(Q0e):null;if(E){let m=s.get(c);m||(m=[],s.set(c,m)),m.push({name:a,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,s]=this._splitIconName(t);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(oc(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(iR),u.kS0("aria-hidden"),u.rXU(Y0e),u.rXU(u.zcH),u.rXU(X0e,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,s){2&i&&(u.BMQ("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),u.HbH(s.color?"mat-"+s.color:""),u.AVh("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:[2,"inline","inline",u.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[u.GFd,u.aNF],ngContentSelectors:H0e,decls:1,vars:0,template:function(i,s){1&i&&(u.NAR(),u.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),ege=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,yo]})}}return n})();const tge=["addListener","removeListener"],nge=["addEventListener","removeEventListener"],rge=["on","off"];function na(n,r,t,i){if((0,$o.T)(t)&&(i=t,t=void 0),i)return na(n,r,t).pipe(Fx(i));const[s,o]=function oge(n){return(0,$o.T)(n.addEventListener)&&(0,$o.T)(n.removeEventListener)}(n)?nge.map(a=>c=>n[a](r,c,t)):function ige(n){return(0,$o.T)(n.addListener)&&(0,$o.T)(n.removeListener)}(n)?tge.map(UQ(n,r)):function sge(n){return(0,$o.T)(n.on)&&(0,$o.T)(n.off)}(n)?rge.map(UQ(n,r)):[];if(!s&&xa(n))return Ea(a=>na(a,r,t))(Do(n));if(!s)throw new TypeError("Invalid event target");return new vs.c(a=>{const c=(..._)=>a.next(1<_.length?_:_[0]);return s(c),()=>o(c)})}function UQ(n,r){return t=>i=>n[t](r,i)}const bk={schedule(n){let r=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=bk;i&&(r=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=r(o=>{t=void 0,n(o)});return new da.yU(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:r}=bk;return(r?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:r}=bk;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class cge extends H4{flush(r){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;r=r||i.shift();do{if(s=r.execute(r.state,r.delay))break}while((r=i[0])&&r.id===t&&i.shift());if(this._active=!1,s){for(;(r=i[0])&&r.id===t&&i.shift();)r.unsubscribe();throw s}}}(class age extends lk{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,i=0){return null!==i&&i>0?super.requestAsyncId(r,t,i):(r.actions.push(this),r._scheduled||(r._scheduled=bk.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(r,t,i);const{actions:o}=r;null!=t&&(null===(s=o[o.length-1])||void 0===s?void 0:s.id)!==t&&(bk.cancelAnimationFrame(t),r._scheduled=void 0)}});let tU,dge=1;const oR={};function zQ(n){return n in oR&&(delete oR[n],!0)}const uge={setImmediate(n){const r=dge++;return oR[r]=!0,tU||(tU=Promise.resolve()),tU.then(()=>zQ(r)&&n()),r},clearImmediate(n){zQ(n)}},{setImmediate:fge,clearImmediate:hge}=uge,aR={setImmediate(...n){const{delegate:r}=aR;return(r?.setImmediate||fge)(...n)},clearImmediate(n){const{delegate:r}=aR;return(r?.clearImmediate||hge)(n)},delegate:void 0};new class mge extends H4{flush(r){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;r=r||i.shift();do{if(s=r.execute(r.state,r.delay))break}while((r=i[0])&&r.id===t&&i.shift());if(this._active=!1,s){for(;(r=i[0])&&r.id===t&&i.shift();)r.unsubscribe();throw s}}}(class pge extends lk{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,i=0){return null!==i&&i>0?super.requestAsyncId(r,t,i):(r.actions.push(this),r._scheduled||(r._scheduled=aR.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(r,t,i);const{actions:o}=r;null!=t&&(null===(s=o[o.length-1])||void 0===s?void 0:s.id)!==t&&(aR.clearImmediate(t),r._scheduled===t&&(r._scheduled=void 0))}});function cR(n=0,r,t=jV){let i=-1;return null!=r&&(Y8(r)?t=r:i=r),new vs.c(s=>{let o=function vge(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){s.closed||(s.next(a++),0<=i?this.schedule(void 0,i):s.complete())},o)})}function HQ(n,r=dk){return function yge(n){return(0,Mo.N)((r,t)=>{let i=!1,s=null,o=null,a=!1;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const E=s;s=null,t.next(E)}a&&t.complete()},_=()=>{o=null,a&&t.complete()};r.subscribe((0,Ds._)(t,E=>{i=!0,s=E,o||Do(n(E)).subscribe(o=(0,Ds._)(t,c,_))},()=>{a=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>cR(n,r))}let nU=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new Ir.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vs.c(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(HQ(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ar()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ro(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=p(i),o=t.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>na(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(u.SKi),u.KVO(Po),u.KVO(ze,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_ge=(()=>{class n{constructor(t,i,s,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=s,this.dir=o,this._destroyed=new Ir.B,this._elementScrolled=new vs.c(a=>this.ngZone.runOutsideAngular(()=>na(this.elementRef.nativeElement,"scroll").pipe(Ni(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=s?t.end:t.start),null==t.right&&(t.right=s?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),s&&L1()!=op.NORMAL?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),L1()==op.INVERTED?t.left=t.right:L1()==op.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;B1()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",s="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?s:i:"end"==t&&(t=a?i:s),a&&L1()==op.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&L1()==op.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(nU),u.rXU(u.SKi),u.rXU(U1,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),lR=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new Ir.B,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,o=s.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HQ(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Po),u.KVO(u.SKi),u.KVO(ze,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_k=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),GQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[fk,_k,fk,_k]})}}return n})();class rU{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class iU extends rU{constructor(r,t,i,s,o){super(),this.component=r,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=o}}class sU extends rU{constructor(r,t,i,s){super(),this.templateRef=r,this.viewContainerRef=t,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(r,t=this.context){return this.context=t,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class xge extends rU{constructor(r){super(),this.element=r instanceof u.aKT?r.nativeElement:r}}class WQ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof iU?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof sU?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof xge?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class KQ extends WQ{constructor(r,t,i,s,o){super(),this.outletElement=r,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=a=>{const c=a.element,_=this._document.createComment("dom-portal");c.parentNode.insertBefore(_,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(c,_)})},this._document=o}attachComponentPortal(r){const i=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let s;return r.viewContainerRef?(s=r.viewContainerRef.createComponent(i,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector,r.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(r.injector||this._defaultInjector||u.zZn.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=r,s}attachTemplatePortal(r){let t=r.viewContainerRef,i=t.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=r,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let Ege=(()=>{class n extends sU{constructor(t,i){super(t,i)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.C4Q),u.rXU(u.c1b))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[u.Vt3]})}}return n})(),oU=(()=>{class n extends WQ{constructor(t,i,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.bkB,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.OM3),u.rXU(u.c1b),u.rXU(ze))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[u.Vt3]})}}return n})(),Sge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();function W1(...n){const r=s0(n),t=function Rx(n,r){return"number"==typeof r0(n)?n.pop():r}(n,1/0),i=n;return i.length?1===i.length?Do(i[0]):o0(t)(ho(i,r)):sc}const qQ=B1();class Cge{constructor(r,t){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=l(-this._previousScrollPosition.left),r.style.top=l(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,i=r.style,s=this._document.body.style,o=i.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),qQ&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qQ&&(i.scrollBehavior=o,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Age{constructor(r,t,i,s){this._scrollDispatcher=r,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0).pipe(ro(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class XQ{enable(){}disable(){}attach(){}}function aU(n,r){return r.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function YQ(n,r){return r.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Tge{constructor(r,t,i,s){this._scrollDispatcher=r,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();aU(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Dge=(()=>{class n{constructor(t,i,s,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new XQ,this.close=a=>new Age(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Cge(this._viewportRuler,this._document),this.reposition=a=>new Tge(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(nU),u.KVO(lR),u.KVO(u.SKi),u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Mge{constructor(r){if(this.scrollStrategy=new XQ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const t=Object.keys(r);for(const i of t)void 0!==r[i]&&(this[i]=r[i])}}}class kge{constructor(r,t){this.connectionPair=r,this.scrollableViewProperties=t}}let ZQ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ige=(()=>{class n extends ZQ{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(u.SKi,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pge=(()=>{class n extends ZQ{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Yu(o)},this._clickListener=o=>{const a=Yu(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const m=_[E];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(JQ(m.overlayElement,a)||JQ(m.overlayElement,c))break;const j=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>j.next(o)):j.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(Po),u.KVO(u.SKi,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JQ(n,r){const t=typeof ShadowRoot<"u"&&ShadowRoot;let i=r;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let QQ=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||j1()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}const i=this._document.createElement("div");i.classList.add(t),j1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(Po))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Oge{constructor(r,t,i,s,o,a,c,_,E,m=!1,j){this._portalOutlet=r,this._host=t,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=a,this._document=c,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=m,this._injector=j,this._backdropElement=null,this._backdropClick=new Ir.B,this._attachments=new Ir.B,this._detachments=new Ir.B,this._locationChanges=da.yU.EMPTY,this._backdropClickHandler=oe=>this._backdropClick.next(oe),this._backdropTransitionendHandler=oe=>{this._disposeBackdrop(oe.target)},this._keydownEvents=new Ir.B,this._outsidePointerEvents=new Ir.B,this._renders=new Ir.B,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=(0,u.O8t)(()=>(0,u.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,u.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config={...this._config,...r},this._updateElementSize()}setDirection(r){this._config={...this._config,direction:r},this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=l(this._config.width),r.height=l(this._config.height),r.minWidth=l(this._config.minWidth),r.minHeight=l(this._config.minHeight),r.maxWidth=l(this._config.maxWidth),r.maxHeight=l(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const r=this._backdropElement;if(r){if(this._animationsDisabled)return void this._disposeBackdrop(r);r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,t,i){const s=uk(t||[]).filter(o=>!!o);s.length&&(i?r.classList.add(...s):r.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const r=this._renders.pipe(Ni(W1(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const eee="cdk-overlay-connected-position-bounding-box",Rge=/([A-Za-z%]+)$/;class Fge{get positions(){return this._preferredPositions}constructor(r,t,i,s,o){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ir.B,this._resizeSubscription=da.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}attach(r){this._validatePositions(),r.hostElement.classList.add(eee),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,o=[];let a;for(let c of this._preferredPositions){let _=this._getOriginPoint(r,s,c),E=this._getOverlayPoint(_,t,c),m=this._getOverlayFit(E,t,i,c);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,_);this._canFitWithFlexibleDimensions(m,E,i)?o.push({position:c,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,c)}):(!a||a.overlayFit.visibleArea<m.visibleArea)&&(a={overlayFit:m,overlayPoint:E,originPoint:_,position:c,overlayRect:t})}if(o.length){let c=null,_=-1;for(const E of o){const m=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);m>_&&(_=m,c=E)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&K1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eee),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,t)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,t,i){let s,o;if("center"==i.originX)s=r.left+r.width/2;else{const a=this._isRtl()?r.right:r.left,c=this._isRtl()?r.left:r.right;s="start"==i.originX?a:c}return t.left<0&&(s-=t.left),o="center"==i.originY?r.top+r.height/2:"top"==i.originY?r.top:r.bottom,t.top<0&&(o-=t.top),{x:s,y:o}}_getOverlayPoint(r,t,i){let s,o;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:r.x+s,y:r.y+o}}_getOverlayFit(r,t,i,s){const o=nee(t);let{x:a,y:c}=r,_=this._getOffset(s,"x"),E=this._getOffset(s,"y");_&&(a+=_),E&&(c+=E);let oe=0-c,le=c+o.height-i.height,ue=this._subtractOverflows(o.width,0-a,a+o.width-i.width),pe=this._subtractOverflows(o.height,oe,le),we=ue*pe;return{visibleArea:we,isCompletelyWithinViewport:o.width*o.height===we,fitsInViewportVertically:pe===o.height,fitsInViewportHorizontally:ue==o.width}}_canFitWithFlexibleDimensions(r,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,o=i.right-t.x,a=tee(this._overlayRef.getConfig().minHeight),c=tee(this._overlayRef.getConfig().minWidth);return(r.fitsInViewportVertically||null!=a&&a<=s)&&(r.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(r,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const s=nee(t),o=this._viewportRect,a=Math.max(r.x+s.width-o.width,0),c=Math.max(r.y+s.height-o.height,0),_=Math.max(o.top-i.top-r.y,0),E=Math.max(o.left-i.left-r.x,0);let m=0,j=0;return m=s.width<=o.width?E||-a:r.x<this._viewportMargin?o.left-i.left-r.x:0,j=s.height<=o.height?_||-c:r.y<this._viewportMargin?o.top-i.top-r.y:0,this._previousPushAmount={x:m,y:j},{x:r.x+m,y:r.y+j}}_applyPosition(r,t){if(this._setTransformOrigin(r),this._setOverlayElementStyles(t,r),this._setBoundingBoxStyles(t,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!function Nge(n,r){return n===r||n.isOriginClipped===r.isOriginClipped&&n.isOriginOutsideView===r.isOriginOutsideView&&n.isOverlayClipped===r.isOverlayClipped&&n.isOverlayOutsideView===r.isOverlayOutsideView}(this._lastScrollVisibility,i)){const s=new kge(r,i);this._positionChanges.next(s)}this._lastScrollVisibility=i}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=r.overlayY;i="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(r,t){const i=this._viewportRect,s=this._isRtl();let o,a,c,m,j,oe;if("top"===t.overlayY)a=r.y,o=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)c=i.height-r.y+2*this._viewportMargin,o=i.height-c+this._viewportMargin;else{const le=Math.min(i.bottom-r.y+i.top,r.y),ue=this._lastBoundingBoxSize.height;o=2*le,a=r.y-le,o>ue&&!this._isInitialRender&&!this._growAfterOpen&&(a=r.y-ue/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)oe=i.width-r.x+2*this._viewportMargin,m=r.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)j=r.x,m=i.right-r.x;else{const le=Math.min(i.right-r.x+i.left,r.x),ue=this._lastBoundingBoxSize.width;m=2*le,j=r.x-le,m>ue&&!this._isInitialRender&&!this._growAfterOpen&&(j=r.x-ue/2)}return{top:a,left:j,bottom:c,right:oe,width:m,height:o}}_setBoundingBoxStyles(r,t){const i=this._calculateBoundingBoxRect(r,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=l(i.height),s.top=l(i.top),s.bottom=l(i.bottom),s.width=l(i.width),s.left=l(i.left),s.right=l(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(s.maxHeight=l(o)),a&&(s.maxWidth=l(a))}this._lastBoundingBoxSize=i,K1(this._boundingBox.style,s)}_resetBoundingBoxStyles(){K1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){K1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,t){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const m=this._viewportRuler.getViewportScrollPosition();K1(i,this._getExactOverlayY(t,r,m)),K1(i,this._getExactOverlayX(t,r,m))}else i.position="static";let c="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(c+=`translateX(${_}px) `),E&&(c+=`translateY(${E}px)`),i.transform=c.trim(),a.maxHeight&&(s?i.maxHeight=l(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(s?i.maxWidth=l(a.maxWidth):o&&(i.maxWidth="")),K1(this._pane.style,i)}_getExactOverlayY(r,t,i){let s={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,r);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===r.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=l(o.y),s}_getExactOverlayX(r,t,i){let a,s={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,r);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=l(o.x),s}_getScrollVisibility(){const r=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:YQ(r,i),isOriginOutsideView:aU(r,i),isOverlayClipped:YQ(t,i),isOverlayOutsideView:aU(t,i)}}_subtractOverflows(r,...t){return t.reduce((i,s)=>i-Math.max(s,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+r-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:r-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,t){return"x"===t?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&uk(r).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof u.aKT)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const t=r.width||0,i=r.height||0;return{top:r.y,bottom:r.y+i,left:r.x,right:r.x+t,height:i,width:t}}}function K1(n,r){for(let t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n}function tee(n){if("number"!=typeof n&&null!=n){const[r,t]=n.split(Rge);return t&&"px"!==t?null:parseFloat(r)}return n||null}function nee(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ree="cdk-global-overlay-wrapper";class Bge{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){const t=r.getConfig();this._overlayRef=r,this._width&&!t.width&&r.updateSize({width:this._width}),this._height&&!t.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(ree),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:a,maxHeight:c}=i,_=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),E=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),m=this._xPosition,j=this._xOffset,oe="rtl"===this._overlayRef.getConfig().direction;let le="",ue="",pe="";_?pe="flex-start":"center"===m?(pe="center",oe?ue=j:le=j):oe?"left"===m||"end"===m?(pe="flex-end",le=j):("right"===m||"start"===m)&&(pe="flex-start",ue=j):"left"===m||"start"===m?(pe="flex-start",le=j):("right"===m||"end"===m)&&(pe="flex-end",ue=j),r.position=this._cssPosition,r.marginLeft=_?"0":le,r.marginTop=E?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=_?"0":ue,t.justifyContent=pe,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(ree),i.justifyContent=i.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let Lge=(()=>{class n{constructor(t,i,s,o){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new Bge}flexibleConnectedTo(t){return new Fge(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(lR),u.KVO(ze),u.KVO(Po),u.KVO(QQ))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jge=0,cS=(()=>{class n{constructor(t,i,s,o,a,c,_,E,m,j,oe,le){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=_,this._document=E,this._directionality=m,this._location=j,this._outsideClickDispatcher=oe,this._animationsModuleType=le}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new Mge(t);return a.direction=a.direction||this._directionality.value,new Oge(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(u.uvJ))}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jge++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.o8S)),new KQ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Dge),u.KVO(QQ),u.KVO(u.OM3),u.KVO(Lge),u.KVO(Ige),u.KVO(u.zZn),u.KVO(u.SKi),u.KVO(ze),u.KVO(U1),u.KVO(he),u.KVO(Pge),u.KVO(u.bc$,8))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $ge=new u.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,u.WQX)(cS);return()=>n.scrollStrategies.reposition()}}),Uge={provide:$ge,deps:[cS],useFactory:function Vge(n){return()=>n.scrollStrategies.reposition()}};let zge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:[cS,Uge],imports:[fk,Sge,GQ,GQ]})}}return n})();var Yr=A(49969);const Hge=["tooltip"],see=new u.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,u.WQX)(cS);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),Wge={provide:see,deps:[cS],useFactory:function Gge(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},qge=new u.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Kge(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),oee="tooltip-panel",aee=bv({passive:!0});let Qge=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ml(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const i=ml(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=sS(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=sS(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){const i=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,s,o,a,c,_,E,m,j,oe,le){this._overlay=t,this._elementRef=i,this._scrollDispatcher=s,this._viewContainerRef=o,this._ngZone=a,this._platform=c,this._ariaDescriber=_,this._focusMonitor=E,this._dir=j,this._defaultOptions=oe,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=eye,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Ir.B,this._injector=(0,u.WQX)(u.zZn),this._scrollStrategy=m,this._document=le,oe&&(this._showDelay=oe.showDelay,this._hideDelay=oe.hideDelay,oe.position&&(this.position=oe.position),oe.positionAtOrigin&&(this.positionAtOrigin=oe.positionAtOrigin),oe.touchGestures&&(this.touchGestures=oe.touchGestures),oe.tooltipClass&&(this.tooltipClass=oe.tooltipClass)),j.change.pipe(Ni(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ni(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,s])=>{t.removeEventListener(i,s,aee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const s=this._createOverlay(i);this._detach(),this._portal=this._portal||new iU(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=s.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ni(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof u.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return s.positionChanges.pipe(Ni(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${oee}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ni(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ni(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ni(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ak(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,s=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...s.main,...o.main}),this._addOffset({...s.fallback,...o.fallback})])}_addOffset(t){const s=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=s?-8:8:"end"===t.originX&&(t.offsetX=s?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i||"below"==i?s={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?s={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(s={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i?s={overlayX:"center",overlayY:"bottom"}:"below"==i?s={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?s={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(s={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,u.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:s,originY:o}=t;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const c=this._overlayRef;if(c){const _=`${this._cssClassPrefix}-${oee}-`;c.removePanelClass(_+this._currentPosition),c.addPanelClass(_+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],s=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,s)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const s=i.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,aee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,s=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===t||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(cS),u.rXU(u.aKT),u.rXU(nU),u.rXU(u.c1b),u.rXU(u.SKi),u.rXU(Po),u.rXU(K4),u.rXU(zV),u.rXU(see),u.rXU(U1),u.rXU(qge,8),u.rXU(ze))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,s){2&i&&u.AVh("mat-mdc-tooltip-disabled",s.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),eye=(()=>{class n{constructor(t,i,s){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ir.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===s}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,s=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:s),i.classList.add(t?s:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.bc$,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,s){if(1&i&&u.GBs(Hge,7),2&i){let o;u.mGM(o=u.lsd())&&(s._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,s){1&i&&u.bIt("mouseleave",function(a){return s._handleMouseLeave(a)})},standalone:!0,features:[u.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,s){if(1&i){const o=u.RV6();u.j41(0,"div",1,0),u.bIt("animationend",function(c){return u.eBV(o),u.Njj(s._handleAnimationEnd(c))}),u.j41(2,"div",2),u.EFF(3),u.k0s()()}2&i&&(u.AVh("mdc-tooltip--multiline",s._isMultiline),u.Y8G("ngClass",s.tooltipClass),u.R7$(3),u.JRh(s.message))},dependencies:[Jn],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})(),tye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:[Wge],imports:[Eme,gs,zge,yo,yo,_k]})}}return n})(),nye=(()=>{class n{constructor(t){this.router=t}onLogOut(){this.router.navigate(["/logout"])}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Kd))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["app-sidebar"]],decls:18,vars:0,consts:[[1,"w-100","mt-3"],[1,"container-fluid","mb-4"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-5","w-100"],["height","50%","width","50%","viewBox","0 0 708 708","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","354","cy","354","r","354","fill","#3f51b5"],["fill-rule","evenodd","clip-rule","evenodd","d","M295.703 275.581V236.75H412.294V275.581H451.331V353.5H490.111V197.663H451.331V158.831H412.294V120H295.703V158.831H256.924V197.663H217.889V353.5H256.778V392.417H295.667V353.5H256.924V275.581H295.703ZM451.222 353.5H412.333V392.417H451.222V353.5ZM412.333 431.333H451.222V470.25H412.333V431.333ZM490.111 470.25H451.222V509.167H490.111V470.25ZM529 509.167H490.111V587H529V509.167ZM334.556 470.25H373.444V587H334.556V470.25ZM412.333 392.417H295.667V431.333H412.333V392.417ZM256.778 431.333H295.667V470.25H256.778V431.333ZM217.889 470.25H256.778V509.167H217.889V470.25ZM179 509.167H217.889V587H179V509.167Z","fill","white"],[1,"text-center","bg-light","bg-opacity-50","rounded-3","p-3","mt-2","shadow","w-100"],[1,"w-100","bg-light","bg-opacity-25"],[1,"list-group","list-group-flush","text-center","rounded-3","shadow"],["routerLink","/dashboard","aria-current","true",1,"list-group-item","list-group-item-action","list-group-item-light","border"],["routerLink","/dashboard/kcc","aria-current","true",1,"list-group-item","list-group-item-action","list-group-item-light","border"],["mat-button","","color","accent","matTooltip","Back to LogIn",3,"click"],[1,"text-center","rounded-3","bg-light","bg-opacity-50","p-3","mt-5","shadow","w-100"]],template:function(i,s){1&i&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2),u.qSk(),u.j41(3,"svg",3),u.nrm(4,"circle",4)(5,"path",5),u.k0s(),u.joV(),u.nrm(6,"div",6),u.k0s(),u.j41(7,"div",7)(8,"ul",8)(9,"a",9),u.EFF(10," Home "),u.k0s(),u.j41(11,"a",10),u.EFF(12," About "),u.k0s(),u.j41(13,"button",11),u.bIt("click",function(){return s.onLogOut()}),u.j41(14,"mat-icon"),u.EFF(15,"power_settings_new"),u.k0s(),u.EFF(16," Log Out "),u.k0s()()(),u.nrm(17,"div",12),u.k0s()())},dependencies:[wT,KV,VQ,Qge]})}}return n})(),rye=(()=>{class n{constructor(t){this.router=t;const i=localStorage.getItem("loggedUser");null!=i&&(this.loggedUser=JSON.parse(i),console.log("loggedUser:",this.loggedUser))}onLogOut(){localStorage.removeItem("loggedUser"),this.router.navigate(["start"])}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(Kd))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[[1,"wrapper"],["color","primary",1,"shadow"],[1,"h3","m-4","title","pixelify-sans"],[1,"content","d-flex","flex-column","flex-md-row"],[1,"sidebar"],[1,"main","d-flex","flex-column","justify-items-center"]],template:function(i,s){1&i&&(u.j41(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),u.EFF(3,"KCC Management System"),u.k0s()(),u.j41(4,"div",3)(5,"div",4),u.nrm(6,"app-sidebar"),u.k0s(),u.j41(7,"div",5),u.nrm(8,"router-outlet"),u.k0s()()())},dependencies:[l_,s0e,nye],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.content[_ngcontent-%COMP%]{display:flex;flex:1}.sidebar[_ngcontent-%COMP%]{flex:0 0 auto;width:100%;height:fit-content;background-image:url(background.b31c144052b949e3.jpg);background-size:300%;background-repeat:repeat}.main[_ngcontent-%COMP%]{flex:1;padding:10px}.title[_ngcontent-%COMP%]{letter-spacing:5px}@media (min-width: 768px){.sidebar[_ngcontent-%COMP%]{flex:0 0 auto;width:20rem;padding:10px;height:100%}}"]})}}return n})();var iye=A(49970);const cye=function sye(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}},cU=(new Uint8Array(0),n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")});class uye{constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class fye{constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return cee(this,r)}}class hye{constructor(r){this.decoders=r}or(r){return cee(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const cee=(n,r)=>new hye({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class pye{constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new uye(r,t,i),this.decoder=new fye(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const lee=({name:n,prefix:r,encode:t,decode:i})=>new pye(n,r,t,i),dee=({prefix:n,name:r,alphabet:t})=>{const{encode:i,decode:s}=cye(t,r);return lee({prefix:n,name:r,encode:i,decode:o=>cU(s(o))})},Zu=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>lee({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),dR=(Zu({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Zu({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zu({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6})),lU=(Zu({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder),yye=new TextDecoder;class Wr{static base64UrlToBytes(r){return dR.baseDecode(r)}static base64UrlToObject(r){const t=dR.baseDecode(r);return Wr.bytesToObject(t)}static bytesToBase64Url(r){return dR.baseEncode(r)}static bytesToString(r){return yye.decode(r)}static bytesToObject(r){const t=Wr.bytesToString(r);return JSON.parse(t)}static objectToBytes(r){const t=JSON.stringify(r);return lU.encode(t)}static stringToBase64Url(r){const t=lU.encode(r);return dR.baseEncode(t)}static stringToBytes(r){return lU.encode(r)}}const gl=2n**255n-19n,lS=2n**252n+27742317777372353535851937790883648493n,dU=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,uU=0x6666666666666666666666666666666666666666666666666666666666666658n,uR={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:gl,n:lS,h:8,Gx:dU,Gy:uU},Dd=(n="")=>{throw new Error(n)},uee=n=>"string"==typeof n,fR=(n,r)=>!(n instanceof Uint8Array)||"number"==typeof r&&r>0&&n.length!==r?Dd("Uint8Array expected"):n,dS=n=>new Uint8Array(n),q1=(n,r)=>fR(uee(n)?hU(n):dS(n),r),Zr=(n,r=gl)=>{let t=n%r;return t>=0n?t:r+t},fee=n=>n instanceof iu?n:Dd("Point expected");let hee;class iu{constructor(r,t,i,s){this.ex=r,this.ey=t,this.ez=i,this.et=s}static fromAffine(r){return new iu(r.x,r.y,1n,Zr(r.x*r.y))}static fromHex(r,t=!0){const{d:i}=uR,s=(r=q1(r,32)).slice();s[31]=-129&r[31];const o=pU(s);0n===o||(t&&!(0n<o&&o<gl)&&Dd("bad y coord 1"),!t&&!(0n<o&&o<2n**256n)&&Dd("bad y coord 2"));const a=Zr(o*o),c=Zr(a-1n),_=Zr(i*a+1n);let{isValid:E,value:m}=bye(c,_);return E||Dd("bad y coordinate 3"),!!(128&r[31])!=(1n===(1n&m))&&(m=Zr(-m)),new iu(m,o,1n,Zr(m*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(r){const{ex:t,ey:i,ez:s}=this,{ex:o,ey:a,ez:c}=fee(r),_=Zr(t*c),E=Zr(o*s),m=Zr(i*c),j=Zr(a*s);return _===E&&m===j}is0(){return this.equals(hR)}negate(){return new iu(Zr(-this.ex),this.ey,this.ez,Zr(-this.et))}double(){const{ex:r,ey:t,ez:i}=this,{a:s}=uR,o=Zr(r*r),a=Zr(t*t),c=Zr(2n*Zr(i*i)),_=Zr(s*o),E=r+t,m=Zr(Zr(E*E)-o-a),j=_+a,oe=j-c,le=_-a,ue=Zr(m*oe),pe=Zr(j*le),we=Zr(m*le),Oe=Zr(oe*j);return new iu(ue,pe,Oe,we)}add(r){const{ex:t,ey:i,ez:s,et:o}=this,{ex:a,ey:c,ez:_,et:E}=fee(r),{a:m,d:j}=uR,oe=Zr(t*a),le=Zr(i*c),ue=Zr(o*j*E),pe=Zr(s*_),we=Zr((t+i)*(a+c)-oe-le),Oe=Zr(pe-ue),Pe=Zr(pe+ue),Ie=Zr(le-m*oe),$e=Zr(we*Oe),Je=Zr(Pe*Ie),Qe=Zr(we*Ie),tt=Zr(Oe*Pe);return new iu($e,Je,tt,Qe)}mul(r,t=!0){if(0n===r)return!0===t?Dd("cannot multiply by 0"):hR;if("bigint"==typeof r&&0n<r&&r<lS||Dd("invalid scalar, must be < L"),!t&&this.is0()||1n===r)return this;if(this.equals(Ev))return Cye(r).p;let i=hR,s=Ev;for(let o=this;r>0n;o=o.double(),r>>=1n)1n&r?i=i.add(o):t&&(s=s.add(o));return i}multiply(r){return this.mul(r)}clearCofactor(){return this.mul(BigInt(uR.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let r=this.mul(lS/2n,!1).double();return r=r.add(this),r.is0()}toAffine(){const{ex:r,ey:t,ez:i}=this;if(this.is0())return{x:0n,y:0n};const s=gee(i);return 1n!==Zr(i*s)&&Dd("invalid inverse"),{x:Zr(r*s),y:Zr(t*s)}}toRawBytes(){const{x:r,y:t}=this.toAffine(),i=mee(t);return i[31]|=1n&r?128:0,i}toHex(){return fU(this.toRawBytes())}}iu.BASE=new iu(dU,uU,1n,Zr(dU*uU)),iu.ZERO=new iu(0n,1n,1n,0n);const{BASE:Ev,ZERO:hR}=iu,pee=(n,r)=>n.toString(16).padStart(r,"0"),fU=n=>Array.from(n).map(r=>pee(r,2)).join(""),hU=n=>{const r=n.length;(!uee(n)||r%2)&&Dd("hex invalid 1");const t=dS(r/2);for(let i=0;i<t.length;i++){const s=2*i,o=n.slice(s,s+2),a=Number.parseInt(o,16);(Number.isNaN(a)||a<0)&&Dd("hex invalid 2"),t[i]=a}return t},mee=n=>hU(pee(n,64)).reverse(),pU=n=>BigInt("0x"+fU(dS(fR(n)).reverse())),wk=(...n)=>{const r=dS(n.reduce((i,s)=>i+fR(s).length,0));let t=0;return n.forEach(i=>{r.set(i,t),t+=i.length}),r},gee=(n,r=gl)=>{(0n===n||r<=0n)&&Dd("no inverse n="+n+" mod="+r);let t=Zr(n,r),i=r,s=0n,o=1n,a=1n,c=0n;for(;0n!==t;){const _=i/t,E=i%t,m=s-a*_,j=o-c*_;i=t,t=E,s=a,o=c,a=m,c=j}return 1n===i?Zr(s,r):Dd("no inverse")},gm=(n,r)=>{let t=n;for(;r-- >0n;)t*=t,t%=gl;return t},yee=19681161376707505956807079304988542015446066515923890162744021073123829784752n,bye=(n,r)=>{const t=Zr(r*r*r),s=(n=>{const t=n*n%gl*n%gl,i=gm(t,2n)*t%gl,s=gm(i,1n)*n%gl,o=gm(s,5n)*s%gl,a=gm(o,10n)*o%gl,c=gm(a,20n)*a%gl,_=gm(c,40n)*c%gl,E=gm(_,80n)*_%gl,m=gm(E,80n)*_%gl,j=gm(m,10n)*o%gl;return{pow_p_5_8:gm(j,2n)*n%gl,b2:t}})(n*Zr(t*t*r)).pow_p_5_8;let o=Zr(n*t*s);const a=Zr(r*o*o),c=o,_=Zr(o*yee),E=a===n,m=a===Zr(-n),j=a===Zr(-n*yee);return E&&(o=c),(m||j)&&(o=_),1n===(1n&Zr(o))&&(o=Zr(-o)),{isValid:E||m,value:o}},pR=n=>Zr(pU(n),lS);let xk;const mU=(...n)=>bU.sha512Async(...n),gU=(...n)=>"function"==typeof xk?xk(...n):Dd("etc.sha512Sync not set"),vee=n=>{const r=n.slice(0,32);r[0]&=248,r[31]&=127,r[31]|=64;const t=n.slice(32,64),i=pR(r),s=Ev.mul(i),o=s.toRawBytes();return{head:r,prefix:t,scalar:i,point:s,pointBytes:o}},yU=n=>mU(q1(n,32)).then(vee);function mR(n,r){return n?mU(r.hashable).then(r.finish):r.finish(gU(r.hashable))}const wye=function(){var n=(0,Nn.A)(function*(r,t){const i=q1(r),s=yield yU(t);return mR(!0,((n,r,t)=>{const{pointBytes:i,scalar:s}=n,o=pR(r),a=Ev.mul(o).toRawBytes();return{hashable:wk(a,i,t),finish:E=>{const m=Zr(o+pR(E)*s,lS);return fR(wk(a,mee(m)),64)}}})(s,yield mU(s.prefix,i),i))});return function(t,i){return n.apply(this,arguments)}}(),xye=function(){var n=(0,Nn.A)(function*(r,t,i){return mR(!0,((n,r,t)=>{r=q1(r),n=q1(n,64);const i=iu.fromHex(t,!1),s=iu.fromHex(n.slice(0,32),!1),o=pU(n.slice(32,64)),a=Ev.mul(o,!1);return{hashable:wk(s.toRawBytes(),i.toRawBytes(),r),finish:E=>{const m=pR(E);return s.add(i.mul(m,!1)).add(a.negate()).clearCofactor().is0()}}})(r,t,i))});return function(t,i,s){return n.apply(this,arguments)}}(),wee=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,bU={bytesToHex:fU,hexToBytes:hU,concatBytes:wk,mod:Zr,invert:gee,randomBytes:n=>{const r=wee();return r||Dd("crypto.getRandomValues must be defined"),r.getRandomValues(dS(n))},sha512Async:(n=(0,Nn.A)(function*(...r){const t=wee();t||Dd("crypto.subtle or etc.sha512Async must be defined");const i=wk(...r);return dS(yield t.subtle.digest("SHA-512",i.buffer))}),function(){return n.apply(this,arguments)}),sha512Sync:void 0};var n;Object.defineProperties(bU,{sha512Sync:{configurable:!1,get:()=>xk,set(n){xk||(xk=n)}}});const Eye_randomPrivateKey=()=>bU.randomBytes(32),Cye=n=>{const r=hee||(hee=(()=>{const n=[];let t=Ev,i=t;for(let s=0;s<33;s++){i=t,n.push(i);for(let o=1;o<128;o++)i=i.add(t),n.push(i);t=i.double()}return n})()),t=(m,j)=>{let oe=j.negate();return m?oe:j};let i=hR,s=Ev;const c=BigInt(255),E=BigInt(8);for(let m=0;m<33;m++){const j=128*m;let oe=Number(n&c);n>>=E,oe>128&&(oe-=256,n+=1n);const le=j,ue=j+Math.abs(oe)-1,we=oe<0;0===oe?s=s.add(t(m%2!=0,r[le])):i=i.add(t(we,r[ue]))}return{p:i,f:s}};class Sn extends Error{constructor(r,t){super(`${r}: ${t}`),this.code=r,this.name="DwnError"}}var xn=function(n){return n.AuthenticateJwsMissing="AuthenticateJwsMissing",n.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",n.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",n.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",n.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",n.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",n.Ed25519InvalidJwk="Ed25519InvalidJwk",n.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",n.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",n.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",n.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",n.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",n.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",n.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",n.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",n.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",n.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",n.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",n.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",n.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",n.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",n.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",n.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",n.IndexInvalidCursorValueType="IndexInvalidCursorValueType",n.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",n.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",n.IndexMissingIndexableProperty="IndexMissingIndexableProperty",n.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",n.MessagesReadInvalidCid="MessagesReadInvalidCid",n.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",n.MessageGetInvalidCid="MessageGetInvalidCid",n.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",n.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",n.ParseCidCodecNotSupported="ParseCidCodecNotSupported",n.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",n.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",n.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",n.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",n.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",n.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",n.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",n.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",n.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",n.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",n.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",n.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",n.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",n.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",n.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",n.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",n.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",n.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",n.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",n.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",n.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",n.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",n.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",n.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",n.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",n.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",n.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",n.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",n.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",n.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",n.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",n.ProtocolsConfigureAuthorizationFailed="ProtocolsConfigureAuthorizationFailed",n.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",n.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",n.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",n.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",n.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",n.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",n.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",n.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",n.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",n.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",n.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",n.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",n.ProtocolsConfigureRoleReadActionMissing="ProtocolsConfigureRoleReadActionMissing",n.ProtocolsGrantAuthorizationQueryProtocolScopeMismatch="ProtocolsGrantAuthorizationQueryProtocolScopeMismatch",n.ProtocolsGrantAuthorizationScopeProtocolMismatch="ProtocolsGrantAuthorizationScopeProtocolMismatch",n.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",n.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",n.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",n.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",n.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",n.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",n.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",n.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",n.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",n.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",n.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",n.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",n.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",n.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",n.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",n.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",n.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",n.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",n.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",n.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",n.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",n.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",n.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",n.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",n.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",n.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",n.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",n.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",n.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",n.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",n.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",n.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",n.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",n.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",n.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",n.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",n.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",n.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",n.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",n.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",n.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",n.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",n.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",n.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",n.RecordsWriteMissingSigner="RecordsWriteMissingSigner",n.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",n.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",n.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",n.RecordsWriteMissingSchema="RecordsWriteMissingSchema",n.RecordsWriteNotAllowedAfterDelete="RecordsWriteNotAllowedAfterDelete",n.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",n.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",n.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",n.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",n.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",n.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",n.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",n.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",n.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",n.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",n.SchemaValidatorFailure="SchemaValidatorFailure",n.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",n.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",n.Secp256k1KeyNotValid="Secp256k1KeyNotValid",n.Secp256r1KeyNotValid="Secp256r1KeyNotValid",n.TimestampInvalid="TimestampInvalid",n.UrlProtocolNotNormalized="UrlProtocolNotNormalized",n.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",n.UrlSchemaNotNormalized="UrlSchemaNotNormalized",n}(xn||{}),gR=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function xee(n){if("OKP"!==n.kty||"Ed25519"!==n.crv)throw new Sn(xn.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Eee(n){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Wr.bytesToBase64Url(n)}}const Aye={sign:(n,r)=>gR(void 0,void 0,void 0,function*(){xee(r);const t=Wr.base64UrlToBytes(r.d);return wye(n,t)}),verify:(n,r,t)=>gR(void 0,void 0,void 0,function*(){xee(t);const i=Wr.base64UrlToBytes(t.x);return xye(r,n,i)}),generateKeyPair:()=>gR(void 0,void 0,void 0,function*(){const n=Eye_randomPrivateKey(),r=yield(n=>yU(n).then(r=>r.pointBytes))(n),t=Wr.bytesToBase64Url(n),i=Eee(r);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:t})}}),publicKeyToJwk:n=>gR(void 0,void 0,void 0,function*(){return Eee(n)})},_U=2n**256n,Sv=_U-0x1000003d1n,fc=_U-0x14551231950b75fc4402da1732fc9bebfn,See=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Cee=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,Aee={p:Sv,n:fc,a:0n,b:7n,Gx:See,Gy:Cee},Xl=32,Tee=n=>yr(yr(n*n)*n+Aee.b),Ys=(n="")=>{throw new Error(n)},yR=n=>"bigint"==typeof n,Dee=n=>"string"==typeof n,wU=n=>yR(n)&&0n<n&&n<Sv,Ek=n=>yR(n)&&0n<n&&n<fc,Mee=(n,r)=>!(n instanceof Uint8Array)||"number"==typeof r&&r>0&&n.length!==r?Ys("Uint8Array expected"):n,Ju=n=>new Uint8Array(n),G0=(n,r)=>Mee(Dee(n)?Sk(n):Ju(n),r),yr=(n,r=Sv)=>{let t=n%r;return t>=0n?t:r+t},kee=n=>n instanceof hc?n:Ys("Point expected");let Iee;class hc{constructor(r,t,i){this.px=r,this.py=t,this.pz=i}static fromAffine(r){return new hc(r.x,r.y,1n)}static fromHex(r){let t;const i=(r=G0(r))[0],s=r.subarray(1),o=bR(s,0,Xl),a=r.length;if(33===a&&[2,3].includes(i)){wU(o)||Ys("Point hex invalid: x not FE");let c=Tye(Tee(o));!(1&~i)!=(1n===(1n&c))&&(c=yr(-c)),t=new hc(o,c,1n)}return 65===a&&4===i&&(t=new hc(o,bR(s,Xl,2*Xl),1n)),t?t.ok():Ys("Point is not on curve")}static fromPrivateKey(r){return W0.mul(Dk(r))}get x(){return this.aff().x}get y(){return this.aff().y}equals(r){const{px:t,py:i,pz:s}=this,{px:o,py:a,pz:c}=kee(r),_=yr(t*c),E=yr(o*s),m=yr(i*c),j=yr(a*s);return _===E&&m===j}negate(){return new hc(this.px,yr(-this.py),this.pz)}double(){return this.add(this)}add(r){const{px:t,py:i,pz:s}=this,{px:o,py:a,pz:c}=kee(r),{a:_,b:E}=Aee;let m=0n,j=0n,oe=0n;const le=yr(3n*E);let ue=yr(t*o),pe=yr(i*a),we=yr(s*c),Oe=yr(t+i),Pe=yr(o+a);Oe=yr(Oe*Pe),Pe=yr(ue+pe),Oe=yr(Oe-Pe),Pe=yr(t+s);let Ie=yr(o+c);return Pe=yr(Pe*Ie),Ie=yr(ue+we),Pe=yr(Pe-Ie),Ie=yr(i+s),m=yr(a+c),Ie=yr(Ie*m),m=yr(pe+we),Ie=yr(Ie-m),oe=yr(_*Pe),m=yr(le*we),oe=yr(m+oe),m=yr(pe-oe),oe=yr(pe+oe),j=yr(m*oe),pe=yr(ue+ue),pe=yr(pe+ue),we=yr(_*we),Pe=yr(le*Pe),pe=yr(pe+we),we=yr(ue-we),we=yr(_*we),Pe=yr(Pe+we),ue=yr(pe*Pe),j=yr(j+ue),ue=yr(Ie*Pe),m=yr(Oe*m),m=yr(m-ue),ue=yr(Oe*pe),oe=yr(Ie*oe),oe=yr(oe+ue),new hc(m,j,oe)}mul(r,t=!0){if(!t&&0n===r)return vR;if(Ek(r)||Ys("invalid scalar"),this.equals(W0))return Pye(r).p;let i=vR,s=W0;for(let o=this;r>0n;o=o.double(),r>>=1n)1n&r?i=i.add(o):t&&(s=s.add(o));return i}mulAddQUns(r,t,i){return this.mul(t,!1).add(r.mul(i,!1)).ok()}toAffine(){const{px:r,py:t,pz:i}=this;if(this.equals(vR))return{x:0n,y:0n};if(1n===i)return{x:r,y:t};const s=Tk(i);return 1n!==yr(i*s)&&Ys("invalid inverse"),{x:yr(r*s),y:yr(t*s)}}assertValidity(){const{x:r,y:t}=this.aff();return(!wU(r)||!wU(t))&&Ys("Point invalid: x or y"),yr(t*t)===Tee(r)?this:Ys("Point invalid: not on curve")}multiply(r){return this.mul(r)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(r=!0){const{x:t,y:i}=this.aff();return(r?0n===(1n&i)?"02":"03":"04")+Ak(t)+(r?"":Ak(i))}toRawBytes(r=!0){return Sk(this.toHex(r))}}hc.BASE=new hc(See,Cee,1n),hc.ZERO=new hc(0n,1n,0n);const{BASE:W0,ZERO:vR}=hc,Pee=(n,r)=>n.toString(16).padStart(r,"0"),xU=n=>Array.from(n).map(r=>Pee(r,2)).join(""),Sk=n=>{const r=n.length;(!Dee(n)||r%2)&&Ys("hex invalid 1");const t=Ju(r/2);for(let i=0;i<t.length;i++){const s=2*i,o=n.slice(s,s+2),a=Number.parseInt(o,16);(Number.isNaN(a)||a<0)&&Ys("hex invalid 2"),t[i]=a}return t},Ck=n=>BigInt("0x"+(xU(n)||"0")),bR=(n,r,t)=>Ck(n.slice(r,t)),_R=n=>yR(n)&&n>=0n&&n<_U?Sk(Pee(n,2*Xl)):Ys("bigint expected"),Ak=n=>xU(_R(n)),EU=(...n)=>{const r=Ju(n.reduce((i,s)=>i+Mee(s).length,0));let t=0;return n.forEach(i=>{r.set(i,t),t+=i.length}),r},Tk=(n,r=Sv)=>{(0n===n||r<=0n)&&Ys("no inverse n="+n+" mod="+r);let t=yr(n,r),i=r,s=0n,o=1n,a=1n,c=0n;for(;0n!==t;){const _=i/t,E=i%t,m=s-a*_,j=o-c*_;i=t,t=E,s=a,o=c,a=m,c=j}return 1n===i?yr(s,r):Ys("no inverse")},Tye=n=>{let r=1n;for(let t=n,i=(Sv+1n)/4n;i>0n;i>>=1n)1n&i&&(r=r*t%Sv),t=t*t%Sv;return yr(r*r)===n?r:Ys("sqrt invalid")},Dk=n=>(yR(n)||(n=Ck(G0(n,Xl))),Ek(n)?n:Ys("private key out of range")),SU=n=>n>fc>>1n;function CU(n,r=!0){return hc.fromPrivateKey(n).toRawBytes(r)}class uS{constructor(r,t,i){this.r=r,this.s=t,this.recovery=i,this.assertValidity()}static fromCompact(r){return r=G0(r,64),new uS(bR(r,0,Xl),bR(r,Xl,2*Xl))}assertValidity(){return Ek(this.r)&&Ek(this.s)?this:Ys()}addRecoveryBit(r){return new uS(this.r,this.s,r)}hasHighS(){return SU(this.s)}recoverPublicKey(r){const{r:t,s:i,recovery:s}=this;[0,1,2,3].includes(s)||Ys("recovery id invalid");const o=AU(G0(r,32)),a=2===s||3===s?t+fc:t;a>=Sv&&Ys("q.x invalid");const _=hc.fromHex((1&s?"03":"02")+Ak(a)),E=Tk(a,fc),m=yr(-o*E,fc),j=yr(i*E,fc);return W0.mulAddQUns(_,m,j)}toCompactRawBytes(){return Sk(this.toCompactHex())}toCompactHex(){return Ak(this.r)+Ak(this.s)}}const Oee=n=>{const r=8*n.length-256,t=Ck(n);return r>0?t>>BigInt(r):t},AU=n=>yr(Oee(n),fc),Ree=n=>_R(n),Fee=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Mk;const TU={lowS:!0},Dye={lowS:!0};function DU(){return DU=(0,Nn.A)(function*(n,r,t=TU){const{seed:i,k2sig:s}=function Nee(n,r,t=TU){["der","recovered","canonical"].some(j=>j in t)&&Ys("sign() legacy options not supported");let{lowS:i}=t;null==i&&(i=!0);const s=AU(G0(n)),o=Ree(s),a=Dk(r),c=[Ree(a),o];let _=t.extraEntropy;if(_){!0===_&&(_=fS.randomBytes(Xl));const j=G0(_);j.length!==Xl&&Ys(),c.push(j)}const E=s;return{seed:EU(...c),k2sig:j=>{const oe=Oee(j);if(!Ek(oe))return;const le=Tk(oe,fc),ue=W0.mul(oe).aff(),pe=yr(ue.x,fc);if(0n===pe)return;const we=yr(le*yr(E+yr(a*pe,fc),fc),fc);if(0n===we)return;let Oe=we,Pe=(ue.x===pe?0:2)|Number(1n&ue.y);return i&&SU(we)&&(Oe=yr(-we,fc),Pe^=1),new uS(pe,Oe,Pe)}}}(n,r,t);return function Bee(n){let r=Ju(Xl),t=Ju(Xl),i=0;const s=()=>{r.fill(1),t.fill(0),i=0},o="drbg: tried 1000 values";if(n){const a=(...E)=>fS.hmacSha256Async(t,r,...E),c=function(){var E=(0,Nn.A)(function*(m=Ju()){t=yield a(Ju([0]),m),r=yield a(),0!==m.length&&(t=yield a(Ju([1]),m),r=yield a())});return function(){return E.apply(this,arguments)}}(),_=function(){var E=(0,Nn.A)(function*(){return i++>=1e3&&Ys(o),r=yield a(),r});return function(){return E.apply(this,arguments)}}();return function(){var E=(0,Nn.A)(function*(m,j){let oe;for(s(),yield c(m);!(oe=j(yield _()));)yield c();return s(),oe});return function(m,j){return E.apply(this,arguments)}}()}{const a=(...E)=>{const m=Mk;return m||Ys("etc.hmacSha256Sync not set"),m(t,r,...E)},c=(E=Ju())=>{t=a(Ju([0]),E),r=a(),0!==E.length&&(t=a(Ju([1]),E),r=a())},_=()=>(i++>=1e3&&Ys(o),r=a(),r);return(E,m)=>{let j;for(s(),c(E);!(j=m(_()));)c();return s(),j}}}(!0)(i,s)}),DU.apply(this,arguments)}function Lee(n){((n=G0(n)).length<Xl+8||n.length>1024)&&Ys("expected proper params");const t=yr(Ck(n),fc-1n)+1n;return _R(t)}const fS={hexToBytes:Sk,bytesToHex:xU,concatBytes:EU,bytesToNumberBE:Ck,numberToBytesBE:_R,mod:yr,invert:Tk,hmacSha256Async:function(){var n=(0,Nn.A)(function*(r,...t){const i=Fee();if(!i)return Ys("etc.hmacSha256Async not set");const s=i.subtle,o=yield s.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return Ju(yield s.sign("HMAC",o,EU(...t)))});return function(t){return n.apply(this,arguments)}}(),hmacSha256Sync:Mk,hashToPrivateKey:Lee,randomBytes:n=>{const r=Fee();return r||Ys("crypto.getRandomValues must be defined"),r.getRandomValues(Ju(n))}},jee_randomPrivateKey=()=>Lee(fS.randomBytes(Xl+8));Object.defineProperties(fS,{hmacSha256Sync:{configurable:!1,get:()=>Mk,set(n){Mk||(Mk=n)}}});const Pye=n=>{const r=Iee||(Iee=(()=>{const n=[];let t=W0,i=t;for(let s=0;s<33;s++){i=t,n.push(i);for(let o=1;o<128;o++)i=i.add(t),n.push(i);t=i.double()}return n})()),t=(m,j)=>{let oe=j.negate();return m?oe:j};let i=vR,s=W0;const c=BigInt(255),E=BigInt(8);for(let m=0;m<33;m++){const j=128*m;let oe=Number(n&c);n>>=E,oe>128&&(oe-=256,n+=1n);const le=j,ue=j+Math.abs(oe)-1,we=oe<0;0===oe?s=s.add(t(m%2!=0,r[le])):i=i.add(t(we,r[ue]))}return{p:i,f:s}};var $ee=128,Fye=-128,Nye=Math.pow(2,31),Lye=128,Uee=127,jye=Math.pow(2,7),$ye=Math.pow(2,14),Vye=Math.pow(2,21),Uye=Math.pow(2,28),zye=Math.pow(2,35),Hye=Math.pow(2,42),Gye=Math.pow(2,49),Wye=Math.pow(2,56),Kye=Math.pow(2,63),Xye={encode:function Vee(n,r,t){r=r||[];for(var i=t=t||0;n>=Nye;)r[t++]=255&n|$ee,n/=128;for(;n&Fye;)r[t++]=255&n|$ee,n>>>=7;return r[t]=0|n,Vee.bytes=t-i+1,r},decode:function MU(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw MU.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&Uee)<<s:(a&Uee)*Math.pow(2,s),s+=7}while(a>=Lye);return MU.bytes=o-i,t},encodingLength:function(n){return n<jye?1:n<$ye?2:n<Vye?3:n<Uye?4:n<zye?5:n<Hye?6:n<Gye?7:n<Wye?8:n<Kye?9:10}};const wR=Xye,kU=(n,r=0)=>[wR.decode(n,r),wR.decode.bytes],xR=(n,r,t=0)=>(wR.encode(n,r,t),r),ER=n=>wR.encodingLength(n),IU=(n,r)=>{const t=r.byteLength,i=ER(n),s=i+ER(t),o=new Uint8Array(s+t);return xR(n,o,0),xR(t,o,i),o.set(r,s),new PU(n,t,r,o)};class PU{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const zee=({name:n,code:r,encode:t})=>new Qye(n,r,t);class Qye{constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?IU(this.code,t):t.then(i=>IU(this.code,i))}throw Error("Unknown type, must be binary type")}}const Hee=n=>function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}(),K0=zee({name:"sha2-256",code:18,encode:Hee("SHA-256")});zee({name:"sha2-512",code:19,encode:Hee("SHA-512")});var Cv=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class pc{static validateKey(r){if("EC"!==r.kty||"secp256k1"!==r.crv)throw new Sn(xn.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(r){return Cv(this,void 0,void 0,function*(){let t;return t=33===r.byteLength?hc.fromHex(r).toRawBytes(!1):r,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:Wr.bytesToBase64Url(t.subarray(1,33)),y:Wr.bytesToBase64Url(t.subarray(33,65))}})}static privateKeyToJwk(r){return Cv(this,void 0,void 0,function*(){const t=yield pc.getPublicKey(r),i=yield pc.publicKeyToJwk(t);return i.d=Wr.bytesToBase64Url(r),i})}static publicJwkToBytes(r){const t=Wr.base64UrlToBytes(r.x),i=Wr.base64UrlToBytes(r.y);return hc.fromAffine({x:fS.bytesToNumberBE(t),y:fS.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(r){return Wr.base64UrlToBytes(r.d)}static sign(r,t){return Cv(this,void 0,void 0,function*(){pc.validateKey(t);const i=yield K0.encode(r),s=pc.privateJwkToBytes(t);return(yield function Mye(n,r){return DU.apply(this,arguments)}(i,s)).toCompactRawBytes()})}static verify(r,t,i){return Cv(this,void 0,void 0,function*(){pc.validateKey(i);const s=pc.publicJwkToBytes(i),o=yield K0.encode(r);return function kye(n,r,t,i=Dye){let o,a,c,{lowS:s}=i;null==s&&(s=!0),"strict"in i&&Ys("verify() legacy options not supported");const _=n&&"object"==typeof n&&"r"in n;!_&&G0(n).length!==2*Xl&&Ys("signature must be 64 bytes");try{o=_?new uS(n.r,n.s).assertValidity():uS.fromCompact(n),a=AU(G0(r,Xl)),c=t instanceof hc?t.ok():hc.fromHex(t)}catch{return!1}if(!o)return!1;const{r:E,s:m}=o;if(s&&SU(m))return!1;let j;try{const le=Tk(m,fc),ue=yr(a*le,fc),pe=yr(E*le,fc);j=W0.mulAddQUns(c,ue,pe).aff()}catch{return!1}return!!j&&yr(j.x,fc)===E}(t,o,s,{lowS:!1})})}static generateKeyPair(){return Cv(this,void 0,void 0,function*(){const r=jee_randomPrivateKey(),t=CU(r,!1),i=Wr.bytesToBase64Url(r),s=yield pc.publicKeyToJwk(t);return{publicJwk:s,privateJwk:Object.assign(Object.assign({},s),{d:i})}})}static generateKeyPairRaw(){return Cv(this,void 0,void 0,function*(){const r=jee_randomPrivateKey();return{publicKey:CU(r,!0),privateKey:r}})}static getPublicKey(r){return Cv(this,void 0,void 0,function*(){return CU(r,!0)})}static getPublicJwk(r){return Cv(this,void 0,void 0,function*(){return function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["d"])})}}class Gee extends GT{constructor(r,t){super(),this.finished=!1,this.destroyed=!1,function Py(n){if("function"!=typeof n||"function"!=typeof n.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");M_(n.outputLen),M_(n.blockLen)}(r);const i=Uh(t);if(this.iHash=r.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?r.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=r.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(r){return I_(this),this.iHash.update(r),this}digestInto(r){I_(this),Vh(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return r.finished=s,r.destroyed=o,r.blockLen=a,r.outputLen=c,r.oHash=t._cloneInto(r.oHash),r.iHash=i._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Wee=(n,r,t)=>new Gee(n,r).update(t).digest();Wee.create=(n,r)=>new Gee(n,r);const SR=BigInt(1),tve=BigInt(2);function Z1(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}function kk(n){if(!Z1(n))throw new Error("Uint8Array expected")}const nve=Array.from({length:256},(n,r)=>r.toString(16).padStart(2,"0"));function hS(n){kk(n);let r="";for(let t=0;t<n.length;t++)r+=nve[n[t]];return r}function qee(n){if("string"!=typeof n)throw new Error("hex string expected, got "+typeof n);return BigInt(""===n?"0":`0x${n}`)}const q0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Xee(n){return n>=q0._0&&n<=q0._9?n-q0._0:n>=q0._A&&n<=q0._F?n-(q0._A-10):n>=q0._a&&n<=q0._f?n-(q0._a-10):void 0}function pS(n){if("string"!=typeof n)throw new Error("hex string expected, got "+typeof n);const r=n.length,t=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(t);for(let s=0,o=0;s<t;s++,o+=2){const a=Xee(n.charCodeAt(o)),c=Xee(n.charCodeAt(o+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(n[o]+n[o+1])+'" at index '+o);i[s]=16*a+c}return i}function J1(n){return qee(hS(n))}function OU(n){return kk(n),qee(hS(Uint8Array.from(n).reverse()))}function mS(n,r){return pS(n.toString(16).padStart(2*r,"0"))}function RU(n,r){return mS(n,r).reverse()}function ap(n,r,t){let i;if("string"==typeof r)try{i=pS(r)}catch(o){throw new Error(`${n} must be valid hex string, got "${r}". Cause: ${o}`)}else{if(!Z1(r))throw new Error(`${n} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof t&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return i}function Ik(...n){let r=0;for(let i=0;i<n.length;i++){const s=n[i];kk(s),r+=s.length}const t=new Uint8Array(r);for(let i=0,s=0;i<n.length;i++){const o=n[i];t.set(o,s),s+=o.length}return t}const FU=n=>(tve<<BigInt(n-1))-SR,NU=n=>new Uint8Array(n),Yee=n=>Uint8Array.from(n);function Zee(n,r,t){if("number"!=typeof n||n<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof t)throw new Error("hmacFn must be a function");let i=NU(n),s=NU(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},c=(...j)=>t(s,i,...j),_=(j=NU())=>{s=c(Yee([0]),j),i=c(),0!==j.length&&(s=c(Yee([1]),j),i=c())},E=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let j=0;const oe=[];for(;j<r;){i=c();const le=i.slice();oe.push(le),j+=i.length}return Ik(...oe)};return(j,oe)=>{let le;for(a(),_(j);!(le=oe(E()));)_();return a(),le}}const ive={bigint:n=>"bigint"==typeof n,function:n=>"function"==typeof n,boolean:n=>"boolean"==typeof n,string:n=>"string"==typeof n,stringOrUint8Array:n=>"string"==typeof n||Z1(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,r)=>r.Fp.isValid(n),hash:n=>"function"==typeof n&&Number.isSafeInteger(n.outputLen)};function Pk(n,r,t={}){const i=(s,o,a)=>{const c=ive[o];if("function"!=typeof c)throw new Error(`Invalid validator "${o}", expected function`);const _=n[s];if(!(a&&void 0===_||c(_,n)))throw new Error(`Invalid param ${String(s)}=${_} (${typeof _}), expected ${o}`)};for(const[s,o]of Object.entries(r))i(s,o,!1);for(const[s,o]of Object.entries(t))i(s,o,!0);return n}const mc=BigInt(0),so=BigInt(1),Av=BigInt(2),sve=BigInt(3),BU=BigInt(4),Jee=BigInt(5),Qee=BigInt(8);function su(n,r){const t=n%r;return t>=mc?t:r+t}function cve(n,r,t){if(t<=mc||r<mc)throw new Error("Expected power/modulo > 0");if(t===so)return mc;let i=so;for(;r>mc;)r&so&&(i=i*n%t),n=n*n%t,r>>=so;return i}function CR(n,r){if(n===mc||r<=mc)throw new Error(`invert: expected positive integers, got n=${n} mod=${r}`);let t=su(n,r),i=r,s=mc,o=so,a=so,c=mc;for(;t!==mc;){const E=i/t,m=i%t,j=s-a*E,oe=o-c*E;i=t,t=m,s=a,o=c,a=j,c=oe}if(i!==so)throw new Error("invert: does not exist");return su(s,r)}BigInt(9),BigInt(16);const uve=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LU(n,r){const t=void 0!==r?r:n.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}function ete(n){if("bigint"!=typeof n)throw new Error("field order must be bigint");const r=n.toString(2).length;return Math.ceil(r/8)}function tte(n){const r=ete(n);return r+Math.ceil(r/2)}const yve=BigInt(0),jU=BigInt(1);function nte(n){return function fve(n){Pk(n,uve.reduce((i,s)=>(i[s]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(n.Fp),Pk(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...LU(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}const{Ph:_ve,aT:wve}=y,Q1={Err:class extends Error{constructor(r=""){super(r)}},_parseInt(n){const{Err:r}=Q1;if(n.length<2||2!==n[0])throw new r("Invalid signature integer tag");const t=n[1],i=n.subarray(2,t+2);if(!t||i.length!==t)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:_ve(i),l:n.subarray(t+2)}},toSig(n){const{Err:r}=Q1,t="string"==typeof n?wve(n):n;kk(t);let i=t.length;if(i<2||48!=t[0])throw new r("Invalid signature tag");if(t[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:o}=Q1._parseInt(t.subarray(2)),{d:a,l:c}=Q1._parseInt(o);if(c.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const r=E=>8&Number.parseInt(E[0],16)?"00"+E:E,t=E=>{const m=E.toString(16);return 1&m.length?`0${m}`:m},i=r(t(n.s)),s=r(t(n.r)),o=i.length/2,a=s.length/2,c=t(o),_=t(a);return`30${t(a+o+4)}02${_}${s}02${c}${i}`}},cp=BigInt(0),ha=BigInt(1),AR=(BigInt(2),BigInt(3));function Sve(n){const r=function Eve(n){const r=nte(n);return Pk(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(n),{Fp:t,n:i}=r,s=t.BYTES+1,o=2*t.BYTES+1;function c(vt){return su(vt,i)}function _(vt){return CR(vt,i)}const{ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:j,isWithinCurveOrder:oe}=function xve(n){const r=function bve(n){const r=nte(n);Pk(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:s}=r;if(t){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof t||"bigint"!=typeof t.beta||"function"!=typeof t.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(n),{Fp:t}=r,i=r.toBytes||((ue,pe,we)=>{const Oe=pe.toAffine();return Ik(Uint8Array.from([4]),t.toBytes(Oe.x),t.toBytes(Oe.y))}),s=r.fromBytes||(ue=>{const pe=ue.subarray(1);return{x:t.fromBytes(pe.subarray(0,t.BYTES)),y:t.fromBytes(pe.subarray(t.BYTES,2*t.BYTES))}});function o(ue){const{a:pe,b:we}=r,Oe=t.sqr(ue),Pe=t.mul(Oe,ue);return t.add(t.add(Pe,t.mul(ue,pe)),we)}if(!t.eql(t.sqr(r.Gy),o(r.Gx)))throw new Error("bad generator point: equation left != right");function a(ue){return"bigint"==typeof ue&&cp<ue&&ue<r.n}function c(ue){if(!a(ue))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function _(ue){const{allowedPrivateKeyLengths:pe,nByteLength:we,wrapPrivateKey:Oe,n:Pe}=r;if(pe&&"bigint"!=typeof ue){if(Z1(ue)&&(ue=hS(ue)),"string"!=typeof ue||!pe.includes(ue.length))throw new Error("Invalid key");ue=ue.padStart(2*we,"0")}let Ie;try{Ie="bigint"==typeof ue?ue:J1(ap("private key",ue,we))}catch{throw new Error(`private key must be ${we} bytes, hex or bigint, not ${typeof ue}`)}return Oe&&(Ie=su(Ie,Pe)),c(Ie),Ie}const E=new Map;function m(ue){if(!(ue instanceof j))throw new Error("ProjectivePoint expected")}class j{constructor(pe,we,Oe){if(this.px=pe,this.py=we,this.pz=Oe,null==pe||!t.isValid(pe))throw new Error("x required");if(null==we||!t.isValid(we))throw new Error("y required");if(null==Oe||!t.isValid(Oe))throw new Error("z required")}static fromAffine(pe){const{x:we,y:Oe}=pe||{};if(!pe||!t.isValid(we)||!t.isValid(Oe))throw new Error("invalid affine point");if(pe instanceof j)throw new Error("projective point not allowed");const Pe=Ie=>t.eql(Ie,t.ZERO);return Pe(we)&&Pe(Oe)?j.ZERO:new j(we,Oe,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(pe){const we=t.invertBatch(pe.map(Oe=>Oe.pz));return pe.map((Oe,Pe)=>Oe.toAffine(we[Pe])).map(j.fromAffine)}static fromHex(pe){const we=j.fromAffine(s(ap("pointHex",pe)));return we.assertValidity(),we}static fromPrivateKey(pe){return j.BASE.multiply(_(pe))}_setWindowSize(pe){this._WINDOW_SIZE=pe,E.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:pe,y:we}=this.toAffine();if(!t.isValid(pe)||!t.isValid(we))throw new Error("bad point: x or y not FE");const Oe=t.sqr(we),Pe=o(pe);if(!t.eql(Oe,Pe))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:pe}=this.toAffine();if(t.isOdd)return!t.isOdd(pe);throw new Error("Field doesn't support isOdd")}equals(pe){m(pe);const{px:we,py:Oe,pz:Pe}=this,{px:Ie,py:$e,pz:Je}=pe,Qe=t.eql(t.mul(we,Je),t.mul(Ie,Pe)),tt=t.eql(t.mul(Oe,Je),t.mul($e,Pe));return Qe&&tt}negate(){return new j(this.px,t.neg(this.py),this.pz)}double(){const{a:pe,b:we}=r,Oe=t.mul(we,AR),{px:Pe,py:Ie,pz:$e}=this;let Je=t.ZERO,Qe=t.ZERO,tt=t.ZERO,ot=t.mul(Pe,Pe),xt=t.mul(Ie,Ie),Ct=t.mul($e,$e),Tt=t.mul(Pe,Ie);return Tt=t.add(Tt,Tt),tt=t.mul(Pe,$e),tt=t.add(tt,tt),Je=t.mul(pe,tt),Qe=t.mul(Oe,Ct),Qe=t.add(Je,Qe),Je=t.sub(xt,Qe),Qe=t.add(xt,Qe),Qe=t.mul(Je,Qe),Je=t.mul(Tt,Je),tt=t.mul(Oe,tt),Ct=t.mul(pe,Ct),Tt=t.sub(ot,Ct),Tt=t.mul(pe,Tt),Tt=t.add(Tt,tt),tt=t.add(ot,ot),ot=t.add(tt,ot),ot=t.add(ot,Ct),ot=t.mul(ot,Tt),Qe=t.add(Qe,ot),Ct=t.mul(Ie,$e),Ct=t.add(Ct,Ct),ot=t.mul(Ct,Tt),Je=t.sub(Je,ot),tt=t.mul(Ct,xt),tt=t.add(tt,tt),tt=t.add(tt,tt),new j(Je,Qe,tt)}add(pe){m(pe);const{px:we,py:Oe,pz:Pe}=this,{px:Ie,py:$e,pz:Je}=pe;let Qe=t.ZERO,tt=t.ZERO,ot=t.ZERO;const xt=r.a,Ct=t.mul(r.b,AR);let Tt=t.mul(we,Ie),Kt=t.mul(Oe,$e),Lt=t.mul(Pe,Je),Xt=t.add(we,Oe),vt=t.add(Ie,$e);Xt=t.mul(Xt,vt),vt=t.add(Tt,Kt),Xt=t.sub(Xt,vt),vt=t.add(we,Pe);let Et=t.add(Ie,Je);return vt=t.mul(vt,Et),Et=t.add(Tt,Lt),vt=t.sub(vt,Et),Et=t.add(Oe,Pe),Qe=t.add($e,Je),Et=t.mul(Et,Qe),Qe=t.add(Kt,Lt),Et=t.sub(Et,Qe),ot=t.mul(xt,vt),Qe=t.mul(Ct,Lt),ot=t.add(Qe,ot),Qe=t.sub(Kt,ot),ot=t.add(Kt,ot),tt=t.mul(Qe,ot),Kt=t.add(Tt,Tt),Kt=t.add(Kt,Tt),Lt=t.mul(xt,Lt),vt=t.mul(Ct,vt),Kt=t.add(Kt,Lt),Lt=t.sub(Tt,Lt),Lt=t.mul(xt,Lt),vt=t.add(vt,Lt),Tt=t.mul(Kt,vt),tt=t.add(tt,Tt),Tt=t.mul(Et,vt),Qe=t.mul(Xt,Qe),Qe=t.sub(Qe,Tt),Tt=t.mul(Xt,Kt),ot=t.mul(Et,ot),ot=t.add(ot,Tt),new j(Qe,tt,ot)}subtract(pe){return this.add(pe.negate())}is0(){return this.equals(j.ZERO)}wNAF(pe){return le.wNAFCached(this,E,pe,we=>{const Oe=t.invertBatch(we.map(Pe=>Pe.pz));return we.map((Pe,Ie)=>Pe.toAffine(Oe[Ie])).map(j.fromAffine)})}multiplyUnsafe(pe){const we=j.ZERO;if(pe===cp)return we;if(c(pe),pe===ha)return this;const{endo:Oe}=r;if(!Oe)return le.unsafeLadder(this,pe);let{k1neg:Pe,k1:Ie,k2neg:$e,k2:Je}=Oe.splitScalar(pe),Qe=we,tt=we,ot=this;for(;Ie>cp||Je>cp;)Ie&ha&&(Qe=Qe.add(ot)),Je&ha&&(tt=tt.add(ot)),ot=ot.double(),Ie>>=ha,Je>>=ha;return Pe&&(Qe=Qe.negate()),$e&&(tt=tt.negate()),tt=new j(t.mul(tt.px,Oe.beta),tt.py,tt.pz),Qe.add(tt)}multiply(pe){c(pe);let Oe,Pe,we=pe;const{endo:Ie}=r;if(Ie){const{k1neg:$e,k1:Je,k2neg:Qe,k2:tt}=Ie.splitScalar(we);let{p:ot,f:xt}=this.wNAF(Je),{p:Ct,f:Tt}=this.wNAF(tt);ot=le.constTimeNegate($e,ot),Ct=le.constTimeNegate(Qe,Ct),Ct=new j(t.mul(Ct.px,Ie.beta),Ct.py,Ct.pz),Oe=ot.add(Ct),Pe=xt.add(Tt)}else{const{p:$e,f:Je}=this.wNAF(we);Oe=$e,Pe=Je}return j.normalizeZ([Oe,Pe])[0]}multiplyAndAddUnsafe(pe,we,Oe){const Pe=j.BASE,Ie=(Je,Qe)=>Qe!==cp&&Qe!==ha&&Je.equals(Pe)?Je.multiply(Qe):Je.multiplyUnsafe(Qe),$e=Ie(this,we).add(Ie(pe,Oe));return $e.is0()?void 0:$e}toAffine(pe){const{px:we,py:Oe,pz:Pe}=this,Ie=this.is0();null==pe&&(pe=Ie?t.ONE:t.inv(Pe));const $e=t.mul(we,pe),Je=t.mul(Oe,pe),Qe=t.mul(Pe,pe);if(Ie)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Qe,t.ONE))throw new Error("invZ was invalid");return{x:$e,y:Je}}isTorsionFree(){const{h:pe,isTorsionFree:we}=r;if(pe===ha)return!0;if(we)return we(j,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:pe,clearCofactor:we}=r;return pe===ha?this:we?we(j,this):this.multiplyUnsafe(r.h)}toRawBytes(pe=!0){return this.assertValidity(),i(j,this,pe)}toHex(pe=!0){return hS(this.toRawBytes(pe))}}j.BASE=new j(r.Gx,r.Gy,t.ONE),j.ZERO=new j(t.ZERO,t.ONE,t.ZERO);const oe=r.nBitLength,le=function vve(n,r){const t=(s,o)=>{const a=o.negate();return s?a:o},i=s=>({windows:Math.ceil(r/s)+1,windowSize:2**(s-1)});return{constTimeNegate:t,unsafeLadder(s,o){let a=n.ZERO,c=s;for(;o>yve;)o&jU&&(a=a.add(c)),c=c.double(),o>>=jU;return a},precomputeWindow(s,o){const{windows:a,windowSize:c}=i(o),_=[];let E=s,m=E;for(let j=0;j<a;j++){m=E,_.push(m);for(let oe=1;oe<c;oe++)m=m.add(E),_.push(m);E=m.double()}return _},wNAF(s,o,a){const{windows:c,windowSize:_}=i(s);let E=n.ZERO,m=n.BASE;const j=BigInt(2**s-1),oe=2**s,le=BigInt(s);for(let ue=0;ue<c;ue++){const pe=ue*_;let we=Number(a&j);a>>=le,we>_&&(we-=oe,a+=jU);const Oe=pe,Pe=pe+Math.abs(we)-1,$e=we<0;0===we?m=m.add(t(ue%2!=0,o[Oe])):E=E.add(t($e,o[Pe]))}return{p:E,f:m}},wNAFCached(s,o,a,c){const _=s._WINDOW_SIZE||1;let E=o.get(s);return E||(E=this.precomputeWindow(s,_),1!==_&&o.set(s,c(E))),this.wNAF(_,E,a)}}}(j,r.endo?Math.ceil(oe/2):oe);return{CURVE:r,ProjectivePoint:j,normPrivateKeyToScalar:_,weierstrassEquation:o,isWithinCurveOrder:a}}({...r,toBytes(vt,Et,Dt){const jt=Et.toAffine(),Ft=t.toBytes(jt.x),Jt=Ik;return Dt?Jt(Uint8Array.from([Et.hasEvenY()?2:3]),Ft):Jt(Uint8Array.from([4]),Ft,t.toBytes(jt.y))},fromBytes(vt){const Et=vt.length,Dt=vt[0],jt=vt.subarray(1);if(Et!==s||2!==Dt&&3!==Dt){if(Et===o&&4===Dt)return{x:t.fromBytes(jt.subarray(0,t.BYTES)),y:t.fromBytes(jt.subarray(t.BYTES,2*t.BYTES))};throw new Error(`Point of length ${Et} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}{const Ft=J1(jt);if(!function a(vt){return cp<vt&&vt<t.ORDER}(Ft))throw new Error("Point is not on curve");const Jt=j(Ft);let on;try{on=t.sqrt(Jt)}catch(Cn){const In=Cn instanceof Error?": "+Cn.message:"";throw new Error("Point is not on curve"+In)}return!(1&~Dt)!=((on&ha)===ha)&&(on=t.neg(on)),{x:Ft,y:on}}}}),le=vt=>hS(mS(vt,r.nByteLength));function ue(vt){return vt>i>>ha}const we=(vt,Et,Dt)=>J1(vt.slice(Et,Dt));class Oe{constructor(Et,Dt,jt){this.r=Et,this.s=Dt,this.recovery=jt,this.assertValidity()}static fromCompact(Et){const Dt=r.nByteLength;return Et=ap("compactSignature",Et,2*Dt),new Oe(we(Et,0,Dt),we(Et,Dt,2*Dt))}static fromDER(Et){const{r:Dt,s:jt}=Q1.toSig(ap("DER",Et));return new Oe(Dt,jt)}assertValidity(){if(!oe(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!oe(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Et){return new Oe(this.r,this.s,Et)}recoverPublicKey(Et){const{r:Dt,s:jt,recovery:Ft}=this,Jt=tt(ap("msgHash",Et));if(null==Ft||![0,1,2,3].includes(Ft))throw new Error("recovery id invalid");const on=2===Ft||3===Ft?Dt+r.n:Dt;if(on>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Yt=E.fromHex((1&Ft?"03":"02")+le(on)),Cn=_(on),In=c(-Jt*Cn),_n=c(jt*Cn),$t=E.BASE.multiplyAndAddUnsafe(Yt,In,_n);if(!$t)throw new Error("point at infinify");return $t.assertValidity(),$t}hasHighS(){return ue(this.s)}normalizeS(){return this.hasHighS()?new Oe(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return pS(this.toDERHex())}toDERHex(){return Q1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pS(this.toCompactHex())}toCompactHex(){return le(this.r)+le(this.s)}}const Pe={isValidPrivateKey(vt){try{return m(vt),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const vt=tte(r.n);return function gve(n,r,t=!1){const i=n.length,s=ete(r),o=tte(r);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const c=su(t?J1(n):OU(n),r-so)+so;return t?RU(c,s):mS(c,s)}(r.randomBytes(vt),r.n)},precompute:(vt=8,Et=E.BASE)=>(Et._setWindowSize(vt),Et.multiply(BigInt(3)),Et)};function $e(vt){const Et=Z1(vt),Dt="string"==typeof vt,jt=(Et||Dt)&&vt.length;return Et?jt===s||jt===o:Dt?jt===2*s||jt===2*o:vt instanceof E}const Qe=r.bits2int||function(vt){const Et=J1(vt),Dt=8*vt.length-r.nBitLength;return Dt>0?Et>>BigInt(Dt):Et},tt=r.bits2int_modN||function(vt){return c(Qe(vt))},ot=FU(r.nBitLength);function xt(vt){if("bigint"!=typeof vt)throw new Error("bigint expected");if(!(cp<=vt&&vt<ot))throw new Error(`bigint expected < 2^${r.nBitLength}`);return mS(vt,r.nByteLength)}const Tt={lowS:r.lowS,prehash:!1},Kt={lowS:r.lowS,prehash:!1};return E.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function Ie(vt,Et=!0){return E.fromPrivateKey(vt).toRawBytes(Et)},getSharedSecret:function Je(vt,Et,Dt=!0){if($e(vt))throw new Error("first arg must be private key");if(!$e(Et))throw new Error("second arg must be public key");return E.fromHex(Et).multiply(m(vt)).toRawBytes(Dt)},sign:function Lt(vt,Et,Dt=Tt){const{seed:jt,k2sig:Ft}=function Ct(vt,Et,Dt=Tt){if(["recovered","canonical"].some(un=>un in Dt))throw new Error("sign() legacy options not supported");const{hash:jt,randomBytes:Ft}=r;let{lowS:Jt,prehash:on,extraEntropy:dn}=Dt;null==Jt&&(Jt=!0),vt=ap("msgHash",vt),on&&(vt=ap("prehashed msgHash",jt(vt)));const Yt=tt(vt),Cn=m(Et),In=[xt(Cn),xt(Yt)];if(null!=dn&&!1!==dn){const un=!0===dn?Ft(t.BYTES):dn;In.push(ap("extraEntropy",un))}const _n=Ik(...In),$t=Yt;return{seed:_n,k2sig:function gn(un){const pn=Qe(un);if(!oe(pn))return;const Gt=_(pn),Ht=E.BASE.multiply(pn).toAffine(),yn=c(Ht.x);if(yn===cp)return;const Pn=c(Gt*c($t+yn*Cn));if(Pn===cp)return;let $n=(Ht.x===yn?0:2)|Number(Ht.y&ha),rn=Pn;return Jt&&ue(Pn)&&(rn=function pe(vt){return ue(vt)?c(-vt):vt}(Pn),$n^=1),new Oe(yn,rn,$n)}}}(vt,Et,Dt);return Zee(r.hash.outputLen,r.nByteLength,r.hmac)(jt,Ft)},verify:function Xt(vt,Et,Dt,jt=Kt){const Ft=vt;if(Et=ap("msgHash",Et),Dt=ap("publicKey",Dt),"strict"in jt)throw new Error("options.strict was renamed to lowS");const{lowS:Jt,prehash:on}=jt;let dn,Yt;try{if("string"==typeof Ft||Z1(Ft))try{dn=Oe.fromDER(Ft)}catch(Ht){if(!(Ht instanceof Q1.Err))throw Ht;dn=Oe.fromCompact(Ft)}else{if("object"!=typeof Ft||"bigint"!=typeof Ft.r||"bigint"!=typeof Ft.s)throw new Error("PARSE");{const{r:Ht,s:yn}=Ft;dn=new Oe(Ht,yn)}}Yt=E.fromHex(Dt)}catch(Ht){if("PARSE"===Ht.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Jt&&dn.hasHighS())return!1;on&&(Et=r.hash(Et));const{r:Cn,s:In}=dn,_n=tt(Et),$t=_(In),gn=c(_n*$t),un=c(Cn*$t),pn=E.BASE.multiplyAndAddUnsafe(Yt,gn,un)?.toAffine();return!!pn&&c(pn.x)===Cn},ProjectivePoint:E,Signature:Oe,utils:Pe}}function Ave(n){return{hash:n,hmac:(r,...t)=>Wee(n,r,function MP(...n){let r=0;for(let i=0;i<n.length;i++){const s=n[i];Vh(s),r+=s.length}const t=new Uint8Array(r);for(let i=0,s=0;i<n.length;i++){const o=n[i];t.set(o,s),s+=o.length}return t}(...t)),randomBytes:Oy}}BigInt(4);const ite=function mve(n,r,t=!1,i={}){if(n<=mc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=LU(n,r);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function dve(n){if(n%BU===sve){const r=(n+so)/BU;return function(i,s){const o=i.pow(s,r);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%Qee===Jee){const r=(n-Jee)/Qee;return function(i,s){const o=i.mul(s,Av),a=i.pow(o,r),c=i.mul(s,a),_=i.mul(i.mul(c,Av),a),E=i.mul(c,i.sub(_,i.ONE));if(!i.eql(i.sqr(E),s))throw new Error("Cannot find square root");return E}}return function lve(n){const r=(n-so)/Av;let t,i,s;for(t=n-so,i=0;t%Av===mc;t/=Av,i++);for(s=Av;s<n&&cve(s,r,n)!==n-so;s++);if(1===i){const a=(n+so)/BU;return function(_,E){const m=_.pow(E,a);if(!_.eql(_.sqr(m),E))throw new Error("Cannot find square root");return m}}const o=(t+so)/Av;return function(c,_){if(c.pow(_,r)===c.neg(c.ONE))throw new Error("Cannot find square root");let E=i,m=c.pow(c.mul(c.ONE,s),t),j=c.pow(_,o),oe=c.pow(_,t);for(;!c.eql(oe,c.ONE);){if(c.eql(oe,c.ZERO))return c.ZERO;let le=1;for(let pe=c.sqr(oe);le<E&&!c.eql(pe,c.ONE);le++)pe=c.sqr(pe);const ue=c.pow(m,so<<BigInt(E-le-1));m=c.sqr(ue),j=c.mul(j,ue),oe=c.mul(oe,m),E=le}return j}}(n)}(n),c=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:FU(s),ZERO:mc,ONE:so,create:_=>su(_,n),isValid:_=>{if("bigint"!=typeof _)throw new Error("Invalid field element: expected bigint, got "+typeof _);return mc<=_&&_<n},is0:_=>_===mc,isOdd:_=>(_&so)===so,neg:_=>su(-_,n),eql:(_,E)=>_===E,sqr:_=>su(_*_,n),add:(_,E)=>su(_+E,n),sub:(_,E)=>su(_-E,n),mul:(_,E)=>su(_*E,n),pow:(_,E)=>function hve(n,r,t){if(t<mc)throw new Error("Expected power > 0");if(t===mc)return n.ONE;if(t===so)return r;let i=n.ONE,s=r;for(;t>mc;)t&so&&(i=n.mul(i,s)),s=n.sqr(s),t>>=so;return i}(c,_,E),div:(_,E)=>su(_*CR(E,n),n),sqrN:_=>_*_,addN:(_,E)=>_+E,subN:(_,E)=>_-E,mulN:(_,E)=>_*E,inv:_=>CR(_,n),sqrt:i.sqrt||(_=>a(c,_)),invertBatch:_=>function pve(n,r){const t=new Array(r.length),i=r.reduce((o,a,c)=>n.is0(a)?o:(t[c]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return r.reduceRight((o,a,c)=>n.is0(a)?o:(t[c]=n.mul(o,t[c]),n.mul(o,a)),s),t}(c,_),cmov:(_,E,m)=>m?E:_,toBytes:_=>t?RU(_,o):mS(_,o),fromBytes:_=>{if(_.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${_.length}`);return t?OU(_):J1(_)}});return Object.freeze(c)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Dv=function Tve(n,r){const t=i=>Sve({...n,...Ave(i)});return Object.freeze({...t(r),create:t})}({a:ite.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:ite,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Wp),kve=Dv;function gS(n){if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const Lve=function Fve(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}};class jve{name;prefix;baseEncode;constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class $ve{name;prefix;baseDecode;prefixCodePoint;constructor(r,t,i){this.name=r,this.prefix=t;const s=t.codePointAt(0);if(void 0===s)throw new Error("Invalid prefix character");this.prefixCodePoint=s,this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return ste(this,r)}}class Vve{decoders;constructor(r){this.decoders=r}or(r){return ste(this,r)}decode(r){const i=this.decoders[r[0]];if(null!=i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ste(n,r){return new Vve({...n.decoders??{[n.prefix]:n},...r.decoders??{[r.prefix]:r}})}class Uve{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new jve(r,t,i),this.decoder=new $ve(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}function TR({name:n,prefix:r,encode:t,decode:i}){return new Uve(n,r,t,i)}function Ok({name:n,prefix:r,alphabet:t}){const{encode:i,decode:s}=Lve(t,n);return TR({prefix:r,name:n,encode:i,decode:o=>gS(s(o))})}function yl({name:n,prefix:r,bitsPerChar:t,alphabet:i}){return TR({prefix:r,name:n,encode:s=>function Hve(n,r,t){const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(0!==a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o}(s,i,t),decode:s=>function zve(n,r,t,i){const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a}(s,i,t,n)})}const Gve=Ok({prefix:"9",name:"base10",alphabet:"0123456789"}),Wve=yl({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kve=yl({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),qve=yl({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ote=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Xve=ote.reduce((n,r,t)=>(n[t]=r,n),[]),Yve=ote.reduce((n,r,t)=>{const i=r.codePointAt(0);if(null==i)throw new Error(`Invalid character: ${r}`);return n[i]=t,n},[]),Qve=TR({prefix:"\u{1f680}",name:"base256emoji",encode:function Zve(n){return n.reduce((r,t)=>r+Xve[t],"")},decode:function Jve(n){const r=[];for(const t of n){const i=t.codePointAt(0);if(null==i)throw new Error(`Invalid character: ${t}`);const s=Yve[i];if(null==s)throw new Error(`Non-base256emoji character: ${t}`);r.push(s)}return new Uint8Array(r)}}),Rk=yl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ebe=yl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tbe=yl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nbe=yl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rbe=yl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ibe=yl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sbe=yl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),obe=yl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),abe=yl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),DR=Ok({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cbe=Ok({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),X0=Ok({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lbe=Ok({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),dbe=yl({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ube=yl({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fbe=yl({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hbe=yl({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pbe=yl({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),mbe=TR({prefix:"\0",name:"identity",encode:n=>function Rve(n){return(new TextDecoder).decode(n)}(n),decode:n=>function Ove(n){return(new TextEncoder).encode(n)}(n)}),gbe=new TextEncoder,ybe=new TextDecoder,vbe="json",bbe=512;function _be(n){return gbe.encode(JSON.stringify(n))}function wbe(n){return JSON.parse(ybe.decode(n))}const xbe="raw",Ebe=85;function Sbe(n){return gS(n)}function Cbe(n){return gS(n)}var ate=128,Dbe=-128,Mbe=Math.pow(2,31),Ibe=128,lte=127,Pbe=Math.pow(2,7),Obe=Math.pow(2,14),Rbe=Math.pow(2,21),Fbe=Math.pow(2,28),Nbe=Math.pow(2,35),Bbe=Math.pow(2,42),Lbe=Math.pow(2,49),jbe=Math.pow(2,56),$be=Math.pow(2,63),Ube={encode:function cte(n,r,t){r=r||[];for(var i=t=t||0;n>=Mbe;)r[t++]=255&n|ate,n/=128;for(;n&Dbe;)r[t++]=255&n|ate,n>>>=7;return r[t]=0|n,cte.bytes=t-i+1,r},decode:function $U(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw $U.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&lte)<<s:(a&lte)*Math.pow(2,s),s+=7}while(a>=Ibe);return $U.bytes=o-i,t},encodingLength:function(n){return n<Pbe?1:n<Obe?2:n<Rbe?3:n<Fbe?4:n<Nbe?5:n<Bbe?6:n<Lbe?7:n<jbe?8:n<$be?9:10}};const MR=Ube;function kR(n,r,t=0){return MR.encode(n,r,t),r}function IR(n){return MR.encodingLength(n)}function PR(n,r){const t=r.byteLength,i=IR(n),s=i+IR(t),o=new Uint8Array(s+t);return kR(n,o,0),kR(t,o,i),o.set(r,s),new UU(n,t,r,o)}class UU{code;size;digest;bytes;constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const ute=gS,qbe={code:0,name:"identity",encode:ute,digest:function Kbe(n){return PR(0,ute(n))}};function fte({name:n,code:r,encode:t}){return new Xbe(n,r,t)}class Xbe{name;code;encode;constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?PR(this.code,t):t.then(i=>PR(this.code,i))}throw Error("Unknown type, must be binary type")}}function hte(n){return function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}()}const Ybe=fte({name:"sha2-256",code:18,encode:hte("SHA-256")}),Zbe=fte({name:"sha2-512",code:19,encode:hte("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const gte={...L,...x,...P,...T,...w,...k,...v,...N,...M,...R};function yte(n,r,t,i){return{name:n,prefix:r,encoder:{name:n,prefix:r,encode:t},decoder:{decode:i}}}const vte=yte("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),GU=yte("ascii","a",n=>{let r="a";for(let t=0;t<n.length;t++)r+=String.fromCharCode(n[t]);return r},n=>{const r=function r_e(n=0){return new Uint8Array(n)}((n=n.substring(1)).length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r}),bte={utf8:vte,"utf-8":vte,hex:gte.base16,latin1:GU,ascii:GU,binary:GU,...gte};var OR=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const o_e_toString=function s_e(n,r="utf8"){const t=bte[r];if(null==t)throw new Error(`Unsupported encoding "${r}"`);return t.encoder.encode(n).substring(1)};class lp{static validateKey(r){if("EC"!==r.kty||"P-256"!==r.crv)throw new Sn(xn.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(r){return OR(this,void 0,void 0,function*(){let t;return t=33===r.byteLength?Dv.ProjectivePoint.fromHex(r).toRawBytes(!1):r,{alg:"ES256",kty:"EC",crv:"P-256",x:Wr.bytesToBase64Url(t.subarray(1,33)),y:Wr.bytesToBase64Url(t.subarray(33,65))}})}static privateJwkToBytes(r){return Wr.base64UrlToBytes(r.d)}static sign(r,t){return OR(this,void 0,void 0,function*(){lp.validateKey(t);const i=yield K0.encode(r),s=lp.privateJwkToBytes(t);return Promise.resolve(Dv.sign(i,s).toCompactRawBytes())})}static verify(r,t,i){return OR(this,void 0,void 0,function*(){let s;lp.validateKey(i),s=64===t.length?Dv.Signature.fromCompact(t):Dv.Signature.fromDER(t);const o=yield K0.encode(r),a=Dv.ProjectivePoint.fromAffine({x:lp.bytesToBigInt(Wr.base64UrlToBytes(i.x)),y:lp.bytesToBigInt(Wr.base64UrlToBytes(i.y))}).toRawBytes(!1);return Dv.verify(s,o,a)})}static generateKeyPair(){return OR(this,void 0,void 0,function*(){const r=Dv.utils.randomPrivateKey(),t=kve.getPublicKey(r,!1),i=Wr.bytesToBase64Url(r),s=yield lp.publicKeyToJwk(t);return{publicJwk:s,privateJwk:Object.assign(Object.assign({},s),{d:i})}})}static bytesToBigInt(r){return BigInt("0x"+o_e_toString(r,"base16"))}}const RR={Ed25519:Aye,secp256k1:{sign:pc.sign,verify:pc.verify,generateKeyPair:pc.generateKeyPair,publicKeyToJwk:pc.publicKeyToJwk},"P-256":{sign:lp.sign,verify:lp.verify,generateKeyPair:lp.generateKeyPair,publicKeyToJwk:lp.publicKeyToJwk}};class c_e{constructor(r){var t,i;if(void 0===r.keyId&&void 0===r.privateJwk.kid)throw new Sn(xn.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===r.algorithm&&void 0===r.privateJwk.alg)throw new Sn(xn.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(t=r.keyId)&&void 0!==t?t:r.privateJwk.kid,this.algorithm=null!==(i=r.algorithm)&&void 0!==i?i:r.privateJwk.alg,this.privateJwk=r.privateJwk,this.signatureAlgorithm=RR[r.privateJwk.crv],!this.signatureAlgorithm)throw new Sn(xn.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${r.privateJwk.crv}, crv must be one of ${Object.keys(RR)}`)}sign(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(r,this.privateJwk)})}}class vo{static getKid(r){const{kid:t}=Wr.base64UrlToObject(r.protected);return t}static getSignerDid(r){const t=vo.getKid(r);return vo.extractDid(t)}static verifySignature(r,t,i){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const s=RR[i.crv];if(!s)throw new Sn(xn.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(RR)}`);const o=Wr.stringToBytes(`${t.protected}.${r}`),a=Wr.base64UrlToBytes(t.signature);return yield s.verify(o,a,i)})}static decodePlainObjectPayload(r){let t;try{t=Wr.base64UrlToObject(r.payload)}catch{throw new Sn(xn.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!iye(t))throw new Sn(xn.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return t}static extractDid(r){const[t]=r.split("#");return t}static createSigners(r){return r.map(i=>vo.createSigner(i))}static createSigner(r){return new c_e({privateJwk:r.keyPair.privateJwk,keyId:r.keyId})}}var WU=A(40573);const Nk="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,_te=new Set,KU="object"==typeof WU&&WU?WU:{},wte=(n,r,t,i)=>{"function"==typeof KU.emitWarning?KU.emitWarning(n,r,t,i):console.error(`[${t}] ${r}: ${n}`)};let FR=globalThis.AbortController,xte=globalThis.AbortSignal;if(typeof FR>"u"){xte=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,s){this._onabort.push(s)}},FR=class{constructor(){r()}signal=new xte;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const s of this.signal._onabort)s(i);this.signal.onabort?.(i)}}};let n="1"!==KU.env?.LRU_CACHE_IGNORE_AC_WARNING;const r=()=>{n&&(n=!1,wte("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",r))}}Symbol("type");const Mv=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),Ete=n=>Mv(n)?n<=Math.pow(2,8)?Uint8Array:n<=Math.pow(2,16)?Uint16Array:n<=Math.pow(2,32)?Uint32Array:n<=Number.MAX_SAFE_INTEGER?NR:null:null;class NR extends Array{constructor(r){super(r),this.fill(0)}}class yS{heap;length;static#c=!1;static create(r){const t=Ete(r);if(!t)return[];yS.#c=!0;const i=new yS(r,t);return yS.#c=!1,i}constructor(r,t){if(!yS.#c)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(r),this.length=0}push(r){this.heap[this.length++]=r}pop(){return this.heap[--this.length]}}class qU{#c;#u;#v;#p;#M;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#m;#i;#n;#e;#l;#f;#a;#s;#g;#o;#x;#E;#y;#b;#C;#d;static unsafeExposeInternals(r){return{starts:r.#E,ttls:r.#y,sizes:r.#x,keyMap:r.#i,keyList:r.#n,valList:r.#e,next:r.#l,prev:r.#f,get head(){return r.#a},get tail(){return r.#s},free:r.#g,isBackgroundFetch:t=>r.#t(t),backgroundFetch:(t,i,s,o)=>r.#P(t,i,s,o),moveToTail:t=>r.#D(t),indexes:t=>r.#_(t),rindexes:t=>r.#w(t),isStale:t=>r.#h(t)}}get max(){return this.#c}get maxSize(){return this.#u}get calculatedSize(){return this.#m}get size(){return this.#r}get fetchMethod(){return this.#M}get dispose(){return this.#v}get disposeAfter(){return this.#p}constructor(r){const{max:t=0,ttl:i,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:c,allowStale:_,dispose:E,disposeAfter:m,noDisposeOnSet:j,noUpdateTTL:oe,maxSize:le=0,maxEntrySize:ue=0,sizeCalculation:pe,fetchMethod:we,noDeleteOnFetchRejection:Oe,noDeleteOnStaleGet:Pe,allowStaleOnFetchRejection:Ie,allowStaleOnFetchAbort:$e,ignoreFetchAbort:Je}=r;if(0!==t&&!Mv(t))throw new TypeError("max option must be a nonnegative integer");const Qe=t?Ete(t):Array;if(!Qe)throw new Error("invalid max value: "+t);if(this.#c=t,this.#u=le,this.maxEntrySize=ue||this.#u,this.sizeCalculation=pe,this.sizeCalculation){if(!this.#u&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==we&&"function"!=typeof we)throw new TypeError("fetchMethod must be a function if specified");if(this.#M=we,this.#C=!!we,this.#i=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#l=new Qe(t),this.#f=new Qe(t),this.#a=0,this.#s=0,this.#g=yS.create(t),this.#r=0,this.#m=0,"function"==typeof E&&(this.#v=E),"function"==typeof m?(this.#p=m,this.#o=[]):(this.#p=void 0,this.#o=void 0),this.#b=!!this.#v,this.#d=!!this.#p,this.noDisposeOnSet=!!j,this.noUpdateTTL=!!oe,this.noDeleteOnFetchRejection=!!Oe,this.allowStaleOnFetchRejection=!!Ie,this.allowStaleOnFetchAbort=!!$e,this.ignoreFetchAbort=!!Je,0!==this.maxEntrySize){if(0!==this.#u&&!Mv(this.#u))throw new TypeError("maxSize must be a positive integer if specified");if(!Mv(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!_,this.noDeleteOnStaleGet=!!Pe,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!c,this.ttlResolution=Mv(s)||0===s?s:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Mv(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#c&&0===this.ttl&&0===this.#u)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#c&&!this.#u){const tt="LRU_CACHE_UNBOUNDED";(n=>!_te.has(n))(tt)&&(_te.add(tt),wte("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",tt,qU))}}getRemainingTTL(r){return this.#i.has(r)?1/0:0}#O(){const r=new NR(this.#c),t=new NR(this.#c);this.#y=r,this.#E=t,this.#R=(o,a,c=Nk.now())=>{if(t[o]=0!==a?c:0,r[o]=a,0!==a&&this.ttlAutopurge){const _=setTimeout(()=>{this.#h(o)&&this.delete(this.#n[o])},a+1);_.unref&&_.unref()}},this.#A=o=>{t[o]=0!==r[o]?Nk.now():0},this.#S=(o,a)=>{if(r[a]){const c=r[a],_=t[a];o.ttl=c,o.start=_,o.now=i||s(),o.remainingTTL=c-(o.now-_)}};let i=0;const s=()=>{const o=Nk.now();if(this.ttlResolution>0){i=o;const a=setTimeout(()=>i=0,this.ttlResolution);a.unref&&a.unref()}return o};this.getRemainingTTL=o=>{const a=this.#i.get(o);if(void 0===a)return 0;const c=r[a],_=t[a];return 0===c||0===_?1/0:c-((i||s())-_)},this.#h=o=>0!==r[o]&&0!==t[o]&&(i||s())-t[o]>r[o]}#A=()=>{};#S=()=>{};#R=()=>{};#h=()=>!1;#L(){const r=new NR(this.#c);this.#m=0,this.#x=r,this.#T=t=>{this.#m-=r[t],r[t]=0},this.#F=(t,i,s,o)=>{if(this.#t(i))return 0;if(!Mv(s)){if(!o)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof o)throw new TypeError("sizeCalculation must be a function");if(s=o(i,t),!Mv(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return s},this.#k=(t,i,s)=>{if(r[t]=i,this.#u){const o=this.#u-r[t];for(;this.#m>o;)this.#I(!0)}this.#m+=r[t],s&&(s.entrySize=i,s.totalCalculatedSize=this.#m)}}#T=r=>{};#k=(r,t,i)=>{};#F=(r,t,i,s)=>{if(i||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:r=this.allowStale}={}){if(this.#r)for(let t=this.#s;this.#N(t)&&((r||!this.#h(t))&&(yield t),t!==this.#a);)t=this.#f[t]}*#w({allowStale:r=this.allowStale}={}){if(this.#r)for(let t=this.#a;this.#N(t)&&((r||!this.#h(t))&&(yield t),t!==this.#s);)t=this.#l[t]}#N(r){return void 0!==r&&this.#i.get(this.#n[r])===r}*entries(){for(const r of this.#_())void 0!==this.#e[r]&&void 0!==this.#n[r]&&!this.#t(this.#e[r])&&(yield[this.#n[r],this.#e[r]])}*rentries(){for(const r of this.#w())void 0!==this.#e[r]&&void 0!==this.#n[r]&&!this.#t(this.#e[r])&&(yield[this.#n[r],this.#e[r]])}*keys(){for(const r of this.#_()){const t=this.#n[r];void 0!==t&&!this.#t(this.#e[r])&&(yield t)}}*rkeys(){for(const r of this.#w()){const t=this.#n[r];void 0!==t&&!this.#t(this.#e[r])&&(yield t)}}*values(){for(const r of this.#_())void 0!==this.#e[r]&&!this.#t(this.#e[r])&&(yield this.#e[r])}*rvalues(){for(const r of this.#w())void 0!==this.#e[r]&&!this.#t(this.#e[r])&&(yield this.#e[r])}[Symbol.iterator](){return this.entries()}find(r,t={}){for(const i of this.#_()){const s=this.#e[i],o=this.#t(s)?s.__staleWhileFetching:s;if(void 0!==o&&r(o,this.#n[i],this))return this.get(this.#n[i],t)}}forEach(r,t=this){for(const i of this.#_()){const s=this.#e[i],o=this.#t(s)?s.__staleWhileFetching:s;void 0!==o&&r.call(t,o,this.#n[i],this)}}rforEach(r,t=this){for(const i of this.#w()){const s=this.#e[i],o=this.#t(s)?s.__staleWhileFetching:s;void 0!==o&&r.call(t,o,this.#n[i],this)}}purgeStale(){let r=!1;for(const t of this.#w({allowStale:!0}))this.#h(t)&&(this.delete(this.#n[t]),r=!0);return r}dump(){const r=[];for(const t of this.#_({allowStale:!0})){const i=this.#n[t],s=this.#e[t],o=this.#t(s)?s.__staleWhileFetching:s;if(void 0===o||void 0===i)continue;const a={value:o};if(this.#y&&this.#E){a.ttl=this.#y[t];const c=Nk.now()-this.#E[t];a.start=Math.floor(Date.now()-c)}this.#x&&(a.size=this.#x[t]),r.unshift([i,a])}return r}load(r){this.clear();for(const[t,i]of r){if(i.start){const s=Date.now()-i.start;i.start=Nk.now()-s}this.set(t,i.value,i)}}set(r,t,i={}){if(void 0===t)return this.delete(r),this;const{ttl:s=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:_}=i;let{noUpdateTTL:E=this.noUpdateTTL}=i;const m=this.#F(r,t,i.size||0,c);if(this.maxEntrySize&&m>this.maxEntrySize)return _&&(_.set="miss",_.maxEntrySizeExceeded=!0),this.delete(r),this;let j=0===this.#r?void 0:this.#i.get(r);if(void 0===j)j=0===this.#r?this.#s:0!==this.#g.length?this.#g.pop():this.#r===this.#c?this.#I(!1):this.#r,this.#n[j]=r,this.#e[j]=t,this.#i.set(r,j),this.#l[this.#s]=j,this.#f[j]=this.#s,this.#s=j,this.#r++,this.#k(j,m,_),_&&(_.set="add"),E=!1;else{this.#D(j);const oe=this.#e[j];if(t!==oe){if(this.#C&&this.#t(oe)?oe.__abortController.abort(new Error("replaced")):a||(this.#b&&this.#v?.(oe,r,"set"),this.#d&&this.#o?.push([oe,r,"set"])),this.#T(j),this.#k(j,m,_),this.#e[j]=t,_){_.set="replace";const le=oe&&this.#t(oe)?oe.__staleWhileFetching:oe;void 0!==le&&(_.oldValue=le)}}else _&&(_.set="update")}if(0!==s&&!this.#y&&this.#O(),this.#y&&(E||this.#R(j,s,o),_&&this.#S(_,j)),!a&&this.#d&&this.#o){const oe=this.#o;let le;for(;le=oe?.shift();)this.#p?.(...le)}return this}pop(){try{for(;this.#r;){const r=this.#e[this.#a];if(this.#I(!0),this.#t(r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(void 0!==r)return r}}finally{if(this.#d&&this.#o){const r=this.#o;let t;for(;t=r?.shift();)this.#p?.(...t)}}}#I(r){const t=this.#a,i=this.#n[t],s=this.#e[t];return this.#C&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#b||this.#d)&&(this.#b&&this.#v?.(s,i,"evict"),this.#d&&this.#o?.push([s,i,"evict"])),this.#T(t),r&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#g.push(t)),1===this.#r?(this.#a=this.#s=0,this.#g.length=0):this.#a=this.#l[t],this.#i.delete(i),this.#r--,t}has(r,t={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:s}=t,o=this.#i.get(r);if(void 0!==o){const a=this.#e[o];if(this.#t(a)&&void 0===a.__staleWhileFetching)return!1;if(!this.#h(o))return i&&this.#A(o),s&&(s.has="hit",this.#S(s,o)),!0;s&&(s.has="stale",this.#S(s,o))}else s&&(s.has="miss");return!1}peek(r,t={}){const{allowStale:i=this.allowStale}=t,s=this.#i.get(r);if(void 0!==s&&(i||!this.#h(s))){const o=this.#e[s];return this.#t(o)?o.__staleWhileFetching:o}}#P(r,t,i,s){const o=void 0===t?void 0:this.#e[t];if(this.#t(o))return o;const a=new FR,{signal:c}=i;c?.addEventListener("abort",()=>a.abort(c.reason),{signal:a.signal});const _={signal:a.signal,options:i,context:s},E=(pe,we=!1)=>{const{aborted:Oe}=a.signal,Pe=i.ignoreFetchAbort&&void 0!==pe;return i.status&&(Oe&&!we?(i.status.fetchAborted=!0,i.status.fetchError=a.signal.reason,Pe&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!Oe||Pe||we?(this.#e[t]===le&&(void 0===pe?le.__staleWhileFetching?this.#e[t]=le.__staleWhileFetching:this.delete(r):(i.status&&(i.status.fetchUpdated=!0),this.set(r,pe,_.options))),pe):j(a.signal.reason)},j=pe=>{const{aborted:we}=a.signal,Oe=we&&i.allowStaleOnFetchAbort,Pe=Oe||i.allowStaleOnFetchRejection,$e=le;if(this.#e[t]===le&&((Pe||i.noDeleteOnFetchRejection)&&void 0!==$e.__staleWhileFetching?Oe||(this.#e[t]=$e.__staleWhileFetching):this.delete(r)),Pe)return i.status&&void 0!==$e.__staleWhileFetching&&(i.status.returnedStale=!0),$e.__staleWhileFetching;if($e.__returned===$e)throw pe};i.status&&(i.status.fetchDispatched=!0);const le=new Promise((pe,we)=>{const Oe=this.#M?.(r,o,_);Oe&&Oe instanceof Promise&&Oe.then(Pe=>pe(Pe),we),a.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(pe(),i.allowStaleOnFetchAbort&&(pe=Pe=>E(Pe,!0)))})}).then(E,pe=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=pe),j(pe))),ue=Object.assign(le,{__abortController:a,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(r,ue,{..._.options,status:void 0}),t=this.#i.get(r)):this.#e[t]=ue,ue}#t(r){if(!this.#C)return!1;const t=r;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof FR}fetch(r,t={}){var i=this;return(0,Nn.A)(function*(){const{allowStale:s=i.allowStale,updateAgeOnGet:o=i.updateAgeOnGet,noDeleteOnStaleGet:a=i.noDeleteOnStaleGet,ttl:c=i.ttl,noDisposeOnSet:_=i.noDisposeOnSet,size:E=0,sizeCalculation:m=i.sizeCalculation,noUpdateTTL:j=i.noUpdateTTL,noDeleteOnFetchRejection:oe=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:le=i.allowStaleOnFetchRejection,ignoreFetchAbort:ue=i.ignoreFetchAbort,allowStaleOnFetchAbort:pe=i.allowStaleOnFetchAbort,context:we,forceRefresh:Oe=!1,status:Pe,signal:Ie}=t;if(!i.#C)return Pe&&(Pe.fetch="get"),i.get(r,{allowStale:s,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:Pe});const $e={allowStale:s,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:c,noDisposeOnSet:_,size:E,sizeCalculation:m,noUpdateTTL:j,noDeleteOnFetchRejection:oe,allowStaleOnFetchRejection:le,allowStaleOnFetchAbort:pe,ignoreFetchAbort:ue,status:Pe,signal:Ie};let Je=i.#i.get(r);if(void 0===Je){Pe&&(Pe.fetch="miss");const Qe=i.#P(r,Je,$e,we);return Qe.__returned=Qe}{const Qe=i.#e[Je];if(i.#t(Qe)){const Tt=s&&void 0!==Qe.__staleWhileFetching;return Pe&&(Pe.fetch="inflight",Tt&&(Pe.returnedStale=!0)),Tt?Qe.__staleWhileFetching:Qe.__returned=Qe}const tt=i.#h(Je);if(!Oe&&!tt)return Pe&&(Pe.fetch="hit"),i.#D(Je),o&&i.#A(Je),Pe&&i.#S(Pe,Je),Qe;const ot=i.#P(r,Je,$e,we),Ct=void 0!==ot.__staleWhileFetching&&s;return Pe&&(Pe.fetch=tt?"stale":"refresh",Ct&&tt&&(Pe.returnedStale=!0)),Ct?ot.__staleWhileFetching:ot.__returned=ot}})()}get(r,t={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:a}=t,c=this.#i.get(r);if(void 0!==c){const _=this.#e[c],E=this.#t(_);return a&&this.#S(a,c),this.#h(c)?(a&&(a.get="stale"),E?(a&&i&&void 0!==_.__staleWhileFetching&&(a.returnedStale=!0),i?_.__staleWhileFetching:void 0):(o||this.delete(r),a&&i&&(a.returnedStale=!0),i?_:void 0)):(a&&(a.get="hit"),E?_.__staleWhileFetching:(this.#D(c),s&&this.#A(c),_))}a&&(a.get="miss")}#B(r,t){this.#f[t]=r,this.#l[r]=t}#D(r){r!==this.#s&&(r===this.#a?this.#a=this.#l[r]:this.#B(this.#f[r],this.#l[r]),this.#B(this.#s,r),this.#s=r)}delete(r){let t=!1;if(0!==this.#r){const i=this.#i.get(r);if(void 0!==i)if(t=!0,1===this.#r)this.clear();else{this.#T(i);const s=this.#e[i];this.#t(s)?s.__abortController.abort(new Error("deleted")):(this.#b||this.#d)&&(this.#b&&this.#v?.(s,r,"delete"),this.#d&&this.#o?.push([s,r,"delete"])),this.#i.delete(r),this.#n[i]=void 0,this.#e[i]=void 0,i===this.#s?this.#s=this.#f[i]:i===this.#a?this.#a=this.#l[i]:(this.#l[this.#f[i]]=this.#l[i],this.#f[this.#l[i]]=this.#f[i]),this.#r--,this.#g.push(i)}}if(this.#d&&this.#o?.length){const i=this.#o;let s;for(;s=i?.shift();)this.#p?.(...s)}return t}clear(){for(const r of this.#w({allowStale:!0})){const t=this.#e[r];if(this.#t(t))t.__abortController.abort(new Error("deleted"));else{const i=this.#n[r];this.#b&&this.#v?.(t,i,"delete"),this.#d&&this.#o?.push([t,i,"delete"])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#y&&this.#E&&(this.#y.fill(0),this.#E.fill(0)),this.#x&&this.#x.fill(0),this.#a=0,this.#s=0,this.#g.length=0,this.#m=0,this.#r=0,this.#d&&this.#o){const r=this.#o;let t;for(;t=r?.shift();)this.#p?.(...t)}}}var Ste=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class u_e{constructor(r){this.timeToLiveInSeconds=r,this.cache=new qU({max:1e5,ttl:1e3*r})}set(r,t){return Ste(this,void 0,void 0,function*(){try{this.cache.set(r,t)}catch{}})}get(r){return Ste(this,void 0,void 0,function*(){return this.cache.get(r)})}}const f_e=jc,ew=new RegExp("^[A-Za-z0-9_-]+$","u");function Is(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=Is.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return Is.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const oe=0;for(const le in n)if("payload"!==le&&"signatures"!==le)return Is.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==n.payload){let le=n.payload;const ue=0;if("string"!=typeof le)return Is.errors=[{instancePath:r+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(le))return Is.errors=[{instancePath:r+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var E=0===ue}else E=!0;if(E)if(void 0!==n.signatures){let le=n.signatures;const ue=0;if(0===ue){if(!Array.isArray(le))return Is.errors=[{instancePath:r+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(le.length<1)return Is.errors=[{instancePath:r+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const we=le.length;for(let Oe=0;Oe<we;Oe++){let Pe=le[Oe];const Ie=0;if(0===Ie){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Is.errors=[{instancePath:r+"/signatures/"+Oe,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Pe.protected){let Je=Pe.protected;const Qe=0;if("string"!=typeof Je)return Is.errors=[{instancePath:r+"/signatures/"+Oe+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(Je))return Is.errors=[{instancePath:r+"/signatures/"+Oe+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var j=0===Qe}else j=!0;if(j)if(void 0!==Pe.signature){let Je=Pe.signature;const Qe=0;if("string"!=typeof Je)return Is.errors=[{instancePath:r+"/signatures/"+Oe+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(Je))return Is.errors=[{instancePath:r+"/signatures/"+Oe+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;j=0===Qe}else j=!0}if(0!==Ie)break}}}E=0===ue}else E=!0}}return Is.errors=null,!0}function jc(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=jc.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return jc.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const E=c;for(const m in n)if("signature"!==m)return jc.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;E===c&&void 0!==n.signature&&(Is(n.signature,{instancePath:r+"/signature",parentData:n,parentDataProperty:"signature",rootData:s,dynamicAnchors:o})||(a=null===a?Is.errors:a.concat(Is.errors),c=a.length))}}return jc.errors=a,0===c}Is.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},jc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const h_e=Da,kv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},p_e=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Iv=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),m_e=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Ya=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),vS={validate:oh};function ym(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=ym.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return ym.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const m=c;for(const j in n)if("signature"!==j&&"authorDelegatedGrant"!==j&&"ownerSignature"!==j&&"ownerDelegatedGrant"!==j)return ym.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:j},message:"must NOT have additional properties"}],!1;if(m===c){let j;if(void 0!==n.ownerSignature&&void 0===n.signature&&(j="signature"))return ym.errors=[{instancePath:r,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:j,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==n.signature){const oe=c;Is(n.signature,{instancePath:r+"/signature",parentData:n,parentDataProperty:"signature",rootData:s,dynamicAnchors:o})||(a=null===a?Is.errors:a.concat(Is.errors),c=a.length);var E=oe===c}else E=!0;if(E){if(void 0!==n.authorDelegatedGrant){const oe=c;vS.validate(n.authorDelegatedGrant,{instancePath:r+"/authorDelegatedGrant",parentData:n,parentDataProperty:"authorDelegatedGrant",rootData:s,dynamicAnchors:o})||(a=null===a?vS.validate.errors:a.concat(vS.validate.errors),c=a.length),E=oe===c}else E=!0;if(E){if(void 0!==n.ownerSignature){const oe=c;Is(n.ownerSignature,{instancePath:r+"/ownerSignature",parentData:n,parentDataProperty:"ownerSignature",rootData:s,dynamicAnchors:o})||(a=null===a?Is.errors:a.concat(Is.errors),c=a.length),E=oe===c}else E=!0;if(E)if(void 0!==n.ownerDelegatedGrant){const oe=c;vS.validate(n.ownerDelegatedGrant,{instancePath:r+"/ownerDelegatedGrant",parentData:n,parentDataProperty:"ownerDelegatedGrant",rootData:s,dynamicAnchors:o})||(a=null===a?vS.validate.errors:a.concat(vS.validate.errors),c=a.length),E=oe===c}else E=!0}}}}}return ym.errors=a,0===c}ym.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Cte={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Ps(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Ps.evaluated;_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0);const E=c,m=c;let j=!1,oe=null;const le=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Xt;if(void 0===n.crv&&(Xt="crv")||void 0===n.x&&(Xt="x")){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===a?a=[vt]:a.push(vt),c++}else{if(void 0!==n.kty){const vt=c;if("EC"!==n.kty){const Et={instancePath:r+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}var ue=vt===c}else ue=!0;if(ue){if(void 0!==n.crv){const vt=c;if("string"!=typeof n.crv){const Dt={instancePath:r+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}ue=vt===c}else ue=!0;if(ue){if(void 0!==n.x){const vt=c;if("string"!=typeof n.x){const Dt={instancePath:r+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}ue=vt===c}else ue=!0;if(ue){if(void 0!==n.y){const vt=c;if("string"!=typeof n.y){const Dt={instancePath:r+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}ue=vt===c}else ue=!0;if(ue)if(void 0!==n.d){const vt=c;if("string"!=typeof n.d){const Dt={instancePath:r+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}ue=vt===c}else ue=!0}}}}}if(Pe=le===c){j=!0,oe=0;var pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const we=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Xt;if(void 0===n.crv&&(Xt="crv")||void 0===n.x&&(Xt="x")){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===a?a=[vt]:a.push(vt),c++}else{if(void 0!==n.kty){const vt=c;if("OKP"!==n.kty){const Et={instancePath:r+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}var Oe=vt===c}else Oe=!0;if(Oe){if(void 0!==n.crv){const vt=c;if("string"!=typeof n.crv){const Dt={instancePath:r+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}Oe=vt===c}else Oe=!0;if(Oe){if(void 0!==n.x){const vt=c;if("string"!=typeof n.x){const Dt={instancePath:r+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}Oe=vt===c}else Oe=!0;if(Oe)if(void 0!==n.d){const vt=c;if("string"!=typeof n.d){const Dt={instancePath:r+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Dt]:a.push(Dt),c++}Oe=vt===c}else Oe=!0}}}}if((Pe=we===c)&&j)j=!1,oe=[oe,1];else{Pe&&(j=!0,oe=1,!0!==pe&&((pe=pe||{}).kty=!0,pe.crv=!0,pe.x=!0,pe.d=!0));const Xt=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Et;if(void 0===n.n&&(Et="n")||void 0===n.e&&(Et="e")){const Dt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"};null===a?a=[Dt]:a.push(Dt),c++}else{if(void 0!==n.kty){const Dt=c;if("RSA"!==n.kty){const jt={instancePath:r+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===a?a=[jt]:a.push(jt),c++}var Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.n){const Dt=c;if("string"!=typeof n.n){const Ft={instancePath:r+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.e){const Dt=c;if("string"!=typeof n.e){const Ft={instancePath:r+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.d){const Dt=c;if("string"!=typeof n.d){const Ft={instancePath:r+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.p){const Dt=c;if("string"!=typeof n.p){const Ft={instancePath:r+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.q){const Dt=c;if("string"!=typeof n.q){const Ft={instancePath:r+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.dp){const Dt=c;if("string"!=typeof n.dp){const Ft={instancePath:r+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.dq){const Dt=c;if("string"!=typeof n.dq){const Ft={instancePath:r+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie){if(void 0!==n.qi){const Dt=c;if("string"!=typeof n.qi){const Ft={instancePath:r+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}Ie=Dt===c}else Ie=!0;if(Ie)if(void 0!==n.oth){let Dt=n.oth;const jt=c;if(!Dt||"object"!=typeof Dt||Array.isArray(Dt)){const Jt={instancePath:r+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Jt]:a.push(Jt),c++}Ie=jt===c}else Ie=!0}}}}}}}}}}if((Pe=Xt===c)&&j)j=!1,oe=[oe,2];else{Pe&&(j=!0,oe=2,!0!==pe&&((pe=pe||{}).kty=!0,pe.n=!0,pe.e=!0,pe.d=!0,pe.p=!0,pe.q=!0,pe.dp=!0,pe.dq=!0,pe.qi=!0,pe.oth=!0));const Et=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let jt;if(void 0===n.k&&(jt="k")){const Ft={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:jt},message:"must have required property '"+jt+"'"};null===a?a=[Ft]:a.push(Ft),c++}else{if(void 0!==n.kty){const Ft=c;if("oct"!==n.kty){const Jt={instancePath:r+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===a?a=[Jt]:a.push(Jt),c++}var $e=Ft===c}else $e=!0;if($e)if(void 0!==n.k){const Ft=c;if("string"!=typeof n.k){const on={instancePath:r+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[on]:a.push(on),c++}$e=Ft===c}else $e=!0}}var Pe;(Pe=Et===c)&&j?(j=!1,oe=[oe,3]):Pe&&(j=!0,oe=3,!0!==pe&&((pe=pe||{}).kty=!0,pe.k=!0))}}if(!j){const Xt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===a?a=[Xt]:a.push(Xt),c++,Ps.errors=a,!1}if(c=m,null!==a&&(m?a.length=m:a=null),c===E){if(!n||"object"!=typeof n||Array.isArray(n))return Ps.errors=[{instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xt;if(void 0===n.kty&&(Xt="kty"))return Ps.errors=[{instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"}],!1;if(!0!==pe&&((pe=pe||{}).alg=!0,pe.kid=!0,pe.kty=!0,pe.crv=!0,pe.use=!0,pe.key_ops=!0,pe.x5u=!0,pe.x5c=!0,pe.x5t=!0,pe["x5t#S256"]=!0),void 0!==n.alg){const vt=c;if("string"!=typeof n.alg)return Ps.errors=[{instancePath:r+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Je=vt===c}else Je=!0;if(Je){if(void 0!==n.kid){const vt=c;if("string"!=typeof n.kid)return Ps.errors=[{instancePath:r+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.kty){let vt=n.kty;const Et=c;if("EC"!==vt&&"RSA"!==vt&&"oct"!==vt&&"OKP"!==vt)return Ps.errors=[{instancePath:r+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Cte.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Je=Et===c}else Je=!0;if(Je){if(void 0!==n.crv){const vt=c;if("string"!=typeof n.crv)return Ps.errors=[{instancePath:r+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.use){const vt=c;if("string"!=typeof n.use)return Ps.errors=[{instancePath:r+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.key_ops){const vt=c;if("string"!=typeof n.key_ops)return Ps.errors=[{instancePath:r+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.x5u){const vt=c;if("string"!=typeof n.x5u)return Ps.errors=[{instancePath:r+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.x5c){const vt=c;if("string"!=typeof n.x5c)return Ps.errors=[{instancePath:r+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je){if(void 0!==n.x5t){const vt=c;if("string"!=typeof n.x5t)return Ps.errors=[{instancePath:r+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0;if(Je)if(void 0!==n["x5t#S256"]){const vt=c;if("string"!=typeof n["x5t#S256"])return Ps.errors=[{instancePath:r+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Je=vt===c}else Je=!0}}}}}}}}}}if(E===c){const Xt=c,vt=c,Et=c;let Dt=!1;const jt=c,Ft=c;let Jt=!1;const on=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.d&&(rn="d")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Jt=Jt||on===c,Jt)c=Ft,null!==a&&(Ft?a.length=Ft:a=null);else{const rn={};null===a?a=[rn]:a.push(rn),c++}if(c===jt)if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0!==n.kty&&"EC"!==n.kty){const rn={};null===a?a=[rn]:a.push(rn),c++}}else{const rn={};null===a?a=[rn]:a.push(rn),c++}var Kt=jt===c;if(Dt=Dt||Kt,Kt)var ot={kty:!0};const dn=c,Yt=c;let Cn=!1;const In=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.d&&(rn="d")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Cn=Cn||In===c,Cn)c=Yt,null!==a&&(Yt?a.length=Yt:a=null);else{const rn={};null===a?a=[rn]:a.push(rn),c++}if(c===dn)if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0!==n.kty&&"OKP"!==n.kty){const rn={};null===a?a=[rn]:a.push(rn),c++}}else{const rn={};null===a?a=[rn]:a.push(rn),c++}Kt=dn===c,Dt=Dt||Kt,Kt&&!0!==ot&&((ot=ot||{}).kty=!0);const _n=c,$t=c;let gn=!1;const un=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.d&&(rn="d")){const bn={};null===a?a=[bn]:a.push(bn),c++}}var Ct=un===c;gn=gn||Ct;const pn=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.p&&(rn="p")){const bn={};null===a?a=[bn]:a.push(bn),c++}}Ct=pn===c,gn=gn||Ct;const Gt=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.q&&(rn="q")){const bn={};null===a?a=[bn]:a.push(bn),c++}}Ct=Gt===c,gn=gn||Ct;const Ht=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.dp&&(rn="dp")){const bn={};null===a?a=[bn]:a.push(bn),c++}}Ct=Ht===c,gn=gn||Ct;const yn=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.dq&&(rn="dq")){const bn={};null===a?a=[bn]:a.push(bn),c++}}Ct=yn===c,gn=gn||Ct;const Pn=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.qi&&(rn="qi")){const bn={};null===a?a=[bn]:a.push(bn),c++}}Ct=Pn===c,gn=gn||Ct;const $n=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.oth&&(rn="oth")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Ct=$n===c,gn=gn||Ct,gn)c=$t,null!==a&&($t?a.length=$t:a=null);else{const rn={};null===a?a=[rn]:a.push(rn),c++}if(c===_n)if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0!==n.kty){const rn=c;if("RSA"!==n.kty){const bn={};null===a?a=[bn]:a.push(bn),c++}var Tt=rn===c}else Tt=!0;if(Tt)if(void 0!==n.oth){let rn=n.oth;const bn=c;if(!rn||"object"!=typeof rn||Array.isArray(rn)){const rr={};null===a?a=[rr]:a.push(rr),c++}Tt=bn===c}else Tt=!0}else{const rn={};null===a?a=[rn]:a.push(rn),c++}if(Kt=_n===c,Dt=Dt||Kt,Kt&&!0!==ot&&((ot=ot||{}).kty=!0,ot.d=!0,ot.p=!0,ot.q=!0,ot.dp=!0,ot.dq=!0,ot.qi=!0,ot.oth=!0),Dt)c=Et,null!==a&&(Et?a.length=Et:a=null);else{const rn={};null===a?a=[rn]:a.push(rn),c++}if(vt===c)return Ps.errors=[{instancePath:r,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Xt,null!==a&&(Xt?a.length=Xt:a=null)}return Ps.errors=a,_.props=pe,0===c}Ps.evaluated={dynamicProps:!0,dynamicItems:!1};const Ate=Object.prototype.hasOwnProperty;function pr(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=pr.evaluated;_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0);const E=c;let m=!1;const j=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let dn;if(void 0===n.contextId&&(dn="contextId")){const Yt={instancePath:r,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:dn},message:"must have required property '"+dn+"'"};null===a?a=[Yt]:a.push(Yt),c++}else if(void 0!==n.descriptor){let Yt=n.descriptor;if(c==c)if(Yt&&"object"==typeof Yt&&!Array.isArray(Yt)){let In;if(void 0===Yt.protocol&&(In="protocol")||void 0===Yt.protocolPath&&(In="protocolPath")){const _n={instancePath:r+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===a?a=[_n]:a.push(_n),c++}}else{const In={instancePath:r+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[In]:a.push(In),c++}}}var Je=j===c;if(m=m||Je,Je)var oe={descriptor:!0};const le=c,ue=c,pe=c,we=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let dn;if(void 0===n.contextId&&(dn="contextId")){const Yt={};null===a?a=[Yt]:a.push(Yt),c++}}if(we===c){const dn={instancePath:r,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[dn]:a.push(dn),c++}else c=pe,null!==a&&(pe?a.length=pe:a=null);if(ue===c){const dn=c;if(n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.descriptor){let Cn=n.descriptor;if(!Cn||"object"!=typeof Cn||Array.isArray(Cn)){const $t={instancePath:r+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[$t]:a.push($t),c++}const In=c,_n=c;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let $t;if(void 0===Cn.protocol&&($t="protocol")){const gn={};null===a?a=[gn]:a.push(gn),c++}}if(_n===c){const $t={instancePath:r+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[$t]:a.push($t),c++}else c=In,null!==a&&(In?a.length=In:a=null)}if(dn===c&&n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.descriptor){let _n=n.descriptor;if(!_n||"object"!=typeof _n||Array.isArray(_n)){const un={instancePath:r+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[un]:a.push(un),c++}const $t=c,gn=c;if(_n&&"object"==typeof _n&&!Array.isArray(_n)){let un;if(void 0===_n.protocolPath&&(un="protocolPath")){const pn={};null===a?a=[pn]:a.push(pn),c++}}if(gn===c){const un={instancePath:r+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[un]:a.push(un),c++}else c=$t,null!==a&&($t?a.length=$t:a=null)}}if(Je=le===c,m=m||Je,Je&&!0!==oe&&((oe=oe||{}).descriptor=!0),!m){const dn={instancePath:r,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===a?a=[dn]:a.push(dn),c++,pr.errors=a,!1}if(c=E,null!==a&&(E?a.length=E:a=null),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return pr.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let dn;if(void 0===n.descriptor&&(dn="descriptor"))return pr.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:dn},message:"must have required property '"+dn+"'"}],!1;if(!0!==oe&&((oe=oe||{}).recordId=!0,oe.contextId=!0,oe.attestation=!0,oe.authorization=!0,oe.encryption=!0,oe.descriptor=!0),void 0!==n.recordId){const Yt=c;if("string"!=typeof n.recordId)return pr.errors=[{instancePath:r+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Qe=Yt===c}else Qe=!0;if(Qe){if(void 0!==n.contextId){let Yt=n.contextId;const Cn=c;if(c===Cn){if("string"!=typeof Yt)return pr.errors=[{instancePath:r+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!p_e.test(Yt))return pr.errors=[{instancePath:r+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Qe=Cn===c}else Qe=!0;if(Qe){if(void 0!==n.attestation){const Yt=c;Is(n.attestation,{instancePath:r+"/attestation",parentData:n,parentDataProperty:"attestation",rootData:s,dynamicAnchors:o})||(a=null===a?Is.errors:a.concat(Is.errors),c=a.length),Qe=Yt===c}else Qe=!0;if(Qe){if(void 0!==n.authorization){const Yt=c;ym(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?ym.errors:a.concat(ym.errors),c=a.length),Qe=Yt===c}else Qe=!0;if(Qe){if(void 0!==n.encryption){let Yt=n.encryption;const Cn=c;if(c===Cn){if(!Yt||"object"!=typeof Yt||Array.isArray(Yt))return pr.errors=[{instancePath:r+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _n;if(void 0===Yt.algorithm&&(_n="algorithm")||void 0===Yt.initializationVector&&(_n="initializationVector")||void 0===Yt.keyEncryption&&(_n="keyEncryption"))return pr.errors=[{instancePath:r+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"}],!1;{const $t=c;for(const gn in Yt)if("algorithm"!==gn&&"initializationVector"!==gn&&"keyEncryption"!==gn)return pr.errors=[{instancePath:r+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"}],!1;if($t===c){if(void 0!==Yt.algorithm){let gn=Yt.algorithm;const un=c;if("string"!=typeof gn)return pr.errors=[{instancePath:r+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==gn)return pr.errors=[{instancePath:r+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:kv.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var tt=un===c}else tt=!0;if(tt){if(void 0!==Yt.initializationVector){let gn=Yt.initializationVector;const un=c;if(c==c){if("string"!=typeof gn)return pr.errors=[{instancePath:r+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(gn))return pr.errors=[{instancePath:r+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}tt=un===c}else tt=!0;if(tt)if(void 0!==Yt.keyEncryption){let gn=Yt.keyEncryption;const un=c;if(c===un){if(!Array.isArray(gn))return pr.errors=[{instancePath:r+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(gn.length<1)return pr.errors=[{instancePath:r+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Gt=gn.length;for(let Ht=0;Ht<Gt;Ht++){let yn=gn[Ht];const Pn=c;if(c===Pn){if(!yn||"object"!=typeof yn||Array.isArray(yn))return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rn;if(void 0===yn.rootKeyId&&(rn="rootKeyId")||void 0===yn.derivationScheme&&(rn="derivationScheme")||void 0===yn.algorithm&&(rn="algorithm")||void 0===yn.encryptedKey&&(rn="encryptedKey")||void 0===yn.initializationVector&&(rn="initializationVector")||void 0===yn.ephemeralPublicKey&&(rn="ephemeralPublicKey")||void 0===yn.messageAuthenticationCode&&(rn="messageAuthenticationCode"))return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"}],!1;{const bn=c;for(const On in yn)if("rootKeyId"!==On&&"derivationScheme"!==On&&"derivedPublicKey"!==On&&"algorithm"!==On&&"encryptedKey"!==On&&"initializationVector"!==On&&"ephemeralPublicKey"!==On&&"messageAuthenticationCode"!==On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(bn===c){if(void 0!==yn.rootKeyId){const On=c;if("string"!=typeof yn.rootKeyId)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var xt=On===c}else xt=!0;if(xt){if(void 0!==yn.derivationScheme){let On=yn.derivationScheme;const rr=c;if("string"!=typeof On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==On&&"protocolContext"!==On&&"protocolPath"!==On&&"schemas"!==On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:kv.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;xt=rr===c}else xt=!0;if(xt){if(void 0!==yn.derivedPublicKey){const On=c;Ps(yn.derivedPublicKey,{instancePath:r+"/encryption/keyEncryption/"+Ht+"/derivedPublicKey",parentData:yn,parentDataProperty:"derivedPublicKey",rootData:s,dynamicAnchors:o})||(a=null===a?Ps.errors:a.concat(Ps.errors),c=a.length),xt=On===c}else xt=!0;if(xt){if(void 0!==yn.algorithm){let On=yn.algorithm;const rr=c;if("string"!=typeof On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:kv.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;xt=rr===c}else xt=!0;if(xt){if(void 0!==yn.encryptedKey){let On=yn.encryptedKey;const rr=c;if(c==c){if("string"!=typeof On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(On))return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xt=rr===c}else xt=!0;if(xt){if(void 0!==yn.initializationVector){let On=yn.initializationVector;const rr=c;if(c==c){if("string"!=typeof On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(On))return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xt=rr===c}else xt=!0;if(xt){if(void 0!==yn.ephemeralPublicKey){const On=c;Ps(yn.ephemeralPublicKey,{instancePath:r+"/encryption/keyEncryption/"+Ht+"/ephemeralPublicKey",parentData:yn,parentDataProperty:"ephemeralPublicKey",rootData:s,dynamicAnchors:o})||(a=null===a?Ps.errors:a.concat(Ps.errors),c=a.length),xt=On===c}else xt=!0;if(xt)if(void 0!==yn.messageAuthenticationCode){let On=yn.messageAuthenticationCode;const rr=c;if(c==c){if("string"!=typeof On)return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ew.test(On))return pr.errors=[{instancePath:r+"/encryption/keyEncryption/"+Ht+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xt=rr===c}else xt=!0}}}}}}}}}}if(Pn!==c)break}}}tt=un===c}else tt=!0}}}}}Qe=Cn===c}else Qe=!0;if(Qe)if(void 0!==n.descriptor){let Yt=n.descriptor;const Cn=c,In=c;let _n=!1;const $t=c;if(Yt&&"object"==typeof Yt&&!Array.isArray(Yt)){let rn;if(void 0===Yt.published&&(rn="published")||void 0===Yt.datePublished&&(rn="datePublished")){const bn={instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"};null===a?a=[bn]:a.push(bn),c++}else if(void 0!==Yt.published){let bn=Yt.published;if("boolean"!=typeof bn){const On={instancePath:r+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[On]:a.push(On),c++}if(!0!==bn){const On={instancePath:r+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:kv.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[On]:a.push(On),c++}}}var vt=$t===c;if(_n=_n||vt,vt)var Ct={published:!0};const gn=c,un=c,pn=c;if(Yt&&"object"==typeof Yt&&!Array.isArray(Yt)){let rn;if(void 0===Yt.datePublished&&(rn="datePublished")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(pn===c){const rn={instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[rn]:a.push(rn),c++}else c=un,null!==a&&(un?a.length=un:a=null);if(c===gn&&Yt&&"object"==typeof Yt&&!Array.isArray(Yt)&&void 0!==Yt.published){let rn=Yt.published;if("boolean"!=typeof rn){const bn={instancePath:r+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[bn]:a.push(bn),c++}if(!1!==rn){const bn={instancePath:r+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:kv.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[bn]:a.push(bn),c++}}vt=gn===c,_n=_n||vt,vt&&!0!==Ct&&((Ct=Ct||{}).published=!0);const Gt=c,Ht=c,yn=c,Pn=c;if(Yt&&"object"==typeof Yt&&!Array.isArray(Yt)){let rn;if(void 0===Yt.published&&(rn="published")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Pn===c){const rn={instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[rn]:a.push(rn),c++}else c=yn,null!==a&&(yn?a.length=yn:a=null);if(Ht===c){const bn=c,On=c;if(Yt&&"object"==typeof Yt&&!Array.isArray(Yt)){let sr;if(void 0===Yt.datePublished&&(sr="datePublished")){const Sf={};null===a?a=[Sf]:a.push(Sf),c++}}if(On===c){const sr={instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[sr]:a.push(sr),c++}else c=bn,null!==a&&(bn?a.length=bn:a=null)}if(vt=Gt===c,_n=_n||vt,!_n){const rn={instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===a?a=[rn]:a.push(rn),c++,pr.errors=a,!1}if(c=In,null!==a&&(In?a.length=In:a=null),c===Cn){if(!Yt||"object"!=typeof Yt||Array.isArray(Yt))return pr.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rn;if(void 0===Yt.interface&&(rn="interface")||void 0===Yt.method&&(rn="method")||void 0===Yt.dataCid&&(rn="dataCid")||void 0===Yt.dataSize&&(rn="dataSize")||void 0===Yt.dateCreated&&(rn="dateCreated")||void 0===Yt.messageTimestamp&&(rn="messageTimestamp")||void 0===Yt.dataFormat&&(rn="dataFormat"))return pr.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"}],!1;{const bn=c;for(const On in Yt)if(!Ate.call(kv.properties.descriptor.properties,On))return pr.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(bn===c){let On;if(void 0!==Yt.parentId&&void 0===Yt.protocol&&(On="protocol"))return pr.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:On,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Yt.interface){let rr=Yt.interface;const sr=c;if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==rr)return pr.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:kv.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.method){let rr=Yt.method;const sr=c;if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==rr)return pr.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:kv.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.recipient){let rr=Yt.recipient;const sr=c;if(c==c){if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Iv.test(rr))return pr.errors=[{instancePath:r+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.protocol){const rr=c;if("string"!=typeof Yt.protocol)return pr.errors=[{instancePath:r+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=rr===c}else Et=!0;if(Et){if(void 0!==Yt.protocolPath){let rr=Yt.protocolPath;const sr=c;if(c===sr){if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!m_e.test(rr))return pr.errors=[{instancePath:r+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.schema){const rr=c;if("string"!=typeof Yt.schema)return pr.errors=[{instancePath:r+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=rr===c}else Et=!0;if(Et){if(void 0!==Yt.tags){let rr=Yt.tags;const sr=c;if(c===sr){if(!rr||"object"!=typeof rr||Array.isArray(rr))return pr.errors=[{instancePath:r+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(rr).length>10)return pr.errors=[{instancePath:r+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(rr).length<1)return pr.errors=[{instancePath:r+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const ji in rr){let lo=rr[ji];const Ch=c,Ec=c;let Ii=!1,Fi=null;const Cs=c;if("string"!=typeof lo){const jr={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[jr]:a.push(jr),c++}(Dt=Cs===c)&&(Ii=!0,Fi=0);const as=c;if("number"!=typeof lo||!isFinite(lo)){const jr={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[jr]:a.push(jr),c++}if((Dt=as===c)&&Ii)Ii=!1,Fi=[Fi,1];else{Dt&&(Ii=!0,Fi=1);const jr=c;if("boolean"!=typeof lo){const Ba={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[Ba]:a.push(Ba),c++}if((Dt=jr===c)&&Ii)Ii=!1,Fi=[Fi,2];else{Dt&&(Ii=!0,Fi=2);const Ba=c;if(c===Ba)if(Array.isArray(lo))if(lo.length>10){const ya={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===a?a=[ya]:a.push(ya),c++}else if(lo.length<1){const ya={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[ya]:a.push(ya),c++}else{const ya=lo.length;for(let hL=0;hL<ya;hL++){const Ah=c;if("string"!=typeof lo[hL]){const p8={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+hL,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[p8]:a.push(p8),c++}if(Ah!==c)break}}else{const ya={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[ya]:a.push(ya),c++}if((Dt=Ba===c)&&Ii)Ii=!1,Fi=[Fi,3];else{if(Dt){Ii=!0,Fi=3;var Ft=!0}const ya=c;if(c===ya)if(Array.isArray(lo))if(lo.length>10){const Ah={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===a?a=[Ah]:a.push(Ah),c++}else if(lo.length<1){const Ah={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[Ah]:a.push(Ah),c++}else{const Ah=lo.length;for(let pL=0;pL<Ah;pL++){let p8=lo[pL];const Qze=c;if("number"!=typeof p8||!isFinite(p8)){const ipe={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+pL,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[ipe]:a.push(ipe),c++}if(Qze!==c)break}}else{const Ah={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Ah]:a.push(Ah),c++}var Dt;(Dt=ya===c)&&Ii?(Ii=!1,Fi=[Fi,4]):Dt&&(Ii=!0,Fi=4,!0!==Ft&&(Ft=!0))}}}if(!Ii){const jr={instancePath:r+"/descriptor/tags/"+ji.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Fi},message:"must match exactly one schema in oneOf"};return null===a?a=[jr]:a.push(jr),c++,pr.errors=a,!1}if(c=Ec,null!==a&&(Ec?a.length=Ec:a=null),Ch!==c)break}}Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.parentId){const rr=c;if("string"!=typeof Yt.parentId)return pr.errors=[{instancePath:r+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=rr===c}else Et=!0;if(Et){if(void 0!==Yt.dataCid){const rr=c;if("string"!=typeof Yt.dataCid)return pr.errors=[{instancePath:r+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=rr===c}else Et=!0;if(Et){if(void 0!==Yt.dataSize){let rr=Yt.dataSize;const sr=c;if("number"!=typeof rr||!isFinite(rr))return pr.errors=[{instancePath:r+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.dateCreated){let rr=Yt.dateCreated;const sr=c;if(c==c){if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(rr))return pr.errors=[{instancePath:r+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.messageTimestamp){let rr=Yt.messageTimestamp;const sr=c;if(c==c){if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(rr))return pr.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Et=sr===c}else Et=!0;if(Et){if(void 0!==Yt.published){const rr=c;if("boolean"!=typeof Yt.published)return pr.errors=[{instancePath:r+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Et=rr===c}else Et=!0;if(Et){if(void 0!==Yt.datePublished){let rr=Yt.datePublished;const sr=c;if(c==c){if("string"!=typeof rr)return pr.errors=[{instancePath:r+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(rr))return pr.errors=[{instancePath:r+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Et=sr===c}else Et=!0;if(Et)if(void 0!==Yt.dataFormat){const rr=c;if("string"!=typeof Yt.dataFormat)return pr.errors=[{instancePath:r+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=rr===c}else Et=!0}}}}}}}}}}}}}}}}}Qe=Cn===c}else Qe=!0}}}}}}return pr.errors=a,_.props=oe,0===c}function oh(n,{instancePath:r="",parentData:t,parentDataProperty:i,rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=oh.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),pr(n,{instancePath:r,parentData:t,parentDataProperty:i,rootData:s,dynamicAnchors:o}))var E=pr.evaluated.props;else a=null===a?pr.errors:a.concat(pr.errors),c=a.length;if(0===c){if(!n||"object"!=typeof n||Array.isArray(n))return oh.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.recordId&&(j="recordId")||void 0===n.authorization&&(j="authorization")||void 0===n.encodedData&&(j="encodedData"))return oh.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;if(!0!==E&&((E=E||{}).encodedData=!0),void 0!==n.encodedData){const oe=c;if("string"!=typeof n.encodedData)return oh.errors=[{instancePath:r+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=oe===c}else m=!0;if(m&&!0!==E)for(const oe in n)if(!E||!E[oe])return oh.errors=[{instancePath:r,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:oe},message:"must NOT have unevaluated properties"}],!1}}return oh.errors=a,0===c}function Da(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Da.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Da.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const m=c;for(const j in n)if("signature"!==j&&"authorDelegatedGrant"!==j)return Da.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:j},message:"must NOT have additional properties"}],!1;if(m===c){if(void 0!==n.signature){const j=c;Is(n.signature,{instancePath:r+"/signature",parentData:n,parentDataProperty:"signature",rootData:s,dynamicAnchors:o})||(a=null===a?Is.errors:a.concat(Is.errors),c=a.length);var E=j===c}else E=!0;if(E)if(void 0!==n.authorDelegatedGrant){const j=c;oh(n.authorDelegatedGrant,{instancePath:r+"/authorDelegatedGrant",parentData:n,parentDataProperty:"authorDelegatedGrant",rootData:s,dynamicAnchors:o})||(a=null===a?oh.errors:a.concat(oh.errors),c=a.length),E=j===c}else E=!0}}}return Da.errors=a,0===c}pr.evaluated={dynamicProps:!0,dynamicItems:!1},oh.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Da.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const g_e=ym,y_e=$c,Tte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function $c(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=$c.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return $c.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.authorization&&(j="authorization")||void 0===n.descriptor&&(j="descriptor"))return $c.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{const oe=c;for(const le in n)if("authorization"!==le&&"descriptor"!==le)return $c.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(oe===c){if(void 0!==n.authorization){const le=c;Da(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?Da.errors:a.concat(Da.errors),c=a.length);var E=le===c}else E=!0;if(E)if(void 0!==n.descriptor){let le=n.descriptor;const ue=c;if(c===ue){if(!le||"object"!=typeof le||Array.isArray(le))return $c.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let we;if(void 0===le.interface&&(we="interface")||void 0===le.method&&(we="method")||void 0===le.messageTimestamp&&(we="messageTimestamp")||void 0===le.recordId&&(we="recordId")||void 0===le.prune&&(we="prune"))return $c.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"}],!1;{const Oe=c;for(const Pe in le)if("interface"!==Pe&&"method"!==Pe&&"messageTimestamp"!==Pe&&"recordId"!==Pe&&"prune"!==Pe)return $c.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Oe===c){if(void 0!==le.interface){let Pe=le.interface;const Ie=c;if("string"!=typeof Pe)return $c.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Pe)return $c.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Tte.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Ie===c}else m=!0;if(m){if(void 0!==le.method){let Pe=le.method;const Ie=c;if("string"!=typeof Pe)return $c.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==Pe)return $c.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Tte.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Ie===c}else m=!0;if(m){if(void 0!==le.messageTimestamp){let Pe=le.messageTimestamp;const Ie=c;if(c==c){if("string"!=typeof Pe)return $c.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Pe))return $c.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Ie===c}else m=!0;if(m){if(void 0!==le.recordId){const Pe=c;if("string"!=typeof le.recordId)return $c.errors=[{instancePath:r+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=Pe===c}else m=!0;if(m)if(void 0!==le.prune){const Pe=c;if("boolean"!=typeof le.prune)return $c.errors=[{instancePath:r+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;m=Pe===c}else m=!0}}}}}}}E=ue===c}else E=!0}}}}return $c.errors=a,0===c}$c.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const v_e=Zs,XU={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},YU={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},Dte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{oneOf:[{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}]},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{oneOf:[{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}]},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function xr(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=xr.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return xr.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(n).length<1)return xr.errors=[{instancePath:r,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const _n=c;for(const $t in n)if(!Ate.call(Dte.properties,$t))return xr.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$t},message:"must NOT have additional properties"}],!1;if(_n===c){if(void 0!==n.datePublished){const $t=c,gn=c;let un=!1,pn=null;const Gt=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $n;if(void 0===n.published&&($n="published")){const rn={instancePath:r,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:$n},message:"must have required property '"+$n+"'"};null===a?a=[rn]:a.push(rn),c++}else if(void 0!==n.published&&!0!==n.published){const rn={instancePath:r+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Dte.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[rn]:a.push(rn),c++}}Gt===c&&(un=!0,pn=0);const Ht=c,yn=c,Pn=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $n;if(void 0===n.published&&($n="published")){const rn={};null===a?a=[rn]:a.push(rn),c++}}var j;if(Pn===c){const $n={instancePath:r,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[$n]:a.push($n),c++}else c=yn,null!==a&&(yn?a.length=yn:a=null);if((j=Ht===c)&&un?(un=!1,pn=[pn,1]):j&&(un=!0,pn=1),!un){const $n={instancePath:r,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:pn},message:"must match exactly one schema in oneOf"};return null===a?a=[$n]:a.push($n),c++,xr.errors=a,!1}c=gn,null!==a&&(gn?a.length=gn:a=null);var oe=$t===c}else oe=!0;if(oe){if(void 0!==n.protocol){const $t=c;if("string"!=typeof n.protocol)return xr.errors=[{instancePath:r+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var le=$t===c}else le=!0;if(le){if(void 0!==n.protocolPath){const $t=c;if("string"!=typeof n.protocolPath)return xr.errors=[{instancePath:r+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.author){let $t=n.author;const gn=c,un=c;let pn=!1,Gt=null;const Ht=c;if(c==c)if("string"==typeof $t){if(!Iv.test($t)){const rn={instancePath:r+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'};null===a?a=[rn]:a.push(rn),c++}}else{const rn={instancePath:r+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[rn]:a.push(rn),c++}Ht===c&&(pn=!0,Gt=0);const Pn=c;if(c===Pn)if(Array.isArray($t)){const rn=$t.length;for(let bn=0;bn<rn;bn++){let On=$t[bn];const rr=c;if(c==c)if("string"==typeof On){if(!Iv.test(On)){const ji={instancePath:r+"/author/"+bn,schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'};null===a?a=[ji]:a.push(ji),c++}}else{const ji={instancePath:r+"/author/"+bn,schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ji]:a.push(ji),c++}if(rr!==c)break}}else{const rn={instancePath:r+"/author",schemaPath:"#/properties/author/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[rn]:a.push(rn),c++}var pe;if((pe=Pn===c)&&pn?(pn=!1,Gt=[Gt,1]):pe&&(pn=!0,Gt=1),!pn){const rn={instancePath:r+"/author",schemaPath:"#/properties/author/oneOf",keyword:"oneOf",params:{passingSchemas:Gt},message:"must match exactly one schema in oneOf"};return null===a?a=[rn]:a.push(rn),c++,xr.errors=a,!1}c=un,null!==a&&(un?a.length=un:a=null),le=gn===c}else le=!0;if(le){if(void 0!==n.attester){let $t=n.attester;const gn=c;if(c==c){if("string"!=typeof $t)return xr.errors=[{instancePath:r+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Iv.test($t))return xr.errors=[{instancePath:r+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}le=gn===c}else le=!0;if(le){if(void 0!==n.recipient){let $t=n.recipient;const gn=c,un=c;let pn=!1,Gt=null;const Ht=c;if(c==c)if("string"==typeof $t){if(!Iv.test($t)){const rn={instancePath:r+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'};null===a?a=[rn]:a.push(rn),c++}}else{const rn={instancePath:r+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[rn]:a.push(rn),c++}Ht===c&&(pn=!0,Gt=0);const Pn=c;if(c===Pn)if(Array.isArray($t)){const rn=$t.length;for(let bn=0;bn<rn;bn++){let On=$t[bn];const rr=c;if(c==c)if("string"==typeof On){if(!Iv.test(On)){const ji={instancePath:r+"/recipient/"+bn,schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'};null===a?a=[ji]:a.push(ji),c++}}else{const ji={instancePath:r+"/recipient/"+bn,schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ji]:a.push(ji),c++}if(rr!==c)break}}else{const rn={instancePath:r+"/recipient",schemaPath:"#/properties/recipient/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[rn]:a.push(rn),c++}var Oe;if((Oe=Pn===c)&&pn?(pn=!1,Gt=[Gt,1]):Oe&&(pn=!0,Gt=1),!pn){const rn={instancePath:r+"/recipient",schemaPath:"#/properties/recipient/oneOf",keyword:"oneOf",params:{passingSchemas:Gt},message:"must match exactly one schema in oneOf"};return null===a?a=[rn]:a.push(rn),c++,xr.errors=a,!1}c=un,null!==a&&(un?a.length=un:a=null),le=gn===c}else le=!0;if(le){if(void 0!==n.contextId){const $t=c;if("string"!=typeof n.contextId)return xr.errors=[{instancePath:r+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.schema){const $t=c;if("string"!=typeof n.schema)return xr.errors=[{instancePath:r+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.tags){let $t=n.tags;const gn=c;if(c===gn){if(!$t||"object"!=typeof $t||Array.isArray($t))return xr.errors=[{instancePath:r+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return xr.errors=[{instancePath:r+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const pn in $t){let Gt=$t[pn];const Ht=c,yn=c;let Pn=!1,$n=null;const rn=c;if("string"!=typeof Gt){const On={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[On]:a.push(On),c++}(Pe=rn===c)&&(Pn=!0,$n=0);const bn=c;if("number"!=typeof Gt||!isFinite(Gt)){const On={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[On]:a.push(On),c++}if((Pe=bn===c)&&Pn)Pn=!1,$n=[$n,1];else{Pe&&(Pn=!0,$n=1);const On=c;if("boolean"!=typeof Gt){const sr={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[sr]:a.push(sr),c++}if((Pe=On===c)&&Pn)Pn=!1,$n=[$n,2];else{Pe&&(Pn=!0,$n=2);const sr=c;if(c===sr)if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt))if(Object.keys(Gt).length<1){const ji={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[ji]:a.push(ji),c++}else{const ji=c;for(const lo in Gt)if("startsWith"!==lo){const Ch={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:lo},message:"must NOT have additional properties"};null===a?a=[Ch]:a.push(Ch),c++;break}if(ji===c&&void 0!==Gt.startsWith&&"string"!=typeof Gt.startsWith){const lo={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[lo]:a.push(lo),c++}}else{const ji={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[ji]:a.push(ji),c++}if((Pe=sr===c)&&Pn)Pn=!1,$n=[$n,3];else{if(Pe){Pn=!0,$n=3;var Ie=!0}const ji=c;if(c==c)if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt))if(Object.keys(Gt).length<1){const Ec={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[Ec]:a.push(Ec),c++}else{const Ec=c;for(const Ii in Gt)if("gt"!==Ii&&"gte"!==Ii&&"lt"!==Ii&&"lte"!==Ii){const Fi={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ii},message:"must NOT have additional properties"};null===a?a=[Fi]:a.push(Fi),c++;break}if(Ec===c){if(void 0!==Gt.gt){const Ii=c,Fi=c,Cs=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let as;if(void 0===Gt.gte&&(as="gte")){const jr={};null===a?a=[jr]:a.push(jr),c++}}if(Cs===c){const as={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[as]:a.push(as),c++}else c=Fi,null!==a&&(Fi?a.length=Fi:a=null);var Je=Ii===c}else Je=!0;if(Je){if(void 0!==Gt.gte){const Ii=c,Fi=c,Cs=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let jr;if(void 0===Gt.gt&&(jr="gt")){const Na={};null===a?a=[Na]:a.push(Na),c++}}if(Cs===c){const jr={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[jr]:a.push(jr),c++}else c=Fi,null!==a&&(Fi?a.length=Fi:a=null);Je=Ii===c}else Je=!0;if(Je){if(void 0!==Gt.lt){const Ii=c,Fi=c,Cs=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let jr;if(void 0===Gt.lte&&(jr="lte")){const Na={};null===a?a=[Na]:a.push(Na),c++}}if(Cs===c){const jr={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[jr]:a.push(jr),c++}else c=Fi,null!==a&&(Fi?a.length=Fi:a=null);Je=Ii===c}else Je=!0;if(Je){if(void 0!==Gt.lte){const Ii=c,Fi=c,Cs=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let jr;if(void 0===Gt.lt&&(jr="lt")){const Na={};null===a?a=[Na]:a.push(Na),c++}}if(Cs===c){const jr={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[jr]:a.push(jr),c++}else c=Fi,null!==a&&(Fi?a.length=Fi:a=null);Je=Ii===c}else Je=!0;if(Je){if(void 0!==Gt.gt){const Ii=c;if("string"!=typeof Gt.gt){const Fi={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fi]:a.push(Fi),c++}var xt=Ii===c}else xt=!0;if(xt){if(void 0!==Gt.gte){const Ii=c;if("string"!=typeof Gt.gte){const Cs={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Cs]:a.push(Cs),c++}xt=Ii===c}else xt=!0;if(xt){if(void 0!==Gt.lt){const Ii=c;if("string"!=typeof Gt.lt){const Cs={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Cs]:a.push(Cs),c++}xt=Ii===c}else xt=!0;if(xt)if(void 0!==Gt.lte){const Ii=c;if("string"!=typeof Gt.lte){const Cs={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Cs]:a.push(Cs),c++}xt=Ii===c}else xt=!0}}}}}}}}else{const Ec={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ec]:a.push(Ec),c++}if((Pe=ji===c)&&Pn)Pn=!1,$n=[$n,4];else{Pe&&(Pn=!0,$n=4,!0!==Ie&&(Ie=!0));const Ec=c;if(c==c)if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt))if(Object.keys(Gt).length<1){const Cs={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[Cs]:a.push(Cs),c++}else{const Cs=c;for(const as in Gt)if("gt"!==as&&"gte"!==as&&"lt"!==as&&"lte"!==as){const jr={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:as},message:"must NOT have additional properties"};null===a?a=[jr]:a.push(jr),c++;break}if(Cs===c){if(void 0!==Gt.gt){const as=c,jr=c,Na=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Ba;if(void 0===Gt.gte&&(Ba="gte")){const Sc={};null===a?a=[Sc]:a.push(Sc),c++}}if(Na===c){const Ba={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ba]:a.push(Ba),c++}else c=jr,null!==a&&(jr?a.length=jr:a=null);var Tt=as===c}else Tt=!0;if(Tt){if(void 0!==Gt.gte){const as=c,jr=c,Na=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Sc;if(void 0===Gt.gt&&(Sc="gt")){const ya={};null===a?a=[ya]:a.push(ya),c++}}if(Na===c){const Sc={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Sc]:a.push(Sc),c++}else c=jr,null!==a&&(jr?a.length=jr:a=null);Tt=as===c}else Tt=!0;if(Tt){if(void 0!==Gt.lt){const as=c,jr=c,Na=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Sc;if(void 0===Gt.lte&&(Sc="lte")){const ya={};null===a?a=[ya]:a.push(ya),c++}}if(Na===c){const Sc={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Sc]:a.push(Sc),c++}else c=jr,null!==a&&(jr?a.length=jr:a=null);Tt=as===c}else Tt=!0;if(Tt){if(void 0!==Gt.lte){const as=c,jr=c,Na=c;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Sc;if(void 0===Gt.lt&&(Sc="lt")){const ya={};null===a?a=[ya]:a.push(ya),c++}}if(Na===c){const Sc={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Sc]:a.push(Sc),c++}else c=jr,null!==a&&(jr?a.length=jr:a=null);Tt=as===c}else Tt=!0;if(Tt){if(void 0!==Gt.gt){let as=Gt.gt;const jr=c;if("number"!=typeof as||!isFinite(as)){const Na={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Na]:a.push(Na),c++}var vt=jr===c}else vt=!0;if(vt){if(void 0!==Gt.gte){let as=Gt.gte;const jr=c;if("number"!=typeof as||!isFinite(as)){const Ba={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ba]:a.push(Ba),c++}vt=jr===c}else vt=!0;if(vt){if(void 0!==Gt.lt){let as=Gt.lt;const jr=c;if("number"!=typeof as||!isFinite(as)){const Ba={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ba]:a.push(Ba),c++}vt=jr===c}else vt=!0;if(vt)if(void 0!==Gt.lte){let as=Gt.lte;const jr=c;if("number"!=typeof as||!isFinite(as)){const Ba={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ba]:a.push(Ba),c++}vt=jr===c}else vt=!0}}}}}}}}else{const Cs={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Cs]:a.push(Cs),c++}var Pe;(Pe=Ec===c)&&Pn?(Pn=!1,$n=[$n,5]):Pe&&(Pn=!0,$n=5,!0!==Ie&&(Ie=!0))}}}}if(!Pn){const On={instancePath:r+"/tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:$n},message:"must match exactly one schema in oneOf"};return null===a?a=[On]:a.push(On),c++,xr.errors=a,!1}if(c=yn,null!==a&&(yn?a.length=yn:a=null),Ht!==c)break}}le=gn===c}else le=!0;if(le){if(void 0!==n.recordId){const $t=c;if("string"!=typeof n.recordId)return xr.errors=[{instancePath:r+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.parentId){const $t=c;if("string"!=typeof n.parentId)return xr.errors=[{instancePath:r+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.published){const $t=c;if("boolean"!=typeof n.published)return xr.errors=[{instancePath:r+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.dataFormat){const $t=c;if("string"!=typeof n.dataFormat)return xr.errors=[{instancePath:r+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.dataSize){let $t=n.dataSize;const gn=c;if(c==c){if(!$t||"object"!=typeof $t||Array.isArray($t))return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Gt=c;for(const Ht in $t)if("gt"!==Ht&&"gte"!==Ht&&"lt"!==Ht&&"lte"!==Ht)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"}],!1;if(Gt===c){if(void 0!==$t.gt){const Ht=c,yn=c,Pn=c;if($t&&"object"==typeof $t&&!Array.isArray($t)){let $n;if(void 0===$t.gte&&($n="gte")){const rn={};null===a?a=[rn]:a.push(rn),c++}}if(Pn===c)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=yn,null!==a&&(yn?a.length=yn:a=null);var jt=Ht===c}else jt=!0;if(jt){if(void 0!==$t.gte){const Ht=c,yn=c,Pn=c;if($t&&"object"==typeof $t&&!Array.isArray($t)){let rn;if(void 0===$t.gt&&(rn="gt")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Pn===c)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=yn,null!==a&&(yn?a.length=yn:a=null),jt=Ht===c}else jt=!0;if(jt){if(void 0!==$t.lt){const Ht=c,yn=c,Pn=c;if($t&&"object"==typeof $t&&!Array.isArray($t)){let rn;if(void 0===$t.lte&&(rn="lte")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Pn===c)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=yn,null!==a&&(yn?a.length=yn:a=null),jt=Ht===c}else jt=!0;if(jt){if(void 0!==$t.lte){const Ht=c,yn=c,Pn=c;if($t&&"object"==typeof $t&&!Array.isArray($t)){let rn;if(void 0===$t.lt&&(rn="lt")){const bn={};null===a?a=[bn]:a.push(bn),c++}}if(Pn===c)return xr.errors=[{instancePath:r+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=yn,null!==a&&(yn?a.length=yn:a=null),jt=Ht===c}else jt=!0;if(jt){if(void 0!==$t.gt){let Ht=$t.gt;const yn=c;if("number"!=typeof Ht||!isFinite(Ht))return xr.errors=[{instancePath:r+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var dn=yn===c}else dn=!0;if(dn){if(void 0!==$t.gte){let Ht=$t.gte;const yn=c;if("number"!=typeof Ht||!isFinite(Ht))return xr.errors=[{instancePath:r+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;dn=yn===c}else dn=!0;if(dn){if(void 0!==$t.lt){let Ht=$t.lt;const yn=c;if("number"!=typeof Ht||!isFinite(Ht))return xr.errors=[{instancePath:r+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;dn=yn===c}else dn=!0;if(dn)if(void 0!==$t.lte){let Ht=$t.lte;const yn=c;if("number"!=typeof Ht||!isFinite(Ht))return xr.errors=[{instancePath:r+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;dn=yn===c}else dn=!0}}}}}}}}}le=gn===c}else le=!0;if(le){if(void 0!==n.dataCid){const $t=c;if("string"!=typeof n.dataCid)return xr.errors=[{instancePath:r+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;le=$t===c}else le=!0;if(le){if(void 0!==n.dateCreated){let $t=n.dateCreated;const gn=c;if(c===gn){if(!$t||"object"!=typeof $t||Array.isArray($t))return xr.errors=[{instancePath:r+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return xr.errors=[{instancePath:r+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pn=c;for(const Gt in $t)if("from"!==Gt&&"to"!==Gt)return xr.errors=[{instancePath:r+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gt},message:"must NOT have additional properties"}],!1;if(pn===c){if(void 0!==$t.from){let Gt=$t.from;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Yt=Ht===c}else Yt=!0;if(Yt)if(void 0!==$t.to){let Gt=$t.to;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yt=Ht===c}else Yt=!0}}}le=gn===c}else le=!0;if(le){if(void 0!==n.datePublished){let $t=n.datePublished;const gn=c;if(c===gn){if(!$t||"object"!=typeof $t||Array.isArray($t))return xr.errors=[{instancePath:r+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return xr.errors=[{instancePath:r+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pn=c;for(const Gt in $t)if("from"!==Gt&&"to"!==Gt)return xr.errors=[{instancePath:r+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gt},message:"must NOT have additional properties"}],!1;if(pn===c){if(void 0!==$t.from){let Gt=$t.from;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Cn=Ht===c}else Cn=!0;if(Cn)if(void 0!==$t.to){let Gt=$t.to;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Cn=Ht===c}else Cn=!0}}}le=gn===c}else le=!0;if(le)if(void 0!==n.dateUpdated){let $t=n.dateUpdated;const gn=c;if(c===gn){if(!$t||"object"!=typeof $t||Array.isArray($t))return xr.errors=[{instancePath:r+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return xr.errors=[{instancePath:r+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pn=c;for(const Gt in $t)if("from"!==Gt&&"to"!==Gt)return xr.errors=[{instancePath:r+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gt},message:"must NOT have additional properties"}],!1;if(pn===c){if(void 0!==$t.from){let Gt=$t.from;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var In=Ht===c}else In=!0;if(In)if(void 0!==$t.to){let Gt=$t.to;const Ht=c;if(c==c){if("string"!=typeof Gt)return xr.errors=[{instancePath:r+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Gt))return xr.errors=[{instancePath:r+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}In=Ht===c}else In=!0}}}le=gn===c}else le=!0}}}}}}}}}}}}}}}}}}}return xr.errors=a,0===c}function Zs(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Zs.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Zs.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let le;if(void 0===n.descriptor&&(le="descriptor"))return Zs.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:le},message:"must have required property '"+le+"'"}],!1;{const ue=c;for(const pe in n)if("authorization"!==pe&&"descriptor"!==pe)return Zs.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties"}],!1;if(ue===c){if(void 0!==n.authorization){const pe=c;Da(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?Da.errors:a.concat(Da.errors),c=a.length);var E=pe===c}else E=!0;if(E)if(void 0!==n.descriptor){let pe=n.descriptor;const we=c;if(c===we){if(!pe||"object"!=typeof pe||Array.isArray(pe))return Zs.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===pe.interface&&(Pe="interface")||void 0===pe.method&&(Pe="method")||void 0===pe.messageTimestamp&&(Pe="messageTimestamp")||void 0===pe.filter&&(Pe="filter"))return Zs.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Ie=c;for(const $e in pe)if("interface"!==$e&&"method"!==$e&&"messageTimestamp"!==$e&&"filter"!==$e&&"pagination"!==$e&&"dateSort"!==$e)return Zs.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties"}],!1;if(Ie===c){if(void 0!==pe.interface){let $e=pe.interface;const Je=c;if("string"!=typeof $e)return Zs.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==$e)return Zs.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:XU.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Je===c}else m=!0;if(m){if(void 0!==pe.method){let $e=pe.method;const Je=c;if("string"!=typeof $e)return Zs.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==$e)return Zs.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:XU.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Je===c}else m=!0;if(m){if(void 0!==pe.messageTimestamp){let $e=pe.messageTimestamp;const Je=c;if(c==c){if("string"!=typeof $e)return Zs.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test($e))return Zs.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Je===c}else m=!0;if(m){if(void 0!==pe.filter){const $e=c;xr(pe.filter,{instancePath:r+"/descriptor/filter",parentData:pe,parentDataProperty:"filter",rootData:s,dynamicAnchors:o})||(a=null===a?xr.errors:a.concat(xr.errors),c=a.length),m=$e===c}else m=!0;if(m){if(void 0!==pe.pagination){let $e=pe.pagination;const Je=c;if(c===Je){if(!$e||"object"!=typeof $e||Array.isArray($e))return Zs.errors=[{instancePath:r+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const tt=c;for(const ot in $e)if("limit"!==ot&&"cursor"!==ot)return Zs.errors=[{instancePath:r+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ot},message:"must NOT have additional properties"}],!1;if(tt===c){if(void 0!==$e.limit){let ot=$e.limit;const xt=c;if(c===xt){if("number"!=typeof ot||!isFinite(ot))return Zs.errors=[{instancePath:r+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(ot<1||isNaN(ot))return Zs.errors=[{instancePath:r+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var j=xt===c}else j=!0;if(j)if(void 0!==$e.cursor){let ot=$e.cursor;const xt=c;if(c==c){if(!ot||"object"!=typeof ot||Array.isArray(ot))return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(ot).length<1)return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Kt;if(void 0===ot.messageCid&&(Kt="messageCid")||void 0===ot.value&&(Kt="value"))return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"}],!1;{const Lt=c;for(const Xt in ot)if("messageCid"!==Xt&&"value"!==Xt)return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"}],!1;if(Lt===c){if(void 0!==ot.messageCid){const Xt=c;if("string"!=typeof ot.messageCid)return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=Xt===c}else oe=!0;if(oe)if(void 0!==ot.value){let Xt=ot.value;const vt=c;if("string"!=typeof Xt&&("number"!=typeof Xt||!isFinite(Xt)))return Zs.errors=[{instancePath:r+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:YU.properties.value.type},message:"must be string,number"}],!1;oe=vt===c}else oe=!0}}}}j=xt===c}else j=!0}}}m=Je===c}else m=!0;if(m)if(void 0!==pe.dateSort){let $e=pe.dateSort;const Je=c;if("string"!=typeof $e)return Zs.errors=[{instancePath:r+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==$e&&"createdDescending"!==$e&&"publishedAscending"!==$e&&"publishedDescending"!==$e)return Zs.errors=[{instancePath:r+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:XU.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;m=Je===c}else m=!0}}}}}}}}E=we===c}else E=!0}}}}return Zs.errors=a,0===c}xr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Zs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const b_e=Yl,Mte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Yl(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Yl.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Yl.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.descriptor&&(j="descriptor"))return Yl.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{const oe=c;for(const le in n)if("authorization"!==le&&"descriptor"!==le)return Yl.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(oe===c){if(void 0!==n.authorization){const le=c;Da(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?Da.errors:a.concat(Da.errors),c=a.length);var E=le===c}else E=!0;if(E)if(void 0!==n.descriptor){let le=n.descriptor;const ue=c;if(c===ue){if(!le||"object"!=typeof le||Array.isArray(le))return Yl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let we;if(void 0===le.interface&&(we="interface")||void 0===le.method&&(we="method")||void 0===le.messageTimestamp&&(we="messageTimestamp")||void 0===le.filter&&(we="filter"))return Yl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"}],!1;{const Oe=c;for(const Pe in le)if("interface"!==Pe&&"method"!==Pe&&"messageTimestamp"!==Pe&&"filter"!==Pe)return Yl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Oe===c){if(void 0!==le.interface){let Pe=le.interface;const Ie=c;if("string"!=typeof Pe)return Yl.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Pe)return Yl.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Mte.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Ie===c}else m=!0;if(m){if(void 0!==le.method){let Pe=le.method;const Ie=c;if("string"!=typeof Pe)return Yl.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Pe)return Yl.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Mte.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Ie===c}else m=!0;if(m){if(void 0!==le.messageTimestamp){let Pe=le.messageTimestamp;const Ie=c;if(c==c){if("string"!=typeof Pe)return Yl.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Pe))return Yl.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Ie===c}else m=!0;if(m)if(void 0!==le.filter){const Pe=c;xr(le.filter,{instancePath:r+"/descriptor/filter",parentData:le,parentDataProperty:"filter",rootData:s,dynamicAnchors:o})||(a=null===a?xr.errors:a.concat(xr.errors),c=a.length),m=Pe===c}else m=!0}}}}}}E=ue===c}else E=!0}}}}return Yl.errors=a,0===c}Yl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const __e=tw;function tw(n,{instancePath:r="",parentData:t,parentDataProperty:i,rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=tw.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),pr(n,{instancePath:r,parentData:t,parentDataProperty:i,rootData:s,dynamicAnchors:o}))var E=pr.evaluated.props;else a=null===a?pr.errors:a.concat(pr.errors),c=a.length;if(0===c){if(!n||"object"!=typeof n||Array.isArray(n))return tw.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.recordId&&(m="recordId")||void 0===n.authorization&&(m="authorization"))return tw.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;if(!0!==E)for(const j in n)if(!E||!E[j])return tw.errors=[{instancePath:r,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:j},message:"must NOT have unevaluated properties"}],!1}}return tw.errors=a,0===c}tw.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const w_e=oh,x_e=pr,E_e=Bk;function Bk(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=Bk.evaluated;return _.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),n&&"object"==typeof n&&!Array.isArray(n)?(Bk.errors=null,!0):(Bk.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Bk.evaluated={dynamicProps:!1,dynamicItems:!1};const S_e=bl;function bl(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=bl.evaluated;_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0);const E=c;let m=!1,j=null;const oe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Je;if(void 0===n.crv&&(Je="crv")||void 0===n.x&&(Je="x")){const Qe={instancePath:r,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Je},message:"must have required property '"+Je+"'"};null===a?a=[Qe]:a.push(Qe),c++}else{if(void 0!==n.kty){const Qe=c;if("EC"!==n.kty){const tt={instancePath:r+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===a?a=[tt]:a.push(tt),c++}var le=Qe===c}else le=!0;if(le){if(void 0!==n.crv){const Qe=c;if("string"!=typeof n.crv){const ot={instancePath:r+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}le=Qe===c}else le=!0;if(le){if(void 0!==n.x){const Qe=c;if("string"!=typeof n.x){const ot={instancePath:r+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}le=Qe===c}else le=!0;if(le){if(void 0!==n.y){const Qe=c;if("string"!=typeof n.y){const ot={instancePath:r+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}le=Qe===c}else le=!0;if(le)if(void 0!==n.d){const Qe=c;if("string"!=typeof n.d){const ot={instancePath:r+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}le=Qe===c}else le=!0}}}}}if(Oe=oe===c){m=!0,j=0;var ue={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Je;if(void 0===n.crv&&(Je="crv")||void 0===n.x&&(Je="x")){const Qe={instancePath:r,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Je},message:"must have required property '"+Je+"'"};null===a?a=[Qe]:a.push(Qe),c++}else{if(void 0!==n.kty){const Qe=c;if("OKP"!==n.kty){const tt={instancePath:r+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===a?a=[tt]:a.push(tt),c++}var we=Qe===c}else we=!0;if(we){if(void 0!==n.crv){const Qe=c;if("string"!=typeof n.crv){const ot={instancePath:r+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}we=Qe===c}else we=!0;if(we){if(void 0!==n.x){const Qe=c;if("string"!=typeof n.x){const ot={instancePath:r+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}we=Qe===c}else we=!0;if(we)if(void 0!==n.d){const Qe=c;if("string"!=typeof n.d){const ot={instancePath:r+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ot]:a.push(ot),c++}we=Qe===c}else we=!0}}}}if((Oe=pe===c)&&m)m=!1,j=[j,1];else{Oe&&(m=!0,j=1,!0!==ue&&((ue=ue||{}).kty=!0,ue.crv=!0,ue.x=!0,ue.d=!0));const Je=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let tt;if(void 0===n.n&&(tt="n")||void 0===n.e&&(tt="e")){const ot={instancePath:r,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:tt},message:"must have required property '"+tt+"'"};null===a?a=[ot]:a.push(ot),c++}else{if(void 0!==n.kty){const ot=c;if("RSA"!==n.kty){const xt={instancePath:r+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===a?a=[xt]:a.push(xt),c++}var Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.n){const ot=c;if("string"!=typeof n.n){const Ct={instancePath:r+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.e){const ot=c;if("string"!=typeof n.e){const Ct={instancePath:r+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.d){const ot=c;if("string"!=typeof n.d){const Ct={instancePath:r+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.p){const ot=c;if("string"!=typeof n.p){const Ct={instancePath:r+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.q){const ot=c;if("string"!=typeof n.q){const Ct={instancePath:r+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.dp){const ot=c;if("string"!=typeof n.dp){const Ct={instancePath:r+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.dq){const ot=c;if("string"!=typeof n.dq){const Ct={instancePath:r+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe){if(void 0!==n.qi){const ot=c;if("string"!=typeof n.qi){const Ct={instancePath:r+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ct]:a.push(Ct),c++}Pe=ot===c}else Pe=!0;if(Pe)if(void 0!==n.oth){let ot=n.oth;const xt=c;if(!ot||"object"!=typeof ot||Array.isArray(ot)){const Tt={instancePath:r+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Tt]:a.push(Tt),c++}Pe=xt===c}else Pe=!0}}}}}}}}}}if((Oe=Je===c)&&m)m=!1,j=[j,2];else{Oe&&(m=!0,j=2,!0!==ue&&((ue=ue||{}).kty=!0,ue.n=!0,ue.e=!0,ue.d=!0,ue.p=!0,ue.q=!0,ue.dp=!0,ue.dq=!0,ue.qi=!0,ue.oth=!0));const tt=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let xt;if(void 0===n.k&&(xt="k")){const Ct={instancePath:r,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:xt},message:"must have required property '"+xt+"'"};null===a?a=[Ct]:a.push(Ct),c++}else{if(void 0!==n.kty){const Ct=c;if("oct"!==n.kty){const Tt={instancePath:r+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===a?a=[Tt]:a.push(Tt),c++}var Ie=Ct===c}else Ie=!0;if(Ie)if(void 0!==n.k){const Ct=c;if("string"!=typeof n.k){const Kt={instancePath:r+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Kt]:a.push(Kt),c++}Ie=Ct===c}else Ie=!0}}var Oe;(Oe=tt===c)&&m?(m=!1,j=[j,3]):Oe&&(m=!0,j=3,!0!==ue&&((ue=ue||{}).kty=!0,ue.k=!0))}}if(!m){const Je={instancePath:r,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:j},message:"must match exactly one schema in oneOf"};return null===a?a=[Je]:a.push(Je),c++,bl.errors=a,!1}if(c=E,null!==a&&(E?a.length=E:a=null),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return bl.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Je;if(void 0===n.kty&&(Je="kty"))return bl.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:Je},message:"must have required property '"+Je+"'"}],!1;if(!0!==ue&&((ue=ue||{}).alg=!0,ue.kid=!0,ue.kty=!0,ue.crv=!0,ue.use=!0,ue.key_ops=!0,ue.x5u=!0,ue.x5c=!0,ue.x5t=!0,ue["x5t#S256"]=!0),void 0!==n.alg){const Qe=c;if("string"!=typeof n.alg)return bl.errors=[{instancePath:r+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $e=Qe===c}else $e=!0;if($e){if(void 0!==n.kid){const Qe=c;if("string"!=typeof n.kid)return bl.errors=[{instancePath:r+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.kty){let Qe=n.kty;const tt=c;if("EC"!==Qe&&"RSA"!==Qe&&"oct"!==Qe&&"OKP"!==Qe)return bl.errors=[{instancePath:r+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Cte.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;$e=tt===c}else $e=!0;if($e){if(void 0!==n.crv){const Qe=c;if("string"!=typeof n.crv)return bl.errors=[{instancePath:r+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.use){const Qe=c;if("string"!=typeof n.use)return bl.errors=[{instancePath:r+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.key_ops){const Qe=c;if("string"!=typeof n.key_ops)return bl.errors=[{instancePath:r+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.x5u){const Qe=c;if("string"!=typeof n.x5u)return bl.errors=[{instancePath:r+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.x5c){const Qe=c;if("string"!=typeof n.x5c)return bl.errors=[{instancePath:r+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e){if(void 0!==n.x5t){const Qe=c;if("string"!=typeof n.x5t)return bl.errors=[{instancePath:r+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0;if($e)if(void 0!==n["x5t#S256"]){const Qe=c;if("string"!=typeof n["x5t#S256"])return bl.errors=[{instancePath:r+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$e=Qe===c}else $e=!0}}}}}}}}}}return bl.errors=a,_.props=ue,0===c}bl.evaluated={dynamicProps:!0,dynamicItems:!1};const C_e=Is,A_e=dp,T_e={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function dp(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=dp.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return dp.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.id&&(m="id")||void 0===n.type&&(m="type")||void 0===n.controller&&(m="controller")||void 0===n.publicKeyJwk&&(m="publicKeyJwk"))return dp.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=c;for(const oe in n)if("id"!==oe&&"type"!==oe&&"controller"!==oe&&"publicKeyJwk"!==oe)return dp.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(j===c){if(void 0!==n.id){const oe=c;if("string"!=typeof n.id)return dp.errors=[{instancePath:r+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=oe===c}else E=!0;if(E){if(void 0!==n.type){let oe=n.type;const le=c;if("JsonWebKey"!==oe&&"JsonWebKey2020"!==oe)return dp.errors=[{instancePath:r+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:T_e.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;E=le===c}else E=!0;if(E){if(void 0!==n.controller){let oe=n.controller;const le=c;if(c==c){if("string"!=typeof oe)return dp.errors=[{instancePath:r+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Iv.test(oe))return dp.errors=[{instancePath:r+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}E=le===c}else E=!0;if(E)if(void 0!==n.publicKeyJwk){const oe=c;Ps(n.publicKeyJwk,{instancePath:r+"/publicKeyJwk",parentData:n,parentDataProperty:"publicKeyJwk",rootData:s,dynamicAnchors:o})||(a=null===a?Ps.errors:a.concat(Ps.errors),c=a.length),E=oe===c}else E=!0}}}}}}return dp.errors=a,0===c}dp.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const D_e=Oo,kte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function Oo(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=Oo.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return Oo.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(n).length<1)return Oo.errors=[{instancePath:r,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const j=0;for(const oe in n)if("interface"!==oe&&"method"!==oe&&"protocol"!==oe&&"messageTimestamp"!==oe)return Oo.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(0===j){if(void 0!==n.interface){let oe=n.interface;const le=0;if("string"!=typeof oe)return Oo.errors=[{instancePath:r+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==oe&&"Records"!==oe)return Oo.errors=[{instancePath:r+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:kte.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var E=0===le}else E=!0;if(E){if(void 0!==n.method){let oe=n.method;const le=0;if("string"!=typeof oe)return Oo.errors=[{instancePath:r+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==oe&&"Delete"!==oe&&"Write"!==oe)return Oo.errors=[{instancePath:r+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:kte.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;E=0===le}else E=!0;if(E){if(void 0!==n.protocol){const oe=0;if("string"!=typeof n.protocol)return Oo.errors=[{instancePath:r+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E)if(void 0!==n.messageTimestamp){let oe=n.messageTimestamp;const le=0;if(0===le){if(!oe||"object"!=typeof oe||Array.isArray(oe))return Oo.errors=[{instancePath:r+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(oe).length<1)return Oo.errors=[{instancePath:r+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pe=0;for(const we in oe)if("from"!==we&&"to"!==we)return Oo.errors=[{instancePath:r+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties"}],!1;if(0===pe){if(void 0!==oe.from){let we=oe.from;const Oe=0;if("string"!=typeof we)return Oo.errors=[{instancePath:r+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(we))return Oo.errors=[{instancePath:r+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var m=0===Oe}else m=!0;if(m)if(void 0!==oe.to){let we=oe.to;const Oe=0;if("string"!=typeof we)return Oo.errors=[{instancePath:r+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(we))return Oo.errors=[{instancePath:r+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;m=0===Oe}else m=!0}}}E=0===le}else E=!0}}}}return Oo.errors=null,!0}Oo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const M_e=ra,Ite={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function ra(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=ra.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return ra.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let le;if(void 0===n.authorization&&(le="authorization")||void 0===n.descriptor&&(le="descriptor"))return ra.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:le},message:"must have required property '"+le+"'"}],!1;{const ue=c;for(const pe in n)if("authorization"!==pe&&"descriptor"!==pe)return ra.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties"}],!1;if(ue===c){if(void 0!==n.authorization){const pe=c;jc(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?jc.errors:a.concat(jc.errors),c=a.length);var E=pe===c}else E=!0;if(E)if(void 0!==n.descriptor){let pe=n.descriptor;const we=c;if(c===we){if(!pe||"object"!=typeof pe||Array.isArray(pe))return ra.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===pe.interface&&(Pe="interface")||void 0===pe.method&&(Pe="method")||void 0===pe.messageTimestamp&&(Pe="messageTimestamp")||void 0===pe.filters&&(Pe="filters"))return ra.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Ie=c;for(const $e in pe)if("interface"!==$e&&"method"!==$e&&"messageTimestamp"!==$e&&"filters"!==$e&&"cursor"!==$e)return ra.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$e},message:"must NOT have additional properties"}],!1;if(Ie===c){if(void 0!==pe.interface){let $e=pe.interface;const Je=c;if("string"!=typeof $e)return ra.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==$e)return ra.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ite.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Je===c}else m=!0;if(m){if(void 0!==pe.method){let $e=pe.method;const Je=c;if("string"!=typeof $e)return ra.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==$e)return ra.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ite.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Je===c}else m=!0;if(m){if(void 0!==pe.messageTimestamp){let $e=pe.messageTimestamp;const Je=c;if(c==c){if("string"!=typeof $e)return ra.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test($e))return ra.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Je===c}else m=!0;if(m){if(void 0!==pe.filters){let $e=pe.filters;const Je=c;if(c===Je){if(!Array.isArray($e))return ra.errors=[{instancePath:r+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const tt=$e.length;for(let ot=0;ot<tt;ot++){const xt=c;if(Oo($e[ot],{instancePath:r+"/descriptor/filters/"+ot,parentData:$e,parentDataProperty:ot,rootData:s,dynamicAnchors:o})||(a=null===a?Oo.errors:a.concat(Oo.errors),c=a.length),xt!==c)break}}}m=Je===c}else m=!0;if(m)if(void 0!==pe.cursor){let $e=pe.cursor;const Je=c;if(c==c){if(!$e||"object"!=typeof $e||Array.isArray($e))return ra.errors=[{instancePath:r+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($e).length<1)return ra.errors=[{instancePath:r+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ot;if(void 0===$e.messageCid&&(ot="messageCid")||void 0===$e.value&&(ot="value"))return ra.errors=[{instancePath:r+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ot},message:"must have required property '"+ot+"'"}],!1;{const xt=c;for(const Ct in $e)if("messageCid"!==Ct&&"value"!==Ct)return ra.errors=[{instancePath:r+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ct},message:"must NOT have additional properties"}],!1;if(xt===c){if(void 0!==$e.messageCid){const Ct=c;if("string"!=typeof $e.messageCid)return ra.errors=[{instancePath:r+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=Ct===c}else oe=!0;if(oe)if(void 0!==$e.value){let Ct=$e.value;const Tt=c;if("string"!=typeof Ct&&("number"!=typeof Ct||!isFinite(Ct)))return ra.errors=[{instancePath:r+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:YU.properties.value.type},message:"must be string,number"}],!1;oe=Tt===c}else oe=!0}}}}m=Je===c}else m=!0}}}}}}}E=we===c}else E=!0}}}}return ra.errors=a,0===c}ra.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const k_e=_l,Pte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function _l(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=_l.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return _l.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.authorization&&(j="authorization")||void 0===n.descriptor&&(j="descriptor"))return _l.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{const oe=c;for(const le in n)if("authorization"!==le&&"descriptor"!==le)return _l.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(oe===c){if(void 0!==n.authorization){const le=c;jc(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?jc.errors:a.concat(jc.errors),c=a.length);var E=le===c}else E=!0;if(E)if(void 0!==n.descriptor){let le=n.descriptor;const ue=c;if(c===ue){if(!le||"object"!=typeof le||Array.isArray(le))return _l.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let we;if(void 0===le.interface&&(we="interface")||void 0===le.method&&(we="method")||void 0===le.messageTimestamp&&(we="messageTimestamp"))return _l.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"}],!1;{const Oe=c;for(const Pe in le)if("interface"!==Pe&&"method"!==Pe&&"messageTimestamp"!==Pe&&"messageCid"!==Pe)return _l.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Oe===c){if(void 0!==le.interface){let Pe=le.interface;const Ie=c;if("string"!=typeof Pe)return _l.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Pe)return _l.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Pte.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Ie===c}else m=!0;if(m){if(void 0!==le.method){let Pe=le.method;const Ie=c;if("string"!=typeof Pe)return _l.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Pe)return _l.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Pte.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Ie===c}else m=!0;if(m){if(void 0!==le.messageTimestamp){let Pe=le.messageTimestamp;const Ie=c;if(c==c){if("string"!=typeof Pe)return _l.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Pe))return _l.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Ie===c}else m=!0;if(m)if(void 0!==le.messageCid){const Pe=c;if("string"!=typeof le.messageCid)return _l.errors=[{instancePath:r+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=Pe===c}else m=!0}}}}}}E=ue===c}else E=!0}}}}return _l.errors=a,0===c}_l.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const I_e=Zl,Ote={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function Zl(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Zl.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Zl.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===n.descriptor&&(oe="descriptor")||void 0===n.authorization&&(oe="authorization"))return Zl.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const le=c;for(const ue in n)if("authorization"!==ue&&"descriptor"!==ue)return Zl.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ue},message:"must NOT have additional properties"}],!1;if(le===c){if(void 0!==n.authorization){const ue=c;jc(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?jc.errors:a.concat(jc.errors),c=a.length);var E=ue===c}else E=!0;if(E)if(void 0!==n.descriptor){let ue=n.descriptor;const pe=c;if(c===pe){if(!ue||"object"!=typeof ue||Array.isArray(ue))return Zl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===ue.interface&&(Oe="interface")||void 0===ue.method&&(Oe="method")||void 0===ue.messageTimestamp&&(Oe="messageTimestamp")||void 0===ue.filters&&(Oe="filters"))return Zl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const Pe=c;for(const Ie in ue)if("interface"!==Ie&&"method"!==Ie&&"messageTimestamp"!==Ie&&"filters"!==Ie)return Zl.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties"}],!1;if(Pe===c){if(void 0!==ue.interface){let Ie=ue.interface;const $e=c;if("string"!=typeof Ie)return Zl.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Ie)return Zl.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ote.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=$e===c}else m=!0;if(m){if(void 0!==ue.method){let Ie=ue.method;const $e=c;if("string"!=typeof Ie)return Zl.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Ie)return Zl.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ote.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=$e===c}else m=!0;if(m){if(void 0!==ue.messageTimestamp){const Ie=c;if("string"!=typeof ue.messageTimestamp)return Zl.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=Ie===c}else m=!0;if(m)if(void 0!==ue.filters){let Ie=ue.filters;const $e=c;if(c===$e){if(!Array.isArray(Ie))return Zl.errors=[{instancePath:r+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Qe=Ie.length;for(let tt=0;tt<Qe;tt++){const ot=c;if(Oo(Ie[tt],{instancePath:r+"/descriptor/filters/"+tt,parentData:Ie,parentDataProperty:tt,rootData:s,dynamicAnchors:o})||(a=null===a?Oo.errors:a.concat(Oo.errors),c=a.length),ot!==c)break}}}m=$e===c}else m=!0}}}}}}E=pe===c}else E=!0}}}}return Zl.errors=a,0===c}Zl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const P_e=Md;function Md(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Md.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Md.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(n).length<1)return Md.errors=[{instancePath:r,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pe=c;for(const we in n)if("gt"!==we&&"gte"!==we&&"lt"!==we&&"lte"!==we)return Md.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties"}],!1;if(pe===c){if(void 0!==n.gt){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Ie;if(void 0===n.gte&&(Ie="gte")){const $e={};null===a?a=[$e]:a.push($e),c++}}if(Pe===c)return Md.errors=[{instancePath:r,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null);var m=we===c}else m=!0;if(m){if(void 0!==n.gte){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.gt&&($e="gt")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Md.errors=[{instancePath:r,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.lt){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.lte&&($e="lte")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Md.errors=[{instancePath:r,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.lte){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.lt&&($e="lt")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Md.errors=[{instancePath:r,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.gt){let we=n.gt;const Oe=c;if("number"!=typeof we||!isFinite(we))return Md.errors=[{instancePath:r+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ue=Oe===c}else ue=!0;if(ue){if(void 0!==n.gte){let we=n.gte;const Oe=c;if("number"!=typeof we||!isFinite(we))return Md.errors=[{instancePath:r+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;ue=Oe===c}else ue=!0;if(ue){if(void 0!==n.lt){let we=n.lt;const Oe=c;if("number"!=typeof we||!isFinite(we))return Md.errors=[{instancePath:r+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;ue=Oe===c}else ue=!0;if(ue)if(void 0!==n.lte){let we=n.lte;const Oe=c;if("number"!=typeof we||!isFinite(we))return Md.errors=[{instancePath:r+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;ue=Oe===c}else ue=!0}}}}}}}}}return Md.errors=a,0===c}Md.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const O_e=vm;function vm(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=vm.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return vm.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(n).length<1)return vm.errors=[{instancePath:r,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let m;if(void 0===n.messageCid&&(m="messageCid")||void 0===n.value&&(m="value"))return vm.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=0;for(const oe in n)if("messageCid"!==oe&&"value"!==oe)return vm.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(0===j){if(void 0!==n.messageCid){const oe=0;if("string"!=typeof n.messageCid)return vm.errors=[{instancePath:r+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=0===oe}else E=!0;if(E)if(void 0!==n.value){let oe=n.value;const le=0;if("string"!=typeof oe&&("number"!=typeof oe||!isFinite(oe)))return vm.errors=[{instancePath:r+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:YU.properties.value.type},message:"must be string,number"}],!1;E=0===le}else E=!0}}}return vm.errors=null,!0}vm.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const R_e=Jl,Rte={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function nw(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=nw.evaluated;_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0);const E=c;let m=!1,j=null;const oe=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Kt;if(void 0===n.interface&&(Kt="interface")||void 0===n.method&&(Kt="method")){const Lt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"};null===a?a=[Lt]:a.push(Lt),c++}else{const Lt=c;for(const Xt in n)if("interface"!==Xt&&"method"!==Xt&&"protocol"!==Xt){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"};null===a?a=[vt]:a.push(vt),c++;break}if(Lt===c){if(void 0!==n.interface){const Xt=c;if("Messages"!==n.interface){const vt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[vt]:a.push(vt),c++}var ue=Xt===c}else ue=!0;if(ue){if(void 0!==n.method){const Xt=c;if("Query"!==n.method){const Et={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}ue=Xt===c}else ue=!0;if(ue)if(void 0!==n.protocol){const Xt=c;if("string"!=typeof n.protocol){const Et={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Et]:a.push(Et),c++}ue=Xt===c}else ue=!0}}}}else{const Kt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Kt]:a.push(Kt),c++}if(Ie=oe===c){m=!0,j=0;var pe=!0}const we=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Kt;if(void 0===n.interface&&(Kt="interface")||void 0===n.method&&(Kt="method")){const Lt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"};null===a?a=[Lt]:a.push(Lt),c++}else{const Lt=c;for(const Xt in n)if("interface"!==Xt&&"method"!==Xt&&"protocol"!==Xt){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"};null===a?a=[vt]:a.push(vt),c++;break}if(Lt===c){if(void 0!==n.interface){const Xt=c;if("Messages"!==n.interface){const vt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[vt]:a.push(vt),c++}var Pe=Xt===c}else Pe=!0;if(Pe){if(void 0!==n.method){const Xt=c;if("Read"!==n.method){const Et={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}Pe=Xt===c}else Pe=!0;if(Pe)if(void 0!==n.protocol){const Xt=c;if("string"!=typeof n.protocol){const Et={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Et]:a.push(Et),c++}Pe=Xt===c}else Pe=!0}}}}else{const Kt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Kt]:a.push(Kt),c++}if((Ie=we===c)&&m)m=!1,j=[j,1];else{Ie&&(m=!0,j=1,!0!==pe&&(pe=!0));const Kt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let vt;if(void 0===n.interface&&(vt="interface")||void 0===n.method&&(vt="method")){const Et={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"};null===a?a=[Et]:a.push(Et),c++}else{const Et=c;for(const Dt in n)if("interface"!==Dt&&"method"!==Dt&&"protocol"!==Dt){const jt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dt},message:"must NOT have additional properties"};null===a?a=[jt]:a.push(jt),c++;break}if(Et===c){if(void 0!==n.interface){const Dt=c;if("Messages"!==n.interface){const jt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[jt]:a.push(jt),c++}var $e=Dt===c}else $e=!0;if($e){if(void 0!==n.method){const Dt=c;if("Subscribe"!==n.method){const Ft={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[Ft]:a.push(Ft),c++}$e=Dt===c}else $e=!0;if($e)if(void 0!==n.protocol){const Dt=c;if("string"!=typeof n.protocol){const Ft={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}$e=Dt===c}else $e=!0}}}}else{const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[vt]:a.push(vt),c++}if((Ie=Kt===c)&&m)m=!1,j=[j,2];else{Ie&&(m=!0,j=2,!0!==pe&&(pe=!0));const vt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let jt;if(void 0===n.interface&&(jt="interface")||void 0===n.method&&(jt="method")){const Ft={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/required",keyword:"required",params:{missingProperty:jt},message:"must have required property '"+jt+"'"};null===a?a=[Ft]:a.push(Ft),c++}else{const Ft=c;for(const Jt in n)if("interface"!==Jt&&"method"!==Jt&&"protocol"!==Jt){const on={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jt},message:"must NOT have additional properties"};null===a?a=[on]:a.push(on),c++;break}if(Ft===c){if(void 0!==n.interface){const Jt=c;if("Protocols"!==n.interface){const on={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[on]:a.push(on),c++}var Je=Jt===c}else Je=!0;if(Je){if(void 0!==n.method){const Jt=c;if("Configure"!==n.method){const dn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/method/const",keyword:"const",params:{allowedValue:"Configure"},message:"must be equal to constant"};null===a?a=[dn]:a.push(dn),c++}Je=Jt===c}else Je=!0;if(Je)if(void 0!==n.protocol){const Jt=c;if("string"!=typeof n.protocol){const dn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[dn]:a.push(dn),c++}Je=Jt===c}else Je=!0}}}}else{const jt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[jt]:a.push(jt),c++}if((Ie=vt===c)&&m)m=!1,j=[j,3];else{Ie&&(m=!0,j=3,!0!==pe&&(pe=!0));const jt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let on;if(void 0===n.interface&&(on="interface")||void 0===n.method&&(on="method")){const dn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:on},message:"must have required property '"+on+"'"};null===a?a=[dn]:a.push(dn),c++}else{const dn=c;for(const Yt in n)if("interface"!==Yt&&"method"!==Yt&&"protocol"!==Yt){const Cn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yt},message:"must NOT have additional properties"};null===a?a=[Cn]:a.push(Cn),c++;break}if(dn===c){if(void 0!==n.interface){const Yt=c;if("Protocols"!==n.interface){const Cn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[Cn]:a.push(Cn),c++}var Qe=Yt===c}else Qe=!0;if(Qe){if(void 0!==n.method){const Yt=c;if("Query"!==n.method){const In={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[In]:a.push(In),c++}Qe=Yt===c}else Qe=!0;if(Qe)if(void 0!==n.protocol){const Yt=c;if("string"!=typeof n.protocol){const In={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[In]:a.push(In),c++}Qe=Yt===c}else Qe=!0}}}}else{const on={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[on]:a.push(on),c++}if((Ie=jt===c)&&m)m=!1,j=[j,4];else{Ie&&(m=!0,j=4,!0!==pe&&(pe=!0));const on=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Cn;if(void 0===n.interface&&(Cn="interface")||void 0===n.method&&(Cn="method")){const In={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===a?a=[In]:a.push(In),c++}else{const In=c;for(const _n in n)if("interface"!==_n&&"method"!==_n&&"protocol"!==_n&&"contextId"!==_n&&"protocolPath"!==_n){const $t={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_n},message:"must NOT have additional properties"};null===a?a=[$t]:a.push($t),c++;break}if(In===c){if(void 0!==n.interface){const _n=c;if("Records"!==n.interface){const $t={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[$t]:a.push($t),c++}var tt=_n===c}else tt=!0;if(tt){if(void 0!==n.method){const _n=c;if("Read"!==n.method){const gn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt){if(void 0!==n.protocol){const _n=c;if("string"!=typeof n.protocol){const gn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt){if(void 0!==n.contextId){const _n=c;if("string"!=typeof n.contextId){const gn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt)if(void 0!==n.protocolPath){const _n=c;if("string"!=typeof n.protocolPath){const gn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0}}}}}}else{const Cn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Cn]:a.push(Cn),c++}if((Ie=on===c)&&m)m=!1,j=[j,5];else{Ie&&(m=!0,j=5,!0!==pe&&(pe=!0));const Cn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let $t;if(void 0===n.interface&&($t="interface")||void 0===n.method&&($t="method")){const gn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"};null===a?a=[gn]:a.push(gn),c++}else{const gn=c;for(const un in n)if("interface"!==un&&"method"!==un&&"protocol"!==un&&"contextId"!==un&&"protocolPath"!==un){const pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"};null===a?a=[pn]:a.push(pn),c++;break}if(gn===c){if(void 0!==n.interface){const un=c;if("Records"!==n.interface){const pn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[pn]:a.push(pn),c++}var ot=un===c}else ot=!0;if(ot){if(void 0!==n.method){const un=c;if("Delete"!==n.method){const Gt={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot){if(void 0!==n.protocol){const un=c;if("string"!=typeof n.protocol){const Gt={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot){if(void 0!==n.contextId){const un=c;if("string"!=typeof n.contextId){const Gt={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot)if(void 0!==n.protocolPath){const un=c;if("string"!=typeof n.protocolPath){const Gt={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0}}}}}}else{const $t={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[$t]:a.push($t),c++}if((Ie=Cn===c)&&m)m=!1,j=[j,6];else{Ie&&(m=!0,j=6,!0!==pe&&(pe=!0));const $t=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let pn;if(void 0===n.interface&&(pn="interface")||void 0===n.method&&(pn="method")){const Gt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:pn},message:"must have required property '"+pn+"'"};null===a?a=[Gt]:a.push(Gt),c++}else{const Gt=c;for(const Ht in n)if("interface"!==Ht&&"method"!==Ht&&"protocol"!==Ht&&"contextId"!==Ht&&"protocolPath"!==Ht){const yn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"};null===a?a=[yn]:a.push(yn),c++;break}if(Gt===c){if(void 0!==n.interface){const Ht=c;if("Records"!==n.interface){const yn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[yn]:a.push(yn),c++}var xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.method){const Ht=c;if("Write"!==n.method){const Pn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.protocol){const Ht=c;if("string"!=typeof n.protocol){const Pn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.contextId){const Ht=c;if("string"!=typeof n.contextId){const Pn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt)if(void 0!==n.protocolPath){const Ht=c;if("string"!=typeof n.protocolPath){const Pn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0}}}}}}else{const pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[pn]:a.push(pn),c++}if((Ie=$t===c)&&m)m=!1,j=[j,7];else{Ie&&(m=!0,j=7,!0!==pe&&(pe=!0));const pn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let yn;if(void 0===n.interface&&(yn="interface")||void 0===n.method&&(yn="method")){const Pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[Pn]:a.push(Pn),c++}else{const Pn=c;for(const $n in n)if("interface"!==$n&&"method"!==$n&&"protocol"!==$n&&"contextId"!==$n&&"protocolPath"!==$n){const rn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$n},message:"must NOT have additional properties"};null===a?a=[rn]:a.push(rn),c++;break}if(Pn===c){if(void 0!==n.interface){const $n=c;if("Records"!==n.interface){const rn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[rn]:a.push(rn),c++}var Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.method){const $n=c;if("Query"!==n.method){const bn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.protocol){const $n=c;if("string"!=typeof n.protocol){const bn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.contextId){const $n=c;if("string"!=typeof n.contextId){const bn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct)if(void 0!==n.protocolPath){const $n=c;if("string"!=typeof n.protocolPath){const bn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0}}}}}}else{const yn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yn]:a.push(yn),c++}if((Ie=pn===c)&&m)m=!1,j=[j,8];else{Ie&&(m=!0,j=8,!0!==pe&&(pe=!0));const yn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.interface&&(rn="interface")||void 0===n.method&&(rn="method")){const bn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"};null===a?a=[bn]:a.push(bn),c++}else{const bn=c;for(const On in n)if("interface"!==On&&"method"!==On&&"protocol"!==On&&"contextId"!==On&&"protocolPath"!==On){const rr={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"};null===a?a=[rr]:a.push(rr),c++;break}if(bn===c){if(void 0!==n.interface){const On=c;if("Records"!==n.interface){const rr={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[rr]:a.push(rr),c++}var Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.method){const On=c;if("Subscribe"!==n.method){const sr={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.protocol){const On=c;if("string"!=typeof n.protocol){const sr={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.contextId){const On=c;if("string"!=typeof n.contextId){const sr={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt)if(void 0!==n.protocolPath){const On=c;if("string"!=typeof n.protocolPath){const sr={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0}}}}}}else{const rn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[rn]:a.push(rn),c++}var Ie;(Ie=yn===c)&&m?(m=!1,j=[j,9]):Ie&&(m=!0,j=9,!0!==pe&&(pe=!0))}}}}}}}}if(!m){const Kt={instancePath:r,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:j},message:"must match exactly one schema in oneOf"};return null===a?a=[Kt]:a.push(Kt),c++,nw.errors=a,!1}return c=E,null!==a&&(E?a.length=E:a=null),nw.errors=a,_.props=pe,0===c}function Jl(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Jl.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Jl.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.dateExpires&&(m="dateExpires")||void 0===n.scope&&(m="scope"))return Jl.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=c;for(const oe in n)if("description"!==oe&&"dateExpires"!==oe&&"requestId"!==oe&&"delegated"!==oe&&"scope"!==oe&&"conditions"!==oe)return Jl.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(j===c){if(void 0!==n.description){const oe=c;if("string"!=typeof n.description)return Jl.errors=[{instancePath:r+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=oe===c}else E=!0;if(E){if(void 0!==n.dateExpires){let oe=n.dateExpires;const le=c;if(c==c){if("string"!=typeof oe)return Jl.errors=[{instancePath:r+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(oe))return Jl.errors=[{instancePath:r+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}E=le===c}else E=!0;if(E){if(void 0!==n.requestId){const oe=c;if("string"!=typeof n.requestId)return Jl.errors=[{instancePath:r+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=oe===c}else E=!0;if(E){if(void 0!==n.delegated){const oe=c;if("boolean"!=typeof n.delegated)return Jl.errors=[{instancePath:r+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;E=oe===c}else E=!0;if(E){if(void 0!==n.scope){const oe=c;nw(n.scope,{instancePath:r+"/scope",parentData:n,parentDataProperty:"scope",rootData:s,dynamicAnchors:o})||(a=null===a?nw.errors:a.concat(nw.errors),c=a.length),E=oe===c}else E=!0;if(E)if(void 0!==n.conditions){let oe=n.conditions;const le=c;if(c==c){if(!oe||"object"!=typeof oe||Array.isArray(oe))return Jl.errors=[{instancePath:r+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const we=c;for(const Oe in oe)if("publication"!==Oe)return Jl.errors=[{instancePath:r+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(we===c&&void 0!==oe.publication){let Oe=oe.publication;if("string"!=typeof Oe)return Jl.errors=[{instancePath:r+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Oe&&"Prohibited"!==Oe)return Jl.errors=[{instancePath:r+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Rte.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}E=le===c}else E=!0}}}}}}}}return Jl.errors=a,0===c}nw.evaluated={dynamicProps:!0,dynamicItems:!1},Jl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const F_e=Qu;function rw(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=rw.evaluated;_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0);const E=c;let m=!1,j=null;const oe=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Kt;if(void 0===n.interface&&(Kt="interface")||void 0===n.method&&(Kt="method")){const Lt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"};null===a?a=[Lt]:a.push(Lt),c++}else{const Lt=c;for(const Xt in n)if("interface"!==Xt&&"method"!==Xt&&"protocol"!==Xt){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"};null===a?a=[vt]:a.push(vt),c++;break}if(Lt===c){if(void 0!==n.interface){const Xt=c;if("Messages"!==n.interface){const vt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[vt]:a.push(vt),c++}var ue=Xt===c}else ue=!0;if(ue){if(void 0!==n.method){const Xt=c;if("Query"!==n.method){const Et={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}ue=Xt===c}else ue=!0;if(ue)if(void 0!==n.protocol){const Xt=c;if("string"!=typeof n.protocol){const Et={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Et]:a.push(Et),c++}ue=Xt===c}else ue=!0}}}}else{const Kt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Kt]:a.push(Kt),c++}if(Ie=oe===c){m=!0,j=0;var pe=!0}const we=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Kt;if(void 0===n.interface&&(Kt="interface")||void 0===n.method&&(Kt="method")){const Lt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"};null===a?a=[Lt]:a.push(Lt),c++}else{const Lt=c;for(const Xt in n)if("interface"!==Xt&&"method"!==Xt&&"protocol"!==Xt){const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"};null===a?a=[vt]:a.push(vt),c++;break}if(Lt===c){if(void 0!==n.interface){const Xt=c;if("Messages"!==n.interface){const vt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[vt]:a.push(vt),c++}var Pe=Xt===c}else Pe=!0;if(Pe){if(void 0!==n.method){const Xt=c;if("Read"!==n.method){const Et={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[Et]:a.push(Et),c++}Pe=Xt===c}else Pe=!0;if(Pe)if(void 0!==n.protocol){const Xt=c;if("string"!=typeof n.protocol){const Et={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Et]:a.push(Et),c++}Pe=Xt===c}else Pe=!0}}}}else{const Kt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Kt]:a.push(Kt),c++}if((Ie=we===c)&&m)m=!1,j=[j,1];else{Ie&&(m=!0,j=1,!0!==pe&&(pe=!0));const Kt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let vt;if(void 0===n.interface&&(vt="interface")||void 0===n.method&&(vt="method")){const Et={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"};null===a?a=[Et]:a.push(Et),c++}else{const Et=c;for(const Dt in n)if("interface"!==Dt&&"method"!==Dt&&"protocol"!==Dt){const jt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dt},message:"must NOT have additional properties"};null===a?a=[jt]:a.push(jt),c++;break}if(Et===c){if(void 0!==n.interface){const Dt=c;if("Messages"!==n.interface){const jt={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===a?a=[jt]:a.push(jt),c++}var $e=Dt===c}else $e=!0;if($e){if(void 0!==n.method){const Dt=c;if("Subscribe"!==n.method){const Ft={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[Ft]:a.push(Ft),c++}$e=Dt===c}else $e=!0;if($e)if(void 0!==n.protocol){const Dt=c;if("string"!=typeof n.protocol){const Ft={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Ft]:a.push(Ft),c++}$e=Dt===c}else $e=!0}}}}else{const vt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[vt]:a.push(vt),c++}if((Ie=Kt===c)&&m)m=!1,j=[j,2];else{Ie&&(m=!0,j=2,!0!==pe&&(pe=!0));const vt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let jt;if(void 0===n.interface&&(jt="interface")||void 0===n.method&&(jt="method")){const Ft={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/required",keyword:"required",params:{missingProperty:jt},message:"must have required property '"+jt+"'"};null===a?a=[Ft]:a.push(Ft),c++}else{const Ft=c;for(const Jt in n)if("interface"!==Jt&&"method"!==Jt&&"protocol"!==Jt){const on={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jt},message:"must NOT have additional properties"};null===a?a=[on]:a.push(on),c++;break}if(Ft===c){if(void 0!==n.interface){const Jt=c;if("Protocols"!==n.interface){const on={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[on]:a.push(on),c++}var Je=Jt===c}else Je=!0;if(Je){if(void 0!==n.method){const Jt=c;if("Configure"!==n.method){const dn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/method/const",keyword:"const",params:{allowedValue:"Configure"},message:"must be equal to constant"};null===a?a=[dn]:a.push(dn),c++}Je=Jt===c}else Je=!0;if(Je)if(void 0!==n.protocol){const Jt=c;if("string"!=typeof n.protocol){const dn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[dn]:a.push(dn),c++}Je=Jt===c}else Je=!0}}}}else{const jt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-configure-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[jt]:a.push(jt),c++}if((Ie=vt===c)&&m)m=!1,j=[j,3];else{Ie&&(m=!0,j=3,!0!==pe&&(pe=!0));const jt=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let on;if(void 0===n.interface&&(on="interface")||void 0===n.method&&(on="method")){const dn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:on},message:"must have required property '"+on+"'"};null===a?a=[dn]:a.push(dn),c++}else{const dn=c;for(const Yt in n)if("interface"!==Yt&&"method"!==Yt&&"protocol"!==Yt){const Cn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yt},message:"must NOT have additional properties"};null===a?a=[Cn]:a.push(Cn),c++;break}if(dn===c){if(void 0!==n.interface){const Yt=c;if("Protocols"!==n.interface){const Cn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[Cn]:a.push(Cn),c++}var Qe=Yt===c}else Qe=!0;if(Qe){if(void 0!==n.method){const Yt=c;if("Query"!==n.method){const In={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[In]:a.push(In),c++}Qe=Yt===c}else Qe=!0;if(Qe)if(void 0!==n.protocol){const Yt=c;if("string"!=typeof n.protocol){const In={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[In]:a.push(In),c++}Qe=Yt===c}else Qe=!0}}}}else{const on={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[on]:a.push(on),c++}if((Ie=jt===c)&&m)m=!1,j=[j,4];else{Ie&&(m=!0,j=4,!0!==pe&&(pe=!0));const on=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let Cn;if(void 0===n.interface&&(Cn="interface")||void 0===n.method&&(Cn="method")){const In={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===a?a=[In]:a.push(In),c++}else{const In=c;for(const _n in n)if("interface"!==_n&&"method"!==_n&&"protocol"!==_n&&"contextId"!==_n&&"protocolPath"!==_n){const $t={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_n},message:"must NOT have additional properties"};null===a?a=[$t]:a.push($t),c++;break}if(In===c){if(void 0!==n.interface){const _n=c;if("Records"!==n.interface){const $t={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[$t]:a.push($t),c++}var tt=_n===c}else tt=!0;if(tt){if(void 0!==n.method){const _n=c;if("Read"!==n.method){const gn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt){if(void 0!==n.protocol){const _n=c;if("string"!=typeof n.protocol){const gn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt){if(void 0!==n.contextId){const _n=c;if("string"!=typeof n.contextId){const gn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0;if(tt)if(void 0!==n.protocolPath){const _n=c;if("string"!=typeof n.protocolPath){const gn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}tt=_n===c}else tt=!0}}}}}}else{const Cn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Cn]:a.push(Cn),c++}if((Ie=on===c)&&m)m=!1,j=[j,5];else{Ie&&(m=!0,j=5,!0!==pe&&(pe=!0));const Cn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let $t;if(void 0===n.interface&&($t="interface")||void 0===n.method&&($t="method")){const gn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"};null===a?a=[gn]:a.push(gn),c++}else{const gn=c;for(const un in n)if("interface"!==un&&"method"!==un&&"protocol"!==un&&"contextId"!==un&&"protocolPath"!==un){const pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"};null===a?a=[pn]:a.push(pn),c++;break}if(gn===c){if(void 0!==n.interface){const un=c;if("Records"!==n.interface){const pn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[pn]:a.push(pn),c++}var ot=un===c}else ot=!0;if(ot){if(void 0!==n.method){const un=c;if("Delete"!==n.method){const Gt={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot){if(void 0!==n.protocol){const un=c;if("string"!=typeof n.protocol){const Gt={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot){if(void 0!==n.contextId){const un=c;if("string"!=typeof n.contextId){const Gt={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0;if(ot)if(void 0!==n.protocolPath){const un=c;if("string"!=typeof n.protocolPath){const Gt={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gt]:a.push(Gt),c++}ot=un===c}else ot=!0}}}}}}else{const $t={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[$t]:a.push($t),c++}if((Ie=Cn===c)&&m)m=!1,j=[j,6];else{Ie&&(m=!0,j=6,!0!==pe&&(pe=!0));const $t=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let pn;if(void 0===n.interface&&(pn="interface")||void 0===n.method&&(pn="method")){const Gt={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:pn},message:"must have required property '"+pn+"'"};null===a?a=[Gt]:a.push(Gt),c++}else{const Gt=c;for(const Ht in n)if("interface"!==Ht&&"method"!==Ht&&"protocol"!==Ht&&"contextId"!==Ht&&"protocolPath"!==Ht){const yn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"};null===a?a=[yn]:a.push(yn),c++;break}if(Gt===c){if(void 0!==n.interface){const Ht=c;if("Records"!==n.interface){const yn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[yn]:a.push(yn),c++}var xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.method){const Ht=c;if("Write"!==n.method){const Pn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.protocol){const Ht=c;if("string"!=typeof n.protocol){const Pn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt){if(void 0!==n.contextId){const Ht=c;if("string"!=typeof n.contextId){const Pn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0;if(xt)if(void 0!==n.protocolPath){const Ht=c;if("string"!=typeof n.protocolPath){const Pn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Pn]:a.push(Pn),c++}xt=Ht===c}else xt=!0}}}}}}else{const pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[pn]:a.push(pn),c++}if((Ie=$t===c)&&m)m=!1,j=[j,7];else{Ie&&(m=!0,j=7,!0!==pe&&(pe=!0));const pn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let yn;if(void 0===n.interface&&(yn="interface")||void 0===n.method&&(yn="method")){const Pn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[Pn]:a.push(Pn),c++}else{const Pn=c;for(const $n in n)if("interface"!==$n&&"method"!==$n&&"protocol"!==$n&&"contextId"!==$n&&"protocolPath"!==$n){const rn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$n},message:"must NOT have additional properties"};null===a?a=[rn]:a.push(rn),c++;break}if(Pn===c){if(void 0!==n.interface){const $n=c;if("Records"!==n.interface){const rn={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[rn]:a.push(rn),c++}var Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.method){const $n=c;if("Query"!==n.method){const bn={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.protocol){const $n=c;if("string"!=typeof n.protocol){const bn={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct){if(void 0!==n.contextId){const $n=c;if("string"!=typeof n.contextId){const bn={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0;if(Ct)if(void 0!==n.protocolPath){const $n=c;if("string"!=typeof n.protocolPath){const bn={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[bn]:a.push(bn),c++}Ct=$n===c}else Ct=!0}}}}}}else{const yn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yn]:a.push(yn),c++}if((Ie=pn===c)&&m)m=!1,j=[j,8];else{Ie&&(m=!0,j=8,!0!==pe&&(pe=!0));const yn=c;if(c==c)if(n&&"object"==typeof n&&!Array.isArray(n)){let rn;if(void 0===n.interface&&(rn="interface")||void 0===n.method&&(rn="method")){const bn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"};null===a?a=[bn]:a.push(bn),c++}else{const bn=c;for(const On in n)if("interface"!==On&&"method"!==On&&"protocol"!==On&&"contextId"!==On&&"protocolPath"!==On){const rr={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"};null===a?a=[rr]:a.push(rr),c++;break}if(bn===c){if(void 0!==n.interface){const On=c;if("Records"!==n.interface){const rr={instancePath:r+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[rr]:a.push(rr),c++}var Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.method){const On=c;if("Subscribe"!==n.method){const sr={instancePath:r+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.protocol){const On=c;if("string"!=typeof n.protocol){const sr={instancePath:r+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt){if(void 0!==n.contextId){const On=c;if("string"!=typeof n.contextId){const sr={instancePath:r+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0;if(Tt)if(void 0!==n.protocolPath){const On=c;if("string"!=typeof n.protocolPath){const sr={instancePath:r+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[sr]:a.push(sr),c++}Tt=On===c}else Tt=!0}}}}}}else{const rn={instancePath:r,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[rn]:a.push(rn),c++}var Ie;(Ie=yn===c)&&m?(m=!1,j=[j,9]):Ie&&(m=!0,j=9,!0!==pe&&(pe=!0))}}}}}}}}if(!m){const Kt={instancePath:r,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:j},message:"must match exactly one schema in oneOf"};return null===a?a=[Kt]:a.push(Kt),c++,rw.errors=a,!1}return c=E,null!==a&&(E?a.length=E:a=null),rw.errors=a,_.props=pe,0===c}function Qu(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Qu.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Qu.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.delegated&&(m="delegated")||void 0===n.scope&&(m="scope"))return Qu.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=c;for(const oe in n)if("description"!==oe&&"delegated"!==oe&&"scope"!==oe&&"conditions"!==oe)return Qu.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(j===c){if(void 0!==n.description){const oe=c;if("string"!=typeof n.description)return Qu.errors=[{instancePath:r+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=oe===c}else E=!0;if(E){if(void 0!==n.delegated){const oe=c;if("boolean"!=typeof n.delegated)return Qu.errors=[{instancePath:r+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;E=oe===c}else E=!0;if(E){if(void 0!==n.scope){const oe=c;rw(n.scope,{instancePath:r+"/scope",parentData:n,parentDataProperty:"scope",rootData:s,dynamicAnchors:o})||(a=null===a?rw.errors:a.concat(rw.errors),c=a.length),E=oe===c}else E=!0;if(E)if(void 0!==n.conditions){let oe=n.conditions;const le=c;if(c==c){if(!oe||"object"!=typeof oe||Array.isArray(oe))return Qu.errors=[{instancePath:r+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const we=c;for(const Oe in oe)if("publication"!==Oe)return Qu.errors=[{instancePath:r+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(we===c&&void 0!==oe.publication){let Oe=oe.publication;if("string"!=typeof Oe)return Qu.errors=[{instancePath:r+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Oe&&"Prohibited"!==Oe)return Qu.errors=[{instancePath:r+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Rte.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}E=le===c}else E=!0}}}}}}return Qu.errors=a,0===c}rw.evaluated={dynamicProps:!0,dynamicItems:!1},Qu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const N_e=iw;function iw(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=iw.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return iw.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const E=0;for(const m in n)if("description"!==m)return iw.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(0===E&&void 0!==n.description&&"string"!=typeof n.description)return iw.errors=[{instancePath:r+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return iw.errors=null,!0}iw.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const B_e=Lk;function Lk(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=Lk.evaluated;return _.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),n&&"object"==typeof n&&!Array.isArray(n)?(Lk.errors=null,!0):(Lk.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Lk.evaluated={dynamicProps:!1,dynamicItems:!1};const L_e=jk;function jk(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=jk.evaluated;return _.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),n&&"object"==typeof n&&!Array.isArray(n)?(jk.errors=null,!0):(jk.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}jk.evaluated={dynamicProps:!1,dynamicItems:!1};const j_e=Za,Fte=new RegExp(".*","u"),bS={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},Nte=new RegExp("^[^$].*$","u"),$_e=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),V_e=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),Bte=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),ZU={validate:Ji};function Ji(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Ji.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Ji.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Kt=c;for(const Lt in n)if("$encryption"!==Lt&&"$actions"!==Lt&&"$role"!==Lt&&"$size"!==Lt&&"$tags"!==Lt&&!Nte.test(Lt))return Ji.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Lt},message:"must NOT have additional properties"}],!1;if(Kt===c){if(void 0!==n.$encryption){let Lt=n.$encryption;const Xt=c;if(c===Xt){if(!Lt||"object"!=typeof Lt||Array.isArray(Lt))return Ji.errors=[{instancePath:r+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let vt;if(void 0===Lt.rootKeyId&&(vt="rootKeyId")||void 0===Lt.publicKeyJwk&&(vt="publicKeyJwk"))return Ji.errors=[{instancePath:r+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"}],!1;{const Et=c;for(const Dt in Lt)if("rootKeyId"!==Dt&&"publicKeyJwk"!==Dt)return Ji.errors=[{instancePath:r+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dt},message:"must NOT have additional properties"}],!1;if(Et===c){if(void 0!==Lt.rootKeyId){const Dt=c;if("string"!=typeof Lt.rootKeyId)return Ji.errors=[{instancePath:r+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=Dt===c}else E=!0;if(E)if(void 0!==Lt.publicKeyJwk){const Dt=c;Ps(Lt.publicKeyJwk,{instancePath:r+"/$encryption/publicKeyJwk",parentData:Lt,parentDataProperty:"publicKeyJwk",rootData:s,dynamicAnchors:o})||(a=null===a?Ps.errors:a.concat(Ps.errors),c=a.length),E=Dt===c}else E=!0}}}}var m=Xt===c}else m=!0;if(m){if(void 0!==n.$actions){let Lt=n.$actions;const Xt=c;if(c===Xt){if(!Array.isArray(Lt))return Ji.errors=[{instancePath:r+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Lt.length<1)return Ji.errors=[{instancePath:r+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Et=Lt.length;for(let Dt=0;Dt<Et;Dt++){let jt=Lt[Dt];const Ft=c;if(!jt||"object"!=typeof jt||Array.isArray(jt))return Ji.errors=[{instancePath:r+"/$actions/"+Dt,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Jt=c;let on=!1,dn=null;const Yt=c;if(jt&&"object"==typeof jt&&!Array.isArray(jt)){let _n;if(void 0===jt.who&&(_n="who")||void 0===jt.can&&(_n="can")){const $t={instancePath:r+"/$actions/"+Dt,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===a?a=[$t]:a.push($t),c++}else{const $t=c;for(const gn in jt)if("who"!==gn&&"of"!==gn&&"can"!==gn){const un={instancePath:r+"/$actions/"+Dt,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"};null===a?a=[un]:a.push(un),c++;break}if($t===c){if(void 0!==jt.who){let gn=jt.who;const un=c;if("string"!=typeof gn){const pn={instancePath:r+"/$actions/"+Dt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pn]:a.push(pn),c++}if("anyone"!==gn&&"author"!==gn&&"recipient"!==gn){const pn={instancePath:r+"/$actions/"+Dt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:bS.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===a?a=[pn]:a.push(pn),c++}var oe=un===c}else oe=!0;if(oe){if(void 0!==jt.of){const gn=c;if("string"!=typeof jt.of){const pn={instancePath:r+"/$actions/"+Dt+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[pn]:a.push(pn),c++}oe=gn===c}else oe=!0;if(oe)if(void 0!==jt.can){let gn=jt.can;const un=c;if(c===un)if(Array.isArray(gn))if(gn.length<1){const Gt={instancePath:r+"/$actions/"+Dt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[Gt]:a.push(Gt),c++}else{const Gt=gn.length;for(let Ht=0;Ht<Gt;Ht++){let yn=gn[Ht];const Pn=c;if("string"!=typeof yn){const rn={instancePath:r+"/$actions/"+Dt+"/can/"+Ht,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[rn]:a.push(rn),c++}if("co-delete"!==yn&&"co-prune"!==yn&&"co-update"!==yn&&"create"!==yn&&"delete"!==yn&&"prune"!==yn&&"read"!==yn&&"update"!==yn){const rn={instancePath:r+"/$actions/"+Dt+"/can/"+Ht,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:bS.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===a?a=[rn]:a.push(rn),c++}if(Pn!==c)break}}else{const Gt={instancePath:r+"/$actions/"+Dt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Gt]:a.push(Gt),c++}oe=un===c}else oe=!0}}}}if(Yt===c){on=!0,dn=0;var ue=!0}const Cn=c;if(jt&&"object"==typeof jt&&!Array.isArray(jt)){let _n;if(void 0===jt.role&&(_n="role")||void 0===jt.can&&(_n="can")){const $t={instancePath:r+"/$actions/"+Dt,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===a?a=[$t]:a.push($t),c++}else{if(void 0!==jt.role){const $t=c;if("string"!=typeof jt.role){const gn={instancePath:r+"/$actions/"+Dt+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[gn]:a.push(gn),c++}var pe=$t===c}else pe=!0;if(pe)if(void 0!==jt.can){let $t=jt.can;const gn=c;if(c===gn)if(Array.isArray($t))if($t.length<1){const pn={instancePath:r+"/$actions/"+Dt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[pn]:a.push(pn),c++}else{const pn=$t.length;for(let Gt=0;Gt<pn;Gt++){let Ht=$t[Gt];const yn=c;if("string"!=typeof Ht){const $n={instancePath:r+"/$actions/"+Dt+"/can/"+Gt,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[$n]:a.push($n),c++}if("co-delete"!==Ht&&"co-update"!==Ht&&"create"!==Ht&&"delete"!==Ht&&"query"!==Ht&&"subscribe"!==Ht&&"read"!==Ht&&"update"!==Ht){const $n={instancePath:r+"/$actions/"+Dt+"/can/"+Gt,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:bS.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===a?a=[$n]:a.push($n),c++}if(yn!==c)break}}else{const pn={instancePath:r+"/$actions/"+Dt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[pn]:a.push(pn),c++}pe=gn===c}else pe=!0}}var Oe;if((Oe=Cn===c)&&on?(on=!1,dn=[dn,1]):Oe&&(on=!0,dn=1,!0!==ue&&((ue=ue||{}).role=!0,ue.can=!0)),!on){const _n={instancePath:r+"/$actions/"+Dt,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:dn},message:"must match exactly one schema in oneOf"};return null===a?a=[_n]:a.push(_n),c++,Ji.errors=a,!1}if(c=Jt,null!==a&&(Jt?a.length=Jt:a=null),Ft!==c)break}}}m=Xt===c}else m=!0;if(m){if(void 0!==n.$role){const Lt=c;if("boolean"!=typeof n.$role)return Ji.errors=[{instancePath:r+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;m=Lt===c}else m=!0;if(m){if(void 0!==n.$size){let Lt=n.$size;const Xt=c;if(c===Xt){if(!Lt||"object"!=typeof Lt||Array.isArray(Lt))return Ji.errors=[{instancePath:r+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Et=c;for(const Dt in Lt)if("min"!==Dt&&"max"!==Dt)return Ji.errors=[{instancePath:r+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dt},message:"must NOT have additional properties"}],!1;if(Et===c){if(void 0!==Lt.min){let Dt=Lt.min;const jt=c;if(c===jt){if("number"!=typeof Dt||!isFinite(Dt))return Ji.errors=[{instancePath:r+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Dt<0||isNaN(Dt))return Ji.errors=[{instancePath:r+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var Pe=jt===c}else Pe=!0;if(Pe)if(void 0!==Lt.max){let Dt=Lt.max;const jt=c;if(c===jt){if("number"!=typeof Dt||!isFinite(Dt))return Ji.errors=[{instancePath:r+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Dt<0||isNaN(Dt))return Ji.errors=[{instancePath:r+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}Pe=jt===c}else Pe=!0}}}m=Xt===c}else m=!0;if(m){if(void 0!==n.$tags){let Lt=n.$tags;const Xt=c;if(c===Xt){if(!Lt||"object"!=typeof Lt||Array.isArray(Lt))return Ji.errors=[{instancePath:r+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Lt).length<1)return Ji.errors=[{instancePath:r+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Lt.$requiredTags){let Et=Lt.$requiredTags;const Dt=c;if(c===Dt){if(!Array.isArray(Et))return Ji.errors=[{instancePath:r+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const jt=Et.length;for(let Ft=0;Ft<jt;Ft++){const Jt=c;if("string"!=typeof Et[Ft])return Ji.errors=[{instancePath:r+"/$tags/$requiredTags/"+Ft,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Jt!==c)break}}}var $e=Dt===c}else $e=!0;if($e){if(void 0!==Lt.$allowUndefinedTags){const Et=c;if("boolean"!=typeof Lt.$allowUndefinedTags)return Ji.errors=[{instancePath:r+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$e=Et===c}else $e=!0;if($e){var Je={$requiredTags:!0,$allowUndefinedTags:!0};for(const Et in Lt)if($_e.test(Et)){let Dt=Lt[Et];if(c==c){if(!Dt||"object"!=typeof Dt||Array.isArray(Dt))return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ft=c;for(const Jt in Dt)if("type"!==Jt&&"items"!==Jt&&"contains"!==Jt&&!V_e.test(Jt))return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jt},message:"must NOT have additional properties"}],!1;if(Ft===c){if(void 0!==Dt.type){let Jt=Dt.type;const on=c;if("string"!==Jt&&"number"!==Jt&&"integer"!==Jt&&"boolean"!==Jt&&"array"!==Jt)return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:bS.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Qe=on===c}else Qe=!0;if(Qe){if(void 0!==Dt.items){let Jt=Dt.items;const on=c;if(c===on){if(!Jt||"object"!=typeof Jt||Array.isArray(Jt))return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Jt.type){let Yt=Jt.type;const Cn=c;if("string"!==Yt&&"number"!==Yt&&"integer"!==Yt)return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:bS.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var tt=Cn===c}else tt=!0;if(tt){var ot={type:!0};for(const Yt in Jt)Bte.test(Yt)&&(ot[Yt]=!0)}}Qe=on===c}else Qe=!0;if(Qe)if(void 0!==Dt.contains){let Jt=Dt.contains;const on=c;if(c===on){if(!Jt||"object"!=typeof Jt||Array.isArray(Jt))return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Jt.type){let Yt=Jt.type;const Cn=c;if("string"!==Yt&&"number"!==Yt&&"integer"!==Yt)return Ji.errors=[{instancePath:r+"/$tags/"+Et.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:bS.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var xt=Cn===c}else xt=!0;if(xt){var Ct={type:!0};for(const Yt in Jt)Bte.test(Yt)&&(Ct[Yt]=!0)}}Qe=on===c}else Qe=!0}}}}Je[Et]=!0}}}}m=Xt===c}else m=!0;if(m)for(const Lt in n)if(Nte.test(Lt)){const Xt=c;if(ZU.validate(n[Lt],{instancePath:r+"/"+Lt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:n,parentDataProperty:Lt,rootData:s,dynamicAnchors:o})||(a=null===a?ZU.validate.errors:a.concat(ZU.validate.errors),c=a.length),Xt!==c)break}}}}}}}}return Ji.errors=a,0===c}function Za(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Za.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Za.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ue;if(void 0===n.protocol&&(ue="protocol")||void 0===n.published&&(ue="published")||void 0===n.types&&(ue="types")||void 0===n.structure&&(ue="structure"))return Za.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:ue},message:"must have required property '"+ue+"'"}],!1;{const pe=c;for(const we in n)if("protocol"!==we&&"published"!==we&&"types"!==we&&"structure"!==we)return Za.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties"}],!1;if(pe===c){if(void 0!==n.protocol){const we=c;if("string"!=typeof n.protocol)return Za.errors=[{instancePath:r+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=we===c}else E=!0;if(E){if(void 0!==n.published){const we=c;if("boolean"!=typeof n.published)return Za.errors=[{instancePath:r+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;E=we===c}else E=!0;if(E){if(void 0!==n.types){let we=n.types;const Oe=c;if(c===Oe){if(!we||"object"!=typeof we||Array.isArray(we))return Za.errors=[{instancePath:r+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m={};for(const Ie in we)if(Fte.test(Ie)){let $e=we[Ie];if(c==c){if(!$e||"object"!=typeof $e||Array.isArray($e))return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Qe=c;for(const tt in $e)if("schema"!==tt&&"dataFormats"!==tt)return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tt},message:"must NOT have additional properties"}],!1;if(Qe===c){if(void 0!==$e.schema){const tt=c;if("string"!=typeof $e.schema)return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var j=tt===c}else j=!0;if(j)if(void 0!==$e.dataFormats){let tt=$e.dataFormats;const ot=c;if(c===ot){if(!Array.isArray(tt))return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(tt.length<1)return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Ct=tt.length;for(let Tt=0;Tt<Ct;Tt++){const Kt=c;if("string"!=typeof tt[Tt])return Za.errors=[{instancePath:r+"/types/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Tt,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Kt!==c)break}}}j=ot===c}else j=!0}}}m[Ie]=!0}}E=Oe===c}else E=!0;if(E)if(void 0!==n.structure){let we=n.structure;const Oe=c;if(c===Oe){if(!we||"object"!=typeof we||Array.isArray(we))return Za.errors=[{instancePath:r+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var le={};for(const Ie in we)Fte.test(Ie)&&(Ji(we[Ie],{instancePath:r+"/structure/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:we,parentDataProperty:Ie,rootData:s,dynamicAnchors:o})||(a=null===a?Ji.errors:a.concat(Ji.errors),c=a.length),le[Ie]=!0)}E=Oe===c}else E=!0}}}}}}return Za.errors=a,0===c}Ji.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Za.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const U_e=Ji,z_e=Ql,Lte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Ql(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Ql.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Ql.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.authorization&&(j="authorization")||void 0===n.descriptor&&(j="descriptor"))return Ql.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{const oe=c;for(const le in n)if("authorization"!==le&&"descriptor"!==le)return Ql.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(oe===c){if(void 0!==n.authorization){const le=c;Da(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?Da.errors:a.concat(Da.errors),c=a.length);var E=le===c}else E=!0;if(E)if(void 0!==n.descriptor){let le=n.descriptor;const ue=c;if(c===ue){if(!le||"object"!=typeof le||Array.isArray(le))return Ql.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let we;if(void 0===le.interface&&(we="interface")||void 0===le.method&&(we="method")||void 0===le.messageTimestamp&&(we="messageTimestamp")||void 0===le.definition&&(we="definition"))return Ql.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"}],!1;{const Oe=c;for(const Pe in le)if("interface"!==Pe&&"method"!==Pe&&"messageTimestamp"!==Pe&&"definition"!==Pe)return Ql.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Oe===c){if(void 0!==le.interface){let Pe=le.interface;const Ie=c;if("string"!=typeof Pe)return Ql.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Pe)return Ql.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Lte.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Ie===c}else m=!0;if(m){if(void 0!==le.method){let Pe=le.method;const Ie=c;if("string"!=typeof Pe)return Ql.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Pe)return Ql.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Lte.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Ie===c}else m=!0;if(m){if(void 0!==le.messageTimestamp){let Pe=le.messageTimestamp;const Ie=c;if(c==c){if("string"!=typeof Pe)return Ql.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Pe))return Ql.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Ie===c}else m=!0;if(m)if(void 0!==le.definition){const Pe=c;Za(le.definition,{instancePath:r+"/descriptor/definition",parentData:le,parentDataProperty:"definition",rootData:s,dynamicAnchors:o})||(a=null===a?Za.errors:a.concat(Za.errors),c=a.length),m=Pe===c}else m=!0}}}}}}E=ue===c}else E=!0}}}}return Ql.errors=a,0===c}Ql.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const H_e=pa,jte={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function pa(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=pa.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return pa.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===n.descriptor&&(oe="descriptor"))return pa.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const le=c;for(const ue in n)if("authorization"!==ue&&"descriptor"!==ue)return pa.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ue},message:"must NOT have additional properties"}],!1;if(le===c){if(void 0!==n.authorization){const ue=c;jc(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?jc.errors:a.concat(jc.errors),c=a.length);var E=ue===c}else E=!0;if(E)if(void 0!==n.descriptor){let ue=n.descriptor;const pe=c;if(c===pe){if(!ue||"object"!=typeof ue||Array.isArray(ue))return pa.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===ue.interface&&(Oe="interface")||void 0===ue.method&&(Oe="method")||void 0===ue.messageTimestamp&&(Oe="messageTimestamp"))return pa.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const Pe=c;for(const Ie in ue)if("interface"!==Ie&&"method"!==Ie&&"messageTimestamp"!==Ie&&"filter"!==Ie)return pa.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties"}],!1;if(Pe===c){if(void 0!==ue.interface){let Ie=ue.interface;const $e=c;if("string"!=typeof Ie)return pa.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Ie)return pa.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:jte.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=$e===c}else m=!0;if(m){if(void 0!==ue.method){let Ie=ue.method;const $e=c;if("string"!=typeof Ie)return pa.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ie)return pa.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:jte.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=$e===c}else m=!0;if(m){if(void 0!==ue.messageTimestamp){let Ie=ue.messageTimestamp;const $e=c;if(c==c){if("string"!=typeof Ie)return pa.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Ie))return pa.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=$e===c}else m=!0;if(m)if(void 0!==ue.filter){let Ie=ue.filter;const $e=c;if(c===$e){if(!Ie||"object"!=typeof Ie||Array.isArray(Ie))return pa.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ie).length<1)return pa.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Qe=c;for(const tt in Ie)if("protocol"!==tt&&"recipient"!==tt)return pa.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tt},message:"must NOT have additional properties"}],!1;if(Qe===c){if(void 0!==Ie.protocol){const tt=c;if("string"!=typeof Ie.protocol)return pa.errors=[{instancePath:r+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var j=tt===c}else j=!0;if(j)if(void 0!==Ie.recipient){let tt=Ie.recipient;const ot=c;if(c==c){if("string"!=typeof tt)return pa.errors=[{instancePath:r+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Iv.test(tt))return pa.errors=[{instancePath:r+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}j=ot===c}else j=!0}}}m=$e===c}else m=!0}}}}}}E=pe===c}else E=!0}}}}return pa.errors=a,0===c}pa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const G_e=ed,$te={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function ed(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=ed.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return ed.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let j;if(void 0===n.descriptor&&(j="descriptor"))return ed.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{const oe=c;for(const le in n)if("authorization"!==le&&"descriptor"!==le)return ed.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties"}],!1;if(oe===c){if(void 0!==n.authorization){const le=c;Da(n.authorization,{instancePath:r+"/authorization",parentData:n,parentDataProperty:"authorization",rootData:s,dynamicAnchors:o})||(a=null===a?Da.errors:a.concat(Da.errors),c=a.length);var E=le===c}else E=!0;if(E)if(void 0!==n.descriptor){let le=n.descriptor;const ue=c;if(c===ue){if(!le||"object"!=typeof le||Array.isArray(le))return ed.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let we;if(void 0===le.interface&&(we="interface")||void 0===le.method&&(we="method")||void 0===le.messageTimestamp&&(we="messageTimestamp")||void 0===le.filter&&(we="filter"))return ed.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:we},message:"must have required property '"+we+"'"}],!1;{const Oe=c;for(const Pe in le)if("interface"!==Pe&&"method"!==Pe&&"messageTimestamp"!==Pe&&"filter"!==Pe)return ed.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Oe===c){if(void 0!==le.interface){let Pe=le.interface;const Ie=c;if("string"!=typeof Pe)return ed.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Pe)return ed.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$te.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var m=Ie===c}else m=!0;if(m){if(void 0!==le.method){let Pe=le.method;const Ie=c;if("string"!=typeof Pe)return ed.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Pe)return ed.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$te.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;m=Ie===c}else m=!0;if(m){if(void 0!==le.messageTimestamp){let Pe=le.messageTimestamp;const Ie=c;if(c==c){if("string"!=typeof Pe)return ed.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ya.test(Pe))return ed.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}m=Ie===c}else m=!0;if(m)if(void 0!==le.filter){const Pe=c;xr(le.filter,{instancePath:r+"/descriptor/filter",parentData:le,parentDataProperty:"filter",rootData:s,dynamicAnchors:o})||(a=null===a?xr.errors:a.concat(xr.errors),c=a.length),m=Pe===c}else m=!0}}}}}}E=ue===c}else E=!0}}}}return ed.errors=a,0===c}ed.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const W_e=xr,K_e=Ps,q_e=up;function up(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=up.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return up.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.descriptorCid&&(m="descriptorCid"))return up.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=0;for(const oe in n)if("descriptorCid"!==oe&&"delegatedGrantId"!==oe&&"permissionGrantId"!==oe&&"protocolRole"!==oe)return up.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(0===j){if(void 0!==n.descriptorCid){const oe=0;if("string"!=typeof n.descriptorCid)return up.errors=[{instancePath:r+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=0===oe}else E=!0;if(E){if(void 0!==n.delegatedGrantId){const oe=0;if("string"!=typeof n.delegatedGrantId)return up.errors=[{instancePath:r+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.permissionGrantId){const oe=0;if("string"!=typeof n.permissionGrantId)return up.errors=[{instancePath:r+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E)if(void 0!==n.protocolRole){const oe=0;if("string"!=typeof n.protocolRole)return up.errors=[{instancePath:r+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0}}}}}return up.errors=null,!0}up.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const X_e=kd;function kd(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){const _=kd.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),!n||"object"!=typeof n||Array.isArray(n))return kd.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let m;if(void 0===n.descriptorCid&&(m="descriptorCid")||void 0===n.recordId&&(m="recordId"))return kd.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"}],!1;{const j=0;for(const oe in n)if("descriptorCid"!==oe&&"recordId"!==oe&&"contextId"!==oe&&"attestationCid"!==oe&&"encryptionCid"!==oe&&"delegatedGrantId"!==oe&&"permissionGrantId"!==oe&&"protocolRole"!==oe)return kd.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(0===j){if(void 0!==n.descriptorCid){const oe=0;if("string"!=typeof n.descriptorCid)return kd.errors=[{instancePath:r+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=0===oe}else E=!0;if(E){if(void 0!==n.recordId){const oe=0;if("string"!=typeof n.recordId)return kd.errors=[{instancePath:r+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.contextId){const oe=0;if("string"!=typeof n.contextId)return kd.errors=[{instancePath:r+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.attestationCid){const oe=0;if("string"!=typeof n.attestationCid)return kd.errors=[{instancePath:r+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.encryptionCid){const oe=0;if("string"!=typeof n.encryptionCid)return kd.errors=[{instancePath:r+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.delegatedGrantId){const oe=0;if("string"!=typeof n.delegatedGrantId)return kd.errors=[{instancePath:r+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E){if(void 0!==n.permissionGrantId){const oe=0;if("string"!=typeof n.permissionGrantId)return kd.errors=[{instancePath:r+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0;if(E)if(void 0!==n.protocolRole){const oe=0;if("string"!=typeof n.protocolRole)return kd.errors=[{instancePath:r+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=0===oe}else E=!0}}}}}}}}}return kd.errors=null,!0}kd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Y_e=Id;function Id(n,{instancePath:r="",rootData:s=n,dynamicAnchors:o={}}={}){let a=null,c=0;const _=Id.evaluated;if(_.dynamicProps&&(_.props=void 0),_.dynamicItems&&(_.items=void 0),0===c){if(!n||"object"!=typeof n||Array.isArray(n))return Id.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(n).length<1)return Id.errors=[{instancePath:r,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pe=c;for(const we in n)if("gt"!==we&&"gte"!==we&&"lt"!==we&&"lte"!==we)return Id.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties"}],!1;if(pe===c){if(void 0!==n.gt){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let Ie;if(void 0===n.gte&&(Ie="gte")){const $e={};null===a?a=[$e]:a.push($e),c++}}if(Pe===c)return Id.errors=[{instancePath:r,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null);var m=we===c}else m=!0;if(m){if(void 0!==n.gte){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.gt&&($e="gt")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Id.errors=[{instancePath:r,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.lt){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.lte&&($e="lte")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Id.errors=[{instancePath:r,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.lte){const we=c,Oe=c,Pe=c;if(n&&"object"==typeof n&&!Array.isArray(n)){let $e;if(void 0===n.lt&&($e="lt")){const Je={};null===a?a=[Je]:a.push(Je),c++}}if(Pe===c)return Id.errors=[{instancePath:r,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;c=Oe,null!==a&&(Oe?a.length=Oe:a=null),m=we===c}else m=!0;if(m){if(void 0!==n.gt){const we=c;if("string"!=typeof n.gt)return Id.errors=[{instancePath:r+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ue=we===c}else ue=!0;if(ue){if(void 0!==n.gte){const we=c;if("string"!=typeof n.gte)return Id.errors=[{instancePath:r+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ue=we===c}else ue=!0;if(ue){if(void 0!==n.lt){const we=c;if("string"!=typeof n.lt)return Id.errors=[{instancePath:r+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ue=we===c}else ue=!0;if(ue)if(void 0!==n.lte){const we=c;if("string"!=typeof n.lte)return Id.errors=[{instancePath:r+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ue=we===c}else ue=!0}}}}}}}}}return Id.errors=a,0===c}function _S(n,r){const t=Q[n];if(!t)throw new Sn(xn.SchemaValidatorSchemaNotFound,`schema for ${n} not found.`);if(t(r),!t.errors)return;const[i]=t.errors;let{instancePath:s,message:o,keyword:a}=i;if(s||(s=n),"additionalProperties"===a)throw new Sn(xn.SchemaValidatorAdditionalPropertyNotAllowed,`${o}: ${s}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===a)throw new Sn(xn.SchemaValidatorUnevaluatedPropertyNotAllowed,`${o}: ${s}: ${i.params.unevaluatedProperty}`);throw new Sn(xn.SchemaValidatorFailure,`${s}: ${o}`)}Id.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var JU=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class fp{constructor(r){this.cache=r||new u_e(600)}static get singleton(){return void 0===fp._singleton&&(fp._singleton=new fp),fp._singleton}static verifySignatures(r,t){return JU(this,void 0,void 0,function*(){return yield fp.singleton.verifySignatures(r,t)})}verifySignatures(r,t){return JU(this,void 0,void 0,function*(){const i=[];for(const s of r.signatures){let o;const a=vo.getKid(s),c=`${s.protected}.${r.payload}.${s.signature}`,_=yield this.cache.get(c);if(void 0===_){const m=yield fp.getPublicKey(a,t);o=yield vo.verifySignature(r.payload,s,m),yield this.cache.set(c,o)}else o=_;const E=vo.extractDid(a);if(!o)throw new Sn(xn.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${E}`);i.push(E)}return{signers:i}})}static getPublicKey(r,t){return JU(this,void 0,void 0,function*(){const i=vo.extractDid(r),{didDocument:s}=yield t.resolve(i),{verificationMethod:o=[]}=s||{};let a;for(const _ of o)if(r.endsWith(_.id)){a=_;break}if(!a)throw new Sn(xn.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");_S("JwkVerificationMethod",a);const{publicKeyJwk:c}=a;return c})}}const Z_e=["string","number","bigint","symbol"],J_e=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Rn{constructor(r,t,i){this.major=r,this.majorEncoded=r<<5,this.name=t,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(r){return this.major<r.major?-1:this.major>r.major?1:0}}Rn.uint=new Rn(0,"uint",!0),Rn.negint=new Rn(1,"negint",!0),Rn.bytes=new Rn(2,"bytes",!0),Rn.string=new Rn(3,"string",!0),Rn.array=new Rn(4,"array",!1),Rn.map=new Rn(5,"map",!1),Rn.tag=new Rn(6,"tag",!1),Rn.float=new Rn(7,"float",!0),Rn.false=new Rn(7,"false",!0),Rn.true=new Rn(7,"true",!0),Rn.null=new Rn(7,"null",!0),Rn.undefined=new Rn(7,"undefined",!0),Rn.break=new Rn(7,"break",!0);class zr{constructor(r,t,i){this.type=r,this.value=t,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const wS=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,n1e=new TextDecoder,r1e=new TextEncoder;function BR(n){return wS&&globalThis.Buffer.isBuffer(n)}function Vte(n){return n instanceof Uint8Array?BR(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n:Uint8Array.from(n)}const i1e=wS?(n,r,t)=>t-r>64?globalThis.Buffer.from(n.subarray(r,t)).toString("utf8"):zte(n,r,t):(n,r,t)=>t-r>64?n1e.decode(n.subarray(r,t)):zte(n,r,t),s1e=wS?n=>n.length>64?globalThis.Buffer.from(n):Ute(n):n=>n.length>64?r1e.encode(n):Ute(n),Y0=n=>Uint8Array.from(n),QU=wS?(n,r,t)=>BR(n)?new Uint8Array(n.subarray(r,t)):n.slice(r,t):(n,r,t)=>n.slice(r,t),o1e=wS?(n,r)=>(n=n.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),Vte(globalThis.Buffer.concat(n,r))):(n,r)=>{const t=new Uint8Array(r);let i=0;for(let s of n)i+s.length>t.length&&(s=s.subarray(0,t.length-i)),t.set(s,i),i+=s.length;return t},a1e=wS?n=>globalThis.Buffer.allocUnsafe(n):n=>new Uint8Array(n);function Ute(n,r=1/0){let t;const i=n.length;let s=null;const o=[];for(let a=0;a<i;++a){if(t=n.charCodeAt(a),t>55295&&t<57344){if(!s){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(r-=3)>-1&&o.push(239,191,189);continue}s=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),s=t;continue}t=65536+(s-55296<<10|t-56320)}else s&&(r-=3)>-1&&o.push(239,191,189);if(s=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function zte(n,r,t){const i=[];for(;r<t;){const s=n[r];let o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=t){let c,_,E,m;switch(a){case 1:s<128&&(o=s);break;case 2:c=n[r+1],128==(192&c)&&(m=(31&s)<<6|63&c,m>127&&(o=m));break;case 3:c=n[r+1],_=n[r+2],128==(192&c)&&128==(192&_)&&(m=(15&s)<<12|(63&c)<<6|63&_,m>2047&&(m<55296||m>57343)&&(o=m));break;case 4:c=n[r+1],_=n[r+2],E=n[r+3],128==(192&c)&&128==(192&_)&&128==(192&E)&&(m=(15&s)<<18|(63&c)<<12|(63&_)<<6|63&E,m>65535&&m<1114112&&(o=m))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),r+=a}return function l1e(n){const r=n.length;if(r<=Hte)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<r;)t+=String.fromCharCode.apply(String,n.slice(i,i+=Hte));return t}(i)}const Hte=4096;class Gte{constructor(r=256){this.chunkSize=r,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(r){let t=this.chunks[this.chunks.length-1];if(this.cursor+r.length<=this.maxCursor+1)t.set(r,t.length-(this.maxCursor-this.cursor)-1);else{if(t){const s=t.length-(this.maxCursor-this.cursor)-1;s<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,s),this.maxCursor=this.cursor-1)}r.length<64&&r.length<this.chunkSize?(t=a1e(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(r,0)):(this.chunks.push(r),this.maxCursor+=r.length)}this.cursor+=r.length}toBytes(r=!1){let t;if(1===this.chunks.length){const i=this.chunks[0];r&&this.cursor>i.length/2?(t=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=QU(i,0,this.cursor)}else t=o1e(this.chunks,this.cursor);return r&&this.reset(),t}}const rs="CBOR decode error:",Wte="CBOR encode error:",$k=[];function xS(n,r,t){if(n.length-r<t)throw new Error(`${rs} not enough data for type`)}$k[23]=1,$k[24]=2,$k[25]=3,$k[26]=5,$k[27]=9;const wl=[24,256,65536,4294967296,BigInt("18446744073709551616")];function sw(n,r,t){xS(n,r,1);const i=n[r];if(!0===t.strict&&i<wl[0])throw new Error(`${rs} integer encoded in more bytes than necessary (strict decode)`);return i}function ow(n,r,t){xS(n,r,2);const i=n[r]<<8|n[r+1];if(!0===t.strict&&i<wl[1])throw new Error(`${rs} integer encoded in more bytes than necessary (strict decode)`);return i}function aw(n,r,t){xS(n,r,4);const i=16777216*n[r]+(n[r+1]<<16)+(n[r+2]<<8)+n[r+3];if(!0===t.strict&&i<wl[2])throw new Error(`${rs} integer encoded in more bytes than necessary (strict decode)`);return i}function cw(n,r,t){xS(n,r,8);const s=16777216*n[r+4]+(n[r+5]<<16)+(n[r+6]<<8)+n[r+7],o=(BigInt(16777216*n[r]+(n[r+1]<<16)+(n[r+2]<<8)+n[r+3])<<BigInt(32))+BigInt(s);if(!0===t.strict&&o<wl[3])throw new Error(`${rs} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===t.allowBigInt)return o;throw new Error(`${rs} integers outside of the safe integer range are not supported`)}function lw(n,r){return ah(n,0,r.value)}function ah(n,r,t){if(t<wl[0]){const i=Number(t);n.push([r|i])}else if(t<wl[1]){const i=Number(t);n.push([24|r,i])}else if(t<wl[2]){const i=Number(t);n.push([25|r,i>>>8,255&i])}else if(t<wl[3]){const i=Number(t);n.push([26|r,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(t);if(!(i<wl[4]))throw new Error(`${rs} encountered BigInt larger than allowable range`);{const s=[27|r,0,0,0,0,0,0,0];let o=Number(i&BigInt(4294967295)),a=Number(i>>BigInt(32)&BigInt(4294967295));s[8]=255&o,o>>=8,s[7]=255&o,o>>=8,s[6]=255&o,o>>=8,s[5]=255&o,s[4]=255&a,a>>=8,s[3]=255&a,a>>=8,s[2]=255&a,a>>=8,s[1]=255&a,n.push(s)}}}lw.encodedSize=function(r){return ah.encodedSize(r.value)},ah.encodedSize=function(r){return r<wl[0]?1:r<wl[1]?2:r<wl[2]?3:r<wl[3]?5:9},lw.compareTokens=function(r,t){return r.value<t.value?-1:r.value>t.value?1:0};const ez=BigInt(-1),Kte=BigInt(1);function tz(n,r){const t=r.value;ah(n,r.type.majorEncoded,"bigint"==typeof t?t*ez-Kte:-1*t-1)}function Vk(n,r,t,i){xS(n,r,t+i);const s=QU(n,r+t,r+t+i);return new zr(Rn.bytes,s,t+i)}function b1e(n,r,t,i){return Vk(n,r,1,t)}function LR(n){return void 0===n.encodedBytes&&(n.encodedBytes=n.type===Rn.string?s1e(n.value):n.value),n.encodedBytes}function jR(n,r){const t=LR(r);ah(n,r.type.majorEncoded,t.length),n.push(t)}function Uk(n,r,t,i,s){const o=t+i;xS(n,r,o);const a=new zr(Rn.string,i1e(n,r+t,r+o),o);return!0===s.retainStringBytes&&(a.byteValue=QU(n,r+t,r+o)),a}function C1e(n,r,t,i){return Uk(n,r,1,t,i)}tz.encodedSize=function(r){const t=r.value,i="bigint"==typeof t?t*ez-Kte:-1*t-1;return i<wl[0]?1:i<wl[1]?2:i<wl[2]?3:i<wl[3]?5:9},tz.compareTokens=function(r,t){return r.value<t.value?1:r.value>t.value?-1:0},jR.encodedSize=function(r){const t=LR(r);return ah.encodedSize(t.length)+t.length},jR.compareTokens=function(r,t){return function S1e(n,r){return n.length<r.length?-1:n.length>r.length?1:function c1e(n,r){if(BR(n)&&BR(r))return n.compare(r);for(let t=0;t<n.length;t++)if(n[t]!==r[t])return n[t]<r[t]?-1:1;return 0}(n,r)}(LR(r),LR(t))};const k1e=jR;function ES(n,r,t,i){return new zr(Rn.array,i,t)}function I1e(n,r,t,i){return ES(0,0,1,t)}function nz(n,r){ah(n,Rn.array.majorEncoded,r.value)}function SS(n,r,t,i){return new zr(Rn.map,i,t)}function B1e(n,r,t,i){return SS(0,0,1,t)}function rz(n,r){ah(n,Rn.map.majorEncoded,r.value)}function z1e(n,r,t,i){return new zr(Rn.tag,t,1)}function iz(n,r){ah(n,Rn.tag.majorEncoded,r.value)}nz.compareTokens=lw.compareTokens,nz.encodedSize=function(r){return ah.encodedSize(r.value)},rz.compareTokens=lw.compareTokens,rz.encodedSize=function(r){return ah.encodedSize(r.value)},iz.compareTokens=lw.compareTokens,iz.encodedSize=function(r){return ah.encodedSize(r.value)};function sz(n,r,t){if(t){if(!1===t.allowNaN&&Number.isNaN(n))throw new Error(`${rs} NaN values are not supported`);if(!1===t.allowInfinity&&(n===1/0||n===-1/0))throw new Error(`${rs} Infinity values are not supported`)}return new zr(Rn.float,n,r)}function oz(n,r,t){const i=r.value;if(!1===i)n.push([20|Rn.float.majorEncoded]);else if(!0===i)n.push([21|Rn.float.majorEncoded]);else if(null===i)n.push([22|Rn.float.majorEncoded]);else if(void 0===i)n.push([23|Rn.float.majorEncoded]);else{let s,o=!1;(!t||!0!==t.float64)&&(Xte(i),s=az(hp,1),i===s||Number.isNaN(i)?(hp[0]=249,n.push(hp.slice(0,3)),o=!0):(Yte(i),s=cz(hp,1),i===s&&(hp[0]=250,n.push(hp.slice(0,5)),o=!0))),o||(function rwe(n){ch.setFloat64(0,n,!1)}(i),s=Zte(hp,1),hp[0]=251,n.push(hp.slice(0,9)))}}oz.encodedSize=function(r,t){const i=r.value;if(!1===i||!0===i||null==i)return 1;if(!t||!0!==t.float64){Xte(i);let s=az(hp,1);if(i===s||Number.isNaN(i))return 3;if(Yte(i),s=cz(hp,1),i===s)return 5}return 9};const qte=new ArrayBuffer(9),ch=new DataView(qte,1),hp=new Uint8Array(qte,0);function Xte(n){if(n===1/0)ch.setUint16(0,31744,!1);else if(n===-1/0)ch.setUint16(0,64512,!1);else if(Number.isNaN(n))ch.setUint16(0,32256,!1);else{ch.setFloat32(0,n);const r=ch.getUint32(0),t=(2139095040&r)>>23,i=8388607&r;if(255===t)ch.setUint16(0,31744,!1);else if(0===t)ch.setUint16(0,(2147483648&n)>>16|i>>13,!1);else{const s=t-127;s<-24?ch.setUint16(0,0):ch.setUint16(0,s<-14?(2147483648&r)>>16|1<<24+s:(2147483648&r)>>16|s+15<<10|i>>13,!1)}}}function az(n,r){if(n.length-r<2)throw new Error(`${rs} not enough data for float16`);const t=(n[r]<<8)+n[r+1];if(31744===t)return 1/0;if(64512===t)return-1/0;if(32256===t)return NaN;const i=t>>10&31,s=1023&t;let o;return o=0===i?s*2**-24:31!==i?(s+1024)*2**(i-25):0===s?1/0:NaN,32768&t?-o:o}function Yte(n){ch.setFloat32(0,n,!1)}function cz(n,r){if(n.length-r<4)throw new Error(`${rs} not enough data for float32`);return new DataView(n.buffer,(n.byteOffset||0)+r,4).getFloat32(0,!1)}function Zte(n,r){if(n.length-r<8)throw new Error(`${rs} not enough data for float64`);return new DataView(n.buffer,(n.byteOffset||0)+r,8).getFloat64(0,!1)}function ws(n,r,t){throw new Error(`${rs} encountered invalid minor (${t}) for major ${n[r]>>>5}`)}function $R(n){return()=>{throw new Error(`${rs} ${n}`)}}oz.compareTokens=lw.compareTokens;const or=[];for(let n=0;n<=23;n++)or[n]=ws;or[24]=function u1e(n,r,t,i){return new zr(Rn.uint,sw(n,r+1,i),2)},or[25]=function f1e(n,r,t,i){return new zr(Rn.uint,ow(n,r+1,i),3)},or[26]=function h1e(n,r,t,i){return new zr(Rn.uint,aw(n,r+1,i),5)},or[27]=function p1e(n,r,t,i){return new zr(Rn.uint,cw(n,r+1,i),9)},or[28]=ws,or[29]=ws,or[30]=ws,or[31]=ws;for(let n=32;n<=55;n++)or[n]=ws;or[56]=function m1e(n,r,t,i){return new zr(Rn.negint,-1-sw(n,r+1,i),2)},or[57]=function g1e(n,r,t,i){return new zr(Rn.negint,-1-ow(n,r+1,i),3)},or[58]=function y1e(n,r,t,i){return new zr(Rn.negint,-1-aw(n,r+1,i),5)},or[59]=function v1e(n,r,t,i){const s=cw(n,r+1,i);if("bigint"!=typeof s){const o=-1-s;if(o>=Number.MIN_SAFE_INTEGER)return new zr(Rn.negint,o,9)}if(!0!==i.allowBigInt)throw new Error(`${rs} integers outside of the safe integer range are not supported`);return new zr(Rn.negint,ez-BigInt(s),9)},or[60]=ws,or[61]=ws,or[62]=ws,or[63]=ws;for(let n=64;n<=87;n++)or[n]=b1e;or[88]=function _1e(n,r,t,i){return Vk(n,r,2,sw(n,r+1,i))},or[89]=function w1e(n,r,t,i){return Vk(n,r,3,ow(n,r+1,i))},or[90]=function x1e(n,r,t,i){return Vk(n,r,5,aw(n,r+1,i))},or[91]=function E1e(n,r,t,i){const s=cw(n,r+1,i);if("bigint"==typeof s)throw new Error(`${rs} 64-bit integer bytes lengths not supported`);return Vk(n,r,9,s)},or[92]=ws,or[93]=ws,or[94]=ws,or[95]=$R("indefinite length bytes/strings are not supported");for(let n=96;n<=119;n++)or[n]=C1e;or[120]=function A1e(n,r,t,i){return Uk(n,r,2,sw(n,r+1,i),i)},or[121]=function T1e(n,r,t,i){return Uk(n,r,3,ow(n,r+1,i),i)},or[122]=function D1e(n,r,t,i){return Uk(n,r,5,aw(n,r+1,i),i)},or[123]=function M1e(n,r,t,i){const s=cw(n,r+1,i);if("bigint"==typeof s)throw new Error(`${rs} 64-bit integer string lengths not supported`);return Uk(n,r,9,s,i)},or[124]=ws,or[125]=ws,or[126]=ws,or[127]=$R("indefinite length bytes/strings are not supported");for(let n=128;n<=151;n++)or[n]=I1e;or[152]=function P1e(n,r,t,i){return ES(0,0,2,sw(n,r+1,i))},or[153]=function O1e(n,r,t,i){return ES(0,0,3,ow(n,r+1,i))},or[154]=function R1e(n,r,t,i){return ES(0,0,5,aw(n,r+1,i))},or[155]=function F1e(n,r,t,i){const s=cw(n,r+1,i);if("bigint"==typeof s)throw new Error(`${rs} 64-bit integer array lengths not supported`);return ES(0,0,9,s)},or[156]=ws,or[157]=ws,or[158]=ws,or[159]=function N1e(n,r,t,i){if(!1===i.allowIndefinite)throw new Error(`${rs} indefinite length items not allowed`);return ES(0,0,1,1/0)};for(let n=160;n<=183;n++)or[n]=B1e;or[184]=function L1e(n,r,t,i){return SS(0,0,2,sw(n,r+1,i))},or[185]=function j1e(n,r,t,i){return SS(0,0,3,ow(n,r+1,i))},or[186]=function $1e(n,r,t,i){return SS(0,0,5,aw(n,r+1,i))},or[187]=function V1e(n,r,t,i){const s=cw(n,r+1,i);if("bigint"==typeof s)throw new Error(`${rs} 64-bit integer map lengths not supported`);return SS(0,0,9,s)},or[188]=ws,or[189]=ws,or[190]=ws,or[191]=function U1e(n,r,t,i){if(!1===i.allowIndefinite)throw new Error(`${rs} indefinite length items not allowed`);return SS(0,0,1,1/0)};for(let n=192;n<=215;n++)or[n]=z1e;or[216]=function H1e(n,r,t,i){return new zr(Rn.tag,sw(n,r+1,i),2)},or[217]=function G1e(n,r,t,i){return new zr(Rn.tag,ow(n,r+1,i),3)},or[218]=function W1e(n,r,t,i){return new zr(Rn.tag,aw(n,r+1,i),5)},or[219]=function K1e(n,r,t,i){return new zr(Rn.tag,cw(n,r+1,i),9)},or[220]=ws,or[221]=ws,or[222]=ws,or[223]=ws;for(let n=224;n<=243;n++)or[n]=$R("simple values are not supported");or[244]=ws,or[245]=ws,or[246]=ws,or[247]=function J1e(n,r,t,i){if(!1===i.allowUndefined)throw new Error(`${rs} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new zr(Rn.null,null,1):new zr(Rn.undefined,void 0,1)},or[248]=$R("simple values are not supported"),or[249]=function ewe(n,r,t,i){return sz(az(n,r+1),3,i)},or[250]=function twe(n,r,t,i){return sz(cz(n,r+1),5,i)},or[251]=function nwe(n,r,t,i){return sz(Zte(n,r+1),9,i)},or[252]=ws,or[253]=ws,or[254]=ws,or[255]=function Q1e(n,r,t,i){if(!1===i.allowIndefinite)throw new Error(`${rs} indefinite length items not allowed`);return new zr(Rn.break,void 0,1)};const bm=[];for(let n=0;n<24;n++)bm[n]=new zr(Rn.uint,n,1);for(let n=-1;n>=-24;n--)bm[31-n]=new zr(Rn.negint,n,1);bm[64]=new zr(Rn.bytes,new Uint8Array(0),1),bm[96]=new zr(Rn.string,"",1),bm[128]=new zr(Rn.array,0,1),bm[160]=new zr(Rn.map,0,1),bm[244]=new zr(Rn.false,!1,1),bm[245]=new zr(Rn.true,!0,1),bm[246]=new zr(Rn.null,null,1);const swe={float64:!1,mapSorter:function cwe(n,r){const t=Array.isArray(n[0])?n[0][0]:n[0],i=Array.isArray(r[0])?r[0][0]:r[0];if(t.type!==i.type)return t.type.compare(i.type);const o=Jte[t.type.major].compareTokens(t,i);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o},quickEncodeToken:function iwe(n){switch(n.type){case Rn.false:return Y0([244]);case Rn.true:return Y0([245]);case Rn.null:return Y0([246]);case Rn.bytes:return n.value.length?void 0:Y0([64]);case Rn.string:return""===n.value?Y0([96]):void 0;case Rn.array:return 0===n.value?Y0([128]):void 0;case Rn.map:return 0===n.value?Y0([160]):void 0;case Rn.uint:return n.value<24?Y0([Number(n.value)]):void 0;case Rn.negint:if(n.value>=-24)return Y0([31-Number(n.value)])}}},Jte=function owe(){const n=[];return n[Rn.uint.major]=lw,n[Rn.negint.major]=tz,n[Rn.bytes.major]=jR,n[Rn.string.major]=k1e,n[Rn.array.major]=nz,n[Rn.map.major]=rz,n[Rn.tag.major]=iz,n[Rn.float.major]=oz,n}(),lz=new Gte;class VR{constructor(r,t){this.obj=r,this.parent=t}includes(r){let t=this;do{if(t.obj===r)return!0}while(t=t.parent);return!1}static createCheck(r,t){if(r&&r.includes(t))throw new Error(`${Wte} object contains circular references`);return new VR(t,r)}}const Pv={null:new zr(Rn.null,null),undefined:new zr(Rn.undefined,void 0),true:new zr(Rn.true,!0),false:new zr(Rn.false,!1),emptyArray:new zr(Rn.array,0),emptyMap:new zr(Rn.map,0)},Ov={number:(n,r,t,i)=>Number.isInteger(n)&&Number.isSafeInteger(n)?new zr(n>=0?Rn.uint:Rn.negint,n):new zr(Rn.float,n),bigint:(n,r,t,i)=>n>=BigInt(0)?new zr(Rn.uint,n):new zr(Rn.negint,n),Uint8Array:(n,r,t,i)=>new zr(Rn.bytes,n),string:(n,r,t,i)=>new zr(Rn.string,n),boolean:(n,r,t,i)=>n?Pv.true:Pv.false,null:(n,r,t,i)=>Pv.null,undefined:(n,r,t,i)=>Pv.undefined,ArrayBuffer:(n,r,t,i)=>new zr(Rn.bytes,new Uint8Array(n)),DataView:(n,r,t,i)=>new zr(Rn.bytes,new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),Array(n,r,t,i){if(!n.length)return!0===t.addBreakTokens?[Pv.emptyArray,new zr(Rn.break)]:Pv.emptyArray;i=VR.createCheck(i,n);const s=[];let o=0;for(const a of n)s[o++]=UR(a,t,i);return t.addBreakTokens?[new zr(Rn.array,n.length),s,new zr(Rn.break)]:[new zr(Rn.array,n.length),s]},Object(n,r,t,i){const s="Object"!==r,o=s?n.keys():Object.keys(n),a=s?n.size:o.length;if(!a)return!0===t.addBreakTokens?[Pv.emptyMap,new zr(Rn.break)]:Pv.emptyMap;i=VR.createCheck(i,n);const c=[];let _=0;for(const E of o)c[_++]=[UR(E,t,i),UR(s?n.get(E):n[E],t,i)];return function awe(n,r){r.mapSorter&&n.sort(r.mapSorter)}(c,t),t.addBreakTokens?[new zr(Rn.map,a),c,new zr(Rn.break)]:[new zr(Rn.map,a),c]}};Ov.Map=Ov.Object,Ov.Buffer=Ov.Uint8Array;for(const n of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ov[`${n}Array`]=Ov.DataView;function UR(n,r={},t){const i=function Q_e(n){if(null===n)return"null";if(void 0===n)return"undefined";if(!0===n||!1===n)return"boolean";const r=typeof n;if(Z_e.includes(r))return r;if("function"===r)return"Function";if(Array.isArray(n))return"Array";if(function e1e(n){return n&&n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer.call(null,n)}(n))return"Buffer";const t=function t1e(n){const r=Object.prototype.toString.call(n).slice(8,-1);if(J_e.includes(r))return r}(n);return t||"Object"}(n),s=r&&r.typeEncoders&&r.typeEncoders[i]||Ov[i];if("function"==typeof s){const a=s(n,i,r,t);if(null!=a)return a}const o=Ov[i];if(!o)throw new Error(`${Wte} unsupported type: ${i}`);return o(n,i,r,t)}function Qte(n,r,t,i){if(Array.isArray(r))for(const s of r)Qte(n,s,t,i);else t[r.type.major](n,r,i)}function lwe(n,r,t){const i=UR(n,t);if(!Array.isArray(i)&&t.quickEncodeToken){const s=t.quickEncodeToken(i);if(s)return s;const o=r[i.type.major];if(o.encodedSize){const a=o.encodedSize(i,t),c=new Gte(a);if(o(c,i,t),1!==c.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return Vte(c.chunks[0])}}return lz.reset(),Qte(lz,i,r,t),lz.toBytes(!0)}const uwe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class fwe{constructor(r,t={}){this.pos=0,this.data=r,this.options=t}done(){return this.pos>=this.data.length}next(){const r=this.data[this.pos];let t=bm[r];if(void 0===t){const i=or[r];if(!i)throw new Error(`${rs} no decoder for major type ${r>>>5} (byte 0x${r.toString(16).padStart(2,"0")})`);t=i(this.data,this.pos,31&r,this.options)}return this.pos+=t.encodedLength,t}}const zk=Symbol.for("DONE"),zR=Symbol.for("BREAK");function Hk(n,r){if(n.done())return zk;const t=n.next();if(t.type===Rn.break)return zR;if(t.type.terminal)return t.value;if(t.type===Rn.array)return function hwe(n,r,t){const i=[];for(let s=0;s<n.value;s++){const o=Hk(r,t);if(o===zR){if(n.value===1/0)break;throw new Error(`${rs} got unexpected break to lengthed array`)}if(o===zk)throw new Error(`${rs} found array but not enough entries (got ${s}, expected ${n.value})`);i[s]=o}return i}(t,n,r);if(t.type===Rn.map)return function pwe(n,r,t){const i=!0===t.useMaps,s=i?void 0:{},o=i?new Map:void 0;for(let a=0;a<n.value;a++){const c=Hk(r,t);if(c===zR){if(n.value===1/0)break;throw new Error(`${rs} got unexpected break to lengthed map`)}if(c===zk)throw new Error(`${rs} found map but not enough entries (got ${a} [no key], expected ${n.value})`);if(!0!==i&&"string"!=typeof c)throw new Error(`${rs} non-string keys not supported (got ${typeof c})`);if(!0===t.rejectDuplicateMapKeys&&(i&&o.has(c)||!i&&c in s))throw new Error(`${rs} found repeat map key "${c}"`);const _=Hk(r,t);if(_===zk)throw new Error(`${rs} found map but not enough entries (got ${a} [no value], expected ${n.value})`);i?o.set(c,_):s[c]=_}return i?o:s}(t,n,r);if(t.type===Rn.tag){if(r.tags&&"function"==typeof r.tags[t.value]){const i=Hk(n,r);return r.tags[t.value](i)}throw new Error(`${rs} tag not supported (${t.value})`)}throw new Error("unsupported")}const bwe=function gwe(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}},dz=(new Uint8Array(0),n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")});class xwe{constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Ewe{constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return ene(this,r)}}class Swe{constructor(r){this.decoders=r}or(r){return ene(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ene=(n,r)=>new Swe({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class Cwe{constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new xwe(r,t,i),this.decoder=new Ewe(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const tne=({name:n,prefix:r,encode:t,decode:i})=>new Cwe(n,r,t,i),nne=({prefix:n,name:r,alphabet:t})=>{const{encode:i,decode:s}=bwe(t,r);return tne({prefix:n,name:r,encode:i,decode:o=>dz(s(o))})},Z0=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>tne({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),HR=Z0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rv=(Z0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Z0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Z0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Z0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Z0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Z0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),nne({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));nne({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rne=128,kwe=-128,Iwe=Math.pow(2,31),Owe=128,sne=127,Rwe=Math.pow(2,7),Fwe=Math.pow(2,14),Nwe=Math.pow(2,21),Bwe=Math.pow(2,28),Lwe=Math.pow(2,35),jwe=Math.pow(2,42),$we=Math.pow(2,49),Vwe=Math.pow(2,56),Uwe=Math.pow(2,63),Hwe={encode:function ine(n,r,t){r=r||[];for(var i=t=t||0;n>=Iwe;)r[t++]=255&n|rne,n/=128;for(;n&kwe;)r[t++]=255&n|rne,n>>>=7;return r[t]=0|n,ine.bytes=t-i+1,r},decode:function uz(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw uz.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&sne)<<s:(a&sne)*Math.pow(2,s),s+=7}while(a>=Owe);return uz.bytes=o-i,t},encodingLength:function(n){return n<Rwe?1:n<Fwe?2:n<Nwe?3:n<Bwe?4:n<Lwe?5:n<jwe?6:n<$we?7:n<Vwe?8:n<Uwe?9:10}};const GR=Hwe,fz=(n,r=0)=>[GR.decode(n,r),GR.decode.bytes],WR=(n,r,t=0)=>(GR.encode(n,r,t),r),KR=n=>GR.encodingLength(n);class hz{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const pz=(n,r)=>{const{bytes:t,version:i}=n;return 0===i?Ywe(t,mz(n),r||Rv.encoder):Zwe(t,mz(n),r||HR.encoder)},one=new WeakMap,mz=n=>{const r=one.get(n);if(null==r){const t=new Map;return one.set(n,t),t}return r};class gc{constructor(r,t,i,s){this.code=t,this.version=r,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:r,multihash:t}=this;if(r!==Gk)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Jwe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return gc.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:r,digest:t}=this.multihash,i=((n,r)=>{const t=r.byteLength,i=KR(n),s=i+KR(t),o=new Uint8Array(s+t);return WR(n,o,0),WR(t,o,i),o.set(r,s),new hz(n,t,r,o)})(r,t);return gc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return gc.equals(this,r)}static equals(r,t){return t&&r.code===t.code&&r.version===t.version&&((n,r)=>n===r||n.code===r.code&&n.size===r.size&&r.bytes instanceof Uint8Array&&((n,r)=>{if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0})(n.bytes,r.bytes))(r.multihash,t.multihash)}toString(r){return pz(this,r)}toJSON(){return{"/":pz(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(null==r)return null;const t=r;if(t instanceof gc)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:i,code:s,multihash:o,bytes:a}=t;return new gc(i,s,o,a||ane(i,s,o.bytes))}if(!0===t[Qwe]){const{version:i,multihash:s,code:o}=t,a=(n=>{const r=dz(n),[t,i]=fz(r),[s,o]=fz(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new hz(t,s,a,r)})(s);return gc.create(i,o,a)}return null}static create(r,t,i){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:if(t!==Gk)throw new Error(`Version 0 CID must use dag-pb (code: ${Gk}) block encoding`);return new gc(r,t,i,i.bytes);case 1:{const s=ane(r,t,i.bytes);return new gc(r,t,i,s)}default:throw new Error("Invalid version")}}static createV0(r){return gc.create(0,Gk,r)}static createV1(r,t){return gc.create(1,r,t)}static decode(r){const[t,i]=gc.decodeFirst(r);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(r){const t=gc.inspectBytes(r),i=t.size-t.multihashSize,s=dz(r.subarray(i,i+t.multihashSize));if(s.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=s.subarray(t.multihashSize-t.digestSize),a=new hz(t.multihashCode,t.digestSize,o,s);return[0===t.version?gc.createV0(a):gc.createV1(t.codec,a),r.subarray(t.size)]}static inspectBytes(r){let t=0;const i=()=>{const[j,oe]=fz(r.subarray(t));return t+=oe,j};let s=i(),o=Gk;if(18===s?(s=0,t=0):o=i(),0!==s&&1!==s)throw new RangeError(`Invalid CID version ${s}`);const a=t,c=i(),_=i(),E=t+_;return{version:s,codec:o,multihashCode:c,digestSize:_,multihashSize:E-a,size:E}}static parse(r,t){const[i,s]=Xwe(r,t),o=gc.decode(s);if(0===o.version&&"Q"!==r[0])throw Error("Version 0 CID string must not include multibase prefix");return mz(o).set(i,r),o}}const Xwe=(n,r)=>{switch(n[0]){case"Q":return[Rv.prefix,(r||Rv).decode(`${Rv.prefix}${n}`)];case Rv.prefix:return[Rv.prefix,(r||Rv).decode(n)];case HR.prefix:return[HR.prefix,(r||HR).decode(n)];default:if(null==r)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}},Ywe=(n,r,t)=>{const{prefix:i}=t;if(i!==Rv.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const s=r.get(i);if(null==s){const o=t.encode(n).slice(1);return r.set(i,o),o}return s},Zwe=(n,r,t)=>{const{prefix:i}=t,s=r.get(i);if(null==s){const o=t.encode(n);return r.set(i,o),o}return s},Gk=112,Jwe=18,ane=(n,r,t)=>{const i=KR(n),s=i+KR(r),o=new Uint8Array(s+t.byteLength);return WR(n,o,0),WR(r,o,i),o.set(t,s),o},Qwe=Symbol.for("@ipld/js-cid/CID"),rxe={float64:!0,typeEncoders:{Object:function exe(n){if(n.asCID!==n&&n["/"]!==n.bytes)return null;const r=gc.asCID(n);if(!r)return null;const t=new Uint8Array(r.bytes.byteLength+1);return t.set(r.bytes,1),[new zr(Rn.tag,42),new zr(Rn.bytes,t)]},undefined:function txe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function nxe(n){if(Number.isNaN(n))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(n===1/0||n===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},lne={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};lne.tags[42]=function ixe(n){if(0!==n[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return gc.decode(n.subarray(1))};const sxe="dag-cbor",qR=113,oxe=n=>function dwe(n,r){return r=Object.assign({},swe,r),lwe(n,Jte,r)}(n,rxe),dne=n=>function mwe(n,r){if(!(n instanceof Uint8Array))throw new Error(`${rs} data to decode must be a Uint8Array`);const t=(r=Object.assign({},uwe,r)).tokenizer||new fwe(n,r),i=Hk(t,r);if(i===zk)throw new Error(`${rs} did not find any content to decode`);if(i===zR)throw new Error(`${rs} got unexpected break`);if(!t.done())throw new Error(`${rs} too many terminals, data makes no sense`);return i}(n,lne),Fv=dee({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),XR=(dee({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Zu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),gz=(Zu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Zu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Zu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Zu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(n,r)=>{const{bytes:t,version:i}=n;return 0===i?cxe(t,yz(n),r||Fv.encoder):lxe(t,yz(n),r||XR.encoder)}),une=new WeakMap,yz=n=>{const r=une.get(n);if(null==r){const t=new Map;return une.set(n,t),t}return r};class xs{constructor(r,t,i,s){this.code=t,this.version=r,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:r,multihash:t}=this;if(r!==Wk)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==dxe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xs.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:r,digest:t}=this.multihash,i=IU(r,t);return xs.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return xs.equals(this,r)}static equals(r,t){return t&&r.code===t.code&&r.version===t.version&&((n,r)=>n===r||n.code===r.code&&n.size===r.size&&r.bytes instanceof Uint8Array&&((n,r)=>{if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0})(n.bytes,r.bytes))(r.multihash,t.multihash)}toString(r){return gz(this,r)}toJSON(){return{"/":gz(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(null==r)return null;const t=r;if(t instanceof xs)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:i,code:s,multihash:o,bytes:a}=t;return new xs(i,s,o,a||fne(i,s,o.bytes))}if(!0===t[uxe]){const{version:i,multihash:s,code:o}=t,a=(n=>{const r=cU(n),[t,i]=kU(r),[s,o]=kU(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new PU(t,s,a,r)})(s);return xs.create(i,o,a)}return null}static create(r,t,i){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:if(t!==Wk)throw new Error(`Version 0 CID must use dag-pb (code: ${Wk}) block encoding`);return new xs(r,t,i,i.bytes);case 1:{const s=fne(r,t,i.bytes);return new xs(r,t,i,s)}default:throw new Error("Invalid version")}}static createV0(r){return xs.create(0,Wk,r)}static createV1(r,t){return xs.create(1,r,t)}static decode(r){const[t,i]=xs.decodeFirst(r);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(r){const t=xs.inspectBytes(r),i=t.size-t.multihashSize,s=cU(r.subarray(i,i+t.multihashSize));if(s.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=s.subarray(t.multihashSize-t.digestSize),a=new PU(t.multihashCode,t.digestSize,o,s);return[0===t.version?xs.createV0(a):xs.createV1(t.codec,a),r.subarray(t.size)]}static inspectBytes(r){let t=0;const i=()=>{const[j,oe]=kU(r.subarray(t));return t+=oe,j};let s=i(),o=Wk;if(18===s?(s=0,t=0):o=i(),0!==s&&1!==s)throw new RangeError(`Invalid CID version ${s}`);const a=t,c=i(),_=i(),E=t+_;return{version:s,codec:o,multihashCode:c,digestSize:_,multihashSize:E-a,size:E}}static parse(r,t){const[i,s]=axe(r,t),o=xs.decode(s);if(0===o.version&&"Q"!==r[0])throw Error("Version 0 CID string must not include multibase prefix");return yz(o).set(i,r),o}}const axe=(n,r)=>{switch(n[0]){case"Q":return[Fv.prefix,(r||Fv).decode(`${Fv.prefix}${n}`)];case Fv.prefix:return[Fv.prefix,(r||Fv).decode(n)];case XR.prefix:return[XR.prefix,(r||XR).decode(n)];default:if(null==r)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}},cxe=(n,r,t)=>{const{prefix:i}=t;if(i!==Fv.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const s=r.get(i);if(null==s){const o=t.encode(n).slice(1);return r.set(i,o),o}return s},lxe=(n,r,t)=>{const{prefix:i}=t,s=r.get(i);if(null==s){const o=t.encode(n);return r.set(i,o),o}return s},Wk=112,dxe=18,fne=(n,r,t)=>{const i=ER(n),s=i+ER(r),o=new Uint8Array(s+t.byteLength);return xR(n,o,0),xR(r,o,i),o.set(t,s),o},uxe=Symbol.for("@ipld/js-cid/CID");var Nv=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},YR=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}},Vc=function(n){return this instanceof Vc?(this.v=n,this):new Vc(n)},ZR=function(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(oe){i[oe]&&(s[oe]=function(le){return new Promise(function(ue,pe){o.push([oe,le,ue,pe])>1||c(oe,le)})})}function c(oe,le){try{!function _(oe){oe.value instanceof Vc?Promise.resolve(oe.value.v).then(E,m):j(o[0][2],oe)}(i[oe](le))}catch(ue){j(o[0][3],ue)}}function E(oe){c("next",oe)}function m(oe){c("throw",oe)}function j(oe,le){oe(le),o.shift(),o.length&&c(o[0][0],o[0][1])}};class hne{open(){return Nv(this,void 0,void 0,function*(){})}close(){return Nv(this,void 0,void 0,function*(){})}put(r,t,i){return Nv(this,void 0,void 0,function*(){return r})}get(r,t){return Nv(this,void 0,void 0,function*(){return new Uint8Array})}has(r,t){return Nv(this,void 0,void 0,function*(){return!1})}delete(r,t){return Nv(this,void 0,void 0,function*(){})}isEmpty(r){return Nv(this,void 0,void 0,function*(){return!0})}putMany(r,t){return ZR(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=YR(r);!(s=(m=yield Vc(E.next())).done);_=!0){_=!1;const j=m.value;yield Vc(this.put(j.cid,j.block,t)),yield yield Vc(j.cid)}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield Vc(a.call(E)))}finally{if(o)throw o.error}}})}getMany(r,t){return ZR(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=YR(r);!(s=(m=yield Vc(E.next())).done);_=!0){_=!1;const j=m.value;yield yield Vc({cid:j,block:yield Vc(this.get(j,t))})}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield Vc(a.call(E)))}finally{if(o)throw o.error}}})}getAll(r){return ZR(this,arguments,function*(){var i,s,o,a;const c=this.db.iterator({keys:!0,keyEncoding:"buffer"},r);try{for(var m,_=!0,E=YR(c);!(i=(m=yield Vc(E.next())).done);_=!0){a=m.value,_=!1;const[j,oe]=a;yield yield Vc({cid:xs.decode(j),block:oe})}}catch(j){s={error:j}}finally{try{!_&&!i&&(o=E.return)&&(yield Vc(o.call(E)))}finally{if(s)throw s.error}}})}deleteMany(r,t){return ZR(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=YR(r);!(s=(m=yield Vc(E.next())).done);_=!0){_=!1;const j=m.value;yield Vc(this.delete(j,t)),yield yield Vc(j)}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield Vc(a.call(E)))}finally{if(o)throw o.error}}})}clear(){return Nv(this,void 0,void 0,function*(){})}}function vz(n,r){this.v=n,this.k=r}function Er(n){return new vz(n,0)}function hs(n){return function(){return new Kk(n.apply(this,arguments))}}function Kk(n){var r,t;function i(o,a){try{var c=n[o](a),_=c.value,E=_ instanceof vz;Promise.resolve(E?_.v:_).then(function(m){if(E){var j="return"===o?"return":"next";if(!_.k||m.done)return i(j,m);m=n[j](m).value}s(c.done?"return":"normal",m)},function(m){i("throw",m)})}catch(m){s("throw",m)}}function s(o,a){switch(o){case"return":r.resolve({value:a,done:!0});break;case"throw":r.reject(a);break;default:r.resolve({value:a,done:!1})}(r=r.next)?i(r.key,r.arg):t=null}this._invoke=function(o,a){return new Promise(function(c,_){var E={key:o,arg:a,resolve:c,reject:_,next:null};t?t=t.next=E:(r=t=E,i(o,a))})},"function"!=typeof n.return&&(this.return=void 0)}function Wi(n){var r,t,i,s=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(t&&null!=(r=n[t]))return r.call(n);if(i&&null!=(r=n[i]))return new JR(r.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function JR(n){function r(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(s){return{value:s,done:i}})}return(JR=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(i){var s=this.s.return;return void 0===s?Promise.resolve({value:i,done:!0}):r(s.apply(this.s,arguments))},throw:function(i){var s=this.s.return;return void 0===s?Promise.reject(i):r(s.apply(this.s,arguments))}},new JR(n)}Kk.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Kk.prototype.next=function(n){return this._invoke("next",n)},Kk.prototype.throw=function(n){return this._invoke("throw",n)},Kk.prototype.return=function(n){return this._invoke("return",n)};var QR=A(5014);const pne=function hxe(n,r=1){return r=Number(r),function fxe(n){return null!=n[Symbol.asyncIterator]}(n)?hs(function*(){let t=[];if(r<1&&(r=1),r!==Math.round(r))throw new Error("Batch size must be an integer");var o,i=!1,s=!1;try{for(var c,a=Wi(n);i=!(c=yield Er(a.next())).done;i=!1)for(t.push(c.value);t.length>=r;)yield t.slice(0,r),t=t.slice(r)}catch(_){s=!0,o=_}finally{try{i&&null!=a.return&&(yield Er(a.return()))}finally{if(s)throw o}}for(;t.length>0;)yield t.slice(0,r),t=t.slice(r)})():function*(){let t=[];if(r<1&&(r=1),r!==Math.round(r))throw new Error("Batch size must be an integer");for(const i of n)for(t.push(i);t.length>=r;)yield t.slice(0,r),t=t.slice(r);for(;t.length>0;)yield t.slice(0,r),t=t.slice(r)}()};function mne(n){return bz.apply(this,arguments)}function bz(){return bz=hs(function*(n,r=1){var s,t=!1,i=!1;try{for(var a,o=Wi(pne(n,r));t=!(a=yield Er(o.next())).done;t=!1){const _=a.value.map(function(){var E=(0,Nn.A)(function*(m){return m().then(j=>({ok:!0,value:j}),j=>({ok:!1,err:j}))});return function(m){return E.apply(this,arguments)}}());for(let E=0;E<_.length;E++){const m=yield Er(_[E]);if(!m.ok)throw m.err;yield m.value}}}catch(c){i=!0,s=c}finally{try{t&&null!=o.return&&(yield Er(o.return()))}finally{if(i)throw s}}}),bz.apply(this,arguments)}function Bv(n=0){return new Uint8Array(n)}function _z(n=0){return new Uint8Array(n)}function gne(n,r){null==r&&(r=n.reduce((s,o)=>s+o.length,0));const t=_z(r);let i=0;for(const s of n)t.set(s,i),i+=s.length;return t}function pxe(n,r){if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0}const yne=Symbol.for("@achingbrain/uint8arraylist");function vne(n,r){if(null==r||r<0)throw new RangeError("index is out of bounds");let t=0;for(const i of n){const s=t+i.byteLength;if(r<s)return{buf:i,index:r-t};t=s}throw new RangeError("index is out of bounds")}function eF(n){return!!n?.[yne]}class dw{bufs;length;[yne]=!0;constructor(...r){this.bufs=[],this.length=0,r.length>0&&this.appendAll(r)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...r){this.appendAll(r)}appendAll(r){let t=0;for(const i of r)if(i instanceof Uint8Array)t+=i.byteLength,this.bufs.push(i);else{if(!eF(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");t+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=t}prepend(...r){this.prependAll(r)}prependAll(r){let t=0;for(const i of r.reverse())if(i instanceof Uint8Array)t+=i.byteLength,this.bufs.unshift(i);else{if(!eF(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");t+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=t}get(r){const t=vne(this.bufs,r);return t.buf[t.index]}set(r,t){const i=vne(this.bufs,r);i.buf[i.index]=t}write(r,t=0){if(r instanceof Uint8Array)for(let i=0;i<r.length;i++)this.set(t+i,r[i]);else{if(!eF(r))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<r.length;i++)this.set(t+i,r.get(i))}}consume(r){if(r=Math.trunc(r),!(Number.isNaN(r)||r<=0)){if(r===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(r>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(r),this.length-=r;break}r-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(r,t){const{bufs:i,length:s}=this._subList(r,t);return gne(i,s)}subarray(r,t){const{bufs:i,length:s}=this._subList(r,t);return 1===i.length?i[0]:gne(i,s)}sublist(r,t){const{bufs:i,length:s}=this._subList(r,t),o=new dw;return o.length=s,o.bufs=[...i],o}_subList(r,t){if((r=r??0)<0&&(r=this.length+r),(t=t??this.length)<0&&(t=this.length+t),r<0||t>this.length)throw new RangeError("index is out of bounds");if(r===t)return{bufs:[],length:0};if(0===r&&t===this.length)return{bufs:this.bufs,length:this.length};const i=[];let s=0;for(let o=0;o<this.bufs.length;o++){const a=this.bufs[o],c=s,_=c+a.byteLength;if(s=_,r>=_)continue;const E=r>=c&&r<_,m=t>c&&t<=_;if(E&&m){if(r===c&&t===_){i.push(a);break}const j=r-c;i.push(a.subarray(j,j+(t-r)));break}if(E){if(0===r){i.push(a);continue}i.push(a.subarray(r-c))}else{if(m){if(t===_){i.push(a);break}i.push(a.subarray(0,t-c));break}i.push(a)}}return{bufs:i,length:t-r}}indexOf(r,t=0){if(!(eF(r)||r instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=r instanceof Uint8Array?r:r.subarray();if(t=Number(t??0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===r.length)return t>this.length?this.length:t;const s=i.byteLength;if(0===s)throw new TypeError("search must be at least 1 byte long");const a=new Int32Array(256);for(let j=0;j<256;j++)a[j]=-1;for(let j=0;j<s;j++)a[i[j]]=j;const c=a,_=this.byteLength-i.byteLength,E=i.byteLength-1;let m;for(let j=t;j<=_;j+=m){m=0;for(let oe=E;oe>=0;oe--){const le=this.get(j+oe);if(i[oe]!==le){m=Math.max(1,oe-c[le]);break}}if(0===m)return j}return-1}getInt8(r){const t=this.subarray(r,r+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getInt8(0)}setInt8(r,t){const i=_z(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,t),this.write(i,r)}getInt16(r,t){const i=this.subarray(r,r+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,t)}setInt16(r,t,i){const s=Bv(2);new DataView(s.buffer,s.byteOffset,s.byteLength).setInt16(0,t,i),this.write(s,r)}getInt32(r,t){const i=this.subarray(r,r+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,t)}setInt32(r,t,i){const s=Bv(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setInt32(0,t,i),this.write(s,r)}getBigInt64(r,t){const i=this.subarray(r,r+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,t)}setBigInt64(r,t,i){const s=Bv(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setBigInt64(0,t,i),this.write(s,r)}getUint8(r){const t=this.subarray(r,r+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0)}setUint8(r,t){const i=_z(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,t),this.write(i,r)}getUint16(r,t){const i=this.subarray(r,r+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,t)}setUint16(r,t,i){const s=Bv(2);new DataView(s.buffer,s.byteOffset,s.byteLength).setUint16(0,t,i),this.write(s,r)}getUint32(r,t){const i=this.subarray(r,r+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,t)}setUint32(r,t,i){const s=Bv(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setUint32(0,t,i),this.write(s,r)}getBigUint64(r,t){const i=this.subarray(r,r+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,t)}setBigUint64(r,t,i){const s=Bv(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setBigUint64(0,t,i),this.write(s,r)}getFloat32(r,t){const i=this.subarray(r,r+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,t)}setFloat32(r,t,i){const s=Bv(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setFloat32(0,t,i),this.write(s,r)}getFloat64(r,t){const i=this.subarray(r,r+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,t)}setFloat64(r,t,i){const s=Bv(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setFloat64(0,t,i),this.write(s,r)}equals(r){if(null==r||!(r instanceof dw)||r.bufs.length!==this.bufs.length)return!1;for(let t=0;t<this.bufs.length;t++)if(!pxe(this.bufs[t],r.bufs[t]))return!1;return!0}static fromUint8Arrays(r,t){const i=new dw;return i.bufs=r,null==t&&(t=r.reduce((s,o)=>s+o.byteLength,0)),i.length=t,i}}const gxe=(n={})=>{const r=n.chunkSize??262144;return function(){var t=hs(function*(s){let o=new dw,a=0,c=!1;var m,_=!1,E=!1;try{for(var oe,j=Wi(s);_=!(oe=yield Er(j.next())).done;_=!1){const le=oe.value;for(o.append(le),a+=le.length;a>=r;)if(yield o.slice(0,r),c=!0,r===o.length)o=new dw,a=0;else{const ue=new dw;ue.append(o.sublist(r)),o=ue,a-=r}}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}(!c||a>0)&&(yield o.subarray(0,a))});return function i(s){return t.apply(this,arguments)}}()},yxe=new TextDecoder;function wz(n,r){let t=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(r>=n.length)throw new Error("protobuf: unexpected end of data");const s=n[r++];if(t+=i<28?(127&s)<<i:(127&s)*2**i,s<128)break}return[t,r]}function tF(n,r){let t;[t,r]=wz(n,r);const i=r+t;if(t<0||i<0)throw new Error("protobuf: invalid length");if(i>n.length)throw new Error("protobuf: unexpected end of data");return[n.subarray(r,i),i]}function bne(n,r){let t;return[t,r]=wz(n,r),[7&t,t>>3,r]}function vxe(n){const r={},t=n.length;let i=0;for(;i<t;){let s,o;if([s,o,i]=bne(n,i),1===o){if(r.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==s)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Hash`);if(void 0!==r.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==r.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[r.Hash,i]=tF(n,i)}else if(2===o){if(void 0!==r.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==s)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Name`);if(void 0!==r.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,i]=tF(n,i),r.Name=yxe.decode(a)}else{if(3!==o)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`);if(void 0!==r.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==s)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Tsize`);[r.Tsize,i]=wz(n,i)}}if(i>t)throw new Error("protobuf: (PBLink) unexpected end of data");return r}const _ne=new TextEncoder,wne=2**32,_xe=2**31;function wxe(n,r){let t=r.length;if("number"==typeof n.Tsize){if(n.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(n.Tsize))throw new Error("Tsize too large for encoding");t=qk(r,t,n.Tsize)-1,r[t]=24}if("string"==typeof n.Name){const i=_ne.encode(n.Name);t-=i.length,r.set(i,t),t=qk(r,t,i.length)-1,r[t]=18}return n.Hash&&(t-=n.Hash.length,r.set(n.Hash,t),t=qk(r,t,n.Hash.length)-1,r[t]=10),r.length-t}function Exe(n){let r=0;if(n.Hash){const t=n.Hash.length;r+=1+t+CS(t)}if("string"==typeof n.Name){const t=_ne.encode(n.Name).length;r+=1+t+CS(t)}return"number"==typeof n.Tsize&&(r+=1+CS(n.Tsize)),r}function qk(n,r,t){const i=r-=CS(t);for(;t>=_xe;)n[r++]=127&t|128,t/=128;for(;t>=128;)n[r++]=127&t|128,t>>>=7;return n[r]=t,i}function CS(n){return n%2==0&&n++,Math.floor((function Cxe(n){let r=0;return n>=wne&&(n=Math.floor(n/wne),r=32),n>=65536&&(n>>>=16,r+=16),n>=256&&(n>>>=8,r+=8),r+Axe[n]}(n)+6)/7)}const Axe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],Txe=["Data","Links"],Dxe=["Hash","Name","Tsize"],xz=new TextEncoder;function xne(n,r){if(n===r)return 0;const t=n.Name?xz.encode(n.Name):[],i=r.Name?xz.encode(r.Name):[];let s=t.length,o=i.length;for(let a=0,c=Math.min(s,o);a<c;++a)if(t[a]!==i[a]){s=t[a],o=i[a];break}return s<o?-1:o<s?1:0}function Ene(n,r){return!Object.keys(n).some(t=>!r.includes(t))}function Sne(n){if("object"==typeof n.asCID){const t=Vo.asCID(n);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form");const r={};if(n.Hash){let t=Vo.asCID(n.Hash);try{t||("string"==typeof n.Hash?t=Vo.parse(n.Hash):n.Hash instanceof Uint8Array&&(t=Vo.decode(n.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}t&&(r.Hash=t)}if(!r.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof n.Name&&(r.Name=n.Name),"number"==typeof n.Tsize&&(r.Tsize=n.Tsize),r}function Lv(n){if((n instanceof Uint8Array||"string"==typeof n)&&(n={Data:n}),"object"!=typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form");const r={};if(void 0!==n.Data)if("string"==typeof n.Data)r.Data=xz.encode(n.Data);else{if(!(n.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");r.Data=n.Data}if(void 0!==n.Links){if(!Array.isArray(n.Links))throw new TypeError("Invalid DAG-PB form");r.Links=n.Links.map(Sne),r.Links.sort(xne)}else r.Links=[];return r}function Cne(n){if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form");if(!Ene(n,Txe))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==n.Data&&!(n.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(n.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let r=0;r<n.Links.length;r++){const t=n.Links[r];if(!t||"object"!=typeof t||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!Ene(t,Dxe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===t.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==t.Hash||!t.Hash["/"]||t.Hash["/"]!==t.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==t.Name&&"string"!=typeof t.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==t.Tsize){if("number"!=typeof t.Tsize||t.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(r>0&&-1===xne(t,n.Links[r-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function Mxe(n,r=[]){return Lv({Data:n,Links:r})}function kxe(n,r,t){return Sne({Hash:t,Name:n,Tsize:r})}const Pxe="dag-pb",Ez=112;function jv(n){Cne(n);const r={};return n.Links&&(r.Links=n.Links.map(t=>{const i={};return t.Hash&&(i.Hash=t.Hash.bytes),void 0!==t.Name&&(i.Name=t.Name),void 0!==t.Tsize&&(i.Tsize=t.Tsize),i})),n.Data&&(r.Data=n.Data),function xxe(n){const r=function Sxe(n){let r=0;if(n.Data){const t=n.Data.length;r+=1+t+CS(t)}if(n.Links)for(const t of n.Links){const i=Exe(t);r+=1+i+CS(i)}return r}(n),t=new Uint8Array(r);let i=r;if(n.Data&&(i-=n.Data.length,t.set(n.Data,i),i=qk(t,i,n.Data.length)-1,t[i]=10),n.Links)for(let s=n.Links.length-1;s>=0;s--){const o=wxe(n.Links[s],t.subarray(0,i));i-=o,i=qk(t,i,o)-1,t[i]=18}return t}(r)}function Xk(n){const r=function Ixe(n){return n instanceof ArrayBuffer?new Uint8Array(n,0,n.byteLength):n}(n),t=function bxe(n){const r=n.length;let i,o,t=0,s=!1;for(;t<r;){let c,_;if([c,_,t]=bne(n,t),2!==c)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${c}`);if(1===_){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,t]=tF(n,t),i&&(s=!0)}else{if(2!==_)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${_}`);{if(s)throw new Error("protobuf: (PBNode) duplicate Links section");let E;i||(i=[]),[E,t]=tF(n,t),i.push(vxe(E))}}}if(t>r)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return o&&(a.Data=o),a.Links=i||[],a}(r),i={};return t.Data&&(i.Data=t.Data),t.Links&&(i.Links=t.Links.map(s=>{const o={};try{o.Hash=Vo.decode(s.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==s.Name&&(o.Name=s.Name),void 0!==s.Tsize&&(o.Tsize=s.Tsize),o})),i}let Ane=(()=>{class n extends Error{static name="InvalidTypeError";static code="ERR_INVALID_TYPE";name=n.name;code=n.code;constructor(t="Invalid type"){super(t)}}return n})();const Oxe=Math.pow(2,7),Rxe=Math.pow(2,14),Fxe=Math.pow(2,21),Sz=Math.pow(2,28),Cz=Math.pow(2,35),Az=Math.pow(2,42),Tz=Math.pow(2,49),Os=128,td=127;function Yk(n){if(n<Oxe)return 1;if(n<Rxe)return 2;if(n<Fxe)return 3;if(n<Sz)return 4;if(n<Cz)return 5;if(n<Az)return 6;if(n<Tz)return 7;if(null!=Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function Tne(n,r,t=0){switch(Yk(n)){case 8:r[t++]=255&n|Os,n/=128;case 7:r[t++]=255&n|Os,n/=128;case 6:r[t++]=255&n|Os,n/=128;case 5:r[t++]=255&n|Os,n/=128;case 4:r[t++]=255&n|Os,n>>>=7;case 3:r[t++]=255&n|Os,n>>>=7;case 2:r[t++]=255&n|Os,n>>>=7;case 1:r[t++]=255&n,n>>>=7;break;default:throw new Error("unreachable")}return r}const Zk=new Float32Array([-0]),nd=new Uint8Array(Zk.buffer);function Lxe(n,r,t){Zk[0]=n,r[t]=nd[0],r[t+1]=nd[1],r[t+2]=nd[2],r[t+3]=nd[3]}const Jk=new Float64Array([-0]),Es=new Uint8Array(Jk.buffer);function $xe(n,r,t){Jk[0]=n,r[t]=Es[0],r[t+1]=Es[1],r[t+2]=Es[2],r[t+3]=Es[3],r[t+4]=Es[4],r[t+5]=Es[5],r[t+6]=Es[6],r[t+7]=Es[7]}const Uxe=BigInt(Number.MAX_SAFE_INTEGER),zxe=BigInt(Number.MIN_SAFE_INTEGER);class rd{lo;hi;constructor(r,t){this.lo=0|r,this.hi=0|t}toNumber(r=!1){if(!r&&this.hi>>>31>0){const t=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===t&&(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(r=!1){if(r)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const t=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===t&&(i=i+1>>>0),-(BigInt(t)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(r=!1){return this.toBigInt(r).toString()}zzEncode(){const r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this}zzDecode(){const r=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this}length(){const r=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?r<16384?r<128?1:2:r<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}static fromBigInt(r){if(0n===r)return uw;if(r<Uxe&&r>zxe)return this.fromNumber(Number(r));const t=r<0n;t&&(r=-r);let i=r>>32n,s=r-(i<<32n);return t&&(i=0n|~i,s=0n|~s,++s>Mne&&(s=0n,++i>Mne&&(i=0n))),new rd(Number(s),Number(i))}static fromNumber(r){if(0===r)return uw;const t=r<0;t&&(r=-r);let i=r>>>0,s=(r-i)/4294967296>>>0;return t&&(s=~s>>>0,i=~i>>>0,++i>4294967295&&(i=0,++s>4294967295&&(s=0))),new rd(i,s)}static from(r){return"number"==typeof r?rd.fromNumber(r):"bigint"==typeof r?rd.fromBigInt(r):"string"==typeof r?rd.fromBigInt(BigInt(r)):null!=r.low||null!=r.high?new rd(r.low>>>0,r.high>>>0):uw}}const uw=new rd(0,0);uw.toBigInt=function(){return 0n},uw.zzEncode=uw.zzDecode=function(){return this},uw.length=function(){return 1};const Mne=4294967296n;function kne(n,r,t){const i=t;let s,o;for(let a=0;a<n.length;++a)s=n.charCodeAt(a),s<128?r[t++]=s:s<2048?(r[t++]=s>>6|192,r[t++]=63&s|128):55296==(64512&s)&&56320==(64512&(o=n.charCodeAt(a+1)))?(s=65536+((1023&s)<<10)+(1023&o),++a,r[t++]=s>>18|240,r[t++]=s>>12&63|128,r[t++]=s>>6&63|128,r[t++]=63&s|128):(r[t++]=s>>12|224,r[t++]=s>>6&63|128,r[t++]=63&s|128);return t-i}function pp(n,r){return RangeError(`index out of range: ${n.pos} + ${r??1} > ${n.len}`)}function nF(n,r){return(n[r-4]|n[r-3]<<8|n[r-2]<<16|n[r-1]<<24)>>>0}class Wxe{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(r){this.buf=r,this.pos=0,this.len=r.length}uint32(){let r=4294967295;if(r=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(r=(r|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(r=(r|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(r=(r|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(r=(r|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return r;if((this.pos+=5)>this.len)throw this.pos=this.len,pp(this,10);return r}int32(){return 0|this.uint32()}sint32(){const r=this.uint32();return r>>>1^-(1&r)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw pp(this,4);return nF(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw pp(this,4);return 0|nF(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw pp(this,4);const r=function jxe(n,r){return nd[0]=n[r],nd[1]=n[r+1],nd[2]=n[r+2],nd[3]=n[r+3],Zk[0]}(this.buf,this.pos);return this.pos+=4,r}double(){if(this.pos+8>this.len)throw pp(this,4);const r=function Vxe(n,r){return Es[0]=n[r],Es[1]=n[r+1],Es[2]=n[r+2],Es[3]=n[r+3],Es[4]=n[r+4],Es[5]=n[r+5],Es[6]=n[r+6],Es[7]=n[r+7],Jk[0]}(this.buf,this.pos);return this.pos+=8,r}bytes(){const r=this.uint32(),t=this.pos,i=this.pos+r;if(i>this.len)throw pp(this,r);return this.pos+=r,t===i?new Uint8Array(0):this.buf.subarray(t,i)}string(){const r=this.bytes();return function Gxe(n,r,t){if(t-r<1)return"";let s;const o=[];let c,a=0;for(;r<t;)c=n[r++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(31&c)<<6|63&n[r++]:c>239&&c<365?(c=((7&c)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++])-65536,o[a++]=55296+(c>>10),o[a++]=56320+(1023&c)):o[a++]=(15&c)<<12|(63&n[r++])<<6|63&n[r++],a>8191&&((s??(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return null!=s?(a>0&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))}(r,0,r.length)}skip(r){if("number"==typeof r){if(this.pos+r>this.len)throw pp(this,r);this.pos+=r}else do{if(this.pos>=this.len)throw pp(this)}while(128&this.buf[this.pos++]);return this}skipType(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(r=7&this.uint32());)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${r} at offset ${this.pos}`)}return this}readLongVarint(){const r=new rd(0,0);let t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw pp(this);if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(127&this.buf[this.pos++])<<7*t)>>>0,r}for(;t<4;++t)if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(127&this.buf[this.pos])<<28)>>>0,r.hi=(r.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return r;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return r}else for(;t<5;++t){if(this.pos>=this.len)throw pp(this);if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw pp(this,8);const r=nF(this.buf,this.pos+=4),t=nF(this.buf,this.pos+=4);return new rd(r,t)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const r=function Dne(n,r){let t=n[r],i=0;if(i+=t&td,t<Os||(t=n[r+1],i+=(t&td)<<7,t<Os)||(t=n[r+2],i+=(t&td)<<14,t<Os)||(t=n[r+3],i+=(t&td)<<21,t<Os)||(t=n[r+4],i+=(t&td)*Sz,t<Os)||(t=n[r+5],i+=(t&td)*Cz,t<Os)||(t=n[r+6],i+=(t&td)*Az,t<Os)||(t=n[r+7],i+=(t&td)*Tz,t<Os))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Yk(r),r}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Dz(n,r,t){const i=function Kxe(n){return new Wxe(n instanceof Uint8Array?n:n.subarray())}(n);return r.decode(i,void 0,t)}function rF(n=0){return new Uint8Array(n)}const qxe=Ay({prefix:"9",name:"base10",alphabet:"0123456789"}),Xxe=Ga({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Yxe=Ga({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Zxe=Ga({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ine=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Jxe=Ine.reduce((n,r,t)=>(n[t]=r,n),[]),Qxe=Ine.reduce((n,r,t)=>(n[r.codePointAt(0)]=t,n),[]),n2e=b_({prefix:"\u{1f680}",name:"base256emoji",encode:function e2e(n){return n.reduce((r,t)=>r+Jxe[t],"")},decode:function t2e(n){const r=[];for(const t of n){const i=Qxe[t.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${t}`);r.push(i)}return new Uint8Array(r)}}),r2e=Ay({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i2e=Ay({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),s2e=Ga({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),o2e=b_({prefix:"\0",name:"identity",encode:n=>function MT(n){return(new TextDecoder).decode(n)}(n),decode:n=>function oP(n){return(new TextEncoder).encode(n)}(n)}),a2e=new TextEncoder,c2e=new TextDecoder,l2e="json",d2e=512;function u2e(n){return a2e.encode(JSON.stringify(n))}function f2e(n){return JSON.parse(c2e.decode(n))}const h2e="raw",p2e=85;function m2e(n){return $h(n)}function g2e(n){return $h(n)}const One=$h,b2e={code:0,name:"identity",encode:One,digest:function v2e(n){return E_(0,One(n))}};function Rne(n){return function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}()}const _2e=ky({name:"sha2-256",code:18,encode:Rne("SHA-256")}),w2e=ky({name:"sha2-512",code:19,encode:Rne("SHA-512")}),iF={...f,...ge,...d,...ae,...me,...O,...z,...$,...U,...de};function Fne(n,r,t,i){return{name:n,prefix:r,encoder:{name:n,prefix:r,encode:t},decoder:{decode:i}}}const Nne=Fne("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),Mz=Fne("ascii","a",n=>{let r="a";for(let t=0;t<n.length;t++)r+=String.fromCharCode(n[t]);return r},n=>{const r=rF((n=n.substring(1)).length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r}),x2e={utf8:Nne,"utf-8":Nne,hex:iF.base16,latin1:Mz,ascii:Mz,binary:Mz,...iF};class Qk{fn;len;next;val;constructor(r,t,i){this.fn=r,this.len=t,this.next=void 0,this.val=i}}function kz(){}class C2e{head;tail;len;next;constructor(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}}const A2e=function S2e(n){const r=n??8192,t=r>>>1;let i,s=r;return function(a){if(a<1||a>t)return rF(a);s+a>r&&(i=rF(r),s=0);const c=i.subarray(s,s+=a);return 7&s&&(s=1+(7|s)),c}}();class Iz{len;head;tail;states;constructor(){this.len=0,this.head=new Qk(kz,0,0),this.tail=this.head,this.states=null}_push(r,t,i){return this.tail=this.tail.next=new Qk(r,t,i),this.len+=t,this}uint32(r){return this.len+=(this.tail=this.tail.next=new M2e((r>>>=0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this}int32(r){return r<0?this._push(sF,10,rd.fromNumber(r)):this.uint32(r)}sint32(r){return this.uint32((r<<1^r>>31)>>>0)}uint64(r){const t=rd.fromBigInt(r);return this._push(sF,t.length(),t)}uint64Number(r){return this._push(Tne,Yk(r),r)}uint64String(r){return this.uint64(BigInt(r))}int64(r){return this.uint64(r)}int64Number(r){return this.uint64Number(r)}int64String(r){return this.uint64String(r)}sint64(r){const t=rd.fromBigInt(r).zzEncode();return this._push(sF,t.length(),t)}sint64Number(r){const t=rd.fromNumber(r).zzEncode();return this._push(sF,t.length(),t)}sint64String(r){return this.sint64(BigInt(r))}bool(r){return this._push(Pz,1,r?1:0)}fixed32(r){return this._push(e3,4,r>>>0)}sfixed32(r){return this.fixed32(r)}fixed64(r){const t=rd.fromBigInt(r);return this._push(e3,4,t.lo)._push(e3,4,t.hi)}fixed64Number(r){const t=rd.fromNumber(r);return this._push(e3,4,t.lo)._push(e3,4,t.hi)}fixed64String(r){return this.fixed64(BigInt(r))}sfixed64(r){return this.fixed64(r)}sfixed64Number(r){return this.fixed64Number(r)}sfixed64String(r){return this.fixed64String(r)}float(r){return this._push(Lxe,4,r)}double(r){return this._push($xe,8,r)}bytes(r){const t=r.length>>>0;return 0===t?this._push(Pz,1,0):this.uint32(t)._push(k2e,t,r)}string(r){const t=function Hxe(n){let r=0,t=0;for(let i=0;i<n.length;++i)t=n.charCodeAt(i),t<128?r+=1:t<2048?r+=2:55296==(64512&t)&&56320==(64512&n.charCodeAt(i+1))?(++i,r+=4):r+=3;return r}(r);return 0!==t?this.uint32(t)._push(kne,t,r):this._push(Pz,1,0)}fork(){return this.states=new C2e(this),this.head=this.tail=new Qk(kz,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Qk(kz,0,0),this.len=0),this}ldelim(){const r=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=r.next,this.tail=t,this.len+=i),this}finish(){let r=this.head.next;const t=function T2e(n){return null!=globalThis.Buffer?rF(n):A2e(n)}(this.len);let i=0;for(;null!=r;)r.fn(r.val,t,i),i+=r.len,r=r.next;return t}}function Pz(n,r,t){r[t]=255&n}function D2e(n,r,t){for(;n>127;)r[t++]=127&n|128,n>>>=7;r[t]=n}class M2e extends Qk{next;constructor(r,t){super(D2e,r,t),this.next=void 0}}function sF(n,r,t){for(;0!==n.hi;)r[t++]=127&n.lo|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)r[t++]=127&n.lo|128,n.lo=n.lo>>>7;r[t++]=n.lo}function e3(n,r,t){r[t]=255&n,r[t+1]=n>>>8&255,r[t+2]=n>>>16&255,r[t+3]=n>>>24}function k2e(n,r,t){r.set(n,t)}function I2e(n,r,t){r.set(n,t)}function P2e(n,r,t){n.length<40?kne(n,r,t):null!=r.utf8Write?r.utf8Write(n,t):r.set(function E2e(n,r="utf8"){const t=x2e[r];if(null==t)throw new Error(`Unsupported encoding "${r}"`);return t.decoder.decode(`${t.prefix}${n}`)}(n),t)}function Oz(n,r){const t=function O2e(){return new Iz}();return r.encode(n,t,{lengthDelimited:!1}),t.finish()}null!=globalThis.Buffer&&(Iz.prototype.bytes=function(n){const r=n.length>>>0;return this.uint32(r),r>0&&this._push(I2e,r,n),this},Iz.prototype.string=function(n){const r=globalThis.Buffer.byteLength(n);return this.uint32(r),r>0&&this._push(P2e,r,n),this});var _m,oF,Lne,Rz=function(n){return n[n.VARINT=0]="VARINT",n[n.BIT64=1]="BIT64",n[n.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",n[n.START_GROUP=3]="START_GROUP",n[n.END_GROUP=4]="END_GROUP",n[n.BIT32=5]="BIT32",n}(Rz||{});function Bne(n,r,t,i){return{name:n,type:r,encode:t,decode:i}}function Fz(n,r){return Bne("message",Rz.LENGTH_DELIMITED,n,r)}Error,function(n){let r;var s;let t,i;(s=r=n.DataType||(n.DataType={})).Raw="Raw",s.Directory="Directory",s.File="File",s.Metadata="Metadata",s.Symlink="Symlink",s.HAMTShard="HAMTShard",function(s){s[s.Raw=0]="Raw",s[s.Directory=1]="Directory",s[s.File=2]="File",s[s.Metadata=3]="Metadata",s[s.Symlink=4]="Symlink",s[s.HAMTShard=5]="HAMTShard"}(t||(t={})),function(s){s.codec=()=>function R2e(n){function r(s){if(null==n[s.toString()])throw new Error("Invalid enum value");return n[s]}return Bne("enum",Rz.VARINT,function(o,a){const c=r(o);a.int32(c)},function(o){return r(o.int32())})}(t)}(r=n.DataType||(n.DataType={})),n.codec=()=>(null==i&&(i=Fz((s,o,a={})=>{if(!1!==a.lengthDelimited&&o.fork(),null!=s.Type&&(o.uint32(8),n.DataType.codec().encode(s.Type,o)),null!=s.Data&&(o.uint32(18),o.bytes(s.Data)),null!=s.filesize&&(o.uint32(24),o.uint64(s.filesize)),null!=s.blocksizes)for(const c of s.blocksizes)o.uint32(32),o.uint64(c);null!=s.hashType&&(o.uint32(40),o.uint64(s.hashType)),null!=s.fanout&&(o.uint32(48),o.uint64(s.fanout)),null!=s.mode&&(o.uint32(56),o.uint32(s.mode)),null!=s.mtime&&(o.uint32(66),oF.codec().encode(s.mtime,o)),!1!==a.lengthDelimited&&o.ldelim()},(s,o)=>{const a={blocksizes:[]},c=null==o?s.len:s.pos+o;for(;s.pos<c;){const _=s.uint32();switch(_>>>3){case 1:a.Type=n.DataType.codec().decode(s);break;case 2:a.Data=s.bytes();break;case 3:a.filesize=s.uint64();break;case 4:a.blocksizes.push(s.uint64());break;case 5:a.hashType=s.uint64();break;case 6:a.fanout=s.uint64();break;case 7:a.mode=s.uint32();break;case 8:a.mtime=oF.codec().decode(s,s.uint32());break;default:s.skipType(7&_)}}return a})),i),n.encode=s=>Oz(s,n.codec()),n.decode=s=>Dz(s,n.codec())}(_m||(_m={})),function(n){let r;n.codec=()=>(null==r&&(r=Fz((t,i,s={})=>{!1!==s.lengthDelimited&&i.fork(),null!=t.Seconds&&(i.uint32(8),i.int64(t.Seconds)),null!=t.FractionalNanoseconds&&(i.uint32(21),i.fixed32(t.FractionalNanoseconds)),!1!==s.lengthDelimited&&i.ldelim()},(t,i)=>{const s={},o=null==i?t.len:t.pos+i;for(;t.pos<o;){const a=t.uint32();switch(a>>>3){case 1:s.Seconds=t.int64();break;case 2:s.FractionalNanoseconds=t.fixed32();break;default:t.skipType(7&a)}}return s})),r),n.encode=t=>Oz(t,n.codec()),n.decode=t=>Dz(t,n.codec())}(oF||(oF={})),function(n){let r;n.codec=()=>(null==r&&(r=Fz((t,i,s={})=>{!1!==s.lengthDelimited&&i.fork(),null!=t.MimeType&&(i.uint32(10),i.string(t.MimeType)),!1!==s.lengthDelimited&&i.ldelim()},(t,i)=>{const s={},o=null==i?t.len:t.pos+i;for(;t.pos<o;){const a=t.uint32();a>>>3==1?s.MimeType=t.string():t.skipType(7&a)}return s})),r),n.encode=t=>Oz(t,n.codec()),n.decode=t=>Dz(t,n.codec())}(Lne||(Lne={}));const jne={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},F2e=["directory","hamt-sharded-directory"],$ne=parseInt("0644",8),Vne=parseInt("0755",8);class mp{static unmarshal(r){const t=_m.decode(r),i=new mp({type:jne[null!=t.Type?t.Type.toString():"File"],data:t.Data,blockSizes:t.blocksizes,mode:t.mode,mtime:null!=t.mtime?{secs:t.mtime.Seconds??0n,nsecs:t.mtime.FractionalNanoseconds}:void 0,fanout:t.fanout});return i._originalMode=t.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(r={type:"file"}){const{type:t,data:i,blockSizes:s,hashType:o,fanout:a,mtime:c,mode:_}=r;if(null!=t&&!Object.values(jne).includes(t))throw new Ane("Type: "+t+" is not valid");this.type=t??"file",this.data=i,this.hashType=o,this.fanout=a,this.blockSizes=s??[],this._originalMode=0,this.mode=_,this.mtime=c}set mode(r){this._mode=null==r?this.isDirectory()?Vne:$ne:4095&r}get mode(){return this._mode}isDirectory(){return F2e.includes(this.type)}addBlockSize(r){this.blockSizes.push(r)}removeBlockSize(r){this.blockSizes.splice(r,1)}fileSize(){if(this.isDirectory())return 0n;let r=0n;return this.blockSizes.forEach(t=>{r+=t}),null!=this.data&&(r+=BigInt(this.data.length)),r}marshal(){let r;switch(this.type){case"raw":r=_m.DataType.Raw;break;case"directory":r=_m.DataType.Directory;break;case"file":r=_m.DataType.File;break;case"metadata":r=_m.DataType.Metadata;break;case"symlink":r=_m.DataType.Symlink;break;case"hamt-sharded-directory":r=_m.DataType.HAMTShard;break;default:throw new Ane(`Type: ${r} is not valid`)}let i,s,t=this.data;return(null==this.data||0===this.data.length)&&(t=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===$ne&&!this.isDirectory()&&(i=void 0),i===Vne&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(s={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),_m.encode({Type:r,Data:t,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:s})}}new Uint8Array(0);const t3=n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},L2e="raw",Nz=85,j2e=n=>t3(n),$2e=n=>t3(n);class lh extends Event{type;detail;constructor(r,t){super(r),this.type=r,this.detail=t}}var Une=128,z2e=-128,H2e=Math.pow(2,31),W2e=128,Hne=127,K2e=Math.pow(2,7),q2e=Math.pow(2,14),X2e=Math.pow(2,21),Y2e=Math.pow(2,28),Z2e=Math.pow(2,35),J2e=Math.pow(2,42),Q2e=Math.pow(2,49),eEe=Math.pow(2,56),tEe=Math.pow(2,63),rEe={encode:function zne(n,r,t){r=r||[];for(var i=t=t||0;n>=H2e;)r[t++]=255&n|Une,n/=128;for(;n&z2e;)r[t++]=255&n|Une,n>>>=7;return r[t]=0|n,zne.bytes=t-i+1,r},decode:function Bz(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw Bz.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&Hne)<<s:(a&Hne)*Math.pow(2,s),s+=7}while(a>=W2e);return Bz.bytes=o-i,t},encodingLength:function(n){return n<K2e?1:n<q2e?2:n<X2e?3:n<Y2e?4:n<Z2e?5:n<J2e?6:n<Q2e?7:n<eEe?8:n<tEe?9:10}};const aF=rEe,Lz=(n,r=0)=>[aF.decode(n,r),aF.decode.bytes],cF=(n,r,t=0)=>(aF.encode(n,r,t),r),lF=n=>aF.encodingLength(n),jz=(n,r)=>{const t=r.byteLength,i=lF(n),s=i+lF(t),o=new Uint8Array(s+t);return cF(n,o,0),cF(t,o,i),o.set(r,s),new $z(n,t,r,o)};class $z{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const dEe=function aEe(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}};class uEe{constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class fEe{constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return Gne(this,r)}}class hEe{constructor(r){this.decoders=r}or(r){return Gne(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Gne=(n,r)=>new hEe({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class pEe{constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new uEe(r,t,i),this.decoder=new fEe(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const Wne=({name:n,prefix:r,encode:t,decode:i})=>new pEe(n,r,t,i),Kne=({prefix:n,name:r,alphabet:t})=>{const{encode:i,decode:s}=dEe(t,r);return Wne({prefix:n,name:r,encode:i,decode:o=>t3(s(o))})},J0=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>Wne({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),$v=Kne({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dF=(Kne({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),J0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Vz=(J0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),J0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),J0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),J0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),J0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),J0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),J0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(n,r)=>{const{bytes:t,version:i}=n;return 0===i?vEe(t,Uz(n),r||$v.encoder):bEe(t,Uz(n),r||dF.encoder)}),qne=new WeakMap,Uz=n=>{const r=qne.get(n);if(null==r){const t=new Map;return qne.set(n,t),t}return r};class Ja{constructor(r,t,i,s){this.code=t,this.version=r,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:r,multihash:t}=this;if(r!==n3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==_Ee)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ja.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:r,digest:t}=this.multihash,i=jz(r,t);return Ja.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return Ja.equals(this,r)}static equals(r,t){return t&&r.code===t.code&&r.version===t.version&&((n,r)=>n===r||n.code===r.code&&n.size===r.size&&r.bytes instanceof Uint8Array&&((n,r)=>{if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0})(n.bytes,r.bytes))(r.multihash,t.multihash)}toString(r){return Vz(this,r)}toJSON(){return{"/":Vz(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(null==r)return null;const t=r;if(t instanceof Ja)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:i,code:s,multihash:o,bytes:a}=t;return new Ja(i,s,o,a||Xne(i,s,o.bytes))}if(!0===t[wEe]){const{version:i,multihash:s,code:o}=t,a=(n=>{const r=t3(n),[t,i]=Lz(r),[s,o]=Lz(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new $z(t,s,a,r)})(s);return Ja.create(i,o,a)}return null}static create(r,t,i){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:if(t!==n3)throw new Error(`Version 0 CID must use dag-pb (code: ${n3}) block encoding`);return new Ja(r,t,i,i.bytes);case 1:{const s=Xne(r,t,i.bytes);return new Ja(r,t,i,s)}default:throw new Error("Invalid version")}}static createV0(r){return Ja.create(0,n3,r)}static createV1(r,t){return Ja.create(1,r,t)}static decode(r){const[t,i]=Ja.decodeFirst(r);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(r){const t=Ja.inspectBytes(r),i=t.size-t.multihashSize,s=t3(r.subarray(i,i+t.multihashSize));if(s.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=s.subarray(t.multihashSize-t.digestSize),a=new $z(t.multihashCode,t.digestSize,o,s);return[0===t.version?Ja.createV0(a):Ja.createV1(t.codec,a),r.subarray(t.size)]}static inspectBytes(r){let t=0;const i=()=>{const[j,oe]=Lz(r.subarray(t));return t+=oe,j};let s=i(),o=n3;if(18===s?(s=0,t=0):o=i(),0!==s&&1!==s)throw new RangeError(`Invalid CID version ${s}`);const a=t,c=i(),_=i(),E=t+_;return{version:s,codec:o,multihashCode:c,digestSize:_,multihashSize:E-a,size:E}}static parse(r,t){const[i,s]=yEe(r,t),o=Ja.decode(s);if(0===o.version&&"Q"!==r[0])throw Error("Version 0 CID string must not include multibase prefix");return Uz(o).set(i,r),o}}const yEe=(n,r)=>{switch(n[0]){case"Q":return[$v.prefix,(r||$v).decode(`${$v.prefix}${n}`)];case $v.prefix:return[$v.prefix,(r||$v).decode(n)];case dF.prefix:return[dF.prefix,(r||dF).decode(n)];default:if(null==r)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}},vEe=(n,r,t)=>{const{prefix:i}=t;if(i!==$v.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const s=r.get(i);if(null==s){const o=t.encode(n).slice(1);return r.set(i,o),o}return s},bEe=(n,r,t)=>{const{prefix:i}=t,s=r.get(i);if(null==s){const o=t.encode(n);return r.set(i,o),o}return s},n3=112,_Ee=18,Xne=(n,r,t)=>{const i=lF(n),s=i+lF(r),o=new Uint8Array(s+t.byteLength);return cF(n,o,0),cF(r,o,i),o.set(t,s),o},wEe=Symbol.for("@ipld/js-cid/CID"),Yne=({name:n,code:r,encode:t})=>new xEe(n,r,t);class xEe{constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?jz(this.code,t):t.then(i=>jz(this.code,i))}throw Error("Unknown type, must be binary type")}}const Zne=n=>function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}(),EEe=Yne({name:"sha2-256",code:18,encode:Zne("SHA-256")}),AS=(Yne({name:"sha2-512",code:19,encode:Zne("SHA-512")}),function(){var n=(0,Nn.A)(function*(r,t,i){null==i.codec&&(i.codec=ie);const s=yield EEe.digest(r),o=Ja.create(i.cidVersion,i.codec.code,s);return yield t.put(o,r,i),o});return function(t,i,s){return n.apply(this,arguments)}}());function SEe(n){return function(){var r=hs(function*(i,s){let o=0n;var _,a=!1,c=!1;try{for(var m,E=Wi(i.content);a=!(m=yield Er(E.next())).done;a=!1){let j=m.value;yield(0,Nn.A)(function*(){let oe;const le={codec:ie,cidVersion:n.cidVersion,onProgress:n.onProgress};n.rawLeaves?(le.codec=Y,le.cidVersion=1):(oe=new mp({type:n.leafType,data:j}),j=jv({Data:oe.marshal(),Links:[]}));const ue=yield AS(j,s,le);return o+=BigInt(j.byteLength),n.onProgress?.(new lh("unixfs:importer:progress:file:write",{bytesWritten:o,cid:ue,path:i.path})),{cid:ue,unixfs:oe,size:BigInt(j.length),block:j}})}}catch(j){c=!0,_=j}finally{try{a&&null!=E.return&&(yield Er(E.return()))}finally{if(c)throw _}}});return function t(i,s){return r.apply(this,arguments)}}()}function wm(n){var r={},t=!1;function i(s,o){return t=!0,{done:!1,value:new vz(o=new Promise(function(a){a(n[s](o))}),1)}}return r[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(s){return t?(t=!1,s):i("next",s)},"function"==typeof n.throw&&(r.throw=function(s){if(t)throw t=!1,s;return i("throw",s)}),"function"==typeof n.return&&(r.return=function(s){return t?(t=!1,s):i("return",s)}),r}const CEe=function(){var n=(0,Nn.A)(function*(r,t,i){const s=new mp({type:"directory",mtime:r.mtime,mode:r.mode}),o=jv(Lv({Data:s.marshal()}));return{cid:yield AS(o,t,i),path:r.path,unixfs:s,size:BigInt(o.length),originalPath:r.originalPath,block:o}});return function(t,i,s){return n.apply(this,arguments)}}();function zz(){return zz=hs(function*(n,r,t){let s,i=-1;var c,o=!1,a=!1;try{for(var E,_=Wi(mne(t.bufferImporter(n,r),t.blockWriteConcurrency));o=!(E=yield Er(_.next())).done;o=!1){const m=E.value;i++,0!==i?(1===i&&null!=s&&(yield{...s,block:void 0,single:void 0},s=void 0),yield{...m,block:void 0}):s={...m,single:!0}}}catch(m){a=!0,c=m}finally{try{o&&null!=_.return&&(yield Er(_.return()))}finally{if(a)throw c}}null!=s&&(yield s)}),zz.apply(this,arguments)}function Jne(n){return!0===n.single}const TEe=(n,r,t)=>function(){var s=(0,Nn.A)(function*(o){if(1===o.length&&Jne(o[0])&&t.reduceSingleLeafToSelf){const j=o[0];let oe=j.block;return Jne(j)&&(void 0!==n.mtime||void 0!==n.mode)&&(j.unixfs=new mp({type:"file",mtime:n.mtime,mode:n.mode,data:j.block}),oe={Data:j.unixfs.marshal(),Links:[]},j.block=jv(Lv(oe)),j.cid=yield AS(j.block,r,{...t,cidVersion:t.cidVersion}),j.size=BigInt(j.block.length)),t.onProgress?.(new lh("unixfs:importer:progress:file:layout",{cid:j.cid,path:j.originalPath})),{cid:j.cid,path:n.path,unixfs:j.unixfs,size:j.size,originalPath:j.originalPath}}const a=new mp({type:"file",mtime:n.mtime,mode:n.mode}),c=o.filter(j=>j.cid.code===Nz&&j.size>0||null!=j.unixfs&&null==j.unixfs.data&&j.unixfs.fileSize()>0n||!!j.unixfs?.data?.length).map(j=>j.cid.code===Nz?(a.addBlockSize(j.size),{Name:"",Tsize:Number(j.size),Hash:j.cid}):(a.addBlockSize(null==j.unixfs||null==j.unixfs.data?j.unixfs?.fileSize()??0n:BigInt(j.unixfs.data.length)),{Name:"",Tsize:Number(j.size),Hash:j.cid})),_={Data:a.marshal(),Links:c},E=jv(Lv(_)),m=yield AS(E,r,t);return t.onProgress?.(new lh("unixfs:importer:progress:file:layout",{cid:m,path:n.originalPath})),{cid:m,path:n.path,unixfs:a,size:BigInt(E.length+_.Links.reduce((j,oe)=>j+(oe.Tsize??0),0)),originalPath:n.originalPath,block:E}});return function(a){return s.apply(this,arguments)}}(),DEe=function(){var n=(0,Nn.A)(function*(r,t,i){return i.layout(function AEe(n,r,t){return zz.apply(this,arguments)}(r,t,i),TEe(r,t,i))});return function(t,i,s){return n.apply(this,arguments)}}();function IEe(n){try{if(n instanceof Uint8Array)return hs(function*(){yield n})();if(function MEe(n){return Symbol.iterator in n}(n))return hs(function*(){yield*wm(Wi(n))})();if(function kEe(n){return Symbol.asyncIterator in n}(n))return n}catch{throw QR(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw QR(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function OEe(n){return null!=n.content}function Qne(n){return null!=globalThis.Buffer?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}const BEe=function REe(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}},TS=(new Uint8Array(0),n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")});class UEe{constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class zEe{constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return ere(this,r)}}class HEe{constructor(r){this.decoders=r}or(r){return ere(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ere=(n,r)=>new HEe({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class GEe{constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new UEe(r,t,i),this.decoder=new zEe(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const uF=({name:n,prefix:r,encode:t,decode:i})=>new GEe(n,r,t,i),r3=({prefix:n,name:r,alphabet:t})=>{const{encode:i,decode:s}=BEe(t,r);return uF({prefix:n,name:r,encode:i,decode:o=>TS(s(o))})},xl=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>uF({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),qEe=r3({prefix:"9",name:"base10",alphabet:"0123456789"}),XEe=xl({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YEe=xl({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ZEe=xl({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tre=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),JEe=tre.reduce((n,r,t)=>(n[t]=r,n),[]),QEe=tre.reduce((n,r,t)=>(n[r.codePointAt(0)]=t,n),[]),nSe=uF({prefix:"\u{1f680}",name:"base256emoji",encode:function eSe(n){return n.reduce((r,t)=>r+JEe[t],"")},decode:function tSe(n){const r=[];for(const t of n){const i=QEe[t.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${t}`);r.push(i)}return new Uint8Array(r)}}),s3=xl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rSe=xl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iSe=xl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sSe=xl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oSe=xl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aSe=xl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cSe=xl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lSe=xl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dSe=xl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),uSe=r3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),fSe=r3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Q0=r3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hSe=r3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pSe=xl({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mSe=xl({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gSe=xl({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ySe=xl({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),vSe=xl({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),bSe=uF({prefix:"\0",name:"identity",encode:n=>(n=>(new TextDecoder).decode(n))(n),decode:n=>(n=>(new TextEncoder).encode(n))(n)}),_Se=new TextEncoder,wSe=new TextDecoder,xSe="json",ESe=512,SSe=n=>_Se.encode(JSON.stringify(n)),CSe=n=>JSON.parse(wSe.decode(n)),ASe="raw",TSe=85,DSe=n=>TS(n),MSe=n=>TS(n);var nre=128,PSe=-128,OSe=Math.pow(2,31),FSe=128,ire=127,NSe=Math.pow(2,7),BSe=Math.pow(2,14),LSe=Math.pow(2,21),jSe=Math.pow(2,28),$Se=Math.pow(2,35),VSe=Math.pow(2,42),USe=Math.pow(2,49),zSe=Math.pow(2,56),HSe=Math.pow(2,63),WSe={encode:function rre(n,r,t){r=r||[];for(var i=t=t||0;n>=OSe;)r[t++]=255&n|nre,n/=128;for(;n&PSe;)r[t++]=255&n|nre,n>>>=7;return r[t]=0|n,rre.bytes=t-i+1,r},decode:function Hz(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw Hz.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&ire)<<s:(a&ire)*Math.pow(2,s),s+=7}while(a>=FSe);return Hz.bytes=o-i,t},encodingLength:function(n){return n<NSe?1:n<BSe?2:n<LSe?3:n<jSe?4:n<$Se?5:n<VSe?6:n<USe?7:n<zSe?8:n<HSe?9:10}};const fF=WSe,hF=(n,r,t=0)=>(fF.encode(n,r,t),r),pF=n=>fF.encodingLength(n),mF=(n,r)=>{const t=r.byteLength,i=pF(n),s=i+pF(t),o=new Uint8Array(s+t);return hF(n,o,0),hF(t,o,i),o.set(r,s),new Wz(n,t,r,o)};class Wz{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const ore=TS,ZSe={code:0,name:"identity",encode:ore,digest:n=>mF(0,ore(n))},are=({name:n,code:r,encode:t})=>new JSe(n,r,t);class JSe{constructor(r,t,i){this.name=r,this.code=t,this.encode=i}digest(r){if(r instanceof Uint8Array){const t=this.encode(r);return t instanceof Uint8Array?mF(this.code,t):t.then(i=>mF(this.code,i))}throw Error("Unknown type, must be binary type")}}const cre=n=>function(){var r=(0,Nn.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(n,t))});return function(t){return r.apply(this,arguments)}}(),QSe=are({name:"sha2-256",code:18,encode:cre("SHA-256")}),eCe=are({name:"sha2-512",code:19,encode:cre("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const ure={...Le,...g,...Me,...F,...h,...ee,...re,...fe,...Ae,...J};function fre(n,r,t,i){return{name:n,prefix:r,encoder:{name:n,prefix:r,encode:t},decoder:{decode:i}}}const hre=fre("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),Xz=fre("ascii","a",n=>{let r="a";for(let t=0;t<n.length;t++)r+=String.fromCharCode(n[t]);return r},n=>{const r=function oCe(n=0){return null!=globalThis.Buffer?.allocUnsafe?Qne(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}((n=n.substring(1)).length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r}),aCe={utf8:hre,"utf-8":hre,hex:ure.base16,latin1:Xz,ascii:Xz,binary:Xz,...ure};function cCe(n,r="utf8"){const t=aCe[r];if(null==t)throw new Error(`Unsupported encoding "${r}"`);return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${n}`):Qne(globalThis.Buffer.from(n,"utf-8"))}const lCe=()=>function(){var n=hs(function*(t){var o,i=!1,s=!1;try{for(var c,a=Wi(t);i=!(c=yield Er(a.next())).done;i=!1){const _=c.value;if(void 0===_.length)throw QR(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof _||_ instanceof String)yield cCe(_.toString());else if(Array.isArray(_))yield Uint8Array.from(_);else{if(!(_ instanceof Uint8Array))throw QR(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield _}}}catch(_){s=!0,o=_}finally{try{i&&null!=a.return&&(yield Er(a.return()))}finally{if(s)throw o}}});return function r(t){return n.apply(this,arguments)}}(),dCe=174;function uCe(n){const r=n?.maxChildrenPerNode??dCe;return function(){var t=(0,Nn.A)(function*(s,o){const a=[];var E,c=!1,_=!1;try{for(var j,m=Wi(pne(s,r));c=!(j=yield m.next()).done;c=!1){const oe=j.value;a.push(yield o(oe))}}catch(oe){_=!0,E=oe}finally{try{c&&null!=m.return&&(yield m.return())}finally{if(_)throw E}}return a.length>1?i(a,o):a[0]});function i(s,o){return t.apply(this,arguments)}return i}()}class a3{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(r,t){this.options=t??{},this.root=r.root,this.dir=r.dir,this.path=r.path,this.dirty=r.dirty,this.flat=r.flat,this.parent=r.parent,this.parentKey=r.parentKey,this.unixfs=r.unixfs,this.mode=r.mode,this.mtime=r.mtime}}const Yz=Ja.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Zz=Ja.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class Jz extends a3{_children;constructor(r,t){super(r,t),this._children=new Map}put(r,t){var i=this;return(0,Nn.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(r,t)})()}get(r){var t=this;return(0,Nn.A)(function*(){return Promise.resolve(t._children.get(r))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var r=this;return hs(function*(){for(const[t,i]of r._children.entries())yield{key:t,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[r,t]of this._children.entries())null!=t.size&&null!=t.cid&&(this.nodeSize+=r.length+(1===this.options.cidVersion?Zz.bytes.byteLength:Yz.bytes.byteLength));return this.nodeSize}flush(r){var t=this;return hs(function*(){const i=[];for(const[ue,pe]of t._children.entries()){let we=pe;if(pe instanceof a3){var a,s=!1,o=!1;try{for(var _,c=Wi(pe.flush(r));s=!(_=yield Er(c.next())).done;s=!1){const Oe=_.value;we=Oe,yield Oe}}catch(Oe){o=!0,a=Oe}finally{try{s&&null!=c.return&&(yield Er(c.return()))}finally{if(o)throw a}}}null!=we.size&&null!=we.cid&&i.push({Name:ue,Tsize:Number(we.size),Hash:we.cid})}const E=new mp({type:"directory",mtime:t.mtime,mode:t.mode}),m={Data:E.marshal(),Links:i},j=jv(Lv(m)),oe=yield Er(AS(j,r,t.options)),le=j.length+m.Links.reduce((ue,pe)=>ue+(null==pe.Tsize?0:pe.Tsize),0);t.cid=oe,t.size=le,yield{cid:oe,unixfs:E,path:t.path,size:BigInt(le)}})()}}var Qz=A(13026);ky({name:"murmur3-32",code:35,encode:n=>function mCe(n){const r=new Array(4);for(let t=0;t<4;t++)r[t]=255&n,n>>=8;return new Uint8Array(r)}(Qz.x86.hash32(n))});const mre=ky({name:"murmur3-128",code:34,encode:n=>x2(Qz.x64.hash128(n))});ky({name:"murmur3-x64-64",code:34,encode:n=>x2(Qz.x64.hash128(n)).subarray(0,8)});var gCe=A(18876);function gre(n=0){return new Uint8Array(n)}function yre(n,r,t,i){return{name:n,prefix:r,encoder:{name:n,prefix:r,encode:t},decoder:{decode:i}}}const vre=yre("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>(new TextEncoder).encode(n.substring(1))),eH=yre("ascii","a",n=>{let r="a";for(let t=0;t<n.length;t++)r+=String.fromCharCode(n[t]);return r},n=>{const r=gre((n=n.substring(1)).length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r}),yCe={utf8:vre,"utf-8":vre,hex:iF.base16,latin1:eH,ascii:eH,binary:eH,...iF};class ef{_options;_popCount;_parent;_posAtParent;_children;key;constructor(r,t,i=0){this._options=r,this._popCount=0,this._parent=t,this._posAtParent=i,this._children=new gCe,this.key=null}put(r,t){var i=this;return(0,Nn.A)(function*(){const s=yield i._findNewBucketAndPos(r);s.bucket._putAt(s,r,t)})()}get(r){var t=this;return(0,Nn.A)(function*(){const i=yield t._findChild(r);if(null!=i)return i.value})()}del(r){var t=this;return(0,Nn.A)(function*(){const i=yield t._findPlace(r),s=i.bucket._at(i.pos);null!=s&&s.key===r&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((t,i)=>i instanceof ef?t+i.leafCount():t+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const r=this._children.compactArray();for(const t of r)t instanceof ef?yield*t.eachLeafSeries():yield t}serialize(r,t){return t(this._children.reduce((s,o,a)=>(null!=o&&s.push(o instanceof ef?o.serialize(r,t):r(o,a)),s),[]))}asyncTransform(r,t){var i=this;return(0,Nn.A)(function*(){return bre(i,r,t)})()}toJSON(){return this.serialize(_Ce,wCe)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(r){var t=this;return(0,Nn.A)(function*(){const i=yield t._findPlace(r),s=i.bucket._at(i.pos);if(!(s instanceof ef)&&null!=s&&s.key===r)return s})()}_findPlace(r){var t=this;return(0,Nn.A)(function*(){const i=t._options.hash("string"==typeof r?function vCe(n,r="utf8"){const t=yCe[r];if(null==t)throw new Error(`Unsupported encoding "${r}"`);return t.decoder.decode(`${t.prefix}${n}`)}(r):r),s=yield i.take(t._options.bits),o=t._children.get(s);return o instanceof ef?o._findPlace(i):{bucket:t,pos:s,hash:i,existingChild:o}})()}_findNewBucketAndPos(r){var t=this;return(0,Nn.A)(function*(){const i=yield t._findPlace(r);if(null!=i.existingChild&&i.existingChild.key!==r){const s=new ef(t._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,s);const o=yield s._findPlace(i.existingChild.hash);return o.bucket._putAt(o,i.existingChild.key,i.existingChild.value),s._findNewBucketAndPos(i.hash)}return i})()}_putAt(r,t,i){this._putObjectAt(r.pos,{key:t,value:i,hash:r.hash})}_putObjectAt(r,t){null==this._children.get(r)&&this._popCount++,this._children.set(r,t)}_delAt(r){if(-1===r)throw new Error("Invalid position");null!=this._children.get(r)&&this._popCount--,this._children.unset(r),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const r=this._children.find(bCe);if(null!=r&&!(r instanceof ef)){const t=r.hash;t.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:t,bucket:this._parent},r.key,r.value)}}else this._parent._delAt(this._posAtParent)}_at(r){return this._children.get(r)}}function bCe(n){return!!n}function _Ce(n,r){return n.key}function wCe(n){return n}function bre(n,r,t){return tH.apply(this,arguments)}function tH(){return tH=(0,Nn.A)(function*(n,r,t){const i=[];for(const s of n._children.compactArray())if(s instanceof ef)yield bre(s,r,t);else{const o=yield r(s);i.push({bitField:n._children.bitField(),children:o})}return t(i)}),tH.apply(this,arguments)}const ECe=[255,254,252,248,240,224,192,128],SCe=[1,3,7,15,31,63,127,255];class CCe{_value;_currentBytePos;_currentBitPos;constructor(r){this._value=r,this._currentBytePos=r.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(r){let t=r,i=0;for(;t>0&&this._haveBits();){const s=this._value[this._currentBytePos],o=this._currentBitPos+1,a=Math.min(o,t);i=(i<<a)+ACe(s,o-a,a),t-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(r){for(this._currentBitPos+=r;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function ACe(n,r,t){const i=function TCe(n,r){return ECe[n]&SCe[Math.min(r+n-1,7)]}(r,t);return(n&i)>>>r}function DCe(n){return function r(t){return t instanceof _re?t:new _re(t,n)}}class _re{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(r,t){if(!(r instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=r,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(r){var t=this;return(0,Nn.A)(function*(){let i=r;for(;t._availableBits<i;)yield t._produceMoreBits();let s=0;for(;i>0;){const o=t._buffers[t._currentBufferIndex],a=Math.min(o.availableBits(),i);s=(s<<a)+o.take(a),i-=a,t._availableBits-=a,0===o.availableBits()&&t._currentBufferIndex++}return s})()}untake(r){let t=r;for(;t>0;){const i=this._buffers[this._currentBufferIndex],s=Math.min(i.totalBits()-i.availableBits(),t);i.untake(s),t-=s,this._availableBits+=s,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var r=this;return(0,Nn.A)(function*(){r._depth++;const t=r._depth>0?function xCe(n,r){null==r&&(r=n.reduce((s,o)=>s+o.length,0));const t=gre(r);let i=0;for(const s of n)t.set(s,i),i+=s.length;return t}([r._value,Uint8Array.from([r._depth])]):r._value,i=yield r._hashFn(t),s=new CCe(i);r._buffers.push(s),r._availableBits+=s.availableBits()})()}}function wre(n){if(null==n||null==n.hashFn)throw new Error("please define an options.hashFn");const r={bits:n.bits??8,hash:DCe(n.hashFn)};return new ef(r)}function MCe(n){return nH.apply(this,arguments)}function nH(){return nH=(0,Nn.A)(function*(n){return(yield mre.encode(n)).slice(0,8).reverse()}),nH.apply(this,arguments)}const xre=BigInt(34),ICe=class kCe extends a3{_bucket;constructor(r,t){super(r,t),this._bucket=wre({hashFn:MCe,bits:8})}put(r,t){var i=this;return(0,Nn.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(r,t)})()}get(r){var t=this;return(0,Nn.A)(function*(){return t._bucket.get(r)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var r=this;return hs(function*(){var s,t=!1,i=!1;try{for(var a,o=Wi(r._bucket.eachLeafSeries());t=!(a=yield Er(o.next())).done;t=!1){const{key:c,value:_}=a.value;yield{key:c,child:_}}}catch(c){i=!0,s=c}finally{try{t&&null!=o.return&&(yield Er(o.return()))}finally{if(i)throw s}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Sre(this._bucket,this,this.options)),this.nodeSize}flush(r){var t=this;return hs(function*(){var o,i=!1,s=!1;try{for(var c,a=Wi(Ere(t._bucket,r,t,t.options));i=!(c=yield Er(a.next())).done;i=!1)yield{...c.value,path:t.path}}catch(_){s=!0,o=_}finally{try{i&&null!=a.return&&(yield Er(a.return()))}finally{if(s)throw o}}})()}};function Ere(n,r,t,i){return rH.apply(this,arguments)}function rH(){return rH=hs(function*(n,r,t,i){const s=n._children,o=[];let a=0n;for(let tt=0;tt<s.length;tt++){const ot=s.get(tt);if(null==ot)continue;const xt=tt.toString(16).toUpperCase().padStart(2,"0");if(ot instanceof ef){let Ct;var E,c=!1,_=!1;try{for(var j,m=Wi(Ere(ot,r,null,i));c=!(j=yield Er(m.next())).done;c=!1)Ct=j.value}catch(Tt){_=!0,E=Tt}finally{try{c&&null!=m.return&&(yield Er(m.return()))}finally{if(_)throw E}}if(null==Ct)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:xt,Tsize:Number(Ct.size),Hash:Ct.cid}),a+=Ct.size}else if(PCe(ot.value)){const Ct=ot.value;let Tt;var ue,oe=!1,le=!1;try{for(var we,pe=Wi(Ct.flush(r));oe=!(we=yield Er(pe.next())).done;oe=!1)Tt=we.value,yield Tt}catch(Lt){le=!0,ue=Lt}finally{try{oe&&null!=pe.return&&(yield Er(pe.return()))}finally{if(le)throw ue}}if(null==Tt)throw new Error("Did not flush dir");o.push({Name:xt+ot.key,Tsize:Number(Tt.size),Hash:Tt.cid}),a+=Tt.size}else{const Ct=ot.value;if(null==Ct.cid)continue;const Kt=Ct.size;o.push({Name:xt+ot.key,Tsize:Number(Kt),Hash:Ct.cid}),a+=BigInt(Kt??0)}}const Oe=Uint8Array.from(s.bitField().reverse()),Pe=new mp({type:"hamt-sharded-directory",data:Oe,fanout:BigInt(n.tableSize()),hashType:xre,mtime:t?.mtime,mode:t?.mode}),$e=jv(Lv({Data:Pe.marshal(),Links:o})),Je=yield Er(AS($e,r,i)),Qe=BigInt($e.byteLength)+a;yield{cid:Je,unixfs:Pe,size:Qe}}),rH.apply(this,arguments)}function PCe(n){return"function"==typeof n.flush}function Sre(n,r,t){const i=n._children,s=[];for(let _=0;_<i.length;_++){const E=i.get(_);if(null==E)continue;const m=_.toString(16).toUpperCase().padStart(2,"0");if(E instanceof ef){const j=Sre(E,null,t);s.push({Name:m,Tsize:Number(j),Hash:0===t.cidVersion?Yz:Zz})}else if("function"==typeof E.value.flush){const oe=E.value.nodeSize();s.push({Name:m+E.key,Tsize:Number(oe),Hash:0===t.cidVersion?Yz:Zz})}else{const j=E.value;if(null==j.cid)continue;s.push({Name:m+E.key,Tsize:Number(j.size),Hash:j.cid})}}const o=Uint8Array.from(i.bitField().reverse());return jv(Lv({Data:new mp({type:"hamt-sharded-directory",data:o,fanout:BigInt(n.tableSize()),hashType:xre,mtime:r?.mtime,mode:r?.mode}).marshal(),Links:s})).length}function Cre(n,r,t,i){return iH.apply(this,arguments)}function iH(){return iH=(0,Nn.A)(function*(n,r,t,i){let s=r;r instanceof Jz&&r.estimateNodeSize()>t&&(s=yield function OCe(n,r){return sH.apply(this,arguments)}(r,i));const o=s.parent;if(null!=o){if(s!==r){if(null!=n&&(n.parent=s),null==s.parentKey)throw new Error("No parent key found");yield o.put(s.parentKey,s)}return Cre(s,o,t,i)}return s}),iH.apply(this,arguments)}function sH(){return sH=(0,Nn.A)(function*(n,r){const t=new ICe({root:n.root,dir:!0,parent:n.parent,parentKey:n.parentKey,path:n.path,dirty:n.dirty,flat:!1,mtime:n.mtime,mode:n.mode},r);var o,i=!1,s=!1;try{for(var c,a=Wi(n.eachChildSeries());i=!(c=yield a.next()).done;i=!1){const{key:_,child:E}=c.value;yield t.put(_,E)}}catch(_){s=!0,o=_}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}return t}),sH.apply(this,arguments)}const RCe=(n="")=>(n.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function FCe(n,r,t){return oH.apply(this,arguments)}function oH(){return oH=(0,Nn.A)(function*(n,r,t){const i=RCe(n.path??""),s=i.length-1;let o=r,a="";for(let c=0;c<i.length;c++){const _=i[c];a+=`${""!==a?"/":""}${_}`;const E=c===s;if(o.dirty=!0,o.cid=void 0,o.size=void 0,E)yield o.put(_,n),r=yield Cre(null,o,t.shardSplitThresholdBytes,t);else{let m=yield o.get(_);(null==m||!(m instanceof a3))&&(m=new Jz({root:!1,dir:!0,parent:o,parentKey:_,path:a,dirty:!0,flat:!0,mtime:m?.unixfs?.mtime,mode:m?.unixfs?.mode},t)),yield o.put(_,m),o=m}}return r}),oH.apply(this,arguments)}function Are(n,r){return aH.apply(this,arguments)}function aH(){return aH=hs(function*(n,r){n instanceof a3?yield*wm(Wi(n.flush(r))):!0===n.unixfs?.isDirectory()&&(yield n)}),aH.apply(this,arguments)}function c3(n,r){return cH.apply(this,arguments)}function cH(){return cH=hs(function*(n,r,t={}){let i;i=Symbol.asyncIterator in n||Symbol.iterator in n?n:[n];const s=t.wrapWithDirectory??!1,o=t.shardSplitThresholdBytes??262144,a=t.cidVersion??1,c=t.rawLeaves??!0,_=t.leafType??"file",E=t.fileImportConcurrency??50,m=t.blockWriteConcurrency??10,j=t.reduceSingleLeafToSelf??!0,oe=t.chunker??gxe(),le=t.chunkValidator??lCe(),ue=t.dagBuilder??function PEe(n){return function(){var r=hs(function*(i,s){var c,o=!1,a=!1;try{for(var E,_=Wi(i);o=!(E=yield Er(_.next())).done;o=!1){const m=E.value;{let j;if(null!=m.path&&(j=m.path,m.path=m.path.split("/").filter(oe=>null!=oe&&"."!==oe).join("/")),OEe(m)){const oe={path:m.path,mtime:m.mtime,mode:m.mode,content:hs(function*(){let le=0n;var we,ue=!1,pe=!1;try{for(var Pe,Oe=Wi(n.chunker(n.chunkValidator(IEe(m.content))));ue=!(Pe=yield Er(Oe.next())).done;ue=!1){const Ie=Pe.value;{const $e=BigInt(Ie.byteLength);le+=$e,n.onProgress?.(new lh("unixfs:importer:progress:file:read",{bytesRead:le,chunkSize:$e,path:m.path})),yield Ie}}}catch(Ie){pe=!0,we=Ie}finally{try{ue&&null!=Oe.return&&(yield Er(Oe.return()))}finally{if(pe)throw we}}})(),originalPath:j};yield(0,Nn.A)(function*(){return DEe(oe,s,n)})}else{if(null==m.path)throw new Error("Import candidate must have content or path or both");{const oe={path:m.path,mtime:m.mtime,mode:m.mode,originalPath:j};yield(0,Nn.A)(function*(){return CEe(oe,s,n)})}}}}}catch(m){a=!0,c=m}finally{try{o&&null!=_.return&&(yield Er(_.return()))}finally{if(a)throw c}}});return function t(i,s){return r.apply(this,arguments)}}()}({chunker:oe,chunkValidator:le,wrapWithDirectory:s,layout:t.layout??uCe(),bufferImporter:t.bufferImporter??SEe({cidVersion:a,rawLeaves:c,leafType:_,onProgress:t.onProgress}),blockWriteConcurrency:m,reduceSingleLeafToSelf:j,cidVersion:a,onProgress:t.onProgress}),pe=t.treeBuilder??function NCe(n){return function(){var r=hs(function*(i,s){let a,o=new Jz({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n),c=!1;var m,_=!1,E=!1;try{for(var oe,j=Wi(i);_=!(oe=yield Er(j.next())).done;_=!1){const Pe=oe.value;{if(null==Pe)continue;const Ie=`${Pe.originalPath??""}`.split("/")[0];null!=Ie&&""!==Ie&&(null==a?(a=Ie,c=!0):a!==Ie&&(c=!1)),o=yield Er(FCe(Pe,o,n)),(null==Pe.unixfs||!Pe.unixfs.isDirectory())&&(yield Pe)}}}catch(Pe){E=!0,m=Pe}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}if(n.wrapWithDirectory||c&&o.childCount()>1)yield*wm(Wi(Are(o,s)));else{var pe,le=!1,ue=!1;try{for(var Oe,we=Wi(o.eachChildSeries());le=!(Oe=yield Er(we.next())).done;le=!1){const Pe=Oe.value;null!=Pe&&(yield*wm(Wi(Are(Pe.child,s))))}}catch(Pe){ue=!0,pe=Pe}finally{try{le&&null!=we.return&&(yield Er(we.return()))}finally{if(ue)throw pe}}}});return function t(i,s){return r.apply(this,arguments)}}()}({wrapWithDirectory:s,shardSplitThresholdBytes:o,cidVersion:a,onProgress:t.onProgress});var Pe,we=!1,Oe=!1;try{for(var $e,Ie=Wi(pe(mne(ue(i,r),E),r));we=!($e=yield Er(Ie.next())).done;we=!1){const Je=$e.value;yield{cid:Je.cid,path:Je.path,unixfs:Je.unixfs,size:Je.size}}}catch(Je){Oe=!0,Pe=Je}finally{try{we&&null!=Ie.return&&(yield Er(Ie.return()))}finally{if(Oe)throw Pe}}}),cH.apply(this,arguments)}var hH=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Dre=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}};const Mre={[K0.code]:K0},kre={[qR]:te};class Uc{static computeCid(r,t=qR,i=K0.code){return hH(this,void 0,void 0,function*(){const s=kre[t];if(!s)throw new Sn(xn.ComputeCidCodecNotSupported,`codec [${t}] not supported`);const o=Mre[i];if(!o)throw new Sn(xn.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const a=s.encode(r),c=yield o.digest(a);return(yield xs.createV1(s.code,c)).toString()})}static parseCid(r){const t=xs.parse(r).toV1();if(!kre[t.code])throw new Sn(xn.ParseCidCodecNotSupported,`codec [${t.code}] not supported`);if(!Mre[t.multihash.code])throw new Sn(xn.ParseCidMultihashNotSupported,`multihash code [${t.multihash.code}] not supported`);return t}static computeDagPbCidFromBytes(r){var t,i,s;return hH(this,void 0,void 0,function*(){const a=c3([{content:r}],new hne,{cidVersion:1});let c;try{for(var m,_=!0,E=Dre(a);m=yield E.next(),!(t=m.done);_=!0)_=!1,c=m.value}catch(j){i={error:j}}finally{try{!_&&!t&&(s=E.return)&&(yield s.call(E))}finally{if(i)throw i.error}}return c?c.cid.toString():""})}static computeDagPbCidFromStream(r){var t,i,s;return hH(this,void 0,void 0,function*(){const a=c3([{content:r}],new hne,{cidVersion:1});let c;try{for(var m,_=!0,E=Dre(a);m=yield E.next(),!(t=m.done);_=!0)_=!1,c=m.value}catch(j){i={error:j}}finally{try{!_&&!t&&(s=E.return)&&(yield s.call(E))}finally{if(i)throw i.error}}return c?c.cid.toString():""})}}var Ire=A(91426),l3=A(63397),d3=A(65797),gF=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};l3.VV.isEphemeralKeyCompressed=!0;class u3{static aes256CtrEncrypt(r,t,i){return gF(this,void 0,void 0,function*(){const s=Ire.createCipheriv("aes-256-ctr",r,t),o=new d3.Readable({read(){}});return i.on("data",a=>{const c=s.update(a);o.push(c)}),i.on("end",()=>{const a=s.final();o.push(a),o.push(null)}),i.on("error",a=>{o.emit("error",a)}),o})}static aes256CtrDecrypt(r,t,i){return gF(this,void 0,void 0,function*(){const s=Ire.createDecipheriv("aes-256-ctr",r,t),o=new d3.Readable({read(){}});return i.on("data",a=>{const c=s.update(a);o.push(c)}),i.on("end",()=>{const a=s.final();o.push(a),o.push(null)}),i.on("error",a=>{o.emit("error",a)}),o})}static eciesSecp256k1Encrypt(r,t){return gF(this,void 0,void 0,function*(){const i=Buffer.from(r),s=Buffer.from(t),o=l3.w(i,s);let a=0,c=u3.isEphemeralKeyCompressed?33:65;const _=o.subarray(a,c);a=c,c+=l3.VV.symmetricNonceLength;const E=o.subarray(a,c);a=c,c+=16;const m=o.subarray(a,c);return{ciphertext:o.subarray(c),ephemeralPublicKey:_,initializationVector:E,messageAuthenticationCode:m}})}static eciesSecp256k1Decrypt(r){return gF(this,void 0,void 0,function*(){const t=Buffer.from(r.privateKey),i=Buffer.concat([r.ephemeralPublicKey,r.initializationVector,r.messageAuthenticationCode,r.ciphertext]);return l3.Yc(t,i)})}static get isEphemeralKeyCompressed(){return l3.VV.isEphemeralKeyCompressed}}var pH=function(n){return n.Aes256Ctr="A256CTR",n.EciesSecp256k1="ECIES-ES256K",n}(pH||{}),Pre=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class f3{constructor(r){this.jws=r}static create(r,t=[]){return Pre(this,void 0,void 0,function*(){const i={payload:Wr.bytesToBase64Url(r),signatures:[]},s=new f3(i);for(const o of t)yield s.addSignature(o);return s})}addSignature(r){return Pre(this,void 0,void 0,function*(){const i=JSON.stringify({kid:r.keyId,alg:r.algorithm}),s=Wr.stringToBase64Url(i),a=Wr.stringToBytes(`${s}.${this.jws.payload}`),c=yield r.sign(a),_=Wr.bytesToBase64Url(c);this.jws.signatures.push({protected:s,signature:_})})}getJws(){return this.jws}}var yF=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},dh=function(n){return n.DataFormats="dataFormats",n.ProtocolContext="protocolContext",n.ProtocolPath="protocolPath",n.Schemas="schemas",n}(dh||{});class DS{static derivePrivateKey(r,t){var i;return yF(this,void 0,void 0,function*(){const s=pc.privateJwkToBytes(r.derivedPrivateKey),o=null!==(i=r.derivationPath)&&void 0!==i?i:[],a=yield DS.derivePrivateKeyBytes(s,t),c=yield pc.privateKeyToJwk(a);return{rootKeyId:r.rootKeyId,derivationScheme:r.derivationScheme,derivationPath:[...o,...t],derivedPrivateKey:c}})}static derivePublicKey(r,t){return yF(this,void 0,void 0,function*(){const i=yield DS.derivePrivateKey(r,t);return yield pc.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(r,t){return yF(this,void 0,void 0,function*(){DS.validateKeyDerivationPath(t);let i=r;for(const s of t){const o=Wr.stringToBytes(s);i=yield DS.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:o,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(r){return yF(this,void 0,void 0,function*(){const{hashAlgorithm:t,initialKeyMaterial:i,info:s,keyLengthInBytes:o}=r,c=yield Xh().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),_=yield crypto.subtle.deriveBits({name:"HKDF",hash:t,salt:new Uint8Array(0),info:s},c,8*o);return new Uint8Array(_)})}static validateKeyDerivationPath(r){if(r.includes(""))throw new Sn(xn.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${r}`)}}function mH(n,r){return n>r?1:n<r?-1:0}function vF(n){if("object"!=typeof n)return!1;for(const r in n)return!1;return!0}function ou(n){Object.keys(n).forEach(r=>{void 0===n[r]?delete n[r]:"object"==typeof n[r]&&ou(n[r])})}var xm=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Kn{static getAuthor(r){if(void 0===r.authorization)return;let t;return t=Kn.getSigner(void 0!==r.authorization.authorDelegatedGrant?r.authorization.authorDelegatedGrant:r),t}static validateJsonSchema(r){_S(r.descriptor.interface+r.descriptor.method,r)}static getSigner(r){return void 0===r.authorization?void 0:vo.getSignerDid(r.authorization.signature.signatures[0])}static getCid(r){return xm(this,void 0,void 0,function*(){const t=Object.assign({},r);return t.encodedData&&delete t.encodedData,yield Uc.computeCid(t)})}static compareCid(r,t){return xm(this,void 0,void 0,function*(){return mH(yield Kn.getCid(r),yield Kn.getCid(t))})}static createAuthorization(r){return xm(this,void 0,void 0,function*(){const{descriptor:t,signer:i,delegatedGrant:s,permissionGrantId:o,protocolRole:a}=r;let c;void 0!==s&&(c=yield Kn.getCid(s));const E={signature:yield Kn.createSignature(t,i,{delegatedGrantId:c,permissionGrantId:o,protocolRole:a})};return void 0!==s&&(E.authorDelegatedGrant=s),E})}static createSignature(r,t,i){return xm(this,void 0,void 0,function*(){const s=yield Uc.computeCid(r),o=Object.assign({descriptorCid:s},i);ou(o);const a=Wr.objectToBytes(o);return(yield f3.create(a,[t])).getJws()})}static getNewestMessage(r){return xm(this,void 0,void 0,function*(){let t;for(const i of r)(void 0===t||(yield Kn.isNewer(i,t)))&&(t=i);return t})}static getOldestMessage(r){return xm(this,void 0,void 0,function*(){let t;for(const i of r)(void 0===t||(yield Kn.isOlder(i,t)))&&(t=i);return t})}static isNewer(r,t){return xm(this,void 0,void 0,function*(){return(yield Kn.compareMessageTimestamp(r,t))>0})}static isOlder(r,t){return xm(this,void 0,void 0,function*(){return(yield Kn.compareMessageTimestamp(r,t))<0})}static isSignedByAuthorDelegate(r){var t;return void 0!==(null===(t=r.authorization)||void 0===t?void 0:t.authorDelegatedGrant)}static isSignedByOwnerDelegate(r){var t;return void 0!==(null===(t=r.authorization)||void 0===t?void 0:t.ownerDelegatedGrant)}static compareMessageTimestamp(r,t){return xm(this,void 0,void 0,function*(){return r.descriptor.messageTimestamp>t.descriptor.messageTimestamp?1:r.descriptor.messageTimestamp<t.descriptor.messageTimestamp?-1:Kn.compareCid(r,t)})}static validateSignatureStructure(r,t,i="GenericSignaturePayload"){return xm(this,void 0,void 0,function*(){if(1!==r.signatures.length)throw new Sn(xn.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const s=vo.decodePlainObjectPayload(r);_S(i,s);const{descriptorCid:o}=s,a=yield Uc.computeCid(t);if(o!==a)throw new Sn(xn.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${o} does not match expected CID ${a}`);return s})}}class id{static parse(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return new id(r)})}constructor(r){this.id=r.recordId,this.grantor=Kn.getSigner(r),this.grantee=r.descriptor.recipient,this.dateGranted=r.descriptor.dateCreated;const i=Wr.base64UrlToObject(r.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var tf=function(n){return n.CreatedAscending="createdAscending",n.CreatedDescending="createdDescending",n.PublishedAscending="publishedAscending",n.PublishedDescending="publishedDescending",n}(tf||{});class sd{static matchAnyFilter(r,t){if(0===t.length)return!0;for(const i of t)if(this.matchFilter(r,i))return!0;return!1}static matchFilter(r,t){for(const i in t){const s=t[i],o=r[i];if(void 0===o||!(Array.isArray(o)?this.matchAnyIndexValue(s,o):this.matchIndexValue(s,o)))return!1}return!0}static matchAnyIndexValue(r,t){for(const i of t)if(this.matchIndexValue(r,i))return!0;return!1}static matchIndexValue(r,t){if("object"==typeof r){if(Array.isArray(r)){if(this.matchOneOf(r,t))return!0}else if(this.matchRange(r,t))return!0}else if(t===r)return!0;return!1}static matchOneOf(r,t){for(const i of r)if(t===i)return!0;return!1}static matchRange(r,t){return!(void 0!==r.lt&&t>=r.lt||void 0!==r.lte&&t>r.lte||void 0!==r.gt&&t<=r.gt||void 0!==r.gte&&t<r.gte)}static isEqualFilter(r){return"object"!=typeof r}static isRangeFilter(r){return"object"==typeof r&&!Array.isArray(r)&&("gt"in r||"lt"in r||"lte"in r||"gte"in r)}static isOneOfFilter(r){return!("object"!=typeof r||!Array.isArray(r))}static convertRangeCriterion(r){let t;return void 0!==r.to&&void 0!==r.from?t={gte:r.from,lt:r.to}:void 0!==r.to?t={lt:r.to}:void 0!==r.from&&(t={gte:r.from}),t}static constructPrefixFilterAsRangeFilter(r){return{gte:r,lt:r+"\uffff"}}}class $Ce{static reduceFilter(r){if(Object.keys(r).length<=1)return r;const{recordId:i,attester:s,parentId:o,recipient:a,contextId:c,protocolPath:E,schema:m,protocol:j}=r,oe=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==s)return{attester:s};if(void 0!==o)return{parentId:o};if(void 0!==a)return{recipient:a};if(void 0!==c)return{contextId:c};if(void 0!==E)return{protocolPath:E};if(void 0!==m)return{schema:m};if(void 0!==j)return{protocol:j};const ue=Object.keys(oe)[0],pe={};return pe[ue]=r[ue],pe}}var Sr=function(n){return n.Messages="Messages",n.Protocols="Protocols",n.Records="Records",n}(Sr||{}),dr=function(n){return n.Configure="Configure",n.Query="Query",n.Read="Read",n.Write="Write",n.Delete="Delete",n.Subscribe="Subscribe",n}(dr||{});function Vv(n){let r;try{r=Uv(n)}catch{r=void 0}if(n!==r)throw new Sn(xn.UrlProtocolNotNormalized,`Protocol URI ${n} must be normalized.`)}function Uv(n){return Ore(n)}function bF(n){let r;try{r=_F(n)}catch{r=void 0}if(n!==r)throw new Sn(xn.UrlSchemaNotNormalized,`Schema URI ${n} must be normalized.`)}function _F(n){return Ore(n)}function Ore(n){let r;r=/^[^:]+:(\/{2})?[^\/].*/.test(n)?n:`http://${n}`;try{const t=new URL(r);return t.search="",t.hash="",function VCe(n){return n.endsWith("/")?n.slice(0,-1):n}(t.href)}catch{throw new Sn(xn.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var gH=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class ai{static isRecordsWrite(r){return r.descriptor.interface===Sr.Records&&r.descriptor.method===dr.Write}static decrypt(r,t,i){return gH(this,void 0,void 0,function*(){const{encryption:s}=r,o=s.keyEncryption.find(pe=>pe.rootKeyId===t.rootKeyId&&pe.derivationScheme===t.derivationScheme);if(void 0===o)throw new Sn(xn.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${t.rootKeyId}' and '${t.derivationScheme}' derivation scheme.`);const a=ai.constructKeyDerivationPath(o.derivationScheme,r),c=yield ai.derivePrivateKey(t,a),_=Wr.base64UrlToBytes(o.encryptedKey),E=pc.publicJwkToBytes(o.ephemeralPublicKey),m=Wr.base64UrlToBytes(o.initializationVector),j=Wr.base64UrlToBytes(o.messageAuthenticationCode),oe=yield u3.eciesSecp256k1Decrypt({ciphertext:_,ephemeralPublicKey:E,initializationVector:m,messageAuthenticationCode:j,privateKey:c}),le=Wr.base64UrlToBytes(s.initializationVector);return yield u3.aes256CtrDecrypt(oe,le,i)})}static constructKeyDerivationPath(r,t){const i=t.descriptor,s=t.contextId;let o;return o=r===dh.DataFormats?ai.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):r===dh.ProtocolPath?ai.constructKeyDerivationPathUsingProtocolPathScheme(i):r===dh.ProtocolContext?ai.constructKeyDerivationPathUsingProtocolContextScheme(s):ai.constructKeyDerivationPathUsingSchemasScheme(i.schema),o}static constructKeyDerivationPathUsingDataFormatsScheme(r,t){return void 0!==r?[dh.DataFormats,r,t]:[dh.DataFormats,t]}static constructKeyDerivationPathUsingProtocolPathScheme(r){if(void 0===r.protocol)throw new Sn(xn.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const t=r.protocolPath.split("/");return[dh.ProtocolPath,r.protocol,...t]}static constructKeyDerivationPathUsingProtocolContextScheme(r){if(void 0===r)throw new Sn(xn.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const t=r.split("/")[0];return[dh.ProtocolContext,t]}static constructKeyDerivationPathUsingSchemasScheme(r){if(void 0===r)throw new Sn(xn.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[dh.Schemas,r]}static derivePrivateKey(r,t){var i;return gH(this,void 0,void 0,function*(){if("secp256k1"!==r.derivedPrivateKey.crv)throw new Sn(xn.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${r.derivedPrivateKey.crv} is not supported.`);const s=null!==(i=r.derivationPath)&&void 0!==i?i:[];ai.validateAncestorKeyAndDescentKeyDerivationPathsMatch(s,t);const o=t.slice(s.length),a=pc.privateJwkToBytes(r.derivedPrivateKey);return yield DS.derivePrivateKeyBytes(a,o)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(r,t){for(let i=0;i<r.length;i++){const s=r[i],o=t[i];if(s!==o)throw new Sn(xn.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${s}' mismatches against the descendant key derivation segment '${o}'.`)}}static getParentContextFromOfContextId(r){if(void 0===r)return;const t=r.lastIndexOf("/");return-1===t?"":r.substring(0,t)}static normalizeFilter(r){let t,i;t=void 0===r.protocol?void 0:Uv(r.protocol),i=void 0===r.schema?void 0:_F(r.schema);const s=Object.assign(Object.assign({},r),{protocol:t,schema:i});return ou(s),s}static isStartsWithFilter(r){return"object"==typeof r&&"startsWith"in r&&"string"==typeof r.startsWith}static buildTagIndexes(r){const t={};for(const i in r)t[`tag.${i}`]=r[i];return t}static convertTagsFilter(r){const t={};for(const i in r){const s=r[i];t[`tag.${i}`]=this.isStartsWithFilter(s)?sd.constructPrefixFilterAsRangeFilter(s.startsWith):s}return t}static convertFilter(r,t){const{tags:i}=r,s=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["tags"]);let o={};void 0!==i&&(o=Object.assign({},this.convertTagsFilter(i)));const a=Object.assign(Object.assign({},s),o),{dateCreated:c,datePublished:_,dateUpdated:E,contextId:m}=r,j=c?sd.convertRangeCriterion(c):void 0;j&&(a.dateCreated=j);const oe=_?sd.convertRangeCriterion(_):void 0;oe&&(a.published=!0,a.datePublished=oe),!0!==a.published&&(t===tf.PublishedAscending||t===tf.PublishedDescending)&&(a.published=!0);const le=E?sd.convertRangeCriterion(E):void 0;le&&(a.messageTimestamp=le,delete a.dateUpdated);const ue=m?sd.constructPrefixFilterAsRangeFilter(m):void 0;return ue&&(a.contextId=ue),Array.isArray(a.author)&&0===a.author.length&&delete a.author,Array.isArray(a.recipient)&&0===a.recipient.length&&delete a.recipient,a}static validateDelegatedGrantReferentialIntegrity(r,t,i){var s,o;return gH(this,void 0,void 0,function*(){const a=void 0!==t?.delegatedGrantId,c=void 0!==(null===(s=r.authorization)||void 0===s?void 0:s.authorDelegatedGrant);if(a!==c)throw new Sn(xn.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${a},          authorDelegatedGrant defined: ${c}`);if(c){const m=r.authorization.authorDelegatedGrant;if(!0!==(yield id.parse(m)).delegated)throw new Sn(xn.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const oe=m.descriptor.recipient,le=Kn.getSigner(r);if(oe!==le)throw new Sn(xn.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${oe} in author delegated grant must be the same as the signer ${le} of the message signature.`);const ue=yield Kn.getCid(m);if(ue!==t.delegatedGrantId)throw new Sn(xn.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${ue} must be the same as           the delegatedGrantId ${t.delegatedGrantId} in the message signature.`)}const _=void 0!==i?.delegatedGrantId,E=void 0!==(null===(o=r.authorization)||void 0===o?void 0:o.ownerDelegatedGrant);if(_!==E)throw new Sn(xn.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${_},          ownerDelegatedGrant defined: ${E}`);if(E){const m=r.authorization.ownerDelegatedGrant;if(!0!==(yield id.parse(m)).delegated)throw new Sn(xn.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const oe=m.descriptor.recipient,le=vo.getSignerDid(r.authorization.ownerSignature.signatures[0]);if(oe!==le)throw new Sn(xn.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${oe} in owner delegated grant must be the same as the signer ${le} of the owner signature.`);const ue=yield Kn.getCid(m);if(ue!==i.delegatedGrantId)throw new Sn(xn.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${ue} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(r){return void 0!==r.protocolRole}static filterIncludesPublishedRecords(r){return void 0!==r.datePublished||!1!==r.published}static filterIncludesUnpublishedRecords(r){return void 0===r.datePublished&&void 0===r.published||!1===r.published}static canPerformDeleteAgainstRecord(r,t){if(void 0===t)return!1;if(t.descriptor.method===dr.Delete){if(!0!==r.descriptor.prune)return!1;if(!0===t.descriptor.prune)return!1}return!0}static shouldBuildUnpublishedRecipientFilter(r,t){const{recipient:i}=r;return Array.isArray(i)?0===i.length||i.includes(t):void 0===i||i===t}static shouldBuildUnpublishedAuthorFilter(r,t){const{author:i}=r;return Array.isArray(i)?0===i.length||i.includes(t):void 0===i||i===t}}var yH=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class uh{static performBaseValidation(r){return yH(this,void 0,void 0,function*(){const{incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}=r,c=t.descriptor;uh.verifyExpectedGrantorAndGrantee(i,s,o);const _=i;yield uh.verifyGrantActive(_,c.messageTimestamp,o,a),yield uh.verifyGrantScopeInterfaceAndMethod(c.interface,c.method,o)})}static verifyExpectedGrantorAndGrantee(r,t,i){const s=i.grantee;if(t!==s)throw new Sn(xn.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${s}, but need to be granted to ${t}`);const o=i.grantor;if(r!==o)throw new Sn(xn.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${o}, but need to be granted by ${r}`)}static verifyGrantActive(r,t,i,s){return yH(this,void 0,void 0,function*(){if(t<i.dateGranted)throw new Sn(xn.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(t>=i.dateExpires)throw new Sn(xn.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const o={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:a}=yield s.query(r,[o]),c=yield Kn.getOldestMessage(a);if(void 0!==c&&c.descriptor.messageTimestamp<=t)throw new Sn(xn.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(r,t,i){return yH(this,void 0,void 0,function*(){if(r!==i.scope.interface)throw new Sn(xn.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(t!==i.scope.method)throw new Sn(xn.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var vH=function(n){return n.Required="Required",n.Prohibited="Prohibited",n}(vH||{}),wF=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class fh{static authorizeWrite(r){return wF(this,void 0,void 0,function*(){const{recordsWriteMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}),fh.verifyScope(t,o.scope),fh.verifyConditions(t,o.conditions)})}static authorizeRead(r){return wF(this,void 0,void 0,function*(){const{recordsReadMessage:t,recordsWriteMessageToBeRead:i,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c}),fh.verifyScope(i,a.scope)})}static authorizeQueryOrSubscribe(r){return wF(this,void 0,void 0,function*(){const{incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a});const _=o.scope.protocol,E=t.descriptor.filter.protocol;if(void 0!==_&&E!==_)throw new Sn(xn.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${_} does not match protocol in message ${E}`)})}static authorizeDelete(r){return wF(this,void 0,void 0,function*(){const{recordsDeleteMessage:t,recordsWriteToDelete:i,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c});const E=a.scope.protocol,m=i.descriptor.protocol;if(void 0!==E&&m!==E)throw new Sn(xn.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${E} does not match protocol in record to delete ${m}`)})}static verifyScope(r,t){if(t.protocol!==r.descriptor.protocol)throw new Sn(xn.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==t.contextId&&(void 0===r.contextId||!r.contextId.startsWith(t.contextId)))throw new Sn(xn.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==t.protocolPath&&t.protocolPath!==r.descriptor.protocolPath)throw new Sn(xn.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(r,t){if(t?.publication===vH.Required&&!r.descriptor.published)throw new Sn(xn.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(t?.publication===vH.Prohibited&&r.descriptor.published)throw new Sn(xn.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var lt=A(89994);const bH={};function Em(n,r){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:r,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n,t,i))}for(const t of Object.getOwnPropertyNames(n.prototype)){const i=Object.getOwnPropertyDescriptor(n.prototype,t);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n.prototype,t,i))}oo(r,n),oo(`${r}.prototype`,n.prototype)}function oo(n,r){const t=`%${n}%`;if(void 0!==bH[t])throw new Error(`intrinsic ${n} already exists`);bH[t]=r}function Ln(n){return bH[n]}var Rre,Fre;const Pr="slot-epochNanoSeconds",Sm="slot-timezone-identifier",er="slot-year",ir="slot-month",ar="slot-day",ci="slot-hour",li="slot-minute",di="slot-second",ui="slot-millisecond",fi="slot-microsecond",hi="slot-nanosecond",vn="slot-calendar",Nre="slot-date-brand",Bre="slot-year-month-brand",Lre="slot-month-day-brand",zc="slot-cached-instant",ss="slot-time-zone",Sl="slot-years",Qa="slot-months",od="slot-weeks",Cl="slot-days",Al="slot-hours",Tl="slot-minutes",Dl="slot-seconds",Ml="slot-milliseconds",kl="slot-microseconds",Il="slot-nanoseconds",ao="slot-calendar-identifier",jre=new WeakMap,_H=Symbol.for("@@Temporal__GetSlots");(Rre=globalThis)[_H]||(Rre[_H]=function(r){return jre.get(r)});const wH=globalThis[_H],xH=Symbol.for("@@Temporal__CreateSlots");(Fre=globalThis)[xH]||(Fre[xH]=function(r){jre.set(r,Object.create(null))});const Cm=globalThis[xH];function Ma(n,...r){if(!n||"object"!=typeof n)return!1;const t=wH(n);return!!t&&r.every(i=>i in t)}function Fe(n,r){const t=wH(n)?.[r];if(void 0===t)throw new TypeError(`Missing internal slot ${r}`);return t}function yi(n,r,t){const i=wH(n);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[r])throw new TypeError(`${r} already has set`);i[r]=t}const $re=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,h3=new RegExp("(?:"+[`(?:${$re.source})(?:\\/(?:${$re.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Vre=/(?:[+\u2212-]\d{6}|\d{4})/,xF=/(?:0[1-9]|1[0-2])/,EH=/(?:0[1-9]|[12]\d|3[01])/,zCe=new RegExp(`(${Vre.source})(?:-(${xF.source})-(${EH.source})|(${xF.source})(${EH.source}))`),Ure=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,zre=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Hre=new RegExp(`([zZ])|${zre.source}?`),zv=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,HCe=new RegExp([`^${zCe.source}`,`(?:(?:T|\\s+)${Ure.source}(?:${Hre.source})?)?`,`(?:\\[!?(${h3.source})\\])?`,`((?:${zv.source})*)$`].join(""),"i"),GCe=new RegExp([`^T?${Ure.source}`,`(?:${Hre.source})?`,`(?:\\[!?${h3.source}\\])?`,`((?:${zv.source})*)$`].join(""),"i"),WCe=new RegExp(`^(${Vre.source})-?(${xF.source})(?:\\[!?${h3.source}\\])?((?:${zv.source})*)$`),KCe=new RegExp(`^(?:--)?(${xF.source})-?(${EH.source})(?:\\[!?${h3.source}\\])?((?:${zv.source})*)$`),SH=/(\d+)(?:[.,](\d{1,9}))?/,qCe=new RegExp(`(?:${SH.source}H)?(?:${SH.source}M)?(?:${SH.source}S)?`),XCe=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${qCe.source})?$`,"i"),YCe=Array.prototype.includes,Gre=Array.prototype.push,Wre=globalThis.Intl.DateTimeFormat,ZCe=Math.min,JCe=Math.max,Hs=Math.abs,Pd=Math.floor,MS=Math.sign,fw=Math.trunc,EF=Number.isNaN,Pl=Number.isFinite,QCe=Number,p3=String,eAe=Number.MAX_SAFE_INTEGER,Hc=Object.create,tAe=Object.getOwnPropertyDescriptor,SF=Reflect.apply,nAe=Reflect.ownKeys,bo=lt.BigInt(0),kS=lt.BigInt(1),Am=lt.BigInt(60),Kre=lt.BigInt(24),Ki=lt.BigInt(1e3),au=lt.BigInt(1e6),Tm=lt.BigInt(1e9),rAe=lt.BigInt(-1),qre=lt.multiply(lt.BigInt(3600),Tm),Xre=lt.multiply(Am,Tm),Dm=lt.multiply(qre,Kre),m3=lt.multiply(lt.BigInt(-86400),lt.BigInt(1e17)),IS=lt.multiply(lt.BigInt(86400),lt.BigInt(1e17)),CF=-271821,AF=275760,PS=lt.multiply(lt.BigInt(-388152),lt.BigInt(1e13)),iAe=lt.multiply(Dm,lt.BigInt(3660)),Yre=lt.multiply(Dm,lt.BigInt(366)),Zre=lt.multiply(Dm,lt.BigInt(14)),sAe=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function nf(n){return lt.equal(n,bo)}function Qi(n,r){const t=n[r];if(void 0!==t)return t}function _r(n,r,t){return SF(n,r,arguments.length>2?t:[])}function Gs(n){return"object"==typeof n&&null!==n||"function"==typeof n}function OS(n){if("bigint"==typeof n)throw new TypeError("Cannot convert BigInt to number");return QCe(n)}function ia(n){const r=OS(n);if(EF(r)||0===r)return 0;if(!Pl(r))return r;const t=Pd(Hs(r));return 0===t?0:MS(r)*t}function cu(n){if("number"!=typeof n||EF(n)||!Pl(n))return!1;const r=Hs(n);return Pd(r)===r}function Ol(n){if("symbol"==typeof n)throw new TypeError("Cannot convert a Symbol value to a String");return p3(n)}function Hi(n){const r=OS(n);if(0===r)return 0;if(EF(r)||!Pl(r))throw new RangeError("invalid number value");const t=fw(r);return 0===t?0:t}function Jre(n,r){const t=Hi(n);if(t<=0)throw void 0!==r?new RangeError(`property '${r}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function ka(n){const r=OS(n);if(!Pl(r))throw new RangeError("infinity is out of range");if(!cu(r))throw new RangeError(`unsupported fractional value ${n}`);return 0===r?0:r}function Go(n,r){return{quotient:lt.divide(n,r),remainder:lt.remainder(n,r)}}function TF(n){return lt.lessThan(n,bo)}function Qre(n){return nf(n)?0:TF(n)?-1:1}function gp(n){return lt.lessThan(n,bo)?lt.multiply(n,rAe):n}const eie=new Map([["year",Hi],["month",Jre],["monthCode",Ol],["day",Jre],["hour",Hi],["minute",Hi],["second",Hi],["millisecond",Hi],["microsecond",Hi],["nanosecond",Hi],["years",ka],["months",ka],["weeks",ka],["days",ka],["hours",ka],["minutes",ka],["seconds",ka],["milliseconds",ka],["microseconds",ka],["nanoseconds",ka],["era",Ol],["eraYear",ia],["offset",Ol]]),oAe=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),g3=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],DF=new Map(g3.map(n=>[n[0],n[1]])),aAe=new Map(g3.map(([n,r])=>[r,n])),tie=g3.map(([,n])=>n),nie=Array.from(DF.keys()).sort(),rie=new Map;function iie(n){let r=rie.get(n);return void 0===r&&(r=new Wre("en-us",{timeZone:p3(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),rie.set(n,r)),r}function sie(n){if(null==n)throw new TypeError(`Expected object not ${n}`);return Object(n)}function RS(n,r,t,i){if(null==r)return;const s=nAe(r);for(const o of s)if(!t.some(a=>Object.is(a,o))&&Object.prototype.propertyIsEnumerable.call(r,o)){const a=r[o];if(i&&i.some(c=>Object.is(c,a)))continue;n[o]=a}}function ma(n){return Ma(n,Pr)&&!Ma(n,ss,vn)}function rf(n){return Ma(n,Sm)}function _o(n){return Ma(n,ao)}function wo(n){return Ma(n,Sl,Qa,Cl,Al,Tl,Dl,Ml,kl,Il)}function Mi(n){return Ma(n,Nre)}function xo(n){return Ma(n,ci,li,di,ui,fi,hi)&&!Ma(n,er,ir,ar)}function ri(n){return Ma(n,er,ir,ar,ci,li,di,ui,fi,hi)}function qi(n){return Ma(n,Bre)}function Ia(n){return Ma(n,Lre)}function hr(n){return Ma(n,Pr,ss,vn)}function FS(n){if(Ma(n,vn)||Ma(n,ss))throw new TypeError("with() does not support a calendar or timeZone property");if(xo(n))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==n.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==n.timeZone)throw new TypeError("with() does not support a timeZone property")}function CH(n,r){return"never"===r?"":AH(bc(n),r)}function AH(n,r){return"never"===r||"auto"===r&&"iso8601"===n?"":`[${"critical"===r?"!":""}u-ca=${n}]`}function Mm(n){const r=HCe.exec(n);if(!r)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=r[1];if("\u2212"===t[0]&&(t=`-${t.slice(1)}`),"-000000"===t)throw new RangeError(`invalid ISO 8601 string: ${n}`);const i=ia(t),s=ia(r[2]||r[4]),o=ia(r[3]||r[5]),a=ia(r[6]),c=void 0!==r[6],_=ia(r[7]||r[10]);let E=ia(r[8]||r[11]);60===E&&(E=59);const m=(r[9]||r[12])+"000000000",j=ia(m.slice(0,3)),oe=ia(m.slice(3,6)),le=ia(m.slice(6,9));let ue,pe=!1;if(r[13])ue=void 0,pe=!0;else if(r[14]&&r[15]){const Qe=r[17]||"00";let tt=r[18]||"0";if(ue=`${"-"===r[14]||"\u2212"===r[14]?"-":"+"}${r[15]||"00"}:${r[16]||"00"}`,+tt){for(;tt.endsWith("0");)tt=tt.slice(0,-1);ue+=`:${Qe}.${tt}`}else+Qe&&(ue+=`:${Qe}`);"-00:00"===ue&&(ue="+00:00")}const we=r[19],Oe=r[20];let Pe;for(const[,Ie,$e,Je]of Oe.matchAll(zv))if("u-ca"===$e)void 0===Pe&&(Pe=Je);else if("!"===Ie)throw new RangeError(`Unrecognized annotation: !${$e}=${Je}`);return zH(i,s,o,a,_,E,j,oe,le),{year:i,month:s,day:o,hasTime:c,hour:a,minute:_,second:E,millisecond:j,microsecond:oe,nanosecond:le,ianaName:we,offset:ue,z:pe,calendar:Pe}}function TH(n){const r=WCe.exec(n);let t,i,s,o;if(r){let a=r[1];if("\u2212"===a[0]&&(a=`-${a.slice(1)}`),"-000000"===a)throw new RangeError(`invalid ISO 8601 string: ${n}`);t=ia(a),i=ia(r[2]);const c=r[3];for(const[,_,E,m]of c.matchAll(zv))if("u-ca"===E)void 0===s&&(s=m);else if("!"===_)throw new RangeError(`Unrecognized annotation: !${E}=${m}`);if(void 0!==s&&"iso8601"!==s)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let a;if(({year:t,month:i,calendar:s,day:o,z:a}=Mm(n)),a)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:i,calendar:s,referenceISODay:o}}function DH(n){const r=KCe.exec(n);let t,i,s,o;if(r){t=ia(r[1]),i=ia(r[2]);const a=r[3];for(const[,c,_,E]of a.matchAll(zv))if("u-ca"===_)void 0===s&&(s=E);else if("!"===c)throw new RangeError(`Unrecognized annotation: !${_}=${E}`);if(void 0!==s&&"iso8601"!==s)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let a;if(({month:t,day:i,calendar:s,year:o,z:a}=Mm(n)),a)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:i,calendar:s,referenceISOYear:o}}function MF(n,r,t,i){let s=n,o=r,a=t;switch(i){case"reject":Im(s,o,a);break;case"constrain":({year:s,month:o,day:a}=Oie(s,o,a))}return{year:s,month:o,day:a}}function kF(n,r,t,i,s,o,a){let c=n,_=r,E=t,m=i,j=s,oe=o;switch(a){case"reject":ZF(c,_,E,m,j,oe);break;case"constrain":({hour:c,minute:_,second:E,millisecond:m,microsecond:j,nanosecond:oe}=(pe=_,we=E,Oe=m,Pe=j,Ie=oe,{hour:Nd(c,0,23),minute:Nd(pe,0,59),second:Nd(we,0,59),millisecond:Nd(Oe,0,999),microsecond:Nd(Pe,0,999),nanosecond:Nd(Ie,0,999)}))}var pe,we,Oe,Pe,Ie;return{hour:c,minute:_,second:E,millisecond:m,microsecond:j,nanosecond:oe}}function hw(n){if(!Gs(n))return function(ue){const pe=XCe.exec(ue);if(!pe)throw new RangeError(`invalid duration: ${ue}`);if(pe.slice(2).every(Dt=>void 0===Dt))throw new RangeError(`invalid duration: ${ue}`);const we="-"===pe[1]||"\u2212"===pe[1]?-1:1,Oe=void 0===pe[2]?0:Hi(pe[2])*we,Pe=void 0===pe[3]?0:Hi(pe[3])*we,Ie=void 0===pe[4]?0:Hi(pe[4])*we,$e=void 0===pe[5]?0:Hi(pe[5])*we,Je=void 0===pe[6]?0:Hi(pe[6])*we,Qe=pe[7],tt=pe[8],ot=pe[9],xt=pe[10],Ct=pe[11];let Tt=0,Kt=0,Lt=0;if(void 0!==Qe){if(tt??ot??xt??Ct)throw new RangeError("only the smallest unit can be fractional");Lt=3600*ia((Qe+"000000000").slice(0,9))*we}else if(Tt=void 0===tt?0:Hi(tt)*we,void 0!==ot){if(xt??Ct)throw new RangeError("only the smallest unit can be fractional");Lt=60*ia((ot+"000000000").slice(0,9))*we}else Kt=void 0===xt?0:Hi(xt)*we,void 0!==Ct&&(Lt=ia((Ct+"000000000").slice(0,9))*we);const Xt=Lt%1e3,vt=fw(Lt/1e3)%1e3,Et=fw(Lt/1e6)%1e3;return Kt+=fw(Lt/1e9)%60,Tt+=fw(Lt/6e10),JF(Oe,Pe,Ie,$e,Je,Tt,Kt,Et,vt,Xt),{years:Oe,months:Pe,weeks:Ie,days:$e,hours:Je,minutes:Tt,seconds:Kt,milliseconds:Et,microseconds:vt,nanoseconds:Xt}}(Ol(n));if(wo(n))return{years:Fe(n,Sl),months:Fe(n,Qa),weeks:Fe(n,od),days:Fe(n,Cl),hours:Fe(n,Al),minutes:Fe(n,Tl),seconds:Fe(n,Dl),milliseconds:Fe(n,Ml),microseconds:Fe(n,kl),nanoseconds:Fe(n,Il)};const r={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(ue){if(!Gs(ue))throw new TypeError("invalid duration-like");const pe={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let we=!1;for(const Oe of nie){const Pe=ue[Oe];void 0!==Pe&&(we=!0,pe[Oe]=ka(Pe))}if(!we)throw new TypeError("invalid duration-like");return pe}(n);for(const le of nie){const ue=t[le];void 0!==ue&&(r[le]=ue)}let{years:i,months:s,weeks:o,days:a,hours:c,minutes:_,seconds:E,milliseconds:m,microseconds:j,nanoseconds:oe}=r;return JF(i,s,o,a,c,_,E,m,j,oe),{years:i,months:s,weeks:o,days:a,hours:c,minutes:_,seconds:E,milliseconds:m,microseconds:j,nanoseconds:oe}}function Wo(n){return void 0===n?"constrain":Zv(n,"overflow",["constrain","reject"],"constrain")}function NS(n){return void 0===n?"compatible":Zv(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function yp(n,r){return Zv(n,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],r)}function IF(n,r){return void 0===n?r:Zv(n,"offset",["prefer","use","ignore","reject"],r)}function y3(n){return Zv(n,"calendarName",["auto","always","never","critical"],"auto")}function BS(n){let r=n.roundingIncrement;if(void 0===r)return 1;if(r=OS(r),!Pl(r))throw new RangeError("roundingIncrement must be finite");const t=fw(r);if(t<1||t>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${r}`);return t}function LS(n,r,t){const i=t?r:r-1;if(n>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${n}`);if(r%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${r}`)}function v3(n){const r=n.fractionalSecondDigits;if(void 0===r)return"auto";if("number"!=typeof r){if("auto"!==Ol(r))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);return"auto"}const t=Pd(r);if(!Pl(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);return t}function b3(n,r){switch(n){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(r){case"auto":return{precision:r,unit:"nanosecond",increment:1};case 0:return{precision:r,unit:"second",increment:1};case 1:case 2:case 3:return{precision:r,unit:"millisecond",increment:10**(3-r)};case 4:case 5:case 6:return{precision:r,unit:"microsecond",increment:10**(6-r)};case 7:case 8:case 9:return{precision:r,unit:"nanosecond",increment:10**(9-r)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}}const pw=Symbol("~required~");function Od(n,r,t,i,s=[]){const o=[];for(const[,E,m]of g3)"datetime"!==t&&t!==m||o.push(E);o.push(...s);let a=i;a===pw?a=void 0:void 0!==a&&o.push(a);const c=[...o];for(const E of o){const m=aAe.get(E);void 0!==m&&c.push(m)}let _=Zv(n,r,c,a);if(void 0===_&&i===pw)throw new RangeError(`${r} is required`);return DF.has(_)?DF.get(_):_}function PF(n){const r=n.relativeTo;if(void 0===r)return r;let t,i,s,o,a,c,_,E,m,j,oe,le,ue="option",pe=!1;if(Gs(r)){if(hr(r)||Mi(r))return r;if(ri(r))return US(r);j=T3(r);const we=sa(j,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);we.push("timeZone","offset");const Oe=_i(r,we,[]),Pe=Hc(null);Pe.overflow="constrain",({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m}=_3(j,Oe,Pe)),le=Oe.offset,void 0===le&&(ue="wall"),oe=Oe.timeZone,void 0!==oe&&(oe=Gc(oe))}else{let we,Oe;if(({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m,calendar:j,ianaName:we,offset:le,z:Oe}=Mm(Ol(r))),we)oe=Gc(we),Oe?ue="exact":le||(ue="wall"),pe=!0;else if(Oe)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(j||(j="iso8601"),!og(j))throw new RangeError(`invalid calendar identifier ${j}`);j=Om(j)}return void 0===oe?sf(t,i,s,j):yc(RF(t,i,s,o,a,c,_,E,m,ue,"option"===ue?Gv(le):0,oe,"compatible","reject",pe),oe,j)}function MH(n,r,t,i,s,o,a,c,_,E){for(const[m,j]of[["years",n],["months",r],["weeks",t],["days",i],["hours",s],["minutes",o],["seconds",a],["milliseconds",c],["microseconds",_],["nanoseconds",E]])if(0!==j)return DF.get(m);return"nanosecond"}function mw(n,r){return tie.indexOf(n)>tie.indexOf(r)?r:n}function _i(n,r,t,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const s=Hc(null);let o=!1;r.sort();for(const a of r){let c=n[a];if(void 0!==c)o=!0,eie.has(a)&&(c=eie.get(a)(c)),s[a]=c;else if("partial"!==t){if(YCe.call(t,a))throw new TypeError(`required property '${a}' missing or undefined`);c=oAe.get(a),s[a]=c}}if("partial"===t&&!o)throw new TypeError(i);return s}function OF(n,r="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],i=_i(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),s={};for(const o of t){const a=tAe(i,o);void 0!==a?s[o]=a.value:"complete"===r&&(s[o]=0)}return s}function ds(n,r){let t=n;if(Gs(t)){if(Mi(t))return t;if(hr(t)&&(Wo(r),t=lu(Fe(t,ss),Fe(t,zc),Fe(t,vn))),ri(t))return Wo(r),sf(Fe(t,er),Fe(t,ir),Fe(t,ar),Fe(t,vn));const _=T3(t);return tg(_,_i(t,sa(_,["day","month","monthCode","year"]),[]),r)}Wo(r);let{year:i,month:s,day:o,calendar:a,z:c}=Mm(Ol(t));if(c)throw new RangeError("Z designator not supported for PlainDate");if(a||(a="iso8601"),!og(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Om(a),sf(i,s,o,a)}function _3(n,r,t){let{hour:i,minute:s,second:o,millisecond:a,microsecond:c,nanosecond:_}=OF(r);const E=Wo(t),m=tg(n,r,t),j=Fe(m,er),oe=Fe(m,ir),le=Fe(m,ar);return({hour:i,minute:s,second:o,millisecond:a,microsecond:c,nanosecond:_}=kF(i,s,o,a,c,_,E)),{year:j,month:oe,day:le,hour:i,minute:s,second:o,millisecond:a,microsecond:c,nanosecond:_}}function gw(n,r){let t,i,s,o,a,c,_,E,m,j;if(Gs(n)){if(ri(n))return n;if(hr(n))return Wo(r),lu(Fe(n,ss),Fe(n,zc),Fe(n,vn));if(Mi(n))return Wo(r),Rd(Fe(n,er),Fe(n,ir),Fe(n,ar),0,0,0,0,0,0,Fe(n,vn));j=T3(n);const oe=_i(n,sa(j,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m}=_3(j,oe,r))}else{let oe;if(Wo(r),({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m,calendar:j,z:oe}=Mm(Ol(n))),oe)throw new RangeError("Z designator not supported for PlainDateTime");if(zH(t,i,s,o,a,c,_,E,m),j||(j="iso8601"),!og(j))throw new RangeError(`invalid calendar identifier ${j}`);j=Om(j)}return Rd(t,i,s,o,a,c,_,E,m,j)}function jS(n){if(wo(n))return n;let{years:r,months:t,weeks:i,days:s,hours:o,minutes:a,seconds:c,milliseconds:_,microseconds:E,nanoseconds:m}=hw(n);return new(Ln("%Temporal.Duration%"))(r,t,i,s,o,a,c,_,E,m)}function vp(n){if(ma(n))return n;if(hr(n))return new(Ln("%Temporal.Instant%"))(Fe(n,Pr));const r=function lAe(n){let{year:r,month:t,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:_,nanosecond:E,offset:m,z:j}=function(pe){const we=Mm(pe);if(!we.z&&!we.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return we}(n);if(!j&&!m)throw new RangeError("Temporal.Instant requires a time zone offset");const oe=j?0:Gv(m);({year:r,month:t,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:_,nanosecond:E}=VH(r,t,i,s,o,a,c,_,E-oe));const le=Wv(r,t,i,s,o,a,c,_,E);if(null===le)throw new RangeError("DateTime outside of supported range");return le}(Ol(n));return new(Ln("%Temporal.Instant%"))(r)}function oie(n,r){let t=n;if(Gs(t)){if(Ia(t))return t;let c,_;if(Ma(t,vn))c=Fe(t,vn),_=!1;else{let m=t.calendar;_=void 0===m,void 0===m&&(m="iso8601"),c=Fd(m)}const E=_i(t,sa(c,["day","month","monthCode","year"]),[]);return _&&void 0!==E.month&&void 0===E.monthCode&&void 0===E.year&&(E.year=1972),VS(c,E,r)}Wo(r);let{month:i,day:s,referenceISOYear:o,calendar:a}=DH(Ol(t));if(void 0===a&&(a="iso8601"),!og(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Om(a),void 0===o?(Im(1972,i,s),E3(i,s,a)):VS(a,E3(i,s,a,o))}function eg(n,r="constrain"){let t,i,s,o,a,c,_=n;if(Gs(_)){if(xo(_))return _;if(hr(_)&&(_=lu(Fe(_,ss),Fe(_,zc),Fe(_,vn))),ri(_))return new(Ln("%Temporal.PlainTime%"))(Fe(_,ci),Fe(_,li),Fe(_,di),Fe(_,ui),Fe(_,fi),Fe(_,hi));({hour:t,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=OF(_)),({hour:t,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=kF(t,i,s,o,a,c,r))}else({hour:t,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=function(m){const j=GCe.exec(m);let oe,le,ue,pe,we,Oe,Pe;if(j){oe=ia(j[1]),le=ia(j[2]||j[5]),ue=ia(j[3]||j[6]),60===ue&&(ue=59);const Ie=(j[4]||j[7])+"000000000";pe=ia(Ie.slice(0,3)),we=ia(Ie.slice(3,6)),Oe=ia(Ie.slice(6,9)),Pe=j[14];for(const[,$e,Je,Qe]of Pe.matchAll(zv))if("u-ca"!==Je&&"!"===$e)throw new RangeError(`Unrecognized annotation: !${Je}=${Qe}`);if(j[8])throw new RangeError("Z designator not supported for PlainTime")}else{let Ie,$e;if(({hasTime:$e,hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe,z:Ie}=Mm(m)),!$e)throw new RangeError(`time is missing in string: ${m}`);if(Ie)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(m))return{hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe};try{const{month:Ie,day:$e}=DH(m);Im(1972,Ie,$e)}catch{try{const{year:Ie,month:$e}=TH(m);Im(Ie,$e,1)}catch{return{hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe}}}throw new RangeError(`invalid ISO 8601 time-only string ${m}; may need a T prefix`)}(Ol(_))),ZF(t,i,s,o,a,c);return new(Ln("%Temporal.PlainTime%"))(t,i,s,o,a,c)}function w3(n,r){if(Gs(n)){if(qi(n))return n;const a=T3(n);return vw(a,_i(n,sa(a,["month","monthCode","year"]),[]),r)}Wo(r);let{year:t,month:i,referenceISODay:s,calendar:o}=TH(Ol(n));if(void 0===o&&(o="iso8601"),!og(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=Om(o),void 0===s?(Im(t,i,1),S3(t,i,o)):vw(o,S3(t,i,o,s))}function RF(n,r,t,i,s,o,a,c,_,E,m,j,oe,le,ue){const pe=new(Ln("%Temporal.PlainDateTime%"))(n,r,t,i,s,o,a,c,_);if("wall"===E||"ignore"===le)return Fe(Rl(j,pe,oe),Pr);if("exact"===E||"use"===le){const Oe=Wv(n,r,t,i,s,o,a,c,_);if(null===Oe)throw new RangeError("ZonedDateTime outside of supported range");return lt.subtract(Oe,lt.BigInt(m))}const we=HF(j,pe);for(const Oe of we){const Pe=bp(j,Oe),Ie=lt.toNumber(du(lt.BigInt(Pe),Xre,"halfExpand"));if(Pe===m||ue&&Ie===m)return Fe(Oe,Pr)}if("reject"===le){const Oe=WF(m),Pe=rf(j)?Fe(j,Sm):"time zone";throw new RangeError(`Offset ${Oe} is invalid for ${pe.toString()} in ${Pe}`)}return Fe(gie(we,j,pe,oe),Pr)}function x3(n,r){let t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we=!1,Oe="option";if(Gs(n)){if(hr(n))return n;le=T3(n);const Ie=sa(le,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);Ie.push("timeZone","offset");const $e=_i(n,Ie,["timeZone"]);j=Gc($e.timeZone),oe=$e.offset,void 0===oe&&(Oe="wall"),ue=NS(r),pe=IF(r,"reject"),({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m}=_3(le,$e,r))}else{let Ie,$e;if(({year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m,ianaName:Ie,offset:oe,z:$e,calendar:le}=function(Qe){const tt=Mm(Qe);if(!tt.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return tt}(Ol(n))),j=Gc(Ie),$e?Oe="exact":oe||(Oe="wall"),le||(le="iso8601"),!og(le))throw new RangeError(`invalid calendar identifier ${le}`);le=Om(le),we=!0,ue=NS(r),pe=IF(r,"reject"),Wo(r)}let Pe=0;return"option"===Oe&&(Pe=Gv(oe)),yc(RF(t,i,s,o,a,c,_,E,m,Oe,Pe,j,ue,pe,we),j,le)}function aie(n,r,t,i,s){Im(r,t,i),Rie(r,t,i),Cm(n),yi(n,er,r),yi(n,ir,t),yi(n,ar,i),yi(n,vn,s),yi(n,Nre,!0)}function sf(n,r,t,i="iso8601"){const s=Ln("%Temporal.PlainDate%"),o=Hc(s.prototype);return aie(o,n,r,t,i),o}function cie(n,r,t,i,s,o,a,c,_,E,m){zH(r,t,i,s,o,a,c,_,E),Fie(r,t,i,s,o,a,c,_,E),Cm(n),yi(n,er,r),yi(n,ir,t),yi(n,ar,i),yi(n,ci,s),yi(n,li,o),yi(n,di,a),yi(n,ui,c),yi(n,fi,_),yi(n,hi,E),yi(n,vn,m)}function Rd(n,r,t,i,s,o,a,c,_,E="iso8601"){const m=Ln("%Temporal.PlainDateTime%"),j=Hc(m.prototype);return cie(j,n,r,t,i,s,o,a,c,_,E),j}function lie(n,r,t,i,s){Im(s,r,t),Rie(s,r,t),Cm(n),yi(n,ir,r),yi(n,ar,t),yi(n,er,s),yi(n,vn,i),yi(n,Lre,!0)}function E3(n,r,t="iso8601",i=1972){const s=Ln("%Temporal.PlainMonthDay%"),o=Hc(s.prototype);return lie(o,n,r,t,i),o}function die(n,r,t,i,s){var a,c;Im(r,t,s),c=t,_c(a=r,CF,AF),a===CF?_c(c,4,12):a===AF&&_c(c,1,9),Cm(n),yi(n,er,r),yi(n,ir,t),yi(n,ar,s),yi(n,vn,i),yi(n,Bre,!0)}function S3(n,r,t="iso8601",i=1){const s=Ln("%Temporal.PlainYearMonth%"),o=Hc(s.prototype);return die(o,n,r,t,i),o}function uie(n,r,t,i){_w(r),Cm(n),yi(n,Pr,r),yi(n,ss,t),yi(n,vn,i);const s=new(Ln("%Temporal.Instant%"))(Fe(n,Pr));yi(n,zc,s)}function yc(n,r,t="iso8601"){const i=Ln("%Temporal.ZonedDateTime%"),s=Hc(i.prototype);return uie(s,n,r,t),s}function sa(n,r){if("string"==typeof n){const s=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.fields%"),s,[r])}const t=_r(Qi(n,"fields"),n,[r]),i=[];for(const s of t){if("string"!=typeof s)throw new TypeError("bad return from calendar.fields()");Gre.call(i,s)}return i}function yw(n,r,t){if("string"==typeof n){const s=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.mergeFields%"),s,[r,t])}const i=_r(Qi(n,"mergeFields"),n,[r,t]);if(!Gs(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function vc(n,r,t,i,s){let o=s;if("string"==typeof n){const c=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.dateAdd%"),c,[r,t,i])}void 0===o&&(o=Qi(n,"dateAdd"));const a=SF(o,n,[r,t,i]);if(!Mi(a))throw new TypeError("invalid result");return a}function Hv(n,r,t,i,s){let o=s;if("string"==typeof n){const c=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.dateUntil%"),c,[r,t,i])}void 0===o&&(o=Qi(n,"dateUntil"));const a=SF(o,n,[r,t,i]);if(!wo(a))throw new TypeError("invalid result");return a}function FF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.year%"),i,[r])}let t=_r(Qi(n,"year"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar year result must be an integer");if(!cu(t))throw new RangeError("calendar year result must be an integer");return t}function NF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.month%"),i,[r])}let t=_r(Qi(n,"month"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar month result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar month result must be a positive integer");return t}function C3(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.monthCode%"),i,[r])}let t=_r(Qi(n,"monthCode"),n,[r]);if("string"!=typeof t)throw new TypeError("calendar monthCode result must be a string");return t}function A3(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.day%"),i,[r])}const t=_r(Qi(n,"day"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar day result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar day result must be a positive integer");return t}function BF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.era%"),i,[r])}let t=_r(Qi(n,"era"),n,[r]);if(void 0===t)return t;if("string"!=typeof t)throw new TypeError("calendar era result must be a string or undefined");return t}function LF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.eraYear%"),i,[r])}let t=_r(Qi(n,"eraYear"),n,[r]);if(void 0===t)return t;if("number"!=typeof t)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!cu(t))throw new RangeError("calendar eraYear result must be an integer or undefined");return t}function kH(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.dayOfWeek%"),i,[r])}const t=_r(Qi(n,"dayOfWeek"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return t}function IH(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.dayOfYear%"),i,[r])}const t=_r(Qi(n,"dayOfYear"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return t}function PH(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.weekOfYear%"),i,[r])}const t=_r(Qi(n,"weekOfYear"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return t}function OH(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.yearOfWeek%"),i,[r])}const t=_r(Qi(n,"yearOfWeek"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar yearOfWeek result must be an integer");if(!cu(t))throw new RangeError("calendar yearOfWeek result must be an integer");return t}function RH(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.daysInWeek%"),i,[r])}const t=_r(Qi(n,"daysInWeek"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return t}function jF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.daysInMonth%"),i,[r])}const t=_r(Qi(n,"daysInMonth"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return t}function $F(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.daysInYear%"),i,[r])}const t=_r(Qi(n,"daysInYear"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar daysInYear result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar daysInYear result must be a positive integer");return t}function VF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.monthsInYear%"),i,[r])}const t=_r(Qi(n,"monthsInYear"),n,[r]);if("number"!=typeof t)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!cu(t)||t<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return t}function UF(n,r){if("string"==typeof n){const i=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.inLeapYear%"),i,[r])}const t=_r(Qi(n,"inLeapYear"),n,[r]);if("boolean"!=typeof t)throw new TypeError("calendar inLeapYear result must be a boolean");return t}function Fd(n){if(Gs(n)){if(Ma(n,vn))return Fe(n,vn);if(!(_o(s=n)||"dateAdd"in s&&"dateFromFields"in s&&"dateUntil"in s&&"day"in s&&"dayOfWeek"in s&&"dayOfYear"in s&&"daysInMonth"in s&&"daysInWeek"in s&&"daysInYear"in s&&"fields"in s&&"id"in s&&"inLeapYear"in s&&"mergeFields"in s&&"month"in s&&"monthCode"in s&&"monthDayFromFields"in s&&"monthsInYear"in s&&"weekOfYear"in s&&"year"in s&&"yearMonthFromFields"in s&&"yearOfWeek"in s))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return n}var s;const r=Ol(n);if(og(r))return Om(r);let t;try{({calendar:t}=Mm(r))}catch{try{({calendar:t}=TH(r))}catch{({calendar:t}=DH(r))}}if(t||(t="iso8601"),!og(t))throw new RangeError(`invalid calendar identifier ${t}`);return Om(t)}function T3(n){if(Ma(n,vn))return Fe(n,vn);const{calendar:r}=n;return void 0===r?"iso8601":Fd(r)}function bc(n){if("string"==typeof n)return n;const r=n.id;if("string"!=typeof r)throw new TypeError("calendar.id should be a string");return r}function $S(n){return Gs(n)?n:new(Ln("%Temporal.Calendar%"))(n)}function D3(n,r){return n===r||bc(n)===bc(r)}function zF(n,r,t){if(n===r)return;const i=bc(n),s=bc(r);if(i!==s)throw new RangeError(`cannot ${t} of ${i} and ${s} calendars`)}function fie(n,r){if(n===r)return r;const t=bc(n),i=bc(r);if(t===i||"iso8601"===t)return r;if("iso8601"===i)return n;throw new RangeError("irreconcilable calendars")}function tg(n,r,t,i){if("string"==typeof n){const o=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.dateFromFields%"),o,[r,t])}const s=_r(i??Qi(n,"dateFromFields"),n,[r,t]);if(!Mi(s))throw new TypeError("invalid result");return s}function vw(n,r,t){if("string"==typeof n){const s=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.yearMonthFromFields%"),s,[r,t])}let i=_r(Qi(n,"yearMonthFromFields"),n,[r,t]);if(!qi(i))throw new TypeError("invalid result");return i}function VS(n,r,t){if("string"==typeof n){const s=new(Ln("%Temporal.Calendar%"))(n);return _r(Ln("%Temporal.Calendar.prototype.monthDayFromFields%"),s,[r,t])}let i=_r(Qi(n,"monthDayFromFields"),n,[r,t]);if(!Ia(i))throw new TypeError("invalid result");return i}function Gc(n){if(Gs(n)){if(hr(n))return Fe(n,ss);if(!(rf(t=n)||"getOffsetNanosecondsFor"in t&&"getPossibleInstantsFor"in t&&"id"in t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return n}var t;return function cAe(n){const{ianaName:r,offset:t,z:i}=function(o){if(new RegExp(`^${h3.source}$`,"i").test(o))return{ianaName:o};try{const a=Mm(o);if(a.z||a.offset||a.ianaName)return a}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(n);return r?LH(r):i?"UTC":WF(Gv(t))}(Ol(n))}function M3(n){if("string"==typeof n)return n;const r=n.id;if("string"!=typeof r)throw new TypeError("timeZone.id should be a string");return r}function hie(n){return Gs(n)?n:new(Ln("%Temporal.TimeZone%"))(n)}function mie(n,r){return n===r||M3(n)===M3(r)}function US(n){return sf(Fe(n,er),Fe(n,ir),Fe(n,ar),Fe(n,vn))}function FH(n){return new(Ln("%Temporal.PlainTime%"))(Fe(n,ci),Fe(n,li),Fe(n,di),Fe(n,ui),Fe(n,fi),Fe(n,hi))}function bp(n,r,t){if("string"==typeof n){const s=new(Ln("%Temporal.TimeZone%"))(n);return _r(Ln("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),s,[r])}const i=_r(t??Qi(n,"getOffsetNanosecondsFor"),n,[r]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!cu(i)||Hs(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function NH(n,r){return WF(bp(n,r))}function lu(n,r,t){const i=Fe(r,Pr),s=bp(n,r);let{year:o,month:a,day:c,hour:_,minute:E,second:m,millisecond:j,microsecond:oe,nanosecond:le}=Sie(i);return({year:o,month:a,day:c,hour:_,minute:E,second:m,millisecond:j,microsecond:oe,nanosecond:le}=VH(o,a,c,_,E,m,j,oe,le+s)),Rd(o,a,c,_,E,m,j,oe,le,t)}function Rl(n,r,t){return gie(HF(n,r),n,r,t)}function gie(n,r,t,i){const s=Ln("%Temporal.Instant%"),o=n.length;if(1===o)return n[0];if(o)switch(i){case"compatible":case"earlier":return n[0];case"later":return n[o-1];case"reject":throw new RangeError("multiple instants found")}const a=Fe(t,er),c=Fe(t,ir),_=Fe(t,ar),E=Fe(t,ci),m=Fe(t,li),j=Fe(t,di),oe=Fe(t,ui),le=Fe(t,fi),ue=Fe(t,hi),pe=Wv(a,c,_,E,m,j,oe,le,ue);if(null===pe)throw new RangeError("DateTime outside of supported range");const we=new s(lt.subtract(pe,Dm)),Oe=new s(lt.add(pe,Dm)),Pe=bp(r,we),Ie=bp(r,Oe)-Pe;switch(i){case"earlier":{const $e=Fe(t,vn),Je=Ln("%Temporal.PlainDateTime%"),Qe=qH(a,c,_,E,m,j,oe,le,ue,$e,0,0,0,0,0,0,0,0,0,-Ie,void 0);return HF(r,new Je(Qe.year,Qe.month,Qe.day,Qe.hour,Qe.minute,Qe.second,Qe.millisecond,Qe.microsecond,Qe.nanosecond,$e))[0]}case"compatible":case"later":{const $e=Fe(t,vn),Je=Ln("%Temporal.PlainDateTime%"),Qe=qH(a,c,_,E,m,j,oe,le,ue,$e,0,0,0,0,0,0,0,0,0,Ie,void 0),tt=HF(r,new Je(Qe.year,Qe.month,Qe.day,Qe.hour,Qe.minute,Qe.second,Qe.millisecond,Qe.microsecond,Qe.nanosecond,$e));return tt[tt.length-1]}case"reject":throw new RangeError("no such instant found")}}function HF(n,r,t){if("string"==typeof n){const o=new(Ln("%Temporal.TimeZone%"))(n);return _r(Ln("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),o,[r])}const i=_r(t??Qi(n,"getPossibleInstantsFor"),n,[r]),s=[];for(const o of i){if(!ma(o))throw new TypeError("bad return from getPossibleInstantsFor");Gre.call(s,o)}return s}function bw(n){let r;return r=n<0||n>9999?(n<0?"-":"+")+`000000${Hs(n)}`.slice(-6):`0000${n}`.slice(-4),r}function Js(n){return`00${n}`.slice(-2)}function GF(n,r,t,i,s){if("minute"===s)return"";const o=`:${Js(n)}`;let a,c=1e6*r+1e3*t+i;if("auto"===s){if(0===c)return o;for(a=`${c}`.padStart(9,"0");"0"===a[a.length-1];)a=a.slice(0,-1)}else{if(0===s)return o;a=`${c}`.padStart(9,"0").slice(0,s)}return`${o}.${a}`}function yie(n,r,t){let i=r;void 0===i&&(i="UTC");const s=lu(i,n,"iso8601"),o=bw(Fe(s,er)),a=Js(Fe(s,ir)),c=Js(Fe(s,ar)),_=Js(Fe(s,ci)),E=Js(Fe(s,li)),m=GF(Fe(s,di),Fe(s,ui),Fe(s,fi),Fe(s,hi),t);let j="Z";return void 0!==r&&(j=Eie(bp(i,n))),`${o}-${a}-${c}T${_}:${E}${m}${j}`}function BH(n,r="auto",t){function i(xt){return xt<=eAe?xt.toString(10):lt.BigInt(xt).toString(10)}const s=Fe(n,Sl),o=Fe(n,Qa),a=Fe(n,od),c=Fe(n,Cl),_=Fe(n,Al),E=Fe(n,Tl);let m=Fe(n,Dl),j=Fe(n,Ml),oe=Fe(n,kl),le=Fe(n,Il);const ue=km(s,o,a,c,_,E,m,j,oe,le);if(t){const{unit:xt,increment:Ct,roundingMode:Tt}=t;({seconds:m,milliseconds:j,microseconds:oe,nanoseconds:le}=sg(0,0,0,0,0,0,m,j,oe,le,Ct,xt,Tt))}const pe=[];s&&pe.push(`${i(Hs(s))}Y`),o&&pe.push(`${i(Hs(o))}M`),a&&pe.push(`${i(Hs(a))}W`),c&&pe.push(`${i(Hs(c))}D`);const we=[];_&&we.push(`${i(Hs(_))}H`),E&&we.push(`${i(Hs(E))}M`);const Oe=[];let Pe,Ie,$e,Je,Qe=HS(0,0,0,m,j,oe,le,0);({quotient:Qe,remainder:Pe}=Go(Qe,Ki)),({quotient:Qe,remainder:Ie}=Go(Qe,Ki)),({quotient:Je,remainder:$e}=Go(Qe,Ki));const tt=1e6*Hs(lt.toNumber($e))+1e3*Hs(lt.toNumber(Ie))+Hs(lt.toNumber(Pe));let ot;if("auto"===r){if(0!==tt)for(ot=`${tt}`.padStart(9,"0");"0"===ot[ot.length-1];)ot=ot.slice(0,-1)}else 0!==r&&(ot=`${tt}`.padStart(9,"0").slice(0,r));return ot&&Oe.unshift(".",ot),lt.equal(Je,bo)&&!Oe.length&&"auto"===r||Oe.unshift(gp(Je).toString()),Oe.length&&we.push(`${Oe.join("")}S`),we.length&&we.unshift("T"),pe.length||we.length?`${ue<0?"-":""}P${pe.join("")}${we.join("")}`:"PT0S"}function vie(n,r="auto"){return`${bw(Fe(n,er))}-${Js(Fe(n,ir))}-${Js(Fe(n,ar))}${CH(Fe(n,vn),r)}`}function bie(n,r,t="auto",i){let s=Fe(n,er),o=Fe(n,ir),a=Fe(n,ar),c=Fe(n,ci),_=Fe(n,li),E=Fe(n,di),m=Fe(n,ui),j=Fe(n,fi),oe=Fe(n,hi);if(i){const{unit:le,increment:ue,roundingMode:pe}=i;({year:s,month:o,day:a,hour:c,minute:_,second:E,millisecond:m,microsecond:j,nanosecond:oe}=XH(s,o,a,c,_,E,m,j,oe,ue,le,pe))}return`${bw(s)}-${Js(o)}-${Js(a)}T${Js(c)}:${Js(_)}${GF(E,m,j,oe,r)}${CH(Fe(n,vn),t)}`}function _ie(n,r="auto"){let t=`${Js(Fe(n,ir))}-${Js(Fe(n,ar))}`;const i=bc(Fe(n,vn));("always"===r||"critical"===r||"iso8601"!==i)&&(t=`${bw(Fe(n,er))}-${t}`);const s=AH(i,r);return s&&(t+=s),t}function wie(n,r="auto"){let t=`${bw(Fe(n,er))}-${Js(Fe(n,ir))}`;const i=bc(Fe(n,vn));("always"===r||"critical"===r||"iso8601"!==i)&&(t+=`-${Js(Fe(n,ar))}`);const s=AH(i,r);return s&&(t+=s),t}function xie(n,r,t="auto",i="auto",s="auto",o){let a=Fe(n,zc);if(o){const{unit:m,increment:j,roundingMode:oe}=o,le=QF(Fe(n,Pr),j,m,oe);a=new(Ln("%Temporal.Instant%"))(le)}const c=Fe(n,ss),_=lu(c,a,"iso8601");let E=`${bw(Fe(_,er))}-${Js(Fe(_,ir))}-${Js(Fe(_,ar))}T${Js(Fe(_,ci))}:${Js(Fe(_,li))}${GF(Fe(_,di),Fe(_,ui),Fe(_,fi),Fe(_,hi),r)}`;return"never"!==s&&(E+=Eie(bp(c,a))),"never"!==i&&(E+=`[${"critical"===i?"!":""}${M3(c)}]`),E+=CH(Fe(n,vn),t),E}function zS(n){return ese.test(p3(n))}function Gv(n){const r=ese.exec(p3(n));if(!r)throw new RangeError(`invalid time zone offset: ${n}`);return("-"===r[1]||"\u2212"===r[1]?-1:1)*(1e9*(60*(60*+r[2]+ +(r[3]||0))+ +(r[4]||0))+ +((r[5]||0)+"000000000").slice(0,9))}function LH(n){return zS(n)?WF(Gv(n)):iie(p3(n)).resolvedOptions().timeZone}function ng(n,r){const{year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E,nanosecond:m}=Cie(n,r),j=t%400,oe=(t-j)/400,le=lt.multiply(lt.BigInt(146097),Dm),ue=Wv(j,i,s,o,a,c,_,E,m),pe=lt.add(ue,lt.multiply(le,lt.BigInt(oe)));return lt.toNumber(lt.subtract(pe,r))}function WF(n){const r=n<0?"-":"+",t=Hs(n),i=t%1e9,s=Pd(t/1e9)%60,o=Pd(t/6e10)%60,a=Js(Pd(t/36e11)),c=Js(o),_=Js(s);let E="";if(i){let m=`${i}`.padStart(9,"0");for(;"0"===m[m.length-1];)m=m.slice(0,-1);E=`:${_}.${m}`}else s&&(E=`:${_}`);return`${r}${a}:${c}${E}`}function Eie(n){let r=lt.toNumber(du(lt.BigInt(n),Xre,"halfExpand"));const t=r<0?"-":"+";r=Hs(r);const i=r/6e10%60;return`${t}${Js(Pd(r/36e11))}:${Js(i)}`}function Wv(n,r,t,i,s,o,a,c,_){const E=new Date;E.setUTCHours(i,s,o,a),E.setUTCFullYear(n,r-1,t);const m=E.getTime();if(EF(m))return null;let j=lt.multiply(lt.BigInt(m),au);return j=lt.add(j,lt.multiply(lt.BigInt(c),Ki)),j=lt.add(j,lt.BigInt(_)),lt.lessThan(j,m3)||lt.greaterThan(j,IS)?null:j}function Sie(n){const{quotient:r,remainder:t}=Go(n,au);let i=lt.toNumber(r),s=lt.toNumber(t);s<0&&(s+=1e6,i-=1);const o=Pd(s/1e3)%1e3,a=s%1e3,c=new Date(i);return{epochMilliseconds:i,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:o,nanosecond:a}}function Cie(n,r){const{epochMilliseconds:t,millisecond:i,microsecond:s,nanosecond:o}=Sie(r),{year:a,month:c,day:_,hour:E,minute:m,second:j}=(ue=t,function(Oe){const Pe=Oe.split(/[^\w]+/);if(7!==Pe.length)throw new RangeError(`expected 7 parts in "${Oe}`);const Ie=+Pe[0],$e=+Pe[1];let Je=+Pe[2];const Qe=Pe[3].toUpperCase();if("B"===Qe||"BC"===Qe)Je=1-Je;else if("A"!==Qe&&"AD"!==Qe)throw new RangeError(`Unknown era ${Qe} in "${Oe}`);let tt=+Pe[4];24===tt&&(tt=0);const ot=+Pe[5],xt=+Pe[6];if(!(Pl(Je)&&Pl(Ie)&&Pl($e)&&Pl(tt)&&Pl(ot)&&Pl(xt)))throw new RangeError(`Invalid number in "${Oe}`);return{year:Je,month:Ie,day:$e,hour:tt,minute:ot,second:xt}}(iie(n).format(new Date(ue))));var ue;return VH(a,c,_,E,m,j,i,s,o)}function Aie(n,r){return lt.lessThan(n,r)?r:n}function Tie(){return lt.add(ZH(),iAe)}function Die(n,r){if(lt.lessThan(r,PS))return Die(n,PS);const t=lt.add(r,Yre),i=Aie(Tie(),t);let s=Aie(PS,r);const o=ng(n,s);let a=s,c=o;for(;o===c&&lt.lessThan(lt.BigInt(s),i);){if(a=lt.add(s,Zre),lt.greaterThan(a,IS))return null;c=ng(n,a),o===c&&(s=a)}return o===c?null:tse(_=>ng(n,_),s,a,o,c)}function jH(n,r){const t=Tie(),i=lt.greaterThan(r,t),s=i?lt.subtract(r,Yre):PS;if("Africa/Casablanca"===n||"Africa/El_Aaiun"===n){const E=Fe(vp("2088-01-01T00Z"),Pr);if(lt.lessThan(E,r))return jH(n,E)}let o=lt.subtract(r,kS);if(lt.lessThan(o,PS))return null;const a=ng(n,o);let c=o,_=a;for(;a===_&&lt.greaterThan(o,s);){if(c=lt.subtract(o,Zre),lt.lessThan(c,PS))return null;_=ng(n,c),a===_&&(o=c)}if(a===_){if(i){const E=lt.subtract(t,Dm);return jH(n,E)}return null}return tse(E=>ng(n,E),c,o,_,a)}function Kv(n){return void 0!==n&&n%4==0&&(n%100!=0||n%400==0)}function rg(n,r){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Kv(n)?"leapyear":"standard"][r-1]}function $H(n,r,t){const i=r+(r<3?10:-2),s=n-(r<3?1:0),o=Pd(s/100),a=s-100*o,c=(t+Pd(2.6*i-.2)+(a+Pd(a/4))+(Pd(o/4)-2*o))%7;return c+(c<=0?7:0)}function KF(n,r,t){let i=t;for(let s=r-1;s>0;s--)i+=rg(n,s);return i}function Mie(n,r,t){const i=KF(n,r,t),s=$H(n,r,t)||7,o=$H(n,1,1),a=Pd((i-s+10)/7);return a<1?5===o||6===o&&Kv(n-1)?{week:53,year:n-1}:{week:52,year:n-1}:53===a&&(Kv(n)?366:365)-i<4-s?{week:1,year:n+1}:{week:a,year:n}}function km(n,r,t,i,s,o,a,c,_,E){for(const m of[n,r,t,i,s,o,a,c,_,E])if(0!==m)return m<0?-1:1;return 0}function qF(n,r){let t=n,i=r;if(!Pl(t)||!Pl(i))throw new RangeError("infinity is out of range");return i-=1,t+=Pd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:t,month:i}}function XF(n,r,t){let i=n,s=r,o=t;if(!Pl(o))throw new RangeError("infinity is out of range");({year:i,month:s}=qF(i,s));const a=146097;if(Hs(o)>a){const E=fw(o/a);i+=400*E,o-=E*a}let c=0,_=s>2?i:i-1;for(;c=Kv(_)?366:365,o<-c;)i-=1,_-=1,o+=c;for(_+=1;c=Kv(_)?366:365,o>c;)i+=1,_+=1,o-=c;for(;o<1;)({year:i,month:s}=qF(i,s-1)),o+=rg(i,s);for(;o>rg(i,s);)o-=rg(i,s),({year:i,month:s}=qF(i,s+1));return{year:i,month:s,day:o}}function VH(n,r,t,i,s,o,a,c,_){const{deltaDays:E,hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}=ig(i,s,o,a,c,_),{year:we,month:Oe,day:Pe}=XF(n,r,t+E);return{year:we,month:Oe,day:Pe,hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}}function ig(n,r,t,i,s,o){let a,c=lt.BigInt(n),_=lt.BigInt(r),E=lt.BigInt(t),m=lt.BigInt(i),j=lt.BigInt(s),oe=lt.BigInt(o);return({quotient:a,remainder:oe}=xw(oe,Ki)),j=lt.add(j,a),({quotient:a,remainder:j}=xw(j,Ki)),m=lt.add(m,a),({quotient:a,remainder:m}=xw(m,Ki)),E=lt.add(E,a),({quotient:a,remainder:E}=xw(E,Am)),_=lt.add(_,a),({quotient:a,remainder:_}=xw(_,Am)),c=lt.add(c,a),({quotient:a,remainder:c}=xw(c,Kre)),{deltaDays:lt.toNumber(a),hour:lt.toNumber(c),minute:lt.toNumber(_),second:lt.toNumber(E),millisecond:lt.toNumber(m),microsecond:lt.toNumber(j),nanosecond:lt.toNumber(oe)}}function HS(n,r,t,i,s,o,a,c){const _=lt.BigInt(n);let E=lt.BigInt(a);0!==n&&(E=lt.subtract(lt.BigInt(a),lt.BigInt(c)));const m=lt.add(lt.BigInt(r),lt.multiply(_,lt.BigInt(24))),j=lt.add(lt.BigInt(t),lt.multiply(m,Am)),oe=lt.add(lt.BigInt(i),lt.multiply(j,Am)),le=lt.add(lt.BigInt(s),lt.multiply(oe,Ki)),ue=lt.add(lt.BigInt(o),lt.multiply(le,Ki));return lt.add(lt.BigInt(E),lt.multiply(ue,Ki))}function UH(n,r){const t=Ln("%Temporal.Instant%"),i=MS(lt.toNumber(n));let s=lt.BigInt(n),o=864e11;if(0===i)return{days:0,nanoseconds:bo,dayLengthNs:o};if(!hr(r)){let Ie;return({quotient:Ie,remainder:s}=Go(s,lt.BigInt(o))),{days:lt.toNumber(Ie),nanoseconds:s,dayLengthNs:o}}const a=Fe(r,Pr),c=Fe(r,zc),_=lt.add(a,s),E=new t(_),m=Fe(r,ss),j=Fe(r,vn),oe=lu(m,c,j),le=lu(m,E,j);let{days:ue}=WH(Fe(oe,er),Fe(oe,ir),Fe(oe,ar),Fe(oe,ci),Fe(oe,li),Fe(oe,di),Fe(oe,ui),Fe(oe,fi),Fe(oe,hi),Fe(le,er),Fe(le,ir),Fe(le,ar),Fe(le,ci),Fe(le,li),Fe(le,di),Fe(le,ui),Fe(le,fi),Fe(le,hi),j,"day",Hc(null)),pe=af(c,m,j,0,0,0,ue,0,0,0,0,0,0),we=lt.BigInt(ue);if(1===i)for(;lt.greaterThan(we,bo)&&lt.greaterThan(pe,_);)we=lt.subtract(we,kS),pe=af(c,m,j,0,0,0,lt.toNumber(we),0,0,0,0,0,0);s=lt.subtract(_,pe);let Oe=!1,Pe=new t(pe);do{const Ie=af(Pe,m,j,0,0,0,i,0,0,0,0,0,0),$e=Fe(Pe,Pr);o=lt.toNumber(lt.subtract(Ie,$e)),Oe=lt.greaterThanOrEqual(lt.multiply(lt.subtract(s,lt.BigInt(o)),lt.BigInt(i)),bo),Oe&&(s=lt.subtract(s,lt.BigInt(o)),Pe=new t(Ie),we=lt.add(we,lt.BigInt(i)))}while(Oe);if(!nf(we)&&Qre(we)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!nf(s)&&Qre(s)!==i)throw TF(s)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(lt.greaterThanOrEqual(gp(s),gp(lt.BigInt(o))))throw new Error("assert not reached");return{days:lt.toNumber(we),nanoseconds:s,dayLengthNs:Hs(o)}}function hh(n,r,t,i,s,o,a,c,_){let E=kie(n,r,t,i,s,o,a,c,_);if("positive overflow"===E||"negative overflow"===E)throw new RangeError("Duration out of range");return E}function kie(n,r,t,i,s,o,a,c,_){let E,m,j,oe,le,ue,pe=n;if(hr(_)){const tt=af(Fe(_,zc),Fe(_,ss),Fe(_,vn),0,0,0,pe,r,t,i,s,o,a),ot=Fe(_,Pr);E=lt.subtract(tt,ot)}else E=HS(pe,r,t,i,s,o,a,0);"year"===c||"month"===c||"week"===c||"day"===c?({days:pe,nanoseconds:E}=UH(E,_)):pe=0;const we=lt.lessThan(E,bo)?-1:1;switch(E=gp(E),m=j=oe=le=ue=bo,c){case"year":case"month":case"week":case"day":case"hour":({quotient:m,remainder:E}=Go(E,Ki)),({quotient:j,remainder:m}=Go(m,Ki)),({quotient:oe,remainder:j}=Go(j,Ki)),({quotient:le,remainder:oe}=Go(oe,Am)),({quotient:ue,remainder:le}=Go(le,Am));break;case"minute":({quotient:m,remainder:E}=Go(E,Ki)),({quotient:j,remainder:m}=Go(m,Ki)),({quotient:oe,remainder:j}=Go(j,Ki)),({quotient:le,remainder:oe}=Go(oe,Am));break;case"second":({quotient:m,remainder:E}=Go(E,Ki)),({quotient:j,remainder:m}=Go(m,Ki)),({quotient:oe,remainder:j}=Go(j,Ki));break;case"millisecond":({quotient:m,remainder:E}=Go(E,Ki)),({quotient:j,remainder:m}=Go(m,Ki));break;case"microsecond":({quotient:m,remainder:E}=Go(E,Ki));break;case"nanosecond":break;default:throw new Error("assert not reached")}const Oe=lt.toNumber(ue)*we,Pe=lt.toNumber(le)*we,Ie=lt.toNumber(oe)*we,$e=lt.toNumber(j)*we,Je=lt.toNumber(m)*we,Qe=lt.toNumber(E)*we;for(const tt of[pe,Oe,Pe,Ie,$e,Je,Qe])if(!Pl(tt))return 1===we?"positive overflow":"negative overflow";return{days:pe,hours:Oe,minutes:Pe,seconds:Ie,milliseconds:$e,microseconds:Je,nanoseconds:Qe}}function YF(n,r,t,i,s,o){const a=Ln("%Temporal.Duration%"),c=km(n,r,t,i,0,0,0,0,0,0);if(0===c)return{years:n,months:r,weeks:t,days:i};const _=lt.BigInt(c);let E,m,j=lt.BigInt(n),oe=lt.BigInt(r),le=lt.BigInt(t),ue=lt.BigInt(i);o&&(m=ds(o),E=Fe(m,vn));const pe=new a(c),we=new a(0,c),Oe=new a(0,0,c);switch(s){case"year":break;case"month":{if(!E)throw new RangeError("a starting point is required for months balancing");let Pe,Ie;for("string"!=typeof E&&(Pe=Qi(E,"dateAdd"),Ie=Qi(E,"dateUntil"));!nf(j);){const $e=vc(E,m,pe,void 0,Pe),Je=Hc(null);Je.largestUnit="month";const Qe=Hv(E,m,$e,Je,Ie),tt=lt.BigInt(Fe(Qe,Qa));m=$e,oe=lt.add(oe,tt),j=lt.subtract(j,_)}}break;case"week":{if(!E)throw new RangeError("a starting point is required for weeks balancing");const Pe="string"!=typeof E?Qi(E,"dateAdd"):void 0;for(;!nf(j);){let Ie;({relativeTo:m,days:Ie}=Wc(E,m,pe,Pe)),ue=lt.add(ue,lt.BigInt(Ie)),j=lt.subtract(j,_)}for(;!nf(oe);){let Ie;({relativeTo:m,days:Ie}=Wc(E,m,we,Pe)),ue=lt.add(ue,lt.BigInt(Ie)),oe=lt.subtract(oe,_)}break}default:{if(nf(j)&&nf(oe)&&nf(le))break;if(!E)throw new RangeError("a starting point is required for balancing calendar units");const Pe="string"!=typeof E?Qi(E,"dateAdd"):void 0;for(;!nf(j);){let Ie;({relativeTo:m,days:Ie}=Wc(E,m,pe,Pe)),ue=lt.add(ue,lt.BigInt(Ie)),j=lt.subtract(j,_)}for(;!nf(oe);){let Ie;({relativeTo:m,days:Ie}=Wc(E,m,we,Pe)),ue=lt.add(ue,lt.BigInt(Ie)),oe=lt.subtract(oe,_)}for(;!nf(le);){let Ie;({relativeTo:m,days:Ie}=Wc(E,m,Oe,Pe)),ue=lt.add(ue,lt.BigInt(Ie)),le=lt.subtract(le,_)}break}}return{years:lt.toNumber(j),months:lt.toNumber(oe),weeks:lt.toNumber(le),days:lt.toNumber(ue)}}function Iie(n,r,t,i,s){if(hr(n)){const o=Fe(n,zc),a=Fe(n,ss),c=Fe(n,vn),_=bp(a,o),E=af(o,a,c,r,t,i,s,0,0,0,0,0,0);return bp(a,new(Ln("%Temporal.Instant%"))(E))-_}return 0}function Pie(n){return new(Ln("%Temporal.Duration%"))(-Fe(n,Sl),-Fe(n,Qa),-Fe(n,od),-Fe(n,Cl),-Fe(n,Al),-Fe(n,Tl),-Fe(n,Dl),-Fe(n,Ml),-Fe(n,kl),-Fe(n,Il))}function Nd(n,r,t){return ZCe(t,JCe(r,n))}function Oie(n,r,t){const i=Nd(r,1,12);return{year:n,month:i,day:Nd(t,1,rg(n,i))}}function _c(n,r,t){if(n<r||n>t)throw new RangeError(`value out of range: ${r} <= ${n} <= ${t}`)}function Im(n,r,t){_c(r,1,12),_c(t,1,rg(n,r))}function Rie(n,r,t){Fie(n,r,t,12,0,0,0,0,0)}function ZF(n,r,t,i,s,o){_c(n,0,23),_c(r,0,59),_c(t,0,59),_c(i,0,999),_c(s,0,999),_c(o,0,999)}function zH(n,r,t,i,s,o,a,c,_){Im(n,r,t),ZF(i,s,o,a,c,_)}function Fie(n,r,t,i,s,o,a,c,_){if(_c(n,CF,AF),n===CF&&null==Wv(n,r,t+1,i,s,o,a,c,_-1)||n===AF&&null==Wv(n,r,t-1,i,s,o,a,c,_+1))throw new RangeError("DateTime outside of supported range")}function _w(n){if(lt.lessThan(n,m3)||lt.greaterThan(n,IS))throw new RangeError("Instant outside of supported range")}function JF(n,r,t,i,s,o,a,c,_,E){const m=km(n,r,t,i,s,o,a,c,_,E);for(const j of[n,r,t,i,s,o,a,c,_,E]){if(!Pl(j))throw new RangeError("infinite values not allowed as duration fields");const oe=MS(j);if(0!==oe&&oe!==m)throw new RangeError("mixed-sign values not allowed as duration fields")}}function HH(n,r,t,i,s,o,a){switch(a){case"year":case"month":{const c=-qv(n,r,t,i,s,o);if(0===c)return{years:0,months:0,weeks:0,days:0};const _={year:n,month:r,day:t},E={year:i,month:s,day:o};let m=E.year-_.year,j=ww(n,r,t,m,0,0,0,"constrain"),oe=-qv(j.year,j.month,j.day,i,s,o);if(0===oe)return"year"===a?{years:m,months:0,weeks:0,days:0}:{years:0,months:12*m,weeks:0,days:0};let le=E.month-_.month;if(oe!==c&&(m-=c,le+=12*c),j=ww(n,r,t,m,le,0,0,"constrain"),oe=-qv(j.year,j.month,j.day,i,s,o),0===oe)return"year"===a?{years:m,months:le,weeks:0,days:0}:{years:0,months:le+12*m,weeks:0,days:0};oe!==c&&(le-=c,le===-c&&(m-=c,le=11*c),j=ww(n,r,t,m,le,0,0,"constrain"));let ue=0;return ue=j.month===E.month?E.day-j.day:c<0?-j.day-(rg(E.year,E.month)-E.day):E.day+(rg(j.year,j.month)-j.day),"month"===a&&(le+=12*m,m=0),{years:m,months:le,weeks:0,days:ue}}case"week":case"day":{let c,_,E;qv(n,r,t,i,s,o)<0?(_={year:n,month:r,day:t},c={year:i,month:s,day:o},E=1):(_={year:i,month:s,day:o},c={year:n,month:r,day:t},E=-1);let m=KF(c.year,c.month,c.day)-KF(_.year,_.month,_.day);for(let oe=_.year;oe<c.year;++oe)m+=Kv(oe)?366:365;let j=0;return"week"===a&&(j=Pd(m/7),m%=7),j*=E,m*=E,{years:0,months:0,weeks:j,days:m}}default:throw new Error("assert not reached")}}function Nie(n,r,t,i,s,o,a,c,_,E,m,j){let oe=a-n,le=c-r,ue=_-t,pe=E-i,we=m-s,Oe=j-o;const Pe=km(0,0,0,0,oe,le,ue,pe,we,Oe);oe*=Pe,le*=Pe,ue*=Pe,pe*=Pe,we*=Pe,Oe*=Pe;let Ie=0;if(({deltaDays:Ie,hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe}=ig(oe,le,ue,pe,we,Oe)),0!=Ie)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return oe*=Pe,le*=Pe,ue*=Pe,pe*=Pe,we*=Pe,Oe*=Pe,{hours:oe,minutes:le,seconds:ue,milliseconds:pe,microseconds:we,nanoseconds:Oe}}function GH(n,r,t,i,s,o){const a=lt.subtract(r,n);let c=0,_=0,E=lt.toNumber(lt.remainder(a,Ki)),m=lt.toNumber(lt.remainder(lt.divide(a,Ki),Ki)),j=lt.toNumber(lt.remainder(lt.divide(a,au),Ki)),oe=lt.toNumber(lt.divide(a,Tm));return({hours:c,minutes:_,seconds:oe,milliseconds:j,microseconds:m,nanoseconds:E}=sg(0,0,0,0,0,0,oe,j,m,E,t,i,o)),hh(0,c,_,oe,j,m,E,s)}function WH(n,r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe,Ie,$e){let Je=n,Qe=r,tt=t,{hours:ot,minutes:xt,seconds:Ct,milliseconds:Tt,microseconds:Kt,nanoseconds:Lt}=Nie(i,s,o,a,c,_,oe,le,ue,pe,we,Oe);const Xt=km(0,0,0,0,ot,xt,Ct,Tt,Kt,Lt);qv(E,m,j,Je,Qe,tt)===-Xt&&(({year:Je,month:Qe,day:tt}=XF(Je,Qe,tt-Xt)),({hours:ot,minutes:xt,seconds:Ct,milliseconds:Tt,microseconds:Kt,nanoseconds:Lt}=hh(-Xt,ot,xt,Ct,Tt,Kt,Lt,Ie)));const vt=sf(Je,Qe,tt,Pe),Et=sf(E,m,j,Pe),Dt=mw("day",Ie),jt=Yv($e);jt.largestUnit=Dt;let{years:Ft,months:Jt,weeks:on,days:dn}=Hv(Pe,vt,Et,jt);return({days:dn,hours:ot,minutes:xt,seconds:Ct,milliseconds:Tt,microseconds:Kt,nanoseconds:Lt}=hh(dn,ot,xt,Ct,Tt,Kt,Lt,Ie)),{years:Ft,months:Jt,weeks:on,days:dn,hours:ot,minutes:xt,seconds:Ct,milliseconds:Tt,microseconds:Kt,nanoseconds:Lt}}function Bie(n,r,t,i,s,o){const a=lt.subtract(r,n);if(lt.equal(a,bo))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=Ln("%Temporal.Instant%"),_=new c(n),E=new c(r),m=lu(t,_,i),j=lu(t,E,i);let{years:oe,months:le,weeks:ue,days:pe}=WH(Fe(m,er),Fe(m,ir),Fe(m,ar),Fe(m,ci),Fe(m,li),Fe(m,di),Fe(m,ui),Fe(m,fi),Fe(m,hi),Fe(j,er),Fe(j,ir),Fe(j,ar),Fe(j,ci),Fe(j,li),Fe(j,di),Fe(j,ui),Fe(j,fi),Fe(j,hi),i,s,o);const we=af(_,t,i,oe,le,ue,0,0,0,0,0,0,0);let Oe=lt.subtract(r,we);const Pe=yc(we,t,i);({nanoseconds:Oe,days:pe}=UH(Oe,Pe));const{hours:Ie,minutes:$e,seconds:Je,milliseconds:Qe,microseconds:tt,nanoseconds:ot}=hh(0,0,0,0,0,0,lt.toNumber(Oe),"hour");return{years:oe,months:le,weeks:ue,days:pe,hours:Ie,minutes:$e,seconds:Je,milliseconds:Qe,microseconds:tt,nanoseconds:ot}}function GS(n,r,t,i,s,o){const a=g3.reduce((le,ue)=>{const pe=ue[0],we=ue[1];return"datetime"!==t&&ue[2]!==t||i.includes(we)||le.push(we,pe),le},[]);let c=Od(r,"largestUnit",t,"auto");if(i.includes(c))throw new RangeError(`largestUnit must be one of ${a.join(", ")}, not ${c}`);const _=BS(r);let E=yp(r,"trunc");"since"===n&&(E=function(ue){switch(ue){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return ue}}(E));const m=Od(r,"smallestUnit",t,s);if(i.includes(m))throw new RangeError(`smallestUnit must be one of ${a.join(", ")}, not ${m}`);const j=mw(o,m);if("auto"===c&&(c=j),mw(c,m)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${m}`);const oe={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[m];return void 0!==oe&&LS(_,oe,!1),{largestUnit:c,roundingIncrement:_,roundingMode:E,smallestUnit:m}}function Lie(n,r,t,i){const s="since"===n?-1:1,o=vp(t),a=GS(n,Yv(i),"time",[],"nanosecond","second"),c=Fe(r,Pr),_=Fe(o,Pr);let{hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=GH(c,_,a.roundingIncrement,a.smallestUnit,a.largestUnit,a.roundingMode);return new(Ln("%Temporal.Duration%"))(0,0,0,0,s*E,s*m,s*j,s*oe,s*le,s*ue)}function jie(n,r,t,i){const s="since"===n?-1:1,o=ds(t),a=Fe(r,vn);zF(a,Fe(o,vn),"compute difference between dates");const c=Yv(i),_=GS(n,c,"date",[],"day","day");c.largestUnit=_.largestUnit;let{years:E,months:m,weeks:j,days:oe}=Hv(a,r,o,c);return"day"===_.smallestUnit&&1===_.roundingIncrement||({years:E,months:m,weeks:j,days:oe}=sg(E,m,j,oe,0,0,0,0,0,0,_.roundingIncrement,_.smallestUnit,_.roundingMode,r)),new(Ln("%Temporal.Duration%"))(s*E,s*m,s*j,s*oe,0,0,0,0,0,0)}function $ie(n,r,t,i){const s="since"===n?-1:1,o=gw(t),a=Fe(r,vn);zF(a,Fe(o,vn),"compute difference between dates");const c=Yv(i),_=GS(n,c,"datetime",[],"nanosecond","day");let{years:E,months:m,weeks:j,days:oe,hours:le,minutes:ue,seconds:pe,milliseconds:we,microseconds:Oe,nanoseconds:Pe}=WH(Fe(r,er),Fe(r,ir),Fe(r,ar),Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi),Fe(o,er),Fe(o,ir),Fe(o,ar),Fe(o,ci),Fe(o,li),Fe(o,di),Fe(o,ui),Fe(o,fi),Fe(o,hi),a,_.largestUnit,c);const Ie=US(r);return({years:E,months:m,weeks:j,days:oe,hours:le,minutes:ue,seconds:pe,milliseconds:we,microseconds:Oe,nanoseconds:Pe}=sg(E,m,j,oe,le,ue,pe,we,Oe,Pe,_.roundingIncrement,_.smallestUnit,_.roundingMode,Ie)),({days:oe,hours:le,minutes:ue,seconds:pe,milliseconds:we,microseconds:Oe,nanoseconds:Pe}=hh(oe,le,ue,pe,we,Oe,Pe,_.largestUnit)),new(Ln("%Temporal.Duration%"))(s*E,s*m,s*j,s*oe,s*le,s*ue,s*pe,s*we,s*Oe,s*Pe)}function Vie(n,r,t,i){const s="since"===n?-1:1,o=eg(t),a=GS(n,Yv(i),"time",[],"nanosecond","hour");let{hours:c,minutes:_,seconds:E,milliseconds:m,microseconds:j,nanoseconds:oe}=Nie(Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi),Fe(o,ci),Fe(o,li),Fe(o,di),Fe(o,ui),Fe(o,fi),Fe(o,hi));return({hours:c,minutes:_,seconds:E,milliseconds:m,microseconds:j,nanoseconds:oe}=sg(0,0,0,0,c,_,E,m,j,oe,a.roundingIncrement,a.smallestUnit,a.roundingMode)),({hours:c,minutes:_,seconds:E,milliseconds:m,microseconds:j,nanoseconds:oe}=hh(0,c,_,E,m,j,oe,a.largestUnit)),new(Ln("%Temporal.Duration%"))(0,0,0,0,s*c,s*_,s*E,s*m,s*j,s*oe)}function Uie(n,r,t,i){const s="since"===n?-1:1,o=w3(t),a=Fe(r,vn);zF(a,Fe(o,vn),"compute difference between months");const c=Yv(i),_=GS(n,c,"date",["week","day"],"month","year");c.largestUnit=_.largestUnit;const E=sa(a,["monthCode","year"]),m=_i(r,E,[]);m.day=1;const j=tg(a,m),oe=_i(o,E,[]);oe.day=1;const le=tg(a,oe);let{years:ue,months:pe}=Hv(a,j,le,c);return"month"===_.smallestUnit&&1===_.roundingIncrement||({years:ue,months:pe}=sg(ue,pe,0,0,0,0,0,0,0,0,_.roundingIncrement,_.smallestUnit,_.roundingMode,j)),new(Ln("%Temporal.Duration%"))(s*ue,s*pe,0,0,0,0,0,0,0,0)}function zie(n,r,t,i){const s="since"===n?-1:1,o=x3(t),a=Fe(r,vn);zF(a,Fe(o,vn),"compute difference between dates");const c=Yv(i),_=GS(n,c,"datetime",[],"nanosecond","hour");c.largestUnit=_.largestUnit;const E=Fe(r,Pr),m=Fe(o,Pr);let j,oe,le,ue,pe,we,Oe,Pe,Ie,$e;if("year"!==_.largestUnit&&"month"!==_.largestUnit&&"week"!==_.largestUnit&&"day"!==_.largestUnit)j=0,oe=0,le=0,ue=0,({hours:pe,minutes:we,seconds:Oe,milliseconds:Pe,microseconds:Ie,nanoseconds:$e}=GH(E,m,_.roundingIncrement,_.smallestUnit,_.largestUnit,_.roundingMode));else{const Je=Fe(r,ss);if(!mie(Je,Fe(o,ss)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:j,months:oe,weeks:le,days:ue,hours:pe,minutes:we,seconds:Oe,milliseconds:Pe,microseconds:Ie,nanoseconds:$e}=Bie(E,m,Je,a,_.largestUnit,c)),({years:j,months:oe,weeks:le,days:ue,hours:pe,minutes:we,seconds:Oe,milliseconds:Pe,microseconds:Ie,nanoseconds:$e}=sg(j,oe,le,ue,pe,we,Oe,Pe,Ie,$e,_.roundingIncrement,_.smallestUnit,_.roundingMode,r)),({years:j,months:oe,weeks:le,days:ue,hours:pe,minutes:we,seconds:Oe,milliseconds:Pe,microseconds:Ie,nanoseconds:$e}=Qie(j,oe,le,ue,pe,we,Oe,Pe,Ie,$e,_.roundingIncrement,_.smallestUnit,_.roundingMode,r))}return new(Ln("%Temporal.Duration%"))(s*j,s*oe,s*le,s*ue,s*pe,s*we,s*Oe,s*Pe,s*Ie,s*$e)}function ww(n,r,t,i,s,o,a,c){let _=n,E=r,m=t,j=o,oe=a;return _+=i,E+=s,({year:_,month:E}=qF(_,E)),({year:_,month:E,day:m}=MF(_,E,m,c)),oe+=7*j,m+=oe,({year:_,month:E,day:m}=XF(_,E,m)),{year:_,month:E,day:m}}function Hie(n,r,t,i,s,o,a,c,_,E,m,j){let oe=n,le=r,ue=t,pe=i,we=s,Oe=o;oe+=a,le+=c,ue+=_,pe+=E,we+=m,Oe+=j;let Pe=0;return({deltaDays:Pe,hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe}=ig(oe,le,ue,pe,we,Oe)),{deltaDays:Pe,hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe}}function Gie(n,r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe,Ie,$e){const Je=mw(MH(n,r,t,i,s,o,a,c,_,E),MH(m,j,oe,le,ue,pe,we,Oe,Pe,Ie));let Qe,tt,ot,xt,Ct,Tt,Kt,Lt,Xt,vt;if($e)if(Mi($e)){const Et=Ln("%Temporal.Duration%"),Dt=Fe($e,vn),jt=new Et(n,r,t,i,0,0,0,0,0,0),Ft=new Et(m,j,oe,le,0,0,0,0,0,0),Jt="string"!=typeof Dt?Qi(Dt,"dateAdd"):void 0,on=vc(Dt,$e,jt,void 0,Jt),dn=vc(Dt,on,Ft,void 0,Jt),Yt=mw("day",Je),Cn=Hc(null);Cn.largestUnit=Yt,({years:Qe,months:tt,weeks:ot,days:xt}=Hv(Dt,$e,dn,Cn)),({days:xt,hours:Ct,minutes:Tt,seconds:Kt,milliseconds:Lt,microseconds:Xt,nanoseconds:vt}=hh(xt,lt.add(lt.BigInt(s),lt.BigInt(ue)),lt.add(lt.BigInt(o),lt.BigInt(pe)),lt.add(lt.BigInt(a),lt.BigInt(we)),lt.add(lt.BigInt(c),lt.BigInt(Oe)),lt.add(lt.BigInt(_),lt.BigInt(Pe)),lt.add(lt.BigInt(E),lt.BigInt(Ie)),Je))}else{const Et=Ln("%Temporal.Instant%"),Dt=Fe($e,ss),jt=Fe($e,vn),Ft=af(Fe($e,zc),Dt,jt,n,r,t,i,s,o,a,c,_,E),Jt=af(new Et(Ft),Dt,jt,m,j,oe,le,ue,pe,we,Oe,Pe,Ie);"year"!==Je&&"month"!==Je&&"week"!==Je&&"day"!==Je?(Qe=0,tt=0,ot=0,xt=0,({hours:Ct,minutes:Tt,seconds:Kt,milliseconds:Lt,microseconds:Xt,nanoseconds:vt}=GH(Fe($e,Pr),Jt,1,"nanosecond",Je,"halfExpand"))):({years:Qe,months:tt,weeks:ot,days:xt,hours:Ct,minutes:Tt,seconds:Kt,milliseconds:Lt,microseconds:Xt,nanoseconds:vt}=Bie(Fe($e,Pr),Jt,Dt,jt,Je,Hc(null)))}else{if("year"===Je||"month"===Je||"week"===Je)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Qe=tt=ot=0,({days:xt,hours:Ct,minutes:Tt,seconds:Kt,milliseconds:Lt,microseconds:Xt,nanoseconds:vt}=hh(i+le,lt.add(lt.BigInt(s),lt.BigInt(ue)),lt.add(lt.BigInt(o),lt.BigInt(pe)),lt.add(lt.BigInt(a),lt.BigInt(we)),lt.add(lt.BigInt(c),lt.BigInt(Oe)),lt.add(lt.BigInt(_),lt.BigInt(Pe)),lt.add(lt.BigInt(E),lt.BigInt(Ie)),Je))}return JF(Qe,tt,ot,xt,Ct,Tt,Kt,Lt,Xt,vt),{years:Qe,months:tt,weeks:ot,days:xt,hours:Ct,minutes:Tt,seconds:Kt,milliseconds:Lt,microseconds:Xt,nanoseconds:vt}}function KH(n,r,t,i,s,o,a){let c=bo;c=lt.add(c,lt.BigInt(a)),c=lt.add(c,lt.multiply(lt.BigInt(o),Ki)),c=lt.add(c,lt.multiply(lt.BigInt(s),au)),c=lt.add(c,lt.multiply(lt.BigInt(i),Tm)),c=lt.add(c,lt.multiply(lt.BigInt(t),lt.BigInt(6e10))),c=lt.add(c,lt.multiply(lt.BigInt(r),lt.BigInt(36e11)));const _=lt.add(n,c);return _w(_),_}function qH(n,r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe,Ie,$e){let Je=le,{deltaDays:Qe,hour:tt,minute:ot,second:xt,millisecond:Ct,microsecond:Tt,nanosecond:Kt}=Hie(i,s,o,a,c,_,ue,pe,we,Oe,Pe,Ie);Je+=Qe;const Lt=Ln("%Temporal.Duration%"),Xt=vc(E,sf(n,r,t,E),new Lt(m,j,oe,Je,0,0,0,0,0,0),$e);return{year:Fe(Xt,er),month:Fe(Xt,ir),day:Fe(Xt,ar),hour:tt,minute:ot,second:xt,millisecond:Ct,microsecond:Tt,nanosecond:Kt}}function af(n,r,t,i,s,o,a,c,_,E,m,j,oe,le){const ue=Ln("%Temporal.Duration%");if(0===km(i,s,o,a,0,0,0,0,0,0))return KH(Fe(n,Pr),c,_,E,m,j,oe);const pe=lu(r,n,t),we=vc(t,sf(Fe(pe,er),Fe(pe,ir),Fe(pe,ar),t),new ue(i,s,o,a,0,0,0,0,0,0),le),Oe=Rd(Fe(we,er),Fe(we,ir),Fe(we,ar),Fe(pe,ci),Fe(pe,li),Fe(pe,di),Fe(pe,ui),Fe(pe,fi),Fe(pe,hi),t);return KH(Fe(Rl(r,Oe,"compatible"),Pr),c,_,E,m,j,oe)}function Wie(n,r,t,i){const s="subtract"===n?-1:1;let{years:o,months:a,weeks:c,days:_,hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=hw(t);const pe=PF(Ri(i));return({years:o,months:a,weeks:c,days:_,hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=Gie(Fe(r,Sl),Fe(r,Qa),Fe(r,od),Fe(r,Cl),Fe(r,Al),Fe(r,Tl),Fe(r,Dl),Fe(r,Ml),Fe(r,kl),Fe(r,Il),s*o,s*a,s*c,s*_,s*E,s*m,s*j,s*oe,s*le,s*ue,pe)),new(Ln("%Temporal.Duration%"))(o,a,c,_,E,m,j,oe,le,ue)}function Kie(n,r,t){const i="subtract"===n?-1:1,{hours:s,minutes:o,seconds:a,milliseconds:c,microseconds:_,nanoseconds:E}=function(oe){let ue=hw(oe);for(const pe of["years","months","weeks","days"])if(0!==ue[pe])throw new RangeError(`Duration field ${pe} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return ue}(t),m=KH(Fe(r,Pr),i*s,i*o,i*a,i*c,i*_,i*E);return new(Ln("%Temporal.Instant%"))(m)}function qie(n,r,t,i){const s="subtract"===n?-1:1,{years:o,months:a,weeks:c,days:_,hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=hw(t),pe=Ri(i),we=Fe(r,vn),{year:Oe,month:Pe,day:Ie,hour:$e,minute:Je,second:Qe,millisecond:tt,microsecond:ot,nanosecond:xt}=qH(Fe(r,er),Fe(r,ir),Fe(r,ar),Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi),we,s*o,s*a,s*c,s*_,s*E,s*m,s*j,s*oe,s*le,s*ue,pe);return Rd(Oe,Pe,Ie,$e,Je,Qe,tt,ot,xt,we)}function Xie(n,r,t){const i="subtract"===n?-1:1,{hours:s,minutes:o,seconds:a,milliseconds:c,microseconds:_,nanoseconds:E}=hw(t);let{hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}=Hie(Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi),i*s,i*o,i*a,i*c,i*_,i*E);return({hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}=kF(m,j,oe,le,ue,pe,"reject")),new(Ln("%Temporal.PlainTime%"))(m,j,oe,le,ue,pe)}function Yie(n,r,t,i){let s=hw(t);"subtract"===n&&(s={years:-s.years,months:-s.months,weeks:-s.weeks,days:-s.days,hours:-s.hours,minutes:-s.minutes,seconds:-s.seconds,milliseconds:-s.milliseconds,microseconds:-s.microseconds,nanoseconds:-s.nanoseconds});let{years:o,months:a,weeks:c,days:_,hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=s;({days:_}=hh(_,E,m,j,oe,le,ue,"day"));const pe=Ri(i),we=Fe(r,vn),Oe=sa(we,["monthCode","year"]),Pe=_i(r,Oe,[]),Ie=Hc(null);RS(Ie,Pe,[]),Pe.day=1;let $e=tg(we,Pe);const Je=km(o,a,c,_,0,0,0,0,0,0),Qe=Qi(we,"dateAdd"),tt=Ln("%Temporal.Duration%");if(Je<0){const Ct=vc(we,$e,new tt(0,1,0,0,0,0,0,0,0,0),void 0,Qe),Tt=vc(we,Ct,new tt(0,0,0,-1,0,0,0,0,0,0),void 0,Qe);Ie.day=A3(we,Tt),$e=tg(we,Ie)}const ot=new tt(o,a,c,_,0,0,0,0,0,0),xt=Yv(pe);return vw(we,_i(vc(we,$e,ot,pe,Qe),Oe,[]),xt)}function Zie(n,r,t,i){const s="subtract"===n?-1:1,{years:o,months:a,weeks:c,days:_,hours:E,minutes:m,seconds:j,milliseconds:oe,microseconds:le,nanoseconds:ue}=hw(t),pe=Ri(i),we=Fe(r,ss),Oe=Fe(r,vn);return yc(af(Fe(r,zc),we,Oe,s*o,s*a,s*c,s*_,s*E,s*m,s*j,s*oe,s*le,s*ue,pe),we,Oe)}function du(n,r,t){if(lt.equal(r,kS))return n;let{quotient:i,remainder:s}=Go(n,r);if(lt.equal(s,bo))return n;const o=lt.lessThan(s,bo)?-1:1,a=gp(lt.multiply(s,lt.BigInt(2))),c=lt.equal(a,r),_=lt.greaterThan(a,r);switch(t){case"ceil":o>0&&(i=lt.add(i,lt.BigInt(o)));break;case"floor":o<0&&(i=lt.add(i,lt.BigInt(o)));break;case"expand":i=lt.add(i,lt.BigInt(o));break;case"trunc":break;case"halfCeil":(_||c&&o>0)&&(i=lt.add(i,lt.BigInt(o)));break;case"halfFloor":(_||c&&o<0)&&(i=lt.add(i,lt.BigInt(o)));break;case"halfExpand":(_||c)&&(i=lt.add(i,lt.BigInt(o)));break;case"halfTrunc":_&&(i=lt.add(i,lt.BigInt(o)));break;case"halfEven":(_||c&&1===lt.toNumber(lt.remainder(gp(i),lt.BigInt(2))))&&(i=lt.add(i,lt.BigInt(o)))}return lt.multiply(i,r)}function QF(n,r,t,i){let{remainder:s}=xw(n,Dm);const o=lt.subtract(n,s),a=du(s,lt.BigInt(nse[t]*r),i);return lt.add(o,a)}function XH(n,r,t,i,s,o,a,c,_,E,m,j,oe=864e11){const{deltaDays:le,hour:ue,minute:pe,second:we,millisecond:Oe,microsecond:Pe,nanosecond:Ie}=YH(i,s,o,a,c,_,E,m,j,oe),{year:$e,month:Je,day:Qe}=XF(n,r,t+le);return{year:$e,month:Je,day:Qe,hour:ue,minute:pe,second:we,millisecond:Oe,microsecond:Pe,nanosecond:Ie}}function YH(n,r,t,i,s,o,a,c,_,E=864e11){let m=bo;switch(c){case"day":case"hour":m=lt.BigInt(n);case"minute":m=lt.add(lt.multiply(m,Am),lt.BigInt(r));case"second":m=lt.add(lt.multiply(m,Am),lt.BigInt(t));case"millisecond":m=lt.add(lt.multiply(m,Ki),lt.BigInt(i));case"microsecond":m=lt.add(lt.multiply(m,Ki),lt.BigInt(s));case"nanosecond":m=lt.add(lt.multiply(m,Ki),lt.BigInt(o))}const j="day"===c?E:nse[c],oe=du(m,lt.BigInt(j*a),_),le=lt.toNumber(lt.divide(oe,lt.BigInt(j)));switch(c){case"day":return{deltaDays:le,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return ig(le,0,0,0,0,0);case"minute":return ig(n,le,0,0,0,0);case"second":return ig(n,r,le,0,0,0);case"millisecond":return ig(n,r,t,le,0,0);case"microsecond":return ig(n,r,t,i,le,0);case"nanosecond":return ig(n,r,t,i,s,le);default:throw new Error(`Invalid unit ${c}`)}}function eN(n,r){return HH(Fe(n,er),Fe(n,ir),Fe(n,ar),Fe(r,er),Fe(r,ir),Fe(r,ar),"day").days}function Wc(n,r,t,i){const s=vc(n,r,t,void 0,i);return{relativeTo:s,days:eN(r,s)}}function Jie(n,r,t,i,s){const o=Fe(n,ss),a=Fe(n,vn);return yc(af(Fe(n,zc),o,a,r,t,i,s,0,0,0,0,0,0),o,a)}function Qie(n,r,t,i,s,o,a,c,_,E,m,j,oe,le){let ue=n,pe=r,we=t,Oe=i,Pe=s,Ie=o,$e=a,Je=c,Qe=_,tt=E;if(!hr(le)||"year"===j||"month"===j||"week"===j||"day"===j||"nanosecond"===j&&1===m)return{years:ue,months:pe,weeks:we,days:Oe,hours:Pe,minutes:Ie,seconds:$e,milliseconds:Je,microseconds:Qe,nanoseconds:tt};let ot=HS(0,Pe,Ie,$e,Je,Qe,tt,0);const xt=MS(lt.toNumber(ot)),Ct=Fe(le,ss),Tt=Fe(le,vn),Kt=af(Fe(le,zc),Ct,Tt,ue,pe,we,Oe,0,0,0,0,0,0),Lt=af(new(Ln("%Temporal.Instant%"))(Kt),Ct,Tt,0,0,0,xt,0,0,0,0,0,0),Xt=lt.subtract(Lt,Kt);return lt.greaterThanOrEqual(lt.multiply(lt.subtract(ot,Xt),lt.BigInt(xt)),bo)&&(({years:ue,months:pe,weeks:we,days:Oe}=Gie(ue,pe,we,Oe,0,0,0,0,0,0,0,0,0,xt,0,0,0,0,0,0,le)),ot=QF(lt.subtract(ot,Xt),m,j,oe),({hours:Pe,minutes:Ie,seconds:$e,milliseconds:Je,microseconds:Qe,nanoseconds:tt}=hh(0,0,0,0,0,0,lt.toNumber(ot),"hour"))),{years:ue,months:pe,weeks:we,days:Oe,hours:Pe,minutes:Ie,seconds:$e,milliseconds:Je,microseconds:Qe,nanoseconds:tt}}function sg(n,r,t,i,s,o,a,c,_,E,m,j,oe,le){let ue=n,pe=r,we=t,Oe=i,Pe=s,Ie=o,$e=a,Je=c,Qe=_,tt=lt.BigInt(E);const ot=Ln("%Temporal.Duration%");let xt,Ct,Tt,Kt,Lt=le;if(Lt){if(hr(Lt))Ct=Lt,Lt=ds(Lt);else if(!Mi(Lt))throw new TypeError("starting point must be PlainDate or ZonedDateTime");xt=Fe(Lt,vn)}if("year"===j||"month"===j||"week"===j||"day"===j){let Xt,vt,Et;tt=HS(0,Pe,Ie,$e,Je,Qe,E,0),Ct&&(Xt=Jie(Ct,ue,pe,we,Oe)),({days:vt,nanoseconds:tt,dayLengthNs:Et}=UH(tt,Xt)),Tt=lt.BigInt(Et),Oe+=vt,Pe=Ie=$e=Je=Qe=0}switch(j){case"year":{if(!xt)throw new RangeError("A starting point is required for years rounding");const Xt=new ot(ue),vt="string"!=typeof xt?Qi(xt,"dateAdd"):void 0,Et=vc(xt,Lt,Xt,void 0,vt),Dt=vc(xt,Lt,new ot(ue,pe,we),void 0,vt);Lt=Et,Oe+=eN(Et,Dt);const jt=vc(xt,Lt,new ot(0,0,0,Oe),void 0,vt),Ft=Hc(null);Ft.largestUnit="year";const Jt=Hv(xt,Lt,jt,Ft).years;ue+=Jt;const on=Lt;Lt=vc(xt,Lt,new ot(Jt),void 0,vt),Oe-=eN(on,Lt);const dn=new ot(Oe<0?-1:1);let{days:Yt}=Wc(xt,Lt,dn,vt);Yt=Hs(Yt);const Cn=lt.multiply(lt.BigInt(Yt),Tt);tt=lt.add(lt.add(lt.multiply(Cn,lt.BigInt(ue)),lt.multiply(lt.BigInt(Oe),Tt)),tt);const In=du(tt,lt.multiply(Cn,lt.BigInt(m)),oe);Kt=Pm(tt,Cn),ue=lt.toNumber(lt.divide(In,Cn)),tt=bo,pe=we=Oe=0;break}case"month":{if(!xt)throw new RangeError("A starting point is required for months rounding");const Xt=new ot(ue,pe),vt="string"!=typeof xt?Qi(xt,"dateAdd"):void 0,Et=vc(xt,Lt,Xt,void 0,vt),Dt=vc(xt,Lt,new ot(ue,pe,we),void 0,vt);Lt=Et,Oe+=eN(Et,Dt);const jt=MS(Oe),Ft=new ot(0,Oe<0?-1:1);let Jt;for(({relativeTo:Lt,days:Jt}=Wc(xt,Lt,Ft,vt));Hs(Oe)>=Hs(Jt);)pe+=jt,Oe-=Jt,({relativeTo:Lt,days:Jt}=Wc(xt,Lt,Ft,vt));Jt=Hs(Jt);const on=lt.multiply(lt.BigInt(Jt),Tt);tt=lt.add(lt.add(lt.multiply(on,lt.BigInt(pe)),lt.multiply(lt.BigInt(Oe),Tt)),tt);const dn=du(tt,lt.multiply(on,lt.BigInt(m)),oe);Kt=Pm(tt,on),pe=lt.toNumber(lt.divide(dn,on)),tt=bo,we=Oe=0;break}case"week":{if(!xt)throw new RangeError("A starting point is required for weeks rounding");const Xt=MS(Oe),vt=new ot(0,0,Oe<0?-1:1),Et="string"!=typeof xt?Qi(xt,"dateAdd"):void 0;let Dt;for(({relativeTo:Lt,days:Dt}=Wc(xt,Lt,vt,Et));Hs(Oe)>=Hs(Dt);)we+=Xt,Oe-=Dt,({relativeTo:Lt,days:Dt}=Wc(xt,Lt,vt,Et));Dt=Hs(Dt);const jt=lt.multiply(lt.BigInt(Dt),Tt);tt=lt.add(lt.add(lt.multiply(jt,lt.BigInt(we)),lt.multiply(lt.BigInt(Oe),Tt)),tt);const Ft=du(tt,lt.multiply(jt,lt.BigInt(m)),oe);Kt=Pm(tt,jt),we=lt.toNumber(lt.divide(Ft,jt)),tt=bo,Oe=0;break}case"day":{const Xt=Tt;tt=lt.add(lt.multiply(Xt,lt.BigInt(Oe)),tt);const vt=du(tt,lt.multiply(Xt,lt.BigInt(m)),oe);Kt=Pm(tt,Xt),Oe=lt.toNumber(lt.divide(vt,Xt)),tt=bo;break}case"hour":{let vt=lt.multiply(lt.BigInt(Pe),lt.BigInt(36e11));vt=lt.add(vt,lt.multiply(lt.BigInt(Ie),lt.BigInt(6e10))),vt=lt.add(vt,lt.multiply(lt.BigInt($e),Tm)),vt=lt.add(vt,lt.multiply(lt.BigInt(Je),au)),vt=lt.add(vt,lt.multiply(lt.BigInt(Qe),Ki)),vt=lt.add(vt,tt),Kt=Pm(vt,lt.BigInt(36e11));const Et=du(vt,lt.BigInt(36e11*m),oe);Pe=lt.toNumber(lt.divide(Et,lt.BigInt(36e11))),tt=bo,Ie=$e=Je=Qe=0;break}case"minute":{let vt=lt.multiply(lt.BigInt(Ie),lt.BigInt(6e10));vt=lt.add(vt,lt.multiply(lt.BigInt($e),Tm)),vt=lt.add(vt,lt.multiply(lt.BigInt(Je),au)),vt=lt.add(vt,lt.multiply(lt.BigInt(Qe),Ki)),vt=lt.add(vt,tt),Kt=Pm(vt,lt.BigInt(6e10));const Et=du(vt,lt.BigInt(6e10*m),oe);Ie=lt.toNumber(lt.divide(Et,lt.BigInt(6e10))),tt=bo,$e=Je=Qe=0;break}case"second":{let vt=lt.multiply(lt.BigInt($e),Tm);vt=lt.add(vt,lt.multiply(lt.BigInt(Je),au)),vt=lt.add(vt,lt.multiply(lt.BigInt(Qe),Ki)),vt=lt.add(vt,tt),Kt=Pm(vt,lt.BigInt(1e9));const Et=du(vt,lt.BigInt(1e9*m),oe);$e=lt.toNumber(lt.divide(Et,lt.BigInt(1e9))),tt=bo,Je=Qe=0;break}case"millisecond":{let vt=lt.multiply(lt.BigInt(Je),au);vt=lt.add(vt,lt.multiply(lt.BigInt(Qe),Ki)),vt=lt.add(vt,tt),Kt=Pm(vt,lt.BigInt(1e6));const Et=du(vt,lt.BigInt(1e6*m),oe);Je=lt.toNumber(lt.divide(Et,lt.BigInt(1e6))),tt=bo,Qe=0;break}case"microsecond":{let vt=lt.multiply(lt.BigInt(Qe),Ki);vt=lt.add(vt,tt),Kt=Pm(vt,lt.BigInt(1e3));const Et=du(vt,lt.BigInt(1e3*m),oe);Qe=lt.toNumber(lt.divide(Et,lt.BigInt(1e3))),tt=bo;break}case"nanosecond":Kt=lt.toNumber(tt),tt=du(lt.BigInt(tt),lt.BigInt(m),oe)}return{years:ue,months:pe,weeks:we,days:Oe,hours:Pe,minutes:Ie,seconds:$e,milliseconds:Je,microseconds:Qe,nanoseconds:lt.toNumber(tt),total:Kt}}function qv(n,r,t,i,s,o){for(const[a,c]of[[n,i],[r,s],[t,o]])if(a!==c)return Ew(a-c);return 0}function xw(n,r){let{quotient:t,remainder:i}=Go(n,r);return lt.lessThan(i,bo)&&(t=lt.subtract(t,kS),i=lt.add(i,r)),{quotient:t,remainder:i}}function WS(n,r){const{quotient:t,remainder:i}=Go(n,r);return nf(i)||!TF(n)==!TF(r)?t:lt.subtract(t,kS)}function Pm(n,r){const{quotient:t,remainder:i}=Go(n,r);return lt.toNumber(t)+lt.toNumber(i)/lt.toNumber(r)}function tN(n){const r=k3(n);return void 0!==globalThis.BigInt?globalThis.BigInt(r.toString(10)):r}function k3(n){let r=n;if("object"==typeof n){const t=n[Symbol.toPrimitive];t&&"function"==typeof t&&(r=SF(t,n,["number"]))}if("number"==typeof r)throw new TypeError("cannot convert number to bigint");return lt.BigInt("bigint"==typeof r?r.toString(10):r)}const ZH=(()=>{let n=lt.BigInt(Date.now()%1e6);return()=>{const r=lt.BigInt(Date.now()),t=lt.add(lt.multiply(r,au),n);return n=lt.remainder(r,au),lt.greaterThan(t,IS)?IS:lt.lessThan(t,m3)?m3:t}})();function Xv(){return(new Wre).resolvedOptions().timeZone}function Ew(n){return n<0?-1:n>0?1:n}function Ri(n){if(void 0===n)return Hc(null);if(Gs(n)&&null!==n)return n;throw new TypeError("Options parameter must be an object, not "+(null===n?"null":typeof n))}function KS(n,r){const t=Hc(null);return t[n]=r,t}function Yv(n){const r=Hc(null);return RS(r,Ri(n),[]),r}function Zv(n,r,t,i){let s=n[r];if(void 0!==s){if(s=Ol(s),!t.includes(s))throw new RangeError(`${r} must be one of ${t.join(", ")}, not ${s}`);return s}return i}function og(n){return sAe.includes(Om(n))}function Om(n){return n.replace(/[A-Z]/g,r=>{const t=r.charCodeAt(0);return String.fromCharCode(t+32)})}const ese=new RegExp(`^${zre.source}$`);function tse(n,r,t,i=n(r),s=n(t)){let o=lt.BigInt(r),a=lt.BigInt(t),c=i,_=s;for(;lt.greaterThan(lt.subtract(a,o),kS);){const E=lt.divide(lt.add(o,a),lt.BigInt(2)),m=n(E);if(m===c)o=E,c=m;else{if(m!==_)throw new Error(`invalid state in bisection ${c} - ${m} - ${_}`);a=E,_=m}}return a}const nse={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},rse=Symbol("date"),ise=Symbol("ym"),sse=Symbol("md"),ose=Symbol("time"),ase=Symbol("datetime"),cse=Symbol("instant"),qS=Symbol("original"),XS=Symbol("timezone"),ph=Symbol("calendar-id"),lse=Symbol("locale"),JH=Symbol("options"),I3=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),YS=globalThis.Intl.DateTimeFormat,ag=Object.assign,dAe=Object.prototype.hasOwnProperty,uAe=Reflect.apply;function ZS(n,r){let t=n[r];return"function"==typeof t&&(t=new YS(n[lse],t(n[JH])),n[r]=t),t}function Sw(n,r={}){if(!(this instanceof Sw))return new Sw(n,r);const t=void 0!==r,i=t?ag({},r):{},s=new YS(n,i),o=s.resolvedOptions();if(t){const a=ag({},o);for(const c in a)uAe(dAe,i,[c])||delete a[c];this[JH]=a}else this[JH]=i;this[lse]=o.locale,this[qS]=s,this[XS]=o.timeZone,this[ph]=o.calendar,this[rse]=mAe,this[ise]=hAe,this[sse]=pAe,this[ose]=fAe,this[ase]=gAe,this[cse]=yAe}Object.defineProperty(Sw,"name",{writable:!0,value:"DateTimeFormat"}),Sw.supportedLocalesOf=function(n,r){return YS.supportedLocalesOf(n,r)};const QH={resolvedOptions:I3(function(){return this[qS].resolvedOptions()}),format:I3(function(r,...t){let{instant:i,formatter:s}=QS(r,this);return i&&s?s.format(i.epochMilliseconds):this[qS].format(r,...t)}),formatRange:I3(function(r,t){if(JS(r)||JS(t)){if(!dse(r,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:s}=QS(r,this),{instant:o,formatter:a}=QS(t,this);if(i&&o&&s&&a&&s===a)return s.formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[qS].formatRange(r,t)})};"formatToParts"in YS.prototype&&(QH.formatToParts=I3(function(r,...t){let{instant:i,formatter:s}=QS(r,this);return i&&s?s.formatToParts(i.epochMilliseconds):this[qS].formatToParts(r,...t)})),"formatRangeToParts"in YS.prototype&&(QH.formatRangeToParts=I3(function(r,t){if(JS(r)||JS(t)){if(!dse(r,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:s}=QS(r,this),{instant:o,formatter:a}=QS(t,this);if(i&&o&&s&&a&&s===a)return s.formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[qS].formatRangeToParts(r,t)})),Sw.prototype=Object.create(YS.prototype,QH),Object.defineProperty(Sw,"prototype",{writable:!1,enumerable:!1,configurable:!1});const cg=Sw;function P3(n={},r={}){const t=ag({},n);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[i]=i in r?r[i]:t[i],!1!==t[i]&&void 0!==t[i]||delete t[i];return t}function fAe(n){let r=P3(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return tG(r)||(r=ag({},r,{hour:"numeric",minute:"numeric",second:"numeric"})),r}function hAe(n){let r=P3(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in r||"month"in r||(r=ag(r,{year:"numeric",month:"numeric"})),r}function pAe(n){let r=P3(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in r||"day"in r||(r=ag({},r,{month:"numeric",day:"numeric"})),r}function mAe(n){let r=P3(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return eG(r)||(r=ag({},r,{year:"numeric",month:"numeric",day:"numeric"})),r}function gAe(n){let r=P3(n,{timeZoneName:!1});return tG(r)||eG(r)||(r=ag({},r,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r}function yAe(n){let r=n;return tG(r)||eG(r)||(r=ag({},r,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r}function eG(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function tG(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function JS(n){return Mi(n)||xo(n)||ri(n)||hr(n)||qi(n)||Ia(n)||ma(n)}function dse(n,r){return!(!JS(n)||!JS(r)||xo(n)&&!xo(r)||Mi(n)&&!Mi(r)||ri(n)&&!ri(r)||hr(n)&&!hr(r)||qi(n)&&!qi(r)||Ia(n)&&!Ia(r)||ma(n)&&!ma(r))}function QS(n,r){const t=Ln("%Temporal.PlainDateTime%");if(xo(n)){const i=new t(1970,1,1,Fe(n,ci),Fe(n,li),Fe(n,di),Fe(n,ui),Fe(n,fi),Fe(n,hi),r[ph]);return{instant:Rl(r[XS],i,"compatible"),formatter:ZS(r,ose)}}if(qi(n)){const i=Fe(n,er),s=Fe(n,ir),o=Fe(n,ar),a=bc(Fe(n,vn));if(a!==r[ph])throw new RangeError(`cannot format PlainYearMonth with calendar ${a} in locale with calendar ${r[ph]}`);const c=new t(i,s,o,12,0,0,0,0,0,a);return{instant:Rl(r[XS],c,"compatible"),formatter:ZS(r,ise)}}if(Ia(n)){const i=Fe(n,er),s=Fe(n,ir),o=Fe(n,ar),a=bc(Fe(n,vn));if(a!==r[ph])throw new RangeError(`cannot format PlainMonthDay with calendar ${a} in locale with calendar ${r[ph]}`);const c=new t(i,s,o,12,0,0,0,0,0,a);return{instant:Rl(r[XS],c,"compatible"),formatter:ZS(r,sse)}}if(Mi(n)){const i=Fe(n,er),s=Fe(n,ir),o=Fe(n,ar),a=bc(Fe(n,vn));if("iso8601"!==a&&a!==r[ph])throw new RangeError(`cannot format PlainDate with calendar ${a} in locale with calendar ${r[ph]}`);const c=new t(i,s,o,12,0,0,0,0,0,r[ph]);return{instant:Rl(r[XS],c,"compatible"),formatter:ZS(r,rse)}}if(ri(n)){const i=Fe(n,er),s=Fe(n,ir),o=Fe(n,ar),a=Fe(n,ci),c=Fe(n,li),_=Fe(n,di),E=Fe(n,ui),m=Fe(n,fi),j=Fe(n,hi),oe=bc(Fe(n,vn));if("iso8601"!==oe&&oe!==r[ph])throw new RangeError(`cannot format PlainDateTime with calendar ${oe} in locale with calendar ${r[ph]}`);let le=n;return"iso8601"===oe&&(le=new t(i,s,o,a,c,_,E,m,j,r[ph])),{instant:Rl(r[XS],le,"compatible"),formatter:ZS(r,ase)}}if(hr(n))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return ma(n)?{instant:n,formatter:ZS(r,cse)}:{}}Object.freeze({__proto__:null,DateTimeFormat:cg});class mh{constructor(r){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=k3(r);_w(t),Cm(this),yi(this,Pr,t)}get epochSeconds(){if(!ma(this))throw new TypeError("invalid receiver");const r=Fe(this,Pr);return lt.toNumber(WS(r,Tm))}get epochMilliseconds(){if(!ma(this))throw new TypeError("invalid receiver");const r=lt.BigInt(Fe(this,Pr));return lt.toNumber(WS(r,au))}get epochMicroseconds(){if(!ma(this))throw new TypeError("invalid receiver");return tN(WS(lt.BigInt(Fe(this,Pr)),Ki))}get epochNanoseconds(){if(!ma(this))throw new TypeError("invalid receiver");return tN(lt.BigInt(Fe(this,Pr)))}add(r){if(!ma(this))throw new TypeError("invalid receiver");return Kie("add",this,r)}subtract(r){if(!ma(this))throw new TypeError("invalid receiver");return Kie("subtract",this,r)}until(r,t){if(!ma(this))throw new TypeError("invalid receiver");return Lie("until",this,r,t)}since(r,t){if(!ma(this))throw new TypeError("invalid receiver");return Lie("since",this,r,t)}round(r){if(!ma(this))throw new TypeError("invalid receiver");if(void 0===r)throw new TypeError("options parameter is required");const t="string"==typeof r?KS("smallestUnit",r):Ri(r),i=BS(t),s=yp(t,"halfExpand"),o=Od(t,"smallestUnit","time",pw);LS(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0);const a=QF(Fe(this,Pr),i,o,s);return new mh(a)}equals(r){if(!ma(this))throw new TypeError("invalid receiver");const t=vp(r),i=Fe(this,Pr),s=Fe(t,Pr);return lt.equal(lt.BigInt(i),lt.BigInt(s))}toString(r){if(!ma(this))throw new TypeError("invalid receiver");const t=Ri(r),i=v3(t),s=yp(t,"trunc"),o=Od(t,"smallestUnit","time",void 0);if("hour"===o)throw new RangeError('smallestUnit must be a time unit other than "hour"');let a=t.timeZone;void 0!==a&&(a=Gc(a));const{precision:c,unit:_,increment:E}=b3(o,i),m=QF(Fe(this,Pr),E,_,s);return yie(new mh(m),a,c)}toJSON(){if(!ma(this))throw new TypeError("invalid receiver");return yie(this,void 0,"auto")}toLocaleString(r,t){if(!ma(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(r){if(!ma(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument in toZonedDateTime");const t=r.calendar;if(void 0===t)throw new TypeError("missing calendar property in toZonedDateTime");const i=Fd(t),s=r.timeZone;if(void 0===s)throw new TypeError("missing timeZone property in toZonedDateTime");const o=Gc(s);return yc(Fe(this,Pr),o,i)}toZonedDateTimeISO(r){if(!ma(this))throw new TypeError("invalid receiver");const t=Gc(r);return yc(Fe(this,Pr),t,"iso8601")}static fromEpochSeconds(r){const t=OS(r),i=lt.multiply(lt.BigInt(t),Tm);return _w(i),new mh(i)}static fromEpochMilliseconds(r){const t=OS(r),i=lt.multiply(lt.BigInt(t),au);return _w(i),new mh(i)}static fromEpochMicroseconds(r){const t=k3(r),i=lt.multiply(t,Ki);return _w(i),new mh(i)}static fromEpochNanoseconds(r){const t=k3(r);return _w(t),new mh(t)}static from(r){return ma(r)?new mh(Fe(r,Pr)):vp(r)}static compare(r,t){const i=vp(r),s=vp(t),o=Fe(i,Pr),a=Fe(s,Pr);return lt.lessThan(o,a)?-1:lt.greaterThan(o,a)?1:0}}Em(mh,"Temporal.Instant");const use=Array.prototype.includes,vAe=Array.prototype.push,bAe=globalThis.Intl.DateTimeFormat,_Ae=Array.prototype.sort,wAe=Math.abs,xAe=Math.floor,nG=Object.create,rG=Object.entries,fse=Set,hse=Reflect.ownKeys,Kc=Set.prototype.add,pse=Set.prototype.values,Qs={};class Eo{constructor(r){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Ol(r);if(!og(t))throw new RangeError(`invalid calendar identifier ${t}`);Cm(this),yi(this,ao,Om(t))}get id(){if(!_o(this))throw new TypeError("invalid receiver");return Fe(this,ao)}dateFromFields(r,t){if(!_o(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid fields");const i=Ri(t),s=Fe(this,ao);return Qs[s].dateFromFields(r,i,s)}yearMonthFromFields(r,t){if(!_o(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid fields");const i=Ri(t),s=Fe(this,ao);return Qs[s].yearMonthFromFields(r,i,s)}monthDayFromFields(r,t){if(!_o(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid fields");const i=Ri(t),s=Fe(this,ao);return Qs[s].monthDayFromFields(r,i,s)}fields(r){if(!_o(this))throw new TypeError("invalid receiver");const t=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const s of r){if("string"!=typeof s)throw new TypeError("invalid fields");if(!i.has(s))throw new RangeError(`invalid field name ${s}`);i.delete(s),vAe.call(t,s)}return Qs[Fe(this,ao)].fields(t)}mergeFields(r,t){if(!_o(this))throw new TypeError("invalid receiver");const i=sie(r),s=nG(null);RS(s,i,[],[void 0]);const o=sie(t),a=nG(null);RS(a,o,[],[void 0]);const c=hse(a),_=Qs[Fe(this,ao)].fieldKeysToIgnore(c),E=nG(null),m=hse(s);for(const j of m){let oe;oe=_r(use,_,[j])?a[j]:s[j],void 0!==oe&&(E[j]=oe)}return RS(E,a,[]),E}dateAdd(r,t,i){if(!_o(this))throw new TypeError("invalid receiver");const s=ds(r),o=jS(t),a=Wo(Ri(i)),{days:c}=hh(Fe(o,Cl),Fe(o,Al),Fe(o,Tl),Fe(o,Dl),Fe(o,Ml),Fe(o,kl),Fe(o,Il),"day"),_=Fe(this,ao);return Qs[_].dateAdd(s,Fe(o,Sl),Fe(o,Qa),Fe(o,od),c,a,_)}dateUntil(r,t,i){if(!_o(this))throw new TypeError("invalid receiver");const s=ds(r),o=ds(t);let a=Od(Ri(i),"largestUnit","date","auto");"auto"===a&&(a="day");const{years:c,months:_,weeks:E,days:m}=Qs[Fe(this,ao)].dateUntil(s,o,a);return new(Ln("%Temporal.Duration%"))(c,_,E,m,0,0,0,0,0,0)}year(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].year(t)}month(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");if(Ia(t))throw new TypeError("use monthCode on PlainMonthDay instead");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].month(t)}monthCode(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||Ia(t)||(t=ds(t)),Qs[Fe(this,ao)].monthCode(t)}day(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return Ia(t)||(t=ds(t)),Qs[Fe(this,ao)].day(t)}era(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].era(t)}eraYear(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].eraYear(t)}dayOfWeek(r){if(!_o(this))throw new TypeError("invalid receiver");const t=ds(r);return Qs[Fe(this,ao)].dayOfWeek(t)}dayOfYear(r){if(!_o(this))throw new TypeError("invalid receiver");const t=ds(r);return Qs[Fe(this,ao)].dayOfYear(t)}weekOfYear(r){if(!_o(this))throw new TypeError("invalid receiver");const t=ds(r);return Qs[Fe(this,ao)].weekOfYear(t)}yearOfWeek(r){if(!_o(this))throw new TypeError("invalid receiver");const t=ds(r);return Qs[Fe(this,ao)].yearOfWeek(t)}daysInWeek(r){if(!_o(this))throw new TypeError("invalid receiver");const t=ds(r);return Qs[Fe(this,ao)].daysInWeek(t)}daysInMonth(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].daysInMonth(t)}daysInYear(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].daysInYear(t)}monthsInYear(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].monthsInYear(t)}inLeapYear(r){let t=r;if(!_o(this))throw new TypeError("invalid receiver");return qi(t)||(t=ds(t)),Qs[Fe(this,ao)].inLeapYear(t)}toString(){if(!_o(this))throw new TypeError("invalid receiver");return Fe(this,ao)}toJSON(){if(!_o(this))throw new TypeError("invalid receiver");return Fe(this,ao)}static from(r){return $S(Fd(r))}}function iG(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const r=+n.slice(1);if(isNaN(r))throw new RangeError(`Invalid month code: ${n}`);return r}function lg(n,r=!1){return`M${n.toString().padStart(2,"0")}${r?"L":""}`}function nN(n,r,t=12){let{month:i,monthCode:s}=n;if(void 0===s){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===r&&_c(i,1,t),"constrain"===r&&(i=Nd(i,1,t)),s=lg(i)}else{const o=iG(s);if(void 0!==i&&i!==o)throw new RangeError(`monthCode ${s} and month ${i} must match if both are present`);if(s!==lg(o))throw new RangeError(`Invalid month code: ${s}`);if(i=o,i<1||i>t)throw new RangeError(`Invalid monthCode: ${s}`)}return{...n,month:i,monthCode:s}}Em(Eo,"Temporal.Calendar"),oo("Temporal.Calendar.from",Eo.from),oo("Temporal.Calendar.prototype.dateAdd",Eo.prototype.dateAdd),oo("Temporal.Calendar.prototype.dateFromFields",Eo.prototype.dateFromFields),oo("Temporal.Calendar.prototype.dateUntil",Eo.prototype.dateUntil),oo("Temporal.Calendar.prototype.day",Eo.prototype.day),oo("Temporal.Calendar.prototype.dayOfWeek",Eo.prototype.dayOfWeek),oo("Temporal.Calendar.prototype.dayOfYear",Eo.prototype.dayOfYear),oo("Temporal.Calendar.prototype.daysInMonth",Eo.prototype.daysInMonth),oo("Temporal.Calendar.prototype.daysInWeek",Eo.prototype.daysInWeek),oo("Temporal.Calendar.prototype.daysInYear",Eo.prototype.daysInYear),oo("Temporal.Calendar.prototype.era",Eo.prototype.era),oo("Temporal.Calendar.prototype.eraYear",Eo.prototype.eraYear),oo("Temporal.Calendar.prototype.fields",Eo.prototype.fields),oo("Temporal.Calendar.prototype.inLeapYear",Eo.prototype.inLeapYear),oo("Temporal.Calendar.prototype.mergeFields",Eo.prototype.mergeFields),oo("Temporal.Calendar.prototype.month",Eo.prototype.month),oo("Temporal.Calendar.prototype.monthCode",Eo.prototype.monthCode),oo("Temporal.Calendar.prototype.monthDayFromFields",Eo.prototype.monthDayFromFields),oo("Temporal.Calendar.prototype.monthsInYear",Eo.prototype.monthsInYear),oo("Temporal.Calendar.prototype.weekOfYear",Eo.prototype.weekOfYear),oo("Temporal.Calendar.prototype.year",Eo.prototype.year),oo("Temporal.Calendar.prototype.yearMonthFromFields",Eo.prototype.yearMonthFromFields),oo("Temporal.Calendar.prototype.yearOfWeek",Eo.prototype.yearOfWeek),Qs.iso8601={dateFromFields(n,r,t){let i=_i(n,["day","month","monthCode","year"],["year","day"]);const s=Wo(r);i=nN(i);let{year:o,month:a,day:c}=i;return({year:o,month:a,day:c}=MF(o,a,c,s)),sf(o,a,c,t)},yearMonthFromFields(n,r,t){let i=_i(n,["month","monthCode","year"],["year"]);const s=Wo(r);i=nN(i);let{year:o,month:a}=i;return({year:o,month:a}=function(_,E,m){let j=_,oe=E;switch(m){case"reject":Im(j,oe,1);break;case"constrain":({year:j,month:oe}=Oie(j,oe))}return{year:j,month:oe}}(o,a,s)),S3(o,a,t,1)},monthDayFromFields(n,r,t){let i=_i(n,["day","month","monthCode","year"],["day"]);const s=Wo(r);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const o=void 0===i.monthCode;i=nN(i);let{month:a,day:c,year:_}=i;return({month:a,day:c}=MF(o?_:1972,a,c,s)),E3(a,c,t,1972)},fields:n=>n,fieldKeysToIgnore(n){const r=new fse;for(let t=0;t<n.length;t++){const i=n[t];_r(Kc,r,[i]),"month"===i?_r(Kc,r,["monthCode"]):"monthCode"===i&&_r(Kc,r,["month"])}return[..._r(pse,r,[])]},dateAdd(n,r,t,i,s,o,a){let c=Fe(n,er),_=Fe(n,ir),E=Fe(n,ar);return({year:c,month:_,day:E}=ww(c,_,E,r,t,i,s,o)),sf(c,_,E,a)},dateUntil:(n,r,t)=>HH(Fe(n,er),Fe(n,ir),Fe(n,ar),Fe(r,er),Fe(r,ir),Fe(r,ar),t),year:n=>Fe(n,er),era(){},eraYear(){},month:n=>Fe(n,ir),monthCode:n=>lg(Fe(n,ir)),day:n=>Fe(n,ar),dayOfWeek:n=>$H(Fe(n,er),Fe(n,ir),Fe(n,ar)),dayOfYear:n=>KF(Fe(n,er),Fe(n,ir),Fe(n,ar)),weekOfYear:n=>Mie(Fe(n,er),Fe(n,ir),Fe(n,ar)).week,yearOfWeek:n=>Mie(Fe(n,er),Fe(n,ir),Fe(n,ar)).year,daysInWeek:()=>7,daysInMonth:n=>rg(Fe(n,er),Fe(n,ir)),daysInYear(n){let r=n;return Ma(r,er)||(r=ds(r)),Kv(Fe(r,er))?366:365},monthsInYear:()=>12,inLeapYear(n){let r=n;return Ma(r,er)||(r=ds(r)),Kv(Fe(r,er))}};class co{constructor(r){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==r){let t=0;for(const i of r.map.entries()){if(++t>co.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(r){const t=this.map.get(r);return t&&(this.hits++,this.report()),this.calls++,t}set(r,t){this.map.set(r,t),this.misses++,this.report()}report(){}setObject(r){if(co.objectMap.get(r))throw new RangeError("object already cached");co.objectMap.set(r,this),this.report()}static getCacheForObject(r){let t=co.objectMap.get(r);return t||(t=new co,co.objectMap.set(r,t)),t}}function mse({isoYear:n,isoMonth:r,isoDay:t}){return`${bw(n)}-${Js(r)}-${Js(t)}T00:00Z`}function sG(n,r){return{years:n.year-r.year,months:n.month-r.month,days:n.day-r.day}}co.objectMap=new WeakMap,co.MAX_CACHE_ENTRIES=1e3;class eC{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new bAe(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(r,t){const{year:i,month:s,day:o}=r,a=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:s,isoDay:o,id:this.id}),c=t.get(a);if(c)return c;const _=this.getFormatter();let E,m;try{m=mse({isoYear:i,isoMonth:s,isoDay:o}),E=_.formatToParts(new Date(m))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:s,isoDay:o})}`)}const j={};for(let{type:le,value:ue}of E){if("year"===le&&(j.eraYear=+ue),"relatedYear"===le&&(j.eraYear=+ue),"month"===le){const pe=/^([0-9]*)(.*?)$/.exec(ue);if(!pe||3!=pe.length||!pe[1]&&!pe[2])throw new RangeError(`Unexpected month: ${ue}`);if(j.month=pe[1]?+pe[1]:1,j.month<1)throw new RangeError(`Invalid month ${ue} from ${m}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(j.month>13)throw new RangeError(`Invalid month ${ue} from ${m}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);pe[2]&&(j.monthExtra=pe[2])}"day"===le&&(j.day=+ue),this.hasEra&&"era"===le&&null!=ue&&""!==ue&&(ue=ue.split(" (")[0],j.era=ue.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===j.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:le,eraYear:ue}=this.reviseIntlEra(j,r);j.era=le,j.eraYear=ue}this.checkIcuBugs&&this.checkIcuBugs(r);const oe=this.adjustCalendarDate(j,t,"constrain",!0);if(void 0===oe.year)throw new RangeError(`Missing year converting ${JSON.stringify(r)}`);if(void 0===oe.month)throw new RangeError(`Missing month converting ${JSON.stringify(r)}`);if(void 0===oe.day)throw new RangeError(`Missing day converting ${JSON.stringify(r)}`);return t.set(a,oe),["constrain","reject"].forEach(le=>{const ue=JSON.stringify({func:"calendarToIsoDate",year:oe.year,month:oe.month,day:oe.day,overflow:le,id:this.id});t.set(ue,r)}),oe}validateCalendarDate(r){const{era:t,month:i,year:s,day:o,eraYear:a,monthCode:c,monthExtra:_}=r;if(void 0!==_)throw new RangeError("Unexpected `monthExtra` value");if(void 0===s&&void 0===a)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===c)throw new TypeError("month or monthCode is required");if(void 0===o)throw new RangeError("Missing day");if(void 0!==c){if("string"!=typeof c)throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(void 0!==t&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(void 0!==a&&void 0!==s&&a!==s)throw new RangeError(`eraYear ${a} does not match year ${s}`)}if(this.hasEra&&void 0===r.era!=(void 0===r.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(r,t,i="constrain",s=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let o=r;if(this.validateCalendarDate(o),this.constantEra){const{year:E,eraYear:m}=o;o={...o,era:this.constantEra,year:void 0!==E?E:m,eraYear:void 0!==m?m:E}}const a=this.monthsInYear(o,t);let{month:c,monthCode:_}=o;return({month:c,monthCode:_}=nN(o,i,a)),{...o,month:c,monthCode:_}}regulateMonthDayNaive(r,t,i){const s=this.monthsInYear(r,i);let{month:o,day:a}=r;return"reject"===t?(_c(o,1,s),_c(a,1,this.maximumMonthLength(r))):(o=Nd(o,1,s),a=Nd(a,1,this.maximumMonthLength({...r,month:o}))),{...r,month:o,day:a}}calendarToIsoDate(r,t="constrain",i){const s=r;let o=this.adjustCalendarDate(r,i,t,!1);o=this.regulateMonthDayNaive(o,t,i);const{year:a,month:c,day:_}=o,E=JSON.stringify({func:"calendarToIsoDate",year:a,month:c,day:_,overflow:t,id:this.id});let m,j=i.get(E);if(j||void 0!==s.year&&void 0!==s.month&&void 0!==s.day&&(s.year!==o.year||s.month!==o.month||s.day!==o.day)&&(m=JSON.stringify({func:"calendarToIsoDate",year:s.year,month:s.month,day:s.day,overflow:t,id:this.id}),j=i.get(m),j))return j;let oe=this.estimateIsoDate({year:a,month:c,day:_});const le=Pe=>{let Ie=this.addDaysIso(oe,Pe);if(o.day>this.minimumMonthLength(o)){let $e=this.isoToCalendarDate(Ie,i);for(;$e.month!==c||$e.year!==a;){if("reject"===t)throw new RangeError(`day ${_} does not exist in month ${c} of year ${a}`);Ie=this.addDaysIso(Ie,-1),$e=this.isoToCalendarDate(Ie,i)}}return Ie};let ue=0,pe=this.isoToCalendarDate(oe,i),we=sG(o,pe);0===we.years&&0===we.months&&0===we.days||(oe=this.addDaysIso(oe,365*we.years+30*we.months+we.days),pe=this.isoToCalendarDate(oe,i),we=sG(o,pe),0===we.years&&0===we.months?oe=le(we.days):ue=this.compareCalendarDates(o,pe));let Oe=8;for(;ue;){oe=this.addDaysIso(oe,ue*Oe);const Pe=pe;pe=this.isoToCalendarDate(oe,i);const Ie=ue;if(ue=this.compareCalendarDates(o,pe),ue)if(we=sG(o,pe),0===we.years&&0===we.months)oe=le(we.days),ue=0;else if(Ie&&ue!==Ie)if(Oe>1)Oe/=2;else{if("reject"===t)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...s})}`);this.compareCalendarDates(pe,Pe)>0&&(oe=this.addDaysIso(oe,-1)),ue=0}}if(i.set(E,oe),m&&i.set(m,oe),void 0===o.year||void 0===o.month||void 0===o.day||void 0===o.monthCode||this.hasEra&&(void 0===o.era||void 0===o.eraYear))throw new RangeError("Unexpected missing property");return oe}temporalToCalendarDate(r,t){const i={year:Fe(r,er),month:Fe(r,ir),day:Fe(r,ar)};return this.isoToCalendarDate(i,t)}compareCalendarDates(r,t){const i=_i(r,["day","month","year"],["day","month","year"]),s=_i(t,["day","month","year"],["day","month","year"]);return i.year!==s.year?Ew(i.year-s.year):i.month!==s.month?Ew(i.month-s.month):i.day!==s.day?Ew(i.day-s.day):0}regulateDate(r,t="constrain",i){const s=this.calendarToIsoDate(r,t,i);return this.isoToCalendarDate(s,i)}addDaysIso(r,t){return ww(r.year,r.month,r.day,0,0,0,t,"constrain")}addDaysCalendar(r,t,i){const s=this.calendarToIsoDate(r,"constrain",i),o=this.addDaysIso(s,t);return this.isoToCalendarDate(o,i)}addMonthsCalendar(r,t,i,s){let o=r;const{day:a}=o;for(let c=0,_=wAe(t);c<_;c++){const{month:E}=o,m=o,j=t<0?-Math.max(a,this.daysInPreviousMonth(o,s)):this.daysInMonth(o,s),oe=this.calendarToIsoDate(o,"constrain",s);let le=this.addDaysIso(oe,j);if(o=this.isoToCalendarDate(le,s),t>0){const ue=this.monthsInYear(m,s);for(;o.month-1!=E%ue;)le=this.addDaysIso(le,-1),o=this.isoToCalendarDate(le,s)}o.day!==a&&(o=this.regulateDate({...o,day:a},"constrain",s))}if("reject"===i&&o.day!==a)throw new RangeError(`Day ${a} does not exist in resulting calendar month`);return o}addCalendar(r,{years:t=0,months:i=0,weeks:s=0,days:o=0},a,c){const{year:_,day:E,monthCode:m}=r,j=this.adjustCalendarDate({year:_+t,monthCode:m,day:E},c),oe=this.addMonthsCalendar(j,i,a,c);return this.addDaysCalendar(oe,o+7*s,c)}untilCalendar(r,t,i,s){let o=0,a=0,c=0,_=0;switch(i){case"day":o=this.calendarDaysUntil(r,t,s);break;case"week":{const E=this.calendarDaysUntil(r,t,s);o=E%7,a=(E-o)/7;break}case"month":case"year":{const E=this.compareCalendarDates(t,r);if(!E)return{years:0,months:0,weeks:0,days:0};const m=t.year-r.year;if("year"===i&&m){let ue=0;t.monthCode>r.monthCode&&(ue=1),t.monthCode<r.monthCode&&(ue=-1),ue||(ue=Math.sign(t.day-r.day)),_=ue*E<0?m-E:m}let oe,le=_?this.addCalendar(r,{years:_},"constrain",s):r;do{c+=E,oe=le,le=this.addMonthsCalendar(oe,E,"constrain",s),le.day!==r.day&&(le=this.regulateDate({...le,day:r.day},"constrain",s))}while(this.compareCalendarDates(t,le)*E>=0);c-=E,o=this.calendarDaysUntil(oe,t,s);break}}return{years:_,months:c,weeks:a,days:o}}daysInMonth(r,t){const{day:i}=r,s=this.maximumMonthLength(r),o=this.minimumMonthLength(r);if(o===s)return o;const a=i<=s-o?s:o,c=this.calendarToIsoDate(r,"constrain",t),_=this.addDaysIso(c,a),E=this.isoToCalendarDate(_,t),m=this.addDaysIso(_,-E.day);return this.isoToCalendarDate(m,t).day}daysInPreviousMonth(r,t){const{day:i,month:s,year:o}=r;let a={year:s>1?o:o-1,month:s,day:1};const c=s>1?s-1:this.monthsInYear(a,t);a={...a,month:c};const _=this.minimumMonthLength(a),E=this.maximumMonthLength(a);if(_===E)return E;const m=this.calendarToIsoDate(r,"constrain",t),j=this.addDaysIso(m,-i);return this.isoToCalendarDate(j,t).day}startOfCalendarYear(r){return{year:r.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(r){return{year:r.year,month:r.month,day:1}}calendarDaysUntil(r,t,i){const s=this.calendarToIsoDate(r,"constrain",i),o=this.calendarToIsoDate(t,"constrain",i);return this.isoDaysUntil(s,o)}isoDaysUntil(r,t){return HH(r.year,r.month,r.day,t.year,t.month,t.day,"day").days}monthDayFromFields(r,t,i){let s,o,a,c,_,{monthCode:E,day:m}=r;if(void 0===E){let{year:le,era:ue,eraYear:pe}=r;if(void 0===le&&(void 0===ue||void 0===pe))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:E,day:m}=this.isoToCalendarDate(this.calendarToIsoDate(r,t,i),i))}const j=this.isoToCalendarDate({year:1972,month:12,day:31},i),oe=j.monthCode>E||j.monthCode===E&&j.day>=m?j.year:j.year-1;for(let le=0;le<100;le++){const ue=this.adjustCalendarDate({day:m,monthCode:E,year:oe-le},i),pe=this.calendarToIsoDate(ue,"constrain",i),we=this.isoToCalendarDate(pe,i);if(({year:s,month:o,day:a}=pe),we.monthCode===E&&we.day===m)return{month:o,day:a,year:s};"constrain"===t&&(void 0===c||we.monthCode===c.monthCode&&we.day>c.day)&&(c=we,_=pe)}if("constrain"===t&&void 0!==_)return _;throw new RangeError(`No recent ${this.id} year with monthCode ${E} and day ${m}`)}}class EAe extends eC{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(r){const{year:t}=r;return(7*t+1)%19<7}monthsInYear(r){return this.inLeapYear(r)?13:12}minimumMonthLength(r){return this.minMaxMonthLength(r,"min")}maximumMonthLength(r){return this.minMaxMonthLength(r,"max")}minMaxMonthLength(r,t){const{month:i,year:s}=r,o=this.getMonthCode(s,i),a=rG(this.months).find(_=>_[1].monthCode===o);if(void 0===a)throw new RangeError(`unmatched Hebrew month: ${i}`);const c=a[1].days;return"number"==typeof c?c:c[t]}estimateIsoDate(r){const{year:t}=r;return{year:t-3760,month:1,day:1}}getMonthCode(r,t){return this.inLeapYear({year:r})?6===t?lg(5,!0):lg(t<6?t:t-1):lg(t)}adjustCalendarDate(r,t,i="constrain",s=!1){let{year:o,eraYear:a,month:c,monthCode:_,day:E,monthExtra:m}=r;if(void 0===o&&void 0!==a&&(o=a),void 0===a&&void 0!==o&&(a=o),s){if(m){const j=this.months[m];if(!j)throw new RangeError(`Unrecognized month from formatToParts: ${m}`);c=this.inLeapYear({year:o})?j.leap:j.regular}return _=this.getMonthCode(o,c),{year:o,month:c,day:E,era:void 0,eraYear:a,monthCode:_}}if(this.validateCalendarDate(r),void 0===c)if(_.endsWith("L")){if("M05L"!==_)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${_}`);if(c=6,!this.inLeapYear({year:o})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);c=6,_="M06"}}else{c=iG(_),this.inLeapYear({year:o})&&c>=6&&c++;const j=this.monthsInYear({year:o});if(c<1||c>j)throw new RangeError(`Invalid monthCode: ${_}`)}else if("reject"===i?(_c(c,1,this.monthsInYear({year:o})),_c(E,1,this.maximumMonthLength({year:o,month:c}))):(c=Nd(c,1,this.monthsInYear({year:o})),E=Nd(E,1,this.maximumMonthLength({year:o,month:c}))),void 0===_)_=this.getMonthCode(o,c);else if(this.getMonthCode(o,c)!==_)throw new RangeError(`monthCode ${_} doesn't correspond to month ${c} in Hebrew year ${o}`);return{...r,day:E,month:c,monthCode:_,year:o,eraYear:a}}}class tC extends eC{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(r,t){return 30===this.daysInMonth({year:r.year,month:12,day:1},t)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(r){const{year:t}=this.adjustCalendarDate(r);return{year:xAe(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class gse extends tC{constructor(){super(...arguments),this.id="islamic"}}class SAe extends tC{constructor(){super(...arguments),this.id="islamic-umalqura"}}class CAe extends tC{constructor(){super(...arguments),this.id="islamic-tbla"}}class AAe extends tC{constructor(){super(...arguments),this.id="islamic-civil"}}class TAe extends tC{constructor(){super(...arguments),this.id="islamic-rgsa"}}class DAe extends tC{constructor(){super(...arguments),this.id="islamicc"}}class MAe extends eC{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(r,t){return gse.prototype.inLeapYear.call(this,r,t)}monthsInYear(){return 12}minimumMonthLength(r){const{month:t}=r;return 12===t?29:t<=6?31:30}maximumMonthLength(r){const{month:t}=r;return 12===t?30:t<=6?31:30}estimateIsoDate(r){const{year:t}=this.adjustCalendarDate(r);return{year:t+621,month:1,day:1}}}class kAe extends eC{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(r){return yse(r.year+78)}monthsInYear(){return 12}minimumMonthLength(r){return this.getMonthInfo(r).length}maximumMonthLength(r){return this.getMonthInfo(r).length}getMonthInfo(r){const{month:t}=r;let i=this.months[t];if(void 0===i)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(r)&&i.leap&&(i=i.leap),i}estimateIsoDate(r){const t=this.adjustCalendarDate(r),i=this.getMonthInfo(t);return ww(t.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(r){if(this.vulnerableToBceBug&&r.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function yse(n){return n%4==0&&(n%100!=0||n%400==0)}class O3 extends eC{constructor(r,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=r;const{eras:i,anchorEra:s}=function(a){let c,_=a;if(0===_.length)throw new RangeError("Invalid era data: eras are required");if(1===_.length&&_[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===_.length&&!_[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(_.filter(m=>null!=m.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");_.forEach(m=>{if(m.isAnchor||!m.anchorEpoch&&!m.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=m,m.anchorEpoch={year:m.hasYearZero?0:1}}else if(!m.name)throw new RangeError("If era name is blank, it must be the anchor era")}),_=_.filter(m=>m.name),_.forEach(m=>{const{reverseOf:j}=m;if(j){const oe=_.find(le=>le.name===j);if(void 0===oe)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${j}`);m.reverseOf=oe,m.anchorEpoch=oe.anchorEpoch,m.isoEpoch=oe.isoEpoch}void 0===m.anchorEpoch.month&&(m.anchorEpoch.month=1),void 0===m.anchorEpoch.day&&(m.anchorEpoch.day=1)}),_Ae.call(_,(m,j)=>{if(m.reverseOf)return 1;if(j.reverseOf)return-1;if(!m.isoEpoch||!j.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return j.isoEpoch.year-m.isoEpoch.year});const E=_[_.length-1].reverseOf;if(E&&E!==_[_.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return _.forEach((m,j)=>{m.genericName="era"+(_.length-1-j)}),{eras:_,anchorEra:c||_[0]}}(t);this.anchorEra=s,this.eras=i}inLeapYear(r){const{year:t}=this.estimateIsoDate({month:1,day:1,year:r.year});return yse(t)}monthsInYear(){return 12}minimumMonthLength(r){const{month:t}=r;return 2===t?this.inLeapYear(r)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(r){return this.minimumMonthLength(r)}completeEraYear(r){const t=(c,_)=>{const E=r[c];if(null!=E&&E!=_)throw new RangeError(`Input ${c} ${E} doesn't match calculated value ${_}`)},i=c=>{let _;const E={...r,year:c},m=this.eras.find((j,oe)=>{if(oe===this.eras.length-1){if(j.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${j.name}`);return _=j.anchorEpoch.year-c,!0}return _=c-j.anchorEpoch.year+(j.hasYearZero?0:1),!0}return this.compareCalendarDates(E,j.anchorEpoch)>=0&&(_=c-j.anchorEpoch.year+(j.hasYearZero?0:1),!0)});if(!m)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:_,era:m.name}};let{year:s,eraYear:o,era:a}=r;if(null!=s)({eraYear:o,era:a}=i(s)),t("era",a),t("eraYear",o);else{if(null==o)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=void 0===a?void 0:this.eras.find(_=>_.name===a||_.genericName===a);if(!c)throw new RangeError(`Era ${a} (ISO year ${o}) was not matched by any era`);if(o<1&&c.reverseOf)throw new RangeError(`Years in ${a} era must be positive, not ${s}`);s=c.reverseOf?c.anchorEpoch.year-o:o+c.anchorEpoch.year-(c.hasYearZero?0:1),t("year",s),({eraYear:o,era:a}=i(s))}}return{...r,year:s,eraYear:o,era:a}}adjustCalendarDate(r,t,i="constrain"){let s=r;const{month:o,monthCode:a}=s;return void 0===o&&(s={...s,month:iG(a)}),this.validateCalendarDate(s),s=this.completeEraYear(s),super.adjustCalendarDate(s,t,i)}estimateIsoDate(r){const t=this.adjustCalendarDate(r),{year:i,month:s,day:o}=t,{anchorEra:a}=this;return MF(i+a.isoEpoch.year-(a.hasYearZero?0:1),s,o,"constrain")}checkIcuBugs(r){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&qv(r.year,r.month,r.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class oG extends O3{constructor(r,t){super(r,t)}inLeapYear(r){const{year:t}=r;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(r){const{month:t}=r;return 13===t?this.inLeapYear(r)?6:5:30}maximumMonthLength(r){return this.minimumMonthLength(r)}}class IAe extends oG{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class PAe extends oG{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class OAe extends oG{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class RAe extends O3{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class FAe extends O3{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class NAe extends O3{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(r){let{era:t,eraYear:i}=r;return"bc"!==t&&"b"!==t||(t="bce"),"ad"!==t&&"a"!==t||(t="ce"),{era:t,eraYear:i}}}class BAe extends O3{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(r,t){const{era:i,eraYear:s}=r,{year:o}=t;return this.eras.find(a=>a.name===i)?{era:i,eraYear:s}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}}class vse extends eC{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(r,t){const i=this.getMonthList(r.year,t);return 13===rG(i).length}monthsInYear(r,t){return this.inLeapYear(r,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(r,t){if(void 0===r)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:r,id:this.id}),s=t.get(i);if(s)return s;const o=this.getFormatter(),a=(we,Oe)=>{const Pe=mse({isoYear:we,isoMonth:2,isoDay:1}),Ie=new Date(Pe);Ie.setUTCDate(Oe+1);const $e=o.formatToParts(Ie),Je=$e.find(ot=>"month"===ot.type).value,Qe=+$e.find(ot=>"day"===ot.type).value;let tt=$e.find(ot=>"relatedYear"===ot.type);if(void 0===tt)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return tt=+tt.value,{calendarMonthString:Je,calendarDay:Qe,calendarYearToVerify:tt}};let c=17,{calendarMonthString:_,calendarDay:E,calendarYearToVerify:m}=a(r,c);"1"!==_&&(c+=29,({calendarMonthString:_,calendarDay:E}=a(r,c))),c-=E-5;const j={};let oe,le,ue=1,pe=!1;do{({calendarMonthString:_,calendarDay:E,calendarYearToVerify:m}=a(r,c)),oe&&(j[le].daysInMonth=oe+30-E),m!==r?pe=!0:(j[_]={monthIndex:ue++},c+=30),oe=E,le=_}while(!pe);return j[le].daysInMonth=oe+30-E,t.set(i,j),j}estimateIsoDate(r){const{year:t,month:i}=r;return{year:t,month:i>=12?12:i+1,day:1}}adjustCalendarDate(r,t,i="constrain",s=!1){let{year:o,month:a,monthExtra:c,day:_,monthCode:E,eraYear:m}=r;if(s){if(o=m,c&&"bis"!==c)throw new RangeError(`Unexpected leap month suffix: ${c}`);const j=lg(a,void 0!==c),oe=`${a}${c||""}`,le=this.getMonthList(o,t)[oe];if(void 0===le)throw new RangeError(`Unmatched month ${oe} in Chinese year ${o}`);return a=le.monthIndex,{year:o,month:a,day:_,era:void 0,eraYear:m,monthCode:j}}if(this.validateCalendarDate(r),void 0===o&&(o=m),void 0===m&&(m=o),void 0===a){const j=this.getMonthList(o,t);let oe=E.replace("L","bis").slice(1);"0"===oe[0]&&(oe=oe.slice(1));let le=j[oe];if(a=le&&le.monthIndex,void 0===a&&E.endsWith("L")&&"M13L"!=E&&"constrain"===i){let ue=E.slice(1,-1);"0"===ue[0]&&(ue=ue.slice(1)),le=j[ue],le&&(a=le.monthIndex,E=lg(ue))}if(void 0===a)throw new RangeError(`Unmatched month ${E} in Chinese year ${o}`)}else if(void 0===E){const j=this.getMonthList(o,t),oe=rG(j),le=oe.length;"reject"===i?(_c(a,1,le),_c(_,1,this.maximumMonthLength())):(a=Nd(a,1,le),_=Nd(_,1,this.maximumMonthLength()));const ue=oe.find(([,pe])=>pe.monthIndex===a);if(void 0===ue)throw new RangeError(`Invalid month ${a} in Chinese year ${o}`);E=lg(ue[0].replace("bis",""),-1!==ue[0].indexOf("bis"))}else{const j=this.getMonthList(o,t);let oe=E.replace("L","bis").slice(1);"0"===oe[0]&&(oe=oe.slice(1));const le=j[oe];if(!le)throw new RangeError(`Unmatched monthCode ${E} in Chinese year ${o}`);if(a!==le.monthIndex)throw new RangeError(`monthCode ${E} doesn't correspond to month ${a} in Chinese year ${o}`)}return{...r,year:o,eraYear:m,month:a,monthCode:E,day:_}}}class LAe extends vse{constructor(){super(...arguments),this.id="chinese"}}class jAe extends vse{constructor(){super(...arguments),this.id="dangi"}}class $Ae{constructor(r){this.helper=r}dateFromFields(r,t,i){const s=new co,o=_i(r,this.fields(["day","month","monthCode","year"]),[]),a=Wo(t),{year:c,month:_,day:E}=this.helper.calendarToIsoDate(o,a,s),m=sf(c,_,E,i);return s.setObject(m),m}yearMonthFromFields(r,t,i){const s=new co,o=_i(r,this.fields(["month","monthCode","year"]),[]),a=Wo(t),{year:c,month:_,day:E}=this.helper.calendarToIsoDate({...o,day:1},a,s),m=S3(c,_,i,E);return s.setObject(m),m}monthDayFromFields(r,t,i){const s=new co,o=_i(r,this.fields(["day","month","monthCode","year"]),[]),a=Wo(t),{year:c,month:_,day:E}=this.helper.monthDayFromFields(o,a,s),m=E3(_,E,i,c);return s.setObject(m),m}fields(r){let t=r;return use.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(r){const t=new fse;for(let i=0;i<r.length;i++){const s=r[i];switch(_r(Kc,t,[s]),s){case"era":_r(Kc,t,["eraYear"]),_r(Kc,t,["year"]);break;case"eraYear":_r(Kc,t,["era"]),_r(Kc,t,["year"]);break;case"year":_r(Kc,t,["era"]),_r(Kc,t,["eraYear"]);break;case"month":_r(Kc,t,["monthCode"]),this.helper.erasBeginMidYear&&(_r(Kc,t,["era"]),_r(Kc,t,["eraYear"]));break;case"monthCode":_r(Kc,t,["month"]),this.helper.erasBeginMidYear&&(_r(Kc,t,["era"]),_r(Kc,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(_r(Kc,t,["era"]),_r(Kc,t,["eraYear"]))}}return[..._r(pse,t,[])]}dateAdd(r,t,i,s,o,a,c){const _=co.getCacheForObject(r),E=this.helper.temporalToCalendarDate(r,_),m=this.helper.addCalendar(E,{years:t,months:i,weeks:s,days:o},a,_),j=this.helper.calendarToIsoDate(m,"constrain",_),{year:oe,month:le,day:ue}=j,pe=sf(oe,le,ue,c);return new co(_).setObject(pe),pe}dateUntil(r,t,i){const s=co.getCacheForObject(r),o=co.getCacheForObject(t),a=this.helper.temporalToCalendarDate(r,s),c=this.helper.temporalToCalendarDate(t,o);return this.helper.untilCalendar(a,c,i,s)}year(r){const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).year}month(r){const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).month}day(r){const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).day}era(r){if(!this.helper.hasEra)return;const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).era}eraYear(r){if(!this.helper.hasEra)return;const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).eraYear}monthCode(r){const t=co.getCacheForObject(r);return this.helper.temporalToCalendarDate(r,t).monthCode}dayOfWeek(r){return Qs.iso8601.dayOfWeek(r)}dayOfYear(r){const t=co.getCacheForObject(r),i=this.helper.isoToCalendarDate(r,t),s=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(s,i,t)+1}weekOfYear(r){return Qs.iso8601.weekOfYear(r)}yearOfWeek(r){return Qs.iso8601.yearOfWeek(r)}daysInWeek(r){return Qs.iso8601.daysInWeek(r)}daysInMonth(r){const t=co.getCacheForObject(r),i=this.helper.temporalToCalendarDate(r,t),s=this.helper.maximumMonthLength(i);if(s===this.helper.minimumMonthLength(i))return s;const o=this.helper.startOfCalendarMonth(i),a=this.helper.addMonthsCalendar(o,1,"constrain",t);return this.helper.calendarDaysUntil(o,a,t)}daysInYear(r){let t=r;Ma(t,er)||(t=ds(t));const i=co.getCacheForObject(t),s=this.helper.temporalToCalendarDate(t,i),o=this.helper.startOfCalendarYear(s),a=this.helper.addCalendar(o,{years:1},"constrain",i);return this.helper.calendarDaysUntil(o,a,i)}monthsInYear(r){const t=co.getCacheForObject(r),i=this.helper.temporalToCalendarDate(r,t);return this.helper.monthsInYear(i,t)}inLeapYear(r){let t=r;Ma(t,er)||(t=ds(t));const i=co.getCacheForObject(t),s=this.helper.temporalToCalendarDate(t,i);return this.helper.inLeapYear(s,i)}}for(const n of[EAe,MAe,OAe,IAe,PAe,LAe,jAe,RAe,kAe,FAe,NAe,BAe,gse,SAe,CAe,AAe,TAe,DAe]){const r=new n;Qs[r.id]=new $Ae(r)}class R3{constructor(r,t,i,s="iso8601"){aie(this,Hi(r),Hi(t),Hi(i),Fd(s))}get calendarId(){if(!Mi(this))throw new TypeError("invalid receiver");return bc(Fe(this,vn))}get era(){if(!Mi(this))throw new TypeError("invalid receiver");return BF(Fe(this,vn),this)}get eraYear(){if(!Mi(this))throw new TypeError("invalid receiver");return LF(Fe(this,vn),this)}get year(){if(!Mi(this))throw new TypeError("invalid receiver");return FF(Fe(this,vn),this)}get month(){if(!Mi(this))throw new TypeError("invalid receiver");return NF(Fe(this,vn),this)}get monthCode(){if(!Mi(this))throw new TypeError("invalid receiver");return C3(Fe(this,vn),this)}get day(){if(!Mi(this))throw new TypeError("invalid receiver");return A3(Fe(this,vn),this)}get dayOfWeek(){if(!Mi(this))throw new TypeError("invalid receiver");return kH(Fe(this,vn),this)}get dayOfYear(){if(!Mi(this))throw new TypeError("invalid receiver");return IH(Fe(this,vn),this)}get weekOfYear(){if(!Mi(this))throw new TypeError("invalid receiver");return PH(Fe(this,vn),this)}get yearOfWeek(){if(!Mi(this))throw new TypeError("invalid receiver");return OH(Fe(this,vn),this)}get daysInWeek(){if(!Mi(this))throw new TypeError("invalid receiver");return RH(Fe(this,vn),this)}get daysInMonth(){if(!Mi(this))throw new TypeError("invalid receiver");return jF(Fe(this,vn),this)}get daysInYear(){if(!Mi(this))throw new TypeError("invalid receiver");return $F(Fe(this,vn),this)}get monthsInYear(){if(!Mi(this))throw new TypeError("invalid receiver");return VF(Fe(this,vn),this)}get inLeapYear(){if(!Mi(this))throw new TypeError("invalid receiver");return UF(Fe(this,vn),this)}with(r,t){if(!Mi(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");FS(r);const i=Ri(t),s=Fe(this,vn),o=sa(s,["day","month","monthCode","year"]);let a=_i(this,o,[]);return a=yw(s,a,_i(r,o,"partial")),a=_i(a,o,[]),tg(s,a,i)}withCalendar(r){if(!Mi(this))throw new TypeError("invalid receiver");const t=Fd(r);return new R3(Fe(this,er),Fe(this,ir),Fe(this,ar),t)}add(r,t){if(!Mi(this))throw new TypeError("invalid receiver");const i=jS(r),s=Ri(t);return vc(Fe(this,vn),this,i,s)}subtract(r,t){if(!Mi(this))throw new TypeError("invalid receiver");const i=Pie(jS(r)),s=Ri(t);return vc(Fe(this,vn),this,i,s)}until(r,t){if(!Mi(this))throw new TypeError("invalid receiver");return jie("until",this,r,t)}since(r,t){if(!Mi(this))throw new TypeError("invalid receiver");return jie("since",this,r,t)}equals(r){if(!Mi(this))throw new TypeError("invalid receiver");const t=ds(r);for(const i of[er,ir,ar])if(Fe(this,i)!==Fe(t,i))return!1;return D3(Fe(this,vn),Fe(t,vn))}toString(r){if(!Mi(this))throw new TypeError("invalid receiver");return vie(this,y3(Ri(r)))}toJSON(){if(!Mi(this))throw new TypeError("invalid receiver");return vie(this)}toLocaleString(r,t){if(!Mi(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(r){if(!Mi(this))throw new TypeError("invalid receiver");const t=Fe(this,er),i=Fe(this,ir),s=Fe(this,ar),o=Fe(this,vn);if(void 0===r)return Rd(t,i,s,0,0,0,0,0,0,o);const a=eg(r);return Rd(t,i,s,Fe(a,ci),Fe(a,li),Fe(a,di),Fe(a,ui),Fe(a,fi),Fe(a,hi),o)}toZonedDateTime(r){if(!Mi(this))throw new TypeError("invalid receiver");let t,i;if(Gs(r))if(rf(r))t=r;else{const ue=r.timeZone;void 0===ue?t=Gc(r):(t=Gc(ue),i=r.plainTime)}else t=Gc(r);const s=Fe(this,er),o=Fe(this,ir),a=Fe(this,ar),c=Fe(this,vn);let _=0,E=0,m=0,j=0,oe=0,le=0;return void 0!==i&&(i=eg(i),_=Fe(i,ci),E=Fe(i,li),m=Fe(i,di),j=Fe(i,ui),oe=Fe(i,fi),le=Fe(i,hi)),yc(Fe(Rl(t,Rd(s,o,a,_,E,m,j,oe,le,c),"compatible"),Pr),t,c)}toPlainYearMonth(){if(!Mi(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return vw(r,_i(this,sa(r,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Mi(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return VS(r,_i(this,sa(r,["day","monthCode"]),[]))}getISOFields(){if(!Mi(this))throw new TypeError("invalid receiver");return{calendar:Fe(this,vn),isoDay:Fe(this,ar),isoMonth:Fe(this,ir),isoYear:Fe(this,er)}}getCalendar(){if(!Mi(this))throw new TypeError("invalid receiver");return $S(Fe(this,vn))}static from(r,t){const i=Ri(t);return Mi(r)?(Wo(i),sf(Fe(r,er),Fe(r,ir),Fe(r,ar),Fe(r,vn))):ds(r,i)}static compare(r,t){const i=ds(r),s=ds(t);return qv(Fe(i,er),Fe(i,ir),Fe(i,ar),Fe(s,er),Fe(s,ir),Fe(s,ar))}}Em(R3,"Temporal.PlainDate");class F3{constructor(r,t,i,s=0,o=0,a=0,c=0,_=0,E=0,m="iso8601"){cie(this,Hi(r),Hi(t),Hi(i),void 0===s?0:Hi(s),void 0===o?0:Hi(o),void 0===a?0:Hi(a),void 0===c?0:Hi(c),void 0===_?0:Hi(_),void 0===E?0:Hi(E),Fd(m))}get calendarId(){if(!ri(this))throw new TypeError("invalid receiver");return bc(Fe(this,vn))}get year(){if(!ri(this))throw new TypeError("invalid receiver");return FF(Fe(this,vn),this)}get month(){if(!ri(this))throw new TypeError("invalid receiver");return NF(Fe(this,vn),this)}get monthCode(){if(!ri(this))throw new TypeError("invalid receiver");return C3(Fe(this,vn),this)}get day(){if(!ri(this))throw new TypeError("invalid receiver");return A3(Fe(this,vn),this)}get hour(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,ci)}get minute(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,li)}get second(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,di)}get millisecond(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,ui)}get microsecond(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,fi)}get nanosecond(){if(!ri(this))throw new TypeError("invalid receiver");return Fe(this,hi)}get era(){if(!ri(this))throw new TypeError("invalid receiver");return BF(Fe(this,vn),this)}get eraYear(){if(!ri(this))throw new TypeError("invalid receiver");return LF(Fe(this,vn),this)}get dayOfWeek(){if(!ri(this))throw new TypeError("invalid receiver");return kH(Fe(this,vn),this)}get dayOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return IH(Fe(this,vn),this)}get weekOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return PH(Fe(this,vn),this)}get yearOfWeek(){if(!ri(this))throw new TypeError("invalid receiver");return OH(Fe(this,vn),this)}get daysInWeek(){if(!ri(this))throw new TypeError("invalid receiver");return RH(Fe(this,vn),this)}get daysInYear(){if(!ri(this))throw new TypeError("invalid receiver");return $F(Fe(this,vn),this)}get daysInMonth(){if(!ri(this))throw new TypeError("invalid receiver");return jF(Fe(this,vn),this)}get monthsInYear(){if(!ri(this))throw new TypeError("invalid receiver");return VF(Fe(this,vn),this)}get inLeapYear(){if(!ri(this))throw new TypeError("invalid receiver");return UF(Fe(this,vn),this)}with(r,t){if(!ri(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");FS(r);const i=Ri(t),s=Fe(this,vn),o=sa(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let a=_i(this,o,[]);a=yw(s,a,_i(r,o,"partial")),a=_i(a,o,[]);const{year:c,month:_,day:E,hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}=_3(s,a,i);return Rd(c,_,E,m,j,oe,le,ue,pe,s)}withPlainTime(r){if(!ri(this))throw new TypeError("invalid receiver");const t=Fe(this,er),i=Fe(this,ir),s=Fe(this,ar),o=Fe(this,vn);if(void 0===r)return Rd(t,i,s,0,0,0,0,0,0,o);const a=eg(r);return Rd(t,i,s,Fe(a,ci),Fe(a,li),Fe(a,di),Fe(a,ui),Fe(a,fi),Fe(a,hi),o)}withPlainDate(r){if(!ri(this))throw new TypeError("invalid receiver");const t=ds(r),i=Fe(t,er),s=Fe(t,ir),o=Fe(t,ar);let a=Fe(t,vn);const c=Fe(this,ci),_=Fe(this,li),E=Fe(this,di),m=Fe(this,ui),j=Fe(this,fi),oe=Fe(this,hi);return a=fie(Fe(this,vn),a),Rd(i,s,o,c,_,E,m,j,oe,a)}withCalendar(r){if(!ri(this))throw new TypeError("invalid receiver");const t=Fd(r);return new F3(Fe(this,er),Fe(this,ir),Fe(this,ar),Fe(this,ci),Fe(this,li),Fe(this,di),Fe(this,ui),Fe(this,fi),Fe(this,hi),t)}add(r,t){if(!ri(this))throw new TypeError("invalid receiver");return qie("add",this,r,t)}subtract(r,t){if(!ri(this))throw new TypeError("invalid receiver");return qie("subtract",this,r,t)}until(r,t){if(!ri(this))throw new TypeError("invalid receiver");return $ie("until",this,r,t)}since(r,t){if(!ri(this))throw new TypeError("invalid receiver");return $ie("since",this,r,t)}round(r){if(!ri(this))throw new TypeError("invalid receiver");if(void 0===r)throw new TypeError("options parameter is required");const t="string"==typeof r?KS("smallestUnit",r):Ri(r),i=BS(t),s=yp(t,"halfExpand"),o=Od(t,"smallestUnit","time",pw,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];LS(i,a,1===a);let c=Fe(this,er),_=Fe(this,ir),E=Fe(this,ar),m=Fe(this,ci),j=Fe(this,li),oe=Fe(this,di),le=Fe(this,ui),ue=Fe(this,fi),pe=Fe(this,hi);return({year:c,month:_,day:E,hour:m,minute:j,second:oe,millisecond:le,microsecond:ue,nanosecond:pe}=XH(c,_,E,m,j,oe,le,ue,pe,i,o,s)),Rd(c,_,E,m,j,oe,le,ue,pe,Fe(this,vn))}equals(r){if(!ri(this))throw new TypeError("invalid receiver");const t=gw(r);for(const i of[er,ir,ar,ci,li,di,ui,fi,hi])if(Fe(this,i)!==Fe(t,i))return!1;return D3(Fe(this,vn),Fe(t,vn))}toString(r){if(!ri(this))throw new TypeError("invalid receiver");const t=Ri(r),i=y3(t),s=v3(t),o=yp(t,"trunc"),a=Od(t,"smallestUnit","time",void 0);if("hour"===a)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:_,increment:E}=b3(a,s);return bie(this,c,i,{unit:_,increment:E,roundingMode:o})}toJSON(){if(!ri(this))throw new TypeError("invalid receiver");return bie(this,"auto")}toLocaleString(r,t){if(!ri(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(r,t){if(!ri(this))throw new TypeError("invalid receiver");const i=Gc(r);return yc(Fe(Rl(i,this,NS(Ri(t))),Pr),i,Fe(this,vn))}toPlainDate(){if(!ri(this))throw new TypeError("invalid receiver");return US(this)}toPlainYearMonth(){if(!ri(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return vw(r,_i(this,sa(r,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ri(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return VS(r,_i(this,sa(r,["day","monthCode"]),[]))}toPlainTime(){if(!ri(this))throw new TypeError("invalid receiver");return FH(this)}getISOFields(){if(!ri(this))throw new TypeError("invalid receiver");return{calendar:Fe(this,vn),isoDay:Fe(this,ar),isoHour:Fe(this,ci),isoMicrosecond:Fe(this,fi),isoMillisecond:Fe(this,ui),isoMinute:Fe(this,li),isoMonth:Fe(this,ir),isoNanosecond:Fe(this,hi),isoSecond:Fe(this,di),isoYear:Fe(this,er)}}getCalendar(){if(!ri(this))throw new TypeError("invalid receiver");return $S(Fe(this,vn))}static from(r,t){const i=Ri(t);return ri(r)?(Wo(i),Rd(Fe(r,er),Fe(r,ir),Fe(r,ar),Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi),Fe(r,vn))):gw(r,i)}static compare(r,t){const i=gw(r),s=gw(t);for(const o of[er,ir,ar,ci,li,di,ui,fi,hi]){const a=Fe(i,o),c=Fe(s,o);if(a!==c)return Ew(a-c)}return 0}}Em(F3,"Temporal.PlainDateTime");class Jv{constructor(r=0,t=0,i=0,s=0,o=0,a=0,c=0,_=0,E=0,m=0){const j=void 0===r?0:ka(r),oe=void 0===t?0:ka(t),le=void 0===i?0:ka(i),ue=void 0===s?0:ka(s),pe=void 0===o?0:ka(o),we=void 0===a?0:ka(a),Oe=void 0===c?0:ka(c),Pe=void 0===_?0:ka(_),Ie=void 0===E?0:ka(E),$e=void 0===m?0:ka(m);JF(j,oe,le,ue,pe,we,Oe,Pe,Ie,$e),Cm(this),yi(this,Sl,j),yi(this,Qa,oe),yi(this,od,le),yi(this,Cl,ue),yi(this,Al,pe),yi(this,Tl,we),yi(this,Dl,Oe),yi(this,Ml,Pe),yi(this,kl,Ie),yi(this,Il,$e)}get years(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Sl)}get months(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Qa)}get weeks(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,od)}get days(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Cl)}get hours(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Al)}get minutes(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Tl)}get seconds(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Dl)}get milliseconds(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Ml)}get microseconds(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,kl)}get nanoseconds(){if(!wo(this))throw new TypeError("invalid receiver");return Fe(this,Il)}get sign(){if(!wo(this))throw new TypeError("invalid receiver");return km(Fe(this,Sl),Fe(this,Qa),Fe(this,od),Fe(this,Cl),Fe(this,Al),Fe(this,Tl),Fe(this,Dl),Fe(this,Ml),Fe(this,kl),Fe(this,Il))}get blank(){if(!wo(this))throw new TypeError("invalid receiver");return 0===km(Fe(this,Sl),Fe(this,Qa),Fe(this,od),Fe(this,Cl),Fe(this,Al),Fe(this,Tl),Fe(this,Dl),Fe(this,Ml),Fe(this,kl),Fe(this,Il))}with(r){if(!wo(this))throw new TypeError("invalid receiver");const t=_i(r,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=Fe(this,Sl),months:s=Fe(this,Qa),weeks:o=Fe(this,od),days:a=Fe(this,Cl),hours:c=Fe(this,Al),minutes:_=Fe(this,Tl),seconds:E=Fe(this,Dl),milliseconds:m=Fe(this,Ml),microseconds:j=Fe(this,kl),nanoseconds:oe=Fe(this,Il)}=t;return new Jv(i,s,o,a,c,_,E,m,j,oe)}negated(){if(!wo(this))throw new TypeError("invalid receiver");return Pie(this)}abs(){if(!wo(this))throw new TypeError("invalid receiver");return new Jv(Math.abs(Fe(this,Sl)),Math.abs(Fe(this,Qa)),Math.abs(Fe(this,od)),Math.abs(Fe(this,Cl)),Math.abs(Fe(this,Al)),Math.abs(Fe(this,Tl)),Math.abs(Fe(this,Dl)),Math.abs(Fe(this,Ml)),Math.abs(Fe(this,kl)),Math.abs(Fe(this,Il)))}add(r,t){if(!wo(this))throw new TypeError("invalid receiver");return Wie("add",this,r,t)}subtract(r,t){if(!wo(this))throw new TypeError("invalid receiver");return Wie("subtract",this,r,t)}round(r){if(!wo(this))throw new TypeError("invalid receiver");if(void 0===r)throw new TypeError("options parameter is required");let t=Fe(this,Sl),i=Fe(this,Qa),s=Fe(this,od),o=Fe(this,Cl),a=Fe(this,Al),c=Fe(this,Tl),_=Fe(this,Dl),E=Fe(this,Ml),m=Fe(this,kl),j=Fe(this,Il),oe=MH(t,i,s,o,a,c,_,E,m,j);const le="string"==typeof r?KS("smallestUnit",r):Ri(r);let ue=Od(le,"largestUnit","datetime",void 0,["auto"]),pe=PF(le);const we=BS(le),Oe=yp(le,"halfExpand");let Pe=Od(le,"smallestUnit","datetime",void 0),Ie=!0;Pe||(Ie=!1,Pe="nanosecond"),oe=mw(oe,Pe);let $e=!0;if(ue||($e=!1,ue=oe),"auto"===ue&&(ue=oe),!Ie&&!$e)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(mw(ue,Pe)!==ue)throw new RangeError(`largestUnit ${ue} cannot be smaller than smallestUnit ${Pe}`);const Je={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[Pe];return void 0!==Je&&LS(we,Je,!1),({years:t,months:i,weeks:s,days:o}=YF(t,i,s,o,ue,pe)),({years:t,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:_,milliseconds:E,microseconds:m,nanoseconds:j}=sg(t,i,s,o,a,c,_,E,m,j,we,Pe,Oe,pe)),({years:t,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:_,milliseconds:E,microseconds:m,nanoseconds:j}=Qie(t,i,s,o,a,c,_,E,m,j,we,Pe,Oe,pe)),({days:o,hours:a,minutes:c,seconds:_,milliseconds:E,microseconds:m,nanoseconds:j}=hh(o,a,c,_,E,m,j,ue,pe)),({years:t,months:i,weeks:s,days:o}=function(tt,ot,xt,Ct,Tt,Kt){const Lt=Ln("%Temporal.Duration%"),Xt=km(tt,ot,xt,Ct,0,0,0,0,0,0);if(0===Xt)return{years:tt,months:ot,weeks:xt,days:Ct};const vt=lt.BigInt(Xt);let Et,Dt,jt=lt.BigInt(tt),Ft=lt.BigInt(ot),Jt=lt.BigInt(xt),on=lt.BigInt(Ct);Kt&&(Dt=ds(Kt),Et=Fe(Dt,vn));const dn=new Lt(Xt),Yt=new Lt(0,Xt),Cn=new Lt(0,0,Xt);switch(Tt){case"year":{if(!Et)throw new RangeError("a starting point is required for years balancing");const In="string"!=typeof Et?Qi(Et,"dateAdd"):void 0;let _n,$t,gn;for(({relativeTo:_n,days:$t}=Wc(Et,Dt,dn,In));lt.greaterThanOrEqual(gp(on),lt.BigInt(Hs($t)));)on=lt.subtract(on,lt.BigInt($t)),jt=lt.add(jt,vt),Dt=_n,({relativeTo:_n,days:$t}=Wc(Et,Dt,dn,In));for(({relativeTo:_n,days:gn}=Wc(Et,Dt,Yt,In));lt.greaterThanOrEqual(gp(on),lt.BigInt(Hs(gn)));)on=lt.subtract(on,lt.BigInt(gn)),Ft=lt.add(Ft,vt),Dt=_n,({relativeTo:_n,days:gn}=Wc(Et,Dt,Yt,In));_n=vc(Et,Dt,dn,void 0,In);const un="string"!=typeof Et?Qi(Et,"dateUntil"):void 0,pn=Hc(null);pn.largestUnit="month";let Gt=Hv(Et,Dt,_n,pn,un),Ht=Fe(Gt,Qa);for(;lt.greaterThanOrEqual(gp(Ft),lt.BigInt(Hs(Ht)));){Ft=lt.subtract(Ft,lt.BigInt(Ht)),jt=lt.add(jt,vt),Dt=_n,_n=vc(Et,Dt,dn,void 0,In);const yn=Hc(null);yn.largestUnit="month",Gt=Hv(Et,Dt,_n,yn,un),Ht=Fe(Gt,Qa)}break}case"month":{if(!Et)throw new RangeError("a starting point is required for months balancing");const In="string"!=typeof Et?Qi(Et,"dateAdd"):void 0;let _n,$t;for(({relativeTo:_n,days:$t}=Wc(Et,Dt,Yt,In));lt.greaterThanOrEqual(gp(on),lt.BigInt(Hs($t)));)on=lt.subtract(on,lt.BigInt($t)),Ft=lt.add(Ft,vt),Dt=_n,({relativeTo:_n,days:$t}=Wc(Et,Dt,Yt,In));break}case"week":{if(!Et)throw new RangeError("a starting point is required for weeks balancing");const In="string"!=typeof Et?Qi(Et,"dateAdd"):void 0;let _n,$t;for(({relativeTo:_n,days:$t}=Wc(Et,Dt,Cn,In));lt.greaterThanOrEqual(gp(on),lt.BigInt(Hs($t)));)on=lt.subtract(on,lt.BigInt($t)),Jt=lt.add(Jt,vt),Dt=_n,({relativeTo:_n,days:$t}=Wc(Et,Dt,Cn,In));break}}return{years:lt.toNumber(jt),months:lt.toNumber(Ft),weeks:lt.toNumber(Jt),days:lt.toNumber(on)}}(t,i,s,o,ue,pe)),new Jv(t,i,s,o,a,c,_,E,m,j)}total(r){if(!wo(this))throw new TypeError("invalid receiver");let t=Fe(this,Sl),i=Fe(this,Qa),s=Fe(this,od),o=Fe(this,Cl),a=Fe(this,Al),c=Fe(this,Tl),_=Fe(this,Dl),E=Fe(this,Ml),m=Fe(this,kl),j=Fe(this,Il);if(void 0===r)throw new TypeError("options argument is required");const oe="string"==typeof r?KS("unit",r):Ri(r),le=PF(oe),ue=Od(oe,"unit","datetime",pw);let pe;({years:t,months:i,weeks:s,days:o}=YF(t,i,s,o,ue,le)),hr(le)&&(pe=Jie(le,t,i,s,0));let we=kie(o,a,c,_,E,m,j,ue,pe);if("positive overflow"===we)return 1/0;if("negative overflow"===we)return-1/0;({days:o,hours:a,minutes:c,seconds:_,milliseconds:E,microseconds:m,nanoseconds:j}=we);const{total:Oe}=sg(t,i,s,o,a,c,_,E,m,j,1,ue,"trunc",le);return Oe}toString(r){if(!wo(this))throw new TypeError("invalid receiver");const t=Ri(r),i=v3(t),s=yp(t,"trunc"),o=Od(t,"smallestUnit","time",void 0);if("hour"===o||"minute"===o)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:a,unit:c,increment:_}=b3(o,i);return BH(this,a,{unit:c,increment:_,roundingMode:s})}toJSON(){if(!wo(this))throw new TypeError("invalid receiver");return BH(this)}toLocaleString(r,t){if(!wo(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(r,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),BH(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(r){return wo(r)?new Jv(Fe(r,Sl),Fe(r,Qa),Fe(r,od),Fe(r,Cl),Fe(r,Al),Fe(r,Tl),Fe(r,Dl),Fe(r,Ml),Fe(r,kl),Fe(r,Il)):jS(r)}static compare(r,t,i){const s=jS(r),o=jS(t),a=PF(Ri(i)),c=Fe(s,Sl),_=Fe(s,Qa),E=Fe(s,od);let m=Fe(s,Cl);const j=Fe(s,Al),oe=Fe(s,Tl),le=Fe(s,Dl),ue=Fe(s,Ml),pe=Fe(s,kl);let we=Fe(s,Il);const Oe=Fe(o,Sl),Pe=Fe(o,Qa),Ie=Fe(o,od);let $e=Fe(o,Cl);const Je=Fe(o,Al),Qe=Fe(o,Tl),tt=Fe(o,Dl),ot=Fe(o,Ml),xt=Fe(o,kl);let Ct=Fe(o,Il);const Tt=Iie(a,c,_,E,m),Kt=Iie(a,Oe,Pe,Ie,$e);0===c&&0===Oe&&0===_&&0===Pe&&0===E&&0===Ie||(({days:m}=YF(c,_,E,m,"day",a)),({days:$e}=YF(Oe,Pe,Ie,$e,"day",a)));const Lt=HS(m,j,oe,le,ue,pe,we,Tt),Xt=HS($e,Je,Qe,tt,ot,xt,Ct,Kt);return Ew(lt.toNumber(lt.subtract(Lt,Xt)))}}Em(Jv,"Temporal.Duration");const VAe=Object.create;class aG{constructor(r,t,i="iso8601",s=1972){lie(this,Hi(r),Hi(t),Fd(i),Hi(s))}get monthCode(){if(!Ia(this))throw new TypeError("invalid receiver");return C3(Fe(this,vn),this)}get day(){if(!Ia(this))throw new TypeError("invalid receiver");return A3(Fe(this,vn),this)}get calendarId(){if(!Ia(this))throw new TypeError("invalid receiver");return bc(Fe(this,vn))}with(r,t){if(!Ia(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");FS(r);const i=Ri(t),s=Fe(this,vn),o=sa(s,["day","month","monthCode","year"]);let a=_i(this,o,[]);return a=yw(s,a,_i(r,o,"partial")),a=_i(a,o,[]),VS(s,a,i)}equals(r){if(!Ia(this))throw new TypeError("invalid receiver");const t=oie(r);for(const i of[ir,ar,er])if(Fe(this,i)!==Fe(t,i))return!1;return D3(Fe(this,vn),Fe(t,vn))}toString(r){if(!Ia(this))throw new TypeError("invalid receiver");return _ie(this,y3(Ri(r)))}toJSON(){if(!Ia(this))throw new TypeError("invalid receiver");return _ie(this)}toLocaleString(r,t){if(!Ia(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(r){if(!Ia(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("argument should be an object");const t=Fe(this,vn),i=sa(t,["day","monthCode"]),s=_i(this,i,[]),o=sa(t,["year"]);let a=yw(t,s,_i(r,o,[]));a=_i(a,[...new Set([...i,...o])],[]);const c=VAe(null);return c.overflow="reject",tg(t,a,c)}getISOFields(){if(!Ia(this))throw new TypeError("invalid receiver");return{calendar:Fe(this,vn),isoDay:Fe(this,ar),isoMonth:Fe(this,ir),isoYear:Fe(this,er)}}getCalendar(){if(!Ia(this))throw new TypeError("invalid receiver");return $S(Fe(this,vn))}static from(r,t){const i=Ri(t);return Ia(r)?(Wo(i),E3(Fe(r,ir),Fe(r,ar),Fe(r,vn),Fe(r,er))):oie(r,i)}}Em(aG,"Temporal.PlainMonthDay");const cG=()=>new(Ln("%Temporal.Instant%"))(ZH()),bse=(n,r=Xv())=>{const t=Gc(r),i=Fd(n);return lu(t,cG(),i)},lG=(n=Xv())=>lu(Gc(n),cG(),"iso8601"),_se=(n,r=Xv())=>{const t=Gc(r),i=Fd(n);return yc(ZH(),t,i)},wse={instant:cG,plainDateTime:bse,plainDateTimeISO:lG,plainDate:(n,r=Xv())=>US(bse(n,r)),plainDateISO:(n=Xv())=>US(lG(n)),plainTimeISO:(n=Xv())=>FH(lG(n)),timeZoneId:()=>Xv(),zonedDateTime:_se,zonedDateTimeISO:(n=Xv())=>_se("iso8601",n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(wse,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const UAe=Object.assign;function xse(n,r,t){let i=Fe(n,ci),s=Fe(n,li),o=Fe(n,di),a=Fe(n,ui),c=Fe(n,fi),_=Fe(n,hi);if(t){const{unit:E,increment:m,roundingMode:j}=t;({hour:i,minute:s,second:o,millisecond:a,microsecond:c,nanosecond:_}=YH(i,s,o,a,c,_,m,E,j))}return`${Js(i)}:${Js(s)}${GF(o,a,c,_,r)}`}class Cw{constructor(r=0,t=0,i=0,s=0,o=0,a=0){const c=void 0===r?0:Hi(r),_=void 0===t?0:Hi(t),E=void 0===i?0:Hi(i),m=void 0===s?0:Hi(s),j=void 0===o?0:Hi(o),oe=void 0===a?0:Hi(a);ZF(c,_,E,m,j,oe),Cm(this),yi(this,ci,c),yi(this,li,_),yi(this,di,E),yi(this,ui,m),yi(this,fi,j),yi(this,hi,oe)}get hour(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,ci)}get minute(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,li)}get second(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,di)}get millisecond(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,ui)}get microsecond(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,fi)}get nanosecond(){if(!xo(this))throw new TypeError("invalid receiver");return Fe(this,hi)}with(r,t){if(!xo(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");FS(r);const i=Wo(Ri(t)),s=OF(r,"partial"),o=OF(this);let{hour:a,minute:c,second:_,millisecond:E,microsecond:m,nanosecond:j}=UAe(o,s);return({hour:a,minute:c,second:_,millisecond:E,microsecond:m,nanosecond:j}=kF(a,c,_,E,m,j,i)),new Cw(a,c,_,E,m,j)}add(r){if(!xo(this))throw new TypeError("invalid receiver");return Xie("add",this,r)}subtract(r){if(!xo(this))throw new TypeError("invalid receiver");return Xie("subtract",this,r)}until(r,t){if(!xo(this))throw new TypeError("invalid receiver");return Vie("until",this,r,t)}since(r,t){if(!xo(this))throw new TypeError("invalid receiver");return Vie("since",this,r,t)}round(r){if(!xo(this))throw new TypeError("invalid receiver");if(void 0===r)throw new TypeError("options parameter is required");const t="string"==typeof r?KS("smallestUnit",r):Ri(r),i=BS(t),s=yp(t,"halfExpand"),o=Od(t,"smallestUnit","time",pw);LS(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1);let a=Fe(this,ci),c=Fe(this,li),_=Fe(this,di),E=Fe(this,ui),m=Fe(this,fi),j=Fe(this,hi);return({hour:a,minute:c,second:_,millisecond:E,microsecond:m,nanosecond:j}=YH(a,c,_,E,m,j,i,o,s)),new Cw(a,c,_,E,m,j)}equals(r){if(!xo(this))throw new TypeError("invalid receiver");const t=eg(r);for(const i of[ci,li,di,ui,fi,hi])if(Fe(this,i)!==Fe(t,i))return!1;return!0}toString(r){if(!xo(this))throw new TypeError("invalid receiver");const t=Ri(r),i=v3(t),s=yp(t,"trunc"),o=Od(t,"smallestUnit","time",void 0);if("hour"===o)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:a,unit:c,increment:_}=b3(o,i);return xse(this,a,{unit:c,increment:_,roundingMode:s})}toJSON(){if(!xo(this))throw new TypeError("invalid receiver");return xse(this,"auto")}toLocaleString(r,t){if(!xo(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(r){if(!xo(this))throw new TypeError("invalid receiver");const t=ds(r),i=Fe(t,er),s=Fe(t,ir),o=Fe(t,ar),a=Fe(t,vn);return Rd(i,s,o,Fe(this,ci),Fe(this,li),Fe(this,di),Fe(this,ui),Fe(this,fi),Fe(this,hi),a)}toZonedDateTime(r){if(!xo(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");const t=r.plainDate;if(void 0===t)throw new TypeError("missing date property");const i=ds(t),s=r.timeZone;if(void 0===s)throw new TypeError("missing timeZone property");const o=Gc(s),a=Fe(i,er),c=Fe(i,ir),_=Fe(i,ar),E=Fe(i,vn),m=Fe(this,ci),j=Fe(this,li),oe=Fe(this,di),le=Fe(this,ui),ue=Fe(this,fi),pe=Fe(this,hi);return yc(Fe(Rl(o,new(Ln("%Temporal.PlainDateTime%"))(a,c,_,m,j,oe,le,ue,pe,E),"compatible"),Pr),o,E)}getISOFields(){if(!xo(this))throw new TypeError("invalid receiver");return{isoHour:Fe(this,ci),isoMicrosecond:Fe(this,fi),isoMillisecond:Fe(this,ui),isoMinute:Fe(this,li),isoNanosecond:Fe(this,hi),isoSecond:Fe(this,di)}}static from(r,t){const i=Wo(Ri(t));return xo(r)?new Cw(Fe(r,ci),Fe(r,li),Fe(r,di),Fe(r,ui),Fe(r,fi),Fe(r,hi)):eg(r,i)}static compare(r,t){const i=eg(r),s=eg(t);for(const o of[ci,li,di,ui,fi,hi]){const a=Fe(i,o),c=Fe(s,o);if(a!==c)return Ew(a-c)}return 0}}Em(Cw,"Temporal.PlainTime");class N3{constructor(r){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=LH(r);Cm(this),yi(this,Sm,t)}get id(){if(!rf(this))throw new TypeError("invalid receiver");return Fe(this,Sm)}getOffsetNanosecondsFor(r){if(!rf(this))throw new TypeError("invalid receiver");const t=vp(r),i=Fe(this,Sm);return zS(i)?Gv(i):ng(i,Fe(t,Pr))}getOffsetStringFor(r){if(!rf(this))throw new TypeError("invalid receiver");return NH(this,vp(r))}getPlainDateTimeFor(r,t="iso8601"){if(!rf(this))throw new TypeError("invalid receiver");return lu(this,vp(r),Fd(t))}getInstantFor(r,t){if(!rf(this))throw new TypeError("invalid receiver");return Rl(this,gw(r),NS(Ri(t)))}getPossibleInstantsFor(r){if(!rf(this))throw new TypeError("invalid receiver");const t=gw(r),i=Ln("%Temporal.Instant%"),s=Fe(this,Sm);if(zS(s)){const a=Wv(Fe(t,er),Fe(t,ir),Fe(t,ar),Fe(t,ci),Fe(t,li),Fe(t,di),Fe(t,ui),Fe(t,fi),Fe(t,hi));if(null===a)throw new RangeError("DateTime outside of supported range");const c=Gv(s);return[new i(lt.subtract(a,lt.BigInt(c)))]}return function(c,_,E,m,j,oe,le,ue,pe,we){const Oe=Wv(_,E,m,j,oe,le,ue,pe,we);if(null===Oe)throw new RangeError("DateTime outside of supported range");let Pe=lt.subtract(Oe,Dm);lt.lessThan(Pe,m3)&&(Pe=Oe);let Ie=lt.add(Oe,Dm);lt.greaterThan(Ie,IS)&&(Ie=Oe);const $e=ng(c,Pe),Je=ng(c,Ie);return($e===Je?[$e]:[$e,Je]).map(Qe=>{const tt=lt.subtract(Oe,lt.BigInt(Qe)),ot=Cie(c,tt);if(_===ot.year&&E===ot.month&&m===ot.day&&j===ot.hour&&oe===ot.minute&&le===ot.second&&ue===ot.millisecond&&pe===ot.microsecond&&we===ot.nanosecond)return tt}).filter(Qe=>void 0!==Qe)}(s,Fe(t,er),Fe(t,ir),Fe(t,ar),Fe(t,ci),Fe(t,li),Fe(t,di),Fe(t,ui),Fe(t,fi),Fe(t,hi)).map(a=>new i(a))}getNextTransition(r){if(!rf(this))throw new TypeError("invalid receiver");const t=vp(r),i=Fe(this,Sm);if(zS(i)||"UTC"===i)return null;let s=Fe(t,Pr);const o=Ln("%Temporal.Instant%");return s=Die(i,s),null===s?null:new o(s)}getPreviousTransition(r){if(!rf(this))throw new TypeError("invalid receiver");const t=vp(r),i=Fe(this,Sm);if(zS(i)||"UTC"===i)return null;let s=Fe(t,Pr);const o=Ln("%Temporal.Instant%");return s=jH(i,s),null===s?null:new o(s)}toString(){if(!rf(this))throw new TypeError("invalid receiver");return Fe(this,Sm)}toJSON(){if(!rf(this))throw new TypeError("invalid receiver");return Fe(this,Sm)}static from(r){return hie(Gc(r))}}Em(N3,"Temporal.TimeZone"),oo("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",N3.prototype.getOffsetNanosecondsFor),oo("Temporal.TimeZone.prototype.getPossibleInstantsFor",N3.prototype.getPossibleInstantsFor);const zAe=Object.create;class dG{constructor(r,t,i="iso8601",s=1){die(this,Hi(r),Hi(t),Fd(i),Hi(s))}get year(){if(!qi(this))throw new TypeError("invalid receiver");return FF(Fe(this,vn),this)}get month(){if(!qi(this))throw new TypeError("invalid receiver");return NF(Fe(this,vn),this)}get monthCode(){if(!qi(this))throw new TypeError("invalid receiver");return C3(Fe(this,vn),this)}get calendarId(){if(!qi(this))throw new TypeError("invalid receiver");return bc(Fe(this,vn))}get era(){if(!qi(this))throw new TypeError("invalid receiver");return BF(Fe(this,vn),this)}get eraYear(){if(!qi(this))throw new TypeError("invalid receiver");return LF(Fe(this,vn),this)}get daysInMonth(){if(!qi(this))throw new TypeError("invalid receiver");return jF(Fe(this,vn),this)}get daysInYear(){if(!qi(this))throw new TypeError("invalid receiver");return $F(Fe(this,vn),this)}get monthsInYear(){if(!qi(this))throw new TypeError("invalid receiver");return VF(Fe(this,vn),this)}get inLeapYear(){if(!qi(this))throw new TypeError("invalid receiver");return UF(Fe(this,vn),this)}with(r,t){if(!qi(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid argument");FS(r);const i=Ri(t),s=Fe(this,vn),o=sa(s,["month","monthCode","year"]);let a=_i(this,o,[]);return a=yw(s,a,_i(r,o,"partial")),a=_i(a,o,[]),vw(s,a,i)}add(r,t){if(!qi(this))throw new TypeError("invalid receiver");return Yie("add",this,r,t)}subtract(r,t){if(!qi(this))throw new TypeError("invalid receiver");return Yie("subtract",this,r,t)}until(r,t){if(!qi(this))throw new TypeError("invalid receiver");return Uie("until",this,r,t)}since(r,t){if(!qi(this))throw new TypeError("invalid receiver");return Uie("since",this,r,t)}equals(r){if(!qi(this))throw new TypeError("invalid receiver");const t=w3(r);for(const i of[er,ir,ar])if(Fe(this,i)!==Fe(t,i))return!1;return D3(Fe(this,vn),Fe(t,vn))}toString(r){if(!qi(this))throw new TypeError("invalid receiver");return wie(this,y3(Ri(r)))}toJSON(){if(!qi(this))throw new TypeError("invalid receiver");return wie(this)}toLocaleString(r,t){if(!qi(this))throw new TypeError("invalid receiver");return new cg(r,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(r){if(!qi(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("argument should be an object");const t=Fe(this,vn),i=sa(t,["monthCode","year"]),s=_i(this,i,[]),o=sa(t,["day"]);let a=yw(t,s,_i(r,o,[]));a=_i(a,[...new Set([...i,...o])],[]);const c=zAe(null);return c.overflow="reject",tg(t,a,c)}getISOFields(){if(!qi(this))throw new TypeError("invalid receiver");return{calendar:Fe(this,vn),isoDay:Fe(this,ar),isoMonth:Fe(this,ir),isoYear:Fe(this,er)}}getCalendar(){if(!qi(this))throw new TypeError("invalid receiver");return $S(Fe(this,vn))}static from(r,t){const i=Ri(t);return qi(r)?(Wo(i),S3(Fe(r,er),Fe(r,ir),Fe(r,vn),Fe(r,ar))):w3(r,i)}static compare(r,t){const i=w3(r),s=w3(t);return qv(Fe(i,er),Fe(i,ir),Fe(i,ar),Fe(s,er),Fe(s,ir),Fe(s,ar))}}Em(dG,"Temporal.PlainYearMonth");const HAe=cg.prototype.resolvedOptions,GAe=Object.create;class uG{constructor(r,t,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");uie(this,k3(r),Gc(t),Fd(i))}get calendarId(){if(!hr(this))throw new TypeError("invalid receiver");return bc(Fe(this,vn))}get timeZoneId(){if(!hr(this))throw new TypeError("invalid receiver");return M3(Fe(this,ss))}get year(){if(!hr(this))throw new TypeError("invalid receiver");return FF(Fe(this,vn),Rs(this))}get month(){if(!hr(this))throw new TypeError("invalid receiver");return NF(Fe(this,vn),Rs(this))}get monthCode(){if(!hr(this))throw new TypeError("invalid receiver");return C3(Fe(this,vn),Rs(this))}get day(){if(!hr(this))throw new TypeError("invalid receiver");return A3(Fe(this,vn),Rs(this))}get hour(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),ci)}get minute(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),li)}get second(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),di)}get millisecond(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),ui)}get microsecond(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),fi)}get nanosecond(){if(!hr(this))throw new TypeError("invalid receiver");return Fe(Rs(this),hi)}get era(){if(!hr(this))throw new TypeError("invalid receiver");return BF(Fe(this,vn),Rs(this))}get eraYear(){if(!hr(this))throw new TypeError("invalid receiver");return LF(Fe(this,vn),Rs(this))}get epochSeconds(){if(!hr(this))throw new TypeError("invalid receiver");const r=Fe(this,Pr);return lt.toNumber(WS(r,Tm))}get epochMilliseconds(){if(!hr(this))throw new TypeError("invalid receiver");const r=Fe(this,Pr);return lt.toNumber(WS(r,au))}get epochMicroseconds(){if(!hr(this))throw new TypeError("invalid receiver");return tN(WS(Fe(this,Pr),Ki))}get epochNanoseconds(){if(!hr(this))throw new TypeError("invalid receiver");return tN(Fe(this,Pr))}get dayOfWeek(){if(!hr(this))throw new TypeError("invalid receiver");return kH(Fe(this,vn),Rs(this))}get dayOfYear(){if(!hr(this))throw new TypeError("invalid receiver");return IH(Fe(this,vn),Rs(this))}get weekOfYear(){if(!hr(this))throw new TypeError("invalid receiver");return PH(Fe(this,vn),Rs(this))}get yearOfWeek(){if(!hr(this))throw new TypeError("invalid receiver");return OH(Fe(this,vn),Rs(this))}get hoursInDay(){if(!hr(this))throw new TypeError("invalid receiver");const r=Rs(this),t=Ln("%Temporal.PlainDateTime%"),i=Fe(r,er),s=Fe(r,ir),o=Fe(r,ar),a=new t(i,s,o,0,0,0,0,0,0),c=ww(i,s,o,0,0,0,1,"reject"),_=new t(c.year,c.month,c.day,0,0,0,0,0,0),E=Fe(this,ss),m=Fe(Rl(E,a,"compatible"),Pr),j=Fe(Rl(E,_,"compatible"),Pr);return Pm(lt.subtract(j,m),qre)}get daysInWeek(){if(!hr(this))throw new TypeError("invalid receiver");return RH(Fe(this,vn),Rs(this))}get daysInMonth(){if(!hr(this))throw new TypeError("invalid receiver");return jF(Fe(this,vn),Rs(this))}get daysInYear(){if(!hr(this))throw new TypeError("invalid receiver");return $F(Fe(this,vn),Rs(this))}get monthsInYear(){if(!hr(this))throw new TypeError("invalid receiver");return VF(Fe(this,vn),Rs(this))}get inLeapYear(){if(!hr(this))throw new TypeError("invalid receiver");return UF(Fe(this,vn),Rs(this))}get offset(){if(!hr(this))throw new TypeError("invalid receiver");return NH(Fe(this,ss),Fe(this,zc))}get offsetNanoseconds(){if(!hr(this))throw new TypeError("invalid receiver");return bp(Fe(this,ss),Fe(this,zc))}with(r,t){if(!hr(this))throw new TypeError("invalid receiver");if(!Gs(r))throw new TypeError("invalid zoned-date-time-like");FS(r);const i=Ri(t),s=Fe(this,vn);let o=sa(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);o.push("offset");let a=_i(this,o,["offset"]);a=yw(s,a,_i(r,o,"partial")),a=_i(a,o,["offset"]);const c=NS(i),_=IF(i,"prefer");let{year:E,month:m,day:j,hour:oe,minute:le,second:ue,millisecond:pe,microsecond:we,nanosecond:Oe}=_3(s,a,i);const Pe=Gv(a.offset),Ie=Fe(this,ss);return yc(RF(E,m,j,oe,le,ue,pe,we,Oe,"option",Pe,Ie,c,_,!1),Ie,s)}withPlainDate(r){if(!hr(this))throw new TypeError("invalid receiver");const t=ds(r),i=Fe(t,er),s=Fe(t,ir),o=Fe(t,ar);let a=Fe(t,vn);const c=Rs(this),_=Fe(c,ci),E=Fe(c,li),m=Fe(c,di),j=Fe(c,ui),oe=Fe(c,fi),le=Fe(c,hi);a=fie(Fe(this,vn),a);const ue=Fe(this,ss);return yc(Fe(Rl(ue,new(Ln("%Temporal.PlainDateTime%"))(i,s,o,_,E,m,j,oe,le,a),"compatible"),Pr),ue,a)}withPlainTime(r){if(!hr(this))throw new TypeError("invalid receiver");const t=Ln("%Temporal.PlainTime%"),i=void 0===r?new t:eg(r),s=Rs(this),o=Fe(s,er),a=Fe(s,ir),c=Fe(s,ar),_=Fe(this,vn),E=Fe(i,ci),m=Fe(i,li),j=Fe(i,di),oe=Fe(i,ui),le=Fe(i,fi),ue=Fe(i,hi),pe=Fe(this,ss);return yc(Fe(Rl(pe,new(Ln("%Temporal.PlainDateTime%"))(o,a,c,E,m,j,oe,le,ue,_),"compatible"),Pr),pe,_)}withTimeZone(r){if(!hr(this))throw new TypeError("invalid receiver");const t=Gc(r);return yc(Fe(this,Pr),t,Fe(this,vn))}withCalendar(r){if(!hr(this))throw new TypeError("invalid receiver");const t=Fd(r);return yc(Fe(this,Pr),Fe(this,ss),t)}add(r,t){if(!hr(this))throw new TypeError("invalid receiver");return Zie("add",this,r,t)}subtract(r,t){if(!hr(this))throw new TypeError("invalid receiver");return Zie("subtract",this,r,t)}until(r,t){if(!hr(this))throw new TypeError("invalid receiver");return zie("until",this,r,t)}since(r,t){if(!hr(this))throw new TypeError("invalid receiver");return zie("since",this,r,t)}round(r){if(!hr(this))throw new TypeError("invalid receiver");if(void 0===r)throw new TypeError("options parameter is required");const t="string"==typeof r?KS("smallestUnit",r):Ri(r),i=BS(t),s=yp(t,"halfExpand"),o=Od(t,"smallestUnit","time",pw,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];LS(i,a,1===a);const c=Rs(this);let _=Fe(c,er),E=Fe(c,ir),m=Fe(c,ar),j=Fe(c,ci),oe=Fe(c,li),le=Fe(c,di),ue=Fe(c,ui),pe=Fe(c,fi),we=Fe(c,hi);const Oe=Ln("%Temporal.PlainDateTime%"),Pe=Fe(this,ss),Ie=Fe(this,vn),$e=Rl(Pe,new Oe(Fe(c,er),Fe(c,ir),Fe(c,ar),0,0,0,0,0,0),"compatible"),Je=af($e,Pe,Ie,0,0,0,1,0,0,0,0,0,0),Qe=lt.subtract(Je,lt.BigInt(Fe($e,Pr)));if(lt.lessThanOrEqual(Qe,bo))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:_,month:E,day:m,hour:j,minute:oe,second:le,millisecond:ue,microsecond:pe,nanosecond:we}=XH(_,E,m,j,oe,le,ue,pe,we,i,o,s,lt.toNumber(Qe))),yc(RF(_,E,m,j,oe,le,ue,pe,we,"option",bp(Pe,Fe(this,zc)),Pe,"compatible","prefer",!1),Pe,Fe(this,vn))}equals(r){if(!hr(this))throw new TypeError("invalid receiver");const t=x3(r),i=Fe(this,Pr),s=Fe(t,Pr);return!!lt.equal(lt.BigInt(i),lt.BigInt(s))&&!!mie(Fe(this,ss),Fe(t,ss))&&D3(Fe(this,vn),Fe(t,vn))}toString(r){if(!hr(this))throw new TypeError("invalid receiver");const t=Ri(r),i=y3(t),s=v3(t),o=Zv(t,"offset",["auto","never"],"auto"),a=yp(t,"trunc"),c=Od(t,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const _=Zv(t,"timeZoneName",["auto","never","critical"],"auto"),{precision:E,unit:m,increment:j}=b3(c,s);return xie(this,E,i,_,o,{unit:m,increment:j,roundingMode:a})}toLocaleString(r,t){if(!hr(this))throw new TypeError("invalid receiver");const i=Ri(t),s=GAe(null);if(RS(s,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===s.year&&void 0===s.month&&void 0===s.day&&void 0===s.weekday&&void 0===s.dateStyle&&void 0===s.hour&&void 0===s.minute&&void 0===s.second&&void 0===s.timeStyle&&void 0===s.dayPeriod&&void 0===s.timeZoneName&&(s.timeZoneName="short");let o=M3(Fe(this,ss));if(zS(o))throw new RangeError("toLocaleString does not support offset string time zones");o=LH(o),s.timeZone=o;const a=new cg(r,s),c=_r(HAe,a,[]).calendar,_=bc(Fe(this,vn));if("iso8601"!==_&&"iso8601"!==c&&c!==_)throw new RangeError(`cannot format ZonedDateTime with calendar ${_} in locale with calendar ${c}`);return a.format(Fe(this,zc))}toJSON(){if(!hr(this))throw new TypeError("invalid receiver");return xie(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!hr(this))throw new TypeError("invalid receiver");const r=Rs(this),t=Ln("%Temporal.PlainDateTime%"),i=Fe(this,vn),s=new t(Fe(r,er),Fe(r,ir),Fe(r,ar),0,0,0,0,0,0,i),o=Fe(this,ss);return yc(Fe(Rl(o,s,"compatible"),Pr),o,i)}toInstant(){if(!hr(this))throw new TypeError("invalid receiver");return new(Ln("%Temporal.Instant%"))(Fe(this,Pr))}toPlainDate(){if(!hr(this))throw new TypeError("invalid receiver");return US(Rs(this))}toPlainTime(){if(!hr(this))throw new TypeError("invalid receiver");return FH(Rs(this))}toPlainDateTime(){if(!hr(this))throw new TypeError("invalid receiver");return Rs(this)}toPlainYearMonth(){if(!hr(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return vw(r,_i(this,sa(r,["monthCode","year"]),[]))}toPlainMonthDay(){if(!hr(this))throw new TypeError("invalid receiver");const r=Fe(this,vn);return VS(r,_i(this,sa(r,["day","monthCode"]),[]))}getISOFields(){if(!hr(this))throw new TypeError("invalid receiver");const r=Rs(this),t=Fe(this,ss);return{calendar:Fe(this,vn),isoDay:Fe(r,ar),isoHour:Fe(r,ci),isoMicrosecond:Fe(r,fi),isoMillisecond:Fe(r,ui),isoMinute:Fe(r,li),isoMonth:Fe(r,ir),isoNanosecond:Fe(r,hi),isoSecond:Fe(r,di),isoYear:Fe(r,er),offset:NH(t,Fe(this,zc)),timeZone:t}}getCalendar(){if(!hr(this))throw new TypeError("invalid receiver");return $S(Fe(this,vn))}getTimeZone(){if(!hr(this))throw new TypeError("invalid receiver");return hie(Fe(this,ss))}static from(r,t){const i=Ri(t);return hr(r)?(NS(i),IF(i,"reject"),Wo(i),yc(Fe(r,Pr),Fe(r,ss),Fe(r,vn))):x3(r,i)}static compare(r,t){const i=x3(r),s=x3(t),o=Fe(i,Pr),a=Fe(s,Pr);return lt.lessThan(lt.BigInt(o),lt.BigInt(a))?-1:lt.greaterThan(lt.BigInt(o),lt.BigInt(a))?1:0}}function Rs(n){return lu(Fe(n,ss),Fe(n,zc),Fe(n,vn))}Em(uG,"Temporal.ZonedDateTime");var nC=Object.freeze({__proto__:null,Calendar:Eo,Duration:Jv,Instant:mh,Now:wse,PlainDate:R3,PlainDateTime:F3,PlainMonthDay:aG,PlainTime:Cw,PlainYearMonth:dG,TimeZone:N3,ZonedDateTime:uG});const WAe=[mh,Eo,R3,F3,Jv,aG,Cw,N3,dG,uG];for(const n of WAe){const r=Object.getOwnPropertyDescriptor(n,"prototype");(r.configurable||r.enumerable||r.writable)&&(r.configurable=!1,r.enumerable=!1,r.writable=!1,Object.defineProperty(n,"prototype",r))}var Ese=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Ro{static sleep(r){return Ese(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,r))})}static minimalSleep(){return Ese(this,void 0,void 0,function*(){yield Ro.sleep(2)})}static getCurrentTimestamp(){return nC.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(r){const{year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E}=r;return nC.ZonedDateTime.from({timeZone:"UTC",year:t,month:i,day:s,hour:o,minute:a,second:c,millisecond:_,microsecond:E}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(r,t){const i=t?nC.Instant.from(t):nC.Now.instant(),s=nC.Duration.from(r);return i.add(s).toString({smallestUnit:"microseconds"})}static validateTimestamp(r){try{nC.Instant.from(r)}catch{throw new Sn(xn.TimestampInvalid,`Invalid timestamp: ${r}`)}}}var oa=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Li{get message(){if(void 0===this._message.authorization)throw new Sn(xn.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Kn.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Kn.isSignedByOwnerDelegate(this._message)}get signer(){return Kn.getSigner(this._message)}get ownerSignatureSigner(){var r;return void 0===(null===(r=this._message.authorization)||void 0===r?void 0:r.ownerSignature)?void 0:vo.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(r,t){this.parentContextId=t,this._message=r,void 0!==r.authorization&&(this._author=Kn.getAuthor(r),this._signaturePayload=vo.decodePlainObjectPayload(r.authorization.signature),void 0!==r.authorization.ownerSignature&&(this._owner=void 0!==r.authorization.ownerDelegatedGrant?Kn.getSigner(r.authorization.ownerDelegatedGrant):vo.getSignerDid(r.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=vo.decodePlainObjectPayload(r.authorization.ownerSignature))),this.attesters=Li.getAttesters(r)}static parse(r){return oa(this,void 0,void 0,function*(){const t=JSON.parse(JSON.stringify(r));yield Kn.validateSignatureStructure(t.authorization.signature,t.descriptor,"RecordsWriteSignaturePayload"),void 0!==t.authorization.ownerSignature&&(yield Kn.validateSignatureStructure(t.authorization.ownerSignature,t.descriptor)),yield Li.validateAttestationIntegrity(t);const i=new Li(t);return yield i.validateIntegrity(),i})}static create(r){var t,i,s,o;return oa(this,void 0,void 0,function*(){if(void 0===r.protocol&&void 0!==r.protocolPath||void 0!==r.protocol&&void 0===r.protocolPath)throw new Sn(xn.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===r.data&&void 0===r.dataCid||void 0!==r.data&&void 0!==r.dataCid)throw new Sn(xn.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===r.dataCid&&void 0!==r.dataSize||void 0!==r.dataCid&&void 0===r.dataSize)throw new Sn(xn.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===r.signer&&void 0!==r.delegatedGrant)throw new Sn(xn.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const a=null!==(t=r.dataCid)&&void 0!==t?t:yield Uc.computeDagPbCidFromBytes(r.data),c=null!==(i=r.dataSize)&&void 0!==i?i:r.data.length,_=Ro.getCurrentTimestamp(),E={interface:Sr.Records,method:dr.Write,protocol:void 0!==r.protocol?Uv(r.protocol):void 0,protocolPath:r.protocolPath,recipient:r.recipient,schema:void 0!==r.schema?_F(r.schema):void 0,tags:r.tags,parentId:Li.getRecordIdFromContextId(r.parentContextId),dataCid:a,dataSize:c,dateCreated:null!==(s=r.dateCreated)&&void 0!==s?s:_,messageTimestamp:null!==(o=r.messageTimestamp)&&void 0!==o?o:_,published:r.published,datePublished:r.datePublished,dataFormat:r.dataFormat};!0===r.published&&void 0===r.datePublished&&(E.datePublished=_),ou(E);const m=r.recordId,j=yield Uc.computeCid(E),oe=yield Li.createAttestation(j,r.attestationSigners),le=yield Li.createEncryptionProperty(E,r.encryptionInput),ue={recordId:m,descriptor:E};void 0!==oe&&(ue.attestation=oe),void 0!==le&&(ue.encryption=le);const pe=new Li(ue,r.parentContextId);return void 0!==r.signer&&(yield pe.sign({signer:r.signer,delegatedGrant:r.delegatedGrant,permissionGrantId:r.permissionGrantId,protocolRole:r.protocolRole})),pe})}static getRecordIdFromContextId(r){return r?.split("/").filter(t=>""!==t).pop()}static createFrom(r){var t,i,s,o;return oa(this,void 0,void 0,function*(){const a=r.recordsWriteMessage,c=yield Li.parse(a),_=Ro.getCurrentTimestamp(),E=null!==(t=r.published)&&void 0!==t?t:!!r.datePublished||a.descriptor.published;let m;r.datePublished?m=r.datePublished:E&&(m=a.descriptor.published?a.descriptor.datePublished:_);const j={recipient:a.descriptor.recipient,recordId:a.recordId,dateCreated:a.descriptor.dateCreated,protocol:a.descriptor.protocol,protocolPath:a.descriptor.protocolPath,schema:a.descriptor.schema,parentContextId:ai.getParentContextFromOfContextId(a.contextId),messageTimestamp:null!==(i=r.messageTimestamp)&&void 0!==i?i:_,published:E,datePublished:m,tags:r.tags,data:r.data,dataCid:r.data?void 0:a.descriptor.dataCid,dataSize:r.data?void 0:a.descriptor.dataSize,dataFormat:null!==(s=r.dataFormat)&&void 0!==s?s:a.descriptor.dataFormat,protocolRole:null!==(o=r.protocolRole)&&void 0!==o?o:c.signaturePayload.protocolRole,delegatedGrant:r.delegatedGrant,signer:r.signer,attestationSigners:r.attestationSigners};return yield Li.create(j)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(r){return oa(this,void 0,void 0,function*(){this._message.encryption=yield Li.createEncryptionProperty(this._message.descriptor,r),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(r){var t;return oa(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:s,permissionGrantId:o,protocolRole:a}=r;let c,_;void 0!==s?(c=yield Kn.getCid(s),_=vo.getSignerDid(s.authorization.signature.signatures[0])):_=vo.extractDid(i.keyId);const E=this._message.descriptor,m=yield Uc.computeCid(E);this._message.recordId=null!==(t=this._message.recordId)&&void 0!==t?t:yield Li.getEntryId(_,E),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const j=yield Li.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:m,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:c,permissionGrantId:o,protocolRole:a});this._message.authorization={signature:j},void 0!==s&&(this._message.authorization.authorDelegatedGrant=s),this._signaturePayload=vo.decodePlainObjectPayload(j),this._author=_})}signAsOwner(r){return oa(this,void 0,void 0,function*(){if(void 0===this._author)throw new Sn(xn.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const t=this._message.descriptor,i=yield Kn.createSignature(t,r);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=vo.decodePlainObjectPayload(i),this._owner=vo.extractDid(r.keyId)})}signAsOwnerDelegate(r,t){return oa(this,void 0,void 0,function*(){if(void 0===this._author)throw new Sn(xn.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Kn.getCid(t),s=this._message.descriptor,o=yield Kn.createSignature(s,r,{delegatedGrantId:i});this._message.authorization.ownerSignature=o,this._message.authorization.ownerDelegatedGrant=t,this._ownerSignaturePayload=vo.decodePlainObjectPayload(o),this._owner=vo.getSignerDid(t.authorization.signature.signatures[0])})}validateIntegrity(){return oa(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,s=this.message.descriptor.messageTimestamp;if(s!==i)throw new Sn(xn.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${s} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const o=yield this.getEntryId();if(this.message.contextId!==o)throw new Sn(xn.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${o}`)}}const t=this.signaturePayload;if(this.message.recordId!==t.recordId)throw new Sn(xn.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${t.recordId}`);if(this.message.contextId!==t.contextId)throw new Sn(xn.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${t.contextId}`);if(yield ai.validateDelegatedGrantReferentialIntegrity(this.message,t,this.ownerSignaturePayload),void 0!==t.attestationCid){const i=yield Uc.computeCid(this.message.attestation),s=t.attestationCid;if(s!==i)throw new Sn(xn.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${s}`)}if(void 0!==t.encryptionCid){const i=yield Uc.computeCid(this.message.encryption),s=t.encryptionCid;if(s!==i)throw new Sn(xn.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${s}`)}void 0!==this.message.descriptor.protocol&&Vv(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&bF(this.message.descriptor.schema),Ro.validateTimestamp(this.message.descriptor.messageTimestamp),Ro.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Ro.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(r){return oa(this,void 0,void 0,function*(){if(void 0===r.attestation)return;if(1!==r.attestation.signatures.length)throw new Sn(xn.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${r.attestation.signatures.length}`);const t=vo.decodePlainObjectPayload(r.attestation),{descriptorCid:i}=t,s=yield Uc.computeCid(r.descriptor);if(i!==s)throw new Sn(xn.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${s}`);const o=Object.keys(t).length;if(o>1)throw new Sn(xn.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${o} properties.`)})}getEntryId(){return oa(this,void 0,void 0,function*(){return yield Li.getEntryId(this.author,this.message.descriptor)})}static getEntryId(r,t){return oa(this,void 0,void 0,function*(){if(void 0===r)throw new Sn(xn.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},t);return i.author=r,yield Uc.computeCid(i)})}isInitialWrite(){return oa(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(r){return oa(this,void 0,void 0,function*(){const t=this.message,i=t.descriptor,{tags:s}=i,o=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(i,["tags"]);delete o.published;let a=Object.assign(Object.assign({},o),{isLatestBaseState:r,published:!!t.descriptor.published,author:this.author,recordId:t.recordId,entryId:yield Li.getEntryId(this.author,this.message.descriptor)});if(void 0!==s&&!0===r){const c=ai.buildTagIndexes(Object.assign({},s));a=Object.assign(Object.assign({},a),c)}return this.attesters.length>0&&(a.attester=this.attesters[0]),void 0!==t.contextId&&(a.contextId=t.contextId),a})}authorizeAuthorDelegate(r){return oa(this,void 0,void 0,function*(){const t=yield id.parse(this.message.authorization.authorDelegatedGrant);yield fh.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:t,messageStore:r})})}authorizeOwnerDelegate(r){return oa(this,void 0,void 0,function*(){const t=yield id.parse(this.message.authorization.ownerDelegatedGrant);yield fh.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:t,messageStore:r})})}static isInitialWrite(r){return oa(this,void 0,void 0,function*(){if(r.descriptor.interface!==Sr.Records||r.descriptor.method!==dr.Write)return!1;const t=r,i=Kn.getAuthor(t);return(yield Li.getEntryId(i,t.descriptor))===t.recordId})}static createEncryptionProperty(r,t){var i,s;return oa(this,void 0,void 0,function*(){if(void 0===t)return;const o=[];for(const c of t.keyEncryptionInputs){if(c.derivationScheme===dh.ProtocolPath&&void 0===r.protocol)throw new Sn(xn.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(c.derivationScheme===dh.Schemas&&void 0===r.schema)throw new Sn(xn.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const _=pc.publicJwkToBytes(c.publicKey),E=yield u3.eciesSecp256k1Encrypt(_,t.key),m=Wr.bytesToBase64Url(E.ciphertext),j=yield pc.publicKeyToJwk(E.ephemeralPublicKey),oe=Wr.bytesToBase64Url(E.initializationVector),le=Wr.bytesToBase64Url(E.messageAuthenticationCode),ue={rootKeyId:c.publicKeyId,algorithm:null!==(i=c.algorithm)&&void 0!==i?i:pH.EciesSecp256k1,derivationScheme:c.derivationScheme,ephemeralPublicKey:j,initializationVector:oe,messageAuthenticationCode:le,encryptedKey:m};c.derivationScheme===dh.ProtocolContext&&(ue.derivedPublicKey=c.publicKey),o.push(ue)}return{algorithm:null!==(s=t.algorithm)&&void 0!==s?s:pH.Aes256Ctr,initializationVector:Wr.bytesToBase64Url(t.initializationVector),keyEncryption:o}})}static createAttestation(r,t){return oa(this,void 0,void 0,function*(){if(void 0===t||0===t.length)return;const s=Wr.objectToBytes({descriptorCid:r});return(yield f3.create(s,t)).getJws()})}static createSignerSignature(r){return oa(this,void 0,void 0,function*(){const{recordId:t,contextId:i,descriptorCid:s,attestation:o,encryption:a,signer:c,delegatedGrantId:_,permissionGrantId:E,protocolRole:m}=r,le={recordId:t,descriptorCid:s,contextId:i,attestationCid:o?yield Uc.computeCid(o):void 0,encryptionCid:a?yield Uc.computeCid(a):void 0,delegatedGrantId:_,permissionGrantId:E,protocolRole:m};ou(le);const ue=Wr.objectToBytes(le);return(yield f3.create(ue,[c])).getJws()})}static getInitialWrite(r){return oa(this,void 0,void 0,function*(){for(const t of r)if(yield Li.isInitialWrite(t))return t;throw new Sn(xn.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(r,t){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let s=[];s.push(...Object.keys(r.descriptor)),s.push(...Object.keys(t.descriptor)),s=[...new Set(s)];for(const o of s)if(-1===i.indexOf(o)){const a=r.descriptor[o],c=t.descriptor[o];if(c!==a)throw new Sn(xn.RecordsWriteImmutablePropertyChanged,`${o} is an immutable property: cannot change '${a}' to '${c}'`)}return!0}static getAttesters(r){var t,i;return(null!==(i=null===(t=r.attestation)||void 0===t?void 0:t.signatures)&&void 0!==i?i:[]).map(a=>vo.getSignerDid(a))}static fetchNewestRecordsWrite(r,t,i){return oa(this,void 0,void 0,function*(){const s={interface:Sr.Records,method:dr.Write,recordId:i},{messages:o}=yield r.query(t,[s]),a=yield Kn.getNewestMessage(o);if(void 0!==a)return a;throw new Sn(xn.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(r,t,i){return oa(this,void 0,void 0,function*(){const s=yield Li.fetchInitialRecordsWriteMessage(r,t,i);return void 0===s?void 0:yield Li.parse(s)})}static fetchInitialRecordsWriteMessage(r,t,i){return oa(this,void 0,void 0,function*(){const s={entryId:i},{messages:o}=yield r.query(t,[s]);if(0!==o.length)return o[0]})}}function Rm(n,r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){if(void 0===n)throw new Sn(xn.AuthenticateJwsMissing,"Missing JWS.");if(yield fp.verifySignatures(n.signature,r),void 0!==n.ownerSignature&&(yield fp.verifySignatures(n.ownerSignature,r)),void 0!==n.authorDelegatedGrant){const t=yield Li.parse(n.authorDelegatedGrant);yield fp.verifySignatures(t.message.authorization.signature,r)}if(void 0!==n.ownerDelegatedGrant){const t=yield Li.parse(n.ownerDelegatedGrant);yield fp.verifySignatures(t.message.authorization.signature,r)}})}class YAe{isActiveTenant(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class dg{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get isSignedByAuthorDelegate(){return Kn.isSignedByAuthorDelegate(this._message)}constructor(r){this._message=r,void 0!==r.authorization&&(this._signer=Kn.getSigner(r),this._author=void 0!==r.authorization.authorDelegatedGrant?Kn.getSigner(r.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=vo.decodePlainObjectPayload(r.authorization.signature))}toJSON(){return this.message}}var fG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class B3 extends dg{static parse(r){return fG(this,void 0,void 0,function*(){if(!1===r.descriptor.filter.published&&(r.descriptor.dateSort===tf.PublishedAscending||r.descriptor.dateSort===tf.PublishedDescending))throw new Sn(xn.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${r.descriptor.dateSort}`);let t;if(void 0!==r.authorization&&(t=yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor)),yield ai.validateDelegatedGrantReferentialIntegrity(r,t),void 0!==t?.protocolRole&&void 0===r.descriptor.filter.protocolPath)throw new Sn(xn.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==r.descriptor.filter.protocol&&Vv(r.descriptor.filter.protocol),void 0!==r.descriptor.filter.schema&&bF(r.descriptor.filter.schema),Ro.validateTimestamp(r.descriptor.messageTimestamp),new B3(r)})}static create(r){var t;return fG(this,void 0,void 0,function*(){const i={interface:Sr.Records,method:dr.Query,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp(),filter:ai.normalizeFilter(r.filter),dateSort:r.dateSort,pagination:r.pagination};if(!1===r.filter.published&&(r.dateSort===tf.PublishedAscending||r.dateSort===tf.PublishedDescending))throw new Sn(xn.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${r.dateSort}`);ou(i);const s=r.signer;let o;s&&(o=yield Kn.createAuthorization({descriptor:i,signer:s,protocolRole:r.protocolRole,delegatedGrant:r.delegatedGrant}));const a={descriptor:i,authorization:o};return Kn.validateJsonSchema(a),new B3(a)})}authorizeDelegate(r){return fG(this,void 0,void 0,function*(){const t=yield id.parse(this.message.authorization.authorDelegatedGrant);yield fh.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:t,messageStore:r})})}}var Sse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Qv{static toBytes(r){return Sse(this,void 0,void 0,function*(){return new Promise((t,i)=>{const s=[];r.on("data",o=>{s.push(o)}),r.on("end",()=>{const o=Qv.concatenateArrayOfBytes(s);t(o)}),r.on("error",i)})})}static toObject(r){return Sse(this,void 0,void 0,function*(){const t=yield Qv.toBytes(r);return Wr.bytesToObject(t)})}static concatenateArrayOfBytes(r){const t=r.reduce((o,a)=>o+a.length,0),i=new Uint8Array(t);let s=0;for(const o of r)i.set(o,s),s+=o.length;return i}static fromBytes(r){let i=0;return new d3.Readable({read(o){i+1e5>r.length?(this.push(r.subarray(i)),this.push(null)):(this.push(r.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(r){const t=Wr.objectToBytes(r);return Qv.fromBytes(t)}static duplicateDataStream(r,t){const i=[];for(let s=0;s<t;s++){const o=new d3.PassThrough;r.pipe(o),i.push(o)}return i}}function Ws(n,r){return{status:{code:r,detail:n instanceof Error?n.message:"Error"}}}class rC{static parse(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return new rC(r)})}constructor(r){this.id=r.recordId,this.requester=Kn.getSigner(r);const i=Wr.base64UrlToObject(r.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var L3=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Mr{static parseRequest(r){return Wr.base64UrlToObject(r)}static createRequest(r){return L3(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(r.scope)&&void 0===r.scope.protocol)throw new Sn(xn.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const t=Mr.normalizePermissionScope(r.scope),i={description:r.description,delegated:r.delegated,scope:t,conditions:r.conditions};let s;this.hasProtocolScope(t)&&(s={protocol:t.protocol});const o=Wr.objectToBytes(i),a=yield Li.create({signer:r.signer,messageTimestamp:r.dateRequested,protocol:Mr.uri,protocolPath:Mr.requestPath,dataFormat:"application/json",data:o,tags:s});return{recordsWrite:a,permissionRequestData:i,permissionRequestBytes:o,dataEncodedMessage:Object.assign(Object.assign({},a.message),{encodedData:Wr.bytesToBase64Url(o)})}})}static createGrant(r){return L3(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(r.scope)&&void 0===r.scope.protocol)throw new Sn(xn.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const t=Mr.normalizePermissionScope(r.scope),i={dateExpires:r.dateExpires,requestId:r.requestId,description:r.description,delegated:r.delegated,scope:t,conditions:r.conditions};let s;this.hasProtocolScope(t)&&(s={protocol:t.protocol});const o=Wr.objectToBytes(i),a=yield Li.create({signer:r.signer,messageTimestamp:r.dateGranted,dateCreated:r.dateGranted,recipient:r.grantedTo,protocol:Mr.uri,protocolPath:Mr.grantPath,dataFormat:"application/json",data:o,tags:s});return{recordsWrite:a,permissionGrantData:i,permissionGrantBytes:o,dataEncodedMessage:Object.assign(Object.assign({},a.message),{encodedData:Wr.bytesToBase64Url(o)})}})}static createRevocation(r){return L3(this,void 0,void 0,function*(){const t={description:r.description},i=r.grant.id;let s;this.hasProtocolScope(r.grant.scope)&&(s={protocol:Uv(r.grant.scope.protocol)});const o=Wr.objectToBytes(t),a=yield Li.create({signer:r.signer,parentContextId:i,protocol:Mr.uri,protocolPath:Mr.revocationPath,dataFormat:"application/json",data:o,tags:s});return{recordsWrite:a,permissionRevocationData:t,permissionRevocationBytes:o,dataEncodedMessage:Object.assign(Object.assign({},a.message),{encodedData:Wr.bytesToBase64Url(o)})}})}static validateSchema(r,t){const i=Wr.bytesToString(t),s=JSON.parse(i);if(r.descriptor.protocolPath===Mr.requestPath){const o=s;_S("PermissionRequestData",o),Mr.validateScopeAndTags(o.scope,r)}else if(r.descriptor.protocolPath===Mr.grantPath){_S("PermissionGrantData",s);const o=s;Mr.validateScopeAndTags(o.scope,r),Ro.validateTimestamp(o.dateExpires)}else{if(r.descriptor.protocolPath!==Mr.revocationPath)throw new Sn(xn.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${r.descriptor.protocolPath}`);_S("PermissionRevocationData",s)}}static fetchGrant(r,t,i){return L3(this,void 0,void 0,function*(){const s={recordId:i,isLatestBaseState:!0},{messages:o}=yield t.query(r,[s]),a=o[0],c=a?.descriptor.interface,_=a?.descriptor.method;if(c!==Sr.Records||_!==dr.Write||a.descriptor.protocolPath!==Mr.grantPath)throw new Sn(xn.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const E=a;return yield id.parse(E)})}static getScopeFromPermissionRecord(r,t,i){return L3(this,void 0,void 0,function*(){if(i.descriptor.protocol!==Mr.uri)throw new Sn(xn.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===Mr.revocationPath?(yield Mr.fetchGrant(r,t,i.descriptor.parentId)).scope:i.descriptor.protocolPath===Mr.grantPath?(yield id.parse(i)).scope:(yield rC.parse(i)).scope})}static normalizePermissionScope(r){const t=Object.assign({},r);return Mr.hasProtocolScope(t)&&(t.protocol=Uv(t.protocol)),t}static isRecordPermissionScope(r){return"Records"===r.interface}static hasProtocolScope(r){return"protocol"in r&&void 0!==r.protocol}static validateTags(r,t){if(void 0===r.descriptor.tags||void 0===r.descriptor.tags.protocol)throw new Sn(xn.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=r.descriptor.tags.protocol;if(i!==t)throw new Sn(xn.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(r,t){if(this.hasProtocolScope(r)&&(Vv(r.protocol),this.validateTags(t,r.protocol)),this.isRecordPermissionScope(r)&&void 0!==r.contextId&&void 0!==r.protocolPath)throw new Sn(xn.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}Mr.uri="https://tbd.website/dwn/permissions",Mr.requestPath="request",Mr.grantPath="grant",Mr.revocationPath="grant/revocation",Mr.definition={published:!0,protocol:Mr.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class hG{static normalizeFilters(r){const t=[];for(const i of r){const s=void 0!==i.protocol?Uv(i.protocol):void 0,o=Object.assign(Object.assign({},i),{protocol:s});ou(o),vF(o)||t.push(o)}return t}static convertFilters(r){const t=[];for(const i of r){const s=this.constructPermissionRecordsFilter(i);s&&t.push(s),t.push(this.convertFilter(i))}return t}static constructPermissionRecordsFilter(r){const{protocol:t,messageTimestamp:i}=r;if(void 0!==t){const s=Object.assign({protocol:Mr.uri},ai.convertTagsFilter({protocol:t}));if(null!=i){const o=sd.convertRangeCriterion(i);o&&(s.messageTimestamp=o)}return s}}static convertFilter(r){const t=Object.assign({},r),{messageTimestamp:i}=r,s=i?sd.convertRangeCriterion(i):void 0;return s&&(t.messageTimestamp=s,delete t.dateUpdated),t}}var pG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class j3{static authorizeMessagesRead(r){return pG(this,void 0,void 0,function*(){const{messagesReadMessage:t,messageToRead:i,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:s,expectedGrantee:o,permissionGrant:a,messageStore:c});const _=a.scope;yield j3.verifyScope(s,i,_,c)})}static authorizeQueryOrSubscribe(r){return pG(this,void 0,void 0,function*(){const{incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}=r;if(yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}),Mr.hasProtocolScope(o.scope)){const c=o.scope.protocol;for(const _ of t.descriptor.filters)if(_.protocol!==c)throw new Sn(xn.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${_.protocol} does not match the scoped protocol ${c}`)}})}static verifyScope(r,t,i,s){return pG(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(t.descriptor.interface===Sr.Records){const o=t,a=ai.isRecordsWrite(o)?o:yield Li.fetchNewestRecordsWrite(s,r,o.descriptor.recordId);if(a.descriptor.protocol===i.protocol)return;if(a.descriptor.protocol===Mr.uri){const c=yield Mr.getScopeFromPermissionRecord(r,s,a);if(Mr.hasProtocolScope(c)&&c.protocol===i.protocol)return}}else if(t.descriptor.interface===Sr.Protocols&&t.descriptor.definition.protocol===i.protocol)return;throw new Sn(xn.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var Cse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class $3 extends dg{static parse(r){return Cse(this,void 0,void 0,function*(){Kn.validateJsonSchema(r),yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor);for(const t of r.descriptor.filters)"protocol"in t&&void 0!==t.protocol&&Vv(t.protocol);return new $3(r)})}static create(r){var t;return Cse(this,void 0,void 0,function*(){const i={interface:Sr.Messages,method:dr.Query,filters:r.filters?hG.normalizeFilters(r.filters):[],messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp(),cursor:r.cursor};ou(i);const{permissionGrantId:s,signer:o}=r,c={descriptor:i,authorization:yield Kn.createAuthorization({descriptor:i,signer:o,permissionGrantId:s})};return Kn.validateJsonSchema(c),new $3(c)})}}var Ase=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class mG{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.eventLog=i}handle({tenant:r,message:t}){return Ase(this,void 0,void 0,function*(){let i;try{i=yield $3.parse(t)}catch(c){return Ws(c,400)}try{yield Rm(t.authorization,this.didResolver),yield mG.authorizeMessagesQuery(r,i,this.messageStore)}catch(c){return Ws(c,401)}const s=hG.convertFilters(t.descriptor.filters),{events:o,cursor:a}=yield this.eventLog.queryEvents(r,s,t.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:o,cursor:a}})}static authorizeMessagesQuery(r,t,i){return Ase(this,void 0,void 0,function*(){if(t.author!==r){if(void 0===t.author||void 0===t.signaturePayload.permissionGrantId)throw new Sn(xn.MessagesQueryAuthorizationFailed,"message failed authorization");{const s=yield Mr.fetchGrant(r,i,t.signaturePayload.permissionGrantId);yield j3.authorizeQueryOrSubscribe({incomingMessage:t.message,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:s,messageStore:i})}}})}}var Tse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class iC extends dg{static parse(r){return Tse(this,void 0,void 0,function*(){return Kn.validateJsonSchema(r),this.validateMessageCid(r.descriptor.messageCid),yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor),Ro.validateTimestamp(r.descriptor.messageTimestamp),new iC(r)})}static create(r){var t;return Tse(this,void 0,void 0,function*(){const i={interface:Sr.Messages,method:dr.Read,messageCid:r.messageCid,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp()},{signer:s,permissionGrantId:o}=r,c={descriptor:i,authorization:yield Kn.createAuthorization({descriptor:i,signer:s,permissionGrantId:o})};return Kn.validateJsonSchema(c),iC.validateMessageCid(r.messageCid),new iC(c)})}static validateMessageCid(r){try{Uc.parseCid(r)}catch{throw new Sn(xn.MessagesReadInvalidCid,`${r} is not a valid CID`)}}}var Dse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class gG{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.dataStore=i}handle({tenant:r,message:t}){return Dse(this,void 0,void 0,function*(){let i;try{i=yield iC.parse(t)}catch(a){return Ws(a,400)}try{yield Rm(t.authorization,this.didResolver)}catch(a){return Ws(a,401)}const s=yield this.messageStore.get(r,t.descriptor.messageCid);if(void 0===s)return{status:{code:404,detail:"Not Found"}};try{yield gG.authorizeMessagesRead(r,i,s,this.messageStore)}catch(a){return Ws(a,401)}const o={message:s,messageCid:t.descriptor.messageCid};if(ai.isRecordsWrite(s)){const a=o.message;if(void 0!==a.encodedData){const c=Wr.base64UrlToBytes(a.encodedData);o.data=Qv.fromBytes(c),delete a.encodedData}else{const c=yield this.dataStore.get(r,a.recordId,a.descriptor.dataCid);void 0!==c?.dataStream&&(o.data=c.dataStream)}}return{status:{code:200,detail:"OK"},entry:o}})}static authorizeMessagesRead(r,t,i,s){return Dse(this,void 0,void 0,function*(){if(t.author!==r){if(void 0===t.author||void 0===t.signaturePayload.permissionGrantId)throw new Sn(xn.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const o=yield Mr.fetchGrant(r,s,t.signaturePayload.permissionGrantId);yield j3.authorizeMessagesRead({messagesReadMessage:t.message,messageToRead:i,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:o,messageStore:s})}}})}}var Mse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class V3 extends dg{static parse(r){return Mse(this,void 0,void 0,function*(){Kn.validateJsonSchema(r),yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor);for(const t of r.descriptor.filters)"protocol"in t&&void 0!==t.protocol&&Vv(t.protocol);return Ro.validateTimestamp(r.descriptor.messageTimestamp),new V3(r)})}static create(r){var t,i;return Mse(this,void 0,void 0,function*(){const s=Ro.getCurrentTimestamp(),o={interface:Sr.Messages,method:dr.Subscribe,filters:null!==(t=r.filters)&&void 0!==t?t:[],messageTimestamp:null!==(i=r.messageTimestamp)&&void 0!==i?i:s};ou(o);const{permissionGrantId:a,signer:c}=r,E={descriptor:o,authorization:yield Kn.createAuthorization({descriptor:o,signer:c,permissionGrantId:a})};return Kn.validateJsonSchema(E),new V3(E)})}}var kse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class yG{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.eventStream=i}handle({tenant:r,message:t,subscriptionHandler:i}){return kse(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Ws(new Sn(xn.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let s;try{s=yield V3.parse(t)}catch(m){return Ws(m,400)}try{yield Rm(t.authorization,this.didResolver),yield yG.authorizeMessagesSubscribe(r,s,this.messageStore)}catch(m){return Ws(m,401)}const{filters:o}=t.descriptor,a=hG.convertFilters(o),c=yield Kn.getCid(t);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(r,c,(m,j,oe)=>{r===m&&sd.matchAnyFilter(oe,a)&&i(j)})}})}static authorizeMessagesSubscribe(r,t,i){return kse(this,void 0,void 0,function*(){if(t.author!==r){if(void 0===t.author||void 0===t.signaturePayload.permissionGrantId)throw new Sn(xn.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const s=yield Mr.fetchGrant(r,i,t.signaturePayload.permissionGrantId);yield j3.authorizeQueryOrSubscribe({incomingMessage:t.message,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:s,messageStore:i})}}})}}var Ise=A(20844),Pse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class U3{static authorizeConfigure(r){return Pse(this,void 0,void 0,function*(){const{protocolsConfigureMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}=r;yield uh.performBaseValidation({incomingMessage:t,expectedGrantor:i,expectedGrantee:s,permissionGrant:o,messageStore:a}),U3.verifyScope(t,o.scope)})}static authorizeQuery(r){var t;return Pse(this,void 0,void 0,function*(){const{expectedGrantee:i,expectedGrantor:s,incomingMessage:o,permissionGrant:a,messageStore:c}=r;yield uh.performBaseValidation({incomingMessage:o,expectedGrantor:s,expectedGrantee:i,permissionGrant:a,messageStore:c});const E=a.scope.protocol,m=null===(t=o.descriptor.filter)||void 0===t?void 0:t.protocol;if(void 0!==E&&m!==E)throw new Sn(xn.ProtocolsGrantAuthorizationQueryProtocolScopeMismatch,`Grant protocol scope ${E} does not match protocol in message ${m}`)})}static verifyScope(r,t){if(void 0!==t.protocol&&t.protocol!==r.descriptor.definition.protocol)throw new Sn(xn.ProtocolsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the configure message.")}}var sC=function(n){return n.Anyone="anyone",n.Author="author",n.Recipient="recipient",n}(sC||{}),ga=function(n){return n.CoDelete="co-delete",n.CoPrune="co-prune",n.CoUpdate="co-update",n.Create="create",n.Delete="delete",n.Prune="prune",n.Query="query",n.Read="read",n.Subscribe="subscribe",n.Update="update",n}(ga||{}),vG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class cf extends dg{static parse(r){return vG(this,void 0,void 0,function*(){return Kn.validateJsonSchema(r),cf.validateProtocolDefinition(r.descriptor.definition),yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor),Ro.validateTimestamp(r.descriptor.messageTimestamp),new cf(r)})}static create(r){var t;return vG(this,void 0,void 0,function*(){const i={interface:Sr.Protocols,method:dr.Configure,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp(),definition:cf.normalizeDefinition(r.definition)},o={descriptor:i,authorization:yield Kn.createAuthorization({descriptor:i,signer:r.signer,delegatedGrant:r.delegatedGrant,permissionGrantId:r.permissionGrantId})};return Kn.validateJsonSchema(o),cf.validateProtocolDefinition(o.descriptor.definition),new cf(o)})}authorizeAuthorDelegate(r){return vG(this,void 0,void 0,function*(){const t=yield id.parse(this.message.authorization.authorDelegatedGrant);yield U3.authorizeConfigure({protocolsConfigureMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:t,messageStore:r})})}static validateProtocolDefinition(r){const{protocol:t,types:i}=r;Vv(t);for(const s in i){const o=i[s].schema;void 0!==o&&bF(o)}cf.validateStructure(r)}static validateStructure(r){const t=Object.keys(r.types),i=cf.fetchAllRolePathsRecursively("",r.structure,[]);cf.validateRuleSetRecursively({ruleSet:r.structure,ruleSetProtocolPath:"",recordTypes:t,roles:i})}static fetchAllRolePathsRecursively(r,t,i){if(r.split("/").length>10)throw new Sn(xn.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const s in t){if(s.startsWith("$"))continue;const o=t[s];let a;a=""===r?s:`${r}/${s}`,o.$role?i.push(a):cf.fetchAllRolePathsRecursively(a,o,i)}return i}static validateRuleSetRecursively(r){var t;const{ruleSet:i,ruleSetProtocolPath:s,recordTypes:o,roles:a}=r;if(void 0!==i.$size){const{min:_=0,max:E}=i.$size;if(void 0!==E&&E<_)throw new Sn(xn.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${E} less than min limit ${_} at protocol path '${s}'`)}if(i.$tags){const _=new Ise.default,oe=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const le in oe)if(!_.validateSchema(oe[le])){const pe=_.errorsText(_.errors,{dataVar:`${s}/$tags/${le}`});throw new Sn(xn.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${pe}`)}}const c=null!==(t=i.$actions)&&void 0!==t?t:[];for(let _=0;_<c.length;_++){const E=c[_];if(void 0!==E.role){if(!a.includes(E.role))throw new Sn(xn.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(E)} for rule set ${s} does not exist.`);{const m=[ga.Read,ga.Query,ga.Subscribe];if(m.find(j=>E.can.includes(j))&&!m.every(j=>E.can.includes(j)))throw new Sn(xn.ProtocolsConfigureRoleReadActionMissing,`Role in action ${JSON.stringify(E)} for rule set ${s} must contain all read actions (${m.join(", ")}).`)}}if("anyone"===E.who&&E.of)throw new Sn(xn.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${s})`);if(E.who===sC.Recipient&&void 0===E.of&&E.can.some(j=>![ga.CoUpdate,ga.CoDelete,ga.CoPrune].includes(j)))throw new Sn(xn.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(E.who===sC.Author&&!E.of)throw new Sn(xn.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==E.can){if(E.can.includes(ga.Update)&&!E.can.includes(ga.Create))throw new Sn(xn.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(E)} contains 'update' action but missing the required 'create' action.`);if(E.can.includes(ga.Delete)&&!E.can.includes(ga.Create))throw new Sn(xn.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(E)} contains 'delete' action but missing the required 'create' action.`)}for(let m=_+1;m<c.length;m++){const j=c[m];if(void 0!==E.who){if(E.who===j.who&&E.of===j.of)throw new Sn(xn.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${E.who} of ${E.of} not allowed within a rule set: ${JSON.stringify(E)}`)}else if(E.role===j.role)throw new Sn(xn.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${E.role} not allowed within a rule set: ${JSON.stringify(E)}`)}}for(const _ in i){if(_.startsWith("$"))continue;if(!o.includes(_))throw new Sn(xn.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${_} is not declared as an allowed type in the protocol definition.`);let m;m=""===s?_:`${s}/${_}`,cf.validateRuleSetRecursively({ruleSet:i[_],ruleSetProtocolPath:m,recordTypes:o,roles:a})}}static normalizeDefinition(r){const t=Object.assign({},r.types);for(const i in t){const s=t[i].schema;void 0!==s&&(t[i].schema=_F(s))}return Object.assign(Object.assign({},r),{protocol:Uv(r.protocol),types:t})}}var Ose=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class rN{constructor(r,t,i,s){this.didResolver=r,this.messageStore=t,this.eventLog=i,this.eventStream=s}handle({tenant:r,message:t}){return Ose(this,void 0,void 0,function*(){let i;try{i=yield cf.parse(t)}catch(m){return Ws(m,400)}try{yield Rm(t.authorization,this.didResolver),yield rN.authorizeProtocolsConfigure(r,i,this.messageStore)}catch(m){return Ws(m,401)}const s={interface:Sr.Protocols,method:dr.Configure,protocol:t.descriptor.definition.protocol},{messages:o}=yield this.messageStore.query(r,[s]);let _,a=yield Kn.getNewestMessage(o),c=!1;if((void 0===a||(yield Kn.isNewer(t,a)))&&(c=!0,a=t),c){const m=rN.constructIndexes(i);yield this.messageStore.put(r,t,m);const j=yield Kn.getCid(t);yield this.eventLog.append(r,j,m),void 0!==this.eventStream&&this.eventStream.emit(r,{message:t},m),_={status:{code:202,detail:"Accepted"}}}else _={status:{code:409,detail:"Conflict"}};const E=[];for(const m of o)if(yield Kn.isNewer(a,m)){const j=yield Kn.getCid(m);E.push(j),yield this.messageStore.delete(r,j)}return yield this.eventLog.deleteEventsByCid(r,E),_})}static constructIndexes(r){const t=r.message.descriptor,{definition:i}=t,s=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["definition"]),{author:o}=r;return Object.assign(Object.assign({},s),{author:o,protocol:i.protocol,published:i.published})}static authorizeProtocolsConfigure(r,t,i){return Ose(this,void 0,void 0,function*(){if(t.isSignedByAuthorDelegate&&(yield t.authorizeAuthorDelegate(i)),t.author!==r){if(void 0===t.author||void 0===t.signaturePayload.permissionGrantId)throw new Sn(xn.ProtocolsConfigureAuthorizationFailed,"message failed authorization");{const s=yield Mr.fetchGrant(r,i,t.signaturePayload.permissionGrantId);yield U3.authorizeConfigure({protocolsConfigureMessage:t.message,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:s,messageStore:i})}}})}}var bG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class oC extends dg{static parse(r){return bG(this,void 0,void 0,function*(){return void 0!==r.authorization&&(yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor)),void 0!==r.descriptor.filter&&Vv(r.descriptor.filter.protocol),Ro.validateTimestamp(r.descriptor.messageTimestamp),new oC(r)})}static create(r){var t;return bG(this,void 0,void 0,function*(){const i={interface:Sr.Protocols,method:dr.Query,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp(),filter:r.filter?oC.normalizeFilter(r.filter):void 0};let s;ou(i),void 0!==r.signer&&(s=yield Kn.createAuthorization({descriptor:i,signer:r.signer,permissionGrantId:r.permissionGrantId}));const o={descriptor:i,authorization:s};return Kn.validateJsonSchema(o),new oC(o)})}static normalizeFilter(r){return Object.assign(Object.assign({},r),{protocol:Uv(r.protocol)})}authorize(r,t){return bG(this,void 0,void 0,function*(){if(this.author!==r){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new Sn(xn.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield Mr.fetchGrant(r,t,this.signaturePayload.permissionGrantId);yield U3.authorizeQuery({expectedGrantor:r,expectedGrantee:this.author,incomingMessage:this.message,permissionGrant:i,messageStore:t})}}})}}var Rse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class eTe{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.dataStore=i}handle({tenant:r,message:t}){return Rse(this,void 0,void 0,function*(){let i;try{i=yield oC.parse(t)}catch(a){return Ws(a,400)}try{yield Rm(t.authorization,this.didResolver),yield i.authorize(r,this.messageStore)}catch(a){return a.code===xn.AuthenticateJwsMissing||a.code===xn.ProtocolsQueryUnauthorized||a.code===xn.ProtocolsGrantAuthorizationQueryProtocolScopeMismatch?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(r,i)}:Ws(a,401)}const s=Object.assign(Object.assign({},t.descriptor.filter),{interface:Sr.Protocols,method:dr.Configure});ou(s);const{messages:o}=yield this.messageStore.query(r,[s]);return{status:{code:200,detail:"OK"},entries:o}})}fetchPublishedProtocolsConfigure(r,t){return Rse(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},t.message.descriptor.filter),{interface:Sr.Protocols,method:dr.Configure,published:!0}),{messages:s}=yield this.messageStore.query(r,[i]);return s})}}var uu=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class ki{static validateReferentialIntegrity(r,t,i){return uu(this,void 0,void 0,function*(){const s=yield ki.fetchProtocolDefinition(r,t.message.descriptor.protocol,i);ki.verifyType(t.message,s.types),yield ki.verifyProtocolPathAndContextId(r,t,i);const o=ki.getRuleSet(t.message.descriptor.protocolPath,s);yield ki.verifyAsRoleRecordIfNeeded(r,t,o,i),ki.verifySizeLimit(t,o),ki.verifyTagsIfNeeded(t,o)})}static authorizeWrite(r,t,i){return uu(this,void 0,void 0,function*(){let o;o=void 0===(yield ki.fetchInitialWrite(r,t.message.recordId,i))?yield ki.constructRecordChain(r,t.message.descriptor.parentId,i):yield ki.constructRecordChain(r,t.message.recordId,i);const a=yield ki.fetchProtocolDefinition(r,t.message.descriptor.protocol,i),c=ki.getRuleSet(t.message.descriptor.protocolPath,a);yield ki.verifyInvokedRole(r,t,t.message.descriptor.protocol,t.message.contextId,a,i),yield ki.authorizeAgainstAllowedActions(r,t,c,o,i)})}static authorizeRead(r,t,i,s){return uu(this,void 0,void 0,function*(){const o=yield ki.constructRecordChain(r,i.message.recordId,s),a=yield ki.fetchProtocolDefinition(r,i.message.descriptor.protocol,s),c=ki.getRuleSet(i.message.descriptor.protocolPath,a);yield ki.verifyInvokedRole(r,t,i.message.descriptor.protocol,i.message.contextId,a,s),yield ki.authorizeAgainstAllowedActions(r,t,c,o,s)})}static authorizeQueryOrSubscribe(r,t,i){return uu(this,void 0,void 0,function*(){const{protocol:s,protocolPath:o,contextId:a}=t.message.descriptor.filter,c=yield ki.fetchProtocolDefinition(r,s,i),_=ki.getRuleSet(o,c);yield ki.verifyInvokedRole(r,t,s,a,c,i),yield ki.authorizeAgainstAllowedActions(r,t,_,[],i)})}static authorizeDelete(r,t,i,s){return uu(this,void 0,void 0,function*(){const o=yield ki.constructRecordChain(r,t.message.descriptor.recordId,s),a=yield ki.fetchProtocolDefinition(r,i.message.descriptor.protocol,s),c=ki.getRuleSet(i.message.descriptor.protocolPath,a);yield ki.verifyInvokedRole(r,t,i.message.descriptor.protocol,i.message.contextId,a,s),yield ki.authorizeAgainstAllowedActions(r,t,c,o,s)})}static fetchProtocolDefinition(r,t,i){return uu(this,void 0,void 0,function*(){if(t===Mr.uri)return Mr.definition;const s={interface:Sr.Protocols,method:dr.Configure,protocol:t},{messages:o}=yield i.query(r,[s]);if(0===o.length)throw new Sn(xn.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${t}`);return o[0].descriptor.definition})}static constructRecordChain(r,t,i){return uu(this,void 0,void 0,function*(){if(void 0===t)return[];const s=[];let o=t;for(;void 0!==o;){const a=yield ki.fetchInitialWrite(r,o,i);if(void 0===a)throw new Sn(xn.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${o} when constructing record chain.`);s.push(a),o=a.descriptor.parentId}return s.reverse()})}static fetchInitialWrite(r,t,i){return uu(this,void 0,void 0,function*(){const s={interface:Sr.Records,method:dr.Write,recordId:t},{messages:o}=yield i.query(r,[s]);return 0===o.length?void 0:yield Li.getInitialWrite(o)})}static getRuleSet(r,t){const i=ki.getRuleSetAtProtocolPath(r,t);if(void 0===i)throw new Sn(xn.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${r}`);return i}static verifyProtocolPathAndContextId(r,t,i){var s;return uu(this,void 0,void 0,function*(){const o=t.message.descriptor.protocolPath,a=ki.getTypeName(o),c=t.message.descriptor.parentId;if(void 0===c){if(o!==a)throw new Sn(xn.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${o}' is not valid for records with no parent'.`);return}const E={isLatestBaseState:!0,interface:Sr.Records,method:dr.Write,protocol:t.message.descriptor.protocol,recordId:c},{messages:m}=yield i.query(r,[E]),j=m[0];if(`${null===(s=j?.descriptor)||void 0===s?void 0:s.protocolPath}/${a}`!==o)throw new Sn(xn.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${o}'.`);const ue=`${j.contextId}/${t.message.recordId}`,pe=t.message.contextId;if(pe!==ue)throw new Sn(xn.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${pe}' is not the same as expected: '${ue}'.`)})}static verifyType(r,t){const i=Object.keys(t),o=ki.getTypeName(r.descriptor.protocolPath);if(!i.includes(o))throw new Sn(xn.ProtocolAuthorizationInvalidType,`record with type ${o} not allowed in protocol`);const c=ki.getTypeName(r.descriptor.protocolPath),_=t[c],{schema:E}=r.descriptor;if(void 0!==_.schema&&_.schema!==E)throw new Sn(xn.ProtocolAuthorizationInvalidSchema,`type '${c}' must have schema '${_.schema}',         instead has '${E}'`);const{dataFormat:m}=r.descriptor;if(void 0!==_.dataFormats&&!_.dataFormats.includes(m))throw new Sn(xn.ProtocolAuthorizationIncorrectDataFormat,`type '${c}' must have data format in (${_.dataFormats}),         instead has '${m}'`)}static verifyInvokedRole(r,t,i,s,o,a){var c;return uu(this,void 0,void 0,function*(){const _=null===(c=t.signaturePayload)||void 0===c?void 0:c.protocolRole;if(void 0===_)return;const E=ki.getRuleSetAtProtocolPath(_,o);if(void 0===E||!E.$role)throw new Sn(xn.ProtocolAuthorizationNotARole,`Protocol path ${_} does not match role record type.`);const m={interface:Sr.Records,method:dr.Write,protocol:i,protocolPath:_,recipient:t.author,isLatestBaseState:!0},j=_.split("/").length-1;if(void 0===s&&j>0)throw new Sn(xn.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(j>0){const ue=s.split("/").slice(0,j).join("/"),pe=sd.constructPrefixFilterAsRangeFilter(ue);m.contextId=pe}const{messages:oe}=yield a.query(r,[m]);if(0===oe.length)throw new Sn(xn.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${_}`)})}static getActionsSeekingARuleMatch(r,t,i){return uu(this,void 0,void 0,function*(){switch(t.message.descriptor.method){case dr.Delete:const s=t,o=s.message.descriptor.recordId,a=yield Li.fetchInitialRecordsWrite(i,r,o);if(void 0===a)return[];const c=[];return s.message.descriptor.prune?(c.push(ga.CoPrune),t.author===a.author&&c.push(ga.Prune)):(c.push(ga.CoDelete),t.author===a.author&&c.push(ga.Delete)),c;case dr.Query:return[ga.Query];case dr.Read:return[ga.Read];case dr.Subscribe:return[ga.Subscribe];case dr.Write:if(yield t.isInitialWrite())return[ga.Create];{const m=t.message.recordId,j=yield Li.fetchInitialRecordsWrite(i,r,m);return void 0===j?[]:t.author===j.author?[ga.CoUpdate,ga.Update]:[ga.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(r,t,i,s,o){var a;return uu(this,void 0,void 0,function*(){const c=t.message.descriptor.method,_=yield ki.getActionsSeekingARuleMatch(r,t,o),E=t.author,m=i.$actions;if(void 0===m)throw new Sn(xn.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${c}, ${E} is unauthorized`);const j=null===(a=t.signaturePayload)||void 0===a?void 0:a.protocolRole;for(const oe of m)if(oe.can.some(pe=>_.includes(pe))){if(oe.who===sC.Anyone)return;if(void 0!==E)if(void 0===j)if(oe.who!==sC.Recipient||void 0!==oe.of){if(yield ki.checkActor(E,oe,s))return}else{let pe;if(pe=t.message.descriptor.method===dr.Write?t.message:s[s.length-1],pe.descriptor.recipient===E)return}else if(oe.role===j)return}throw new Sn(xn.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${c} by author ${t.author} not allowed.`)})}static verifySizeLimit(r,t){const{min:i=0,max:s}=t.$size||{},o=r.message.descriptor.dataSize;if(o<i)throw new Sn(xn.ProtocolAuthorizationMinSizeInvalid,`data size ${o} is less than allowed ${i}`);if(void 0!==s&&o>s)throw new Sn(xn.ProtocolAuthorizationMaxSizeInvalid,`data size ${o} is more than allowed ${s}`)}static verifyTagsIfNeeded(r,t){if(void 0!==t.$tags){const{tags:i={},protocol:s,protocolPath:o}=r.message.descriptor,a=t.$tags,{$allowUndefinedTags:c,$requiredTags:_}=a,E=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(a,["$allowUndefinedTags","$requiredTags"]),m=c||!1,j=_||[],oe=new Ise.default,le=oe.compile({type:"object",properties:E,required:j,additionalProperties:m});if(!le(i)){const pe=oe.errorsText(le.errors,{dataVar:`${s}/${o}/$tags`});throw new Sn(xn.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${pe}`)}}}static verifyAsRoleRecordIfNeeded(r,t,i,s){return uu(this,void 0,void 0,function*(){if(!i.$role)return;const o=t,a=o.message.descriptor.recipient;if(void 0===a)throw new Sn(xn.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const c=o.message.descriptor.protocolPath,_={interface:Sr.Records,method:dr.Write,isLatestBaseState:!0,protocol:o.message.descriptor.protocol,protocolPath:c,recipient:a},E=ai.getParentContextFromOfContextId(o.message.contextId);if(""!==E){const le=sd.constructPrefixFilterAsRangeFilter(E);_.contextId=le}const{messages:m}=yield s.query(r,[_]);if(m.filter(le=>le.recordId!==o.message.recordId).length>0)throw new Sn(xn.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${a}' is already recipient of a role record at protocol path '${c} under the parent context ${E}.`)})}static getRuleSetAtProtocolPath(r,t){const i=r.split("/");let s=t.structure,o=0;for(;o<i.length;){const c=s[i[o]];if(void 0===c)return;s=c,o++}return s}static checkActor(r,t,i){return uu(this,void 0,void 0,function*(){const s=i.find(o=>o.descriptor.protocolPath===t.of);if(void 0===s)return!1;if(t.who===sC.Recipient)return r===s.descriptor.recipient;{const o=(yield Li.parse(s)).author;return r===o}})}static getTypeName(r){return r.split("/").slice(-1)[0]}}var _G=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class aC extends dg{static parse(r){return _G(this,void 0,void 0,function*(){let t;return void 0!==r.authorization&&(t=yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor)),yield ai.validateDelegatedGrantReferentialIntegrity(r,t),Ro.validateTimestamp(r.descriptor.messageTimestamp),new aC(r)})}static create(r){var t,i;return _G(this,void 0,void 0,function*(){const s=r.recordId,o=Ro.getCurrentTimestamp(),a={interface:Sr.Records,method:dr.Delete,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:o,recordId:s,prune:null!==(i=r.prune)&&void 0!==i&&i},_={descriptor:a,authorization:yield Kn.createAuthorization({descriptor:a,signer:r.signer,protocolRole:r.protocolRole,delegatedGrant:r.delegatedGrant})};return Kn.validateJsonSchema(_),new aC(_)})}constructIndexes(r){const i=Object.assign({},this.message.descriptor),{protocol:s,protocolPath:o,recipient:a,schema:c,parentId:_,dateCreated:E}=r.descriptor,m=Object.assign({isLatestBaseState:!0,protocol:s,protocolPath:o,recipient:a,schema:c,parentId:_,dateCreated:E,contextId:r.contextId,author:this.author},i);return ou(m),m}authorizeDelegate(r,t){return _G(this,void 0,void 0,function*(){const i=yield id.parse(this.message.authorization.authorDelegatedGrant);yield fh.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:r,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:t})})}}var cC=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},wG=function(n){return n.RecordsDelete="RecordsDelete",n}(wG||{});let nTe=(()=>{class n{constructor(t,i){this.resumableTaskStore=t,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[wG.RecordsDelete]:s=>cC(this,void 0,void 0,function*(){return yield i.performRecordsDelete(s)})}}run(t){return cC(this,void 0,void 0,function*(){const i=2*n.timeoutExtensionFrequencyInSeconds,s=yield this.resumableTaskStore.register(t,i);yield this.runWithAutomaticTimeoutExtension(s)})}runWithAutomaticTimeoutExtension(t){return cC(this,void 0,void 0,function*(){const i=2*n.timeoutExtensionFrequencyInSeconds;let s;try{s=setInterval(()=>{this.resumableTaskStore.extend(t.id,i)},1e3*n.timeoutExtensionFrequencyInSeconds);const o=this.resumableTaskHandlers[t.task.name];yield o(t.task.data),yield this.resumableTaskStore.delete(t.id)}finally{n.clearTimeoutExtensionTimer(s)}})}static clearTimeoutExtensionTimer(t){clearInterval(t)}resumeTasksAndWaitForCompletion(){return cC(this,void 0,void 0,function*(){for(;;){const t=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===t||0===t.length)break;yield this.retryTasksUntilCompletion(t)}})}retryTasksUntilCompletion(t){return cC(this,void 0,void 0,function*(){let i=t;for(;i.length>0;){const s=i;i=[];const o=s.map(a=>cC(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(a)}catch(c){console.error("Error while running resumable task:",c),console.error("Resumable task:",t),i.push(a)}}));yield Promise.all(o)}})}}return n.timeoutExtensionFrequencyInSeconds=30,n})();var Fse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class xG{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.resumableTaskManager=i}handle({tenant:r,message:t}){return Fse(this,void 0,void 0,function*(){let i;try{i=yield aC.parse(t)}catch(E){return Ws(E,400)}try{yield Rm(t.authorization,this.didResolver)}catch(E){return Ws(E,401)}const s={interface:Sr.Records,recordId:t.descriptor.recordId},{messages:o}=yield this.messageStore.query(r,[s]),a=yield Kn.getNewestMessage(o);if(!ai.canPerformDeleteAgainstRecord(t,a))return{status:{code:404,detail:"Not Found"}};if(!(yield Kn.isNewer(t,a)))return{status:{code:409,detail:"Conflict"}};try{const E=yield Li.fetchInitialRecordsWrite(this.messageStore,r,t.descriptor.recordId);yield xG.authorizeRecordsDelete(r,i,E,this.messageStore)}catch(E){return Ws(E,401)}return yield this.resumableTaskManager.run({name:wG.RecordsDelete,data:{tenant:r,message:t}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(r,t,i,s){return Fse(this,void 0,void 0,function*(){if(Kn.isSignedByAuthorDelegate(t.message)&&(yield t.authorizeDelegate(i.message,s)),t.author!==r){if(void 0===i.message.descriptor.protocol)throw new Sn(xn.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield ki.authorizeDelete(r,t,i,s)}})}}var gh=function(n){return n[n.Descending=-1]="Descending",n[n.Ascending=1]="Ascending",n}(gh||{}),z3=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class eb{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.dataStore=i}handle({tenant:r,message:t}){return z3(this,void 0,void 0,function*(){let i,s,o;try{i=yield B3.parse(t)}catch(a){return Ws(a,400)}if(ai.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const a=yield this.fetchPublishedRecords(r,i);s=a.messages,o=a.cursor}else{try{yield Rm(t.authorization,this.didResolver),yield eb.authorizeRecordsQuery(r,i,this.messageStore)}catch(a){return Ws(a,401)}if(i.author===r){const a=yield this.fetchRecordsAsOwner(r,i);s=a.messages,o=a.cursor}else{const a=yield this.fetchRecordsAsNonOwner(r,i);s=a.messages,o=a.cursor}}for(const a of s)if(!(yield Li.isInitialWrite(a))){const _=(yield this.messageStore.query(r,[{recordId:a.recordId,isLatestBaseState:!1,method:dr.Write}])).messages[0];delete _.encodedData,a.initialWrite=_}return{status:{code:200,detail:"OK"},entries:s,cursor:o}})}convertDateSort(r){switch(r){case tf.CreatedAscending:return{dateCreated:gh.Ascending};case tf.CreatedDescending:return{dateCreated:gh.Descending};case tf.PublishedAscending:return{datePublished:gh.Ascending};case tf.PublishedDescending:return{datePublished:gh.Descending};default:return{dateCreated:gh.Ascending}}}fetchRecordsAsOwner(r,t){return z3(this,void 0,void 0,function*(){const{dateSort:i,filter:s,pagination:o}=t.message.descriptor,a=Object.assign(Object.assign({},ai.convertFilter(s,i)),{interface:Sr.Records,method:dr.Write,isLatestBaseState:!0}),c=this.convertDateSort(i);return this.messageStore.query(r,[a],c,o)})}fetchRecordsAsNonOwner(r,t){return z3(this,void 0,void 0,function*(){const{dateSort:i,pagination:s,filter:o}=t.message.descriptor,a=[];ai.filterIncludesPublishedRecords(o)&&a.push(eb.buildPublishedRecordsFilter(t)),ai.filterIncludesUnpublishedRecords(o)&&(ai.shouldBuildUnpublishedAuthorFilter(o,t.author)&&a.push(eb.buildUnpublishedRecordsByQueryAuthorFilter(t)),ai.shouldProtocolAuthorize(t.signaturePayload)&&a.push(eb.buildUnpublishedProtocolAuthorizedRecordsFilter(t)),ai.shouldBuildUnpublishedRecipientFilter(o,t.author)&&a.push(eb.buildUnpublishedRecordsForQueryAuthorFilter(t)));const c=this.convertDateSort(i);return this.messageStore.query(r,a,c,s)})}fetchPublishedRecords(r,t){return z3(this,void 0,void 0,function*(){const{dateSort:i,pagination:s}=t.message.descriptor,o=eb.buildPublishedRecordsFilter(t),a=this.convertDateSort(i);return this.messageStore.query(r,[o],a,s)})}static buildPublishedRecordsFilter(r){const{dateSort:t,filter:i}=r.message.descriptor;return Object.assign(Object.assign({},ai.convertFilter(i,t)),{interface:Sr.Records,method:dr.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(r){const{dateSort:t,filter:i}=r.message.descriptor;return Object.assign(Object.assign({},ai.convertFilter(i,t)),{interface:Sr.Records,method:dr.Write,recipient:r.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(r){const{dateSort:t,filter:i}=r.message.descriptor;return Object.assign(Object.assign({},ai.convertFilter(i,t)),{interface:Sr.Records,method:dr.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(r){const{dateSort:t,filter:i}=r.message.descriptor;return Object.assign(Object.assign({},ai.convertFilter(i,t)),{author:r.author,interface:Sr.Records,method:dr.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(r,t,i){return z3(this,void 0,void 0,function*(){Kn.isSignedByAuthorDelegate(t.message)&&(yield t.authorizeDelegate(i)),ai.shouldProtocolAuthorize(t.signaturePayload)&&(yield ki.authorizeQueryOrSubscribe(r,t,i))})}}var EG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class H3 extends dg{static parse(r){return EG(this,void 0,void 0,function*(){let t;return void 0!==r.authorization&&(t=yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor)),yield ai.validateDelegatedGrantReferentialIntegrity(r,t),Ro.validateTimestamp(r.descriptor.messageTimestamp),new H3(r)})}static create(r){var t;return EG(this,void 0,void 0,function*(){const{filter:i,signer:s,permissionGrantId:o,protocolRole:a}=r,c=Ro.getCurrentTimestamp(),_={interface:Sr.Records,method:dr.Read,filter:ai.normalizeFilter(i),messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:c};let E;ou(_),void 0!==s&&(E=yield Kn.createAuthorization({descriptor:_,signer:s,permissionGrantId:o,protocolRole:a,delegatedGrant:r.delegatedGrant}));const m={descriptor:_,authorization:E};return Kn.validateJsonSchema(m),new H3(m)})}authorizeDelegate(r,t){return EG(this,void 0,void 0,function*(){const i=yield id.parse(this.message.authorization.authorDelegatedGrant);yield fh.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:r,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:t})})}}var Nse=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class SG{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.dataStore=i}handle({tenant:r,message:t}){return Nse(this,void 0,void 0,function*(){let i;try{i=yield H3.parse(t)}catch(m){return Ws(m,400)}try{void 0!==i.author&&(yield Rm(t.authorization,this.didResolver))}catch(m){return Ws(m,401)}const s=Object.assign({interface:Sr.Records,isLatestBaseState:!0},ai.convertFilter(t.descriptor.filter)),{messages:o}=yield this.messageStore.query(r,[s]);if(0===o.length)return{status:{code:404,detail:"Not Found"}};if(o.length>1)return Ws(new Sn(xn.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const a=o[0];if(a.descriptor.method===dr.Delete){const m=a;return{status:{code:404,detail:"Not Found"},entry:{recordsDelete:m,initialWrite:yield Li.fetchInitialRecordsWriteMessage(this.messageStore,r,m.descriptor.recordId)}}}const c=a;try{yield SG.authorizeRecordsRead(r,i,yield Li.parse(c),this.messageStore)}catch(m){return Ws(m,401)}let _;if(void 0!==c.encodedData){const m=Wr.base64UrlToBytes(c.encodedData);_=Qv.fromBytes(m),delete c.encodedData}else{const m=yield this.dataStore.get(r,c.recordId,c.descriptor.dataCid);if(void 0===m?.dataStream)return{status:{code:404,detail:"Not Found"}};_=m.dataStream}const E={status:{code:200,detail:"OK"},entry:{recordsWrite:c,data:_}};if(!(yield Li.isInitialWrite(c))){const j=(yield this.messageStore.query(r,[{recordId:c.recordId,isLatestBaseState:!1,method:dr.Write}])).messages[0];delete j.encodedData,E.entry.initialWrite=j}return E})}static authorizeRecordsRead(r,t,i,s){return Nse(this,void 0,void 0,function*(){Kn.isSignedByAuthorDelegate(t.message)&&(yield t.authorizeDelegate(i.message,s));const{descriptor:o}=i.message;if(t.author!==r){if(!0===o.published)return;if(void 0!==t.author&&(t.author===o.recipient||t.author===i.author))return;if(void 0!==t.author&&void 0!==t.signaturePayload.permissionGrantId){const a=yield Mr.fetchGrant(r,s,t.signaturePayload.permissionGrantId);yield fh.authorizeRead({recordsReadMessage:t.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:a,messageStore:s})}else{if(void 0===o.protocol)throw new Sn(xn.RecordsReadAuthorizationFailed,"message failed authorization");yield ki.authorizeRead(r,t,i,s)}}})}}var CG=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class G3 extends dg{static parse(r){return CG(this,void 0,void 0,function*(){let t;if(void 0!==r.authorization&&(t=yield Kn.validateSignatureStructure(r.authorization.signature,r.descriptor)),yield ai.validateDelegatedGrantReferentialIntegrity(r,t),void 0!==t?.protocolRole&&void 0===r.descriptor.filter.protocolPath)throw new Sn(xn.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==r.descriptor.filter.protocol&&Vv(r.descriptor.filter.protocol),void 0!==r.descriptor.filter.schema&&bF(r.descriptor.filter.schema),Ro.validateTimestamp(r.descriptor.messageTimestamp),new G3(r)})}static create(r){var t;return CG(this,void 0,void 0,function*(){const i={interface:Sr.Records,method:dr.Subscribe,messageTimestamp:null!==(t=r.messageTimestamp)&&void 0!==t?t:Ro.getCurrentTimestamp(),filter:ai.normalizeFilter(r.filter)};ou(i);const s=r.signer;let o;s&&(o=yield Kn.createAuthorization({descriptor:i,signer:s,protocolRole:r.protocolRole,delegatedGrant:r.delegatedGrant}));const a={descriptor:i,authorization:o};return Kn.validateJsonSchema(a),new G3(a)})}authorizeDelegate(r){return CG(this,void 0,void 0,function*(){const t=yield id.parse(this.message.authorization.authorDelegatedGrant);yield fh.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:t,messageStore:r})})}}var iN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Fm{constructor(r,t,i){this.didResolver=r,this.messageStore=t,this.eventStream=i}handle({tenant:r,message:t,subscriptionHandler:i}){return iN(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Ws(new Sn(xn.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let s;try{s=yield G3.parse(t)}catch(E){return Ws(E,400)}let o=[];if(ai.filterIncludesPublishedRecords(s.message.descriptor.filter)&&void 0===s.author)o=[Fm.buildPublishedRecordsFilter(s)],delete t.authorization;else{try{yield Rm(t.authorization,this.didResolver),yield Fm.authorizeRecordsSubscribe(r,s,this.messageStore)}catch(E){return Ws(E,401)}o=s.author===r?yield Fm.filterAsOwner(s):yield Fm.filterAsNonOwner(s)}const c=yield Kn.getCid(t);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(r,c,(E,m,j)=>{r===E&&sd.matchAnyFilter(j,o)&&i(m)})}})}static filterAsOwner(r){return iN(this,void 0,void 0,function*(){const{filter:t}=r.message.descriptor;return[Object.assign(Object.assign({},ai.convertFilter(t)),{interface:Sr.Records,method:[dr.Write,dr.Delete]})]})}static filterAsNonOwner(r){return iN(this,void 0,void 0,function*(){const t=[],{filter:i}=r.message.descriptor;return ai.filterIncludesPublishedRecords(i)&&t.push(Fm.buildPublishedRecordsFilter(r)),ai.filterIncludesUnpublishedRecords(i)&&(ai.shouldBuildUnpublishedAuthorFilter(i,r.author)&&t.push(Fm.buildUnpublishedRecordsBySubscribeAuthorFilter(r)),ai.shouldProtocolAuthorize(r.signaturePayload)&&t.push(Fm.buildUnpublishedProtocolAuthorizedRecordsFilter(r)),ai.shouldBuildUnpublishedRecipientFilter(i,r.author)&&t.push(Fm.buildUnpublishedRecordsForSubscribeAuthorFilter(r))),t})}static buildPublishedRecordsFilter(r){return Object.assign(Object.assign({},ai.convertFilter(r.message.descriptor.filter)),{interface:Sr.Records,method:[dr.Write,dr.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(r){return Object.assign(Object.assign({},ai.convertFilter(r.message.descriptor.filter)),{interface:Sr.Records,method:[dr.Write,dr.Delete],recipient:r.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(r){return Object.assign(Object.assign({},ai.convertFilter(r.message.descriptor.filter)),{interface:Sr.Records,method:[dr.Write,dr.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(r){return Object.assign(Object.assign({},ai.convertFilter(r.message.descriptor.filter)),{author:r.author,interface:Sr.Records,method:[dr.Write,dr.Delete],published:!1})}static authorizeRecordsSubscribe(r,t,i){return iN(this,void 0,void 0,function*(){Kn.isSignedByAuthorDelegate(t.message)&&(yield t.authorizeDelegate(i)),ai.shouldProtocolAuthorize(t.signaturePayload)&&(yield ki.authorizeQueryOrSubscribe(r,t,i))})}}let AG=(()=>{class n{}return n.maxDataSizeAllowedToBeEncoded=3e4,n})();var W3=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class tb{constructor({messageStore:r,dataStore:t,eventLog:i,eventStream:s}){this.messageStore=r,this.dataStore=t,this.eventLog=i,this.eventStream=s}performRecordsDelete({tenant:r,message:t}){return W3(this,void 0,void 0,function*(){const i={interface:Sr.Records,recordId:t.descriptor.recordId},{messages:s}=yield this.messageStore.query(r,[i]),o=yield Kn.getNewestMessage(s);if(!ai.canPerformDeleteAgainstRecord(t,o))return;const a=yield aC.parse(t),c=yield Li.getInitialWrite(s),_=a.constructIndexes(c),E=yield Kn.getCid(t);yield this.messageStore.put(r,t,_),yield this.eventLog.append(r,E,_),void 0!==this.eventStream&&this.eventStream.emit(r,{message:t,initialWrite:c},_),t.descriptor.prune&&(yield tb.purgeRecordDescendants(r,t.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield tb.deleteAllOlderMessagesButKeepInitialWrite(r,s,t,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(r,t,i,s){return W3(this,void 0,void 0,function*(){if(i.descriptor.method!==dr.Write)return;const o=i;o.descriptor.dataSize<=AG.maxDataSizeAllowedToBeEncoded||o.descriptor.dataCid!==s.descriptor.dataCid&&(yield r.delete(t,o.recordId,o.descriptor.dataCid))})}static purgeRecordDescendants(r,t,i,s,o){return W3(this,void 0,void 0,function*(){const a={interface:Sr.Records,parentId:t},{messages:c}=yield i.query(r,[a]),_=new Map;for(const E of c){let m;m=ai.isRecordsWrite(E)?E.recordId:E.descriptor.recordId,_.has(m)||_.set(m,[]),_.get(m).push(E)}for(const E of _.keys())yield tb.purgeRecordDescendants(r,E,i,s,o);for(const E of _.keys())yield tb.purgeRecordMessages(r,_.get(E),i,s,o)})}static purgeRecordMessages(r,t,i,s,o){return W3(this,void 0,void 0,function*(){const a=t.filter(E=>E.descriptor.method===dr.Write),c=yield Kn.getNewestMessage(a);yield s.delete(r,c.recordId,c.descriptor.dataCid);const _=yield Promise.all(t.map(E=>Kn.getCid(E)));yield o.deleteEventsByCid(r,_),yield Promise.all(_.map(E=>i.delete(r,E)))})}static deleteAllOlderMessagesButKeepInitialWrite(r,t,i,s,o,a){return W3(this,void 0,void 0,function*(){const c=[];for(const _ of t){if(yield Kn.isOlder(_,i)){yield tb.deleteFromDataStoreIfNeeded(o,r,_,i);const m=yield Kn.getCid(_);if(yield s.delete(r,m),yield Li.isInitialWrite(_)){const ue=yield(yield Li.parse(_)).constructIndexes(!1),pe=_;delete pe.encodedData,yield s.put(r,pe,ue)}else{const oe=yield Kn.getCid(_);c.push(oe)}}yield a.deleteEventsByCid(r,c)}})}}var Aw=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Tw{constructor(r,t,i,s,o){this.didResolver=r,this.messageStore=t,this.dataStore=i,this.eventLog=s,this.eventStream=o}handle({tenant:r,message:t,dataStream:i}){return Aw(this,void 0,void 0,function*(){let s;try{s=yield Li.parse(t),void 0!==t.descriptor.protocol&&(yield ki.validateReferentialIntegrity(r,s,this.messageStore))}catch(le){return Ws(le,400)}try{yield Rm(t.authorization,this.didResolver),yield Tw.authorizeRecordsWrite(r,s,this.messageStore)}catch(le){return Ws(le,401)}const o={interface:Sr.Records,recordId:t.recordId},{messages:a}=yield this.messageStore.query(r,[o]),c=yield s.isInitialWrite();let _;if(!c)try{_=yield Li.getInitialWrite(a),Li.verifyEqualityOfImmutableProperties(_,t)}catch(le){return Ws(le,400)}const E=yield Kn.getNewestMessage(a);let j,m=!1;if(void 0===E||(yield Kn.isNewer(t,E))?(m=!0,j=t):j=E,!m)return{status:{code:409,detail:"Conflict"}};try{if(E?.descriptor.method===dr.Delete)throw new Sn(xn.RecordsWriteNotAllowedAfterDelete,"RecordsWrite is not allowed after a RecordsDelete.");yield this.preProcessingForCoreRecordsWrite(r,t);let le=!1,ue=t;if(void 0!==i)ue=yield this.processMessageWithDataStream(r,t,i),le=!0;else if(!c){const we=E;ue=yield this.processMessageWithoutDataStream(r,t,we),le=!0}const pe=yield s.constructIndexes(le);yield this.messageStore.put(r,ue,pe),yield this.eventLog.append(r,yield Kn.getCid(t),pe),void 0!==this.eventStream&&le&&this.eventStream.emit(r,{message:t,initialWrite:_},pe)}catch(le){const ue=le;if(void 0!==ue.code&&(ue.code===xn.RecordsWriteMissingEncodedDataInPrevious||ue.code===xn.RecordsWriteMissingDataInPrevious||ue.code===xn.RecordsWriteNotAllowedAfterDelete||ue.code===xn.RecordsWriteDataCidMismatch||ue.code===xn.RecordsWriteDataSizeMismatch||ue.code.startsWith("PermissionsProtocolValidate")||ue.code.startsWith("SchemaValidator")))return Ws(le,400);throw le}const oe={status:c&&void 0===i?{code:204,detail:"No Content"}:{code:202,detail:"Accepted"}};return yield tb.deleteAllOlderMessagesButKeepInitialWrite(r,a,j,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(r,s),oe})}preProcessingForCoreRecordsWrite(r,t){var i;return Aw(this,void 0,void 0,function*(){if(t.descriptor.protocol===Mr.uri&&t.descriptor.protocolPath===Mr.revocationPath){const s=t.descriptor.parentId,o=yield Mr.fetchGrant(r,this.messageStore,s),a=null===(i=t.descriptor.tags)||void 0===i?void 0:i.protocol,c="protocol"in o.scope?o.scope.protocol:void 0;if(c!==a)throw new Sn(xn.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${a} does not match grant protocol ${c}`)}})}static validateSchemaForCoreRecordsWrite(r,t){r.descriptor.protocol===Mr.uri&&Mr.validateSchema(r,t)}postProcessingForCoreRecordsWrite(r,t){return Aw(this,void 0,void 0,function*(){if(t.message.descriptor.protocol===Mr.uri&&t.message.descriptor.protocolPath===Mr.revocationPath){const s={permissionGrantId:t.message.descriptor.parentId,dateCreated:{gte:t.message.descriptor.messageTimestamp}},{messages:o}=yield this.messageStore.query(r,[s]),a=[];for(const c of o){const _=yield Kn.getCid(c);yield this.messageStore.delete(r,_)}this.eventLog.deleteEventsByCid(r,a)}})}cloneAndAddEncodedData(r,t){return Aw(this,void 0,void 0,function*(){const i=Object.assign({},r);return i.encodedData=Wr.bytesToBase64Url(t),i})}processMessageWithDataStream(r,t,i){return Aw(this,void 0,void 0,function*(){let s=t;if(t.descriptor.dataSize<=AG.maxDataSizeAllowedToBeEncoded){const o=yield Qv.toBytes(i),a=yield Uc.computeDagPbCidFromBytes(o);Tw.validateDataIntegrity(t.descriptor.dataCid,t.descriptor.dataSize,a,o.length),Tw.validateSchemaForCoreRecordsWrite(t,o),s=yield this.cloneAndAddEncodedData(t,o)}else{const[o,a]=Qv.duplicateDataStream(i,2);try{const[c,_]=yield Promise.all([Uc.computeDagPbCidFromStream(o),this.dataStore.put(r,t.recordId,t.descriptor.dataCid,a)]);Tw.validateDataIntegrity(t.descriptor.dataCid,t.descriptor.dataSize,c,_.dataSize)}catch(c){throw yield this.dataStore.delete(r,t.recordId,t.descriptor.dataCid),c}}return s})}processMessageWithoutDataStream(r,t,i){return Aw(this,void 0,void 0,function*(){const s=Object.assign({},t),{dataCid:o,dataSize:a}=t.descriptor;if(Tw.validateDataIntegrity(o,a,i.descriptor.dataCid,i.descriptor.dataSize),a<=AG.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new Sn(xn.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");s.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(r,i.recordId,t.descriptor.dataCid)))throw new Sn(xn.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return s})}static validateDataIntegrity(r,t,i,s){if(r!==i)throw new Sn(xn.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${r}`);if(t!==s)throw new Sn(xn.RecordsWriteDataSizeMismatch,`actual data size ${s} bytes does not match dataSize in descriptor: ${t}`)}static authorizeRecordsWrite(r,t,i){return Aw(this,void 0,void 0,function*(){if(void 0!==t.owner&&t.owner!==r)throw new Sn(xn.RecordsWriteOwnerAndTenantMismatch,`Owner ${t.owner} must be the same as tenant ${r} when specified.`);if(t.isSignedByAuthorDelegate&&(yield t.authorizeAuthorDelegate(i)),t.isSignedByOwnerDelegate&&(yield t.authorizeOwnerDelegate(i)),void 0===t.owner){if(t.author===r)return;if(void 0!==t.author&&void 0!==t.signaturePayload.permissionGrantId){const s=yield Mr.fetchGrant(r,i,t.signaturePayload.permissionGrantId);yield fh.authorizeWrite({recordsWriteMessage:t.message,expectedGrantor:r,expectedGrantee:t.author,permissionGrant:s,messageStore:i})}else{if(void 0===t.message.descriptor.protocol)throw new Sn(xn.RecordsWriteAuthorizationFailed,"message failed authorization");yield ki.authorizeWrite(r,t,i)}}})}}var lC=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class TG{constructor(r){this.didResolver=r.didResolver,this.tenantGate=r.tenantGate,this.eventStream=r.eventStream,this.messageStore=r.messageStore,this.dataStore=r.dataStore,this.resumableTaskStore=r.resumableTaskStore,this.eventLog=r.eventLog,this.eventStream=r.eventStream,this.storageController=new tb({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new nTe(r.resumableTaskStore,this.storageController),this.methodHandlers={[Sr.Messages+dr.Query]:new mG(this.didResolver,this.messageStore,this.eventLog),[Sr.Messages+dr.Read]:new gG(this.didResolver,this.messageStore,this.dataStore),[Sr.Messages+dr.Subscribe]:new yG(this.didResolver,this.messageStore,this.eventStream),[Sr.Protocols+dr.Configure]:new rN(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Sr.Protocols+dr.Query]:new eTe(this.didResolver,this.messageStore,this.dataStore),[Sr.Records+dr.Delete]:new xG(this.didResolver,this.messageStore,this.resumableTaskManager),[Sr.Records+dr.Query]:new eb(this.didResolver,this.messageStore,this.dataStore),[Sr.Records+dr.Read]:new SG(this.didResolver,this.messageStore,this.dataStore),[Sr.Records+dr.Subscribe]:new Fm(this.didResolver,this.messageStore,this.eventStream),[Sr.Records+dr.Write]:new Tw(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(r){var t,i;return lC(this,void 0,void 0,function*(){null!==(t=r.didResolver)&&void 0!==t||(r.didResolver=new kE({didResolvers:[Qf,Ku,ME],cache:new D1({location:"RESOLVERCACHE"})})),null!==(i=r.tenantGate)&&void 0!==i||(r.tenantGate=new YAe);const s=new TG(r);return yield s.open(),s})}open(){var r;return lC(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(r=this.eventStream)||void 0===r?void 0:r.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var r;return lC(this,void 0,void 0,function*(){yield null===(r=this.eventStream)||void 0===r?void 0:r.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(r,t,i={}){var s;return lC(this,void 0,void 0,function*(){const o=null!==(s=yield this.validateTenant(r))&&void 0!==s?s:yield this.validateMessageIntegrity(t);if(void 0!==o)return o;const{dataStream:a,subscriptionHandler:c}=i,_=t.descriptor.interface+t.descriptor.method;return yield this.methodHandlers[_].handle({tenant:r,message:t,dataStream:a,subscriptionHandler:c})})}validateTenant(r){var t;return lC(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(r);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(t=i.detail)&&void 0!==t?t:`DID ${r} is not an active tenant.`}}})}validateMessageIntegrity(r){var t,i;return lC(this,void 0,void 0,function*(){const s=null===(t=r?.descriptor)||void 0===t?void 0:t.interface,o=null===(i=r?.descriptor)||void 0===i?void 0:i.method;if(void 0===s||void 0===o)return{status:{code:400,detail:`Both interface and method must be present, interface: ${s}, method: ${o}`}};try{Kn.validateJsonSchema(r)}catch(a){return Ws(a,400)}})}}function iTe(n){return new Promise((r,t)=>{n.aborted?t(n.reason):n.addEventListener("abort",()=>{t(n.reason)})})}function Fl(n,r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return r?Promise.race([n,iTe(r)]):n})}var sTe=A(84564),lf=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},_p=function(n){return this instanceof _p?(this.v=n,this):new _p(n)},DG=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}},Lse=function(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(oe){i[oe]&&(s[oe]=function(le){return new Promise(function(ue,pe){o.push([oe,le,ue,pe])>1||c(oe,le)})})}function c(oe,le){try{!function _(oe){oe.value instanceof _p?Promise.resolve(oe.value.v).then(E,m):j(o[0][2],oe)}(i[oe](le))}catch(ue){j(o[0][3],ue)}}function E(oe){c("next",oe)}function m(oe){c("throw",oe)}function j(oe,le){oe(le),o.shift(),o.length&&c(o[0][0],o[0][1])}};function Dw(n,r){return lf(this,void 0,void 0,function*(){return new sTe.Level(n,Object.assign(Object.assign({},r),{keyEncoding:"utf8"}))})}class dC{constructor(r,t){this.config=Object.assign({createLevelDatabase:Dw},r),this.db=t}open(){return lf(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(r=>{this.db.once("open",r)});case"closing":return new Promise((r,t)=>{this.db.once("closed",()=>{this.db.open().then(r).catch(t)})});case"closed":return this.db.open()}})}close(){return lf(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((r,t)=>{this.db.once("open",()=>{this.db.close().then(r).catch(t)})});case"closing":return new Promise(r=>{this.db.once("closed",r)});case"closed":return}})}partition(r){return lf(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new dC(this.config,this.db.sublevel(r,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(r,t){var i;return lf(this,void 0,void 0,function*(){null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield Fl(this.createLevelDatabase(),t?.signal);try{return yield Fl(this.db.get(String(r)),t?.signal)}catch(s){if("LEVEL_NOT_FOUND"===s.code)return;throw s}})}has(r,t){return lf(this,void 0,void 0,function*(){return!!(yield this.get(r,t))})}keys(r){var t,i;return Lse(this,arguments,function*(){var o,a,c;null===(t=r?.signal)||void 0===t||t.throwIfAborted(),yield _p(Fl(this.createLevelDatabase(),r?.signal));try{for(var j,E=!0,m=DG(this.db.keys());!(o=(j=yield _p(m.next())).done);E=!0){E=!1;const oe=j.value;null===(i=r?.signal)||void 0===i||i.throwIfAborted(),yield yield _p(oe)}}catch(oe){a={error:oe}}finally{try{!E&&!o&&(c=m.return)&&(yield _p(c.call(m)))}finally{if(a)throw a.error}}})}iterator(r,t){var i,s;return Lse(this,arguments,function*(){var a,c,_;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield _p(Fl(this.createLevelDatabase(),t?.signal));try{for(var oe,m=!0,j=DG(this.db.iterator(r));!(a=(oe=yield _p(j.next())).done);m=!0){m=!1;const le=oe.value;null===(s=t?.signal)||void 0===s||s.throwIfAborted(),yield yield _p(le)}}catch(le){c={error:le}}finally{try{!m&&!a&&(_=j.return)&&(yield _p(_.call(j)))}finally{if(c)throw c.error}}})}put(r,t,i){var s;return lf(this,void 0,void 0,function*(){return null===(s=i?.signal)||void 0===s||s.throwIfAborted(),yield Fl(this.createLevelDatabase(),i?.signal),Fl(this.db.put(String(r),t),i?.signal)})}delete(r,t){var i;return lf(this,void 0,void 0,function*(){return null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield Fl(this.createLevelDatabase(),t?.signal),Fl(this.db.del(String(r)),t?.signal)})}isEmpty(r){var t,i,s;return lf(this,void 0,void 0,function*(){try{for(var _,a=!0,c=DG(this.keys(r));_=yield c.next(),!(t=_.done);a=!0)return a=!1,!1}catch(E){i={error:E}}finally{try{!a&&!t&&(s=c.return)&&(yield s.call(c))}finally{if(i)throw i.error}}return!0})}clear(){return lf(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(r,t){var i;return lf(this,void 0,void 0,function*(){return null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield Fl(this.createLevelDatabase(),t?.signal),Fl(this.db.batch(r),t?.signal)})}createPartitionOperation(r,t){return Object.assign(Object.assign({},t),{sublevel:this.db.sublevel(r,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(r){var t,i,s;return lf(this,void 0,void 0,function*(){null===(t=r?.signal)||void 0===t||t.throwIfAborted(),yield Fl(this.createLevelDatabase(),r?.signal);const o=this.sublevelRange;if(!o)return;const a=this.root;return a.db.supports.additionalMethods.compactRange?Fl(null===(s=(i=a.db).compactRange)||void 0===s?void 0:s.call(i,...o),r?.signal):void 0})}get sublevelRange(){const r=this.db.prefix;if(!r)return;const t=r.slice(0,-1)+String.fromCharCode(r.charCodeAt(r.length-1)+1);return[r,t]}get root(){let r=this.db;for(const t=r.db;t&&t!==r;)r=t;return new dC(this.config,r)}createLevelDatabase(){var r;return lf(this,void 0,void 0,function*(){null!==(r=this.db)&&void 0!==r||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var ug=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},sN=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}},qc=function(n){return this instanceof qc?(this.v=n,this):new qc(n)},oN=function(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(oe){i[oe]&&(s[oe]=function(le){return new Promise(function(ue,pe){o.push([oe,le,ue,pe])>1||c(oe,le)})})}function c(oe,le){try{!function _(oe){oe.value instanceof qc?Promise.resolve(oe.value.v).then(E,m):j(o[0][2],oe)}(i[oe](le))}catch(ue){j(o[0][3],ue)}}function E(oe){c("next",oe)}function m(oe){c("throw",oe)}function j(oe,le){oe(le),o.shift(),o.length&&c(o[0][0],o[0][1])}};class aN{constructor(r,t){this.config=Object.assign({createLevelDatabase:Dw},r),this.db=t??new dC(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return ug(this,void 0,void 0,function*(){return this.db.open()})}close(){return ug(this,void 0,void 0,function*(){return this.db.close()})}partition(r){return ug(this,void 0,void 0,function*(){const t=yield this.db.partition(r);return new aN(Object.assign(Object.assign({},this.config),{location:""}),t)})}put(r,t,i){return ug(this,void 0,void 0,function*(){return yield this.db.put(String(r),t,i),xs.parse(r.toString())})}get(r,t){return ug(this,void 0,void 0,function*(){return yield this.db.get(String(r),t)})}has(r,t){return ug(this,void 0,void 0,function*(){return this.db.has(String(r),t)})}delete(r,t){return ug(this,void 0,void 0,function*(){return this.db.delete(String(r),t)})}isEmpty(r){return ug(this,void 0,void 0,function*(){return this.db.isEmpty(r)})}putMany(r,t){return oN(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=sN(r);!(s=(m=yield qc(E.next())).done);_=!0){_=!1;const j=m.value;yield qc(this.put(j.cid,j.block,t)),yield yield qc(j.cid)}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield qc(a.call(E)))}finally{if(o)throw o.error}}})}getMany(r,t){return oN(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=sN(r);!(s=(m=yield qc(E.next())).done);_=!0){_=!1;const j=m.value;yield yield qc({cid:j,block:yield qc(this.get(j,t))})}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield qc(a.call(E)))}finally{if(o)throw o.error}}})}getAll(r){return oN(this,arguments,function*(){var i,s,o,a;const c=this.db.iterator({keys:!0,keyEncoding:"buffer"},r);try{for(var m,_=!0,E=sN(c);!(i=(m=yield qc(E.next())).done);_=!0){a=m.value,_=!1;const[j,oe]=a;yield yield qc({cid:xs.decode(j),block:oe})}}catch(j){s={error:j}}finally{try{!_&&!i&&(o=E.return)&&(yield qc(o.call(E)))}finally{if(s)throw s.error}}})}deleteMany(r,t){return oN(this,arguments,function*(){var s,o,a;try{for(var m,_=!0,E=sN(r);!(s=(m=yield qc(E.next())).done);_=!0){_=!1;const j=m.value;yield qc(this.delete(j,t)),yield yield qc(j)}}catch(j){o={error:j}}finally{try{!_&&!s&&(a=E.return)&&(yield qc(a.call(E)))}finally{if(o)throw o.error}}})}clear(){return ug(this,void 0,void 0,function*(){return this.db.clear()})}}var Pa=A(42853);const cTe=function aTe(n){if(function oTe(n){return null!=n[Symbol.asyncIterator]}(n))return(0,Nn.A)(function*(){let t;var o,i=!1,s=!1;try{for(var c,a=Wi(n);i=!(c=yield a.next()).done;i=!1)t=c.value}catch(_){s=!0,o=_}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}return t})();let r;for(const t of n)r=t;return r};var jse=128,uTe=-128,fTe=Math.pow(2,31),pTe=128,Vse=127,mTe=Math.pow(2,7),gTe=Math.pow(2,14),yTe=Math.pow(2,21),vTe=Math.pow(2,28),bTe=Math.pow(2,35),_Te=Math.pow(2,42),wTe=Math.pow(2,49),xTe=Math.pow(2,56),ETe=Math.pow(2,63),CTe={encode:function $se(n,r,t){r=r||[];for(var i=t=t||0;n>=fTe;)r[t++]=255&n|jse,n/=128;for(;n&uTe;)r[t++]=255&n|jse,n>>>=7;return r[t]=0|n,$se.bytes=t-i+1,r},decode:function MG(n,i){var a,t=0,s=0,o=i=i||0,c=n.length;do{if(o>=c)throw MG.bytes=0,new RangeError("Could not decode varint");a=n[o++],t+=s<28?(a&Vse)<<s:(a&Vse)*Math.pow(2,s),s+=7}while(a>=pTe);return MG.bytes=o-i,t},encodingLength:function(n){return n<mTe?1:n<gTe?2:n<yTe?3:n<vTe?4:n<bTe?5:n<_Te?6:n<wTe?7:n<xTe?8:n<ETe?9:10}};const cN=CTe,kG=(n,r=0)=>[cN.decode(n,r),cN.decode.bytes],lN=(n,r,t=0)=>(cN.encode(n,r,t),r),dN=n=>cN.encodingLength(n),uN=(new Uint8Array(0),n=>{if(n instanceof Uint8Array&&"Uint8Array"===n.constructor.name)return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")}),zse=n=>{const r=uN(n),[t,i]=kG(r),[s,o]=kG(r.subarray(i)),a=r.subarray(i+o);if(a.byteLength!==s)throw new Error("Incorrect length");return new IG(t,s,a,r)};class IG{constructor(r,t,i,s){this.code=r,this.size=t,this.digest=i,this.bytes=s}}const OTe=function kTe(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=s}var c=n.length,_=n.charAt(0),E=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function oe(ue){if("string"!=typeof ue)throw new TypeError("Expected String");if(0===ue.length)return new Uint8Array;var pe=0;if(" "!==ue[pe]){for(var we=0,Oe=0;ue[pe]===_;)we++,pe++;for(var Pe=(ue.length-pe)*E+1>>>0,Ie=new Uint8Array(Pe);ue[pe];){var $e=t[ue.charCodeAt(pe)];if(255===$e)return;for(var Je=0,Qe=Pe-1;(0!==$e||Je<Oe)&&-1!==Qe;Qe--,Je++)Ie[Qe]=($e+=c*Ie[Qe]>>>0)%256>>>0,$e=$e/256>>>0;if(0!==$e)throw new Error("Non-zero carry");Oe=Je,pe++}if(" "!==ue[pe]){for(var tt=Pe-Oe;tt!==Pe&&0===Ie[tt];)tt++;for(var ot=new Uint8Array(we+(Pe-tt)),xt=we;tt!==Pe;)ot[xt++]=Ie[tt++];return ot}}}return{encode:function j(ue){if(ue instanceof Uint8Array||(ArrayBuffer.isView(ue)?ue=new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength):Array.isArray(ue)&&(ue=Uint8Array.from(ue))),!(ue instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ue.length)return"";for(var pe=0,we=0,Oe=0,Pe=ue.length;Oe!==Pe&&0===ue[Oe];)Oe++,pe++;for(var Ie=(Pe-Oe)*m+1>>>0,$e=new Uint8Array(Ie);Oe!==Pe;){for(var Je=ue[Oe],Qe=0,tt=Ie-1;(0!==Je||Qe<we)&&-1!==tt;tt--,Qe++)$e[tt]=(Je+=256*$e[tt]>>>0)%c>>>0,Je=Je/c>>>0;if(0!==Je)throw new Error("Non-zero carry");we=Qe,Oe++}for(var ot=Ie-we;ot!==Ie&&0===$e[ot];)ot++;for(var xt=_.repeat(pe);ot<Ie;++ot)xt+=n.charAt($e[ot]);return xt},decodeUnsafe:oe,decode:function le(ue){var pe=oe(ue);if(pe)return pe;throw new Error(`Non-${r} character`)}}};class RTe{constructor(r,t,i){this.name=r,this.prefix=t,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class FTe{constructor(r,t,i){if(this.name=r,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return Hse(this,r)}}class NTe{constructor(r){this.decoders=r}or(r){return Hse(this,r)}decode(r){const i=this.decoders[r[0]];if(i)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Hse=(n,r)=>new NTe({...n.decoders||{[n.prefix]:n},...r.decoders||{[r.prefix]:r}});class BTe{constructor(r,t,i,s){this.name=r,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new RTe(r,t,i),this.decoder=new FTe(r,t,s)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const Gse=({name:n,prefix:r,encode:t,decode:i})=>new BTe(n,r,t,i),Wse=({prefix:n,name:r,alphabet:t})=>{const{encode:i,decode:s}=OTe(t,r);return Gse({prefix:n,name:r,encode:i,decode:o=>uN(s(o))})},fg=({name:n,prefix:r,bitsPerChar:t,alphabet:i})=>Gse({prefix:r,name:n,encode:s=>((n,r,t)=>{const i="="===r[r.length-1],s=(1<<t)-1;let o="",a=0,c=0;for(let _=0;_<n.length;++_)for(c=c<<8|n[_],a+=8;a>t;)a-=t,o+=r[s&c>>a];if(a&&(o+=r[s&c<<t-a]),i)for(;o.length*t&7;)o+="=";return o})(s,i,t),decode:s=>((n,r,t,i)=>{const s={};for(let m=0;m<r.length;++m)s[r[m]]=m;let o=n.length;for(;"="===n[o-1];)--o;const a=new Uint8Array(o*t/8|0);let c=0,_=0,E=0;for(let m=0;m<o;++m){const j=s[n[m]];if(void 0===j)throw new SyntaxError(`Non-${i} character`);_=_<<t|j,c+=t,c>=8&&(c-=8,a[E++]=255&_>>c)}if(c>=t||255&_<<8-c)throw new SyntaxError("Unexpected end of data");return a})(s,i,t,n)}),nb=Wse({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fN=(Wse({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fg({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),PG=(fg({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fg({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fg({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fg({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fg({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fg({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fg({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fg({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(n,r)=>{const{bytes:t,version:i}=n;return 0===i?VTe(t,OG(n),r||nb.encoder):UTe(t,OG(n),r||fN.encoder)}),Kse=new WeakMap,OG=n=>{const r=Kse.get(n);if(null==r){const t=new Map;return Kse.set(n,t),t}return r};class Oa{constructor(r,t,i,s){this.code=t,this.version=r,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:r,multihash:t}=this;if(r!==K3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==zTe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Oa.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:r,digest:t}=this.multihash,i=((n,r)=>{const t=r.byteLength,i=dN(n),s=i+dN(t),o=new Uint8Array(s+t);return lN(n,o,0),lN(t,o,i),o.set(r,s),new IG(n,t,r,o)})(r,t);return Oa.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return Oa.equals(this,r)}static equals(r,t){return t&&r.code===t.code&&r.version===t.version&&((n,r)=>n===r||n.code===r.code&&n.size===r.size&&r.bytes instanceof Uint8Array&&((n,r)=>{if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==r[t])return!1;return!0})(n.bytes,r.bytes))(r.multihash,t.multihash)}toString(r){return PG(this,r)}toJSON(){return{"/":PG(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(null==r)return null;const t=r;if(t instanceof Oa)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:i,code:s,multihash:o,bytes:a}=t;return new Oa(i,s,o,a||qse(i,s,o.bytes))}if(!0===t[HTe]){const{version:i,multihash:s,code:o}=t,a=zse(s);return Oa.create(i,o,a)}return null}static create(r,t,i){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:if(t!==K3)throw new Error(`Version 0 CID must use dag-pb (code: ${K3}) block encoding`);return new Oa(r,t,i,i.bytes);case 1:{const s=qse(r,t,i.bytes);return new Oa(r,t,i,s)}default:throw new Error("Invalid version")}}static createV0(r){return Oa.create(0,K3,r)}static createV1(r,t){return Oa.create(1,r,t)}static decode(r){const[t,i]=Oa.decodeFirst(r);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(r){const t=Oa.inspectBytes(r),i=t.size-t.multihashSize,s=uN(r.subarray(i,i+t.multihashSize));if(s.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=s.subarray(t.multihashSize-t.digestSize),a=new IG(t.multihashCode,t.digestSize,o,s);return[0===t.version?Oa.createV0(a):Oa.createV1(t.codec,a),r.subarray(t.size)]}static inspectBytes(r){let t=0;const i=()=>{const[j,oe]=kG(r.subarray(t));return t+=oe,j};let s=i(),o=K3;if(18===s?(s=0,t=0):o=i(),0!==s&&1!==s)throw new RangeError(`Invalid CID version ${s}`);const a=t,c=i(),_=i(),E=t+_;return{version:s,codec:o,multihashCode:c,digestSize:_,multihashSize:E-a,size:E}}static parse(r,t){const[i,s]=$Te(r,t),o=Oa.decode(s);if(0===o.version&&"Q"!==r[0])throw Error("Version 0 CID string must not include multibase prefix");return OG(o).set(i,r),o}}const $Te=(n,r)=>{switch(n[0]){case"Q":return[nb.prefix,(r||nb).decode(`${nb.prefix}${n}`)];case nb.prefix:return[nb.prefix,(r||nb).decode(n)];case fN.prefix:return[fN.prefix,(r||fN).decode(n)];default:if(null==r)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}},VTe=(n,r,t)=>{const{prefix:i}=t;if(i!==nb.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const s=r.get(i);if(null==s){const o=t.encode(n).slice(1);return r.set(i,o),o}return s},UTe=(n,r,t)=>{const{prefix:i}=t,s=r.get(i);if(null==s){const o=t.encode(n);return r.set(i,o),o}return s},K3=112,zTe=18,qse=(n,r,t)=>{const i=dN(n),s=i+dN(r),o=new Uint8Array(s+t.byteLength);return lN(n,o,0),lN(r,o,i),o.set(t,s),o},HTe=Symbol.for("@ipld/js-cid/CID"),Xse=85,WTe_code=0,KTe=function(){var n=(0,Nn.A)(function*(r,t,i,s,o,a,c,_){const E=yield c.get(r,_),m=dne(E);let j=m,oe=i;for(;s.length>0;){const le=s[0];if(!(le in j))throw Pa(new Error(`No property named ${le} found in cbor node ${r}`),"ERR_NO_PROP");{s.shift(),oe=`${oe}/${le}`;const ue=Oa.asCID(j[le]);if(null!=ue)return{entry:{type:"object",name:t,path:i,cid:r,node:E,depth:a,size:BigInt(E.length),content:function(){var pe=hs(function*(){yield m});return function(){return pe.apply(this,arguments)}}()},next:{cid:ue,name:le,path:oe,toResolve:s}};j=j[le]}}return{entry:{type:"object",name:t,path:i,cid:r,node:E,depth:a,size:BigInt(E.length),content:(le=hs(function*(){yield m}),function(){return le.apply(this,arguments)})}};var le});return function(t,i,s,o,a,c,_,E){return n.apply(this,arguments)}}(),hN=function qTe(n,r,t,i){const s=BigInt(n.length),o=BigInt(r+s);return t>=o||i<r?new Uint8Array(0):(i>=r&&i<o&&(n=n.subarray(0,Number(i-r))),t>=r&&t<o&&(n=n.subarray(Number(t-r))),n)},RG=(n,r=0,t=n)=>{const i=BigInt(n),s=BigInt(r??0);let o=BigInt(t);if(o!==i&&(o=s+o),o>i&&(o=i),s<0n)throw Pa(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(s>i)throw Pa(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw Pa(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw Pa(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:s,end:o}},XTe=n=>{function t(){return(t=hs(function*(i={}){const{start:s,end:o}=RG(n.length,i.offset,i.length),a=hN(n,0n,s,o);i.onProgress?.(new lh("unixfs:exporter:progress:identity",{bytesRead:BigInt(a.byteLength),totalBytes:o-s,fileSize:BigInt(n.byteLength)})),yield a})).apply(this,arguments)}return function r(){return t.apply(this,arguments)}},YTe=function(){var n=(0,Nn.A)(function*(r,t,i,s,o,a,c,_){if(s.length>0)throw Pa(new Error(`No link named ${i} found in raw node ${r}`),"ERR_NOT_FOUND");const E=zse(r.multihash.bytes);return{entry:{type:"identity",name:t,path:i,cid:r,content:XTe(E.digest),depth:a,size:BigInt(E.digest.length),node:E.digest}}});return function(t,i,s,o,a,c,_,E){return n.apply(this,arguments)}}(),ZTe=n=>{function t(){return(t=hs(function*(i={}){const{start:s,end:o}=RG(n.length,i.offset,i.length),a=hN(n,0n,s,o);i.onProgress?.(new lh("unixfs:exporter:progress:raw",{bytesRead:BigInt(a.byteLength),totalBytes:o-s,fileSize:BigInt(n.byteLength)})),yield a})).apply(this,arguments)}return function r(){return t.apply(this,arguments)}},JTe=function(){var n=(0,Nn.A)(function*(r,t,i,s,o,a,c,_){if(s.length>0)throw Pa(new Error(`No link named ${i} found in raw node ${r}`),"ERR_NOT_FOUND");const E=yield c.get(r,_);return{entry:{type:"raw",name:t,path:i,cid:r,content:ZTe(E),depth:a,size:BigInt(E.length),node:E}}});return function(t,i,s,o,a,c,_,E){return n.apply(this,arguments)}}(),QTe=function(){var n=(0,Nn.A)(function*(r){return(yield mre.encode(r)).slice(0,8).reverse()});return function(t){return n.apply(this,arguments)}}(),eDe=function(){var n=(0,Nn.A)(function*(r,t,i){yield Promise.all(r.map(function(){var s=(0,Nn.A)(function*(o){if(null==o.Name)throw new Error("Unexpected Link without a Name");if(2!==o.Name.length)yield i.put(o.Name.substring(2),!0);else{const a=parseInt(o.Name,16);t._putObjectAt(a,new ef({hash:i._options.hash,bits:i._options.bits},t,a))}});return function(o){return s.apply(this,arguments)}}()))});return function(t,i,s){return n.apply(this,arguments)}}(),Jse=n=>n.toString(16).toUpperCase().padStart(2,"0").substring(0,2),Qse=function(){var n=(0,Nn.A)(function*(r,t,i,s,o){if(null==s){const j=wre({hashFn:QTe});s={rootBucket:j,hamtDepth:1,lastBucket:j}}yield eDe(r.Links,s.lastBucket,s.rootBucket);const a=yield s.rootBucket._findNewBucketAndPos(t);let c=Jse(a.pos);const _=(n=>{let r=n.bucket;const t=[];for(;null!=r._parent;)t.push(r),r=r._parent;return t.push(r),t.reverse()})(a);_.length>s.hamtDepth&&(s.lastBucket=_[s.hamtDepth],c=Jse(s.lastBucket._posAtParent));const E=r.Links.find(j=>{if(null==j.Name)return!1;const oe=j.Name.substring(0,2),le=j.Name.substring(2);return!(oe!==c||""!==le&&le!==t)});if(null!=E)return null!=E.Name&&E.Name.substring(2)===t?E.Hash:(s.hamtDepth++,r=Xk(yield i.get(E.Hash,o)),Qse(r,t,i,s,o))});return function(t,i,s,o,a){return n.apply(this,arguments)}}(),nDe=Qse,eoe=function rDe(n){const[r,t]=null!=n[Symbol.asyncIterator]?[n[Symbol.asyncIterator](),Symbol.asyncIterator]:[n[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>r.next(),push:s=>{i.push(s)},next:()=>i.length>0?{done:!1,value:i.shift()}:r.next(),[t](){return this}}},FG=function cDe(n,r){let t=0;if(function aDe(n){return null!=n[Symbol.asyncIterator]}(n))return hs(function*(){var m,_=!1,E=!1;try{for(var oe,j=Wi(n);_=!(oe=yield Er(j.next())).done;_=!1){const le=oe.value;yield r(le,t++)}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}})();const i=eoe(n),{value:s,done:o}=i.next();if(!0===o)return function*(){}();const a=r(s,t++);if("function"==typeof a.then)return hs(function*(){yield yield Er(a);var m,_=!1,E=!1;try{for(var oe,j=Wi(i);_=!(oe=yield Er(j.next())).done;_=!1){const le=oe.value;yield r(le,t++)}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}})();const c=r;return function*(){yield a;for(const _ of i)yield c(_,t++)}()};function uC(){const n={};return n.promise=new Promise((r,t)=>{n.resolve=r,n.reject=t}),n}const pN=globalThis.CustomEvent??Event;function NG(n){return BG.apply(this,arguments)}function BG(){return BG=hs(function*(n,r={}){let t=r.concurrency??1/0;t<1&&(t=1/0);const i=null!=r.ordered&&r.ordered,s=new EventTarget,o=[];let E,a=uC(),c=uC(),_=!1,m=!1;function j(){return i?o[0]?.done:!!o.find(ue=>ue.done)}function*oe(){for(;o.length>0&&o[0].done;){const ue=o[0];if(o.shift(),!ue.ok)throw m=!0,a.resolve(),ue.err;yield ue.value,a.resolve()}}function*le(){for(;j();)for(let ue=0;ue<o.length;ue++)if(o[ue].done){const pe=o[ue];if(o.splice(ue,1),ue--,!pe.ok)throw m=!0,a.resolve(),pe.err;yield pe.value,a.resolve()}}for(s.addEventListener("task-complete",()=>{c.resolve()}),Promise.resolve().then((0,Nn.A)(function*(){try{var we,ue=!1,pe=!1;try{for(var Pe,Oe=Wi(n);ue=!(Pe=yield Oe.next()).done;ue=!1){const Ie=Pe.value;{if(o.length===t&&(a=uC(),yield a.promise),m)break;const $e={done:!1};o.push($e),Ie().then(Je=>{$e.done=!0,$e.ok=!0,$e.value=Je,s.dispatchEvent(new pN("task-complete"))},Je=>{$e.done=!0,$e.err=Je,s.dispatchEvent(new pN("task-complete"))})}}}catch(Ie){pe=!0,we=Ie}finally{try{ue&&null!=Oe.return&&(yield Oe.return())}finally{if(pe)throw we}}_=!0,s.dispatchEvent(new pN("task-complete"))}catch(Ie){E=Ie,s.dispatchEvent(new pN("task-complete"))}}));;){if(j()||(c=uC(),yield Er(c.promise)),null!=E)throw E;if(i?yield*wm(Wi(oe())):yield*wm(Wi(le())),_&&0===o.length)break}}),BG.apply(this,arguments)}class toe{buffer;mask;top;btm;next;constructor(r){if(!(r>0)||r-1&r)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(r),this.mask=r-1,this.top=0,this.btm=0,this.next=null}push(r){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=r,this.top=this.top+1&this.mask,!0)}shift(){const r=this.buffer[this.btm];if(void 0!==r)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,r}isEmpty(){return void 0===this.buffer[this.btm]}}class LG{size;hwm;head;tail;constructor(r={}){this.hwm=r.splitLimit??16,this.head=new toe(this.hwm),this.tail=this.head,this.size=0}calculateSize(r){return null!=r?.byteLength?r.byteLength:1}push(r){null!=r?.value&&(this.size+=this.calculateSize(r.value)),this.head.push(r)||(this.head=this.head.next=new toe(2*this.head.buffer.length),this.head.push(r))}shift(){let r=this.tail.shift();if(void 0===r&&null!=this.tail.next){const t=this.tail.next;this.tail.next=null,this.tail=t,r=this.tail.shift()}return null!=r?.value&&(this.size-=this.calculateSize(r.value)),r}isEmpty(){return this.head.isEmpty()}}class lDe extends Error{type;code;constructor(r,t){super(r??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}function jG(n={}){return function noe(n,r){let s,o,a,t=(r=r??{}).onEnd,i=new LG,c=uC();const _=function(){var we=(0,Nn.A)(function*(){try{return i.isEmpty()?a?{done:!0}:yield new Promise((Oe,Pe)=>{o=Ie=>{o=null,i.push(Ie);try{Oe(n(i))}catch($e){Pe($e)}return s}}):n(i)}finally{i.isEmpty()&&queueMicrotask(()=>{c.resolve(),c=uC()})}});return function(){return we.apply(this,arguments)}}(),E=we=>null!=o?o(we):(i.push(we),s),j=we=>{if(a)return s;if(!0!==r?.objectMode&&null==we?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return E({done:!1,value:we})},oe=we=>a?s:(a=!0,null!=we?(we=>(i=new LG,null!=o?o({error:we}):(i.push({error:we}),s)))(we):E({done:!0}));if(s={[Symbol.asyncIterator](){return this},next:_,return:()=>(i=new LG,oe(),{done:!0}),throw:we=>(oe(we),{done:!0}),push:j,end:oe,get readableLength(){return i.size},onEmpty:(we=(0,Nn.A)(function*(Oe){const Pe=Oe?.signal;if(Pe?.throwIfAborted(),i.isEmpty())return;let Ie,$e;null!=Pe&&(Ie=new Promise((Je,Qe)=>{$e=()=>{Qe(new lDe)},Pe.addEventListener("abort",$e)}));try{yield Promise.race([c.promise,Ie])}finally{null!=$e&&null!=Pe&&Pe?.removeEventListener("abort",$e)}}),function(Pe){return we.apply(this,arguments)})},null==t)return s;var we;const pe=s;return s={[Symbol.asyncIterator](){return this},next:()=>pe.next(),throw:we=>(pe.throw(we),null!=t&&(t(we),t=void 0),{done:!0}),return:()=>(pe.return(),null!=t&&(t(),t=void 0),{done:!0}),push:j,end:we=>(pe.end(we),null!=t&&(t(we),t=void 0),s),get readableLength(){return pe.readableLength},onEmpty:we=>pe.onEmpty(we)},s}(t=>{const i=t.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},n)}function dDe(n){return null!=n[Symbol.asyncIterator]}function $G(n,...r){if(null==n)throw new Error("Empty pipeline");if(VG(n)){const i=n;n=()=>i.source}else if(ioe(n)||roe(n)){const i=n;n=()=>i}const t=[n,...r];if(t.length>1&&VG(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let i=1;i<t.length-1;i++)VG(t[i])&&(t[i]=pDe(t[i]));return hDe(...t)}const hDe=(...n)=>{let r;for(;n.length>0;)r=n.shift()(r);return r},roe=n=>null!=n?.[Symbol.asyncIterator],ioe=n=>null!=n?.[Symbol.iterator],VG=n=>null!=n&&null!=n.sink&&null!=n.source,pDe=n=>r=>{const t=n.sink(r);if(null!=t?.then){const i=jG({objectMode:!0});let s;t.then(()=>{i.end()},a=>{i.end(a)});const o=n.source;if(roe(o))s=function(){var a=hs(function*(){yield*wm(Wi(o)),i.end()});return function(){return a.apply(this,arguments)}}();else{if(!ioe(o))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");s=function*(){yield*o,i.end()}}return function uDe(...n){const r=[];for(const t of n)dDe(t)||r.push(t);return r.length===n.length?function*(){for(const t of r)yield*t}():hs(function*(){const t=jG({objectMode:!0});Promise.resolve().then((0,Nn.A)(function*(){try{yield Promise.all(n.map(function(){var i=(0,Nn.A)(function*(s){var c,o=!1,a=!1;try{for(var E,_=Wi(s);o=!(E=yield _.next()).done;o=!1)t.push(E.value)}catch(m){a=!0,c=m}finally{try{o&&null!=_.return&&(yield _.return())}finally{if(a)throw c}}});return function(s){return i.apply(this,arguments)}}())),t.end()}catch(i){t.end(i)}})),yield*wm(Wi(t))})()}(i,s())}return n.source};var gDe=A(50233);class soe extends Error{constructor(r){super(r),this.name="TimeoutError"}}class yDe extends Error{constructor(r){super(),this.name="AbortError",this.message=r}}const ooe=n=>void 0===globalThis.DOMException?new yDe(n):new DOMException(n),aoe=n=>{const r=void 0===n.reason?ooe("This operation was aborted."):n.reason;return r instanceof Error?r:ooe(r)};var hg,Mw=function(n,r,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?n!==r||!i:!r.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:r.get(n)};hg=new WeakMap;const wDe=class _De{constructor(){hg.set(this,[])}enqueue(r,t){const i={priority:(t={priority:0,...t}).priority,run:r};if(this.size&&Mw(this,hg,"f")[this.size-1].priority>=t.priority)return void Mw(this,hg,"f").push(i);const s=function bDe(n,r,t){let i=0,s=n.length;for(;s>0;){const o=Math.trunc(s/2);let a=i+o;t(n[a],r)<=0?(i=++a,s-=o+1):s=o}return i}(Mw(this,hg,"f"),i,(o,a)=>a.priority-o.priority);Mw(this,hg,"f").splice(s,0,i)}dequeue(){const r=Mw(this,hg,"f").shift();return r?.run}filter(r){return Mw(this,hg,"f").filter(t=>t.priority===r.priority).map(t=>t.run)}get size(){return Mw(this,hg,"f").length}};var Ra,q3,X3,rb,mN,Y3,gN,wp,Z3,df,yN,uf,J3,ib,vN,coe,loe,doe,uoe,foe,bN,UG,zG,_N,hoe,wN,aa=function(n,r,t,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?n!==r||!s:!r.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(n,t):s?s.value=t:r.set(n,t),t},kr=function(n,r,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?n!==r||!i:!r.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:r.get(n)};class poe extends Error{}q3=new WeakMap,X3=new WeakMap,rb=new WeakMap,mN=new WeakMap,Y3=new WeakMap,gN=new WeakMap,wp=new WeakMap,Z3=new WeakMap,df=new WeakMap,yN=new WeakMap,uf=new WeakMap,J3=new WeakMap,ib=new WeakMap,vN=new WeakMap,Ra=new WeakSet,coe=function(){return kr(this,X3,"f")||kr(this,rb,"f")<kr(this,mN,"f")},loe=function(){return kr(this,uf,"f")<kr(this,J3,"f")},doe=function(){var r;aa(this,uf,(r=kr(this,uf,"f"),--r),"f"),kr(this,Ra,"m",bN).call(this),this.emit("next")},uoe=function(){kr(this,Ra,"m",zG).call(this),kr(this,Ra,"m",UG).call(this),aa(this,Z3,void 0,"f")},foe=function(){const r=Date.now();if(void 0===kr(this,wp,"f")){const t=kr(this,gN,"f")-r;if(!(t<0))return void 0===kr(this,Z3,"f")&&aa(this,Z3,setTimeout(()=>{kr(this,Ra,"m",uoe).call(this)},t),"f"),!0;aa(this,rb,kr(this,q3,"f")?kr(this,uf,"f"):0,"f")}return!1},bN=function(){if(0===kr(this,df,"f").size)return kr(this,wp,"f")&&clearInterval(kr(this,wp,"f")),aa(this,wp,void 0,"f"),this.emit("empty"),0===kr(this,uf,"f")&&this.emit("idle"),!1;if(!kr(this,ib,"f")){const r=!kr(this,Ra,"a",foe);if(kr(this,Ra,"a",coe)&&kr(this,Ra,"a",loe)){const t=kr(this,df,"f").dequeue();return!!t&&(this.emit("active"),t(),r&&kr(this,Ra,"m",UG).call(this),!0)}}return!1},UG=function(){kr(this,X3,"f")||void 0!==kr(this,wp,"f")||(aa(this,wp,setInterval(()=>{kr(this,Ra,"m",zG).call(this)},kr(this,Y3,"f")),"f"),aa(this,gN,Date.now()+kr(this,Y3,"f"),"f"))},zG=function(){0===kr(this,rb,"f")&&0===kr(this,uf,"f")&&kr(this,wp,"f")&&(clearInterval(kr(this,wp,"f")),aa(this,wp,void 0,"f")),aa(this,rb,kr(this,q3,"f")?kr(this,uf,"f"):0,"f"),kr(this,Ra,"m",_N).call(this)},_N=function(){for(;kr(this,Ra,"m",bN).call(this););},hoe=function(){var n=(0,Nn.A)(function*(t){return new Promise((i,s)=>{t.addEventListener("abort",()=>{s(new poe("The task was aborted."))},{once:!0})})});return function r(t){return n.apply(this,arguments)}}(),wN=function(){var n=(0,Nn.A)(function*(t,i){return new Promise(s=>{const o=()=>{i&&!i()||(this.off(t,o),s())};this.on(t,o)})});return function r(t,i){return n.apply(this,arguments)}}();const EDe=class xDe extends gDe{constructor(r){var t,i,s,o;if(super(),Ra.add(this),q3.set(this,void 0),X3.set(this,void 0),rb.set(this,0),mN.set(this,void 0),Y3.set(this,void 0),gN.set(this,0),wp.set(this,void 0),Z3.set(this,void 0),df.set(this,void 0),yN.set(this,void 0),uf.set(this,0),J3.set(this,void 0),ib.set(this,void 0),vN.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(r={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:wDe,...r}).intervalCap&&r.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(t=r.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==i?i:""}\` (${typeof r.intervalCap})`);if(void 0===r.interval||!(Number.isFinite(r.interval)&&r.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(s=r.interval)||void 0===s?void 0:s.toString())&&void 0!==o?o:""}\` (${typeof r.interval})`);aa(this,q3,r.carryoverConcurrencyCount,"f"),aa(this,X3,r.intervalCap===Number.POSITIVE_INFINITY||0===r.interval,"f"),aa(this,mN,r.intervalCap,"f"),aa(this,Y3,r.interval,"f"),aa(this,df,new r.queueClass,"f"),aa(this,yN,r.queueClass,"f"),this.concurrency=r.concurrency,this.timeout=r.timeout,aa(this,vN,!0===r.throwOnTimeout,"f"),aa(this,ib,!1===r.autoStart,"f")}get concurrency(){return kr(this,J3,"f")}set concurrency(r){if(!("number"==typeof r&&r>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${r}\` (${typeof r})`);aa(this,J3,r,"f"),kr(this,Ra,"m",_N).call(this)}add(r,t={}){var i=this;return(0,Nn.A)(function*(){return t={timeout:i.timeout,throwOnTimeout:kr(i,vN,"f"),...t},new Promise((s,o)=>{kr(i,df,"f").enqueue((0,Nn.A)(function*(){var a,c,_;aa(i,uf,(c=kr(i,uf,"f"),++c),"f"),aa(i,rb,(_=kr(i,rb,"f"),++_),"f");try{if(null!==(a=t.signal)&&void 0!==a&&a.aborted)throw new poe("The task was aborted.");let E=r({signal:t.signal});t.timeout&&(E=function vDe(n,r,t,i){let s;const o=new Promise((a,c)=>{if("number"!=typeof r||1!==Math.sign(r))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${r}\``);if(r!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:_}=i;_.aborted&&c(aoe(_)),_.addEventListener("abort",()=>{c(aoe(_))})}s=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof t){try{a(t())}catch(m){c(m)}return}const E=t instanceof Error?t:new soe("string"==typeof t?t:`Promise timed out after ${r} milliseconds`);"function"==typeof n.cancel&&n.cancel(),c(E)},r),(0,Nn.A)(function*(){try{a(yield n)}catch(_){c(_)}finally{i.customTimers.clearTimeout.call(void 0,s)}})()}else a(n)});return o.clear=()=>{clearTimeout(s),s=void 0},o}(Promise.resolve(E),t.timeout)),t.signal&&(E=Promise.race([E,kr(i,Ra,"m",hoe).call(i,t.signal)]));const m=yield E;s(m),i.emit("completed",m)}catch(E){if(E instanceof soe&&!t.throwOnTimeout)return void s();o(E),i.emit("error",E)}finally{kr(i,Ra,"m",doe).call(i)}}),t),i.emit("add"),kr(i,Ra,"m",bN).call(i)})})()}addAll(r,t){var i=this;return(0,Nn.A)(function*(){return Promise.all(r.map(function(){var s=(0,Nn.A)(function*(o){return i.add(o,t)});return function(o){return s.apply(this,arguments)}}()))})()}start(){return kr(this,ib,"f")?(aa(this,ib,!1,"f"),kr(this,Ra,"m",_N).call(this),this):this}pause(){aa(this,ib,!0,"f")}clear(){aa(this,df,new(kr(this,yN,"f")),"f")}onEmpty(){var r=this;return(0,Nn.A)(function*(){0!==kr(r,df,"f").size&&(yield kr(r,Ra,"m",wN).call(r,"empty"))})()}onSizeLessThan(r){var t=this;return(0,Nn.A)(function*(){kr(t,df,"f").size<r||(yield kr(t,Ra,"m",wN).call(t,"next",()=>kr(t,df,"f").size<r))})()}onIdle(){var r=this;return(0,Nn.A)(function*(){0===kr(r,uf,"f")&&0===kr(r,df,"f").size||(yield kr(r,Ra,"m",wN).call(r,"idle"))})()}get size(){return kr(this,df,"f").size}sizeBy(r){return kr(this,df,"f").filter(r).length}get pending(){return kr(this,uf,"f")}get isPaused(){return kr(this,ib,"f")}};function moe(n,r,t,i,s,o,a){return HG.apply(this,arguments)}function HG(){return HG=(0,Nn.A)(function*(n,r,t,i,s,o,a){if(r instanceof Uint8Array){const E=hN(r,i,s,o);return void t.push(E)}if(null==r.Data)throw Pa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let c;try{c=mp.unmarshal(r.Data)}catch(E){throw Pa(E,"ERR_NOT_UNIXFS")}if(null!=c.data){const m=hN(c.data,i,s,o);t.push(m),i+=BigInt(m.byteLength)}const _=[];if(r.Links.length!==c.blockSizes.length)throw Pa(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let E=0;E<r.Links.length;E++){const oe=i+c.blockSizes[E];if((s>=i&&s<oe||o>=i&&o<=oe||s<i&&o>oe)&&_.push({link:r.Links[E],blockStart:i}),(i=oe)>o)break}yield $G(_,E=>FG(E,m=>(0,Nn.A)(function*(){const j=yield n.get(m.link.Hash,a);return{...m,block:j}})),E=>NG(E,{ordered:!0}),function(){var E=(0,Nn.A)(function*(m){var le,j=!1,oe=!1;try{for(var pe,ue=Wi(m);j=!(pe=yield ue.next()).done;j=!1){const{link:we,block:Oe,blockStart:Pe}=pe.value;{let Ie;switch(we.Hash.code){case Ez:Ie=Xk(Oe);break;case Xse:Ie=Oe;break;default:return void t.end(Pa(new Error(`Unsupported codec: ${we.Hash.code}`),"ERR_NOT_UNIXFS"))}const $e=new EDe({concurrency:1});$e.on("error",Je=>{t.end(Je)}),$e.add((0,Nn.A)(function*(){a.onProgress?.(new lh("unixfs:exporter:walk:file",{cid:we.Hash})),yield moe(n,Ie,t,Pe,s,o,a)})),yield $e.onIdle()}}}catch(we){oe=!0,le=we}finally{try{j&&null!=ue.return&&(yield ue.return())}finally{if(oe)throw le}}});return function(m){return E.apply(this,arguments)}}()),i>=o&&t.end()}),HG.apply(this,arguments)}const goe=(n,r,t,i,s,o,a)=>{function _(){return(_=hs(function*(E={}){const m=t.fileSize();if(void 0===m)throw new Error("File was a directory");const{start:j,end:oe}=RG(m,E.offset,E.length);if(0n===oe)return;let le=0n;const ue=oe-j,pe=jG();E.onProgress?.(new lh("unixfs:exporter:walk:file",{cid:n})),moe(a,r,pe,0n,j,oe,E).catch(Je=>{pe.end(Je)});var Pe,we=!1,Oe=!1;try{for(var $e,Ie=Wi(pe);we=!($e=yield Er(Ie.next())).done;we=!1){const Je=$e.value;if(null!=Je){if(le+=BigInt(Je.byteLength),le>ue)throw pe.end(),Pa(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");le===ue&&pe.end(),E.onProgress?.(new lh("unixfs:exporter:progress:unixfs:file",{bytesRead:le,totalBytes:ue,fileSize:m})),yield Je}}}catch(Je){Oe=!0,Pe=Je}finally{try{we&&null!=Ie.return&&(yield Er(Ie.return()))}finally{if(Oe)throw Pe}}if(le<ue)throw Pa(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function c(){return _.apply(this,arguments)}};function yoe(n,r,t,i,s,o){return GG.apply(this,arguments)}function GG(){return GG=hs(function*(n,r,t,i,s,o){const c=$G(n.Links,le=>FG(le,ue=>(0,Nn.A)(function*(){const pe=null!=ue.Name?ue.Name.substring(2):null;if(null!=pe&&""!==pe){const we=yield t(ue.Hash,pe,`${r}/${pe}`,[],i+1,s,o);return{entries:null==we.entry?[]:[we.entry]}}{const we=yield s.get(ue.Hash,o);return n=Xk(we),o.onProgress?.(new lh("unixfs:exporter:walk:hamt-sharded-directory",{cid:ue.Hash})),{entries:yoe(n,r,t,i,s,o)}}})),le=>NG(le,{ordered:!0}));var m,_=!1,E=!1;try{for(var oe,j=Wi(c);_=!(oe=yield Er(j.next())).done;_=!1){const{entries:le}=oe.value;yield*wm(Wi(le))}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}}),GG.apply(this,arguments)}const TDe={raw:goe,file:goe,directory:(n,r,t,i,s,o,a)=>{function _(){return(_=hs(function*(E={}){const oe=r.Links.slice(E.offset??0,E.length??r.Links.length);E.onProgress?.(new lh("unixfs:exporter:walk:directory",{cid:n})),yield*wm(Wi($G(oe,le=>FG(le,ue=>(0,Nn.A)(function*(){const pe=ue.Name??"",we=`${i}/${pe}`;return(yield s(ue.Hash,pe,we,[],o+1,a,E)).entry})),le=>NG(le,{ordered:!0}),le=>function sDe(n,r){let t=0;if(function iDe(n){return null!=n[Symbol.asyncIterator]}(n))return hs(function*(){var m,_=!1,E=!1;try{for(var oe,j=Wi(n);_=!(oe=yield Er(j.next())).done;_=!1){const le=oe.value;(yield Er(r(le,t++)))&&(yield le)}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}})();const i=eoe(n),{value:s,done:o}=i.next();if(!0===o)return function*(){}();const a=r(s,t++);if("function"==typeof a.then)return hs(function*(){(yield Er(a))&&(yield s);var m,_=!1,E=!1;try{for(var oe,j=Wi(i);_=!(oe=yield Er(j.next())).done;_=!1){const le=oe.value;(yield Er(r(le,t++)))&&(yield le)}}catch(le){E=!0,m=le}finally{try{_&&null!=j.return&&(yield Er(j.return()))}finally{if(E)throw m}}})();const c=r;return function*(){!0===a&&(yield s);for(const _ of i)c(_,t++)&&(yield _)}()}(le,ue=>null!=ue))))})).apply(this,arguments)}return function c(){return _.apply(this,arguments)}},"hamt-sharded-directory":(n,r,t,i,s,o,a)=>function c(_={}){return _.onProgress?.(new lh("unixfs:exporter:walk:hamt-sharded-directory",{cid:n})),yoe(r,i,s,o,a,_)},metadata:(n,r,t,i,s,o,a)=>()=>[],symlink:(n,r,t,i,s,o,a)=>()=>[]},DDe=function(){var n=(0,Nn.A)(function*(r,t,i,s,o,a,c,_){const m=Xk(yield c.get(r,_));let j,oe;if(null==t&&(t=r.toString()),null==m.Data)throw Pa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{j=mp.unmarshal(m.Data)}catch(ue){throw Pa(ue,"ERR_NOT_UNIXFS")}if(null==i&&(i=t),s.length>0){let ue;if(ue="hamt-sharded-directory"===j?.type?yield nDe(m,s[0],c):((n,r)=>n.Links.find(i=>i.Name===r)?.Hash)(m,s[0]),null==ue)throw Pa(new Error("file does not exist"),"ERR_NOT_FOUND");const pe=s.shift();oe={cid:ue,toResolve:s,name:pe??"",path:`${i}/${pe}`}}const le=TDe[j.type](r,m,j,i,o,a,c);if(null==le)throw Pa(new Error("could not find content exporter"),"ERR_NOT_FOUND");return j.isDirectory()?{entry:{type:"directory",name:t,path:i,cid:r,content:le,unixfs:j,depth:a,node:m,size:j.fileSize()},next:oe}:{entry:{type:"file",name:t,path:i,cid:r,content:le,unixfs:j,depth:a,node:m,size:j.fileSize()},next:oe}});return function(t,i,s,o,a,c,_,E){return n.apply(this,arguments)}}(),MDe={[Ez]:DDe,[Xse]:JTe,[qR]:KTe,[WTe_code]:YTe},voe=function(){var n=(0,Nn.A)(function*(r,t,i,s,o,a,c){const _=MDe[r.code];if(null==_)throw Pa(new Error(`No resolver for code ${r.code}`),"ERR_NO_RESOLVER");return _(r,t,i,s,voe,o,a,c)});return function(t,i,s,o,a,c,_){return n.apply(this,arguments)}}(),kDe=voe,PDe=n=>{if(n instanceof Uint8Array)return{cid:Oa.decode(n),toResolve:[]};const r=Oa.asCID(n);if(null!=r)return{cid:r,toResolve:[]};if("string"==typeof n){0===n.indexOf("/ipfs/")&&(n=n.substring(6));const t=((n="")=>(n.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(n);return{cid:Oa.parse(t[0]),toResolve:t.slice(1)}}throw Pa(new Error(`Unknown path type ${n}`),"ERR_BAD_PATH")};function WG(){return WG=hs(function*(n,r,t={}){let{cid:i,toResolve:s}=PDe(n),o=i.toString(),a=o;const c=s.length;for(;;){const _=yield Er(kDe(i,o,a,s,c,r,t));if(null==_.entry&&null==_.next)throw Pa(new Error(`Could not resolve ${n}`),"ERR_NOT_FOUND");if(null!=_.entry&&(yield _.entry),null==_.next)return;s=_.next.toResolve,i=_.next.cid,o=_.next.name,a=_.next.path}}),WG.apply(this,arguments)}function KG(){return KG=(0,Nn.A)(function*(n,r,t={}){const i=yield cTe(function ODe(n,r){return WG.apply(this,arguments)}(n,r,t));if(null==i)throw Pa(new Error(`Could not resolve ${n}`),"ERR_NOT_FOUND");return i}),KG.apply(this,arguments)}var sb=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class FDe{constructor(r={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:Dw},r),this.blockstore=new aN({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return sb(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return sb(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(r,t,i,s){var o,a,c,E,m;return sb(this,void 0,void 0,function*(){const j=yield this.getBlockstoreForStoringData(r,t,i),oe=c3([{content:s}],j,{cidVersion:1});let le;try{for(var we,ue=!0,pe=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}}(oe);we=yield pe.next(),!(o=we.done);ue=!0)ue=!1,le=we.value}catch(Oe){a={error:Oe}}finally{try{!ue&&!o&&(c=pe.return)&&(yield c.call(pe))}finally{if(a)throw a.error}}return{dataSize:Number(null!==(m=null===(E=le.unixfs)||void 0===E?void 0:E.fileSize())&&void 0!==m?m:le.size)}})}get(r,t,i){return sb(this,void 0,void 0,function*(){const s=yield this.getBlockstoreForStoringData(r,t,i);if(!(yield s.has(i)))return;const a=yield function boe(n,r){return KG.apply(this,arguments)}(i,s),c=a.content(),_=new d3.Readable({read(){return sb(this,void 0,void 0,function*(){const m=yield c.next();this.push(m.done?null:m.value)})}});let E=a.size;return("file"===a.type||"directory"===a.type)&&(E=a.unixfs.fileSize()),{dataSize:Number(E),dataStream:_}})}delete(r,t,i){return sb(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(r,t,i)).clear()})}clear(){return sb(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(r,t,i){return sb(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(r)).partition(t)).partition(i)})}}var wc=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Q3=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}},kw=function(n){return this instanceof kw?(this.v=n,this):new kw(n)};let xN=(()=>{class n{constructor(t){this.config=Object.assign({createLevelDatabase:Dw},t),this.db=new dC({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return wc(this,void 0,void 0,function*(){yield this.db.open()})}close(){return wc(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return wc(this,void 0,void 0,function*(){yield this.db.clear()})}put(t,i,s,o){return wc(this,void 0,void 0,function*(){if(vF(s))throw new Sn(xn.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const a={messageCid:i,indexes:s},c=[];for(const j in s){const oe=s[j];if(Array.isArray(oe))for(const le of oe){const ue=this.createPutIndexedItemOperation(t,a,j,le);c.push(ue)}else{const le=this.createPutIndexedItemOperation(t,a,j,oe);c.push(le)}}const _=this.createOperationForIndexesLookupPartition(t,{type:"put",key:i,value:JSON.stringify(s)});c.push(_);const E=yield Promise.all(c);yield(yield this.db.partition(t)).batch(E,o)})}delete(t,i,s){return wc(this,void 0,void 0,function*(){const o=[],a=yield this.getIndexes(t,i);if(void 0===a)return;const c=this.createOperationForIndexesLookupPartition(t,{type:"del",key:i});o.push(c);for(const m in a){const j=a[m];if(Array.isArray(j))for(const oe of j){const le=this.createDeleteIndexedItemOperation(t,i,m,oe);o.push(le)}else{const oe=this.createDeleteIndexedItemOperation(t,i,m,j);o.push(oe)}}const _=yield Promise.all(o);yield(yield this.db.partition(t)).batch(_,s)})}createPutIndexedItemOperation(t,i,s,o){return wc(this,void 0,void 0,function*(){const{messageCid:a}=i,c=n.keySegmentJoin(n.encodeValue(o),a);return this.createOperationForIndexPartition(t,s,{type:"put",key:c,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(t,i,s,o){return wc(this,void 0,void 0,function*(){const a=n.keySegmentJoin(n.encodeValue(o),i);return this.createOperationForIndexPartition(t,s,{type:"del",key:a})})}createOperationForIndexPartition(t,i,s){return wc(this,void 0,void 0,function*(){const o=yield this.db.partition(t),a=n.getIndexPartitionName(i);return o.createPartitionOperation(a,s)})}createOperationForIndexesLookupPartition(t,i){return wc(this,void 0,void 0,function*(){return(yield this.db.partition(t)).createPartitionOperation("index",i)})}static getIndexPartitionName(t){return`__${t}__`}getIndexPartition(t,i){return wc(this,void 0,void 0,function*(){const s=n.getIndexPartitionName(i);return(yield this.db.partition(t)).partition(s)})}getIndexesLookupPartition(t){return wc(this,void 0,void 0,function*(){return(yield this.db.partition(t)).partition("index")})}query(t,i,s,o){return wc(this,void 0,void 0,function*(){return n.shouldQueryWithInMemoryPaging(i,s)?this.queryWithInMemoryPaging(t,i,s,o):this.queryWithIteratorPaging(t,i,s,o)})}queryWithIteratorPaging(t,i,s,o){var a,c,_;return wc(this,void 0,void 0,function*(){const{cursor:m,limit:j}=s,oe=m?this.createStartingKeyFromCursor(m):"",le=[];try{for(var we,ue=!0,pe=Q3(this.getIndexIterator(t,oe,s,o));we=yield pe.next(),!(a=we.done);ue=!0){ue=!1;const Oe=we.value;if(void 0!==j&&j===le.length)break;const{indexes:Pe}=Oe;sd.matchAnyFilter(Pe,i)&&le.push(Oe)}}catch(Oe){c={error:Oe}}finally{try{!ue&&!a&&(_=pe.return)&&(yield _.call(pe))}finally{if(c)throw c.error}}return le})}getIndexIterator(t,i,s,o){return function(n,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,r||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(oe){i[oe]&&(s[oe]=function(le){return new Promise(function(ue,pe){o.push([oe,le,ue,pe])>1||c(oe,le)})})}function c(oe,le){try{!function _(oe){oe.value instanceof kw?Promise.resolve(oe.value.v).then(E,m):j(o[0][2],oe)}(i[oe](le))}catch(ue){j(o[0][3],ue)}}function E(oe){c("next",oe)}function m(oe){c("throw",oe)}function j(oe,le){oe(le),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){var c,_,E,m;const{sortProperty:j,sortDirection:oe=gh.Ascending,cursor:le}=s,ue={gt:i};oe===gh.Descending&&(ue.reverse=!0,void 0!==le&&(ue.lt=i,delete ue.gt));const pe=yield kw(this.getIndexPartition(t,j));try{for(var Pe,we=!0,Oe=Q3(pe.iterator(ue,o));!(c=(Pe=yield kw(Oe.next())).done);we=!0){m=Pe.value,we=!1;const[Ie,$e]=m,{indexes:Je,messageCid:Qe}=JSON.parse($e);yield yield kw({indexes:Je,messageCid:Qe})}}catch(Ie){_={error:Ie}}finally{try{!we&&!c&&(E=Oe.return)&&(yield kw(E.call(Oe)))}finally{if(_)throw _.error}}})}createStartingKeyFromCursor(t){const{messageCid:i,value:s}=t;return n.keySegmentJoin(n.encodeValue(s),i)}static createCursorFromLastArrayItem(t,i){if(t.length>0)return this.createCursorFromItem(t.at(-1),i)}static createCursorFromItem(t,i){const{messageCid:s,indexes:o}=t,a=o[i];if(void 0===a)throw new Sn(xn.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof a||Array.isArray(a))throw new Sn(xn.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof a} was given.`);return{messageCid:s,value:a}}queryWithInMemoryPaging(t,i,s,o){return wc(this,void 0,void 0,function*(){const{sortProperty:a,sortDirection:c=gh.Ascending,cursor:_,limit:E}=s,m=_?this.createStartingKeyFromCursor(_):void 0,j=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(pe=>this.executeSingleFilterQuery(t,pe,a,j,o)))}catch(pe){if(pe.code===xn.IndexInvalidSortPropertyInMemory)return[]}const oe=[...j.values()].sort((pe,we)=>this.sortItems(pe,we,a,c)),le=void 0!==m?this.findCursorStartingIndex(oe,c,a,m):0;return le<0?[]:oe.slice(le,void 0!==E?le+E:void 0)})}executeSingleFilterQuery(t,i,s,o,a){return wc(this,void 0,void 0,function*(){const c=[];if(vF(i)){const E=this.getAllItems(t,s);c.push(E)}const _=$Ce.reduceFilter(i);for(const E in _){const m=_[E];if(sd.isEqualFilter(m)){const j=this.filterExactMatches(t,E,m,a);c.push(j)}else if(sd.isOneOfFilter(m))for(const j of new Set(m)){const oe=this.filterExactMatches(t,E,j,a);c.push(oe)}else if(sd.isRangeFilter(m)){const j=this.filterRangeMatches(t,E,m,a);c.push(j)}}for(const E of c){const m=yield E;for(const j of m)if(!o.has(j.messageCid)&&sd.matchFilter(j.indexes,i)){if(void 0===j.indexes[s])throw new Sn(xn.IndexInvalidSortPropertyInMemory,`invalid sort property ${s}`);o.set(j.messageCid,j)}}})}getAllItems(t,i){var s,o,a,c;return wc(this,void 0,void 0,function*(){const _=yield this.getIndexPartition(t,i),E=[];try{for(var oe,m=!0,j=Q3(_.iterator());oe=yield j.next(),!(s=oe.done);m=!0){c=oe.value,m=!1;const[le,ue]=c;E.push(JSON.parse(ue))}}catch(le){o={error:le}}finally{try{!m&&!s&&(a=j.return)&&(yield a.call(j))}finally{if(o)throw o.error}}return E})}filterExactMatches(t,i,s,o){var a,c,_,E;return wc(this,void 0,void 0,function*(){const m=n.keySegmentJoin(n.encodeValue(s)),j={gt:m},oe=yield this.getIndexPartition(t,i),le=[];try{for(var we,ue=!0,pe=Q3(oe.iterator(j,o));we=yield pe.next(),!(a=we.done);ue=!0){E=we.value,ue=!1;const[Oe,Pe]=E;if(!Oe.startsWith(m))break;le.push(JSON.parse(Pe))}}catch(Oe){c={error:Oe}}finally{try{!ue&&!a&&(_=pe.return)&&(yield _.call(pe))}finally{if(c)throw c.error}}return le})}filterRangeMatches(t,i,s,o){var a,c,_,E;return wc(this,void 0,void 0,function*(){const m={};for(const we in s)m[we]=n.encodeValue(s[we]);void 0===m.gt&&void 0===m.gte&&(m.reverse=!0);const j=[],oe=yield this.getIndexPartition(t,i);try{for(var pe,le=!0,ue=Q3(oe.iterator(m,o));pe=yield ue.next(),!(a=pe.done);le=!0){E=pe.value,le=!1;const[we,Oe]=E;"gt"in s&&this.extractIndexValueFromKey(we)===n.encodeValue(s.gt)||j.push(JSON.parse(Oe))}}catch(we){c={error:we}}finally{try{!le&&!a&&(_=ue.return)&&(yield _.call(ue))}finally{if(c)throw c.error}}if("lte"in s)for(const we of yield this.filterExactMatches(t,i,s.lte,o))j.push(we);return j})}sortItems(t,i,s,o){const c=i.indexes[s],_=n.encodeValue(t.indexes[s])+t.messageCid,E=n.encodeValue(c)+i.messageCid;return o===gh.Ascending?mH(_,E):mH(E,_)}findCursorStartingIndex(t,i,s,o){return t.findIndex(c=>{const{messageCid:_,indexes:E}=c,j=n.keySegmentJoin(n.encodeValue(E[s]),_);return i===gh.Ascending?j>o:j<o})}getIndexes(t,i){return wc(this,void 0,void 0,function*(){const o=yield(yield this.getIndexesLookupPartition(t)).get(i);if(void 0!==o)return JSON.parse(o)})}extractIndexValueFromKey(t){const[i]=t.split(n.delimiter);return i}static keySegmentJoin(...t){return t.join(n.delimiter)}static encodeNumberValue(t){const i=Number.MAX_SAFE_INTEGER,o=String(Number.MAX_SAFE_INTEGER).length;return(t<0?"!":"")+String(t+(t<0?i:0)).padStart(o,"0")}static encodeValue(t){return"number"==typeof t?this.encodeNumberValue(t):JSON.stringify(t)}static shouldQueryWithInMemoryPaging(t,i){for(const s of t)if(!n.isFilterConcise(s,i))return!1;return!0}static isFilterConcise(t,i){return void 0!==t.recordId||void 0===i.cursor&&(void 0!==t.protocolPath||void 0!==t.contextId||void 0!==t.parentId||void 0!==t.schema)}}return n.delimiter="\0",n})();function XG(n){if(!YG(n))throw new Error("Parameter was not an error")}function YG(n){return"[object Error]"===function BDe(n){return Object.prototype.toString.call(n)}(n)||n instanceof Error}class ff extends Error{constructor(r,t){const i=[...arguments],{options:s,shortMessage:o}=function LDe(n){let r,t="";if(0===n.length)r={};else if(YG(n[0]))r={cause:n[0]},t=n.slice(1).join(" ")||"";else if(n[0]&&"object"==typeof n[0])r=Object.assign({},n[0]),t=n.slice(1).join(" ")||"";else{if("string"!=typeof n[0])throw new Error("Invalid arguments passed to Layerr");r={},t=t=n.join(" ")||""}return{options:r,shortMessage:t}}(i);let a=o;s.cause&&(a=`${a}: ${s.cause.message}`),super(a),this.message=a,this.name=s.name&&"string"==typeof s.name?s.name:"Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&"object"==typeof s.info&&Object.assign(this._info,s.info),Error.captureStackTrace&&Error.captureStackTrace(this,s.constructorOpt||this.constructor)}static cause(r){return XG(r),r._cause&&YG(r._cause)?r._cause:null}static fullStack(r){XG(r);const t=ff.cause(r);return t?`${r.stack}\ncaused by: ${ff.fullStack(t)}`:r.stack}static info(r){XG(r);const t={},i=ff.cause(r);return i&&Object.assign(t,ff.info(i)),r._info&&Object.assign(t,r._info),t}cause(){return ff.cause(this)}toString(){let r=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r=`${r}: ${this.message}`),r}}const Iw="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Pw=32,ZG=0xffffffffffff,Nm=Object.freeze({source:"ulid"});function JG(n,r){if(isNaN(n))throw new ff({info:{code:"ENC_TIME_NAN",...Nm}},`Time must be a number: ${n}`);if(n>ZG)throw new ff({info:{code:"ENC_TIME_SIZE_EXCEED",...Nm}},`Cannot encode a time larger than ${ZG}: ${n}`);if(n<0)throw new ff({info:{code:"ENC_TIME_NEG",...Nm}},`Time must be positive: ${n}`);if(!1===Number.isInteger(n))throw new ff({info:{code:"ENC_TIME_TYPE",...Nm}},`Time must be an integer: ${n}`);let t,i="";for(let s=r;s>0;s--)t=n%Pw,i=Iw.charAt(t)+i,n=(n-t)/Pw;return i}function Eoe(n){const r=n||function woe(n){const r=n||function jDe(){return function VDe(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),t=r&&(r.crypto||r.msCrypto)||null;if("function"==typeof t?.getRandomValues)return()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]/255};if("function"==typeof t?.randomBytes)return()=>t.randomBytes(1).readUInt8()/255;throw new ff({info:{code:"PRNG_DETECT",...Nm}},"Failed to find a reliable PRNG")}();let i,t=0;return function(o){const a=isNaN(o)?Date.now():o;if(a<=t){const _=i=function $De(n){let r,i,s,t=n.length,o=n;const a=Pw-1;for(;!r&&t-- >=0;){if(i=o[t],s=Iw.indexOf(i),-1===s)throw new ff({info:{code:"B32_INC_ENC",...Nm}},"Incorrectly encoded string");s!==a?r=Soe(o,t,Iw[s+1]):o=Soe(o,t,Iw[0])}if("string"==typeof r)return r;throw new ff({info:{code:"B32_INC_INVALID",...Nm}},"Failed incrementing string")}(i);return JG(t,10)+_}t=a;const c=i=function xoe(n,r){let t="";for(;n>0;n--)t=UDe(r)+t;return t}(16,r);return JG(a,10)+c}}function UDe(n){let r=Math.floor(n()*Pw);return r===Pw&&(r=Pw-1),Iw.charAt(r)}function Soe(n,r,t){return r>n.length-1?n:n.substr(0,r)+t+n.substr(r+1)}var Ow=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class zDe{constructor(r){this.index=new xN(Object.assign({location:"EVENTLOG",createLevelDatabase:Dw},r)),this.ulidFactory=Eoe()}open(){return Ow(this,void 0,void 0,function*(){return this.index.open()})}close(){return Ow(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Ow(this,void 0,void 0,function*(){return this.index.clear()})}append(r,t,i){return Ow(this,void 0,void 0,function*(){const s=this.ulidFactory();yield this.index.put(r,t,Object.assign(Object.assign({},i),{watermark:s}))})}queryEvents(r,t,i){return Ow(this,void 0,void 0,function*(){const s=yield this.index.query(r,t,{sortProperty:"watermark",cursor:i});return{events:s.map(({messageCid:o})=>o),cursor:xN.createCursorFromLastArrayItem(s,"watermark")}})}getEvents(r,t){return Ow(this,void 0,void 0,function*(){return this.queryEvents(r,[],t)})}deleteEventsByCid(r,t){return Ow(this,void 0,void 0,function*(){const i=[];for(const s of t)i.push(this.index.delete(r,s));yield Promise.all(i)})}}function SN({enumerable:n=!0,configurable:r=!1}={}){return{enumerable:n,configurable:r,writable:!1}}function*HDe(n,r){if(null!=r&&"object"==typeof r)if(Array.isArray(r))for(const[t,i]of r.entries()){const s=[...n,t],o=xs.asCID(i);o?yield[s.join("/"),o]:"object"==typeof i&&(yield*QG(i,s))}else{const t=xs.asCID(r);t?yield[n.join("/"),t]:yield*QG(r,n)}}function*QG(n,r){if(null==n||n instanceof Uint8Array)return;const t=xs.asCID(n);t&&(yield[r.join("/"),t]);for(const[i,s]of Object.entries(n)){const o=[...r,i];yield*HDe(o,s)}}function*GDe(n,r){if(Array.isArray(r))for(const[t,i]of r.entries()){const s=[...n,t];yield s.join("/"),"object"==typeof i&&!xs.asCID(i)&&(yield*eW(i,s))}else yield*eW(r,n)}function*eW(n,r){if(null!=n&&"object"==typeof n)for(const[t,i]of Object.entries(n)){const s=[...r,t];yield s.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!xs.asCID(i)&&(yield*GDe(s,i))}}class tW{constructor({cid:r,bytes:t,value:i}){if(!r||!t||typeof i>"u")throw new Error("Missing required argument");this.cid=r,this.bytes=t,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:SN(),bytes:SN(),value:SN(),asBlock:SN()})}links(){return QG(this.value,[])}tree(){return eW(this.value,[])}get(r="/"){return function WDe(n,r){let t=n;for(const[i,s]of r.entries()){if(t=t[s],null==t)throw new Error(`Object has no property at ${r.slice(0,i+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const o=xs.asCID(t);if(o)return{value:o,remaining:r.slice(i+1).join("/")}}return{value:t}}(this.value,r.split("/").filter(Boolean))}}function nW(){return nW=(0,Nn.A)(function*({value:n,codec:r,hasher:t}){if(typeof n>"u")throw new Error('Missing required argument "value"');if(!r||!t)throw new Error("Missing required argument: codec or hasher");const i=r.encode(n),s=yield t.digest(i),o=xs.create(1,r.code,s);return new tW({value:n,bytes:i,cid:o})}),nW.apply(this,arguments)}function rW(){return rW=(0,Nn.A)(function*({bytes:n,codec:r,hasher:t}){if(!n)throw new Error('Missing required argument "bytes"');if(!r||!t)throw new Error("Missing required argument: codec or hasher");const i=r.decode(n),s=yield t.digest(n),o=xs.create(1,r.code,s);return new tW({value:i,bytes:n,cid:o})}),rW.apply(this,arguments)}var Rw=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class sW{constructor(r={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:Dw},r),this.blockstore=new aN({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new xN({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Rw(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Rw(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(r,t,i){var s;return Rw(this,void 0,void 0,function*(){null===(s=i?.signal)||void 0===s||s.throwIfAborted();const o=yield Fl(this.blockstore.partition(r),i?.signal),a=xs.parse(t),c=yield o.get(a,i);return c?(yield Fl(function qDe(n){return rW.apply(this,arguments)}({bytes:c,codec:te,hasher:K0}),i?.signal)).value:void 0})}query(r,t,i,s,o){var a;return Rw(this,void 0,void 0,function*(){null===(a=o?.signal)||void 0===a||a.throwIfAborted();const c=sW.buildQueryOptions(i,s),_=yield this.index.query(r,t,c,o);let E;void 0!==s?.limit&&s.limit<_.length&&(_.splice(-1),E=xN.createCursorFromLastArrayItem(_,c.sortProperty));const m=[];for(let j=0;j<_.length;j++){const{messageCid:oe}=_[j],le=yield this.get(r,oe,o);le&&m.push(le)}return{messages:m,cursor:E}})}static buildQueryOptions(r={},t={}){let{limit:i,cursor:s}=t;const{dateCreated:o,datePublished:a,messageTimestamp:c}=r;let _=gh.Ascending,E="messageTimestamp";return void 0!==o?E="dateCreated":void 0!==a?E="datePublished":void 0!==c&&(E="messageTimestamp"),void 0!==r[E]&&(_=r[E]),void 0!==i&&i>0&&(i+=1),{sortDirection:_,sortProperty:E,limit:i,cursor:s}}delete(r,t,i){var s;return Rw(this,void 0,void 0,function*(){null===(s=i?.signal)||void 0===s||s.throwIfAborted();const o=yield Fl(this.blockstore.partition(r),i?.signal),a=xs.parse(t);yield o.delete(a,i),yield this.index.delete(r,t,i)})}put(r,t,i,s){var o;return Rw(this,void 0,void 0,function*(){null===(o=s?.signal)||void 0===o||o.throwIfAborted();const a=yield Fl(this.blockstore.partition(r),s?.signal),c=yield Fl(function KDe(n){return nW.apply(this,arguments)}({value:t,codec:te,hasher:K0}),s?.signal),_=Uc.parseCid(yield Kn.getCid(t));yield a.put(_,c.bytes,s);const E=_.toString();yield this.index.put(r,E,i,s)})}clear(){return Rw(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var ob=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};let ZDe=(()=>{class n{constructor(t){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:Dw},t),this.db=new dC({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return ob(this,void 0,void 0,function*(){yield this.db.open()})}close(){return ob(this,void 0,void 0,function*(){yield this.db.close()})}register(t,i){return ob(this,void 0,void 0,function*(){const s=yield Uc.computeCid(t),o={id:s,timeout:Date.now()+1e3*i,retryCount:0,task:t};return yield this.db.put(s,JSON.stringify(o)),o})}grab(t){var i,s,o,a;return ob(this,void 0,void 0,function*(){const c=[];try{for(var m,_=!0,E=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}}(this.db.iterator());m=yield E.next(),!(i=m.done);_=!0){a=m.value,_=!1;const[j,oe]=a,le=JSON.parse(oe);if(Date.now()>=le.timeout&&(le.timeout=Date.now()+1e3*n.taskTimeoutInSeconds,le.retryCount++,yield this.db.put(le.id,JSON.stringify(le)),c.push(le)),c.length>=t)break}}catch(j){s={error:j}}finally{try{!_&&!i&&(o=E.return)&&(yield o.call(E))}finally{if(s)throw s.error}}return c})}read(t){return ob(this,void 0,void 0,function*(){const i=yield this.db.get(t);if(i)return JSON.parse(i)})}extend(t,i){return ob(this,void 0,void 0,function*(){const s=yield this.db.get(t);if(s){const o=JSON.parse(s);o.timeout=Date.now()+1e3*i,yield this.db.put(o.id,JSON.stringify(o))}})}delete(t){return ob(this,void 0,void 0,function*(){return this.db.delete(t)})}clear(){return ob(this,void 0,void 0,function*(){yield this.db.clear()})}}return n.taskTimeoutInSeconds=60,n})();var JDe=A(44356),CN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const oW="events";class QDe{constructor(r={}){this.isOpen=!1,this.errorHandler=t=>{console.error("event emitter error",t)},this.eventEmitter=new JDe.EventEmitter({captureRejections:!0}),this.eventEmitter.setMaxListeners(0),r.errorHandler&&(this.errorHandler=r.errorHandler),this.eventEmitter.on("error",this.errorHandler)}subscribe(r,t,i){return CN(this,void 0,void 0,function*(){return this.eventEmitter.on(`${r}_${oW}`,i),{id:t,close:()=>CN(this,void 0,void 0,function*(){this.eventEmitter.off(`${r}_${oW}`,i)})}})}open(){return CN(this,void 0,void 0,function*(){this.isOpen=!0})}close(){return CN(this,void 0,void 0,function*(){this.isOpen=!1,this.eventEmitter.removeAllListeners()})}emit(r,t,i){this.isOpen?this.eventEmitter.emit(`${r}_${oW}`,r,t,i):this.errorHandler(new Sn(xn.EventEmitterStreamNotOpenError,"a message emitted when EventEmitterStream is closed"))}}var fr=function(n){return n.MessagesQuery="MessagesQuery",n.MessagesRead="MessagesRead",n.MessagesSubscribe="MessagesSubscribe",n.ProtocolsConfigure="ProtocolsConfigure",n.ProtocolsQuery="ProtocolsQuery",n.RecordsDelete="RecordsDelete",n.RecordsQuery="RecordsQuery",n.RecordsRead="RecordsRead",n.RecordsSubscribe="RecordsSubscribe",n.RecordsWrite="RecordsWrite",n}(fr||{});const Coe={[fr.MessagesQuery]:$3,[fr.MessagesRead]:iC,[fr.MessagesSubscribe]:V3,[fr.ProtocolsConfigure]:cf,[fr.ProtocolsQuery]:oC,[fr.RecordsDelete]:aC,[fr.RecordsQuery]:B3,[fr.RecordsRead]:H3,[fr.RecordsSubscribe]:G3,[fr.RecordsWrite]:Li};class AN extends D1{constructor({agent:r,db:t,location:i,ttl:s}){super({db:t,location:i,ttl:s}),this._resolving=new Map,this._agent=r}get agent(){if(!this._agent)throw new Error("Agent not initialized");return this._agent}set agent(r){this._agent=r}get(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){try{const t=yield this.cache.get(r),i=JSON.parse(t);if(!this._resolving.has(r)&&Date.now()>=i.ttlMillis){this._resolving.set(r,!0);const s=yield this.agent.did.get({didUri:r,tenant:this.agent.agentDid.uri});if(typeof s<"u")try{const o=yield this.agent.did.resolve(r);if(!o.didResolutionMetadata.error&&o.didDocument){const a=Object.assign(Object.assign({},s),{document:o.didDocument,metadata:o.didDocumentMetadata});try{yield this.agent.did.update({portableDid:a,tenant:this.agent.agentDid.uri,publish:!1})}catch(c){c.message&&!c.message.includes("No changes detected, update aborted")&&$s.error(`Error updating DID: ${c.message}`)}}}finally{this._resolving.delete(r)}else this._resolving.delete(r),this.cache.nextTick(()=>this.cache.del(r))}return i.value}catch(t){if(t.notFound)return;throw t}})}}class aW{constructor({did:r,metadata:t}){this.did=r,this.metadata=t}export(){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){return{portableDid:yield this.did.export(),metadata:Object.assign({},this.metadata)}})}}class rMe{static deriveKeyBytes({baseKeyBytes:r,length:t,hash:i,salt:s,info:o=new Uint8Array}){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const c=yield Xh().importKey("raw",r,{name:"HKDF"},!1,["deriveBits"]);s="string"==typeof s?hn.string(s).toUint8Array():s,o="string"==typeof o?hn.string(o).toUint8Array():o;const _=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:s,info:o},c,t);return new Uint8Array(_)})}}class Kr extends Error{constructor(r,t){super(t),this.code=r,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr)}}var qr=function(n){return n.AlgorithmNotSupported="algorithmNotSupported",n.EncodingError="encodingError",n.InvalidJwe="invalidJwe",n.InvalidJwk="invalidJwk",n.OperationNotSupported="operationNotSupported",n}(qr||{}),pg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Aoe extends Vf{bytesToPrivateKey({algorithm:r,privateKeyBytes:t}){return pg(this,void 0,void 0,function*(){switch(r){case"ES256K":case"secp256k1":{const i=yield ls.bytesToPrivateKey({privateKeyBytes:t});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield fs.bytesToPrivateKey({privateKeyBytes:t});return i.alg="EdDSA",i}default:throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`)}})}bytesToPublicKey({algorithm:r,publicKeyBytes:t}){return pg(this,void 0,void 0,function*(){switch(r){case"ES256K":case"secp256k1":{const i=yield ls.bytesToPublicKey({publicKeyBytes:t});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield fs.bytesToPublicKey({publicKeyBytes:t});return i.alg="EdDSA",i}default:throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`)}})}computePublicKey({key:r}){return pg(this,void 0,void 0,function*(){if(!cl(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const t=yield ls.computePublicKey({key:r});return t.alg="ES256K",t}case"P-256":{const t=yield fs.computePublicKey({key:r});return t.alg="ES256",t}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}generateKey({algorithm:r}){return pg(this,void 0,void 0,function*(){switch(r){case"ES256K":case"secp256k1":{const t=yield ls.generateKey();return t.alg="ES256K",t}case"ES256":case"secp256r1":{const t=yield fs.generateKey();return t.alg="ES256",t}}})}getPublicKey({key:r}){return pg(this,void 0,void 0,function*(){if(!cl(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const t=yield ls.getPublicKey({key:r});return t.alg="ES256K",t}case"P-256":{const t=yield fs.getPublicKey({key:r});return t.alg="ES256",t}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}privateKeyToBytes({privateKey:r}){return pg(this,void 0,void 0,function*(){switch(r.crv){case"secp256k1":return yield ls.privateKeyToBytes({privateKey:r});case"P-256":return yield fs.privateKeyToBytes({privateKey:r});default:throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)}})}publicKeyToBytes({publicKey:r}){return pg(this,void 0,void 0,function*(){switch(r.crv){case"secp256k1":return yield ls.publicKeyToBytes({publicKey:r});case"P-256":return yield fs.publicKeyToBytes({publicKey:r});default:throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)}})}sign({key:r,data:t}){return pg(this,void 0,void 0,function*(){if(!cl(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":return yield ls.sign({key:r,data:t});case"P-256":return yield fs.sign({key:r,data:t});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}verify({key:r,signature:t,data:i}){return pg(this,void 0,void 0,function*(){if(!Zp(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(r.crv){case"secp256k1":return yield ls.verify({key:r,signature:t,data:i});case"P-256":return yield fs.verify({key:r,signature:t,data:i});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}}var mg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},eI=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Toe=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};const Doe=[128,192,256];class tI{static bytesToPrivateKey({privateKeyBytes:r}){return eI(this,void 0,void 0,function*(){const t={k:hn.uint8Array(r).toBase64Url(),kty:"oct"};return t.kid=yield Pi({jwk:t}),t.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*r.length],t})}static generateKey({length:r}){return eI(this,void 0,void 0,function*(){if(!Doe.includes(r))throw new RangeError(`The key length is invalid: Must be ${Doe.join(", ")} bits`);const t=Xh(),i=yield t.generateKey({name:"AES-KW",length:r},!0,["wrapKey","unwrapKey"]),s=yield t.exportKey("jwk",i),c=Toe(s,["ext","key_ops"]);return c.kid=yield Pi({jwk:c}),c})}static privateKeyToBytes({privateKey:r}){return eI(this,void 0,void 0,function*(){if(!oO(r))throw new Error("AesKw: The provided key is not a valid oct private key.");return hn.base64Url(r.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:r,wrappedKeyAlgorithm:t,decryptionKey:i}){return eI(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new Kr(qr.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new Kr(qr.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const s=Xh(),o=yield s.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),a={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t];if(!a)throw new Kr(qr.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${t}`);const c=yield s.unwrapKey("raw",r.buffer,o,"AES-KW",{name:a},!0,["unwrapKey"]),_=yield s.exportKey("jwk",c),oe=Toe(_,["ext","key_ops"]);return oe.kid=yield Pi({jwk:oe}),oe})}static wrapKey({unwrappedKey:r,encryptionKey:t}){return eI(this,void 0,void 0,function*(){if(!("alg"in t)||!t.alg)throw new Kr(qr.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(t.alg))throw new Kr(qr.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${t.alg}`);if(!("alg"in r)||!r.alg)throw new Kr(qr.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=Xh(),s=yield i.importKey("jwk",t,{name:"AES-KW"},!0,["wrapKey"]),o={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[r.alg];if(!o)throw new Kr(qr.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${r.alg}`);const a=yield i.importKey("jwk",r,{name:o},!0,["unwrapKey"]),c=yield i.wrapKey("raw",a,s,"AES-KW");return new Uint8Array(c)})}}var nI=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class Moe extends Vf{bytesToPrivateKey({privateKeyBytes:r}){return nI(this,void 0,void 0,function*(){const t=yield tI.bytesToPrivateKey({privateKeyBytes:r});return t.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[r.length],t})}generateKey({algorithm:r}){return nI(this,void 0,void 0,function*(){const t={A128KW:128,A192KW:192,A256KW:256}[r],i=yield tI.generateKey({length:t});return i.alg=r,i})}privateKeyToBytes({privateKey:r}){return nI(this,void 0,void 0,function*(){return yield tI.privateKeyToBytes({privateKey:r})})}unwrapKey(r){return nI(this,void 0,void 0,function*(){return yield tI.unwrapKey(r)})}wrapKey(r){return nI(this,void 0,void 0,function*(){return tI.wrapKey(r)})}}class lMe{static deriveKeyBytes({baseKeyBytes:r,hash:t,salt:i,iterations:s,length:o}){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const a=Xh(),c=yield a.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]),_=yield a.deriveBits({name:"PBKDF2",hash:t,salt:i,iterations:s},c,o);return new Uint8Array(_)})}}var rI=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},cd=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const cW={"AES-GCM":{implementation:class hMe extends Vf{bytesToPrivateKey({privateKeyBytes:r}){return rI(this,void 0,void 0,function*(){const t=yield dl.bytesToPrivateKey({privateKeyBytes:r});return t.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[r.length],t})}decrypt(r){return rI(this,void 0,void 0,function*(){return dl.decrypt(r)})}encrypt(r){return rI(this,void 0,void 0,function*(){return dl.encrypt(r)})}generateKey({algorithm:r}){return rI(this,void 0,void 0,function*(){const t={A128GCM:128,A192GCM:192,A256GCM:256}[r],i=yield dl.generateKey({length:t});return i.alg=r,i})}privateKeyToBytes({privateKey:r}){return rI(this,void 0,void 0,function*(){return yield dl.privateKeyToBytes({privateKey:r})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:Moe,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class aMe extends Vf{bytesToPrivateKey({algorithm:r,privateKeyBytes:t}){return mg(this,void 0,void 0,function*(){if("Ed25519"===r){const i=yield ns.bytesToPrivateKey({privateKeyBytes:t});return i.alg="EdDSA",i}throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`)})}bytesToPublicKey({algorithm:r,publicKeyBytes:t}){return mg(this,void 0,void 0,function*(){if("Ed25519"===r){const i=yield ns.bytesToPublicKey({publicKeyBytes:t});return i.alg="EdDSA",i}throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`)})}computePublicKey({key:r}){return mg(this,void 0,void 0,function*(){if(!Kh(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const t=yield ns.computePublicKey({key:r});return t.alg="EdDSA",t}throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)})}generateKey({algorithm:r}){return mg(this,void 0,void 0,function*(){if("Ed25519"===r){const t=yield ns.generateKey();return t.alg="EdDSA",t}})}getPublicKey({key:r}){return mg(this,void 0,void 0,function*(){if(!Kh(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const t=yield ns.getPublicKey({key:r});return t.alg="EdDSA",t}throw new Error(`Unsupported curve: ${r.crv}`)})}privateKeyToBytes({privateKey:r}){return mg(this,void 0,void 0,function*(){if("Ed25519"===r.crv)return yield ns.privateKeyToBytes({privateKey:r});throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)})}publicKeyToBytes({publicKey:r}){return mg(this,void 0,void 0,function*(){if("Ed25519"===r.crv)return yield ns.publicKeyToBytes({publicKey:r});throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)})}sign({key:r,data:t}){return mg(this,void 0,void 0,function*(){if(!Kh(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv)return yield ns.sign({key:r,data:t});throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)})}verify({key:r,signature:t,data:i}){return mg(this,void 0,void 0,function*(){if(!V_(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===r.crv)return yield ns.verify({key:r,signature:t,data:i});throw new Kr(qr.AlgorithmNotSupported,`Curve not supported: ${r.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class oMe extends Vf{deriveKeyBytes(r){var{algorithm:t}=r,i=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["algorithm"]);return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const s={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[t];return yield rMe.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:s}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class fMe extends Vf{deriveKeyBytes(r){var{algorithm:t}=r,i=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["algorithm"]);return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const[,s]=t.split(/[-+]/),o={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[s];return yield lMe.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:o}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:Aoe,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:Aoe,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:KT,names:["SHA-256"],operations:["digest"]}};class hC{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:r,privateKeyBytes:t}){return cd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:r});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:r,privateKeyBytes:t})})}bytesToPublicKey({algorithm:r,publicKeyBytes:t}){return cd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:r});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:r,publicKeyBytes:t})})}decrypt(r){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r.key});return yield this.getAlgorithm({algorithm:t}).decrypt(r)})}deriveKey(r){var t,i;return cd(this,void 0,void 0,function*(){const s=this.getAlgorithmName({algorithm:r.algorithm}),o=this.getAlgorithm({algorithm:s});let a;switch(r.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":a=r.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":a=r.algorithm.split(/[-+]/)[2];break;default:throw new Kr(qr.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${r.algorithm}`)}const c=+(null!==(i=null===(t=a.match(/\d+/))||void 0===t?void 0:t[0])&&void 0!==i?i:-1);if(-1===c)throw new Kr(qr.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${a}`);const _=yield o.deriveKeyBytes(Object.assign(Object.assign({},r),{length:c}));return yield this.bytesToPrivateKey({algorithm:a,privateKeyBytes:_})})}deriveKeyBytes(r){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({algorithm:r.algorithm});return yield this.getAlgorithm({algorithm:t}).deriveKeyBytes(r)})}digest({algorithm:r,data:t}){return cd(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:r}).digest({algorithm:r,data:t})})}encrypt(r){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r.key});return yield this.getAlgorithm({algorithm:t}).encrypt(r)})}generateKey(r){var t;return cd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:r.algorithm}),o=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:r.algorithm});return null!==(t=o.kid)&&void 0!==t||(o.kid=yield Pi({jwk:o})),o})}getKeyUri(r){return cd(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:r}){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r});return yield this.getAlgorithm({algorithm:t}).getPublicKey({key:r})})}privateKeyToBytes({privateKey:r}){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r});return yield this.getAlgorithm({algorithm:t}).privateKeyToBytes({privateKey:r})})}publicKeyToBytes({publicKey:r}){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r});return yield this.getAlgorithm({algorithm:t}).publicKeyToBytes({publicKey:r})})}sign({key:r,data:t}){return cd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:r});return this.getAlgorithm({algorithm:i}).sign({data:t,key:r})})}unwrapKey(r){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r.decryptionKey});return yield this.getAlgorithm({algorithm:t}).unwrapKey(r)})}verify({key:r,signature:t,data:i}){return cd(this,void 0,void 0,function*(){const s=this.getAlgorithmName({key:r});return this.getAlgorithm({algorithm:s}).verify({key:r,signature:t,data:i})})}wrapKey(r){return cd(this,void 0,void 0,function*(){const t=this.getAlgorithmName({key:r.encryptionKey});return yield this.getAlgorithm({algorithm:t}).wrapKey(r)})}getAlgorithm({algorithm:r}){var t;const i=null===(t=cW[r])||void 0===t?void 0:t.implementation;if(!i)throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:r,key:t}){var i;const s=null!==(i=t?.alg)&&void 0!==i?i:r,o=t?.crv;for(const a of Object.keys(cW)){const c=cW[a].names;if(s&&c.includes(s))return a;if(o&&c.includes(o))return a}throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${s}, crv=${o}. Please check the documentation for the list of supported algorithms.`)}}const koe={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},pMe={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function Ioe(n){return!(!n||"object"!=typeof n||null===n)&&"uri"in n&&"document"in n&&"metadata"in n&&(!("keyManager"in n)||void 0===n.keyManager)}var pC=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const fu="^";class gMe extends ll{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:r}){var t;return pC(this,void 0,void 0,function*(){const i={};for(const s of r)null!==(t=s.kid)&&void 0!==t||(s.kid=yield Pi({jwk:s})),i[yield this.getKeyUri({key:s})]=s;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:r}){return pC(this,void 0,void 0,function*(){const t=this._predefinedKeys.get(r);if(!t)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${r}`);return t})}generateKey(r){return pC(this,void 0,void 0,function*(){const{value:t,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return t})}getPublicKey({keyUri:r}){return pC(this,void 0,void 0,function*(){const t=this._predefinedKeys.get(r);if(!t)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${r}`);return function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["d"])})}sign({keyUri:r,data:t}){return pC(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(r);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${r}`);return yield ns.sign({data:t,key:i})})}}function gg({agent:n,tenant:r,didUri:t}){return pC(this,void 0,void 0,function*(){if(r)return r;if(n.agentDid)return n.agentDid.uri;if(!t)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return t})}var hu=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class lW{constructor(){this.name="DwnDataStore",this._cache=new Sy({ttl:lv("15 minutes"),max:100}),this._index=new Sy({ttl:lv("21 days"),max:1e3}),this._protocolInitializedCache=new Sy({ttl:lv("21 days"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:r,agent:t,tenant:i}){return hu(this,void 0,void 0,function*(){const s=yield gg({agent:t,tenant:i,didUri:r});let o=yield this.lookupRecordId({id:r,tenantDid:s,agent:t});if(!o)return!1;const{reply:{status:a}}=yield t.dwn.processRequest({author:s,target:s,messageType:fr.RecordsDelete,messageParams:{recordId:o}});if(202===a.code)return this._index.delete(`${s}${fu}${r}`),this._cache.delete(o),!0;throw new Error(`${this.name}: Failed to delete '${r}' from store: (${a.code}) ${a.detail}`)})}get({id:r,agent:t,tenant:i,useCache:s=!1}){return hu(this,void 0,void 0,function*(){const o=yield gg({agent:t,tenant:i,didUri:r});let a=yield this.lookupRecordId({id:r,tenantDid:o,agent:t});if(a)return yield this.getRecord({recordId:a,tenantDid:o,agent:t,useCache:s})})}list({agent:r,tenant:t}){return hu(this,void 0,void 0,function*(){const i=yield gg({tenant:t,agent:r});return yield this.getAllRecords({agent:r,tenantDid:i})})}set({id:r,data:t,tenant:i,agent:s,preventDuplicates:o=!0,updateExisting:a=!1,useCache:c=!1}){return hu(this,void 0,void 0,function*(){const _=yield gg({agent:s,tenant:i,didUri:r});yield this.initialize({tenant:_,agent:s});const E=Object.assign({},this._recordProperties);if(a){const le=yield this.getExistingRecordEntry({id:r,tenantDid:_,agent:s});if(!le)throw new Error(`${this.name}: Update failed due to missing entry for: ${r}`);E.recordId=le.recordsWrite.recordId,E.dateCreated=le.recordsWrite.descriptor.dateCreated}else if(o&&(yield this.lookupRecordId({id:r,tenantDid:_,agent:s})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${r}`);const m=hn.object(t).toUint8Array(),{message:j,reply:{status:oe}}=yield s.dwn.processRequest({author:_,target:_,messageType:fr.RecordsWrite,messageParams:Object.assign(Object.assign({},this._recordProperties),E),dataStream:new Blob([m],{type:"application/json"})});if(!j||202!==oe.code)throw new Error(`${this.name}: Failed to write data to store for ${r}: ${oe.detail}`);this._index.set(`${_}${fu}${r}`,j.recordId),c&&this._cache.set(j.recordId,t)})}initialize({tenant:r,agent:t}){return hu(this,void 0,void 0,function*(){const i=yield gg({agent:t,tenant:r});if(this._protocolInitializedCache.has(i))return;const{reply:{status:s,entries:o}}=yield t.dwn.processRequest({author:i,target:i,messageType:fr.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==s.code)throw new Error(`Failed to query for protocols: ${s.code} - ${s.detail}`);0===o?.length&&(yield this.installProtocol(i,t)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(r){return hu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:r,tenantDid:t,agent:i,useCache:s}){var o;return hu(this,void 0,void 0,function*(){if(s){const _=this._cache.get(r);if(_)return _}const{reply:a}=yield i.dwn.processRequest({author:t,target:t,messageType:fr.RecordsRead,messageParams:{filter:{recordId:r}}});if(null===(o=a.entry)||void 0===o||!o.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${r}`);const c=yield Wa.consumeToJson({readable:a.entry.data});return s&&this._cache.set(r,c),c})}installProtocol(r,t){return hu(this,void 0,void 0,function*(){const{reply:{status:i}}=yield t.dwn.processRequest({author:r,target:r,messageType:fr.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:r,tenantDid:t,agent:i}){return hu(this,void 0,void 0,function*(){let s=this._index.get(`${t}${fu}${r}`,{updateAgeOnGet:!0});return s||(yield this.getAllRecords({agent:i,tenantDid:t}),s=this._index.get(`${t}${fu}${r}`)),s})}getExistingRecordEntry({id:r,tenantDid:t,agent:i}){return hu(this,void 0,void 0,function*(){const s=yield this.lookupRecordId({id:r,tenantDid:t,agent:i});if(s){const{reply:o}=yield i.dwn.processRequest({author:t,target:t,messageType:fr.RecordsRead,messageParams:{filter:{recordId:s}}});return o.entry}})}}class dW{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:r,agent:t,tenant:i}){return hu(this,void 0,void 0,function*(){const s=yield gg({agent:t,tenant:i,didUri:r});return!!this.store.has(`${s}${fu}${r}`)&&(this.store.delete(`${s}${fu}${r}`),!0)})}get({id:r,agent:t,tenant:i}){return hu(this,void 0,void 0,function*(){const s=yield gg({agent:t,tenant:i,didUri:r});return this.store.get(`${s}${fu}${r}`)})}list({agent:r,tenant:t}){return hu(this,void 0,void 0,function*(){const i=yield gg({tenant:t,agent:r}),s=[];for(const[o,a]of this.store.entries())o.startsWith(`${i}${fu}`)&&s.push(a);return s})}set({id:r,data:t,tenant:i,agent:s,preventDuplicates:o,updateExisting:a}){return hu(this,void 0,void 0,function*(){const c=yield gg({agent:s,tenant:i,didUri:r});if(a){if(!this.store.has(`${c}${fu}${r}`))throw new Error(`${this.name}: Update failed due to missing entry for: ${r}`)}else if(o&&this.store.has(`${c}${fu}${r}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${r}`);const _=structuredClone(t);this.store.set(`${c}${fu}${r}`,_)})}}var yg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class uW extends lW{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=koe,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return yg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return yg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return yg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return yg(this,void 0,void 0,function*(){return yield t.set.call(this,r)})}getAllRecords({agent:r,tenantDid:t}){var i;return yg(this,void 0,void 0,function*(){this._index.clear();const{reply:s}=yield r.dwn.processRequest({author:t,target:t,messageType:fr.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let o=[];for(const a of null!==(i=s.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const c=hn.base64Url(a.encodedData).toObject();Ioe(c)&&(this._index.set(`${t}${fu}${c.uri}`,a.recordId),this._cache.set(a.recordId,c),o.push(c))}return o})}}class yMe extends dW{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return yg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return yg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return yg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return yg(this,void 0,void 0,function*(){return yield t.set.call(this,r)})}}var vg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},iI=function(n){return n.Create="Create",n.Resolve="Resolve",n}(iI||{});function Poe(n,r){return n.messageType===r}class fW extends kE{constructor({agent:r,didMethods:t,resolverCache:i,store:s}){if(!t)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:t,cache:i??new AN({agent:r,location:"DATA/AGENT/DID_CACHE"})}),this._didMethods=new Map,this._agent=r,this._store=s??new yMe;for(const o of t)this._didMethods.set(o.methodName,o)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r,"agent"in this.cache&&(this.cache.agent=r)}create({method:r,tenant:t,options:i,store:s}){return vg(this,void 0,void 0,function*(){const a=yield this.getMethod(r).create({keyManager:this.agent.keyManager,options:i});if(yield this.cache.set(a.uri,{didDocument:a.document,didResolutionMetadata:{},didDocumentMetadata:a.metadata}),s??1){const{uri:c,document:_,metadata:E}=a,m={uri:c,document:_,metadata:E};yield this._store.set({id:m.uri,data:m,agent:this.agent,tenant:t??m.uri,preventDuplicates:!1,useCache:!0})}return a})}export({didUri:r,tenant:t}){return vg(this,void 0,void 0,function*(){const i=yield this.get({didUri:r,tenant:t});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${r}`);return yield i.export()})}get({didUri:r,tenant:t}){return vg(this,void 0,void 0,function*(){const i=yield this._store.get({id:r,agent:this.agent,tenant:t,useCache:!0});return i?yield ul.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:r,methodId:t}){return vg(this,void 0,void 0,function*(){const i=Gi.parse(r);if(!i)throw new Error(`Invalid DID URI: ${r}`);const s=this.getMethod(i.method),{didDocument:o,didResolutionMetadata:a}=yield this.resolve(r);if(!o)throw new Error(`DID resolution failed for '${r}': ${JSON.stringify(a)}`);return yield s.getSigningMethod({didDocument:o,methodId:t})})}update({tenant:r,portableDid:t,publish:i=!0}){return vg(this,void 0,void 0,function*(){const s=yield this.get({didUri:t.uri,tenant:r??t.uri});if(!s)throw new Error(`AgentDidApi: Could not update, DID not found: ${t.uri}`);if(sO(t.document)===sO(s.document))throw new Error("AgentDidApi: No changes detected, update aborted");const o=yield ul.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:a,document:c,metadata:_}=o,E={uri:a,document:c,metadata:_};if(yield this.cache.set(a,{didDocument:c,didResolutionMetadata:{},didDocumentMetadata:_}),yield this._store.set({id:a,data:E,agent:this.agent,tenant:r??a,updateExisting:!0,useCache:!0}),i){const m=Gi.parse(a);m&&"dht"===m.method&&(yield Qf.publish({did:o}))}return o})}import({portableDid:r,tenant:t}){return vg(this,void 0,void 0,function*(){const i=yield ul.import({keyManager:this.agent.keyManager,portableDid:r}),{uri:s,document:o,metadata:a}=i,c={uri:s,document:o,metadata:a};return yield this.cache.set(s,{didDocument:o,didResolutionMetadata:{},didDocumentMetadata:a}),yield this._store.set({id:c.uri,data:c,agent:this.agent,tenant:t??c.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:r,tenant:t,deleteKey:i=!0}){return vg(this,void 0,void 0,function*(){const s=yield this._store.get({id:r,agent:this.agent,tenant:t,useCache:!1});if(!s)throw new Error("AgentDidApi: Could not delete, DID not found");yield this.cache.delete(r),yield this._store.delete({id:r,agent:this.agent,tenant:t}),i&&(yield this.deleteKeys({portableDid:s}))})}deleteKeys({portableDid:r}){return vg(this,void 0,void 0,function*(){for(const t of r.document.verificationMethod||[]){if(!t.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:t.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(r){var t;return vg(this,void 0,void 0,function*(){if(Poe(r,iI.Create))try{const i=yield this.create(Object.assign({},r.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(t=i.message)&&void 0!==t?t:"Unknown error occurred"}}}if(Poe(r,iI.Resolve)){const{didUri:i,options:s}=r.messageParams;return{result:yield this.resolve(i,s),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${r.messageType}`)})}getMethod(r){const t=this._didMethods.get(r);if(void 0===t)throw new Error(`DID Method not supported: ${r}`);return t}}var vMe=A(85493),hW=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function Ooe(n){return mW(n.stream())}function pW(n,r){return hW(this,void 0,void 0,function*(){const t=yield r.dereference(`${n}#dwn`);if(t.dereferencingMetadata.error)throw new Error(`Failed to dereference '${n}#dwn': ${t.dereferencingMetadata.error}`);if(function OO(n){if(!function PO(n){return!(!n||"object"!=typeof n||null===n)&&"id"in n&&"type"in n&&"serviceEndpoint"in n}(n)||"DecentralizedWebNode"!==n.type||!("enc"in n)||!("sig"in n))return!1;const r=t=>"string"==typeof t||Array.isArray(t)&&t.every(i=>"string"==typeof i);return r(n.enc)&&r(n.sig)}(t.contentStream)){const{serviceEndpoint:i}=t.contentStream,s="string"==typeof i?[i]:Array.isArray(i)&&i.every(o=>"string"==typeof o)?i:[];if(s.length>0)return s}return[]})}function mC(n){return Kn.getAuthor(n)}function sI(n){return!(!n||"object"!=typeof n||null===n)&&"message"in n&&"object"==typeof n.message&&null!==n.message&&"descriptor"in n.message&&"object"==typeof n.message.descriptor&&null!==n.message.descriptor&&"interface"in n.message.descriptor&&n.message.descriptor.interface===Sr.Records&&"method"in n.message.descriptor&&n.message.descriptor.method===dr.Write}function _Me(n){return Kn.getCid(n)}function mW(n){return new vMe.s(n)}function Fw(n,r){return n.endsWith("/")&&(n=n.slice(0,-1)),r.startsWith("/")&&(r=r.slice(1)),`${n}/${r}`}var bg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function gW(n,r){return r.descriptor.interface+r.descriptor.method===n}class Roe{constructor({agent:r,dwn:t}){this._agent=r,this._dwn=t}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r}get node(){return this._dwn}static createDwn({dataPath:r,dataStore:t,didResolver:i,eventLog:s,eventStream:o,messageStore:a,tenantGate:c,resumableTaskStore:_}){return bg(this,void 0,void 0,function*(){return t??(t=new FDe({blockstoreLocation:`${r}/DWN_DATASTORE`})),i??(i=new kE({didResolvers:[Qf,Ku],cache:new D1({location:`${r}/DID_RESOLVERCACHE`})})),s??(s=new zDe({location:`${r}/DWN_EVENTLOG`})),a??(a=new sW({blockstoreLocation:`${r}/DWN_MESSAGESTORE`,indexLocation:`${r}/DWN_MESSAGEINDEX`})),_??(_=new ZDe({location:`${r}/DWN_RESUMABLETASKSTORE`})),o??(o=new QDe),yield TG.create({dataStore:t,didResolver:i,eventLog:s,eventStream:o,messageStore:a,tenantGate:c,resumableTaskStore:_})})}processRequest(r){return bg(this,void 0,void 0,function*(){const{message:t,dataStream:i}=yield this.constructDwnMessage({request:r}),{subscriptionHandler:s}=r;return{reply:!1!==r.store?yield this._dwn.processMessage(r.target,t,{dataStream:i,subscriptionHandler:s}):{status:{code:202,detail:"Accepted"}},message:t,messageCid:yield Kn.getCid(t)}})}sendRequest(r){return bg(this,void 0,void 0,function*(){const t=yield pW(r.target,this.agent.did);if(0===t.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${r.target}#dwn`);let i,s,o,a;if("messageCid"in r)({message:s,data:o}=yield this.getDwnMessage({author:r.author,messageCid:r.messageCid,messageType:r.messageType})),i=r.messageCid;else{if(({message:s}=yield this.constructDwnMessage({request:r})),r.dataStream&&!(r.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");o=r.dataStream,a=r.subscriptionHandler}const c=yield this.sendDwnRpcRequest({targetDid:r.target,dwnEndpointUrls:t,message:s,data:o,subscriptionHandler:a});return i??(i=yield Kn.getCid(s)),{reply:c,message:s,messageCid:i}})}sendDwnRpcRequest({targetDid:r,dwnEndpointUrls:t,message:i,data:s,subscriptionHandler:o}){return bg(this,void 0,void 0,function*(){const a=[];if(i.descriptor.method===dr.Subscribe&&void 0===o)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let c of t)try{if(void 0!==o){if(!(yield this.agent.rpc.getServerInfo(c)).webSocketSupport){a.push({url:c,message:"WebSocket support is not enabled on the server."});continue}const m=new URL(c);m.protocol="http:"===m.protocol?"ws:":"wss:",c=m.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:c,targetDid:r,message:i,data:s,subscriptionHandler:o})}catch(_){a.push({url:c,message:_ instanceof Error?_.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(a)}`)})}constructDwnMessage({request:r}){var t;return bg(this,void 0,void 0,function*(){if(r.granteeDid&&!this.hasGrantParams(r.messageParams))throw new Error("AgentDwnApi: Requested to sign with a permission but no grant messageParams were provided in the request");const i=r.rawMessage;let s,o;if(function EMe(n,r){return n.messageType===r}(r,fr.RecordsWrite)){const c=r.messageParams;if(r.dataStream&&!c?.data){const{dataStream:_}=r;let E;if(_ instanceof Blob)E=Ooe(_),s=Ooe(_);else if(_ instanceof ReadableStream){const[m,j]=_.tee();E=mW(m),s=mW(j)}i||(c.dataCid=yield Uc.computeDagPbCidFromStream(E),null!==(t=c.dataSize)&&void 0!==t||(c.dataSize=E.bytesRead))}}const a=Coe[r.messageType];if(i){if(o=yield a.parse(i),sI(o)&&r.signAsOwner){const c=yield this.getSigner(r.author);yield o.signAsOwner(c)}else if(r.granteeDid&&sI(o)&&r.signAsOwnerDelegate){const c=yield this.getSigner(r.granteeDid),_=r.messageParams;yield o.signAsOwnerDelegate(c,_.delegatedGrant)}}else{const c=r.granteeDid?yield this.getSigner(r.granteeDid):yield this.getSigner(r.author);o=yield a.create(Object.assign(Object.assign({},r.messageParams),{signer:c}))}return{message:o.message,dataStream:s}})}hasGrantParams(r){return void 0!==r&&("permissionGrantId"in r&&void 0!==r.permissionGrantId||"delegatedGrant"in r&&void 0!==r.delegatedGrant)}getSigner(r){return bg(this,void 0,void 0,function*(){if(r===this.agent.agentDid.uri){const t=yield this.agent.agentDid.getSigner();return{algorithm:t.algorithm,keyId:t.keyId,sign:i=>bg(this,void 0,void 0,function*(){return yield t.sign({data:i})})}}try{const t=yield this.agent.did.getSigningMethod({didUri:r});if(!t.publicKeyJwk)throw new Error(`Verification method '${t.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:t.publicKeyJwk}),s=yield this.agent.keyManager.getPublicKey({keyUri:i}),o=this.agent.keyManager;return{algorithm:zo.getJoseSignatureAlgorithmFromPublicKey(s),keyId:t.id,sign:a=>bg(this,void 0,void 0,function*(){return yield o.sign({data:a,keyUri:i})})}}catch(t){throw new Error(`AgentDwnApi: Unable to get signer for author '${r}': ${t.message}`)}})}getDwnMessage({author:r,messageCid:t}){return bg(this,void 0,void 0,function*(){const i=yield this.getSigner(r),s=yield Coe[fr.MessagesRead].create({messageCid:t,signer:i}),o=yield this._dwn.processMessage(r,s.message);if(200!==o.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${o.status.code} - ${o.status.detail}`);const a=o.entry;let _={message:a.message};if(sI(a)&&a.data){const E=yield Wa.consumeToBytes({readable:a.data});_.data=new Blob([E],{type:a.message.descriptor.dataFormat})}return _})}}var TN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class gC{static registerTenant(r,t){return TN(this,void 0,void 0,function*(){const i=Fw(r,"registration"),s=Fw(i,"terms-of-service"),o=Fw(i,"proof-of-work"),a=yield fetch(s,{method:"GET"});if(200!==a.status){const pe=a.status,we=a.statusText,Oe=yield a.text();throw new Error(`Failed fetching terms-of-service: ${pe} ${we}: ${Oe}`)}const c=yield a.text(),_=yield fetch(o,{method:"GET"}),{challengeNonce:E,maximumAllowedHashValue:m}=yield _.json(),j={did:t,termsOfServiceHash:yield gC.hashAsHexString(c)},oe=yield gC.findQualifiedResponseNonce({challengeNonce:E,maximumAllowedHashValue:m,requestData:JSON.stringify(j)}),ue=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:j,proofOfWork:{challengeNonce:E,responseNonce:oe}})});if(200!==ue.status){const pe=ue.status,we=ue.statusText,Oe=yield ue.text();throw new Error(`Registration failed: ${pe} ${we}: ${Oe}`)}})}static hashAsHexString(r){return TN(this,void 0,void 0,function*(){const t=yield F2.digest({data:hn.string(r).toUint8Array()});return hn.uint8Array(t).toHex()})}static findQualifiedResponseNonce(r){return TN(this,void 0,void 0,function*(){const t=Date.now(),{maximumAllowedHashValue:i,challengeNonce:s,requestData:o}=r,a=BigInt(`0x${i}`);let _,c=1,E=!1;do{_=yield this.generateNonce();const m=yield gC.hashAsHexString(s+_+o);E=BigInt(`0x${m}`)<=a,c++}while(!E);return console.log(`iterations: ${c}, time lapsed: ${Date.now()-t} ms`),_})}static generateNonce(){return TN(this,void 0,void 0,function*(){const r=zo.randomBytes(32);return hn.uint8Array(r).toHex().toUpperCase()})}}function yW(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function yC(n,...r){if(!function TMe(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(n.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${n.length}`)}function oI(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}function vW(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}const aI=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Bm=(n,r)=>n<<32-r|n>>>r;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const DMe=Array.from({length:256},(n,r)=>r.toString(16).padStart(2,"0"));function Boe(n){if(!vW(n))throw new Error("Uint8Array expected");let r="";for(let t=0;t<n.length;t++)r+=DMe[n[t]];return r}const _g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Loe(n){return n>=_g._0&&n<=_g._9?n-_g._0:n>=_g._A&&n<=_g._F?n-(_g._A-10):n>=_g._a&&n<=_g._f?n-(_g._a-10):void 0}function joe(n){if("string"!=typeof n)throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}function cI(n){if("string"==typeof n&&(n=joe(n)),!vW(n))throw new Error("expected Uint8Array, got "+typeof n);return n}function $oe(...n){let r=0;for(let i=0;i<n.length;i++){const s=n[i];if(!vW(s))throw new Error("Uint8Array expected");r+=s.length}const t=new Uint8Array(r);for(let i=0,s=0;i<n.length;i++){const o=n[i];t.set(o,s),s+=o.length}return t}class Voe{clone(){return this._cloneInto()}}function _W(n){const r=i=>n().update(cI(i)).digest(),t=n();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>n(),r}class Uoe extends Voe{constructor(r,t){super(),this.finished=!1,this.destroyed=!1,function Foe(n){if("function"!=typeof n||"function"!=typeof n.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");yW(n.outputLen),yW(n.blockLen)}(r);const i=cI(t);if(this.iHash=r.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?r.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=r.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(r){return oI(this),this.iHash.update(r),this}digestInto(r){oI(this),yC(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return r.finished=s,r.destroyed=o,r.blockLen=a,r.outputLen=c,r.oHash=t._cloneInto(r.oHash),r.iHash=i._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wW=(n,r,t)=>new Uoe(n,r).update(t).digest();wW.create=(n,r)=>new Uoe(n,r);class xW extends Voe{constructor(r,t,i,s){super(),this.blockLen=r,this.outputLen=t,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=aI(this.buffer)}update(r){oI(this);const{view:t,buffer:i,blockLen:s}=this,o=(r=cI(r)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(r.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0);else{const _=aI(r);for(;s<=o-a;a+=s)this.process(_,a)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){oI(this),function Noe(n,r){yC(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let j=a;j<s;j++)t[j]=0;(function PMe(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=aI(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=_/4,m=this.get();if(E>m.length)throw new Error("_sha2: outputLen bigger than state");for(let j=0;j<E;j++)c.setUint32(4*j,m[j],o)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return r.length=s,r.pos=c,r.finished=o,r.destroyed=a,s%t&&r.buffer.set(i),r}}const OMe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),zoe=Uint8Array.from({length:16},(n,r)=>r),RMe=zoe.map(n=>(9*n+5)%16);let EW=[zoe],SW=[RMe];for(let n=0;n<4;n++)for(let r of[EW,SW])r.push(r[n].map(t=>OMe[t]));const Hoe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),FMe=EW.map((n,r)=>n.map(t=>Hoe[r][t])),NMe=SW.map((n,r)=>n.map(t=>Hoe[r][t])),BMe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),LMe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),DN=(n,r)=>n<<r|n>>>32-r;function Goe(n,r,t,i){return 0===n?r^t^i:1===n?r&t|~r&i:2===n?(r|~t)^i:3===n?r&i|t&~i:r^(t|~i)}const MN=new Uint32Array(16);class jMe extends xW{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:r,h1:t,h2:i,h3:s,h4:o}=this;return[r,t,i,s,o]}set(r,t,i,s,o){this.h0=0|r,this.h1=0|t,this.h2=0|i,this.h3=0|s,this.h4=0|o}process(r,t){for(let le=0;le<16;le++,t+=4)MN[le]=r.getUint32(t,!0);let i=0|this.h0,s=i,o=0|this.h1,a=o,c=0|this.h2,_=c,E=0|this.h3,m=E,j=0|this.h4,oe=j;for(let le=0;le<5;le++){const ue=4-le,pe=BMe[le],we=LMe[le],Oe=EW[le],Pe=SW[le],Ie=FMe[le],$e=NMe[le];for(let Je=0;Je<16;Je++){const Qe=DN(i+Goe(le,o,c,E)+MN[Oe[Je]]+pe,Ie[Je])+j|0;i=j,j=E,E=0|DN(c,10),c=o,o=Qe}for(let Je=0;Je<16;Je++){const Qe=DN(s+Goe(ue,a,_,m)+MN[Pe[Je]]+we,$e[Je])+oe|0;s=oe,oe=m,m=0|DN(_,10),_=a,a=Qe}}this.set(this.h1+c+m|0,this.h2+E+oe|0,this.h3+j+s|0,this.h4+i+a|0,this.h0+o+_|0)}roundClean(){MN.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const $Me=_W(()=>new jMe),VMe=(n,r,t)=>n&r^~n&t,UMe=(n,r,t)=>n&r^n&t^r&t,zMe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ab=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cb=new Uint32Array(64);class Woe extends xW{constructor(){super(64,32,8,!1),this.A=0|ab[0],this.B=0|ab[1],this.C=0|ab[2],this.D=0|ab[3],this.E=0|ab[4],this.F=0|ab[5],this.G=0|ab[6],this.H=0|ab[7]}get(){const{A:r,B:t,C:i,D:s,E:o,F:a,G:c,H:_}=this;return[r,t,i,s,o,a,c,_]}set(r,t,i,s,o,a,c,_){this.A=0|r,this.B=0|t,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|_}process(r,t){for(let j=0;j<16;j++,t+=4)cb[j]=r.getUint32(t,!1);for(let j=16;j<64;j++){const oe=cb[j-15],le=cb[j-2],ue=Bm(oe,7)^Bm(oe,18)^oe>>>3,pe=Bm(le,17)^Bm(le,19)^le>>>10;cb[j]=pe+cb[j-7]+ue+cb[j-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:_,G:E,H:m}=this;for(let j=0;j<64;j++){const le=m+(Bm(c,6)^Bm(c,11)^Bm(c,25))+VMe(c,_,E)+zMe[j]+cb[j]|0,pe=(Bm(i,2)^Bm(i,13)^Bm(i,22))+UMe(i,s,o)|0;m=E,E=_,_=c,c=a+le|0,a=o,o=s,s=i,i=le+pe|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,_=_+this.F|0,E=E+this.G|0,m=m+this.H|0,this.set(i,s,o,a,c,_,E,m)}roundClean(){cb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const HMe=_W(()=>new Woe),kN=BigInt(2**32-1),CW=BigInt(32);function Koe(n,r=!1){return r?{h:Number(n&kN),l:Number(n>>CW&kN)}:{h:0|Number(n>>CW&kN),l:0|Number(n&kN)}}const Vi_split=function GMe(n,r=!1){let t=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=Koe(n[s],r);[t[s],i[s]]=[o,a]}return[t,i]},Vi_shrSH=(n,r,t)=>n>>>t,Vi_shrSL=(n,r,t)=>n<<32-t|r>>>t,Vi_rotrSH=(n,r,t)=>n>>>t|r<<32-t,Vi_rotrSL=(n,r,t)=>n<<32-t|r>>>t,Vi_rotrBH=(n,r,t)=>n<<64-t|r>>>t-32,Vi_rotrBL=(n,r,t)=>n>>>t-32|r<<64-t,Vi_add=function ske(n,r,t,i){const s=(r>>>0)+(i>>>0);return{h:n+t+(s/2**32|0)|0,l:0|s}},Vi_add3L=(n,r,t)=>(n>>>0)+(r>>>0)+(t>>>0),Vi_add3H=(n,r,t,i)=>r+t+i+(n/2**32|0)|0,Vi_add4L=(n,r,t,i)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0),Vi_add4H=(n,r,t,i,s)=>r+t+i+s+(n/2**32|0)|0,Vi_add5H=(n,r,t,i,s,o)=>r+t+i+s+o+(n/2**32|0)|0,Vi_add5L=(n,r,t,i,s)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0)+(s>>>0),[oke,ake]=Vi_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),lb=new Uint32Array(80),db=new Uint32Array(80);class IN extends xW{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:r,Al:t,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:_,Eh:E,El:m,Fh:j,Fl:oe,Gh:le,Gl:ue,Hh:pe,Hl:we}=this;return[r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we]}set(r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we){this.Ah=0|r,this.Al=0|t,this.Bh=0|i,this.Bl=0|s,this.Ch=0|o,this.Cl=0|a,this.Dh=0|c,this.Dl=0|_,this.Eh=0|E,this.El=0|m,this.Fh=0|j,this.Fl=0|oe,this.Gh=0|le,this.Gl=0|ue,this.Hh=0|pe,this.Hl=0|we}process(r,t){for(let Ie=0;Ie<16;Ie++,t+=4)lb[Ie]=r.getUint32(t),db[Ie]=r.getUint32(t+=4);for(let Ie=16;Ie<80;Ie++){const $e=0|lb[Ie-15],Je=0|db[Ie-15],Qe=Vi_rotrSH($e,Je,1)^Vi_rotrSH($e,Je,8)^Vi_shrSH($e,Je,7),tt=Vi_rotrSL($e,Je,1)^Vi_rotrSL($e,Je,8)^Vi_shrSL($e,Je,7),ot=0|lb[Ie-2],xt=0|db[Ie-2],Ct=Vi_rotrSH(ot,xt,19)^Vi_rotrBH(ot,xt,61)^Vi_shrSH(ot,xt,6),Tt=Vi_rotrSL(ot,xt,19)^Vi_rotrBL(ot,xt,61)^Vi_shrSL(ot,xt,6),Kt=Vi_add4L(tt,Tt,db[Ie-7],db[Ie-16]),Lt=Vi_add4H(Kt,Qe,Ct,lb[Ie-7],lb[Ie-16]);lb[Ie]=0|Lt,db[Ie]=0|Kt}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:c,Cl:_,Dh:E,Dl:m,Eh:j,El:oe,Fh:le,Fl:ue,Gh:pe,Gl:we,Hh:Oe,Hl:Pe}=this;for(let Ie=0;Ie<80;Ie++){const $e=Vi_rotrSH(j,oe,14)^Vi_rotrSH(j,oe,18)^Vi_rotrBH(j,oe,41),Je=Vi_rotrSL(j,oe,14)^Vi_rotrSL(j,oe,18)^Vi_rotrBL(j,oe,41),Qe=j&le^~j&pe,ot=Vi_add5L(Pe,Je,oe&ue^~oe&we,ake[Ie],db[Ie]),xt=Vi_add5H(ot,Oe,$e,Qe,oke[Ie],lb[Ie]),Ct=0|ot,Tt=Vi_rotrSH(i,s,28)^Vi_rotrBH(i,s,34)^Vi_rotrBH(i,s,39),Kt=Vi_rotrSL(i,s,28)^Vi_rotrBL(i,s,34)^Vi_rotrBL(i,s,39),Lt=i&o^i&c^o&c,Xt=s&a^s&_^a&_;Oe=0|pe,Pe=0|we,pe=0|le,we=0|ue,le=0|j,ue=0|oe,({h:j,l:oe}=Vi_add(0|E,0|m,0|xt,0|Ct)),E=0|c,m=0|_,c=0|o,_=0|a,o=0|i,a=0|s;const vt=Vi_add3L(Ct,Kt,Xt);i=Vi_add3H(vt,xt,Tt,Lt),s=0|vt}({h:i,l:s}=Vi_add(0|this.Ah,0|this.Al,0|i,0|s)),({h:o,l:a}=Vi_add(0|this.Bh,0|this.Bl,0|o,0|a)),({h:c,l:_}=Vi_add(0|this.Ch,0|this.Cl,0|c,0|_)),({h:E,l:m}=Vi_add(0|this.Dh,0|this.Dl,0|E,0|m)),({h:j,l:oe}=Vi_add(0|this.Eh,0|this.El,0|j,0|oe)),({h:le,l:ue}=Vi_add(0|this.Fh,0|this.Fl,0|le,0|ue)),({h:pe,l:we}=Vi_add(0|this.Gh,0|this.Gl,0|pe,0|we)),({h:Oe,l:Pe}=Vi_add(0|this.Hh,0|this.Hl,0|Oe,0|Pe)),this.set(i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe)}roundClean(){lb.fill(0),db.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qoe=_W(()=>new IN),cke=joe("ed25519 seed"),AW=2147483648,Xoe=new Uint8Array([0]);function Yoe(n,...r){return"string"==typeof n&&(n=function MMe(n){if("string"!=typeof n)throw new Error("hex string expected, got "+typeof n);const r=n.length,t=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(t);for(let s=0,o=0;s<t;s++,o+=2){const a=Loe(n.charCodeAt(o)),c=Loe(n.charCodeAt(o+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(n[o]+n[o+1])+'" at index '+o);i[s]=16*a+c}return i}(n)),yC(n,...r),n}const TW=n=>{if(!Number.isSafeInteger(n)||n<0||n>2**32-1)throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);const r=new Uint8Array(4);return aI(r).setUint32(0,n,!1),r};class PN{get publicKeyRaw(){return go.getPublicKey(this.privateKey)}get publicKey(){return $oe(Xoe,this.publicKeyRaw)}get pubHash(){return(()=>$Me(HMe(this.publicKey)))()}get fingerprint(){return(()=>aI(this.pubHash).getUint32(0,!1))()}get fingerprintHex(){return Boe(TW(this.fingerprint))}get parentFingerprintHex(){return Boe(TW(this.parentFingerprint))}static fromMasterSeed(r){if(8*(r=Yoe(r)).length<128||8*r.length>512)throw new Error(`HDKey: wrong seed length=${r.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const t=wW(qoe,cke,r);return new PN({privateKey:t.slice(0,32),chainCode:t.slice(32)})}constructor(r){if(this.depth=0,this.index=0,this.parentFingerprint=0,!r||"object"!=typeof r)throw new Error("HDKey.constructor must not be called directly");if(yC(r.privateKey,32),yC(r.chainCode,32),this.depth=r.depth||0,this.index=r.index||0,this.parentFingerprint=r.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=r.chainCode,this.privateKey=r.privateKey}derive(r,t=!1){if(!/^[mM]'?/.test(r))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(r))return this;const i=r.replace(/^[mM]'?\//,"").split("/");let s=this;for(const o of i){const a=/^(\d+)('?)$/.exec(o);if(!a||3!==a.length)throw new Error(`Invalid child index: ${o}`);let c=+a[1];if(!Number.isSafeInteger(c)||c>=AW)throw new Error("Invalid index");(t||"'"===a[2])&&(c+=AW),s=s.deriveChild(c)}return s}deriveChild(r){if(r<AW)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${r})`);const t=$oe(Xoe,this.privateKey,TW(r)),i=wW(qoe,this.chainCode,t);return new PN({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:r,privateKey:i.slice(0,32)})}sign(r){return go.sign(r,this.privateKey)}verify(r,t){return t=Yoe(t,64),go.verify(t,r,this.publicKeyRaw)}}const Zoe="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function Nw(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function ON(n,...r){if(!function fke(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(n.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${n.length}`)}function DW(n){if("function"!=typeof n||"function"!=typeof n.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Nw(n.outputLen),Nw(n.blockLen)}function lI(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}const MW="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const RN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Lm=(n,r)=>n<<32-r|n>>>r;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const pke=function(){var n=(0,Nn.A)(function*(){});return function(){return n.apply(this,arguments)}}();function mke(n,r,t){return IW.apply(this,arguments)}function IW(){return IW=(0,Nn.A)(function*(n,r,t){let i=Date.now();for(let s=0;s<n;s++){t(s);const o=Date.now()-i;o>=0&&o<r||(yield pke(),i+=o)}}),IW.apply(this,arguments)}function Bw(n){if("string"==typeof n&&(n=function gke(n){if("string"!=typeof n)throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}(n)),!function kW(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("expected Uint8Array, got "+typeof n);return n}class eae{clone(){return this._cloneInto()}}const yke={}.toString;function tae(n){const r=i=>n().update(Bw(i)).digest(),t=n();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>n(),r}class nae extends eae{constructor(r,t){super(),this.finished=!1,this.destroyed=!1,DW(r);const i=Bw(t);if(this.iHash=r.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?r.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=r.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(r){return lI(this),this.iHash.update(r),this}digestInto(r){lI(this),ON(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return r.finished=s,r.destroyed=o,r.blockLen=a,r.outputLen=c,r.oHash=t._cloneInto(r.oHash),r.iHash=i._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rae=(n,r,t)=>new nae(n,r).update(t).digest();function PW(){return PW=(0,Nn.A)(function*(n,r,t,i){const{c:s,dkLen:o,asyncTick:a,DK:c,PRF:_,PRFSalt:E}=function iae(n,r,t,i){DW(n);const s=function vke(n,r){if(void 0!==r&&"[object Object]"!==yke.call(r))throw new Error("Options should be object or undefined");return Object.assign(n,r)}({dkLen:32,asyncTick:10},i),{c:o,dkLen:a,asyncTick:c}=s;if(Nw(o),Nw(a),Nw(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const _=Bw(r),E=Bw(t),m=new Uint8Array(a),j=rae.create(n,_),oe=j._cloneInto().update(E);return{c:o,dkLen:a,asyncTick:c,DK:m,PRF:j,PRFSalt:oe}}(n,r,t,i);let m;const j=new Uint8Array(4),oe=RN(j),le=new Uint8Array(_.outputLen);for(let ue=1,pe=0;pe<o;ue++,pe+=_.outputLen){const we=c.subarray(pe,pe+_.outputLen);oe.setInt32(0,ue,!1),(m=E._cloneInto(m)).update(j).digestInto(le),we.set(le.subarray(0,we.length)),yield mke(s-1,a,()=>{_._cloneInto(m).update(le).digestInto(le);for(let Oe=0;Oe<we.length;Oe++)we[Oe]^=le[Oe]})}return function sae(n,r,t,i,s){return n.destroy(),r.destroy(),i&&i.destroy(),s.fill(0),t}(_,E,c,m,le)}),PW.apply(this,arguments)}rae.create=(n,r)=>new nae(n,r);class oae extends eae{constructor(r,t,i,s){super(),this.blockLen=r,this.outputLen=t,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=RN(this.buffer)}update(r){lI(this);const{view:t,buffer:i,blockLen:s}=this,o=(r=Bw(r)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(r.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0);else{const _=RN(r);for(;s<=o-a;a+=s)this.process(_,a)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){lI(this),function Joe(n,r){ON(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let j=a;j<s;j++)t[j]=0;(function wke(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=RN(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=_/4,m=this.get();if(E>m.length)throw new Error("_sha2: outputLen bigger than state");for(let j=0;j<E;j++)c.setUint32(4*j,m[j],o)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return r.length=s,r.pos=c,r.finished=o,r.destroyed=a,s%t&&r.buffer.set(i),r}}const xke=(n,r,t)=>n&r^~n&t,Eke=(n,r,t)=>n&r^n&t^r&t,Ske=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ub=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fb=new Uint32Array(64);class aae extends oae{constructor(){super(64,32,8,!1),this.A=0|ub[0],this.B=0|ub[1],this.C=0|ub[2],this.D=0|ub[3],this.E=0|ub[4],this.F=0|ub[5],this.G=0|ub[6],this.H=0|ub[7]}get(){const{A:r,B:t,C:i,D:s,E:o,F:a,G:c,H:_}=this;return[r,t,i,s,o,a,c,_]}set(r,t,i,s,o,a,c,_){this.A=0|r,this.B=0|t,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|_}process(r,t){for(let j=0;j<16;j++,t+=4)fb[j]=r.getUint32(t,!1);for(let j=16;j<64;j++){const oe=fb[j-15],le=fb[j-2],ue=Lm(oe,7)^Lm(oe,18)^oe>>>3,pe=Lm(le,17)^Lm(le,19)^le>>>10;fb[j]=pe+fb[j-7]+ue+fb[j-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:_,G:E,H:m}=this;for(let j=0;j<64;j++){const le=m+(Lm(c,6)^Lm(c,11)^Lm(c,25))+xke(c,_,E)+Ske[j]+fb[j]|0,pe=(Lm(i,2)^Lm(i,13)^Lm(i,22))+Eke(i,s,o)|0;m=E,E=_,_=c,c=a+le|0,a=o,o=s,s=i,i=le+pe|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,_=_+this.F|0,E=E+this.G|0,m=m+this.H|0,this.set(i,s,o,a,c,_,E,m)}roundClean(){fb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Cke=tae(()=>new aae),FN=BigInt(2**32-1),OW=BigInt(32);function cae(n,r=!1){return r?{h:Number(n&FN),l:Number(n>>OW&FN)}:{h:0|Number(n>>OW&FN),l:0|Number(n&FN)}}const Ui_split=function Ake(n,r=!1){let t=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=cae(n[s],r);[t[s],i[s]]=[o,a]}return[t,i]},Ui_shrSH=(n,r,t)=>n>>>t,Ui_shrSL=(n,r,t)=>n<<32-t|r>>>t,Ui_rotrSH=(n,r,t)=>n>>>t|r<<32-t,Ui_rotrSL=(n,r,t)=>n<<32-t|r>>>t,Ui_rotrBH=(n,r,t)=>n<<64-t|r>>>t-32,Ui_rotrBL=(n,r,t)=>n>>>t-32|r<<64-t,Ui_add=function $ke(n,r,t,i){const s=(r>>>0)+(i>>>0);return{h:n+t+(s/2**32|0)|0,l:0|s}},Ui_add3L=(n,r,t)=>(n>>>0)+(r>>>0)+(t>>>0),Ui_add3H=(n,r,t,i)=>r+t+i+(n/2**32|0)|0,Ui_add4L=(n,r,t,i)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0),Ui_add4H=(n,r,t,i,s)=>r+t+i+s+(n/2**32|0)|0,Ui_add5H=(n,r,t,i,s,o)=>r+t+i+s+o+(n/2**32|0)|0,Ui_add5L=(n,r,t,i,s)=>(n>>>0)+(r>>>0)+(t>>>0)+(i>>>0)+(s>>>0),[Vke,Uke]=Ui_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),hb=new Uint32Array(80),pb=new Uint32Array(80);class NN extends oae{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:r,Al:t,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:_,Eh:E,El:m,Fh:j,Fl:oe,Gh:le,Gl:ue,Hh:pe,Hl:we}=this;return[r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we]}set(r,t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we){this.Ah=0|r,this.Al=0|t,this.Bh=0|i,this.Bl=0|s,this.Ch=0|o,this.Cl=0|a,this.Dh=0|c,this.Dl=0|_,this.Eh=0|E,this.El=0|m,this.Fh=0|j,this.Fl=0|oe,this.Gh=0|le,this.Gl=0|ue,this.Hh=0|pe,this.Hl=0|we}process(r,t){for(let Ie=0;Ie<16;Ie++,t+=4)hb[Ie]=r.getUint32(t),pb[Ie]=r.getUint32(t+=4);for(let Ie=16;Ie<80;Ie++){const $e=0|hb[Ie-15],Je=0|pb[Ie-15],Qe=Ui_rotrSH($e,Je,1)^Ui_rotrSH($e,Je,8)^Ui_shrSH($e,Je,7),tt=Ui_rotrSL($e,Je,1)^Ui_rotrSL($e,Je,8)^Ui_shrSL($e,Je,7),ot=0|hb[Ie-2],xt=0|pb[Ie-2],Ct=Ui_rotrSH(ot,xt,19)^Ui_rotrBH(ot,xt,61)^Ui_shrSH(ot,xt,6),Tt=Ui_rotrSL(ot,xt,19)^Ui_rotrBL(ot,xt,61)^Ui_shrSL(ot,xt,6),Kt=Ui_add4L(tt,Tt,pb[Ie-7],pb[Ie-16]),Lt=Ui_add4H(Kt,Qe,Ct,hb[Ie-7],hb[Ie-16]);hb[Ie]=0|Lt,pb[Ie]=0|Kt}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:c,Cl:_,Dh:E,Dl:m,Eh:j,El:oe,Fh:le,Fl:ue,Gh:pe,Gl:we,Hh:Oe,Hl:Pe}=this;for(let Ie=0;Ie<80;Ie++){const $e=Ui_rotrSH(j,oe,14)^Ui_rotrSH(j,oe,18)^Ui_rotrBH(j,oe,41),Je=Ui_rotrSL(j,oe,14)^Ui_rotrSL(j,oe,18)^Ui_rotrBL(j,oe,41),Qe=j&le^~j&pe,ot=Ui_add5L(Pe,Je,oe&ue^~oe&we,Uke[Ie],pb[Ie]),xt=Ui_add5H(ot,Oe,$e,Qe,Vke[Ie],hb[Ie]),Ct=0|ot,Tt=Ui_rotrSH(i,s,28)^Ui_rotrBH(i,s,34)^Ui_rotrBH(i,s,39),Kt=Ui_rotrSL(i,s,28)^Ui_rotrBL(i,s,34)^Ui_rotrBL(i,s,39),Lt=i&o^i&c^o&c,Xt=s&a^s&_^a&_;Oe=0|pe,Pe=0|we,pe=0|le,we=0|ue,le=0|j,ue=0|oe,({h:j,l:oe}=Ui_add(0|E,0|m,0|xt,0|Ct)),E=0|c,m=0|_,c=0|o,_=0|a,o=0|i,a=0|s;const vt=Ui_add3L(Ct,Kt,Xt);i=Ui_add3H(vt,xt,Tt,Lt),s=0|vt}({h:i,l:s}=Ui_add(0|this.Ah,0|this.Al,0|i,0|s)),({h:o,l:a}=Ui_add(0|this.Bh,0|this.Bl,0|o,0|a)),({h:c,l:_}=Ui_add(0|this.Ch,0|this.Cl,0|c,0|_)),({h:E,l:m}=Ui_add(0|this.Dh,0|this.Dl,0|E,0|m)),({h:j,l:oe}=Ui_add(0|this.Eh,0|this.El,0|j,0|oe)),({h:le,l:ue}=Ui_add(0|this.Fh,0|this.Fl,0|le,0|ue)),({h:pe,l:we}=Ui_add(0|this.Gh,0|this.Gl,0|pe,0|we)),({h:Oe,l:Pe}=Ui_add(0|this.Hh,0|this.Hl,0|Oe,0|Pe)),this.set(i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe)}roundClean(){hb.fill(0),pb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zke=tae(()=>new NN);function dI(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}function RW(n,r,t){if(r<2)throw new Error(`convertRadix: wrong from=${r}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let i=0;const s=[],o=Array.from(n);for(o.forEach(a=>{if(a<0||a>=r)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let _=i;_<o.length;_++){const E=o[_],m=r*a+E;if(!Number.isSafeInteger(m)||r*a/r!==a||m-E!=r*a)throw new Error("convertRadix: carry overflow");a=m%t;const j=Math.floor(m/t);if(o[_]=j,!Number.isSafeInteger(j)||j*t+a!==m)throw new Error("convertRadix: carry overflow");c&&(j?c=!1:i=_)}if(s.push(a),c)break}for(let a=0;a<n.length-1&&0===n[a];a++)s.push(0);return s.reverse()}const dae=(n,r)=>r?dae(r,n%r):n,BN=(n,r)=>n+(r-dae(n,r));function LN(n,r,t,i){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(r<=0||r>32)throw new Error(`convertRadix2: wrong from=${r}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(BN(r,t)>32)throw new Error(`convertRadix2: carry overflow from=${r} to=${t} carryBits=${BN(r,t)}`);let s=0,o=0;const a=2**t-1,c=[];for(const _ of n){if(_>=2**r)throw new Error(`convertRadix2: invalid data word=${_} from=${r}`);if(s=s<<r|_,o+r>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${r}`);for(o+=r;o>=t;o-=t)c.push((s>>o-t&a)>>>0);s&=2**o-1}if(s=s<<t-o&a,!i&&o>=r)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}const mb={alphabet:function pu(n){return{encode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("alphabet.encode input should be an array of numbers");return r.map(t=>{if(t<0||t>=n.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${n.length})`);return n[t]})},decode:r=>{if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("alphabet.decode input should be array of strings");return r.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const i=n.indexOf(t);if(-1===i)throw new Error(`Unknown letter: "${t}". Allowed: ${n}`);return i})}}},chain:function Bd(...n){const r=o=>o,t=(o,a)=>c=>o(a(c));return{encode:n.map(o=>o.encode).reduceRight(t,r),decode:n.map(o=>o.decode).reduce(t,r)}},checksum:function hae(n,r){if("function"!=typeof r)throw new Error("checksum fn should be function");return{encode(t){if(!dI(t))throw new Error("checksum.encode: input should be Uint8Array");const i=r(t).slice(0,n),s=new Uint8Array(t.length+n);return s.set(t),s.set(i,t.length),s},decode(t){if(!dI(t))throw new Error("checksum.decode: input should be Uint8Array");const i=t.slice(0,-n),s=r(i).slice(0,n),o=t.slice(-n);for(let a=0;a<n;a++)if(s[a]!==o[a])throw new Error("Invalid checksum");return i}}},convertRadix:RW,convertRadix2:LN,radix:function uae(n){return{encode:r=>{if(!dI(r))throw new Error("radix.encode input should be Uint8Array");return RW(Array.from(r),256,n)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(RW(r,n,256))}}},radix2:function hf(n,r=!1){if(n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(BN(8,n)>32||BN(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!dI(t))throw new Error("radix2.encode input should be Uint8Array");return LN(Array.from(t),8,n,!r)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(LN(t,n,8,r))}}},join:function mu(n=""){if("string"!=typeof n)throw new Error("join separator should be string");return{encode:r=>{if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("join.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return r.join(n)},decode:r=>{if("string"!=typeof r)throw new Error("join.decode input should be string");return r.split(n)}}},padding:function uI(n,r="="){if("string"!=typeof r)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let i of t)if("string"!=typeof i)throw new Error(`padding.encode: non-string input=${i}`);for(;t.length*n%8;)t.push(r);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let s of t)if("string"!=typeof s)throw new Error(`padding.decode: non-string input=${s}`);let i=t.length;if(i*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&t[i-1]===r;i--)if(!((i-1)*n%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,i)}}}};function vae(n){if("string"!=typeof n)throw new TypeError("Invalid mnemonic type: "+typeof n);return n.normalize("NFKD")}function NW(n){const r=vae(n),t=r.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:r,words:t}}function bae(n){ON(n,16,20,24,28,32)}const Zke=n=>{const r=8-n.length/4;return new Uint8Array([Cke(n)[0]>>r<<r])};function _ae(n){if(!Array.isArray(n)||2048!==n.length||"string"!=typeof n[0])throw new Error("Wordlist: expected array of 2048 strings");return n.forEach(r=>{if("string"!=typeof r)throw new Error(`Wordlist: non-string element: ${r}`)}),mb.chain(mb.checksum(1,Zke),mb.radix2(11,!0),mb.alphabet(n))}function t3e(n,r=""){return function _ke(n,r,t,i){return PW.apply(this,arguments)}(zke,NW(n).nfkd,(n=>vae(`mnemonic${n}`))(r),{c:2048,dkLen:64})}var xg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class n3e extends lW{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=pMe,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return xg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return xg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return xg(this,void 0,void 0,function*(){yield t.set.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return xg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}getAllRecords({agent:r,tenantDid:t}){var i;return xg(this,void 0,void 0,function*(){this._index.clear();const{reply:s}=yield r.dwn.processRequest({author:t,target:t,messageType:fr.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let o=[];for(const a of null!==(i=s.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const c=hn.base64Url(a.encodedData).toObject();gD(c)&&(this._index.set(`${t}${fu}${mD}${c.kid}`,a.recordId),this._cache.set(a.recordId,c),o.push(c))}return o})}}class r3e extends dW{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return xg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return xg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return xg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return xg(this,void 0,void 0,function*(){return yield t.set.call(this,r)})}}var pf=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},xae=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};const BW={"AES-GCM":{implementation:class Pj extends Vf{decrypt(r){return J_(this,void 0,void 0,function*(){return dl.decrypt(r)})}encrypt(r){return J_(this,void 0,void 0,function*(){return dl.encrypt(r)})}generateKey(r){return J_(this,arguments,void 0,function*({algorithm:t}){const i={A128GCM:128,A192GCM:192,A256GCM:256}[t],s=yield dl.generateKey({length:i});return s.alg=t,s})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:Moe,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:RD,names:["Ed25519"]},secp256k1:{implementation:J2,names:["ES256K","secp256k1"]},secp256r1:{implementation:J2,names:["ES256","secp256r1"]},"SHA-256":{implementation:KT,names:["SHA-256"]}};class jw{constructor({agent:r,keyStore:t}={}){this._algorithmInstances=new Map,this._agent=r,this._keyStore=t??new r3e}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r}decrypt(r){var{keyUri:t}=r,i=xae(r,["keyUri"]);return pf(this,void 0,void 0,function*(){const s=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:s});return yield this.getAlgorithm({algorithm:o}).decrypt(Object.assign({key:s},i))})}digest(r){throw new Error("Method not implemented.")}encrypt(r){var{keyUri:t}=r,i=xae(r,["keyUri"]);return pf(this,void 0,void 0,function*(){const s=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:s});return yield this.getAlgorithm({algorithm:o}).encrypt(Object.assign({key:s},i))})}exportKey({keyUri:r}){return pf(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:r})})}generateKey({algorithm:r}){var t;return pf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:r}}),o=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:r});null!==(t=o.kid)&&void 0!==t||(o.kid=yield Pi({jwk:o}));const a=yield this.getKeyUri({key:o});return yield this._keyStore.set({id:a,data:o,agent:this.agent,preventDuplicates:!1,useCache:!0}),a})}getKeyUri({key:r}){return pf(this,void 0,void 0,function*(){const t=yield Pi({jwk:r});return`${mD}${t}`})}getPublicKey({keyUri:r}){return pf(this,void 0,void 0,function*(){const t=yield this.getPrivateKey({keyUri:r}),i=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:t})})}importKey({key:r}){var t;return pf(this,void 0,void 0,function*(){if(!gD(r))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(r);null!==(t=i.kid)&&void 0!==t||(i.kid=yield Pi({jwk:i}));const s=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:s,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),s})}sign({keyUri:r,data:t}){return pf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:r}),s=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:s}).sign({data:t,key:i})})}unwrapKey({wrappedKeyBytes:r,wrappedKeyAlgorithm:t,decryptionKeyUri:i}){return pf(this,void 0,void 0,function*(){const s=yield this.getPrivateKey({keyUri:i}),o=this.getAlgorithmName({key:s});return yield this.getAlgorithm({algorithm:o}).unwrapKey({wrappedKeyBytes:r,wrappedKeyAlgorithm:t,decryptionKey:s})})}verify({key:r,signature:t,data:i}){return pf(this,void 0,void 0,function*(){const s=this.getAlgorithmName({key:r});return this.getAlgorithm({algorithm:s}).verify({key:r,signature:t,data:i})})}wrapKey({unwrappedKey:r,encryptionKeyUri:t}){return pf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),s=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:s}).wrapKey({unwrappedKey:r,encryptionKey:i})})}deleteKey({keyUri:r}){return pf(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:r,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${r}`);yield this._keyStore.delete({id:r,agent:this.agent})})}getAlgorithm({algorithm:r}){var t;const i=null===(t=BW[r])||void 0===t?void 0:t.implementation;if(!i)throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported: ${r}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:r}){const t=r.alg,i=r.crv;for(const s of Object.keys(BW)){const o=BW[s].names;if(t&&o.includes(t))return s;if(i&&o.includes(i))return s}throw new Kr(qr.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${t}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:r}){return pf(this,void 0,void 0,function*(){const t=yield this._keyStore.get({id:r,agent:this.agent,useCache:!0});if(!t)throw new Error(`Key not found: ${r}`);return t})}}var Eae=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function LW(n){return"object"==typeof n&&null!==n&&"alg"in n&&void 0!==n.alg&&"enc"in n&&void 0!==n.enc}class Sae{static decrypt({key:r,encryptedKey:t,joseHeader:i,crypto:s}){return Eae(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==t)throw new Kr(qr.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(r instanceof Uint8Array)throw new Kr(qr.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return r;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new Kr(qr.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new Kr(qr.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(r instanceof Uint8Array))throw new Kr(qr.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===t)throw new Kr(qr.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let o;try{o=new Uint8Array([...hn.string(i.alg).toUint8Array(),0,...hn.base64Url(i.p2s).toUint8Array()])}catch{throw new Kr(qr.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const a=yield s.deriveKey({algorithm:i.alg,baseKeyBytes:r,iterations:i.p2c,salt:o});if(!a.alg||!["A128KW","A192KW","A256KW"].includes(a.alg))throw new Kr(qr.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${a.alg}`);return yield s.unwrapKey({decryptionKey:a,wrappedKeyBytes:t,wrappedKeyAlgorithm:i.enc})}default:throw new Kr(qr.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:r,joseHeader:t,crypto:i}){return Eae(this,void 0,void 0,function*(){let s,o;switch(t.alg){case"dir":if(void 0!==o)throw new Kr(qr.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(r instanceof Uint8Array)throw new Kr(qr.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');s=r;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof t.p2c)throw new Kr(qr.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof t.p2s)throw new Kr(qr.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(r instanceof Uint8Array))throw new Kr(qr.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let a;s=yield i.generateKey({algorithm:t.enc});try{a=new Uint8Array([...hn.string(t.alg).toUint8Array(),0,...hn.base64Url(t.p2s).toUint8Array()])}catch{throw new Kr(qr.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const c=yield i.deriveKey({algorithm:t.alg,baseKeyBytes:r,iterations:t.p2c,salt:a});o=yield i.wrapKey({encryptionKey:c,unwrappedKey:s});break}default:throw new Kr(qr.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${t.alg}`)}return{cek:s,encryptedKey:o}})}}function VN(n){return null!==n&&"object"==typeof n&&"encrypt"in n&&"function"==typeof n.encrypt&&"decrypt"in n&&"function"==typeof n.decrypt}function Cae(...n){const r=new Set,t=n.filter(Boolean);for(const i of t)for(const s in i){if(r.has(s))return!0;r.add(s)}return!1}var Aae=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function jW(n,r){if(void 0!==r)try{if("string"!=typeof r)throw new Error;return hn.base64Url(r).toUint8Array()}catch{throw new Kr(qr.InvalidJwe,`Failed to decode the JWE Header parameter '${n}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class UN{constructor(r){this.ciphertext="",Object.assign(this,r)}static decrypt({jwe:r,key:t,keyManager:i=new ll,crypto:s=new hC,options:o={}}){var a,c;return Aae(this,void 0,void 0,function*(){if(!VN(s))throw new Kr(qr.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!VN(i))throw new Kr(qr.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!r.protected&&!r.header&&!r.unprotected)throw new Kr(qr.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof r.ciphertext)throw new Kr(qr.InvalidJwe,"JWE Ciphertext is missing or not a string.");let _;if(r.protected)try{_=hn.base64Url(r.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(Cae(_,r.header,r.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const E=Object.assign(Object.assign(Object.assign({},_),r.header),r.unprotected);if(!LW(E))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(o.allowedAlgValues)&&!o.allowedAlgValues.includes(E.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${E.alg}`);if(Array.isArray(o.allowedEncValues)&&!o.allowedEncValues.includes(E.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${E.enc}`);let m;try{const we=r.encrypted_key?hn.base64Url(r.encrypted_key).toUint8Array():void 0;m=yield Sae.decrypt({key:t,encryptedKey:we,joseHeader:E,keyManager:i,crypto:s})}catch(we){if(we instanceof Kr&&(we.code===qr.InvalidJwe||we.code===qr.AlgorithmNotSupported))throw we;m="string"==typeof t?yield i.generateKey({algorithm:E.enc}):yield s.generateKey({algorithm:E.enc})}const j=jW("iv",r.iv),oe=jW("tag",r.tag),le=void 0!==oe?new Uint8Array([...hn.base64Url(r.ciphertext).toUint8Array(),...oe??[]]):hn.base64Url(r.ciphertext).toUint8Array(),ue=void 0!==r.aad?new Uint8Array([...hn.string(null!==(a=r.protected)&&void 0!==a?a:"").toUint8Array(),...hn.string(".").toUint8Array(),...hn.string(r.aad).toUint8Array()]):hn.string(null!==(c=r.protected)&&void 0!==c?c:"").toUint8Array();return{plaintext:"string"==typeof m?yield i.decrypt({keyUri:m,data:le,iv:j,additionalData:ue}):yield s.decrypt({key:m,data:le,iv:j,additionalData:ue}),protectedHeader:_,additionalAuthenticatedData:jW("aad",r.aad),sharedUnprotectedHeader:r.unprotected,unprotectedHeader:r.header}})}static encrypt({key:r,plaintext:t,additionalAuthenticatedData:i,protectedHeader:s,sharedUnprotectedHeader:o,unprotectedHeader:a,keyManager:c=new ll,crypto:_=new hC}){return Aae(this,void 0,void 0,function*(){if(!VN(_))throw new Kr(qr.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!VN(c))throw new Kr(qr.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!s&&!o&&!a)throw new Kr(qr.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(t instanceof Uint8Array))throw new Kr(qr.InvalidJwe,"Plaintext is missing or not a byte array.");if(Cae(s,o,a))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const E=Object.assign(Object.assign(Object.assign({},s),o),a);if(!LW(E))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:m,encryptedKey:j}=yield Sae.encrypt({key:r,joseHeader:E,keyManager:c,crypto:_});let oe;switch(E.enc){case"A128GCM":case"A192GCM":case"A256GCM":oe=zo.randomBytes(12);break;default:oe=new Uint8Array(0)}const le=s?hn.object(s).toBase64Url():"";let ue,pe;i?(pe=hn.uint8Array(i).toBase64Url(),ue=hn.string(le+"."+pe).toUint8Array()):ue=hn.string(le).toUint8Array();const we="string"==typeof m?yield c.encrypt({keyUri:m,data:t,iv:oe,additionalData:ue}):yield _.encrypt({key:m,data:t,iv:oe,additionalData:ue}),Oe=we.slice(0,-16),Pe=we.slice(-16),Ie=new UN({ciphertext:hn.uint8Array(Oe).toBase64Url()});return j&&(Ie.encrypted_key=hn.uint8Array(j).toBase64Url()),s&&(Ie.protected=le),o&&(Ie.unprotected=o),a&&(Ie.header=a),oe&&(Ie.iv=hn.uint8Array(oe).toBase64Url()),pe&&(Ie.aad=pe),Pe&&(Ie.tag=hn.uint8Array(Pe).toBase64Url()),Ie})}}var Tae=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class vC{static decrypt({jwe:r,key:t,keyManager:i=new ll,crypto:s=new hC,options:o={}}){return Tae(this,void 0,void 0,function*(){if("string"!=typeof r)throw new Kr(qr.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:a,1:c,2:_,3:E,4:m,length:j}=r.split(".");if(5!==j)throw new Kr(qr.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const oe=yield UN.decrypt({jwe:{ciphertext:E,encrypted_key:c||void 0,iv:_||void 0,protected:a,tag:m||void 0},key:t,keyManager:i,crypto:s,options:o});if(!LW(oe.protectedHeader))throw new Kr(qr.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:oe.plaintext,protectedHeader:oe.protectedHeader}})}static encrypt({plaintext:r,protectedHeader:t,key:i,keyManager:s=new ll,crypto:o=new hC,options:a={}}){return Tae(this,void 0,void 0,function*(){const c=yield UN.encrypt({plaintext:r,protectedHeader:t,key:i,keyManager:s,crypto:o,options:a});return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")})}}var yh=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function Dae(n){return"string"!=typeof n||0===n.trim().length}class $W{constructor({keyDerivationWorkFactor:r,store:t}={}){this.crypto=new hC,this._keyDerivationWorkFactor=r??21e4,this._store=t??new A_}backup(){return yh(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const r={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},t=hn.object(r).toBase64Url(),i={data:t,dateCreated:(new Date).toISOString(),size:t.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:r,newPassword:t}){return yh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let s,o;try{let c;({plaintext:c,protectedHeader:s}=yield vC.decrypt({jwe:i,key:hn.string(r).toUint8Array(),crypto:this.crypto,keyManager:new jw})),o=hn.uint8Array(c).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const a=yield vC.encrypt({key:hn.string(t).toUint8Array(),protectedHeader:s,plaintext:hn.object(o).toUint8Array(),crypto:this.crypto,keyManager:new jw});yield this._store.set("contentEncryptionKey",a),this._contentEncryptionKey=o})}getDid(){return yh(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const r=yield this.getStoredDid(),{plaintext:t}=yield vC.decrypt({jwe:r,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new jw}),i=hn.uint8Array(t).toObject();if(!Ioe(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield ul.import({portableDid:i})})}getStatus(){return yh(this,void 0,void 0,function*(){const r=yield this._store.get("vaultStatus");if(!r)return{initialized:!1,lastBackup:null,lastRestore:null};const t=hn.string(r).toObject();if(!function s3e(n){return"object"==typeof n&&null!==n&&"initialized"in n&&"boolean"==typeof n.initialized&&"lastBackup"in n&&"lastRestore"in n}(t))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return t})}initialize({password:r,recoveryPhrase:t,dwnEndpoints:i}){return yh(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(Dae(r))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(t&&Dae(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(t??(t=function Yke(n,r=128){if(Nw(r),r%32!=0||r>256)throw new TypeError("Invalid entropy");return function Qke(n,r){return bae(n),_ae(r).encode(n).join((n=>"\u3042\u3044\u3053\u304f\u3057\u3093"===n[0])(r)?"\u3000":" ")}(function bke(n=32){if(MW&&"function"==typeof MW.getRandomValues)return MW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}(r/8),n)}(Zoe,128)),!function e3e(n,r){try{!function Jke(n,r){const{words:t}=NW(n);bae(_ae(r).decode(t))}(n,r)}catch{return!1}return!0}(t,Zoe))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const s=yield t3e(t),o=PN.fromMasterSeed(s),a=o.derive("m/44'/0'/0'/0'/0'"),c=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:a.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),_=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:a.publicKey,salt:"",info:"vault_unlock_salt",length:256}),E={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:hn.uint8Array(_).toBase64Url()},m=yield vC.encrypt({key:hn.string(r).toUint8Array(),protectedHeader:E,plaintext:hn.object(c).toUint8Array(),crypto:this.crypto,keyManager:new jw});yield this._store.set("contentEncryptionKey",m);const j=o.derive("m/44'/0'/1708523827'/0'/0'"),oe=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:j.privateKey});let le=o.derive("m/44'/0'/1708523827'/0'/1'");const ue=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:le.privateKey}),pe=new gMe;yield pe.addPredefinedKeys({privateKeys:[oe,ue]});const we={verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]};i&&i.length&&(we.services=[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:i,enc:"#enc",sig:"#sig"}]);const Pe=yield(yield Qf.create({keyManager:pe,options:we})).export(),$e=yield vC.encrypt({key:c,plaintext:hn.object(Pe).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new jw});return yield this._store.set("did",$e),this._contentEncryptionKey=c,yield this.setStatus({initialized:!0}),t})}isInitialized(){return yh(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:r})=>r)})}isLocked(){return!this._contentEncryptionKey}lock(){return yh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:r,password:t}){return yh(this,void 0,void 0,function*(){if(!function i3e(n){return"object"==typeof n&&null!==n&&"dateCreated"in n&&"string"==typeof n.dateCreated&&"size"in n&&"number"==typeof n.size&&"data"in n&&"string"==typeof n.data}(r))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,s,o;try{o=yield this.getStoredDid(),s=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const a=hn.base64Url(r.data).toObject();yield this._store.set("did",a.did),yield this._store.set("contentEncryptionKey",a.contentEncryptionKey),yield this.setStatus(a.status),yield this.unlock({password:t})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",s),yield this._store.set("did",o),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:r}){return yh(this,void 0,void 0,function*(){yield this.lock();const t=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield vC.decrypt({jwe:t,key:hn.string(r).toUint8Array(),crypto:this.crypto,keyManager:new jw}),s=hn.uint8Array(i).toObject();this._contentEncryptionKey=s}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return yh(this,void 0,void 0,function*(){const r=yield this._store.get("did");if(!r)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return r})}getStoredContentEncryptionKey(){return yh(this,void 0,void 0,function*(){const r=yield this._store.get("contentEncryptionKey");if(!r)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return r})}setStatus({initialized:r,lastBackup:t,lastRestore:i}){return yh(this,void 0,void 0,function*(){let s=yield this.getStatus();return s.initialized=r??s.initialized,s.lastBackup=t??s.lastBackup,s.lastRestore=i??s.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(s)),!0})}}var Eg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function o3e(n){return!(!n||"object"!=typeof n||null===n)&&"name"in n}class VW extends lW{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=koe,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return Eg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return Eg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return Eg(this,void 0,void 0,function*(){return yield t.set.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return Eg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}getAllRecords({agent:r,tenantDid:t}){var i;return Eg(this,void 0,void 0,function*(){this._index.clear();const{reply:s}=yield r.dwn.processRequest({author:t,target:t,messageType:fr.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let o=[];for(const a of null!==(i=s.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const c=hn.base64Url(a.encodedData).toObject();o3e(c)&&(this._index.set(`${t}${fu}${c.uri}`,a.recordId),this._cache.set(a.recordId,c),o.push(c))}return o})}}class a3e extends dW{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(r){const t=Object.create(null,{delete:{get:()=>super.delete}});return Eg(this,void 0,void 0,function*(){return yield t.delete.call(this,r)})}get(r){const t=Object.create(null,{get:{get:()=>super.get}});return Eg(this,void 0,void 0,function*(){return yield t.get.call(this,r)})}list(r){const t=Object.create(null,{list:{get:()=>super.list}});return Eg(this,void 0,void 0,function*(){return yield t.list.call(this,r)})}set(r){const t=Object.create(null,{set:{get:()=>super.set}});return Eg(this,void 0,void 0,function*(){return yield t.set.call(this,r)})}}var Sg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class UW{constructor({agent:r,store:t}={}){this._agent=r,this._store=t??new a3e}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r}get tenant(){if(!this._agent)throw new Error("AgentIdentityApi: The agent must be set to perform tenant specific actions.");return this._agent.agentDid.uri}create({metadata:r,didMethod:t="dht",didOptions:i,store:s}){return Sg(this,void 0,void 0,function*(){const o=yield this.agent.did.create({method:t,options:i,tenant:this.tenant,store:s}),a=new aW({did:o,metadata:Object.assign(Object.assign({},r),{uri:o.uri,tenant:this.tenant})});return(s??!0)&&(yield this._store.set({id:a.did.uri,data:a.metadata,agent:this.agent,tenant:a.metadata.tenant,preventDuplicates:!1,useCache:!0})),a})}export({didUri:r}){return Sg(this,void 0,void 0,function*(){const t=yield this.get({didUri:r});if(!t)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${r}`);return yield t.export()})}get({didUri:r}){return Sg(this,void 0,void 0,function*(){const t=yield this._store.get({id:r,agent:this.agent,useCache:!0});if(!t)return;const i=yield this.agent.did.get({didUri:r,tenant:t.tenant});if(!i)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${r}`);return new aW({did:i,metadata:t})})}import({portableIdentity:r}){return Sg(this,void 0,void 0,function*(){r.metadata.tenant=this.tenant;const t=yield this.agent.did.import({portableDid:r.portableDid,tenant:r.metadata.tenant});if(!t)throw new Error(`AgentIdentityApi: Failed to import Identity: ${r.metadata.uri}`);const i=new aW({did:t,metadata:r.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:r}={}){return Sg(this,void 0,void 0,function*(){const t=yield this._store.list({agent:this.agent,tenant:r});return(yield Promise.all(t.map(s=>this.get({didUri:s.uri})))).filter(s=>typeof s<"u")})}delete({didUri:r}){return Sg(this,void 0,void 0,function*(){if(!(yield this._store.get({id:r,agent:this.agent,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${r}`);yield this._store.delete({id:r,agent:this.agent})})}getDwnEndpoints({didUri:r}){return pW(r,this.agent.did)}setDwnEndpoints({didUri:r,endpoints:t}){var i;return Sg(this,void 0,void 0,function*(){const s=yield this.agent.did.get({didUri:r});if(!s)throw new Error(`AgentIdentityApi: Failed to set DWN endpoints due to DID not found: ${r}`);const o=yield s.export(),a=null===(i=o.document.service)||void 0===i?void 0:i.find(c=>c.id.endsWith("dwn"));if(a)a.serviceEndpoint=t;else{const c={id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:t,enc:"#enc",sig:"#sig"};o.document.service?o.document.service.push(c):o.document.service=[c]}yield this.agent.did.update({portableDid:o,tenant:this.agent.agentDid.uri})})}setMetadataName({didUri:r,name:t}){return Sg(this,void 0,void 0,function*(){if(!t)throw new Error("AgentIdentityApi: Failed to set metadata name due to missing name value.");const i=yield this.get({didUri:r});if(!i)throw new Error(`AgentIdentityApi: Failed to set metadata name due to Identity not found: ${r}`);if(i.metadata.name===t)throw new Error("AgentIdentityApi: No changes detected.");yield this._store.set({id:i.did.uri,data:Object.assign(Object.assign({},i.metadata),{name:t}),agent:this.agent,tenant:i.metadata.tenant,updateExisting:!0,useCache:!0})})}connectedIdentity({connectedDid:r}={}){return Sg(this,void 0,void 0,function*(){const t=yield this.list();if(!(t.length<1))return t.find(r?i=>i.metadata.connectedDid===r:i=>void 0!==i.metadata.connectedDid)})}}var Cg=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Mae=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class xp{get agent(){if(!this._agent)throw new Error("AgentPermissionsApi: Agent is not set");return this._agent}set agent(r){this._agent=r}constructor({agent:r}={}){this._cachedPermissions=new Sy({ttl:6e4}),this._agent=r}getPermissionForRequest({connectedDid:r,delegateDid:t,delegate:i,messageType:s,protocol:o,cached:a=!1}){return Cg(this,void 0,void 0,function*(){const c=[r,t,s,o].join("~"),_=a?this._cachedPermissions.get(c):void 0;if(_)return _;const E=yield this.fetchGrants({author:t,target:t,grantor:r,grantee:t}),m=yield xp.matchGrantFromArray(r,t,{messageType:s,protocol:o},E,i);if(!m)throw new Error(`CachedPermissions: No permissions found for ${s}: ${o}`);return this._cachedPermissions.set(c,m),m})}fetchGrants({author:r,target:t,grantee:i,grantor:s,protocol:o,remote:a=!1}){return Cg(this,void 0,void 0,function*(){const _={author:r,target:t,messageType:fr.RecordsQuery,messageParams:{filter:{author:s,recipient:i,protocol:Mr.uri,protocolPath:Mr.grantPath,tags:o?{protocol:o}:void 0}}},{reply:E}=a?yield this.agent.sendDwnRequest(_):yield this.agent.processDwnRequest(_);if(200!==E.status.code)throw new Error(`PermissionsApi: Failed to fetch grants: ${E.status.detail}`);const m=[];for(const j of E.entries){const oe=yield id.parse(j);m.push({grant:oe,message:j})}return m})}fetchRequests({author:r,target:t,protocol:i,remote:s=!1}){return Cg(this,void 0,void 0,function*(){const a={author:r,target:t,messageType:fr.RecordsQuery,messageParams:{filter:{protocol:Mr.uri,protocolPath:Mr.requestPath,tags:i?{protocol:i}:void 0}}},{reply:c}=s?yield this.agent.sendDwnRequest(a):yield this.agent.processDwnRequest(a);if(200!==c.status.code)throw new Error(`PermissionsApi: Failed to fetch requests: ${c.status.detail}`);const _=[];for(const E of c.entries){const m=yield rC.parse(E);_.push({request:m,message:E})}return _})}isGrantRevoked({author:r,target:t,grantRecordId:i,remote:s=!1}){return Cg(this,void 0,void 0,function*(){const o={author:r,target:t,messageType:fr.RecordsRead,messageParams:{filter:{parentId:i,protocol:Mr.uri,protocolPath:Mr.revocationPath}}},{reply:a}=s?yield this.agent.sendDwnRequest(o):yield this.agent.processDwnRequest(o);if(404===a.status.code)return!1;if(200===a.status.code)return!0;throw new Error(`PermissionsApi: Failed to check if grant is revoked: ${a.status.detail}`)})}createGrant(r){return Cg(this,void 0,void 0,function*(){const{author:t,store:i=!1,delegated:s=!1}=r,o=Mae(r,["author","store","delegated"]);let a;Mr.hasProtocolScope(o.scope)&&(a={protocol:o.scope.protocol});const _=hn.object({dateExpires:o.dateExpires,requestId:o.requestId,description:o.description,delegated:s,scope:o.scope}).toUint8Array(),E={recipient:o.grantedTo,protocol:Mr.uri,protocolPath:Mr.grantPath,dataFormat:"application/json",tags:a},{reply:m,message:j}=yield this.agent.processDwnRequest({store:i,author:t,target:t,messageType:fr.RecordsWrite,messageParams:E,dataStream:new Blob([_])});if(202!==m.status.code)throw new Error(`PermissionsApi: Failed to create grant: ${m.status.detail}`);const oe=Object.assign(Object.assign({},j),{encodedData:hn.uint8Array(_).toBase64Url()});return{grant:yield id.parse(oe),message:oe}})}createRequest(r){return Cg(this,void 0,void 0,function*(){const{author:t,store:i=!1,delegated:s=!1}=r,o=Mae(r,["author","store","delegated"]);let a;Mr.hasProtocolScope(o.scope)&&(a={protocol:o.scope.protocol});const _=hn.object({description:o.description,delegated:s,scope:o.scope}).toUint8Array(),E={protocol:Mr.uri,protocolPath:Mr.requestPath,dataFormat:"application/json",tags:a},{reply:m,message:j}=yield this.agent.processDwnRequest({store:i,author:t,target:t,messageType:fr.RecordsWrite,messageParams:E,dataStream:new Blob([_])});if(202!==m.status.code)throw new Error(`PermissionsApi: Failed to create request: ${m.status.detail}`);const oe=Object.assign(Object.assign({},j),{encodedData:hn.uint8Array(_).toBase64Url()});return{request:yield rC.parse(oe),message:oe}})}createRevocation(r){return Cg(this,void 0,void 0,function*(){const{author:t,store:i=!1,grant:s,description:o}=r,c=hn.object({description:o}).toUint8Array();let _;Mr.hasProtocolScope(s.scope)&&(_={protocol:s.scope.protocol});const E={parentContextId:s.id,protocol:Mr.uri,protocolPath:Mr.revocationPath,dataFormat:"application/json",tags:_},{reply:m,message:j}=yield this.agent.processDwnRequest({store:i,author:t,target:t,messageType:fr.RecordsWrite,messageParams:E,dataStream:new Blob([c])});if(202!==m.status.code)throw new Error(`PermissionsApi: Failed to create revocation: ${m.status.detail}`);return{message:Object.assign(Object.assign({},j),{encodedData:hn.uint8Array(c).toBase64Url()})}})}clear(){return Cg(this,void 0,void 0,function*(){this._cachedPermissions.clear()})}static matchGrantFromArray(r,t,i,s,o=!1){return Cg(this,void 0,void 0,function*(){for(const a of s){const{grant:c,message:_}=a;if(!0===o&&!0!==c.delegated)continue;const{messageType:E,protocol:m,protocolPath:j,contextId:oe}=i;if(this.matchScopeFromGrant(r,t,E,c,m,j,oe))return{grant:c,message:_}}})}static matchScopeFromGrant(r,t,i,s,o,a,c){if(s.grantee!==t||s.grantor!==r)return!1;const _=s.scope;if(_.interface+_.method===i){if(!function SMe(n){return n===fr.RecordsDelete||n===fr.RecordsQuery||n===fr.RecordsRead||n===fr.RecordsSubscribe||n===fr.RecordsWrite}(i))return void 0===_.protocol||_.protocol===o&&this.isUnrestrictedProtocolScope(_);{const m=_;if(m.protocol!==o)return!1;if(this.isUnrestrictedProtocolScope(m)||void 0!==m.protocolPath&&m.protocolPath===a||void 0!==m.contextId&&c?.startsWith(m.contextId))return!0}}return!1}static isUnrestrictedProtocolScope(r){return void 0===r.contextId&&void 0===r.protocolPath}}const zW=(n,r,t)=>({jsonrpc:"2.0",id:n,method:r,params:t}),kae=(n,r,t,i)=>({jsonrpc:"2.0",id:n,method:`rpc.subscribe.${r}`,params:i,subscription:{id:t}});function zN(n){try{return JSON.parse(n)}catch{return null}}var hI=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class l3e{constructor({ttl:r="15m"}={}){this.cache=new Sy({ttl:lv(r)})}get(r){return hI(this,void 0,void 0,function*(){return this.cache.get(r)})}set(r,t){return hI(this,void 0,void 0,function*(){this.cache.set(r,t)})}delete(r){return hI(this,void 0,void 0,function*(){this.cache.delete(r)})}clear(){return hI(this,void 0,void 0,function*(){this.cache.clear()})}close(){return hI(this,void 0,void 0,function*(){})}}var Iae=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class d3e{constructor(r){this.serverInfoCache=r??new l3e}get transportProtocols(){return["http:","https:"]}sendDwnRequest(r){return Iae(this,void 0,void 0,function*(){const t=zo.randomUuid(),i=zW(t,"dwn.processMessage",{target:r.targetDid,message:r.message}),s={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};r.data&&(s.headers["content-type"]="application/octet-stream",s.body=r.data);const o=yield fetch(r.dwnUrl,s);let a,c;const{headers:_}=o;if(_.has("dwn-response")){const m=zN(_.get("dwn-response"));if(null==m)throw new Error(`failed to parse json rpc response. dwn url: ${r.dwnUrl}`);c=o.body,a=m}else{const m=yield o.text();a=JSON.parse(m)}if(a.error){const{code:m,message:j}=a.error;throw new Error(`(${m}) - ${j}`)}const{reply:E}=a.result;return c&&E.record?E.record.data=c:c&&E.entry&&(E.entry.data=c),E})}getServerInfo(r){return Iae(this,void 0,void 0,function*(){const t=yield this.serverInfoCache.get(r);if(t)return t;const i=new URL(r);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const s=yield fetch(i.toString());if(s.ok){const o=yield s.json(),a={registrationRequirements:o.registrationRequirements,maxFileSize:o.maxFileSize,webSocketSupport:o.webSocketSupport};return this.serverInfoCache.set(r,a),a}throw new Error(`HTTP (${s.status}) - ${s.statusText}`)}catch(s){throw new Error(`Error encountered while processing response from ${i.toString()}: ${s.message}`)}})}}var bC=null;typeof WebSocket<"u"?bC=WebSocket:typeof MozWebSocket<"u"?bC=MozWebSocket:typeof globalThis<"u"?bC=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?bC=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(bC=self.WebSocket||self.MozWebSocket);const u3e=bC;var HN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const f3e=3e3,h3e=3e4;class HW{constructor(r,t){this.socket=r,this.responseTimeout=t,this.messageHandlers=new Map}static connect(r,t={}){return HN(this,void 0,void 0,function*(){const{connectTimeout:i=f3e,responseTimeout:s=h3e,onclose:o,onerror:a}=t,c=new u3e(r);return c.onclose=o||(()=>{console.info(`JSON RPC Socket close ${r}`)}),c.onerror=a||(_=>{console.error(`JSON RPC Socket error ${r}`,_)}),new Promise((_,E)=>{c.addEventListener("open",()=>{const m=new HW(c,s);c.addEventListener("message",j=>{const oe=zN(j.data),le=m.messageHandlers.get(oe.id);le&&le(j)}),_(m)}),c.addEventListener("error",m=>{E(m)}),setTimeout(()=>E,i)})})}close(){this.socket.close()}request(r){return HN(this,void 0,void 0,function*(){return new Promise((t,i)=>{var s;null!==(s=r.id)&&void 0!==s||(r.id=zo.randomUuid()),this.messageHandlers.set(r.id,a=>{const c=zN(a.data);if(c.id===r.id)return this.messageHandlers.delete(r.id),t(c)}),this.send(r),setTimeout(()=>{this.messageHandlers.delete(r.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(r,t){return HN(this,void 0,void 0,function*(){if(!r.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!r.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=r.subscription.id;this.messageHandlers.set(i,c=>{const _=zN(c.data.toString());_.id===i&&(void 0!==_.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),t(_))});const o=yield this.request(r);return o.error?(this.messageHandlers.delete(i),{response:o}):{response:o,close:()=>HN(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(r){const t=zo.randomUuid(),i=kae(t,"close",r,{});return this.request(i)}send(r){this.socket.send(JSON.stringify(r))}}var GW=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class gb{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(r,t){return GW(this,void 0,void 0,function*(){const i=new URL(r.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!gb.connections.has(i.host))try{const E=yield HW.connect(i.toString(),t);gb.connections.set(i.host,{socket:E,subscriptions:new Map})}catch(E){throw new Error(`Error connecting to ${i.host}: ${E.message}`)}const o=gb.connections.get(i.host),{targetDid:a,message:c,subscriptionHandler:_}=r;return _?gb.subscriptionRequest(o,a,c,_):gb.processMessage(o,a,c)})}static processMessage(r,t,i){return GW(this,void 0,void 0,function*(){const s=zo.randomUuid(),o=zW(s,"dwn.processMessage",{target:t,message:i}),{socket:a}=r,c=yield a.request(o),{error:_,result:E}=c;if(void 0!==_)throw new Error(`error sending DWN request: ${_.message}`);return E.reply})}static subscriptionRequest(r,t,i,s){return GW(this,void 0,void 0,function*(){const o=zo.randomUuid(),a=zo.randomUuid(),c=kae(o,"dwn.processMessage",a,{target:t,message:i}),{socket:_,subscriptions:E}=r,{response:m,close:j}=yield _.subscribe(c,pe=>{const{result:we,error:Oe}=pe;if(Oe){const Ie=E.get(a);return Ie&&Ie.close(),void E.delete(a)}const{event:Pe}=we;s(Pe)}),{error:oe,result:le}=m;if(oe)throw new Error(`could not subscribe via jsonrpc socket: ${oe.message}`);const{reply:ue}=le;return ue.subscription&&j&&(E.set(a,Object.assign(Object.assign({},ue.subscription),{close:j})),ue.subscription.close=j),ue})}}gb.connections=new Map;var pI=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class m3e{constructor(r=[]){this.transportClients=new Map,r=[new g3e,new y3e,...r];for(let t of r)for(let i of t.transportProtocols)this.transportClients.set(i,t)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(r){return pI(this,void 0,void 0,function*(){const t=new URL(r.url),i=this.transportClients.get(t.protocol);if(!i){const s=new Error(`no ${t.protocol} transport client available`);throw s.name="NO_TRANSPORT_CLIENT",s}return i.sendDidRequest(r)})}sendDwnRequest(r){const t=new URL(r.dwnUrl),i=this.transportClients.get(t.protocol);if(!i){const s=new Error(`no ${t.protocol} transport client available`);throw s.name="NO_TRANSPORT_CLIENT",s}return i.sendDwnRequest(r)}getServerInfo(r){return pI(this,void 0,void 0,function*(){const t=new URL(r),i=this.transportClients.get(t.protocol);if(!i){const s=new Error(`no ${t.protocol} transport client available`);throw s.name="NO_TRANSPORT_CLIENT",s}return i.getServerInfo(r)})}}class g3e extends d3e{sendDidRequest(r){return pI(this,void 0,void 0,function*(){const t=zo.randomUuid(),i=zW(t,r.method,{data:r.data}),s=new Request(r.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let o;try{const a=yield fetch(s);if(!a.ok)throw new Error(`HTTP (${a.status}) - ${a.statusText}`);if(o=yield a.json(),o.error){const{code:c,message:_}=o.error;throw new Error(`JSON RPC (${c}) - ${_}`)}}catch(a){throw new Error(`Error encountered while processing response from ${r.url}: ${a.message}`)}return o.result})}}class y3e extends gb{sendDidRequest(r){return pI(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(r){return pI(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}var GN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class v3e{constructor({agent:r,syncEngine:t}){this._syncEngine=t,this._agent=r}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r,this._syncEngine.agent=r}registerIdentity(r){return GN(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(r)})}unregisterIdentity(r){return GN(this,void 0,void 0,function*(){yield this._syncEngine.unregisterIdentity(r)})}getIdentityOptions(r){return GN(this,void 0,void 0,function*(){return yield this._syncEngine.getIdentityOptions(r)})}updateIdentityOptions(r){return GN(this,void 0,void 0,function*(){yield this._syncEngine.updateIdentityOptions(r)})}sync(r){return this._syncEngine.sync(r)}startSync(r){return this._syncEngine.startSync(r)}stopSync(r){return this._syncEngine.stopSync(r)}}var b3e=A(80283),Fa=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class $w{constructor({agent:r,dataPath:t,db:i}){this._syncLock=!1,this._agent=r,this._permissionsApi=new xp({agent:r}),this._db=i||new b3e.Level(t??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=Eoe()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(r){this._agent=r,this._permissionsApi=new xp({agent:r})}clear(){return Fa(this,void 0,void 0,function*(){yield this._permissionsApi.clear(),yield this._db.clear()})}close(){return Fa(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var r;return Fa(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:t});const i=this.getPullQueue(),s=yield i.iterator().all(),o=[],a=new Set;for(let c of s){const[_]=c,{did:E,dwnUrl:m,messageCid:j,delegateDid:oe,protocol:le}=$w.parseSyncMessageParamsKey(_);if(a.has(m))continue;if(yield this.messageExists(E,j)){o.push({type:"del",key:_});continue}let pe,we;if(oe)try{pe=(yield this._permissionsApi.getPermissionForRequest({connectedDid:E,messageType:fr.MessagesRead,delegateDid:oe,protocol:le,cached:!0})).grant.id,we=oe}catch(tt){console.error("SyncEngineLevel: pull - Error fetching MessagesRead permission grant for delegate DID",tt);continue}const Oe=yield this.agent.processDwnRequest({store:!1,author:E,target:E,messageType:fr.MessagesRead,granteeDid:we,messageParams:{messageCid:j,permissionGrantId:pe}});let Pe;try{Pe=yield this.agent.rpc.sendDwnRequest({dwnUrl:m,targetDid:E,message:Oe.message})}catch{a.add(m);continue}if(200!==Pe.status.code||null===(r=Pe.entry)||void 0===r||!r.message){yield this.addMessage(E,j),o.push({type:"del",key:_});continue}const Ie=Pe.entry,$e=Ie.message,Je=sI(Ie)&&Ie.data?Wa.fromWebReadable({readableStream:Ie.data}):void 0,Qe=yield this.agent.dwn.node.processMessage(E,$e,{dataStream:Je});$w.syncMessageReplyIsSuccessful(Qe)&&(yield this.addMessage(E,j),o.push({type:"del",key:_}))}yield i.batch(o)})}push(){return Fa(this,void 0,void 0,function*(){const r=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:r});const t=this.getPushQueue(),i=yield t.iterator().all(),s=[],o=new Set;for(let a of i){const[c]=a,{did:_,delegateDid:E,protocol:m,dwnUrl:j,messageCid:oe}=$w.parseSyncMessageParamsKey(c);if(o.has(j))continue;const le=yield this.getDwnMessage({author:_,messageCid:oe,delegateDid:E,protocol:m});if(le)try{const ue=yield this.agent.rpc.sendDwnRequest({dwnUrl:j,targetDid:_,data:le.data,message:le.message});$w.syncMessageReplyIsSuccessful(ue)&&(yield this.addMessage(_,oe),s.push({type:"del",key:c}))}catch{o.add(j)}else s.push({type:"del",key:c}),yield this.addMessage(_,oe)}yield t.batch(s)})}registerIdentity({did:r,options:t}){return Fa(this,void 0,void 0,function*(){const i=this._db.sublevel("registeredIdentities");if(yield this.getIdentityOptions(r))throw new Error(`SyncEngineLevel: Identity with DID ${r} is already registered.`);t??(t={protocols:[]}),yield i.put(r,JSON.stringify(t))})}unregisterIdentity(r){return Fa(this,void 0,void 0,function*(){const t=this._db.sublevel("registeredIdentities");if(!(yield this.getIdentityOptions(r)))throw new Error(`SyncEngineLevel: Identity with DID ${r} is not registered.`);yield t.del(r)})}getIdentityOptions(r){return Fa(this,void 0,void 0,function*(){const t=this._db.sublevel("registeredIdentities");try{const i=yield t.get(r);if(i)return JSON.parse(i)}catch(i){if("LEVEL_NOT_FOUND"===i.code)return;throw new Error(`SyncEngineLevel: Error reading level: ${i.code}.`)}})}updateIdentityOptions({did:r,options:t}){return Fa(this,void 0,void 0,function*(){const i=this._db.sublevel("registeredIdentities");if(!(yield this.getIdentityOptions(r)))throw new Error(`SyncEngineLevel: Identity with DID ${r} is not registered.`);yield i.put(r,JSON.stringify(t))})}sync(r){return Fa(this,void 0,void 0,function*(){if(this._syncLock)throw new Error("SyncEngineLevel: Sync operation is already in progress.");this._syncLock=!0;try{(!r||"push"===r)&&(yield this.push()),(!r||"pull"===r)&&(yield this.pull())}finally{this._syncLock=!1}})}startSync({interval:r}){return Fa(this,void 0,void 0,function*(){const t=lv(r),i=()=>Fa(this,void 0,void 0,function*(){if(!this._syncLock){clearInterval(this._syncIntervalId),this._syncIntervalId=void 0;try{yield this.sync()}catch(s){console.error("SyncEngineLevel: Error during sync operation",s)}this._syncIntervalId||(this._syncIntervalId=setInterval(i,t))}});this._syncIntervalId&&clearInterval(this._syncIntervalId),this._syncIntervalId=setInterval(i,t),this._syncLock||(yield this.sync())})}stopSync(r=2e3){return Fa(this,void 0,void 0,function*(){let t=0;for(;this._syncLock;){if(t>=r)throw new Error(`SyncEngineLevel: Existing sync operation did not complete within ${r} milliseconds.`);t+=100,yield new Promise(i=>setTimeout(i,r<100?r:100))}this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)})}static syncMessageReplyIsSuccessful(r){var t,i;return 202===r.status.code||204===r.status.code||409===r.status.code||(null===(t=r.entry)||void 0===t?void 0:t.message.descriptor.interface)===Sr.Records&&(null===(i=r.entry)||void 0===i?void 0:i.message.descriptor.method)===dr.Delete&&404===r.status.code}enqueueOperations({syncDirection:r,syncPeerState:t}){return Fa(this,void 0,void 0,function*(){(yield Promise.allSettled(t.map(s=>Fa(this,void 0,void 0,function*(){const o=yield this.getDwnEventLog({did:s.did,delegateDid:s.delegateDid,dwnUrl:s.dwnUrl,cursor:s.cursor,protocol:s.protocol,syncDirection:r}),a=[];for(let c of o){const _=this._ulidFactory(),E=$w.generateSyncMessageParamsKey(Object.assign(Object.assign({},s),{watermark:_,messageCid:c}));a.push({type:"put",key:E,value:""})}a.length>0&&(yield("pull"===r?this.getPullQueue():this.getPushQueue()).batch(a))})))).forEach((s,o)=>{"rejected"===s.status&&console.error(`SyncEngineLevel: Error enqueuing sync operation for peerState: ${JSON.stringify(t[o])}`,s.reason)})})}static generateSyncMessageParamsKey({did:r,delegateDid:t,dwnUrl:i,protocol:s,watermark:o,messageCid:a}){return[r,t,i,s,o,a].join("~")}static parseSyncMessageParamsKey(r){const[t,i,s,o,a,c]=r.split("~");return{did:t,delegateDid:""===i?void 0:i,dwnUrl:s,watermark:a,messageCid:c,protocol:""===o?void 0:o}}getDwnEventLog({did:r,delegateDid:t,dwnUrl:i,syncDirection:s,cursor:o,protocol:a}){var c;return Fa(this,void 0,void 0,function*(){let E,_={};if(t)try{E=(yield this._permissionsApi.getPermissionForRequest({connectedDid:r,messageType:fr.MessagesQuery,delegateDid:t,protocol:a,cached:!0})).grant.id}catch(j){return console.error("SyncEngineLevel: Error fetching MessagesQuery permission grant for delegate DID",j),[]}if("pull"===s){const j=a?[{protocol:a}]:[],oe=yield this.agent.dwn.processRequest({store:!1,target:r,author:r,messageType:fr.MessagesQuery,granteeDid:t,messageParams:{filters:j,cursor:o,permissionGrantId:E}});try{_=yield this.agent.rpc.sendDwnRequest({dwnUrl:i,targetDid:r,message:oe.message})}catch{}}else if("push"===s){const j=a?[{protocol:a}]:[];_=(yield this.agent.dwn.processRequest({author:r,target:r,messageType:fr.MessagesQuery,granteeDid:t,messageParams:{filters:j,cursor:o,permissionGrantId:E}})).reply}const m=null!==(c=_.entries)&&void 0!==c?c:[];return _.cursor&&this.setCursor(r,i,s,_.cursor,a),m})}getDwnMessage({author:r,delegateDid:t,protocol:i,messageCid:s}){return Fa(this,void 0,void 0,function*(){let o;if(t)try{o=(yield this._permissionsApi.getPermissionForRequest({connectedDid:r,messageType:fr.MessagesRead,delegateDid:t,protocol:i,cached:!0})).grant.id}catch(E){return void console.error("SyncEngineLevel: push - Error fetching MessagesRead permission grant for delegate DID",E)}let{reply:a}=yield this.agent.dwn.processRequest({author:r,target:r,messageType:fr.MessagesRead,granteeDid:t,messageParams:{messageCid:s,permissionGrantId:o}});if(200!==a.status.code||!a.entry)return;const c=a.entry;let _={message:c.message};if(sI(c)&&c.data){const E=yield Wa.consumeToBytes({readable:c.data});_.data=new Blob([E],{type:c.message.descriptor.dataFormat})}return _})}getSyncPeerState({syncDirection:r}){var t,i,s,o;return Fa(this,void 0,void 0,function*(){const a=[];try{for(var E,c=!0,_=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=n[Symbol.asyncIterator];return r?r.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,_){!function s(o,a,c,_){Promise.resolve(_).then(function(E){o({value:E,done:c})},a)}(c,_,(a=n[o](a)).done,a.value)})}}}(this._db.sublevel("registeredIdentities").iterator());E=yield _.next(),!(t=E.done);c=!0){o=E.value,c=!1;const[m,j]=o,{protocols:oe,delegateDid:le}=yield new Promise(pe=>{try{const{protocols:we,delegateDid:Oe}=JSON.parse(j);pe({protocols:we,delegateDid:Oe})}catch{pe({protocols:[]})}}),ue=yield pW(m,this.agent.did);if(0!==ue.length)for(let pe of ue)if(0===oe.length){const we=yield this.getCursor(m,pe,r);a.push({did:m,delegateDid:le,dwnUrl:pe,cursor:we})}else for(const we of oe){const Oe=yield this.getCursor(m,pe,r,we);a.push({did:m,delegateDid:le,dwnUrl:pe,cursor:Oe,protocol:we})}}}catch(m){i={error:m}}finally{try{!c&&!t&&(s=_.return)&&(yield s.call(_))}finally{if(i)throw i.error}}return a})}getCursor(r,t,i,s){return Fa(this,void 0,void 0,function*(){const o=s?`${r}~${t}~${i}-${s}`:`${r}~${t}~${i}`,a=this.getCursorStore();try{const c=yield a.get(o);if(c)return JSON.parse(c)}catch(c){if(c.notFound)return}})}setCursor(r,t,i,s,o){return Fa(this,void 0,void 0,function*(){const a=o?`${r}~${t}~${i}-${o}`:`${r}~${t}~${i}`;yield this.getCursorStore().put(a,JSON.stringify(s))})}messageExists(r,t){return Fa(this,void 0,void 0,function*(){const i=this.getMessageStore(r);try{return yield i.get(t),!0}catch(s){if(s.notFound)return!1;throw s}})}addMessage(r,t){return Fa(this,void 0,void 0,function*(){return yield this.getMessageStore(r).put(t,"")})}getMessageStore(r){return this._db.sublevel("history").sublevel(r).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}function _C(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function WW(n){if("boolean"!=typeof n)throw new Error(`boolean expected, not ${n}`)}function Pae(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}function Ep(n,...r){if(!Pae(n))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(n.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${n.length}`)}function KW(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}const yb=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function XW(n){if("string"==typeof n)n=function T3e(n){if("string"!=typeof n)throw new Error("string expected, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}(n);else{if(!Pae(n))throw new Error("Uint8Array expected, got "+typeof n);n=n.slice()}return n}const Nae=(n,r)=>(Object.assign(r,n),r);function WN(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)}const Nl=(n,r)=>255&n[r++]|(255&n[r++])<<8;class k3e{constructor(r){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ep(r=XW(r),32);const t=Nl(r,0),i=Nl(r,2),s=Nl(r,4),o=Nl(r,6),a=Nl(r,8),c=Nl(r,10),_=Nl(r,12),E=Nl(r,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|i<<3),this.r[2]=7939&(i>>>10|s<<6),this.r[3]=8191&(s>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|c<<2),this.r[7]=8065&(c>>>11|_<<5),this.r[8]=8191&(_>>>8|E<<8),this.r[9]=E>>>5&127;for(let m=0;m<8;m++)this.pad[m]=Nl(r,16+2*m)}process(r,t,i=!1){const s=i?0:2048,{h:o,r:a}=this,c=a[0],_=a[1],E=a[2],m=a[3],j=a[4],oe=a[5],le=a[6],ue=a[7],pe=a[8],we=a[9],Oe=Nl(r,t+0),Pe=Nl(r,t+2),Ie=Nl(r,t+4),$e=Nl(r,t+6),Je=Nl(r,t+8),Qe=Nl(r,t+10),tt=Nl(r,t+12),ot=Nl(r,t+14);let xt=o[0]+(8191&Oe),Ct=o[1]+(8191&(Oe>>>13|Pe<<3)),Tt=o[2]+(8191&(Pe>>>10|Ie<<6)),Kt=o[3]+(8191&(Ie>>>7|$e<<9)),Lt=o[4]+(8191&($e>>>4|Je<<12)),Xt=o[5]+(Je>>>1&8191),vt=o[6]+(8191&(Je>>>14|Qe<<2)),Et=o[7]+(8191&(Qe>>>11|tt<<5)),Dt=o[8]+(8191&(tt>>>8|ot<<8)),jt=o[9]+(ot>>>5|s),Ft=0,Jt=Ft+xt*c+Ct*(5*we)+Tt*(5*pe)+Kt*(5*ue)+Lt*(5*le);Ft=Jt>>>13,Jt&=8191,Jt+=Xt*(5*oe)+vt*(5*j)+Et*(5*m)+Dt*(5*E)+jt*(5*_),Ft+=Jt>>>13,Jt&=8191;let on=Ft+xt*_+Ct*c+Tt*(5*we)+Kt*(5*pe)+Lt*(5*ue);Ft=on>>>13,on&=8191,on+=Xt*(5*le)+vt*(5*oe)+Et*(5*j)+Dt*(5*m)+jt*(5*E),Ft+=on>>>13,on&=8191;let dn=Ft+xt*E+Ct*_+Tt*c+Kt*(5*we)+Lt*(5*pe);Ft=dn>>>13,dn&=8191,dn+=Xt*(5*ue)+vt*(5*le)+Et*(5*oe)+Dt*(5*j)+jt*(5*m),Ft+=dn>>>13,dn&=8191;let Yt=Ft+xt*m+Ct*E+Tt*_+Kt*c+Lt*(5*we);Ft=Yt>>>13,Yt&=8191,Yt+=Xt*(5*pe)+vt*(5*ue)+Et*(5*le)+Dt*(5*oe)+jt*(5*j),Ft+=Yt>>>13,Yt&=8191;let Cn=Ft+xt*j+Ct*m+Tt*E+Kt*_+Lt*c;Ft=Cn>>>13,Cn&=8191,Cn+=Xt*(5*we)+vt*(5*pe)+Et*(5*ue)+Dt*(5*le)+jt*(5*oe),Ft+=Cn>>>13,Cn&=8191;let In=Ft+xt*oe+Ct*j+Tt*m+Kt*E+Lt*_;Ft=In>>>13,In&=8191,In+=Xt*c+vt*(5*we)+Et*(5*pe)+Dt*(5*ue)+jt*(5*le),Ft+=In>>>13,In&=8191;let _n=Ft+xt*le+Ct*oe+Tt*j+Kt*m+Lt*E;Ft=_n>>>13,_n&=8191,_n+=Xt*_+vt*c+Et*(5*we)+Dt*(5*pe)+jt*(5*ue),Ft+=_n>>>13,_n&=8191;let $t=Ft+xt*ue+Ct*le+Tt*oe+Kt*j+Lt*m;Ft=$t>>>13,$t&=8191,$t+=Xt*E+vt*_+Et*c+Dt*(5*we)+jt*(5*pe),Ft+=$t>>>13,$t&=8191;let gn=Ft+xt*pe+Ct*ue+Tt*le+Kt*oe+Lt*j;Ft=gn>>>13,gn&=8191,gn+=Xt*m+vt*E+Et*_+Dt*c+jt*(5*we),Ft+=gn>>>13,gn&=8191;let un=Ft+xt*we+Ct*pe+Tt*ue+Kt*le+Lt*oe;Ft=un>>>13,un&=8191,un+=Xt*j+vt*m+Et*E+Dt*_+jt*c,Ft+=un>>>13,un&=8191,Ft=(Ft<<2)+Ft|0,Ft=Ft+Jt|0,Jt=8191&Ft,Ft>>>=13,on+=Ft,o[0]=Jt,o[1]=on,o[2]=dn,o[3]=Yt,o[4]=Cn,o[5]=In,o[6]=_n,o[7]=$t,o[8]=gn,o[9]=un}finalize(){const{h:r,pad:t}=this,i=new Uint16Array(10);let s=r[1]>>>13;r[1]&=8191;for(let c=2;c<10;c++)r[c]+=s,s=r[c]>>>13,r[c]&=8191;r[0]+=5*s,s=r[0]>>>13,r[0]&=8191,r[1]+=s,s=r[1]>>>13,r[1]&=8191,r[2]+=s,i[0]=r[0]+5,s=i[0]>>>13,i[0]&=8191;for(let c=1;c<10;c++)i[c]=r[c]+s,s=i[c]>>>13,i[c]&=8191;i[9]-=8192;let o=(1^s)-1;for(let c=0;c<10;c++)i[c]&=o;o=~o;for(let c=0;c<10;c++)r[c]=r[c]&o|i[c];r[0]=65535&(r[0]|r[1]<<13),r[1]=65535&(r[1]>>>3|r[2]<<10),r[2]=65535&(r[2]>>>6|r[3]<<7),r[3]=65535&(r[3]>>>9|r[4]<<4),r[4]=65535&(r[4]>>>12|r[5]<<1|r[6]<<14),r[5]=65535&(r[6]>>>2|r[7]<<11),r[6]=65535&(r[7]>>>5|r[8]<<8),r[7]=65535&(r[8]>>>8|r[9]<<5);let a=r[0]+t[0];r[0]=65535&a;for(let c=1;c<8;c++)a=(r[c]+t[c]|0)+(a>>>16)|0,r[c]=65535&a}update(r){KW(this);const{buffer:t,blockLen:i}=this,s=(r=XW(r)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)t.set(r.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0,!1),this.pos=0);else for(;i<=s-o;o+=i)this.process(r,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(r){KW(this),function Oae(n,r){Ep(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,h:i}=this;let{pos:s}=this;if(s){for(t[s++]=1;s<16;s++)t[s]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)r[o++]=i[a]>>>0,r[o++]=i[a]>>>8;return r}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}}const P3e=function I3e(n){const r=(i,s)=>n(s).update(XW(i)).digest(),t=n(new Uint8Array(32));return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=i=>n(i),r}(n=>new k3e(n)),Bae=n=>Uint8Array.from(n.split("").map(r=>r.charCodeAt(0))),O3e=Bae("expand 16-byte k"),R3e=Bae("expand 32-byte k"),F3e=yb(O3e),Lae=yb(R3e);function Cr(n,r){return n<<r|n>>>32-r}function YW(n){return n.byteOffset%4==0}Lae.slice();const jae=2**32-1,$ae=new Uint32Array;function vI(n,r){const{allowShortKeys:t,extendNonceFn:i,counterLength:s,counterRight:o,rounds:a}=function D3e(n,r){if(null==r||"object"!=typeof r)throw new Error("options must be defined");return Object.assign(n,r)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},r);if("function"!=typeof n)throw new Error("core must be a function");return _C(s),_C(a),WW(o),WW(t),(c,_,E,m,j=0)=>{Ep(c),Ep(_),Ep(E);const oe=E.length;if(m||(m=new Uint8Array(oe)),Ep(m),_C(j),j<0||j>=jae)throw new Error("arx: counter overflow");if(m.length<oe)throw new Error(`arx: output (${m.length}) is shorter than data (${oe})`);const le=[];let pe,we,ue=c.length;if(32===ue)pe=c.slice(),le.push(pe),we=Lae;else{if(16!==ue||!t)throw new Error(`arx: invalid 32-byte key, got length=${ue}`);pe=new Uint8Array(32),pe.set(c),pe.set(c,16),we=F3e,le.push(pe)}YW(_)||(_=_.slice(),le.push(_));const Oe=yb(pe);if(i){if(24!==_.length)throw new Error("arx: extended nonce must be 24 bytes");i(we,Oe,yb(_.subarray(0,16)),Oe),_=_.subarray(16)}const Pe=16-s;if(Pe!==_.length)throw new Error(`arx: nonce must be ${Pe} or 16 bytes`);if(12!==Pe){const $e=new Uint8Array(12);$e.set(_,o?0:12-_.length),le.push(_=$e)}const Ie=yb(_);for(function B3e(n,r,t,i,s,o,a,c){const _=s.length,E=new Uint8Array(64),m=yb(E),j=YW(s)&&YW(o),oe=j?yb(s):$ae,le=j?yb(o):$ae;for(let ue=0;ue<_;a++){if(n(r,t,i,m,a,c),a>=jae)throw new Error("arx: counter overflow");const pe=Math.min(64,_-ue);if(j&&64===pe){const we=ue/4;if(ue%4!=0)throw new Error("arx: invalid block position");for(let Pe,Oe=0;Oe<16;Oe++)Pe=we+Oe,le[Pe]=oe[Pe]^m[Oe];ue+=64}else{for(let Oe,we=0;we<pe;we++)Oe=ue+we,o[Oe]=s[Oe]^E[we];ue+=pe}}}(n,we,Oe,Ie,E,m,j,a);le.length>0;)le.pop().fill(0);return m}}function bI(n,r,t,i,s,o=20){let a=n[0],c=n[1],_=n[2],E=n[3],m=r[0],j=r[1],oe=r[2],le=r[3],ue=r[4],pe=r[5],we=r[6],Oe=r[7],Pe=s,Ie=t[0],$e=t[1],Je=t[2],Qe=a,tt=c,ot=_,xt=E,Ct=m,Tt=j,Kt=oe,Lt=le,Xt=ue,vt=pe,Et=we,Dt=Oe,jt=Pe,Ft=Ie,Jt=$e,on=Je;for(let Yt=0;Yt<o;Yt+=2)Qe=Qe+Ct|0,jt=Cr(jt^Qe,16),Xt=Xt+jt|0,Ct=Cr(Ct^Xt,12),Qe=Qe+Ct|0,jt=Cr(jt^Qe,8),Xt=Xt+jt|0,Ct=Cr(Ct^Xt,7),tt=tt+Tt|0,Ft=Cr(Ft^tt,16),vt=vt+Ft|0,Tt=Cr(Tt^vt,12),tt=tt+Tt|0,Ft=Cr(Ft^tt,8),vt=vt+Ft|0,Tt=Cr(Tt^vt,7),ot=ot+Kt|0,Jt=Cr(Jt^ot,16),Et=Et+Jt|0,Kt=Cr(Kt^Et,12),ot=ot+Kt|0,Jt=Cr(Jt^ot,8),Et=Et+Jt|0,Kt=Cr(Kt^Et,7),xt=xt+Lt|0,on=Cr(on^xt,16),Dt=Dt+on|0,Lt=Cr(Lt^Dt,12),xt=xt+Lt|0,on=Cr(on^xt,8),Dt=Dt+on|0,Lt=Cr(Lt^Dt,7),Qe=Qe+Tt|0,on=Cr(on^Qe,16),Et=Et+on|0,Tt=Cr(Tt^Et,12),Qe=Qe+Tt|0,on=Cr(on^Qe,8),Et=Et+on|0,Tt=Cr(Tt^Et,7),tt=tt+Kt|0,jt=Cr(jt^tt,16),Dt=Dt+jt|0,Kt=Cr(Kt^Dt,12),tt=tt+Kt|0,jt=Cr(jt^tt,8),Dt=Dt+jt|0,Kt=Cr(Kt^Dt,7),ot=ot+Lt|0,Ft=Cr(Ft^ot,16),Xt=Xt+Ft|0,Lt=Cr(Lt^Xt,12),ot=ot+Lt|0,Ft=Cr(Ft^ot,8),Xt=Xt+Ft|0,Lt=Cr(Lt^Xt,7),xt=xt+Ct|0,Jt=Cr(Jt^xt,16),vt=vt+Jt|0,Ct=Cr(Ct^vt,12),xt=xt+Ct|0,Jt=Cr(Jt^xt,8),vt=vt+Jt|0,Ct=Cr(Ct^vt,7);let dn=0;i[dn++]=a+Qe|0,i[dn++]=c+tt|0,i[dn++]=_+ot|0,i[dn++]=E+xt|0,i[dn++]=m+Ct|0,i[dn++]=j+Tt|0,i[dn++]=oe+Kt|0,i[dn++]=le+Lt|0,i[dn++]=ue+Xt|0,i[dn++]=pe+vt|0,i[dn++]=we+Et|0,i[dn++]=Oe+Dt|0,i[dn++]=Pe+jt|0,i[dn++]=Ie+Ft|0,i[dn++]=$e+Jt|0,i[dn++]=Je+on|0}const j3e=vI(bI,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$3e=vI(bI,{counterRight:!1,counterLength:8,extendNonceFn:function L3e(n,r,t,i){let s=n[0],o=n[1],a=n[2],c=n[3],_=r[0],E=r[1],m=r[2],j=r[3],oe=r[4],le=r[5],ue=r[6],pe=r[7],we=t[0],Oe=t[1],Pe=t[2],Ie=t[3];for(let Je=0;Je<20;Je+=2)s=s+_|0,we=Cr(we^s,16),oe=oe+we|0,_=Cr(_^oe,12),s=s+_|0,we=Cr(we^s,8),oe=oe+we|0,_=Cr(_^oe,7),o=o+E|0,Oe=Cr(Oe^o,16),le=le+Oe|0,E=Cr(E^le,12),o=o+E|0,Oe=Cr(Oe^o,8),le=le+Oe|0,E=Cr(E^le,7),a=a+m|0,Pe=Cr(Pe^a,16),ue=ue+Pe|0,m=Cr(m^ue,12),a=a+m|0,Pe=Cr(Pe^a,8),ue=ue+Pe|0,m=Cr(m^ue,7),c=c+j|0,Ie=Cr(Ie^c,16),pe=pe+Ie|0,j=Cr(j^pe,12),c=c+j|0,Ie=Cr(Ie^c,8),pe=pe+Ie|0,j=Cr(j^pe,7),s=s+E|0,Ie=Cr(Ie^s,16),ue=ue+Ie|0,E=Cr(E^ue,12),s=s+E|0,Ie=Cr(Ie^s,8),ue=ue+Ie|0,E=Cr(E^ue,7),o=o+m|0,we=Cr(we^o,16),pe=pe+we|0,m=Cr(m^pe,12),o=o+m|0,we=Cr(we^o,8),pe=pe+we|0,m=Cr(m^pe,7),a=a+j|0,Oe=Cr(Oe^a,16),oe=oe+Oe|0,j=Cr(j^oe,12),a=a+j|0,Oe=Cr(Oe^a,8),oe=oe+Oe|0,j=Cr(j^oe,7),c=c+_|0,Pe=Cr(Pe^c,16),le=le+Pe|0,_=Cr(_^le,12),c=c+_|0,Pe=Cr(Pe^c,8),le=le+Pe|0,_=Cr(_^le,7);let $e=0;i[$e++]=s,i[$e++]=o,i[$e++]=a,i[$e++]=c,i[$e++]=we,i[$e++]=Oe,i[$e++]=Pe,i[$e++]=Ie},allowShortKeys:!1}),V3e=new Uint8Array(16),Vae=(n,r)=>{n.update(r);const t=r.length%16;t&&n.update(V3e.subarray(t))},U3e=new Uint8Array(32);function Uae(n,r,t,i,s){const o=n(r,t,U3e),a=P3e.create(o);s&&Vae(a,s),Vae(a,i);const c=new Uint8Array(16),_=(n=>new DataView(n.buffer,n.byteOffset,n.byteLength))(c);WN(_,0,BigInt(s?s.length:0),!0),WN(_,8,BigInt(i.length),!0),a.update(c);const E=a.digest();return o.fill(0),E}const zae=n=>(r,t,i)=>(Ep(r,32),Ep(t),{encrypt:(o,a)=>{const c=o.length,_=c+16;a?Ep(a,_):a=new Uint8Array(_),n(r,t,o,a,1);const E=Uae(n,r,t,a.subarray(0,-16),i);return a.set(E,c),a},decrypt:(o,a)=>{const c=o.length,_=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");a?Ep(a,_):a=new Uint8Array(_);const E=o.subarray(0,-16);if(!function M3e(n,r){if(n.length!==r.length)return!1;let t=0;for(let i=0;i<n.length;i++)t|=n[i]^r[i];return 0===t}(o.subarray(-16),Uae(n,r,t,E,i)))throw new Error("invalid tag");return n(r,t,E,a,1),a}}),qN=(zae(j3e),Nae({blockSize:64,nonceLength:24,tagLength:16},zae($3e)));var gu=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};function Hae({jwt:n}){var r,t;return gu(this,void 0,void 0,function*(){const[i,s,o]=n.split("."),a=hn.base64Url(i).toObject();if(!a.kid)throw new Error("OIDC: Object could not be verified due to missing 'kid' header value.");const{didDocument:c}=yield Ku.resolve(a.kid.split("#")[0]);if(!c)throw new Error("OIDC: Object could not be verified due to Client DID resolution issue.");const{publicKeyJwk:_}=null!==(t=null===(r=c.verificationMethod)||void 0===r?void 0:r.find(oe=>oe.id===a.kid))&&void 0!==t?t:{};if(!_)throw new Error("OIDC: Object could not be verified due to missing public key in DID document.");if(!(yield(new RD).verify({key:_,signature:hn.base64Url(o).toUint8Array(),data:hn.string(`${i}.${s}`).toUint8Array()})))throw new Error("OIDC: Object failed verification due to invalid signature.");return hn.base64Url(s).toObject()})}function Gae({jwe:n,encryption_key:r}){const[t,,i,s,o]=n.split("."),a=hn.base64Url(r).toUint8Array(),_=hn.base64Url(t).toUint8Array(),E=hn.base64Url(i).toUint8Array(),m=hn.base64Url(s).toUint8Array(),j=hn.base64Url(o).toUint8Array(),oe=new Uint8Array([...m,...j]),ue=qN(a,E,_).decrypt(oe);return hn.uint8Array(ue).toString()}const yu={createAuthRequest:function W3e(n){return gu(this,void 0,void 0,function*(){const r=zo.randomBytes(16),t=zo.randomBytes(16);return Object.assign(Object.assign({},n),{nonce:hn.uint8Array(t).toBase64Url(),response_type:"id_token",response_mode:"direct_post",state:hn.uint8Array(r).toBase64Url(),client_metadata:{subject_syntax_types_supported:["did:dht","did:jwk"]}})})},encryptAuthRequest:function K3e({jwt:n,encryptionKey:r}){return gu(this,void 0,void 0,function*(){const t={alg:"dir",cty:"JWT",enc:"XC20P",typ:"JWT"},i=zo.randomBytes(24),s=hn.object(t).toUint8Array(),o=hn.string(n).toUint8Array(),c=qN(r,i,s).encrypt(o),_=c.subarray(0,-16),E=c.subarray(-16);return[hn.object(t).toBase64Url(),"",hn.uint8Array(i).toBase64Url(),hn.uint8Array(_).toBase64Url(),hn.uint8Array(E).toBase64Url()].join(".")})},getAuthRequest:(n,r)=>gu(void 0,void 0,void 0,function*(){const s=Gae({jwe:yield(yield fetch(n)).text(),encryption_key:r});return yield Hae({jwt:s})}),decryptAuthRequest:Gae,createPermissionGrants:function tIe(n,r,t,i){return gu(this,void 0,void 0,function*(){const s=new xp({agent:t});$s.log(`Creating permission grants for ${i.length} scopes given...`);const o=yield Promise.all(i.map(c=>{const _=function eIe(n){return!!function CMe(n){return n.interface===Sr.Records}(n)||n.interface===Sr.Protocols&&n.method===dr.Configure}(c);return s.createGrant({delegated:_,store:!0,grantedTo:r.uri,scope:c,dateExpires:"2040-06-25T16:09:16.693356Z",author:n})}));$s.log(`Sending ${o.length} permission grants to remote DWN...`);const a=o.map(c=>gu(this,void 0,void 0,function*(){const _=c.message,{encodedData:E}=_,m=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(_,["encodedData"]),j=hn.base64Url(E).toUint8Array(),{reply:oe}=yield t.sendDwnRequest({author:n,target:n,messageType:fr.RecordsWrite,dataStream:new Blob([j]),rawMessage:m});if(202!==oe.status.code&&409!==oe.status.code)throw $s.error(`Error sending RecordsWrite: ${oe.status.detail}`),$s.error(`RecordsWrite message: ${m}`),new Error(`Could not send the message. Error details: ${oe.status.detail}`);return c.message}));try{return yield Promise.all(a)}catch(c){throw $s.error(`Error during batch-send of permission grants: ${c}`),c}})},createResponseObject:function q3e(n){return gu(this,void 0,void 0,function*(){const r=Math.floor(Date.now()/1e3);return Object.assign(Object.assign({},n),{iat:r,exp:r+600})})},encryptAuthResponse:function Q3e({jwt:n,encryptionKey:r,delegateDidKeyId:t,randomPin:i}){const s={alg:"dir",cty:"JWT",enc:"XC20P",typ:"JWT",kid:t},o=zo.randomBytes(24),a=hn.object(Object.assign(Object.assign({},s),{pin:i})).toUint8Array(),c=hn.string(n).toUint8Array(),E=qN(r,o,a).encrypt(c),m=E.subarray(0,-16),j=E.subarray(-16);return[hn.object(s).toBase64Url(),"",hn.uint8Array(o).toBase64Url(),hn.uint8Array(m).toBase64Url(),hn.uint8Array(j).toBase64Url()].join(".")},decryptAuthResponse:function Z3e(n,r,t){return gu(this,void 0,void 0,function*(){const[i,,s,o,a]=r.split("."),c=hn.base64Url(i).toObject(),_=yield Ku.resolve(c.kid.split("#")[0]),E=yield yu.deriveSharedKey(n,_.didDocument),m=Object.assign(Object.assign({},c),{pin:t}),j=hn.object(m).toUint8Array(),oe=hn.base64Url(s).toUint8Array(),le=hn.base64Url(o).toUint8Array(),ue=hn.base64Url(a).toUint8Array(),pe=new Uint8Array([...le,...ue]),Oe=qN(E,oe,j).decrypt(pe);return hn.uint8Array(Oe).toString()})},deriveSharedKey:function J3e(n,r){var t,i;return gu(this,void 0,void 0,function*(){const s=yield n.export(),o=null===(t=r.verificationMethod)||void 0===t?void 0:t[0].publicKeyJwk,a=null===(i=s.privateKeys)||void 0===i?void 0:i[0];o.alg="EdDSA";const c=yield ns.convertPublicKeyToX25519({publicKey:o}),_=yield ns.convertPrivateKeyToX25519({privateKey:a}),E=yield Ed.sharedSecret({privateKeyA:_,publicKeyB:c}),m=yield crypto.subtle.importKey("raw",E,{name:"HKDF"},!1,["deriveBits"]),j=yield crypto.subtle.deriveBits({name:"HKDF",hash:"SHA-256",info:new Uint8Array,salt:new Uint8Array},m,256);return new Uint8Array(j)})},signJwt:function X3e({did:n,data:r}){return gu(this,void 0,void 0,function*(){const t=hn.object({alg:"EdDSA",kid:n.document.verificationMethod[0].id,typ:"JWT"}).toBase64Url(),i=hn.object(r).toBase64Url(),o=yield(yield n.getSigner()).sign({data:hn.string(`${t}.${i}`).toUint8Array()});return`${t}.${i}.${hn.uint8Array(o).toBase64Url()}`})},verifyJwt:Hae,buildOidcUrl:function H3e({baseURL:n,endpoint:r,authParam:t,tokenParam:i}){switch(r){case"pushedAuthorizationRequest":return Fw(n,"par");case"authorize":if(!t)throw new Error("authParam must be providied when building a token URL");return Fw(n,`authorize/${t}.jwt`);case"callback":return Fw(n,"callback");case"token":if(!i)throw new Error("tokenParam must be providied when building a token URL");return Fw(n,`token/${i}.jwt`);default:throw new Error(`No matches for endpoint specified: ${r}`)}},generateCodeChallenge:function G3e(){return gu(this,void 0,void 0,function*(){const n=zo.randomBytes(32),r=yield F2.digest({data:n});return{codeChallengeBytes:r,codeChallengeBase64Url:hn.uint8Array(r).toBase64Url()}})},submitAuthResponse:function rIe(n,r,t,i){return gu(this,void 0,void 0,function*(){const s=yield Ku.create(),o=yield s.export(),a=r.permissionRequests.map(ue=>gu(this,void 0,void 0,function*(){const{protocolDefinition:pe,permissionScopes:we}=ue;if(!we.every(Ie=>"protocol"in Ie&&Ie.protocol===pe.protocol))throw new Error("All permission scopes must match the protocol uri they are provided with.");return yield function nIe(n,r,t){return gu(this,void 0,void 0,function*(){const i=yield r.processDwnRequest({author:n,messageType:fr.ProtocolsQuery,target:n,messageParams:{filter:{protocol:t.protocol}}});if(200!==i.reply.status.code)throw new Error(`Could not fetch protocol: ${i.reply.status.detail}`);if(void 0===i.reply.entries||0===i.reply.entries.length){$s.log(`Protocol does not exist, creating: ${t.protocol}`);const{reply:s,message:o}=yield r.sendDwnRequest({author:n,target:n,messageType:fr.ProtocolsConfigure,messageParams:{definition:t}});if(202!==s.status.code&&409!==s.status.code)throw new Error(`Could not send protocol: ${s.status.detail}`);yield r.processDwnRequest({author:n,target:n,messageType:fr.ProtocolsConfigure,rawMessage:o})}else{$s.log(`Protocol already exists: ${t.protocol}`);const s=i.reply.entries[0],{reply:o}=yield r.sendDwnRequest({author:n,target:n,messageType:fr.ProtocolsConfigure,rawMessage:s});if(202!==o.status.code&&409!==o.status.code)throw new Error(`Could not send protocol: ${o.status.detail}`)}})}(n,i,pe),yield yu.createPermissionGrants(n,s,i,we)})),c=(yield Promise.all(a)).flat();$s.log("Generating auth response object...");const _=yield yu.createResponseObject({iss:n,sub:s.uri,aud:r.client_id,nonce:r.nonce,delegateGrants:c,delegatePortableDid:o});$s.log("Signing auth response object...");const E=yield yu.signJwt({did:s,data:_}),m=yield Ku.resolve(r.client_id),j=yield yu.deriveSharedKey(s,m?.didDocument);$s.log("Encrypting auth response object...");const oe=yu.encryptAuthResponse({jwt:E,encryptionKey:j,delegateDidKeyId:s.document.verificationMethod[0].id,randomPin:t}),le=new URLSearchParams({id_token:oe,state:r.state}).toString();$s.log(`Sending auth response object to Web5 Connect server: ${r.redirect_uri}`),yield fetch(r.redirect_uri,{body:le,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}})})}};const Wae={initClient:function sIe({displayName:n,connectServerUrl:r,walletUri:t,permissionRequests:i,onWalletUriReady:s,validatePin:o}){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const a=yield Ku.create(),c=zo.randomBytes(32),_=yu.buildOidcUrl({baseURL:r,endpoint:"callback"}),E=yield yu.createAuthRequest({client_id:a.uri,scope:"openid did:jwk",redirect_uri:_,permissionRequests:i,displayName:n}),m=yield yu.signJwt({did:a,data:E});if(!m)throw new Error("Unable to sign requestObject");const j=yield yu.encryptAuthRequest({jwt:m,encryptionKey:c}),oe=new URLSearchParams({request:j}),le=yu.buildOidcUrl({baseURL:r,endpoint:"pushedAuthorizationRequest"}),ue=yield fetch(le,{body:oe,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!ue.ok)throw new Error(`${ue.status}: ${ue.statusText}`);const pe=yield ue.json();$s.log(`Wallet URI: ${t}`);const we=new URL(t);we.searchParams.set("request_uri",pe.request_uri),we.searchParams.set("encryption_key",hn.uint8Array(c).toBase64Url()),s(we.toString());const Oe=yu.buildOidcUrl({baseURL:r,endpoint:"token",tokenParam:E.state}),Pe=yield function xMe(n,r=3e3,t=3e5,i){const s=Date.now()+t;let o=null,a=!0;return new Promise((c,_)=>{i&&i.addEventListener("abort",()=>{a=!1,null!==o&&clearTimeout(o),console.log("Polling aborted by user"),c(null)}),function E(){return hW(this,void 0,void 0,function*(){if(!a)return;const m=s-Date.now();if(m<=0)return a=!1,console.log("Polling stopped: TTL reached"),void c(null);console.log(`Polling... (Remaining time: ${Math.ceil(m/1e3)}s)`);try{const j=yield n();if(j.ok)return a=!1,null!==o&&clearTimeout(o),console.log("Polling stopped: Success condition met"),void c(j)}catch(j){console.error("Error fetching data:",j),_(j)}a&&(o=setTimeout(E,r))})}()})}(()=>fetch(Oe));if(Pe){const Ie=yield Pe?.text(),$e=yield o(),Je=yield yu.decryptAuthResponse(a,Ie,$e),Qe=yield yu.verifyJwt({jwt:Je});return{delegateGrants:Qe.delegateGrants,delegatePortableDid:Qe.delegatePortableDid,connectedDid:Qe.iss}}})},createPermissionRequestForProtocol:function oIe({definition:n,permissions:r}){const t=[];t.push({protocol:n.protocol,interface:Sr.Protocols,method:dr.Query}),t.push({protocol:n.protocol,interface:Sr.Messages,method:dr.Read},{protocol:n.protocol,interface:Sr.Messages,method:dr.Query},{protocol:n.protocol,interface:Sr.Messages,method:dr.Subscribe});for(const i of r)switch(i){case"write":t.push({protocol:n.protocol,interface:Sr.Records,method:dr.Write});break;case"read":t.push({protocol:n.protocol,interface:Sr.Records,method:dr.Read});break;case"delete":t.push({protocol:n.protocol,interface:Sr.Records,method:dr.Delete});break;case"query":t.push({protocol:n.protocol,interface:Sr.Records,method:dr.Query});break;case"subscribe":t.push({protocol:n.protocol,interface:Sr.Records,method:dr.Subscribe});break;case"configure":t.push({protocol:n.protocol,interface:Sr.Protocols,method:dr.Configure})}return{protocolDefinition:n,permissionScopes:t}}};var Kae=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class cIe{constructor(r){this.agent=r.agent,this.connectedDid=r.connectedDid}create(r){return Kae(this,void 0,void 0,function*(){const t=yield this.agent.processDidRequest({messageType:iI.Create,messageParams:Object.assign({},r)}),{result:i}=t,s=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["result"]);return Object.assign({did:i},s)})}resolve(r,t){return Kae(this,void 0,void 0,function*(){const{result:i}=yield this.agent.processDidRequest({messageParams:{didUri:r,options:t},messageType:iI.Resolve});return i})}}function qae(n,r){let t;const i=A2(n);if("text/plain"===r||"String"===i)t=new Blob([n],{type:"text/plain"});else if("application/json"===r||"Object"===i){const s=hn.object(n).toUint8Array();t=new Blob([s],{type:"application/json"})}else if("Uint8Array"===i||"ArrayBuffer"===i)t=new Blob([n],{type:"application/octet-stream"});else{if("Blob"!==i)throw new Error("data type not supported.");t=n}return{dataBlob:t,dataFormat:r=r||t.type||"application/octet-stream"}}class vh{static check(r,t){let i=vh.cache.get(r);return!!i&&i.has(t)}static set(r,t){let i=vh.cache.get(r)||new Set;if(vh.cache.delete(r),vh.cache.set(r,i),this.cache.size>vh.sendCacheLimit){const s=vh.cache.keys().next().value;vh.cache.delete(s)}if(i.delete(t),i.add(t),i.size>vh.sendCacheLimit){const s=i.keys().next().value;i.delete(s)}}}vh.cache=new Map,vh.sendCacheLimit=100;var vu=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Xae=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};let XN=(()=>{class n{get _recordsWriteDescriptor(){if(gW(fr.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this.deleted?this._initialWrite.contextId:this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.dataFormat}get dataCid(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.dataCid}get dataSize(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.dataSize}get datePublished(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.datePublished}get published(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.published}get tags(){var t;return null===(t=this._recordsWriteDescriptor)||void 0===t?void 0:t.tags}get author(){return this._author}get creator(){return this._creator}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return gW(fr.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let i;return i=this._descriptor.interface+this._descriptor.method===fr.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),k2(i),i}constructor(t,i,s){this._agent=t,this._author=i.author,this._creator=i.initialWrite?mC(i.initialWrite):i.author,this._connectedDid=i.connectedDid,this._delegateDid=i.delegateDid,this._permissionsApi=s??new xp({agent:t}),this._remoteOrigin=i.remoteOrigin,this._attestation=i.attestation,this._authorization=i.authorization,this._contextId=i.contextId,this._descriptor=i.descriptor,this._encryption=i.encryption,this._initialWrite=i.initialWrite,this._recordId=this.isRecordsDeleteDescriptor(i.descriptor)?i.descriptor.recordId:i.recordId,this._protocolRole=i.protocolRole,i.encodedData&&(this._encodedData="string"==typeof i.encodedData?new Blob([hn.base64Url(i.encodedData).toUint8Array()],{type:this.dataFormat}):i.encodedData),i.data&&(this._readableStream=Wl.isReadableStream(i.data)?Wa.fromWebReadable({readableStream:i.data}):i.data)}get data(){const t=this;return{blob(){return vu(this,void 0,void 0,function*(){return new Blob([yield Wa.consumeToBytes({readable:yield this.stream()})],{type:t.dataFormat})})},bytes(){return vu(this,void 0,void 0,function*(){return yield Wa.consumeToBytes({readable:yield this.stream()})})},json(){return vu(this,void 0,void 0,function*(){return yield Wa.consumeToJson({readable:yield this.stream()})})},text(){return vu(this,void 0,void 0,function*(){return yield Wa.consumeToText({readable:yield this.stream()})})},stream(){return vu(this,void 0,void 0,function*(){if(t._encodedData?t._readableStream=Wa.fromWebReadable({readableStream:t._encodedData.stream()}):Wa.isReadable({readable:t._readableStream})||(t._readableStream=t._remoteOrigin?yield t.readRecordData({target:t._remoteOrigin,isRemote:!0}):yield t.readRecordData({target:t._connectedDid,isRemote:!1})),!t._readableStream)throw new Error("Record data is not available.");return t._readableStream})},then(s,o){return this.stream().then(s,o)},catch(s){return this.stream().catch(s)}}}store(t=!1){return vu(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:t,store:!0})})}import(t=!0){return vu(this,void 0,void 0,function*(){return this.processRecord({store:t,signAsOwner:!0})})}send(t){return vu(this,void 0,void 0,function*(){const i=this._initialWrite;if(t??(t=this._connectedDid),i&&!n._sendCache.check(this._recordId,t)){const a=Object.assign({},i);k2(a),yield this._agent.sendDwnRequest({messageType:fr.RecordsWrite,author:this._connectedDid,target:t,rawMessage:a}),n._sendCache.set(this._recordId,t)}let s;s=this.deleted?{messageType:fr.RecordsDelete,author:this._connectedDid,target:t,rawMessage:Object.assign({},this.rawMessage)}:{messageType:fr.RecordsWrite,author:this._connectedDid,target:t,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:o}=yield this._agent.sendDwnRequest(s);return o})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let t="Record: {\n";return t+=`  ID: ${this.id}\n`,t+=this.contextId?`  Context ID: ${this.contextId}\n`:"",t+=this.protocol?`  Protocol: ${this.protocol}\n`:"",t+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(t+=`  Data CID: ${this.dataCid}\n`,t+=`  Data Format: ${this.dataFormat}\n`,t+=`  Data Size: ${this.dataSize}\n`),t+=`  Deleted: ${this.deleted}\n`,t+=`  Created: ${this.dateCreated}\n`,t+=`  Modified: ${this.dateModified}\n`,t+="}",t}paginationCursor(t){return vu(this,void 0,void 0,function*(){return gW(fr.RecordsWrite,this.rawMessage)?function wMe(n,r){return hW(this,void 0,void 0,function*(){const t=r===tf.CreatedAscending||r===tf.CreatedDescending?n.descriptor.dateCreated:n.descriptor.datePublished;if(void 0===t)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield _Me(n),value:t}})}(this.rawMessage,t):void 0})}update(t){var{dateModified:i,data:s,protocolRole:o,store:a=!0}=t,c=Xae(t,["dateModified","data","protocolRole","store"]);return vu(this,void 0,void 0,function*(){if(this.deleted)throw new Error("Record: Cannot revive a deleted record.");const _=this._recordsWriteDescriptor,{parentId:E}=_,m=Xae(_,["parentId"]),j=E?this._contextId.split("/").slice(0,-1).join("/"):void 0;let le,oe=Object.assign(Object.assign(Object.assign({},m),c),{parentContextId:j,protocolRole:o??this._protocolRole,messageTimestamp:i,recordId:this._recordId});($T(oe.tags)||null===oe.tags)&&delete oe.tags,void 0!==s&&(delete oe.dataCid,delete oe.dataSize,({dataBlob:le}=qae(s,oe.dataFormat)));const ue=new Set(["data","dataCid","dataFormat","dataSize","datePublished","messageTimestamp","published","tags"]);n.verifyPermittedMutation(Object.keys(c),ue),!1===c.published&&void 0!==oe.datePublished&&delete oe.datePublished;const pe={author:this._connectedDid,dataStream:le,messageParams:Object.assign({},oe),messageType:fr.RecordsWrite,target:this._connectedDid,store:a};if(this._delegateDid){const{message:$e}=yield this._permissionsApi.getPermissionForRequest({connectedDid:this._connectedDid,delegateDid:this._delegateDid,protocol:this.protocol,delegate:!0,cached:!0,messageType:pe.messageType});pe.messageParams.delegatedGrant=$e,pe.granteeDid=this._delegateDid}const we=yield this._agent.processDwnRequest(pe),{message:Oe,reply:{status:Pe}}=we,Ie=Oe;return 200<=Pe.code&&Pe.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Ie.authorization,this._protocolRole=oe.protocolRole,ue.forEach($e=>{this._descriptor[$e]=Ie.descriptor[$e]}),void 0!==s&&(this._encodedData=le)),{status:Pe}})}delete(t){var i;return vu(this,void 0,void 0,function*(){const{store:s=!0,signAsOwner:o,dateModified:a,prune:c=!1}=t||{},_=o&&void 0===this._delegateDid,E=o&&void 0!==this._delegateDid;if(this.deleted&&!this._initialWrite)throw new Error("Record: Record is in an invalid state, initial write is missing.");this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),yield this.processInitialWriteIfNeeded({store:s,signAsOwner:o});let m={messageType:fr.RecordsDelete,author:this._connectedDid,target:this._connectedDid,signAsOwner:_,signAsOwnerDelegate:E,store:s};const j=!!t?.protocolRole&&function bMe(n){const r=vo.decodePlainObjectPayload(n.authorization.signature);return r?.protocolRole}(this.rawMessage)!==t.protocolRole;if(this.deleted&&!j?m.rawMessage=this.rawMessage:m.messageParams={prune:c,recordId:this._recordId,messageTimestamp:a,protocolRole:null!==(i=t?.protocolRole)&&void 0!==i?i:this._protocolRole},this._delegateDid){const{message:pe}=yield this._permissionsApi.getPermissionForRequest({connectedDid:this._connectedDid,delegateDid:this._delegateDid,protocol:this.protocol,delegate:!0,cached:!0,messageType:m.messageType});m.messageParams=Object.assign(Object.assign({},m.messageParams),{delegatedGrant:pe}),m.granteeDid=this._delegateDid}const oe=yield this._agent.processDwnRequest(m),{message:le,reply:{status:ue}}=oe;return 202!==ue.code||(this._author=mC(le),this._descriptor=le.descriptor,this._authorization=le.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0,this._contextId=void 0),{status:ue}})}processInitialWriteIfNeeded({store:t,signAsOwner:i}){return vu(this,void 0,void 0,function*(){if(this.initialWrite&&(i&&!this._initialWriteSigned||t&&!this._initialWriteStored)){const a={messageType:fr.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:i&&void 0===this._delegateDid,signAsOwnerDelegate:i&&void 0!==this._delegateDid,store:t};if(this._delegateDid){const{message:j}=yield this._permissionsApi.getPermissionForRequest({connectedDid:this._connectedDid,delegateDid:this._delegateDid,protocol:this.protocol,delegate:!0,cached:!0,messageType:a.messageType});a.messageParams=Object.assign(Object.assign({},a.messageParams),{delegatedGrant:j}),a.granteeDid=this._delegateDid}const c=yield this._agent.processDwnRequest(a),{message:_,reply:{status:E}}=c,m=_;200<=E.code&&E.code<=299&&(t&&(this._initialWriteStored=!0),i&&(this._initialWriteSigned=!0,this.initialWrite.authorization=m.authorization))}})}processRecord({store:t,signAsOwner:i}){return vu(this,void 0,void 0,function*(){const s=i&&void 0===this._delegateDid,o=i&&void 0!==this._delegateDid;let a;if(yield this.processInitialWriteIfNeeded({store:t,signAsOwner:i}),a=this.deleted?{messageType:fr.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:s,signAsOwnerDelegate:o,store:t}:{messageType:fr.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:s,signAsOwnerDelegate:o,store:t},this._delegateDid){const{message:j}=yield this._permissionsApi.getPermissionForRequest({connectedDid:this._connectedDid,delegateDid:this._delegateDid,protocol:this.protocol,delegate:!0,cached:!0,messageType:a.messageType});a.messageParams=Object.assign(Object.assign({},a.messageParams),{delegatedGrant:j}),a.granteeDid=this._delegateDid}const c=yield this._agent.processDwnRequest(a),{message:_,reply:{status:E}}=c;return 200<=E.code&&E.code<=299&&i&&(this._authorization=_.authorization),{status:E}})}readRecordData({target:t,isRemote:i}){return vu(this,void 0,void 0,function*(){const s={author:this._connectedDid,messageParams:{filter:{recordId:this.id},protocolRole:this._protocolRole},messageType:fr.RecordsRead,target:t};if(this._delegateDid)try{const{message:a}=yield this._permissionsApi.getPermissionForRequest({connectedDid:this._connectedDid,delegateDid:this._delegateDid,protocol:this.protocol,delegate:!0,cached:!0,messageType:s.messageType});s.messageParams=Object.assign(Object.assign({},s.messageParams),{delegatedGrant:a}),s.granteeDid=this._delegateDid}catch{s.author=this._delegateDid}const o=i?this._agent.sendDwnRequest(s):this._agent.processDwnRequest(s);try{const{reply:{status:a,entry:c}}=yield o;if(200!==a.code)throw new Error(`${a.code}: ${a.detail}`);const _=c.data;return Wl.isReadableStream(_)?Wa.fromWebReadable({readableStream:_}):_}catch(a){throw new Error(`Error encountered while attempting to read data: ${a.message}`)}})}static verifyPermittedMutation(t,i){for(const s of t)if(!i.has(s))throw new Error(`${s} is an immutable property. Its value cannot be changed.`)}isRecordsDeleteDescriptor(t){return t.interface+t.method===fr.RecordsDelete}}return n._sendCache=vh,n})();class Yae{constructor(r,t,i){this._agent=r,this._metadata=i,this._protocolsConfigureMessage=t}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const{reply:t}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:fr.ProtocolsConfigure,target:r});return{status:t.status}})}}var ZW=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Zae=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class JW{constructor(r,t){this._permissions=r,this._connectedDid=t.connectedDid,this._message=t.message}get author(){return mC(this._message)}static parse({connectedDid:r,agent:t,message:i}){return ZW(this,void 0,void 0,function*(){const s=new xp({agent:t});return new JW(s,{connectedDid:r,message:i})})}get agent(){return this._permissions.agent}get rawMessage(){return this._message}send(r){return ZW(this,void 0,void 0,function*(){r??(r=this._connectedDid);const t=this._message,{encodedData:i}=t,s=Zae(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),a={messageType:fr.RecordsWrite,author:this._connectedDid,target:r,dataStream:o,rawMessage:s},{reply:c}=yield this.agent.sendDwnRequest(a);return c})}store(r){return ZW(this,void 0,void 0,function*(){const t=this.rawMessage,{encodedData:i}=t,s=Zae(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),{reply:a,message:c}=yield this.agent.processDwnRequest({author:this._connectedDid,target:this._connectedDid,messageType:fr.RecordsWrite,signAsOwner:r,rawMessage:s,dataStream:o});return this._message=Object.assign(Object.assign({},c),{encodedData:i}),{status:a.status}})}}var _I=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},QW=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class wC{constructor({api:r,connectedDid:t,message:i,grant:s}){this._permissions=r,this._connectedDid=t,this._message=i,this._grant=s}static parse(r){return _I(this,void 0,void 0,function*(){const t=yield id.parse(r.message),i=new xp({agent:r.agent});return new wC(Object.assign(Object.assign({},r),{grant:t,api:i}))})}get agent(){return this._permissions.agent}get id(){return this._grant.id}get grantor(){return this._grant.grantor}get grantee(){return this._grant.grantee}get dateGranted(){return this._grant.dateGranted}get description(){return this._grant.description}get requestId(){return this._grant.requestId}get dateExpires(){return this._grant.dateExpires}get delegated(){return this._grant.delegated}get scope(){return this._grant.scope}get conditions(){return this._grant.conditions}get rawMessage(){return this._message}send(r){return _I(this,void 0,void 0,function*(){r??(r=this._connectedDid);const t=this._message,{encodedData:i}=t,s=QW(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),a={messageType:fr.RecordsWrite,author:this._connectedDid,target:r,dataStream:o,rawMessage:s},{reply:c}=yield this.agent.sendDwnRequest(a);return c})}store(r=!1){return _I(this,void 0,void 0,function*(){const t=this.rawMessage,{encodedData:i}=t,s=QW(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),{reply:a,message:c}=yield this.agent.processDwnRequest({store:!0,author:this._connectedDid,target:this._connectedDid,messageType:fr.RecordsWrite,signAsOwner:r,rawMessage:s,dataStream:o});return this._message=Object.assign(Object.assign({},c),{encodedData:i}),{status:a.status}})}import(r=!1){return _I(this,void 0,void 0,function*(){const t=this.rawMessage,{encodedData:i}=t,s=QW(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),{reply:a,message:c}=yield this.agent.processDwnRequest({store:r,author:this._connectedDid,target:this._connectedDid,messageType:fr.RecordsWrite,signAsOwner:!0,rawMessage:s,dataStream:o});return this._message=Object.assign(Object.assign({},c),{encodedData:i}),{status:a.status}})}revoke(r=!0){return _I(this,void 0,void 0,function*(){const t=yield this._permissions.createRevocation({store:r,author:this._connectedDid,grant:this._grant});return JW.parse({connectedDid:this._connectedDid,agent:this.agent,message:t.message})})}isRevoked(r=!1){return this._permissions.isGrantRevoked({author:this._connectedDid,target:this.grantor,grantRecordId:this.id,remote:r})}toJSON(){return{id:this.id,grantor:this.grantor,grantee:this.grantee,dateGranted:this.dateGranted,description:this.description,requestId:this.requestId,dateExpires:this.dateExpires,delegated:this.delegated,scope:this.scope,conditions:this.conditions}}}var YN=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},Jae=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class ZN{constructor({api:r,connectedDid:t,message:i,request:s}){this._permissions=r,this._connectedDid=t,this._request=s,this._message=i}static parse({connectedDid:r,agent:t,message:i}){return YN(this,void 0,void 0,function*(){const s=yield rC.parse(i),o=new xp({agent:t});return new ZN({api:o,connectedDid:r,message:i,request:s})})}get agent(){return this._permissions.agent}get id(){return this._request.id}get requester(){return this._request.requester}get description(){return this._request.description}get delegated(){return this._request.delegated}get scope(){return this._request.scope}get conditions(){return this._request.conditions}get rawMessage(){return this._message}send(r){return YN(this,void 0,void 0,function*(){r??(r=this._connectedDid);const t=this._message,{encodedData:i}=t,s=Jae(t,["encodedData"]),o=new Blob([hn.base64Url(i).toUint8Array()]),a={messageType:fr.RecordsWrite,author:this._connectedDid,target:r,dataStream:o,rawMessage:s},{reply:c}=yield this.agent.sendDwnRequest(a);return c})}store(){return YN(this,void 0,void 0,function*(){const r=this.rawMessage,{encodedData:t}=r,i=Jae(r,["encodedData"]),s=new Blob([hn.base64Url(t).toUint8Array()]),{reply:o,message:a}=yield this.agent.processDwnRequest({author:this._connectedDid,target:this._connectedDid,messageType:fr.RecordsWrite,rawMessage:i,dataStream:s});return this._message=Object.assign(Object.assign({},a),{encodedData:t}),{status:o.status}})}grant(r,t=!0){return YN(this,void 0,void 0,function*(){const{message:i}=yield this._permissions.createGrant({requestId:this.id,grantedTo:this.requester,scope:this.scope,delegated:this.delegated,author:this._connectedDid,store:t,dateExpires:r});return wC.parse({connectedDid:this._connectedDid,agent:this.agent,message:i})})}toJSON(){return this._request}}class uIe{static recordSubscriptionHandler({agent:r,connectedDid:t,request:i,delegateDid:s,protocolRole:o,permissionsApi:a}){const{subscriptionHandler:c,from:_}=i;return E=>function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const{message:m,initialWrite:j}=E,le={author:mC(m),connectedDid:t,remoteOrigin:_,initialWrite:j},ue=new XN(r,Object.assign(Object.assign(Object.assign({},m),le),{protocolRole:o,delegateDid:s}),a);c(ue)})}}var mf=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})},eK=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class fIe{constructor(r){this.agent=r.agent,this.connectedDid=r.connectedDid,this.delegateDid=r.delegateDid,this.permissionsApi=new xp({agent:this.agent})}get permissions(){return{request:r=>mf(this,void 0,void 0,function*(){var t,i;const{message:s}=yield this.permissionsApi.createRequest(Object.assign(Object.assign({},r),{author:null!==(t=this.delegateDid)&&void 0!==t?t:this.connectedDid})),o={connectedDid:null!==(i=this.delegateDid)&&void 0!==i?i:this.connectedDid,agent:this.agent,message:s};return yield ZN.parse(o)}),grant:r=>mf(this,void 0,void 0,function*(){var t,i;const{message:s}=yield this.permissionsApi.createGrant(Object.assign(Object.assign({},r),{author:null!==(t=this.delegateDid)&&void 0!==t?t:this.connectedDid})),o={connectedDid:null!==(i=this.delegateDid)&&void 0!==i?i:this.connectedDid,agent:this.agent,message:s};return yield wC.parse(o)}),queryRequests:(r={})=>mf(this,void 0,void 0,function*(){var t,i,s;const{from:o}=r,a=eK(r,["from"]),c=yield this.permissionsApi.fetchRequests(Object.assign(Object.assign({},a),{author:null!==(t=this.delegateDid)&&void 0!==t?t:this.connectedDid,target:null!==(i=o??this.delegateDid)&&void 0!==i?i:this.connectedDid,remote:void 0!==o})),_=[];for(const E of c){const m={connectedDid:null!==(s=this.delegateDid)&&void 0!==s?s:this.connectedDid,agent:this.agent,message:E.message};_.push(yield ZN.parse(m))}return _}),queryGrants:(r={})=>mf(this,void 0,void 0,function*(){var t,i,s;const{checkRevoked:o,from:a}=r,c=eK(r,["checkRevoked","from"]),_=void 0!==a,E=null!==(t=this.delegateDid)&&void 0!==t?t:this.connectedDid,m=null!==(i=a??this.delegateDid)&&void 0!==i?i:this.connectedDid,j=yield this.permissionsApi.fetchGrants(Object.assign(Object.assign({},c),{author:E,target:m,remote:_})),oe=[];for(const le of j){const ue={connectedDid:null!==(s=this.delegateDid)&&void 0!==s?s:this.connectedDid,agent:this.agent,message:le.message};if(o){const pe=le.grant.id;if(yield this.permissionsApi.isGrantRevoked({author:E,target:m,grantRecordId:pe,remote:_}))continue}oe.push(yield wC.parse(ue))}return oe})}}get protocols(){return{configure:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.ProtocolsConfigure,target:this.connectedDid};if(this.delegateDid){const{message:_}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.message.definition.protocol,delegate:!0,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{delegatedGrant:_}),t.granteeDid=this.delegateDid}const i=yield this.agent.processDwnRequest(t),{message:s,messageCid:o,reply:{status:a}}=i,c={status:a};return a.code<300&&(c.protocol=new Yae(this.agent,s,{author:this.connectedDid,messageCid:o})),c}),query:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.ProtocolsQuery,target:r.from||this.connectedDid};if(this.delegateDid)try{const{grant:{id:_}}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.message.filter.protocol,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{permissionGrantId:_}),t.granteeDid=this.delegateDid}catch{t.author=this.delegateDid}let i;i=r.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const s=i.reply,{entries:o=[],status:a}=s;return{protocols:o.map(_=>new Yae(this.agent,_,{author:this.connectedDid})),status:a}})}}get records(){return{create:r=>mf(this,void 0,void 0,function*(){return this.records.write(r)}),createFrom:r=>mf(this,void 0,void 0,function*(){var t;const i=r.record.toJSON(),{author:s}=i,o=eK(i,["author"]);return void 0!==r.data&&(delete o.dataCid,delete o.dataSize),!1===(null===(t=r.message)||void 0===t?void 0:t.published)&&void 0!==o.datePublished&&(delete o.datePublished,delete o.published),(!$T(r.message)||r.author&&r.author!==s)&&delete o.recordId,this.records.write({data:r.data,message:Object.assign(Object.assign({},o),r.message)})}),delete:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.RecordsDelete,target:r.from||this.connectedDid};if(this.delegateDid){const{message:o}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.protocol,delegate:!0,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{delegatedGrant:o}),t.granteeDid=this.delegateDid}let i;i=r.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const{reply:{status:s}}=i;return{status:s}}),query:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.RecordsQuery,target:r.from||this.connectedDid};if(this.delegateDid)try{const{message:E}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.protocol,delegate:!0,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{delegatedGrant:E}),t.granteeDid=this.delegateDid}catch{t.author=this.delegateDid}let i;i=r.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const s=i.reply,{entries:o=[],status:a,cursor:c}=s;return{records:o.map(E=>{const m=Object.assign({author:mC(E),connectedDid:this.connectedDid,remoteOrigin:r.from,delegateDid:this.delegateDid,protocolRole:t.messageParams.protocolRole},E);return new XN(this.agent,m,this.permissionsApi)}),status:a,cursor:c}}),read:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.RecordsRead,target:r.from||this.connectedDid};if(this.delegateDid)try{const{message:c}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.protocol,delegate:!0,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{delegatedGrant:c}),t.granteeDid=this.delegateDid}catch{t.author=this.delegateDid}let i;i=r.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const{reply:{entry:s,status:o}}=i;let a;if(200<=o.code&&o.code<=299){const c=Object.assign({author:mC(s.recordsWrite),connectedDid:this.connectedDid,remoteOrigin:r.from,delegateDid:this.delegateDid,data:s.data,initialWrite:s.initialWrite},s.recordsWrite);a=new XN(this.agent,c,this.permissionsApi)}return{record:a,status:o}}),subscribe:r=>mf(this,void 0,void 0,function*(){const t={author:this.connectedDid,messageParams:r.message,messageType:fr.RecordsSubscribe,target:r.from||this.connectedDid,subscriptionHandler:uIe.recordSubscriptionHandler({agent:this.agent,connectedDid:this.connectedDid,delegateDid:this.delegateDid,permissionsApi:this.permissionsApi,protocolRole:r.message.protocolRole,request:r})};if(this.delegateDid)try{const{message:c}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.protocol,delegate:!0,cached:!0,messageType:t.messageType});t.messageParams=Object.assign(Object.assign({},t.messageParams),{delegatedGrant:c}),t.granteeDid=this.delegateDid}catch{t.author=this.delegateDid}let i;i=r.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const s=i.reply,{status:o,subscription:a}=s;return{status:o,subscription:a}}),write:r=>mf(this,void 0,void 0,function*(){var t;const{dataBlob:i,dataFormat:s}=qae(r.data,null===(t=r.message)||void 0===t?void 0:t.dataFormat),o={store:r.store,messageType:fr.RecordsWrite,messageParams:Object.assign(Object.assign({},r.message),{dataFormat:s}),author:this.connectedDid,target:this.connectedDid,dataStream:i};if(this.delegateDid){const{message:m}=yield this.permissionsApi.getPermissionForRequest({connectedDid:this.connectedDid,delegateDid:this.delegateDid,protocol:r.message.protocol,delegate:!0,cached:!0,messageType:o.messageType});o.messageParams=Object.assign(Object.assign({},o.messageParams),{delegatedGrant:m}),o.granteeDid=this.delegateDid}const a=yield this.agent.processDwnRequest(o),{message:c,reply:{status:_}}=a;let E;if(200<=_.code&&_.code<=299){const m=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:i,delegateDid:this.delegateDid},c);E=new XN(this.agent,m,this.permissionsApi)}return{record:E,status:_}})}}}class pIe{constructor(r){this.agent=r.agent,this.connectedDid=r.connectedDid}create(){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){throw new Error("Not implemented.")})}}var jm=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class wI{constructor(r){this._agentDid=r.agentDid,this.crypto=r.cryptoApi,this.did=r.didApi,this.dwn=r.dwnApi,this.identity=r.identityApi,this.keyManager=r.keyManager,this.permissions=r.permissionsApi,this.rpc=r.rpcClient,this.sync=r.syncApi,this.vault=r.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.permissions.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(r){this._agentDid=r}static create({dataPath:r="DATA/AGENT",agentDid:t,agentVault:i,cryptoApi:s,didApi:o,dwnApi:a,identityApi:c,keyManager:_,permissionsApi:E,rpcClient:m,syncApi:j}={}){return jm(this,void 0,void 0,function*(){return i??(i=new $W({keyDerivationWorkFactor:21e4,store:new VT({location:`${r}/VAULT_STORE`})})),s??(s=new hC),o??(o=new fW({didMethods:[Qf,Ku],resolverCache:new AN({location:`${r}/DID_RESOLVERCACHE`}),store:new uW})),a??(a=new Roe({dwn:yield Roe.createDwn({dataPath:r,didResolver:o})})),c??(c=new UW({store:new VW})),_??(_=new jw({keyStore:new n3e})),E??(E=new xp),m??(m=new m3e),j??(j=new v3e({syncEngine:new $w({dataPath:r})})),new wI({agentDid:t,agentVault:i,cryptoApi:s,didApi:o,dwnApi:a,keyManager:_,permissionsApi:E,identityApi:c,rpcClient:m,syncApi:j})})}firstLaunch(){return jm(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:r,recoveryPhrase:t,dwnEndpoints:i}){return jm(this,void 0,void 0,function*(){return t=yield this.vault.initialize({password:r,recoveryPhrase:t,dwnEndpoints:i})})}processDidRequest(r){return jm(this,void 0,void 0,function*(){return this.did.processRequest(r)})}processDwnRequest(r){return jm(this,void 0,void 0,function*(){return this.dwn.processRequest(r)})}processVcRequest(r){return jm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(r){return jm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(r){return jm(this,void 0,void 0,function*(){return this.dwn.sendRequest(r)})}sendVcRequest(r){return jm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:r}){return jm(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:r})),this.agentDid=yield this.vault.getDid()})}}var tK=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};class xI{constructor({agent:r,connectedDid:t,delegateDid:i}){this.agent=r,this.did=new cIe({agent:r,connectedDid:t}),this.dwn=new fIe({agent:r,connectedDid:t,delegateDid:i}),this.vc=new pIe({agent:r,connectedDid:t})}static connect({agent:r,agentVault:t,connectedDid:i,password:s,recoveryPhrase:o,sync:a,techPreview:c,didCreateOptions:_,registration:E,walletConnectOptions:m}={}){var j,oe,le;return tK(this,void 0,void 0,function*(){let ue;if(void 0===r){let we=!1;const Oe=yield wI.create({agentVault:t});r=Oe,void 0===s&&(s="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;"));const Pe=null!==(oe=null!==(j=c?.dwnEndpoints)&&void 0!==j?j:_?.dwnEndpoints)&&void 0!==oe?oe:["https://dwn.tbddev.org/beta"];(yield Oe.firstLaunch())&&(o=yield Oe.initialize({password:s,recoveryPhrase:o,dwnEndpoints:Pe})),yield Oe.start({password:s});const Ie=yield Oe.identity.connectedIdentity();let $e,Je=[];if(Ie)$e=Ie;else if(m){if("off"===a)throw new Error("Sync must not be disabled when using WalletConnect");we=!0;try{const{permissionRequests:Qe}=m,tt=function(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(m,["permissionRequests"]),ot=Qe.map(({protocolDefinition:Kt,permissions:Lt})=>Wae.createPermissionRequestForProtocol({definition:Kt,permissions:Lt??["read","write","delete","query","subscribe"]})),{delegatePortableDid:xt,connectedDid:Ct,delegateGrants:Tt}=yield Wae.initClient(Object.assign(Object.assign({},tt),{permissionRequests:ot}));$e=yield Oe.identity.import({portableIdentity:{portableDid:xt,metadata:{connectedDid:Ct,name:"Default",uri:xt.uri,tenant:r.agentDid.uri}}}),Je=yield this.processConnectedGrants({agent:r,delegateDid:xt.uri,grants:Tt})}catch(Qe){throw yield this.cleanUpIdentity({identity:$e,userAgent:Oe}),new Error(`Failed to connect to wallet: ${Qe.message}`)}}else{const Qe=yield Oe.identity.list();0===Qe.length?(we=!0,$e=yield Oe.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Pe,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}})):$e=Qe[0]}if(i=null!==(le=$e.metadata.connectedDid)&&void 0!==le?le:$e.did.uri,ue=$e.metadata.connectedDid?$e.did.uri:void 0,void 0!==E)try{for(const Qe of Pe)0!==(yield Oe.rpc.getServerInfo(Qe)).registrationRequirements.length&&(yield gC.registerTenant(Qe,r.agentDid.uri),yield gC.registerTenant(Qe,i));E.onSuccess()}catch(Qe){E.onFailure(Qe)}"off"!==a&&(we&&(yield Oe.sync.registerIdentity({did:i,options:{delegateDid:ue,protocols:Je}}),void 0!==m&&(yield Oe.sync.sync("pull"))),a??(a="2m"),Oe.sync.startSync({interval:a}).catch(Qe=>{console.error(`Sync failed: ${Qe}`)}))}return{web5:new xI({agent:r,connectedDid:i,delegateDid:ue}),did:i,delegateDid:ue,recoveryPhrase:o}})}static cleanUpIdentity({identity:r,userAgent:t}){return tK(this,void 0,void 0,function*(){try{yield t.did.delete({didUri:r.did.uri,tenant:r.metadata.tenant,deleteKey:!0})}catch(i){console.error(`Failed to delete DID ${r.did.uri}: ${i.message}`)}try{yield t.identity.delete({didUri:r.did.uri})}catch(i){console.error(`Failed to delete Identity ${r.metadata.name}: ${i.message}`)}})}static processConnectedGrants({grants:r,agent:t,delegateDid:i}){return tK(this,void 0,void 0,function*(){const s=new Set;for(const o of r){const a=yield wC.parse({connectedDid:i,agent:t,message:o}),{status:c}=yield a.store(!0);if(202!==c.code)throw new Error(`AgentDwnApi: Failed to process connected grant: ${c.detail}`);const _=a.scope.protocol;_&&s.add(_)}return[...s]})}}function QN(n,...r){if(!function yIe(n){return n instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name}(n))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(n.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${n.length}`)}function nK(n,r=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(r&&n.finished)throw new Error("Hash#digest() has already been called")}const xC="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,rK=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$m=(n,r)=>n<<32-r|n>>>r;function eB(n){return"string"==typeof n&&(n=function xIe(n){if("string"!=typeof n)throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array((new TextEncoder).encode(n))}(n)),QN(n),n}new Uint8Array(new Uint32Array([287454020]).buffer);class EIe{clone(){return this._cloneInto()}}function CIe(n){const r=i=>n().update(eB(i)).digest(),t=n();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>n(),r}const DIe=(n,r,t)=>n&r^~n&t,MIe=(n,r,t)=>n&r^n&t^r&t;class kIe extends EIe{constructor(r,t,i,s){super(),this.blockLen=r,this.outputLen=t,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=rK(this.buffer)}update(r){nK(this);const{view:t,buffer:i,blockLen:s}=this,o=(r=eB(r)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(r.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0);else{const _=rK(r);for(;s<=o-a;a+=s)this.process(_,a)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){nK(this),function Qae(n,r){QN(n);const t=r.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(r,this),this.finished=!0;const{buffer:t,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let j=a;j<s;j++)t[j]=0;(function TIe(n,r,t,i){if("function"==typeof n.setBigUint64)return n.setBigUint64(r,t,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(t>>s&o),c=Number(t&o),E=i?0:4;n.setUint32(r+(i?4:0),a,i),n.setUint32(r+E,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=rK(r),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=_/4,m=this.get();if(E>m.length)throw new Error("_sha2: outputLen bigger than state");for(let j=0;j<E;j++)c.setUint32(4*j,m[j],o)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const i=r.slice(0,t);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return r.length=s,r.pos=c,r.finished=o,r.destroyed=a,s%t&&r.buffer.set(i),r}}const IIe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bb=new Uint32Array(64);class tce extends kIe{constructor(){super(64,32,8,!1),this.A=0|vb[0],this.B=0|vb[1],this.C=0|vb[2],this.D=0|vb[3],this.E=0|vb[4],this.F=0|vb[5],this.G=0|vb[6],this.H=0|vb[7]}get(){const{A:r,B:t,C:i,D:s,E:o,F:a,G:c,H:_}=this;return[r,t,i,s,o,a,c,_]}set(r,t,i,s,o,a,c,_){this.A=0|r,this.B=0|t,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|_}process(r,t){for(let j=0;j<16;j++,t+=4)bb[j]=r.getUint32(t,!1);for(let j=16;j<64;j++){const oe=bb[j-15],le=bb[j-2],ue=$m(oe,7)^$m(oe,18)^oe>>>3,pe=$m(le,17)^$m(le,19)^le>>>10;bb[j]=pe+bb[j-7]+ue+bb[j-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:_,G:E,H:m}=this;for(let j=0;j<64;j++){const le=m+($m(c,6)^$m(c,11)^$m(c,25))+DIe(c,_,E)+IIe[j]+bb[j]|0,pe=($m(i,2)^$m(i,13)^$m(i,22))+MIe(i,s,o)|0;m=E,E=_,_=c,c=a+le|0,a=o,o=s,s=i,i=le+pe|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,_=_+this.F|0,E=E+this.G|0,m=m+this.H|0,this.set(i,s,o,a,c,_,E,m)}roundClean(){bb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const PIe=CIe(()=>new tce);function RIe(n,r=128){if(function JN(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}(r),r%32!=0||r>256)throw new TypeError("Invalid entropy");return function BIe(n,r){return function rce(n){QN(n,16,20,24,28,32)}(n),function ice(n){if(!Array.isArray(n)||2048!==n.length||"string"!=typeof n[0])throw new Error("Wordlist: expected array of 2048 strings");return n.forEach(r=>{if("string"!=typeof r)throw new Error(`Wordlist: non-string element: ${r}`)}),mb.chain(mb.checksum(1,FIe),mb.radix2(11,!0),mb.alphabet(n))}(r).encode(n).join((n=>"\u3042\u3044\u3053\u304f\u3057\u3093"===n[0])(r)?"\u3000":" ")}(function AIe(n=32){if(xC&&"function"==typeof xC.getRandomValues)return xC.getRandomValues(new Uint8Array(n));if(xC&&"function"==typeof xC.randomBytes)return xC.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}(r/8),n)}const FIe=n=>{const r=8-n.length/4;return new Uint8Array([PIe(n)[0]>>r<<r])};const LIe="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");let jIe=(()=>{class n{constructor(){}createPassword(t=6,i=128){return(0,Nn.A)(function*(){try{const s=RIe(LIe,i).split(" "),o=[];for(let a=0;a<t;a++){const c=Math.floor(Math.random()*s.length);o.push(s[c])}return o.join(" ")}catch(s){throw console.error(s),s}})()}encrypt(t,i){return this.deriveKey(i),t}encryptData(t,i){return(0,Nn.A)(function*(){})()}deriveKey(t){return(0,Nn.A)(function*(){return yield MO.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(t),salt:zo.randomBytes(16),iterations:1e3,length:256})})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oce=(()=>{class n{constructor(t,i){this.cryptoService=t,this.didService=i,this.syncInterval="15s",this.accounts={},this.preinitialized=(0,u.vPA)(!1),this.initialized=(0,u.vPA)(!1),this.locked=(0,u.vPA)(!0),this.didStorageKey="userDID",this.did=i.getDid()}activeAgent(){return this.web5.agent}initialConnect(t){var i=this;return(0,Nn.A)(function*(){try{console.log("Connecting to Web5...");const s=yield xI.connect({password:t,sync:i.syncInterval});return i.did=s.did,i.web5=s.web5,i.agent=s.web5.agent,i.updateInitializationState(!0),console.log("Web5 connected:",i.did),s}catch(s){return console.error("Failed to initialize Web5:",s),void i.updateInitializationState(!1,!0)}})()}connectWithIdentity(t){var i=this;return(0,Nn.A)(function*(){const s=yield i.cryptoService.createPassword(),o=new $W({keyDerivationWorkFactor:21e4,store:new VT({location:"DATA/AGENT/VAULT_STORE"})}),a=new fW({didMethods:[Qf,Ku],resolverCache:new AN({location:"DATA/AGENT/DID_RESOLVERCACHE"}),store:new uW});i.store=new VW,i.identityApi=new UW({store:i.store});const c=yield wI.create({didApi:a,identityApi:i.identityApi,agentVault:o});if(yield c.firstLaunch()){const m=yield c.initialize({password:s,dwnEndpoints:["https://dwn.tbddev.org/beta"]});console.log("Recovery Phrase:",m)}yield c.start({password:s});const E=yield c.identity.import({portableIdentity:t});return console.log("Imported identity:",E),yield c.sync.registerIdentity({did:E.did.uri}),i.web5=new xI({agent:c,connectedDid:E.did.uri}),{password:s,did:E.did.uri,web5:i.web5}})()}updateInitializationState(t,i=!1){this.initialized.set(t),this.locked.set(i),this.preinitialized.set(!0)}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(jIe),u.KVO(M1))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ace=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const $Ie=new ll;class Vw{static sign(r){return ace(this,void 0,void 0,function*(){const{signerDid:t,payload:i}=r,s=yield t.getSigner();let o=s.keyId;"#"===o.charAt(0)&&(o=`${t.uri}${o}`);const a=Object.assign({alg:s.algorithm,kid:o},r.header),E=`${hn.object(a).toBase64Url()}.${hn.object(i).toBase64Url()}`,m=hn.string(E).toUint8Array(),j=yield s.sign({data:m});return`${E}.${hn.uint8Array(j).toBase64Url()}`})}static verify(r){return ace(this,void 0,void 0,function*(){const{decoded:t,encoded:i}=Vw.parse({jwt:r.jwt});if(t.payload.exp&&Math.floor(Date.now()/1e3)>t.payload.exp)throw new Error("Verification failed: JWT is expired");const s=yield Vw.didResolver.dereference(t.header.kid);if(s.dereferencingMetadata.error)throw new Error(`Failed to resolve ${t.header.kid}`);const o=s.contentStream;if(!o||!r1(o))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const a=o.publicKeyJwk;if(!a)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if(a.alg&&a.alg!==t.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const _=hn.string(`${i.header}.${i.payload}`).toUint8Array(),E=hn.base64Url(i.signature).toUint8Array();if(!(yield $Ie.verify({key:a,signature:E,data:_})))throw new Error("Signature verification failed: Integrity mismatch");return t})}static parse(r){const t=r.jwt.split(".");if(3!==t.length)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${t.length}`);const[i,s,o]=t;let a,c;try{a=hn.base64Url(i).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!a.alg||!a.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{c=hn.base64Url(s).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:a,payload:c},encoded:{header:i,payload:s,signature:o}}}}function SC(n){let r=n.length;for(;--r>=0;)n[r]=0}Vw.didResolver=new kE({didResolvers:[Qf,vM,ME,Ku,_M]}),new(A(30720).E8);const dK=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tB=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),XIe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),gce=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dg=new Array(576);SC(Dg);const CI=new Array(60);SC(CI);const AI=new Array(512);SC(AI);const TI=new Array(256);SC(TI);const uK=new Array(29);SC(uK);const nB=new Array(30);function fK(n,r,t,i,s){this.static_tree=n,this.extra_bits=r,this.extra_base=t,this.elems=i,this.max_length=s,this.has_stree=n&&n.length}let yce,vce,bce;function hK(n,r){this.dyn_tree=n,this.max_code=0,this.stat_desc=r}SC(nB);const _ce=n=>n<256?AI[n]:AI[256+(n>>>7)],DI=(n,r)=>{n.pending_buf[n.pending++]=255&r,n.pending_buf[n.pending++]=r>>>8&255},bu=(n,r,t)=>{n.bi_valid>16-t?(n.bi_buf|=r<<n.bi_valid&65535,DI(n,n.bi_buf),n.bi_buf=r>>16-n.bi_valid,n.bi_valid+=t-16):(n.bi_buf|=r<<n.bi_valid&65535,n.bi_valid+=t)},Vm=(n,r,t)=>{bu(n,t[2*r],t[2*r+1])},wce=(n,r)=>{let t=0;do{t|=1&n,n>>>=1,t<<=1}while(--r>0);return t>>>1},xce=(n,r,t)=>{const i=new Array(16);let o,a,s=0;for(o=1;o<=15;o++)s=s+t[o-1]<<1,i[o]=s;for(a=0;a<=r;a++){let c=n[2*a+1];0!==c&&(n[2*a]=wce(i[c]++,c))}},Ece=n=>{let r;for(r=0;r<286;r++)n.dyn_ltree[2*r]=0;for(r=0;r<30;r++)n.dyn_dtree[2*r]=0;for(r=0;r<19;r++)n.bl_tree[2*r]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},Sce=n=>{n.bi_valid>8?DI(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},Cce=(n,r,t,i)=>{const s=2*r,o=2*t;return n[s]<n[o]||n[s]===n[o]&&i[r]<=i[t]},pK=(n,r,t)=>{const i=n.heap[t];let s=t<<1;for(;s<=n.heap_len&&(s<n.heap_len&&Cce(r,n.heap[s+1],n.heap[s],n.depth)&&s++,!Cce(r,i,n.heap[s],n.depth));)n.heap[t]=n.heap[s],t=s,s<<=1;n.heap[t]=i},Ace=(n,r,t)=>{let i,s,a,c,o=0;if(0!==n.sym_next)do{i=255&n.pending_buf[n.sym_buf+o++],i+=(255&n.pending_buf[n.sym_buf+o++])<<8,s=n.pending_buf[n.sym_buf+o++],0===i?Vm(n,s,r):(a=TI[s],Vm(n,a+256+1,r),c=dK[a],0!==c&&(s-=uK[a],bu(n,s,c)),i--,a=_ce(i),Vm(n,a,t),c=tB[a],0!==c&&(i-=nB[a],bu(n,i,c)))}while(o<n.sym_next);Vm(n,256,r)},mK=(n,r)=>{const t=r.dyn_tree,i=r.stat_desc.static_tree,s=r.stat_desc.has_stree,o=r.stat_desc.elems;let a,c,E,_=-1;for(n.heap_len=0,n.heap_max=573,a=0;a<o;a++)0!==t[2*a]?(n.heap[++n.heap_len]=_=a,n.depth[a]=0):t[2*a+1]=0;for(;n.heap_len<2;)E=n.heap[++n.heap_len]=_<2?++_:0,t[2*E]=1,n.depth[E]=0,n.opt_len--,s&&(n.static_len-=i[2*E+1]);for(r.max_code=_,a=n.heap_len>>1;a>=1;a--)pK(n,t,a);E=o;do{a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],pK(n,t,1),c=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=c,t[2*E]=t[2*a]+t[2*c],n.depth[E]=(n.depth[a]>=n.depth[c]?n.depth[a]:n.depth[c])+1,t[2*a+1]=t[2*c+1]=E,n.heap[1]=E++,pK(n,t,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((n,r)=>{const t=r.dyn_tree,i=r.max_code,s=r.stat_desc.static_tree,o=r.stat_desc.has_stree,a=r.stat_desc.extra_bits,c=r.stat_desc.extra_base,_=r.stat_desc.max_length;let E,m,j,oe,le,ue,pe=0;for(oe=0;oe<=15;oe++)n.bl_count[oe]=0;for(t[2*n.heap[n.heap_max]+1]=0,E=n.heap_max+1;E<573;E++)m=n.heap[E],oe=t[2*t[2*m+1]+1]+1,oe>_&&(oe=_,pe++),t[2*m+1]=oe,!(m>i)&&(n.bl_count[oe]++,le=0,m>=c&&(le=a[m-c]),ue=t[2*m],n.opt_len+=ue*(oe+le),o&&(n.static_len+=ue*(s[2*m+1]+le)));if(0!==pe){do{for(oe=_-1;0===n.bl_count[oe];)oe--;n.bl_count[oe]--,n.bl_count[oe+1]+=2,n.bl_count[_]--,pe-=2}while(pe>0);for(oe=_;0!==oe;oe--)for(m=n.bl_count[oe];0!==m;)j=n.heap[--E],!(j>i)&&(t[2*j+1]!==oe&&(n.opt_len+=(oe-t[2*j+1])*t[2*j],t[2*j+1]=oe),m--)}})(n,r),xce(t,_,n.bl_count)},Tce=(n,r,t)=>{let i,o,s=-1,a=r[1],c=0,_=7,E=4;for(0===a&&(_=138,E=3),r[2*(t+1)+1]=65535,i=0;i<=t;i++)o=a,a=r[2*(i+1)+1],!(++c<_&&o===a)&&(c<E?n.bl_tree[2*o]+=c:0!==o?(o!==s&&n.bl_tree[2*o]++,n.bl_tree[32]++):c<=10?n.bl_tree[34]++:n.bl_tree[36]++,c=0,s=o,0===a?(_=138,E=3):o===a?(_=6,E=3):(_=7,E=4))},Dce=(n,r,t)=>{let i,o,s=-1,a=r[1],c=0,_=7,E=4;for(0===a&&(_=138,E=3),i=0;i<=t;i++)if(o=a,a=r[2*(i+1)+1],!(++c<_&&o===a)){if(c<E)do{Vm(n,o,n.bl_tree)}while(0!=--c);else 0!==o?(o!==s&&(Vm(n,o,n.bl_tree),c--),Vm(n,16,n.bl_tree),bu(n,c-3,2)):c<=10?(Vm(n,17,n.bl_tree),bu(n,c-3,3)):(Vm(n,18,n.bl_tree),bu(n,c-11,7));c=0,s=o,0===a?(_=138,E=3):o===a?(_=6,E=3):(_=7,E=4)}};let Mce=!1;const kce=(n,r,t,i)=>{bu(n,0+(i?1:0),3),Sce(n),DI(n,t),DI(n,~t),t&&n.pending_buf.set(n.window.subarray(r,r+t),n.pending),n.pending+=t};var f8e={_tr_init:n=>{Mce||((()=>{let n,r,t,i,s;const o=new Array(16);for(t=0,i=0;i<28;i++)for(uK[i]=t,n=0;n<1<<dK[i];n++)TI[t++]=i;for(TI[t-1]=i,s=0,i=0;i<16;i++)for(nB[i]=s,n=0;n<1<<tB[i];n++)AI[s++]=i;for(s>>=7;i<30;i++)for(nB[i]=s<<7,n=0;n<1<<tB[i]-7;n++)AI[256+s++]=i;for(r=0;r<=15;r++)o[r]=0;for(n=0;n<=143;)Dg[2*n+1]=8,n++,o[8]++;for(;n<=255;)Dg[2*n+1]=9,n++,o[9]++;for(;n<=279;)Dg[2*n+1]=7,n++,o[7]++;for(;n<=287;)Dg[2*n+1]=8,n++,o[8]++;for(xce(Dg,287,o),n=0;n<30;n++)CI[2*n+1]=5,CI[2*n]=wce(n,5);yce=new fK(Dg,dK,257,286,15),vce=new fK(CI,tB,0,30,15),bce=new fK(new Array(0),XIe,0,19,7)})(),Mce=!0),n.l_desc=new hK(n.dyn_ltree,yce),n.d_desc=new hK(n.dyn_dtree,vce),n.bl_desc=new hK(n.bl_tree,bce),n.bi_buf=0,n.bi_valid=0,Ece(n)},_tr_stored_block:kce,_tr_flush_block:(n,r,t,i)=>{let s,o,a=0;n.level>0?(2===n.strm.data_type&&(n.strm.data_type=(n=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==n.dyn_ltree[2*t])return 0;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==n.dyn_ltree[2*t])return 1;return 0})(n)),mK(n,n.l_desc),mK(n,n.d_desc),a=(n=>{let r;for(Tce(n,n.dyn_ltree,n.l_desc.max_code),Tce(n,n.dyn_dtree,n.d_desc.max_code),mK(n,n.bl_desc),r=18;r>=3&&0===n.bl_tree[2*gce[r]+1];r--);return n.opt_len+=3*(r+1)+5+5+4,r})(n),s=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=s&&(s=o)):s=o=t+5,t+4<=s&&-1!==r?kce(n,r,t,i):4===n.strategy||o===s?(bu(n,2+(i?1:0),3),Ace(n,Dg,CI)):(bu(n,4+(i?1:0),3),((n,r,t,i)=>{let s;for(bu(n,r-257,5),bu(n,t-1,5),bu(n,i-4,4),s=0;s<i;s++)bu(n,n.bl_tree[2*gce[s]+1],3);Dce(n,n.dyn_ltree,r-1),Dce(n,n.dyn_dtree,t-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),Ace(n,n.dyn_ltree,n.dyn_dtree)),Ece(n),i&&Sce(n)},_tr_tally:(n,r,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=r,n.pending_buf[n.sym_buf+n.sym_next++]=r>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,0===r?n.dyn_ltree[2*t]++:(n.matches++,r--,n.dyn_ltree[2*(TI[t]+256+1)]++,n.dyn_dtree[2*_ce(r)]++),n.sym_next===n.sym_end),_tr_align:n=>{bu(n,2,3),Vm(n,256,Dg),(n=>{16===n.bi_valid?(DI(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(n)}},MI=(n,r,t,i)=>{let s=65535&n,o=n>>>16&65535,a=0;for(;0!==t;){a=t>2e3?2e3:t,t-=a;do{s=s+r[i++]|0,o=o+s|0}while(--a);s%=65521,o%=65521}return s|o<<16};const p8e=new Uint32Array((()=>{let n,r=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;r[t]=n}return r})());var Xc=(n,r,t,i)=>{const s=p8e,o=i+t;n^=-1;for(let a=i;a<o;a++)n=n>>>8^s[255&(n^r[a])];return~n},zw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:m8e,_tr_stored_block:gK,_tr_flush_block:g8e,_tr_tally:_b,_tr_align:y8e}=f8e,{Z_NO_FLUSH:wb,Z_PARTIAL_FLUSH:v8e,Z_FULL_FLUSH:b8e,Z_FINISH:bh,Z_BLOCK:Ice,Z_OK:Bl,Z_STREAM_END:Pce,Z_STREAM_ERROR:Um,Z_DATA_ERROR:_8e,Z_BUF_ERROR:yK,Z_DEFAULT_COMPRESSION:w8e,Z_FILTERED:x8e,Z_HUFFMAN_ONLY:rB,Z_RLE:E8e,Z_FIXED:S8e,Z_DEFAULT_STRATEGY:C8e,Z_UNKNOWN:A8e,Z_DEFLATED:iB}=Hw,zm=262,Kw=(n,r)=>(n.msg=zw[r],r),Oce=n=>2*n-(n>4?9:0),Eb=n=>{let r=n.length;for(;--r>=0;)n[r]=0},N8e=n=>{let r,t,i,s=n.w_size;r=n.hash_size,i=r;do{t=n.head[--i],n.head[i]=t>=s?t-s:0}while(--r);r=s,i=r;do{t=n.prev[--i],n.prev[i]=t>=s?t-s:0}while(--r)};let Sb=(n,r,t)=>(r<<n.hash_shift^t)&n.hash_mask;const gf=n=>{const r=n.state;let t=r.pending;t>n.avail_out&&(t=n.avail_out),0!==t&&(n.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+t),n.next_out),n.next_out+=t,r.pending_out+=t,n.total_out+=t,n.avail_out-=t,r.pending-=t,0===r.pending&&(r.pending_out=0))},yf=(n,r)=>{g8e(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,r),n.block_start=n.strstart,gf(n.strm)},Ms=(n,r)=>{n.pending_buf[n.pending++]=r},II=(n,r)=>{n.pending_buf[n.pending++]=r>>>8&255,n.pending_buf[n.pending++]=255&r},SK=(n,r,t,i)=>{let s=n.avail_in;return s>i&&(s=i),0===s?0:(n.avail_in-=s,r.set(n.input.subarray(n.next_in,n.next_in+s),t),1===n.state.wrap?n.adler=MI(n.adler,r,s,t):2===n.state.wrap&&(n.adler=Xc(n.adler,r,s,t)),n.next_in+=s,n.total_in+=s,s)},Rce=(n,r)=>{let s,o,t=n.max_chain_length,i=n.strstart,a=n.prev_length,c=n.nice_match;const _=n.strstart>n.w_size-zm?n.strstart-(n.w_size-zm):0,E=n.window,m=n.w_mask,j=n.prev,oe=n.strstart+258;let le=E[i+a-1],ue=E[i+a];n.prev_length>=n.good_match&&(t>>=2),c>n.lookahead&&(c=n.lookahead);do{if(s=r,E[s+a]===ue&&E[s+a-1]===le&&E[s]===E[i]&&E[++s]===E[i+1]){i+=2,s++;do{}while(E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&E[++i]===E[++s]&&i<oe);if(o=258-(oe-i),i=oe-258,o>a){if(n.match_start=r,a=o,o>=c)break;le=E[i+a-1],ue=E[i+a]}}}while((r=j[r&m])>_&&0!=--t);return a<=n.lookahead?a:n.lookahead},MC=n=>{const r=n.w_size;let t,i,s;do{if(i=n.window_size-n.lookahead-n.strstart,n.strstart>=r+(r-zm)&&(n.window.set(n.window.subarray(r,r+r-i),0),n.match_start-=r,n.strstart-=r,n.block_start-=r,n.insert>n.strstart&&(n.insert=n.strstart),N8e(n),i+=r),0===n.strm.avail_in)break;if(t=SK(n.strm,n.window,n.strstart+n.lookahead,i),n.lookahead+=t,n.lookahead+n.insert>=3)for(s=n.strstart-n.insert,n.ins_h=n.window[s],n.ins_h=Sb(n,n.ins_h,n.window[s+1]);n.insert&&(n.ins_h=Sb(n,n.ins_h,n.window[s+3-1]),n.prev[s&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=s,s++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<zm&&0!==n.strm.avail_in)},Fce=(n,r)=>{let i,s,o,t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,a=0,c=n.strm.avail_in;do{if(i=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,s=n.strstart-n.block_start,i>s+n.strm.avail_in&&(i=s+n.strm.avail_in),i>o&&(i=o),i<t&&(0===i&&r!==bh||r===wb||i!==s+n.strm.avail_in)))break;a=r===bh&&i===s+n.strm.avail_in?1:0,gK(n,0,0,a),n.pending_buf[n.pending-4]=i,n.pending_buf[n.pending-3]=i>>8,n.pending_buf[n.pending-2]=~i,n.pending_buf[n.pending-1]=~i>>8,gf(n.strm),s&&(s>i&&(s=i),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+s),n.strm.next_out),n.strm.next_out+=s,n.strm.avail_out-=s,n.strm.total_out+=s,n.block_start+=s,i-=s),i&&(SK(n.strm,n.strm.output,n.strm.next_out,i),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i)}while(0===a);return c-=n.strm.avail_in,c&&(c>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=c&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-c,n.strm.next_in),n.strstart),n.strstart+=c,n.insert+=c>n.w_size-n.insert?n.w_size-n.insert:c),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),a?4:r!==wb&&r!==bh&&0===n.strm.avail_in&&n.strstart===n.block_start?2:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(SK(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,s=n.strstart-n.block_start,(s>=t||(s||r===bh)&&r!==wb&&0===n.strm.avail_in&&s<=o)&&(i=s>o?o:s,a=r===bh&&0===n.strm.avail_in&&i===s?1:0,gK(n,n.block_start,i,a),n.block_start+=i,gf(n.strm)),a?3:1)},CK=(n,r)=>{let t,i;for(;;){if(n.lookahead<zm){if(MC(n),n.lookahead<zm&&r===wb)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Sb(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==t&&n.strstart-t<=n.w_size-zm&&(n.match_length=Rce(n,t)),n.match_length>=3)if(i=_b(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do{n.strstart++,n.ins_h=Sb(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart}while(0!=--n.match_length);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Sb(n,n.ins_h,n.window[n.strstart+1]);else i=_b(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(yf(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,r===bh?(yf(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(yf(n,!1),0===n.strm.avail_out)?1:2},kC=(n,r)=>{let t,i,s;for(;;){if(n.lookahead<zm){if(MC(n),n.lookahead<zm&&r===wb)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Sb(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==t&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-zm&&(n.match_length=Rce(n,t),n.match_length<=5&&(n.strategy===x8e||3===n.match_length&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){s=n.strstart+n.lookahead-3,i=_b(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do{++n.strstart<=s&&(n.ins_h=Sb(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart)}while(0!=--n.prev_length);if(n.match_available=0,n.match_length=2,n.strstart++,i&&(yf(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if(i=_b(n,0,n.window[n.strstart-1]),i&&yf(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=_b(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,r===bh?(yf(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(yf(n,!1),0===n.strm.avail_out)?1:2};function Hm(n,r,t,i,s){this.good_length=n,this.max_lazy=r,this.nice_length=t,this.max_chain=i,this.func=s}const PI=[new Hm(0,0,0,0,Fce),new Hm(4,4,8,4,CK),new Hm(4,5,16,8,CK),new Hm(4,6,32,32,CK),new Hm(4,4,16,16,kC),new Hm(8,16,32,32,kC),new Hm(8,16,128,128,kC),new Hm(8,32,128,256,kC),new Hm(32,128,258,1024,kC),new Hm(32,258,258,4096,kC)];function $8e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=iB,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Eb(this.dyn_ltree),Eb(this.dyn_dtree),Eb(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Eb(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Eb(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const OI=n=>{if(!n)return 1;const r=n.state;return!r||r.strm!==n||42!==r.status&&57!==r.status&&69!==r.status&&73!==r.status&&91!==r.status&&103!==r.status&&113!==r.status&&666!==r.status?1:0},Nce=n=>{if(OI(n))return Kw(n,Um);n.total_in=n.total_out=0,n.data_type=A8e;const r=n.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=2===r.wrap?57:r.wrap?42:113,n.adler=2===r.wrap?0:1,r.last_flush=-2,m8e(r),Bl},Bce=n=>{const r=Nce(n);return r===Bl&&(n=>{n.window_size=2*n.w_size,Eb(n.head),n.max_lazy_match=PI[n.level].max_lazy,n.good_match=PI[n.level].good_length,n.nice_match=PI[n.level].nice_length,n.max_chain_length=PI[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(n.state),r},Lce=(n,r,t,i,s,o)=>{if(!n)return Um;let a=1;if(r===w8e&&(r=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),s<1||s>9||t!==iB||i<8||i>15||r<0||r>9||o<0||o>S8e||8===i&&1!==a)return Kw(n,Um);8===i&&(i=9);const c=new $8e;return n.state=c,c.strm=n,c.status=42,c.wrap=a,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new Uint8Array(2*c.w_size),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=3*(c.lit_bufsize-1),c.level=r,c.strategy=o,c.method=t,Bce(n)};var RI={deflateInit:(n,r)=>Lce(n,r,iB,15,8,C8e),deflateInit2:Lce,deflateReset:Bce,deflateResetKeep:Nce,deflateSetHeader:(n,r)=>OI(n)||2!==n.state.wrap?Um:(n.state.gzhead=r,Bl),deflate:(n,r)=>{if(OI(n)||r>Ice||r<0)return n?Kw(n,Um):Um;const t=n.state;if(!n.output||0!==n.avail_in&&!n.input||666===t.status&&r!==bh)return Kw(n,0===n.avail_out?yK:Um);const i=t.last_flush;if(t.last_flush=r,0!==t.pending){if(gf(n),0===n.avail_out)return t.last_flush=-1,Bl}else if(0===n.avail_in&&Oce(r)<=Oce(i)&&r!==bh)return Kw(n,yK);if(666===t.status&&0!==n.avail_in)return Kw(n,yK);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let s=iB+(t.w_bits-8<<4)<<8,o=-1;if(o=t.strategy>=rB||t.level<2?0:t.level<6?1:6===t.level?2:3,s|=o<<6,0!==t.strstart&&(s|=32),s+=31-s%31,II(t,s),0!==t.strstart&&(II(t,n.adler>>>16),II(t,65535&n.adler)),n.adler=1,t.status=113,gf(n),0!==t.pending)return t.last_flush=-1,Bl}if(57===t.status)if(n.adler=0,Ms(t,31),Ms(t,139),Ms(t,8),t.gzhead)Ms(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Ms(t,255&t.gzhead.time),Ms(t,t.gzhead.time>>8&255),Ms(t,t.gzhead.time>>16&255),Ms(t,t.gzhead.time>>24&255),Ms(t,9===t.level?2:t.strategy>=rB||t.level<2?4:0),Ms(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Ms(t,255&t.gzhead.extra.length),Ms(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Xc(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Ms(t,0),Ms(t,0),Ms(t,0),Ms(t,0),Ms(t,0),Ms(t,9===t.level?2:t.strategy>=rB||t.level<2?4:0),Ms(t,3),t.status=113,gf(n),0!==t.pending)return t.last_flush=-1,Bl;if(69===t.status){if(t.gzhead.extra){let s=t.pending,o=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let c=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+c),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s)),t.gzindex+=c,gf(n),0!==t.pending)return t.last_flush=-1,Bl;s=0,o-=c}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let o,s=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s)),gf(n),0!==t.pending)return t.last_flush=-1,Bl;s=0}o=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Ms(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let o,s=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s)),gf(n),0!==t.pending)return t.last_flush=-1,Bl;s=0}o=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Ms(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>s&&(n.adler=Xc(n.adler,t.pending_buf,t.pending-s,s))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(gf(n),0!==t.pending))return t.last_flush=-1,Bl;Ms(t,255&n.adler),Ms(t,n.adler>>8&255),n.adler=0}if(t.status=113,gf(n),0!==t.pending)return t.last_flush=-1,Bl}if(0!==n.avail_in||0!==t.lookahead||r!==wb&&666!==t.status){let s=0===t.level?Fce(t,r):t.strategy===rB?((n,r)=>{let t;for(;;){if(0===n.lookahead&&(MC(n),0===n.lookahead)){if(r===wb)return 1;break}if(n.match_length=0,t=_b(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(yf(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,r===bh?(yf(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(yf(n,!1),0===n.strm.avail_out)?1:2})(t,r):t.strategy===E8e?((n,r)=>{let t,i,s,o;const a=n.window;for(;;){if(n.lookahead<=258){if(MC(n),n.lookahead<=258&&r===wb)return 1;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=3&&n.strstart>0&&(s=n.strstart-1,i=a[s],i===a[++s]&&i===a[++s]&&i===a[++s])){o=n.strstart+258;do{}while(i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&s<o);n.match_length=258-(o-s),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=3?(t=_b(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=_b(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(yf(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,r===bh?(yf(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(yf(n,!1),0===n.strm.avail_out)?1:2})(t,r):PI[t.level].func(t,r);if((3===s||4===s)&&(t.status=666),1===s||3===s)return 0===n.avail_out&&(t.last_flush=-1),Bl;if(2===s&&(r===v8e?y8e(t):r!==Ice&&(gK(t,0,0,!1),r===b8e&&(Eb(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),gf(n),0===n.avail_out))return t.last_flush=-1,Bl}return r!==bh?Bl:t.wrap<=0?Pce:(2===t.wrap?(Ms(t,255&n.adler),Ms(t,n.adler>>8&255),Ms(t,n.adler>>16&255),Ms(t,n.adler>>24&255),Ms(t,255&n.total_in),Ms(t,n.total_in>>8&255),Ms(t,n.total_in>>16&255),Ms(t,n.total_in>>24&255)):(II(t,n.adler>>>16),II(t,65535&n.adler)),gf(n),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?Bl:Pce)},deflateEnd:n=>{if(OI(n))return Um;const r=n.state.status;return n.state=null,113===r?Kw(n,_8e):Bl},deflateSetDictionary:(n,r)=>{let t=r.length;if(OI(n))return Um;const i=n.state,s=i.wrap;if(2===s||1===s&&42!==i.status||i.lookahead)return Um;if(1===s&&(n.adler=MI(n.adler,r,t,0)),i.wrap=0,t>=i.w_size){0===s&&(Eb(i.head),i.strstart=0,i.block_start=0,i.insert=0);let _=new Uint8Array(i.w_size);_.set(r.subarray(t-i.w_size,t),0),r=_,t=i.w_size}const o=n.avail_in,a=n.next_in,c=n.input;for(n.avail_in=t,n.next_in=0,n.input=r,MC(i);i.lookahead>=3;){let _=i.strstart,E=i.lookahead-2;do{i.ins_h=Sb(i,i.ins_h,i.window[_+3-1]),i.prev[_&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=_,_++}while(--E);i.strstart=_,i.lookahead=2,MC(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,n.next_in=a,n.input=c,n.avail_in=o,i.wrap=s,Bl},deflateInfo:"pako deflate (from Nodeca project)"};const t6e=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);var sB={assign:function(n){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const i in t)t6e(t,i)&&(n[i]=t[i])}}return n},flattenChunks:n=>{let r=0;for(let i=0,s=n.length;i<s;i++)r+=n[i].length;const t=new Uint8Array(r);for(let i=0,s=0,o=n.length;i<o;i++){let a=n[i];t.set(a,s),s+=a.length}return t}};let jce=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jce=!1}const FI=new Uint8Array(256);for(let n=0;n<256;n++)FI[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;FI[254]=FI[254]=1;var NI={string2buf:n=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(n);let r,t,i,s,o,a=n.length,c=0;for(s=0;s<a;s++)t=n.charCodeAt(s),55296==(64512&t)&&s+1<a&&(i=n.charCodeAt(s+1),56320==(64512&i)&&(t=65536+(t-55296<<10)+(i-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),55296==(64512&t)&&s+1<a&&(i=n.charCodeAt(s+1),56320==(64512&i)&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?r[o++]=t:t<2048?(r[o++]=192|t>>>6,r[o++]=128|63&t):t<65536?(r[o++]=224|t>>>12,r[o++]=128|t>>>6&63,r[o++]=128|63&t):(r[o++]=240|t>>>18,r[o++]=128|t>>>12&63,r[o++]=128|t>>>6&63,r[o++]=128|63&t);return r},buf2string:(n,r)=>{const t=r||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,r));let i,s;const o=new Array(2*t);for(s=0,i=0;i<t;){let a=n[i++];if(a<128){o[s++]=a;continue}let c=FI[a];if(c>4)o[s++]=65533,i+=c-1;else{for(a&=2===c?31:3===c?15:7;c>1&&i<t;)a=a<<6|63&n[i++],c--;c>1?o[s++]=65533:a<65536?o[s++]=a:(a-=65536,o[s++]=55296|a>>10&1023,o[s++]=56320|1023&a)}}return((n,r)=>{if(r<65534&&n.subarray&&jce)return String.fromCharCode.apply(null,n.length===r?n:n.subarray(0,r));let t="";for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t})(o,s)},utf8border:(n,r)=>{(r=r||n.length)>n.length&&(r=n.length);let t=r-1;for(;t>=0&&128==(192&n[t]);)t--;return t<0||0===t?r:t+FI[n[t]]>r?t:r}},$ce=function c6e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Vce=Object.prototype.toString,{Z_NO_FLUSH:l6e,Z_SYNC_FLUSH:d6e,Z_FULL_FLUSH:u6e,Z_FINISH:f6e,Z_OK:oB,Z_STREAM_END:h6e,Z_DEFAULT_COMPRESSION:p6e,Z_DEFAULT_STRATEGY:m6e,Z_DEFLATED:g6e}=Hw;function BI(n){this.options=sB.assign({level:p6e,method:g6e,chunkSize:16384,windowBits:15,memLevel:8,strategy:m6e},n||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $ce,this.strm.avail_out=0;let t=RI.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(t!==oB)throw new Error(zw[t]);if(r.header&&RI.deflateSetHeader(this.strm,r.header),r.dictionary){let i;if(i="string"==typeof r.dictionary?NI.string2buf(r.dictionary):"[object ArrayBuffer]"===Vce.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,t=RI.deflateSetDictionary(this.strm,i),t!==oB)throw new Error(zw[t]);this._dict_set=!0}}function AK(n,r){const t=new BI(r);if(t.push(n,!0),t.err)throw t.msg||zw[t.err];return t.result}BI.prototype.push=function(n,r){const t=this.strm,i=this.options.chunkSize;let s,o;if(this.ended)return!1;for(o=r===~~r?r:!0===r?f6e:l6e,t.input="string"==typeof n?NI.string2buf(n):"[object ArrayBuffer]"===Vce.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(o===d6e||o===u6e)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(s=RI.deflate(t,o),s===h6e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),s=RI.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===oB;if(0!==t.avail_out){if(o>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},BI.prototype.onData=function(n){this.chunks.push(n)},BI.prototype.onEnd=function(n){n===oB&&(this.result=sB.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var S6e={Deflate:BI,deflate:AK,deflateRaw:function y6e(n,r){return(r=r||{}).raw=!0,AK(n,r)},gzip:function v6e(n,r){return(r=r||{}).gzip=!0,AK(n,r)},constants:Hw};const aB=16209;var A6e=function(r,t){let i,s,o,a,c,_,E,m,j,oe,le,ue,pe,we,Oe,Pe,Ie,$e,Je,Qe,tt,ot,xt,Ct;const Tt=r.state;i=r.next_in,xt=r.input,s=i+(r.avail_in-5),o=r.next_out,Ct=r.output,a=o-(t-r.avail_out),c=o+(r.avail_out-257),_=Tt.dmax,E=Tt.wsize,m=Tt.whave,j=Tt.wnext,oe=Tt.window,le=Tt.hold,ue=Tt.bits,pe=Tt.lencode,we=Tt.distcode,Oe=(1<<Tt.lenbits)-1,Pe=(1<<Tt.distbits)-1;e:do{ue<15&&(le+=xt[i++]<<ue,ue+=8,le+=xt[i++]<<ue,ue+=8),Ie=pe[le&Oe];t:for(;;){if($e=Ie>>>24,le>>>=$e,ue-=$e,$e=Ie>>>16&255,0===$e)Ct[o++]=65535&Ie;else{if(!(16&$e)){if(64&$e){if(32&$e){Tt.mode=16191;break e}r.msg="invalid literal/length code",Tt.mode=aB;break e}Ie=pe[(65535&Ie)+(le&(1<<$e)-1)];continue t}for(Je=65535&Ie,$e&=15,$e&&(ue<$e&&(le+=xt[i++]<<ue,ue+=8),Je+=le&(1<<$e)-1,le>>>=$e,ue-=$e),ue<15&&(le+=xt[i++]<<ue,ue+=8,le+=xt[i++]<<ue,ue+=8),Ie=we[le&Pe];;){if($e=Ie>>>24,le>>>=$e,ue-=$e,$e=Ie>>>16&255,16&$e){if(Qe=65535&Ie,$e&=15,ue<$e&&(le+=xt[i++]<<ue,ue+=8,ue<$e&&(le+=xt[i++]<<ue,ue+=8)),Qe+=le&(1<<$e)-1,Qe>_){r.msg="invalid distance too far back",Tt.mode=aB;break e}if(le>>>=$e,ue-=$e,$e=o-a,Qe>$e){if($e=Qe-$e,$e>m&&Tt.sane){r.msg="invalid distance too far back",Tt.mode=aB;break e}if(tt=0,ot=oe,0===j){if(tt+=E-$e,$e<Je){Je-=$e;do{Ct[o++]=oe[tt++]}while(--$e);tt=o-Qe,ot=Ct}}else if(j<$e){if(tt+=E+j-$e,$e-=j,$e<Je){Je-=$e;do{Ct[o++]=oe[tt++]}while(--$e);if(tt=0,j<Je){$e=j,Je-=$e;do{Ct[o++]=oe[tt++]}while(--$e);tt=o-Qe,ot=Ct}}}else if(tt+=j-$e,$e<Je){Je-=$e;do{Ct[o++]=oe[tt++]}while(--$e);tt=o-Qe,ot=Ct}for(;Je>2;)Ct[o++]=ot[tt++],Ct[o++]=ot[tt++],Ct[o++]=ot[tt++],Je-=3;Je&&(Ct[o++]=ot[tt++],Je>1&&(Ct[o++]=ot[tt++]))}else{tt=o-Qe;do{Ct[o++]=Ct[tt++],Ct[o++]=Ct[tt++],Ct[o++]=Ct[tt++],Je-=3}while(Je>2);Je&&(Ct[o++]=Ct[tt++],Je>1&&(Ct[o++]=Ct[tt++]))}break}if(64&$e){r.msg="invalid distance code",Tt.mode=aB;break e}Ie=we[(65535&Ie)+(le&(1<<$e)-1)]}}break}}while(i<s&&o<c);Je=ue>>3,i-=Je,ue-=Je<<3,le&=(1<<ue)-1,r.next_in=i,r.next_out=o,r.avail_in=i<s?s-i+5:5-(i-s),r.avail_out=o<c?c-o+257:257-(o-c),Tt.hold=le,Tt.bits=ue};const T6e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),D6e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),M6e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),k6e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var LI=(n,r,t,i,s,o,a,c)=>{const _=c.bits;let Ie,$e,Je,Qe,tt,xt,E=0,m=0,j=0,oe=0,le=0,ue=0,pe=0,we=0,Oe=0,Pe=0,ot=null;const Ct=new Uint16Array(16),Tt=new Uint16Array(16);let Lt,Xt,vt,Kt=null;for(E=0;E<=15;E++)Ct[E]=0;for(m=0;m<i;m++)Ct[r[t+m]]++;for(le=_,oe=15;oe>=1&&0===Ct[oe];oe--);if(le>oe&&(le=oe),0===oe)return s[o++]=20971520,s[o++]=20971520,c.bits=1,0;for(j=1;j<oe&&0===Ct[j];j++);for(le<j&&(le=j),we=1,E=1;E<=15;E++)if(we<<=1,we-=Ct[E],we<0)return-1;if(we>0&&(0===n||1!==oe))return-1;for(Tt[1]=0,E=1;E<15;E++)Tt[E+1]=Tt[E]+Ct[E];for(m=0;m<i;m++)0!==r[t+m]&&(a[Tt[r[t+m]]++]=m);if(0===n?(ot=Kt=a,xt=20):1===n?(ot=T6e,Kt=D6e,xt=257):(ot=M6e,Kt=k6e,xt=0),Pe=0,m=0,E=j,tt=o,ue=le,pe=0,Je=-1,Oe=1<<le,Qe=Oe-1,1===n&&Oe>852||2===n&&Oe>592)return 1;for(;;){Lt=E-pe,a[m]+1<xt?(Xt=0,vt=a[m]):a[m]>=xt?(Xt=Kt[a[m]-xt],vt=ot[a[m]-xt]):(Xt=96,vt=0),Ie=1<<E-pe,$e=1<<ue,j=$e;do{$e-=Ie,s[tt+(Pe>>pe)+$e]=Lt<<24|Xt<<16|vt}while(0!==$e);for(Ie=1<<E-1;Pe&Ie;)Ie>>=1;if(0!==Ie?(Pe&=Ie-1,Pe+=Ie):Pe=0,m++,0==--Ct[E]){if(E===oe)break;E=r[t+a[m]]}if(E>le&&(Pe&Qe)!==Je){for(0===pe&&(pe=le),tt+=j,ue=E-pe,we=1<<ue;ue+pe<oe&&(we-=Ct[ue+pe],!(we<=0));)ue++,we<<=1;if(Oe+=1<<ue,1===n&&Oe>852||2===n&&Oe>592)return 1;Je=Pe&Qe,s[Je]=le<<24|ue<<16|tt-o}}return 0!==Pe&&(s[tt+Pe]=E-pe<<24|64<<16),c.bits=le,0};const{Z_FINISH:qce,Z_BLOCK:P6e,Z_TREES:cB,Z_OK:qw,Z_STREAM_END:O6e,Z_NEED_DICT:R6e,Z_STREAM_ERROR:_h,Z_DATA_ERROR:Xce,Z_MEM_ERROR:Yce,Z_BUF_ERROR:F6e,Z_DEFLATED:Zce}=Hw,lB=16180,dB=16190,Mg=16191,uB=16199,fB=16200,Ko=16209,wle=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function j6e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xw=n=>{if(!n)return 1;const r=n.state;return!r||r.strm!==n||r.mode<lB||r.mode>16211?1:0},xle=n=>{if(Xw(n))return _h;const r=n.state;return n.total_in=n.total_out=r.total=0,n.msg="",r.wrap&&(n.adler=1&r.wrap),r.mode=lB,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,qw},Ele=n=>{if(Xw(n))return _h;const r=n.state;return r.wsize=0,r.whave=0,r.wnext=0,xle(n)},Sle=(n,r)=>{let t;if(Xw(n))return _h;const i=n.state;return r<0?(t=0,r=-r):(t=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?_h:(null!==i.window&&i.wbits!==r&&(i.window=null),i.wrap=t,i.wbits=r,Ele(n))},Cle=(n,r)=>{if(!n)return _h;const t=new j6e;n.state=t,t.strm=n,t.window=null,t.mode=lB;const i=Sle(n,r);return i!==qw&&(n.state=null),i};let IK,PK,Ale=!0;const V6e=n=>{if(Ale){IK=new Int32Array(512),PK=new Int32Array(32);let r=0;for(;r<144;)n.lens[r++]=8;for(;r<256;)n.lens[r++]=9;for(;r<280;)n.lens[r++]=7;for(;r<288;)n.lens[r++]=8;for(LI(1,n.lens,0,288,IK,0,n.work,{bits:9}),r=0;r<32;)n.lens[r++]=5;LI(2,n.lens,0,32,PK,0,n.work,{bits:5}),Ale=!1}n.lencode=IK,n.lenbits=9,n.distcode=PK,n.distbits=5},Tle=(n,r,t,i)=>{let s;const o=n.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(r.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(r.subarray(t-i,t-i+s),o.wnext),(i-=s)?(o.window.set(r.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0};var kg={inflateReset:Ele,inflateReset2:Sle,inflateResetKeep:xle,inflateInit:n=>Cle(n,15),inflateInit2:Cle,inflate:(n,r)=>{let t,i,s,o,a,c,_,E,m,j,oe,le,ue,pe,Oe,Pe,Ie,$e,Je,Qe,tt,ot,we=0;const xt=new Uint8Array(4);let Ct,Tt;const Kt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xw(n)||!n.output||!n.input&&0!==n.avail_in)return _h;t=n.state,t.mode===Mg&&(t.mode=16192),a=n.next_out,s=n.output,_=n.avail_out,o=n.next_in,i=n.input,c=n.avail_in,E=t.hold,m=t.bits,j=c,oe=_,ot=qw;e:for(;;)switch(t.mode){case lB:if(0===t.wrap){t.mode=16192;break}for(;m<16;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(2&t.wrap&&35615===E){0===t.wbits&&(t.wbits=15),t.check=0,xt[0]=255&E,xt[1]=E>>>8&255,t.check=Xc(t.check,xt,2,0),E=0,m=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&E)<<8)+(E>>8))%31){n.msg="incorrect header check",t.mode=Ko;break}if((15&E)!==Zce){n.msg="unknown compression method",t.mode=Ko;break}if(E>>>=4,m-=4,tt=8+(15&E),0===t.wbits&&(t.wbits=tt),tt>15||tt>t.wbits){n.msg="invalid window size",t.mode=Ko;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=512&E?16189:Mg,E=0,m=0;break;case 16181:for(;m<16;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(t.flags=E,(255&t.flags)!==Zce){n.msg="unknown compression method",t.mode=Ko;break}if(57344&t.flags){n.msg="unknown header flags set",t.mode=Ko;break}t.head&&(t.head.text=E>>8&1),512&t.flags&&4&t.wrap&&(xt[0]=255&E,xt[1]=E>>>8&255,t.check=Xc(t.check,xt,2,0)),E=0,m=0,t.mode=16182;case 16182:for(;m<32;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.head&&(t.head.time=E),512&t.flags&&4&t.wrap&&(xt[0]=255&E,xt[1]=E>>>8&255,xt[2]=E>>>16&255,xt[3]=E>>>24&255,t.check=Xc(t.check,xt,4,0)),E=0,m=0,t.mode=16183;case 16183:for(;m<16;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.head&&(t.head.xflags=255&E,t.head.os=E>>8),512&t.flags&&4&t.wrap&&(xt[0]=255&E,xt[1]=E>>>8&255,t.check=Xc(t.check,xt,2,0)),E=0,m=0,t.mode=16184;case 16184:if(1024&t.flags){for(;m<16;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.length=E,t.head&&(t.head.extra_len=E),512&t.flags&&4&t.wrap&&(xt[0]=255&E,xt[1]=E>>>8&255,t.check=Xc(t.check,xt,2,0)),E=0,m=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(le=t.length,le>c&&(le=c),le&&(t.head&&(tt=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+le),tt)),512&t.flags&&4&t.wrap&&(t.check=Xc(t.check,i,le,o)),c-=le,o+=le,t.length-=le),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===c)break e;le=0;do{tt=i[o+le++],t.head&&tt&&t.length<65536&&(t.head.name+=String.fromCharCode(tt))}while(tt&&le<c);if(512&t.flags&&4&t.wrap&&(t.check=Xc(t.check,i,le,o)),c-=le,o+=le,tt)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===c)break e;le=0;do{tt=i[o+le++],t.head&&tt&&t.length<65536&&(t.head.comment+=String.fromCharCode(tt))}while(tt&&le<c);if(512&t.flags&&4&t.wrap&&(t.check=Xc(t.check,i,le,o)),c-=le,o+=le,tt)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;m<16;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(4&t.wrap&&E!==(65535&t.check)){n.msg="header crc mismatch",t.mode=Ko;break}E=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Mg;break;case 16189:for(;m<32;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}n.adler=t.check=wle(E),E=0,m=0,t.mode=dB;case dB:if(0===t.havedict)return n.next_out=a,n.avail_out=_,n.next_in=o,n.avail_in=c,t.hold=E,t.bits=m,R6e;n.adler=t.check=1,t.mode=Mg;case Mg:if(r===P6e||r===cB)break e;case 16192:if(t.last){E>>>=7&m,m-=7&m,t.mode=16206;break}for(;m<3;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}switch(t.last=1&E,E>>>=1,m-=1,3&E){case 0:t.mode=16193;break;case 1:if(V6e(t),t.mode=uB,r===cB){E>>>=2,m-=2;break e}break;case 2:t.mode=16196;break;case 3:n.msg="invalid block type",t.mode=Ko}E>>>=2,m-=2;break;case 16193:for(E>>>=7&m,m-=7&m;m<32;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if((65535&E)!=(E>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ko;break}if(t.length=65535&E,E=0,m=0,t.mode=16194,r===cB)break e;case 16194:t.mode=16195;case 16195:if(le=t.length,le){if(le>c&&(le=c),le>_&&(le=_),0===le)break e;s.set(i.subarray(o,o+le),a),c-=le,o+=le,_-=le,a+=le,t.length-=le;break}t.mode=Mg;break;case 16196:for(;m<14;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(t.nlen=257+(31&E),E>>>=5,m-=5,t.ndist=1+(31&E),E>>>=5,m-=5,t.ncode=4+(15&E),E>>>=4,m-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ko;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;m<3;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.lens[Kt[t.have++]]=7&E,E>>>=3,m-=3}for(;t.have<19;)t.lens[Kt[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Ct={bits:t.lenbits},ot=LI(0,t.lens,0,19,t.lencode,0,t.work,Ct),t.lenbits=Ct.bits,ot){n.msg="invalid code lengths set",t.mode=Ko;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;we=t.lencode[E&(1<<t.lenbits)-1],Oe=we>>>24,Pe=we>>>16&255,Ie=65535&we,!(Oe<=m);){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(Ie<16)E>>>=Oe,m-=Oe,t.lens[t.have++]=Ie;else{if(16===Ie){for(Tt=Oe+2;m<Tt;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(E>>>=Oe,m-=Oe,0===t.have){n.msg="invalid bit length repeat",t.mode=Ko;break}tt=t.lens[t.have-1],le=3+(3&E),E>>>=2,m-=2}else if(17===Ie){for(Tt=Oe+3;m<Tt;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}E>>>=Oe,m-=Oe,tt=0,le=3+(7&E),E>>>=3,m-=3}else{for(Tt=Oe+7;m<Tt;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}E>>>=Oe,m-=Oe,tt=0,le=11+(127&E),E>>>=7,m-=7}if(t.have+le>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ko;break}for(;le--;)t.lens[t.have++]=tt}}if(t.mode===Ko)break;if(0===t.lens[256]){n.msg="invalid code -- missing end-of-block",t.mode=Ko;break}if(t.lenbits=9,Ct={bits:t.lenbits},ot=LI(1,t.lens,0,t.nlen,t.lencode,0,t.work,Ct),t.lenbits=Ct.bits,ot){n.msg="invalid literal/lengths set",t.mode=Ko;break}if(t.distbits=6,t.distcode=t.distdyn,Ct={bits:t.distbits},ot=LI(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Ct),t.distbits=Ct.bits,ot){n.msg="invalid distances set",t.mode=Ko;break}if(t.mode=uB,r===cB)break e;case uB:t.mode=fB;case fB:if(c>=6&&_>=258){n.next_out=a,n.avail_out=_,n.next_in=o,n.avail_in=c,t.hold=E,t.bits=m,A6e(n,oe),a=n.next_out,s=n.output,_=n.avail_out,o=n.next_in,i=n.input,c=n.avail_in,E=t.hold,m=t.bits,t.mode===Mg&&(t.back=-1);break}for(t.back=0;we=t.lencode[E&(1<<t.lenbits)-1],Oe=we>>>24,Pe=we>>>16&255,Ie=65535&we,!(Oe<=m);){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(Pe&&!(240&Pe)){for($e=Oe,Je=Pe,Qe=Ie;we=t.lencode[Qe+((E&(1<<$e+Je)-1)>>$e)],Oe=we>>>24,Pe=we>>>16&255,Ie=65535&we,!($e+Oe<=m);){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}E>>>=$e,m-=$e,t.back+=$e}if(E>>>=Oe,m-=Oe,t.back+=Oe,t.length=Ie,0===Pe){t.mode=16205;break}if(32&Pe){t.back=-1,t.mode=Mg;break}if(64&Pe){n.msg="invalid literal/length code",t.mode=Ko;break}t.extra=15&Pe,t.mode=16201;case 16201:if(t.extra){for(Tt=t.extra;m<Tt;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.length+=E&(1<<t.extra)-1,E>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;we=t.distcode[E&(1<<t.distbits)-1],Oe=we>>>24,Pe=we>>>16&255,Ie=65535&we,!(Oe<=m);){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(!(240&Pe)){for($e=Oe,Je=Pe,Qe=Ie;we=t.distcode[Qe+((E&(1<<$e+Je)-1)>>$e)],Oe=we>>>24,Pe=we>>>16&255,Ie=65535&we,!($e+Oe<=m);){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}E>>>=$e,m-=$e,t.back+=$e}if(E>>>=Oe,m-=Oe,t.back+=Oe,64&Pe){n.msg="invalid distance code",t.mode=Ko;break}t.offset=Ie,t.extra=15&Pe,t.mode=16203;case 16203:if(t.extra){for(Tt=t.extra;m<Tt;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}t.offset+=E&(1<<t.extra)-1,E>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ko;break}t.mode=16204;case 16204:if(0===_)break e;if(le=oe-_,t.offset>le){if(le=t.offset-le,le>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ko;break}le>t.wnext?(le-=t.wnext,ue=t.wsize-le):ue=t.wnext-le,le>t.length&&(le=t.length),pe=t.window}else pe=s,ue=a-t.offset,le=t.length;le>_&&(le=_),_-=le,t.length-=le;do{s[a++]=pe[ue++]}while(--le);0===t.length&&(t.mode=fB);break;case 16205:if(0===_)break e;s[a++]=t.length,_--,t.mode=fB;break;case 16206:if(t.wrap){for(;m<32;){if(0===c)break e;c--,E|=i[o++]<<m,m+=8}if(oe-=_,n.total_out+=oe,t.total+=oe,4&t.wrap&&oe&&(n.adler=t.check=t.flags?Xc(t.check,s,oe,a-oe):MI(t.check,s,oe,a-oe)),oe=_,4&t.wrap&&(t.flags?E:wle(E))!==t.check){n.msg="incorrect data check",t.mode=Ko;break}E=0,m=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;m<32;){if(0===c)break e;c--,E+=i[o++]<<m,m+=8}if(4&t.wrap&&E!==(4294967295&t.total)){n.msg="incorrect length check",t.mode=Ko;break}E=0,m=0}t.mode=16208;case 16208:ot=O6e;break e;case Ko:ot=Xce;break e;case 16210:return Yce;default:return _h}return n.next_out=a,n.avail_out=_,n.next_in=o,n.avail_in=c,t.hold=E,t.bits=m,(t.wsize||oe!==n.avail_out&&t.mode<Ko&&(t.mode<16206||r!==qce))&&Tle(n,n.output,n.next_out,oe-n.avail_out),j-=n.avail_in,oe-=n.avail_out,n.total_in+=j,n.total_out+=oe,t.total+=oe,4&t.wrap&&oe&&(n.adler=t.check=t.flags?Xc(t.check,s,oe,n.next_out-oe):MI(t.check,s,oe,n.next_out-oe)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Mg?128:0)+(t.mode===uB||16194===t.mode?256:0),(0===j&&0===oe||r===qce)&&ot===qw&&(ot=F6e),ot},inflateEnd:n=>{if(Xw(n))return _h;let r=n.state;return r.window&&(r.window=null),n.state=null,qw},inflateGetHeader:(n,r)=>{if(Xw(n))return _h;const t=n.state;return 2&t.wrap?(t.head=r,r.done=!1,qw):_h},inflateSetDictionary:(n,r)=>{const t=r.length;let i,s,o;return Xw(n)||(i=n.state,0!==i.wrap&&i.mode!==dB)?_h:i.mode===dB&&(s=1,s=MI(s,r,t,0),s!==i.check)?Xce:(o=Tle(n,r,t,t),o?(i.mode=16210,Yce):(i.havedict=1,qw))},inflateInfo:"pako inflate (from Nodeca project)"},rPe=function nPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Dle=Object.prototype.toString,{Z_NO_FLUSH:iPe,Z_FINISH:sPe,Z_OK:jI,Z_STREAM_END:OK,Z_NEED_DICT:RK,Z_STREAM_ERROR:oPe,Z_DATA_ERROR:Mle,Z_MEM_ERROR:aPe}=Hw;function $I(n){this.options=sB.assign({chunkSize:65536,windowBits:15,to:""},n||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(n&&n.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $ce,this.strm.avail_out=0;let t=kg.inflateInit2(this.strm,r.windowBits);if(t!==jI)throw new Error(zw[t]);if(this.header=new rPe,kg.inflateGetHeader(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=NI.string2buf(r.dictionary):"[object ArrayBuffer]"===Dle.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=kg.inflateSetDictionary(this.strm,r.dictionary),t!==jI)))throw new Error(zw[t])}function FK(n,r){const t=new $I(r);if(t.push(n),t.err)throw t.msg||zw[t.err];return t.result}$I.prototype.push=function(n,r){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,a,c;if(this.ended)return!1;for(a=r===~~r?r:!0===r?sPe:iPe,t.input="[object ArrayBuffer]"===Dle.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=kg.inflate(t,a),o===RK&&s&&(o=kg.inflateSetDictionary(t,s),o===jI?o=kg.inflate(t,a):o===Mle&&(o=RK));t.avail_in>0&&o===OK&&t.state.wrap>0&&0!==n[t.next_in];)kg.inflateReset(t),o=kg.inflate(t,a);switch(o){case oPe:case Mle:case RK:case aPe:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(0===t.avail_out||o===OK))if("string"===this.options.to){let _=NI.utf8border(t.output,t.next_out),E=t.next_out-_,m=NI.buf2string(t.output,_);t.next_out=E,t.avail_out=i-E,E&&t.output.set(t.output.subarray(_,_+E),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(o!==jI||0!==c){if(o===OK)return o=kg.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},$I.prototype.onData=function(n){this.chunks.push(n)},$I.prototype.onEnd=function(n){n===jI&&(this.result="string"===this.options.to?this.chunks.join(""):sB.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var pPe={Inflate:$I,inflate:FK,inflateRaw:function cPe(n,r){return(r=r||{}).raw=!0,FK(n,r)},ungzip:FK,constants:Hw};var PPe=A(18813);function kle(n){return new Date(1e3*n).toISOString().replace(/\.\d{3}/,"")}const VI="VerifiablePresentation";const BPe=new PPe.Validator;class PC{static validateCredentialPayload(r){this.validateContext(r.vcDataModel["@context"]),this.validateVcType(r.type),this.validateCredentialSubject(r.vcDataModel.credentialSubject),r.vcDataModel.issuanceDate&&this.validateTimestamp(r.vcDataModel.issuanceDate),r.vcDataModel.expirationDate&&this.validateTimestamp(r.vcDataModel.expirationDate)}static validateContext(r){const t=this.asArray(r);if(t.length<1||-1===t.indexOf(jK))throw new Error(`@context is missing default context "${jK}"`)}static validateVcType(r){const t=this.asArray(r);if(t.length<1||-1===t.indexOf(UI))throw new Error(`type is missing default "${UI}"`)}static validateVpType(r){const t=this.asArray(r);if(t.length<1||-1===t.indexOf(VI))throw new Error(`type is missing default "${VI}"`)}static validateCredentialSubject(r){if(0===Object.keys(r).length)throw new Error("credentialSubject must not be empty")}static validateTimestamp(r){if(!function RPe(n){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(n))return!1;const t=new Date(n);return!isNaN(t.getTime())}(r)&&!function FPe(n){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(n))return!1;const t=new Date(n);return!isNaN(t.getTime())}(r))throw new Error("timestamp is not valid xml schema 112 timestamp")}static validateCredentialSchema(r){return function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})}(this,void 0,void 0,function*(){const t=r.credentialSchema;if(!t||Array.isArray(t)&&0===t.length)throw new Error("Credential schema is missing or empty");const i=Array.isArray(t)?t[0].id:t.id;let s;try{const a=yield fetch(i);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);s=yield a.json()}catch(a){throw new Error(`Failed to fetch schema from ${i}: ${a.message}`)}const o=BPe.validate(r,s);if(!o.valid)throw new Error(`Schema Validation Errors: ${JSON.stringify(o.errors)}`)})}static asArray(r){return Array.isArray(r)?r:[r]}}var LK=function(n,r,t,i){return new(t||(t=Promise))(function(o,a){function c(m){try{E(i.next(m))}catch(j){a(j)}}function _(m){try{E(i.throw(m))}catch(j){a(j)}}function E(m){m.done?o(m.value):function s(o){return o instanceof t?o:new t(function(a){a(o)})}(m.value).then(c,_)}E((i=i.apply(n,r||[])).next())})};const jK="https://www.w3.org/2018/credentials/v1",UI="VerifiableCredential";class hB{constructor(r){this.vcDataModel=r}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign(r){return LK(this,void 0,void 0,function*(){return yield Vw.sign({signerDid:r.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:r.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create(r){return LK(this,void 0,void 0,function*(){const{type:t,issuer:i,subject:s,data:o,issuanceDate:a,expirationDate:c,credentialStatus:_,credentialSchema:E,evidence:m}=r,j=JSON.parse(JSON.stringify(o));if("object"!=typeof j)throw new Error("Expected data to be parseable into a JSON object");if(!i||!s)throw new Error("Issuer and subject must be defined");if("string"!=typeof i||"string"!=typeof s)throw new Error("Issuer and subject must be of type string");const oe=Object.assign({id:s},j),le=[jK];null!==_&&le.push(Ple);const ue=Object.assign(Object.assign(Object.assign(Object.assign({"@context":le,type:Array.isArray(t)?[UI,...t]:t?[UI,t]:[UI],id:`urn:uuid:${zo.randomUuid()}`,issuer:i,issuanceDate:a||(new Date).toISOString().replace(/\.\d+Z$/,"Z"),credentialSubject:oe},c&&{expirationDate:c}),_&&{credentialStatus:_}),E&&{credentialSchema:E}),m&&{evidence:m});return $K(ue),new hB(ue)})}static verify(r){return LK(this,arguments,void 0,function*({vcJwt:t}){const{payload:i}=yield Vw.verify({jwt:t}),{exp:s,iss:o,nbf:a,jti:c,sub:_,vc:E}=i;if(!E)throw new Error("vc property missing.");const m=i.vc;if(s&&m.expirationDate&&s!==Math.floor(new Date(m.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(s&&(m.expirationDate=kle(s)),!o)throw new Error("Verification failed: iss claim is required");if(o!==m.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if(a&&a>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if(a&&m.issuanceDate&&a!==Math.floor(new Date(m.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if(a&&(m.issuanceDate=kle(a)),_&&!Array.isArray(m.credentialSubject)&&_!==m.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(_&&!Array.isArray(m.credentialSubject)&&(m.credentialSubject.id=_),c&&c!==m.id)throw new Error("Verification failed: jti claim does not match id");return c&&(m.id=c),$K(m),m.credentialSchema&&(yield PC.validateCredentialSchema(m)),{issuer:i.iss,subject:i.sub,vc:m}})}static parseJwt({vcJwt:r}){const i=Vw.parse({jwt:r}).decoded.payload.vc;if(!i)throw Error("Jwt payload missing vc property");return $K(i),new hB(i)}}function $K(n){PC.validateContext(n["@context"]),PC.validateVcType(n.type),PC.validateCredentialSubject(n.credentialSubject),n.issuanceDate&&PC.validateTimestamp(n.issuanceDate),n.expirationDate&&PC.validateTimestamp(n.expirationDate)}const Ple="https://w3id.org/vc/status-list/2021/v1";let Rle=(()=>{class n{constructor(t){this.didService=t,this.initializeService()}get web5(){return this._web5}get dwn(){return this.web5?.dwn}initializeService(){var t=this;return(0,Nn.A)(function*(){try{const i=(yield t.didService.getDid())||(yield t.didService.createDid()),s=new $W({keyDerivationWorkFactor:21e4,store:new VT({location:"DATA/AGENT/VAULT_STORE"})}),o=new fW({didMethods:[],resolverCache:new AN({location:"DATA/AGENT/DID_RESOLVERCACHE"}),store:new uW}),a=new UW({store:new VW}),c=yield wI.create({didApi:o,identityApi:a,agentVault:s});t._web5=new xI({agent:c,connectedDid:i}),console.log("Web5 and user agent initialized successfully.")}catch(i){console.error("Failed to initialize Web5 and user agent:",i)}})()}installVcProtocol(){return(0,Nn.A)(function*(){console.log("Installing VC Protocol on DWN...")})()}authorizeToWrite(t){return(0,Nn.A)(function*(){try{const i=yield fetch(`https://vc-to-dwn.tbddev.org/authorize?issuerDid=${t}`);if(i.ok)return yield i.text();throw new Error(`Authorization failed with status ${i.status}`)}catch(i){throw console.error("Authorization request failed:",i),new Error("Authorization request failed")}})()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(M1))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$Pe=(()=>{class n{constructor(t,i){this.didService=t,this.dwnService=i,this.identity=(0,u.WQX)(oce)}issueKcc(t){var i=this;return(0,Nn.A)(function*(){try{const s=i.didService.getDid();if(!s)throw new Error("Issuer DID not found");const o={type:"KnownCustomerCredential",issuer:s,subject:t,data:{evidence:"KYC completed"}},a=yield hB.create(o),c=yield i.identity.activeAgent().identity.get({didUri:i.identity.did}),_=yield a.sign({did:c.did});return console.log("KCC issued and signed successfully."),_}catch(s){throw console.error("Error issuing KCC:",s),new Error("Failed to issue Known Customer Credential")}})()}storeKccInDwn(t,i){var s=this;return(0,Nn.A)(function*(){try{if(yield s.dwnService.installVcProtocol(),!(yield s.dwnService.authorizeToWrite(i)))throw new Error("Authorization token not received.");const{record:a}=yield s.dwnService.web5.dwn.records.create({data:t,message:{recipient:i,dataFormat:"application/vc+jwt",published:!0}});if(!a)throw new Error("Failed to create record in DWN.");yield a.send(),console.log("KCC successfully stored in recipient's DWN.")}catch(o){throw console.error("Error storing KCC in DWN:",o),new Error("Failed to store Known Customer Credential in DWN.")}})()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(M1),u.KVO(Rle))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class VPe extends Ir.B{constructor(r=1/0,t=1/0,i=z4){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){const{isStopped:t,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:o,_windowTime:a}=this;t||(i.push(r),!s&&i.push(o.now()+a)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(r),{_infiniteTimeWindow:i,_buffer:s}=this,o=s.slice();for(let a=0;a<o.length&&!r.closed;a+=i?1:2)r.next(o[a]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){const{_bufferSize:r,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:s}=this,o=(s?1:2)*r;if(r<1/0&&o<i.length&&i.splice(0,i.length-o),!s){const a=t.now();let c=0;for(let _=1;_<i.length&&i[_]<=a;_+=2)c=_;c&&i.splice(0,c+1)}}}class zPe{constructor(r){this._box=r,this._destroyed=new Ir.B,this._resizeSubject=new Ir.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(r){return this._elementObservables.has(r)||this._elementObservables.set(r,new vs.c(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(r,{box:this._box}),()=>{this._resizeObserver?.unobserve(r),i.unsubscribe(),this._elementObservables.delete(r)}}).pipe(ro(t=>t.some(i=>i.target===r)),function UPe(n,r,t){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:r=1/0,refCount:s=!1,scheduler:t}=n):i=n??1/0,fQ({connector:()=>new VPe(i,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}({bufferSize:1,refCount:!0}),Ni(this._destroyed))),this._elementObservables.get(r)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Fle=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,u.WQX)(u.SKi)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const s=i?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new zPe(s)),this._observers.get(s).observe(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const HPe=["notch"],GPe=["matFormFieldNotchedOutline",""],WPe=["*"],KPe=["textField"],qPe=["iconPrefixContainer"],XPe=["textPrefixContainer"],YPe=["iconSuffixContainer"],ZPe=["textSuffixContainer"],JPe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],QPe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function eOe(n,r){1&n&&u.nrm(0,"span",21)}function tOe(n,r){if(1&n&&(u.j41(0,"label",20),u.SdG(1,1),u.DNE(2,eOe,1,0,"span",21),u.k0s()),2&n){const t=u.XpG(2);u.Y8G("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),u.BMQ("for",t._control.disableAutomaticLabeling?null:t._control.id),u.R7$(2),u.vxM(!t.hideRequiredMarker&&t._control.required?2:-1)}}function nOe(n,r){if(1&n&&u.DNE(0,tOe,3,5,"label",20),2&n){const t=u.XpG();u.vxM(t._hasFloatingLabel()?0:-1)}}function rOe(n,r){1&n&&u.nrm(0,"div",7)}function iOe(n,r){}function sOe(n,r){if(1&n&&u.DNE(0,iOe,0,0,"ng-template",13),2&n){u.XpG(2);const t=u.sdS(1);u.Y8G("ngTemplateOutlet",t)}}function oOe(n,r){if(1&n&&(u.j41(0,"div",9),u.DNE(1,sOe,1,1,null,13),u.k0s()),2&n){const t=u.XpG();u.Y8G("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),u.R7$(),u.vxM(t._forceDisplayInfixLabel()?-1:1)}}function aOe(n,r){1&n&&(u.j41(0,"div",10,2),u.SdG(2,2),u.k0s())}function cOe(n,r){1&n&&(u.j41(0,"div",11,3),u.SdG(2,3),u.k0s())}function lOe(n,r){}function dOe(n,r){if(1&n&&u.DNE(0,lOe,0,0,"ng-template",13),2&n){u.XpG();const t=u.sdS(1);u.Y8G("ngTemplateOutlet",t)}}function uOe(n,r){1&n&&(u.j41(0,"div",14,4),u.SdG(2,4),u.k0s())}function fOe(n,r){1&n&&(u.j41(0,"div",15,5),u.SdG(2,5),u.k0s())}function hOe(n,r){1&n&&u.nrm(0,"div",16)}function pOe(n,r){if(1&n&&(u.j41(0,"div",18),u.SdG(1,6),u.k0s()),2&n){const t=u.XpG();u.Y8G("@transitionMessages",t._subscriptAnimationState)}}function mOe(n,r){if(1&n&&(u.j41(0,"mat-hint",22),u.EFF(1),u.k0s()),2&n){const t=u.XpG(2);u.Y8G("id",t._hintLabelId),u.R7$(),u.JRh(t.hintLabel)}}function gOe(n,r){if(1&n&&(u.j41(0,"div",19),u.DNE(1,mOe,2,2,"mat-hint",22),u.SdG(2,7),u.nrm(3,"div",23),u.SdG(4,8),u.k0s()),2&n){const t=u.XpG();u.Y8G("@transitionMessages",t._subscriptAnimationState),u.R7$(),u.vxM(t.hintLabel?1:-1)}}let VK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})();const yOe=new u.nKC("MatError");let vOe=0,Nle=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+vOe++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,s){2&i&&(u.Mr5("id",s.id),u.BMQ("align",null),u.AVh("mat-mdc-form-field-hint-end","end"===s.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})();const bOe=new u.nKC("MatPrefix"),_Oe=new u.nKC("MatSuffix"),Ble=new u.nKC("FloatingLabelParent");let Lle=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,u.WQX)(Fle),this._ngZone=(0,u.WQX)(u.SKi),this._parent=(0,u.WQX)(Ble),this._resizeSubscription=new da.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function wOe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,s){2&i&&u.AVh("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();const jle="mdc-line-ripple--active",pB="mdc-line-ripple--deactivating";let $le=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=s=>{const o=this._elementRef.nativeElement.classList,a=o.contains(pB);"opacity"===s.propertyName&&a&&o.remove(jle,pB)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(pB),t.add(jle)}deactivate(){this._elementRef.nativeElement.classList.add(pB)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.SKi))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),Vle=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,s){if(1&i&&u.GBs(HPe,5),2&i){let o;u.mGM(o=u.lsd())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,s){2&i&&u.AVh("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[u.aNF],attrs:GPe,ngContentSelectors:WPe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,s){1&i&&(u.NAR(),u.nrm(0,"div",1),u.j41(1,"div",2,0),u.SdG(3),u.k0s(),u.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const xOe={transitionMessages:(0,Yr.hZ)("transitionMessages",[(0,Yr.wk)("enter",(0,Yr.iF)({opacity:1,transform:"translateY(0%)"})),(0,Yr.kY)("void => enter",[(0,Yr.iF)({opacity:0,transform:"translateY(-5px)"}),(0,Yr.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ule=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n})}}return n})();const zle=new u.nKC("MatFormField"),EOe=new u.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Hle=0,AOe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ml(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,s,o,a,c,_,E){this._elementRef=t,this._changeDetectorRef=i,this._dir=o,this._platform=a,this._defaults=c,this._animationMode=_,this._labelChild=(0,u.sbv)(VK),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Hle++,this._hintLabelId="mat-mdc-hint-"+Hle++,this._subscriptAnimationState="",this._destroyed=new Ir.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,u.WQX)(u.zZn),this.getLabelId=(0,u.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,u.EWP)(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){const i=this._control,s="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(s+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(s+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ni(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),W1(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,u.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ni(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const i=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,c=i?.getBoundingClientRect().width??0,_=s?.getBoundingClientRect().width??0,E=o?.getBoundingClientRect().width??0,m=a?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+_}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${c+_+E+m}px)`)}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(u.SKi),u.rXU(U1),u.rXU(Po),u.rXU(EOe,8),u.rXU(u.bc$,8),u.rXU(ze))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,s,o){if(1&i&&(u.C6U(o,s._labelChild,VK,5),u.wni(o,Ule,5),u.wni(o,bOe,5),u.wni(o,_Oe,5),u.wni(o,yOe,5),u.wni(o,Nle,5)),2&i){let a;u.NyB(),u.mGM(a=u.lsd())&&(s._formFieldControl=a.first),u.mGM(a=u.lsd())&&(s._prefixChildren=a),u.mGM(a=u.lsd())&&(s._suffixChildren=a),u.mGM(a=u.lsd())&&(s._errorChildren=a),u.mGM(a=u.lsd())&&(s._hintChildren=a)}},viewQuery:function(i,s){if(1&i&&(u.GBs(KPe,5),u.GBs(qPe,5),u.GBs(XPe,5),u.GBs(YPe,5),u.GBs(ZPe,5),u.GBs(Lle,5),u.GBs(Vle,5),u.GBs($le,5)),2&i){let o;u.mGM(o=u.lsd())&&(s._textField=o.first),u.mGM(o=u.lsd())&&(s._iconPrefixContainer=o.first),u.mGM(o=u.lsd())&&(s._textPrefixContainer=o.first),u.mGM(o=u.lsd())&&(s._iconSuffixContainer=o.first),u.mGM(o=u.lsd())&&(s._textSuffixContainer=o.first),u.mGM(o=u.lsd())&&(s._floatingLabel=o.first),u.mGM(o=u.lsd())&&(s._notchedOutline=o.first),u.mGM(o=u.lsd())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,s){2&i&&u.AVh("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===s._animationMode)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary","accent"!==s.color&&"warn"!==s.color)("mat-accent","accent"===s.color)("mat-warn","warn"===s.color)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[u.Jv_([{provide:zle,useExisting:n},{provide:Ble,useExisting:n}]),u.aNF],ngContentSelectors:QPe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,s){if(1&i){const o=u.RV6();u.NAR(JPe),u.DNE(0,nOe,1,1,"ng-template",null,0,u.C5r),u.j41(2,"div",6,1),u.bIt("click",function(c){return u.eBV(o),u.Njj(s._control.onContainerClick(c))}),u.DNE(4,rOe,1,0,"div",7),u.j41(5,"div",8),u.DNE(6,oOe,2,2,"div",9)(7,aOe,3,0,"div",10)(8,cOe,3,0,"div",11),u.j41(9,"div",12),u.DNE(10,dOe,1,1,null,13),u.SdG(11),u.k0s(),u.DNE(12,uOe,3,0,"div",14)(13,fOe,3,0,"div",15),u.k0s(),u.DNE(14,hOe,1,0,"div",16),u.k0s(),u.j41(15,"div",17),u.DNE(16,pOe,2,1,"div",18)(17,gOe,5,2,"div",19),u.k0s()}if(2&i){let o;u.R7$(2),u.AVh("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),u.R7$(2),u.vxM(s._hasOutline()||s._control.disabled?-1:4),u.R7$(2),u.vxM(s._hasOutline()?6:-1),u.R7$(),u.vxM(s._hasIconPrefix?7:-1),u.R7$(),u.vxM(s._hasTextPrefix?8:-1),u.R7$(2),u.vxM(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),u.R7$(2),u.vxM(s._hasTextSuffix?12:-1),u.R7$(),u.vxM(s._hasIconSuffix?13:-1),u.R7$(),u.vxM(s._hasOutline()?-1:14),u.R7$(),u.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===s.subscriptSizing),u.R7$(),u.vxM("error"===(o=s._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[Lle,Vle,Ul,$le,Nle],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[xOe.transitionMessages]},changeDetection:0})}}return n})(),UK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,gs,Re,yo]})}}return n})();const Kle=bv({passive:!0});let TOe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return sc;const i=p(t),s=this._monitoredElements.get(i);if(s)return s.subject;const o=new Ir.B,a="cdk-text-field-autofilled",c=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,Kle),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",c,Kle)}}),o}stopMonitoring(t){const i=p(t),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(Po),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),DOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();const MOe=new u.nKC("MAT_INPUT_VALUE_ACCESSOR"),kOe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let IOe=0,POe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=ml(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(M$.required)??!1}set required(t){this._required=ml(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&k4().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ml(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,s,o,a,c,_,E,m,j){this._elementRef=t,this._platform=i,this.ngControl=s,this._autofillMonitor=E,this._ngZone=m,this._formField=j,this._uid="mat-input-"+IOe++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Ir.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ue=>k4().has(ue)),this._iOSKeyupListener=ue=>{const pe=ue.target;!pe.value&&0===pe.selectionStart&&0===pe.selectionEnd&&(pe.setSelectionRange(1,1),pe.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const oe=this._elementRef.nativeElement,le=oe.nodeName.toLowerCase();this._inputValueAccessor=_||oe,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&m.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new QJ(c,s,a,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===le,this._isTextarea="textarea"===le,this._isInFormField=!!j,this._isNativeSelect&&(this.controlType=oe.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kOe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(Po),u.rXU(ip,10),u.rXU(yv,8),u.rXU(V0,8),u.rXU(Bme),u.rXU(MOe,10),u.rXU(TOe),u.rXU(u.SKi),u.rXU(zle,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,s){1&i&&u.bIt("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&i&&(u.Mr5("id",s.id)("disabled",s.disabled)("required",s.required),u.BMQ("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),u.AVh("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[u.Jv_([{provide:Ule,useExisting:n}]),u.OA$]})}}return n})(),OOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,UK,UK,DOe,yo]})}}return n})();const zK=["*"];function ROe(n,r){1&n&&u.SdG(0)}const FOe=["tabListContainer"],NOe=["tabList"],BOe=["tabListInner"],LOe=["nextPaginator"],jOe=["previousPaginator"],$Oe=n=>({animationDuration:n}),VOe=(n,r)=>({value:n,params:r});function UOe(n,r){}const zOe=["tabBodyWrapper"],HOe=["tabHeader"];function GOe(n,r){}function WOe(n,r){if(1&n&&u.DNE(0,GOe,0,0,"ng-template",12),2&n){const t=u.XpG().$implicit;u.Y8G("cdkPortalOutlet",t.templateLabel)}}function KOe(n,r){if(1&n&&u.EFF(0),2&n){const t=u.XpG().$implicit;u.JRh(t.textLabel)}}function qOe(n,r){if(1&n){const t=u.RV6();u.j41(0,"div",7,2),u.bIt("click",function(){const s=u.eBV(t),o=s.$implicit,a=s.$index,c=u.XpG(),_=u.sdS(1);return u.Njj(c._handleClick(o,_,a))})("cdkFocusChange",function(s){const o=u.eBV(t).$index,a=u.XpG();return u.Njj(a._tabFocusChanged(s,o))}),u.nrm(2,"span",8)(3,"div",9),u.j41(4,"span",10)(5,"span",11),u.DNE(6,WOe,1,1,null,12)(7,KOe,1,1),u.k0s()()()}if(2&n){const t=r.$implicit,i=r.$index,s=u.sdS(1),o=u.XpG();u.HbH(t.labelClass),u.AVh("mdc-tab--active",o.selectedIndex===i),u.Y8G("id",o._getTabLabelId(i))("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),u.BMQ("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),u.R7$(3),u.Y8G("matRippleTrigger",s)("matRippleDisabled",t.disabled||o.disableRipple),u.R7$(3),u.vxM(t.templateLabel?6:7)}}function XOe(n,r){1&n&&u.SdG(0)}function YOe(n,r){if(1&n){const t=u.RV6();u.j41(0,"mat-tab-body",13),u.bIt("_onCentered",function(){u.eBV(t);const s=u.XpG();return u.Njj(s._removeTabBodyWrapperHeight())})("_onCentering",function(s){u.eBV(t);const o=u.XpG();return u.Njj(o._setTabBodyWrapperHeight(s))}),u.k0s()}if(2&n){const t=r.$implicit,i=r.$index,s=u.XpG();u.HbH(t.bodyClass),u.AVh("mat-mdc-tab-body-active",s.selectedIndex===i),u.Y8G("id",s._getTabContentId(i))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",s.animationDuration)("preserveContent",s.preserveContent),u.BMQ("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))("aria-hidden",s.selectedIndex!==i)}}const ZOe=new u.nKC("MatTabContent");let JOe=(()=>{class n{constructor(t){this.template=t}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[u.Jv_([{provide:ZOe,useExisting:n}])]})}}return n})();const QOe=new u.nKC("MatTabLabel"),qle=new u.nKC("MAT_TAB");let e5e=(()=>{class n extends Ege{constructor(t,i,s){super(t,i),this._closestTab=s}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.C4Q),u.rXU(u.c1b),u.rXU(qle,8))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[u.Jv_([{provide:QOe,useExisting:n}]),u.Vt3]})}}return n})();const Xle=new u.nKC("MAT_TAB_GROUP");let Yle=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,i){this._viewContainerRef=t,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ir.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new sU(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.c1b),u.rXU(Xle,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-tab"]],contentQueries:function(i,s,o){if(1&i&&(u.wni(o,e5e,5),u.wni(o,JOe,7,u.C4Q)),2&i){let a;u.mGM(a=u.lsd())&&(s.templateLabel=a.first),u.mGM(a=u.lsd())&&(s._explicitContent=a.first)}},viewQuery:function(i,s){if(1&i&&u.GBs(u.C4Q,7),2&i){let o;u.mGM(o=u.lsd())&&(s._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",u.L39],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[u.Jv_([{provide:qle,useExisting:n}]),u.GFd,u.OA$,u.aNF],ngContentSelectors:zK,decls:1,vars:0,template:function(i,s){1&i&&(u.NAR(),u.DNE(0,ROe,1,0,"ng-template"))},encapsulation:2})}}return n})();const HK="mdc-tab-indicator--active",Zle="mdc-tab-indicator--no-transition";class t5e{constructor(r){this._items=r}hide(){this._items.forEach(r=>r.deactivateInkBar())}alignToElement(r){const t=this._items.find(s=>s.elementRef.nativeElement===r),i=this._currentItem;if(t!==i&&(i?.deactivateInkBar(),t)){const s=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(s),this._currentItem=t}}}let n5e=(()=>{class n{constructor(){this._elementRef=(0,u.WQX)(u.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const i=this._elementRef.nativeElement;if(!t||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(HK);const s=i.getBoundingClientRect(),o=t.width/s.width,a=t.left-s.left;i.classList.add(Zle),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(Zle),i.classList.add(HK),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(HK)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=t.createElement("span"),s=this._inkBarContentElement=t.createElement("span");i.className="mdc-tab-indicator",s.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",u.L39]},features:[u.GFd]})}}return n})(),Jle=(()=>{class n extends n5e{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,s){2&i&&(u.BMQ("aria-disabled",!!s.disabled),u.AVh("mat-mdc-tab-disabled",s.disabled))},inputs:{disabled:[2,"disabled","disabled",u.L39]},standalone:!0,features:[u.GFd,u.Vt3]})}}return n})();const Qle=bv({passive:!0});let o5e=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const i=isNaN(t)?0:t;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(t,i,s,o,a,c,_){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=o,this._ngZone=a,this._platform=c,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ir.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ir.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new u.bkB,this.indexFocused=new u.bkB,this._sharedResizeObserver=(0,u.WQX)(Fle),this._injector=(0,u.WQX)(u.zZn),a.runOutsideAngular(()=>{na(t.nativeElement,"mouseleave").pipe(Ni(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){na(this._previousPaginator.nativeElement,"touchstart",Qle).pipe(Ni(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),na(this._nextPaginator.nativeElement,"touchstart",Qle).pipe(Ni(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Ar("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe($1(32),Ni(this._destroyed)),s=this._viewportRuler.change(150).pipe(Ni(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new VJ(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),(0,u.mal)(o,{injector:this._injector}),W1(t,s,i,this._items.changes,this._itemsResized()).pipe(Ni(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return"function"!=typeof ResizeObserver?sc:this._items.changes.pipe(sy(this._items),Rc(t=>new vs.c(i=>this._ngZone.runOutsideAngular(()=>{const s=new ResizeObserver(o=>i.next(o));return t.forEach(o=>s.observe(o.elementRef.nativeElement)),()=>{s.disconnect()}}))),iS(1),ro(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!ak(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement;let c,_;"ltr"==this._getLayoutDirection()?(c=o,_=c+a):(_=this._tabListInner.nativeElement.offsetWidth-o,c=_-a);const E=this.scrollDistance,m=this.scrollDistance+s;c<E?this.scrollDistance-=E-c:_>m&&(this.scrollDistance+=Math.min(_-m,c-E))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const s=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;s||(this.scrollDistance=0),s!==this._showPaginationControls&&(this._showPaginationControls=s,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),cR(650,100).pipe(Ni(W1(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:o}=this._scrollHeader(t);(0===o||o>=s)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(lR),u.rXU(U1,8),u.rXU(u.SKi),u.rXU(Po),u.rXU(u.bc$,8))}}static{this.\u0275dir=u.FsC({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",u.L39],selectedIndex:[2,"selectedIndex","selectedIndex",u.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[u.GFd]})}}return n})(),a5e=(()=>{class n extends o5e{constructor(t,i,s,o,a,c,_){super(t,i,s,o,a,c,_),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new t5e(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(lR),u.rXU(U1,8),u.rXU(u.SKi),u.rXU(Po),u.rXU(u.bc$,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,s,o){if(1&i&&u.wni(o,Jle,4),2&i){let a;u.mGM(a=u.lsd())&&(s._items=a)}},viewQuery:function(i,s){if(1&i&&(u.GBs(FOe,7),u.GBs(NOe,7),u.GBs(BOe,7),u.GBs(LOe,5),u.GBs(jOe,5)),2&i){let o;u.mGM(o=u.lsd())&&(s._tabListContainer=o.first),u.mGM(o=u.lsd())&&(s._tabList=o.first),u.mGM(o=u.lsd())&&(s._tabListInner=o.first),u.mGM(o=u.lsd())&&(s._nextPaginator=o.first),u.mGM(o=u.lsd())&&(s._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,s){2&i&&u.AVh("mat-mdc-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",u.L39]},standalone:!0,features:[u.GFd,u.Vt3,u.aNF],ngContentSelectors:zK,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,s){if(1&i){const o=u.RV6();u.NAR(),u.j41(0,"div",5,0),u.bIt("click",function(){return u.eBV(o),u.Njj(s._handlePaginatorClick("before"))})("mousedown",function(c){return u.eBV(o),u.Njj(s._handlePaginatorPress("before",c))})("touchend",function(){return u.eBV(o),u.Njj(s._stopInterval())}),u.nrm(2,"div",6),u.k0s(),u.j41(3,"div",7,1),u.bIt("keydown",function(c){return u.eBV(o),u.Njj(s._handleKeydown(c))}),u.j41(5,"div",8,2),u.bIt("cdkObserveContent",function(){return u.eBV(o),u.Njj(s._onContentChanges())}),u.j41(7,"div",9,3),u.SdG(9),u.k0s()()(),u.j41(10,"div",10,4),u.bIt("mousedown",function(c){return u.eBV(o),u.Njj(s._handlePaginatorPress("after",c))})("click",function(){return u.eBV(o),u.Njj(s._handlePaginatorClick("after"))})("touchend",function(){return u.eBV(o),u.Njj(s._stopInterval())}),u.nrm(12,"div",6),u.k0s()}2&i&&(u.AVh("mat-mdc-tab-header-pagination-disabled",s._disableScrollBefore),u.Y8G("matRippleDisabled",s._disableScrollBefore||s.disableRipple),u.R7$(3),u.AVh("_mat-animation-noopable","NoopAnimations"===s._animationMode),u.R7$(2),u.BMQ("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby||null),u.R7$(5),u.AVh("mat-mdc-tab-header-pagination-disabled",s._disableScrollAfter),u.Y8G("matRippleDisabled",s._disableScrollAfter||s.disableRipple))},dependencies:[mk,ve],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return n})();const c5e=new u.nKC("MAT_TABS_CONFIG"),l5e={translateTab:(0,Yr.hZ)("translateTab",[(0,Yr.wk)("center, void, left-origin-center, right-origin-center",(0,Yr.iF)({transform:"none",visibility:"visible"})),(0,Yr.wk)("left",(0,Yr.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Yr.wk)("right",(0,Yr.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Yr.kY)("* => left, * => right, left => center, right => center",(0,Yr.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Yr.kY)("void => left-origin-center",[(0,Yr.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Yr.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Yr.kY)("void => right-origin-center",[(0,Yr.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Yr.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let d5e=(()=>{class n extends oU{constructor(t,i,s,o){super(t,i,o),this._host=s,this._centeringSub=da.yU.EMPTY,this._leavingSub=da.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(sy(this._host._isCenterPosition(this._host._position))).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.OM3),u.rXU(u.c1b),u.rXU((0,u.Rfq)(()=>ede)),u.rXU(ze))}}static{this.\u0275dir=u.FsC({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[u.Vt3]})}}return n})(),ede=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,s){this._elementRef=t,this._dir=i,this._dirChangeSubscription=da.yU.EMPTY,this._translateTabComplete=new Ir.B,this._onCentering=new u.bkB,this._beforeCentering=new u.bkB,this._afterLeavingCenter=new u.bkB,this._onCentered=new u.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),s.markForCheck()})),this._translateTabComplete.subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(U1,8),u.rXU(u.gRc))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,s){if(1&i&&u.GBs(oU,5),2&i){let o;u.mGM(o=u.lsd())&&(s._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[u.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,s){if(1&i){const o=u.RV6();u.j41(0,"div",1,0),u.bIt("@translateTab.start",function(c){return u.eBV(o),u.Njj(s._onTranslateTabStarted(c))})("@translateTab.done",function(c){return u.eBV(o),u.Njj(s._translateTabComplete.next(c))}),u.DNE(2,UOe,0,0,"ng-template",2),u.k0s()}2&i&&u.Y8G("@translateTab",u.l_i(3,VOe,s._position,u.eq3(1,$Oe,s.animationDuration)))},dependencies:[d5e,_ge],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[l5e.translateTab]}})}}return n})(),u5e=0,h5e=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const i=t+"";this._animationDuration=/^\d+$/.test(i)?t+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,s,o){this._elementRef=t,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new u.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=da.yU.EMPTY,this._tabLabelSubscription=da.yU.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new u.bkB,this.focusChange=new u.bkB,this.animationDone=new u.bkB,this.selectedTabChange=new u.bkB(!0),this._isServer=!(0,u.WQX)(Po).isBrowser,this._groupId=u5e++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,null!=s?.contentTabIndex&&(this.contentTabIndex=s.contentTabIndex),this.preserveContent=!!s?.preserveContent,this.fitInkBarToContent=!(!s||null==s.fitInkBarToContent)&&s.fitInkBarToContent,this.stretchTabs=!s||null==s.stretchTabs||s.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,o)=>s.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let s;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,s=i[o];break}!s&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(sy(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new p5e;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=W1(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,s){i.focusIndex=s,t.disabled||(this.selectedIndex=s)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(c5e,8),u.rXU(u.bc$,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,s,o){if(1&i&&u.wni(o,Yle,5),2&i){let a;u.mGM(a=u.lsd())&&(s._allTabs=a)}},viewQuery:function(i,s){if(1&i&&(u.GBs(zOe,5),u.GBs(HOe,5)),2&i){let o;u.mGM(o=u.lsd())&&(s._tabBodyWrapper=o.first),u.mGM(o=u.lsd())&&(s._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,s){2&i&&(u.HbH("mat-"+(s.color||"primary")),u.xc7("--mat-tab-animation-duration",s.animationDuration),u.AVh("mat-mdc-tab-group-dynamic-height",s.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===s.headerPosition)("mat-mdc-tab-group-stretch-tabs",s.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",u.L39],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",u.L39],dynamicHeight:[2,"dynamicHeight","dynamicHeight",u.L39],selectedIndex:[2,"selectedIndex","selectedIndex",u.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",u.Udg],disablePagination:[2,"disablePagination","disablePagination",u.L39],disableRipple:[2,"disableRipple","disableRipple",u.L39],preserveContent:[2,"preserveContent","preserveContent",u.L39],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[u.Jv_([{provide:Xle,useExisting:n}]),u.GFd,u.aNF],ngContentSelectors:zK,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,s){if(1&i){const o=u.RV6();u.NAR(),u.j41(0,"mat-tab-header",3,0),u.bIt("indexFocused",function(c){return u.eBV(o),u.Njj(s._focusChanged(c))})("selectFocusedIndex",function(c){return u.eBV(o),u.Njj(s.selectedIndex=c)}),u.Z7z(2,qOe,8,17,"div",4,u.fX1),u.k0s(),u.DNE(4,XOe,1,0),u.j41(5,"div",5,1),u.Z7z(7,YOe,1,13,"mat-tab-body",6,u.fX1),u.k0s()}2&i&&(u.Y8G("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby),u.R7$(2),u.Dyx(s._tabs),u.R7$(2),u.vxM(s._isServer?4:-1),u.R7$(),u.AVh("_mat-animation-noopable","NoopAnimations"===s._animationMode),u.R7$(2),u.Dyx(s._tabs))},dependencies:[a5e,Jle,xme,mk,oU,ede],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return n})();class p5e{}let m5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,yo]})}}return n})();const g5e=["*"],w5e=new u.nKC("MAT_CARD_CONFIG");let tde=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(w5e,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,s){2&i&&u.AVh("mat-mdc-card-outlined","outlined"===s.appearance)("mdc-card--outlined","outlined"===s.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[u.aNF],ngContentSelectors:g5e,decls:1,vars:0,template:function(i,s){1&i&&(u.NAR(),u.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),nde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=u.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})(),S5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,gs,yo]})}}return n})();function C5e(n,r){1&n&&(u.j41(0,"mat-card",14)(1,"mat-card-content"),u.EFF(2,"Successfully received permission to deliver credential."),u.k0s()())}function A5e(n,r){if(1&n){const t=u.RV6();u.j41(0,"mat-card")(1,"mat-card-content")(2,"p")(3,"strong"),u.EFF(4,"Credential:"),u.k0s(),u.nrm(5,"br"),u.EFF(6),u.k0s(),u.j41(7,"button",15),u.bIt("click",function(){u.eBV(t);const s=u.XpG();return u.Njj(s.copyCredential())}),u.j41(8,"mat-icon"),u.EFF(9,"content_copy"),u.k0s()()()()}if(2&n){const t=u.XpG();u.R7$(6),u.JRh(t.credential)}}function T5e(n,r){if(1&n&&(u.j41(0,"div")(1,"mat-card")(2,"mat-card-content")(3,"p"),u.EFF(4),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s(),u.j41(7,"p"),u.EFF(8),u.k0s()()()()),2&n){const t=r.$implicit;u.R7$(4),u.SpI("Issuer: ",t.vc.issuer,""),u.R7$(2),u.SpI("Tier: ",t.vc.vcDataModel.credentialSubject.tier,""),u.R7$(2),u.SpI("Country of Residence: ",t.vc.vcDataModel.credentialSubject.countryOfResidence,"")}}const D5e=[{path:"",redirectTo:"start",pathMatch:"full"},{path:"start",component:dQ},{path:"logout",component:dQ},{path:"dashboard",component:rye,children:[{path:"kcc",component:(()=>{class n{constructor(){this.identity=(0,u.WQX)(oce),this.kccService=(0,u.WQX)($Pe),this.dwnService=(0,u.WQX)(Rle),this.loading=!1,this.signed=!1,this.permissionRequested=!1,this.permissionReceived=!1,this.lookupSigned=void 0,this.did="did:dht:gkg4cus6hzj3cytan4qfr5zkwosydtdtfkkgy919tuiamzmdpkoy",this.countryOfResidence="",this.tier="Silver",this.jurisdiction="",this.documentVerification="passport utility_bill driver_license",this.credential="",this.credentials=[]}requestPermission(){var t=this;return(0,Nn.A)(function*(){t.permissionRequested=!0;try{yield t.dwnService.authorizeToWrite(t.identity.did),t.permissionReceived=!0}catch(i){console.log("Failed to request permission:",i)}})()}signCredential(){var t=this;return(0,Nn.A)(function*(){t.loading=!0;try{const i=yield t.kccService.issueKcc(t.did);yield t.kccService.storeKccInDwn(i,t.did),t.credential=i,t.signed=!0}catch(i){console.error("Error signing and storing credential:",i)}finally{t.loading=!1}})()}lookupCredentials(){var t=this;return(0,Nn.A)(function*(){t.lookupSigned=void 0;try{const{records:i}=yield t.dwnService.dwn.records.query({from:t.did,message:{filter:{schema:"https://vc-to-dwn.tbddev.org/vc-protocol/schema/credential",dataFormat:"application/vc+jwt"}}});t.credentials=i||[],t.lookupSigned=i&&i.length>0||!1}catch(i){console.error("Error looking up credentials:",i)}})()}withdrawCredentials(){var t=this;return(0,Nn.A)(function*(){try{const{records:i}=yield t.dwnService.dwn.records.query({message:{filter:{schema:"https://vc-to-dwn.tbddev.org/vc-protocol/schema/credential",dataFormat:"application/vc+jwt"}}});for(const s of i||[])yield s.delete(),yield s.send(t.identity.did);t.signed=!1}catch(i){console.error("Error withdrawing credentials:",i)}finally{t.loading=!1}})()}copyCredential(){navigator.clipboard.writeText(this.credential)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["app-known-customer-credential"]],decls:56,vars:11,consts:[["label","About"],["label","Permission"],["appearance","fill"],["matInput","","placeholder","DID","readonly","",3,"value"],["mat-button","",3,"click","disabled"],["class","success",4,"ngIf"],["label","Issue Credential"],["matInput","",3,"ngModelChange","ngModel"],["matInput","","placeholder","Space-separated list",3,"ngModelChange","ngModel"],[4,"ngIf"],["label","Validate"],["matInput","",3,"ngModelChange","keydown.enter","ngModel"],["mat-button","",3,"click"],[4,"ngFor","ngForOf"],[1,"success"],["mat-icon-button","",3,"click"]],template:function(i,s){1&i&&(u.j41(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card")(3,"mat-card-content")(4,"h1"),u.EFF(5,"Known Customer Credentials"),u.k0s(),u.j41(6,"p"),u.EFF(7," The Known Customer Credentials (KCC) is a decentralized identity system that allows individuals and companies to issue credentials to others about what evidence they have about specific identifiers (also known as customers). "),u.k0s()()()(),u.j41(8,"mat-tab",1)(9,"mat-card")(10,"mat-card-content")(11,"h1"),u.EFF(12,"Ask for Delivery Permission"),u.k0s(),u.j41(13,"mat-form-field",2)(14,"mat-label"),u.EFF(15,"Enter DID"),u.k0s(),u.nrm(16,"input",3),u.k0s(),u.j41(17,"button",4),u.bIt("click",function(){return s.requestPermission()}),u.EFF(18," Ask for Permission "),u.k0s()(),u.DNE(19,C5e,3,0,"mat-card",5),u.k0s()(),u.j41(20,"mat-tab",6)(21,"mat-card")(22,"mat-card-content")(23,"h1"),u.EFF(24,"Issue Credential"),u.k0s(),u.j41(25,"mat-form-field")(26,"mat-label"),u.EFF(27,"Country of Residence"),u.k0s(),u.j41(28,"input",7),u.mxI("ngModelChange",function(a){return u.DH7(s.countryOfResidence,a)||(s.countryOfResidence=a),a}),u.k0s()(),u.j41(29,"mat-form-field")(30,"mat-label"),u.EFF(31,"Customer Tier"),u.k0s(),u.j41(32,"input",7),u.mxI("ngModelChange",function(a){return u.DH7(s.tier,a)||(s.tier=a),a}),u.k0s()(),u.j41(33,"mat-form-field")(34,"mat-label"),u.EFF(35,"Jurisdiction"),u.k0s(),u.j41(36,"input",7),u.mxI("ngModelChange",function(a){return u.DH7(s.jurisdiction,a)||(s.jurisdiction=a),a}),u.k0s()(),u.j41(37,"mat-form-field")(38,"mat-label"),u.EFF(39,"Documents Verification"),u.k0s(),u.j41(40,"input",8),u.mxI("ngModelChange",function(a){return u.DH7(s.documentVerification,a)||(s.documentVerification=a),a}),u.k0s()(),u.j41(41,"button",4),u.bIt("click",function(){return s.signCredential()}),u.EFF(42,"Sign and Save Credential"),u.k0s()(),u.DNE(43,A5e,10,1,"mat-card",9),u.k0s()(),u.j41(44,"mat-tab",10)(45,"mat-card")(46,"mat-card-content")(47,"h2"),u.EFF(48,"Check Verification Status"),u.k0s(),u.j41(49,"mat-form-field")(50,"mat-label"),u.EFF(51,"DID"),u.k0s(),u.j41(52,"input",11),u.mxI("ngModelChange",function(a){return u.DH7(s.did,a)||(s.did=a),a}),u.bIt("keydown.enter",function(){return s.lookupCredentials()}),u.k0s()(),u.j41(53,"button",12),u.bIt("click",function(){return s.lookupCredentials()}),u.EFF(54,"Lookup Credentials"),u.k0s(),u.DNE(55,T5e,9,3,"div",13),u.k0s()()()()),2&i&&(u.R7$(16),u.Y8G("value",s.identity.did),u.R7$(),u.Y8G("disabled",s.permissionRequested),u.R7$(2),u.Y8G("ngIf",s.permissionReceived),u.R7$(9),u.R50("ngModel",s.countryOfResidence),u.R7$(4),u.R50("ngModel",s.tier),u.R7$(4),u.R50("ngModel",s.jurisdiction),u.R7$(4),u.R50("ngModel",s.documentVerification),u.R7$(),u.Y8G("disabled",s.loading),u.R7$(2),u.Y8G("ngIf",s.credential),u.R7$(9),u.R50("ngModel",s.did),u.R7$(3),u.Y8G("ngForOf",s.credentials))},dependencies:[uo,Bo,k1,G5,R1,KV,e0e,AOe,VK,POe,VQ,Yle,h5e,tde,nde]})}}return n})()},{path:"",redirectTo:"kcc",pathMatch:"full"}]}];let M5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[b2.forRoot(D5e),b2]})}}return n})(),k5e=(()=>{class n{constructor(){this.title="kcc-management"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&u.nrm(0,"router-outlet")},dependencies:[l_]})}}return n})();const{isArray:F5e}=Array;function rde(n){return 1===n.length&&F5e(n[0])?n[0]:n}function GK(...n){const r=Ox(n),t=rde(n);return t.length?new vs.c(i=>{let s=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{s=o=null});for(let a=0;!i.closed&&a<t.length;a++)Do(t[a]).subscribe((0,Ds._)(i,c=>{if(s[a].push(c),s.every(_=>_.length)){const _=s.map(E=>E.shift());i.next(r?r(..._):_),s.some((E,m)=>!E.length&&o[m])&&i.complete()}},()=>{o[a]=!0,!s[a].length&&i.complete()}));return()=>{s=o=null}}):sc}function WK(...n){const r=Ox(n);return(0,Mo.N)((t,i)=>{const s=n.length,o=new Array(s);let a=n.map(()=>!1),c=!1;for(let _=0;_<s;_++)Do(n[_]).subscribe((0,Ds._)(i,E=>{o[_]=E,!c&&!a[_]&&(a[_]=!0,(c=a.every(Oh.D))&&(a=null))},Lx.l));t.subscribe((0,Ds._)(i,_=>{if(c){const E=[_,...o];i.next(r?r(...E):E)}}))})}Math,Math,Math;const z4e=["*"],bRe=["dialog"],Ede={animation:!0,transitionTimerDelayMs:5};let bB=(()=>{class n{constructor(){this.animation=Ede.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function BC(n){return"string"==typeof n}function Jw(n){return null!=n}function LC(n){return(n||document.body).getBoundingClientRect()}const fFe=()=>{},{transitionTimerDelayMs:hFe}=Ede,XI=new Map,xh=(n,r,t,i)=>{let s=i.context||{};const o=XI.get(r);if(o)switch(i.runningTransition){case"continue":return sc;case"stop":n.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),XI.delete(r)}const a=t(r,i.animation,s)||fFe;if(!i.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>a()),Ar(void 0).pipe(function uFe(n){return r=>new vs.c(t=>r.subscribe({next:a=>n.run(()=>t.next(a)),error:a=>n.run(()=>t.error(a)),complete:()=>n.run(()=>t.complete())}))}(n));const c=new Ir.B,_=new Ir.B,E=c.pipe(function B5e(...n){return r=>Pu(r,Ar(...n))}(!0));XI.set(r,{transition$:c,complete:()=>{_.next(),_.complete()},context:s});const m=function cFe(n){const{transitionDelay:r,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(t))}(r);return n.runOutsideAngular(()=>{const j=na(r,"transitionend").pipe(Ni(E),ro(({target:le})=>le===r));(function ide(...n){return 1===(n=rde(n)).length?Do(n[0]):new vs.c(function N5e(n){return r=>{let t=[];for(let i=0;t&&!r.closed&&i<n.length;i++)t.push(Do(n[i]).subscribe((0,Ds._)(r,s=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}r.next(s)})))}}(n))})(cR(m+hFe).pipe(Ni(E)),j,_).pipe(Ni(E)).subscribe(()=>{XI.delete(r),n.run(()=>{a(),c.next(),c.complete()})})}),c.asObservable()};let kde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Ide=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Rde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Fde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ude=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zde(n){const r=Array.from(n.querySelectorAll(Ude)).filter(t=>-1!==t.tabIndex);return[r[0],r[r.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let sue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),aue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),gNe=(()=>{class n{constructor(){this._ngbConfig=(0,u.WQX)(bB),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class rx{constructor(r,t,i){this.nodes=r,this.viewRef=t,this.componentRef=i}}let yNe=(()=>{class n{constructor(){this._document=(0,u.WQX)(ze)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:o,paddingRight:a}=s;if(t>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${c+t}px`}return s.overflow="hidden",()=>{t>0&&(s.paddingRight=a),s.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vNe=(()=>{class n{constructor(){this._nativeElement=(0,u.WQX)(u.aKT).nativeElement,this._zone=(0,u.WQX)(u.SKi),this._injector=(0,u.WQX)(u.zZn)}ngOnInit(){(0,u.mal)(()=>xh(this._zone,this._nativeElement,(t,i)=>{i&&LC(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:u.wjH.MixedReadWrite})}hide(){return xh(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,s){2&i&&(u.HbH("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),u.AVh("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})();class cue{update(r){}close(r){}dismiss(r){}}const bNe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_Ne=["animation","backdropClass"];class wNe{_applyWindowOptions(r,t){bNe.forEach(i=>{Jw(t[i])&&(r[i]=t[i])})}_applyBackdropOptions(r,t){_Ne.forEach(i=>{Jw(t[i])&&(r[i]=t[i])})}update(r){this._applyWindowOptions(this._windowCmptRef.instance,r),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,r)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ni(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ni(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(r,t,i,s){this._windowCmptRef=r,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new Ir.B,this._dismissed=new Ir.B,this._hidden=new Ir.B,r.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,a)=>{this._resolve=o,this._reject=a}),this.result.then(null,()=>{})}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Sde(n){return n&&n.then}(t)?!1!==t&&this._dismiss(r):t.then(i=>{!1!==i&&this._dismiss(r)},()=>{})}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ar(void 0);r.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),GK(r,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yq=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(yq||{});let xNe=(()=>{class n{constructor(){this._document=(0,u.WQX)(ze),this._elRef=(0,u.WQX)(u.aKT),this._zone=(0,u.WQX)(u.SKi),this._injector=(0,u.WQX)(u.zZn),this._closed$=new Ir.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.bkB,this.shown=new Ir.B,this.hidden=new Ir.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":BC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,(0,u.mal)(()=>this._show(),{injector:this._injector,phase:u.wjH.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=GK(xh(this._zone,t,()=>t.classList.remove("show"),i),xh(this._zone,this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const t={animation:this.animation,runningTransition:"continue"};GK(xh(this._zone,this._elRef.nativeElement,(o,a)=>{a&&LC(o),o.classList.add("show")},t),xh(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{na(t,"keydown").pipe(Ni(this._closed$),ro(s=>"Escape"===s.key)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(yq.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;na(this._dialogEl.nativeElement,"mousedown").pipe(Ni(this._closed$),Yo(()=>i=!1),Rc(()=>na(t,"mouseup").pipe(Ni(this._closed$),oc(1))),ro(({target:s})=>t===s)).subscribe(()=>{i=!0}),na(t,"click").pipe(Ni(this._closed$)).subscribe(({target:s})=>{t===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yq.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),s=zde(t)[0];(i||s||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xh(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,s){if(1&i&&u.GBs(bRe,7),2&i){let o;u.mGM(o=u.lsd())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,s){2&i&&(u.BMQ("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),u.HbH("modal d-block"+(s.windowClass?" "+s.windowClass:"")),u.AVh("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.aNF],ngContentSelectors:z4e,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,s){1&i&&(u.NAR(),u.j41(0,"div",1,0)(2,"div",2),u.SdG(3),u.k0s()()),2&i&&u.HbH("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),ENe=(()=>{class n{constructor(){this._applicationRef=(0,u.WQX)(u.o8S),this._injector=(0,u.WQX)(u.zZn),this._environmentInjector=(0,u.WQX)(u.uvJ),this._document=(0,u.WQX)(ze),this._scrollBar=(0,u.WQX)(yNe),this._activeWindowCmptHasChanged=new Ir.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.bkB;const t=(0,u.WQX)(u.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((n,r,t,i=!1)=>{n.runOutsideAngular(()=>{const s=na(r,"focusin").pipe(Ni(t),(0,ei.T)(o=>o.target));na(r,"keydown").pipe(Ni(t),ro(o=>"Tab"===o.key),WK(s)).subscribe(([o,a])=>{const[c,_]=zde(r);(a===c||a===r)&&o.shiftKey&&(_.focus(),o.preventDefault()),a===_&&!o.shiftKey&&(c.focus(),o.preventDefault())}),i&&na(r,"click").pipe(Ni(t),WK(s),(0,ei.T)(o=>o[1])).subscribe(o=>o.focus())})})(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,s){const o=s.container instanceof HTMLElement?s.container:Jw(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new cue,c=(t=s.injector||t).get(u.uvJ,null)||this._environmentInjector,_=this._getContentRef(t,c,i,a,s);let E=!1!==s.backdrop?this._attachBackdrop(o):void 0,m=this._attachWindowComponent(o,_.nodes),j=new wNe(m,_,E,s.beforeDismiss);return this._registerModalRef(j),this._registerWindowCmpt(m),j.hidden.pipe(oc(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=oe=>{j.close(oe)},a.dismiss=oe=>{j.dismiss(oe)},a.update=oe=>{j.update(oe)},j.update(s),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),E&&E.instance&&E.changeDetectorRef.detectChanges(),m.changeDetectorRef.detectChanges(),j}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.a0P)(vNe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let s=(0,u.a0P)(xNe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_getContentRef(t,i,s,o,a){return s?s instanceof u.C4Q?this._createFromTemplateRef(s,o):BC(s)?this._createFromString(s):this._createFromComponent(t,i,s,o,a):new rx([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new rx([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new rx([[i]])}_createFromComponent(t,i,s,o,a){const c=u.zZn.create({providers:[{provide:cue,useValue:o}],parent:t}),_=(0,u.a0P)(s,{environmentInjector:i,elementInjector:c}),E=_.location.nativeElement;return a.scrollable&&E.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new rx([[E]],_.hostView,_)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==t&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SNe=(()=>{class n{constructor(){this._injector=(0,u.WQX)(u.zZn),this._modalStack=(0,u.WQX)(ENe),this._config=(0,u.WQX)(gNe)}open(t,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:[SNe]})}}return n})(),fue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),_ue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),wue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),xue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Eue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Sue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Cue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Aue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Tue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();new u.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Due=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})(),Mue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({})}}return n})();const jNe=[kde,Ide,Rde,Fde,sue,aue,lue,fue,Mue,_ue,wue,xue,Eue,Sue,Cue,Aue,Tue,Due];let kue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[jNe,kde,Ide,Rde,Fde,sue,aue,lue,fue,Mue,_ue,wue,xue,Eue,Sue,Cue,Aue,Tue,Due]})}}return n})(),VNe=(()=>{class n{constructor(t,i,s,o,a){this.doc=t,this.delegate=i,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=(0,u.WQX)(u.An2,{optional:!0}),this.loadingSchedulerFn=(0,u.WQX)(zNe,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){const t=()=>this.moduleImpl??Promise.resolve().then(A.bind(A,68008)).then(s=>s);let i;return i=this.loadingSchedulerFn?this.loadingSchedulerFn(t):t(),i.catch(s=>{throw new u.wOt(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc);const a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(0===s.\u0275type)return s;"boolean"==typeof s.throwOnSyntheticProps&&(s.throwOnSyntheticProps=!1);const o=new UNe(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{const c=a.createRenderer(t,i);o.use(c),this.scheduler?.notify(10)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){u.QTQ()}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();class UNe{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,null!==this.replay){for(const t of this.replay)t(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,t){this.delegate.appendChild(r,t)}insertBefore(r,t,i,s){this.delegate.insertBefore(r,t,i,s)}removeChild(r,t,i){this.delegate.removeChild(r,t,i)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,i,s){this.delegate.setAttribute(r,t,i,s)}removeAttribute(r,t,i){this.delegate.removeAttribute(r,t,i)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,i,s){this.delegate.setStyle(r,t,i,s)}removeStyle(r,t,i){this.delegate.removeStyle(r,t,i)}setProperty(r,t,i){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(r,t,i)),this.delegate.setProperty(r,t,i)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,i){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(r,t,i)),this.delegate.listen(r,t,i)}shouldReplay(r){return null!==this.replay&&r.startsWith("@")}}const zNe=new u.nKC("");function HNe(n="animations"){return(0,u.ngT)("NgAsyncAnimations"),(0,u.EmA)([{provide:u._9s,useFactory:(r,t,i)=>new VNe(r,t,i,n),deps:[ze,Lb,u.SKi]},{provide:u.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}var Eh=A(68008);let GNe=(()=>{class n extends Eh.\u0275AnimationEngine{constructor(t,i,s){super(t,i,s)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(u.KVO(ze),u.KVO(Eh.AnimationDriver),u.KVO(Eh.\u0275AnimationStyleNormalizer))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}}return n})();const Iue=[{provide:Eh.\u0275AnimationStyleNormalizer,useFactory:function WNe(){return new Eh.\u0275WebAnimationsStyleNormalizer}},{provide:Eh.\u0275AnimationEngine,useClass:GNe},{provide:u._9s,useFactory:function KNe(n,r,t){return new Eh.\u0275AnimationRendererFactory(n,r,t)},deps:[Lb,Eh.\u0275AnimationEngine,u.SKi]}],_q=[{provide:Eh.AnimationDriver,useFactory:()=>new Eh.\u0275WebAnimationsDriver},{provide:u.bc$,useValue:"BrowserAnimations"},...Iue],Pue=[{provide:Eh.AnimationDriver,useClass:Eh.NoopAnimationDriver},{provide:u.bc$,useValue:"NoopAnimations"},...Iue];let qNe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Pue:_q}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({providers:_q,imports:[Zg]})}}return n})();const XNe=["input"],YNe=["label"],ZNe=["*"],JNe=new u.nKC("mat-checkbox-default-options",{providedIn:"root",factory:Oue});function Oue(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ld=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(ld||{});const QNe={provide:pl,useExisting:(0,u.Rfq)(()=>Fue),multi:!0};class eBe{}let tBe=0;const Rue=Oue();let Fue=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new eBe;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,s,o,a,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=s,this._animationMode=a,this._options=c,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new u.bkB,this.indeterminateChange=new u.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ld.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Rue,this.color=this._options.color||Rue.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++tBe,this.disabledInteractive=c?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=t,i&&(this._transitionCheckState(this._indeterminate?ld.Indeterminate:this.checked?ld.Checked:ld.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,s=this._getAnimationTargetElement();if(i!==t&&s&&(this._currentAnimationClass&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===t)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ld.Checked:ld.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case ld.Init:if(i===ld.Checked)return this._animationClasses.uncheckedToChecked;if(i==ld.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ld.Unchecked:return i===ld.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ld.Checked:return i===ld.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ld.Indeterminate:return i===ld.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(u.SKi),u.kS0("tabindex"),u.rXU(u.bc$,8),u.rXU(JNe,8))}}static{this.\u0275cmp=u.VBU({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,s){if(1&i&&(u.GBs(XNe,5),u.GBs(YNe,5),u.GBs(mk,5)),2&i){let o;u.mGM(o=u.lsd())&&(s._inputElement=o.first),u.mGM(o=u.lsd())&&(s._labelElement=o.first),u.mGM(o=u.lsd())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,s){2&i&&(u.Mr5("id",s.id),u.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),u.HbH(s.color?"mat-"+s.color:"mat-accent"),u.AVh("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mdc-checkbox--disabled",s.disabled)("mat-mdc-checkbox-disabled",s.disabled)("mat-mdc-checkbox-checked",s.checked)("mat-mdc-checkbox-disabled-interactive",s.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",u.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",u.L39],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?void 0:(0,u.Udg)(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",u.L39],checked:[2,"checked","checked",u.L39],disabled:[2,"disabled","disabled",u.L39],indeterminate:[2,"indeterminate","indeterminate",u.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[u.Jv_([QNe,{provide:Aa,useExisting:n,multi:!0}]),u.GFd,u.OA$,u.aNF],ngContentSelectors:ZNe,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,s){if(1&i){const o=u.RV6();u.NAR(),u.j41(0,"div",3),u.bIt("click",function(c){return u.eBV(o),u.Njj(s._preventBubblingFromLabel(c))}),u.j41(1,"div",4,0)(3,"div",5),u.bIt("click",function(){return u.eBV(o),u.Njj(s._onTouchTargetClick())}),u.k0s(),u.j41(4,"input",6,1),u.bIt("blur",function(){return u.eBV(o),u.Njj(s._onBlur())})("click",function(){return u.eBV(o),u.Njj(s._onInputClick())})("change",function(c){return u.eBV(o),u.Njj(s._onInteractionEvent(c))}),u.k0s(),u.nrm(6,"div",7),u.j41(7,"div",8),u.qSk(),u.j41(8,"svg",9),u.nrm(9,"path",10),u.k0s(),u.joV(),u.nrm(10,"div",11),u.k0s(),u.nrm(11,"div",12),u.k0s(),u.j41(12,"label",13,2),u.SdG(14),u.k0s()()}if(2&i){const o=u.sdS(2);u.Y8G("labelPosition",s.labelPosition),u.R7$(4),u.AVh("mdc-checkbox--selected",s.checked),u.Y8G("checked",s.checked)("indeterminate",s.indeterminate)("disabled",s.disabled&&!s.disabledInteractive)("id",s.inputId)("required",s.required)("tabIndex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex),u.BMQ("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby)("aria-checked",s.indeterminate?"mixed":null)("aria-disabled",!(!s.disabled||!s.disabledInteractive)||null)("name",s.name)("value",s.value),u.R7$(7),u.Y8G("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),u.R7$(),u.Y8G("for",s.inputId)}},dependencies:[mk,Hme],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),iBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[Fue,yo,yo]})}}return n})(),oBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,_k,_k,yo]})}}return n})(),aBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[yo,yo]})}}return n})(),LBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n})}static{this.\u0275inj=u.G2t({imports:[Re,gs,yo,sQ,Ume,aBe]})}}return n})();function jBe(){}function xq(n){return null==n?jBe:function(){return this.querySelector(n)}}function UBe(){return[]}function Vue(n){return null==n?UBe:function(){return this.querySelectorAll(n)}}function Uue(n){return function(){return this.matches(n)}}function zue(n){return function(r){return r.matches(n)}}var GBe=Array.prototype.find;function KBe(){return this.firstElementChild}var XBe=Array.prototype.filter;function YBe(){return Array.from(this.children)}function Hue(n){return new Array(n.length)}function PB(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function nLe(n,r,t,i,s,o){for(var c,a=0,_=r.length,E=o.length;a<E;++a)(c=r[a])?(c.__data__=o[a],i[a]=c):t[a]=new PB(n,o[a]);for(;a<_;++a)(c=r[a])&&(s[a]=c)}function rLe(n,r,t,i,s,o,a){var c,_,le,E=new Map,m=r.length,j=o.length,oe=new Array(m);for(c=0;c<m;++c)(_=r[c])&&(oe[c]=le=a.call(_,_.__data__,c,r)+"",E.has(le)?s[c]=_:E.set(le,_));for(c=0;c<j;++c)le=a.call(n,o[c],c,o)+"",(_=E.get(le))?(i[c]=_,_.__data__=o[c],E.delete(le)):t[c]=new PB(n,o[c]);for(c=0;c<m;++c)(_=r[c])&&E.get(oe[c])===_&&(s[c]=_)}function iLe(n){return n.__data__}function oLe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function fLe(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}PB.prototype={constructor:PB,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Eq="http://www.w3.org/1999/xhtml";const Gue={svg:"http://www.w3.org/2000/svg",xhtml:Eq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function OB(n){var r=n+="",t=r.indexOf(":");return t>=0&&"xmlns"!==(r=n.slice(0,t))&&(n=n.slice(t+1)),Gue.hasOwnProperty(r)?{space:Gue[r],local:n}:n}function bLe(n){return function(){this.removeAttribute(n)}}function _Le(n){return function(){this.removeAttributeNS(n.space,n.local)}}function wLe(n,r){return function(){this.setAttribute(n,r)}}function xLe(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function ELe(n,r){return function(){var t=r.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function SLe(n,r){return function(){var t=r.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Wue(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function ALe(n){return function(){this.style.removeProperty(n)}}function TLe(n,r,t){return function(){this.style.setProperty(n,r,t)}}function DLe(n,r,t){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function VC(n,r){return n.style.getPropertyValue(r)||Wue(n).getComputedStyle(n,null).getPropertyValue(r)}function kLe(n){return function(){delete this[n]}}function ILe(n,r){return function(){this[n]=r}}function PLe(n,r){return function(){var t=r.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function Kue(n){return n.trim().split(/^|\s+/)}function Sq(n){return n.classList||new que(n)}function que(n){this._node=n,this._names=Kue(n.getAttribute("class")||"")}function Xue(n,r){for(var t=Sq(n),i=-1,s=r.length;++i<s;)t.add(r[i])}function Yue(n,r){for(var t=Sq(n),i=-1,s=r.length;++i<s;)t.remove(r[i])}function RLe(n){return function(){Xue(this,n)}}function FLe(n){return function(){Yue(this,n)}}function NLe(n,r){return function(){(r.apply(this,arguments)?Xue:Yue)(this,n)}}function LLe(){this.textContent=""}function jLe(n){return function(){this.textContent=n}}function $Le(n){return function(){var r=n.apply(this,arguments);this.textContent=r??""}}function ULe(){this.innerHTML=""}function zLe(n){return function(){this.innerHTML=n}}function HLe(n){return function(){var r=n.apply(this,arguments);this.innerHTML=r??""}}function WLe(){this.nextSibling&&this.parentNode.appendChild(this)}function qLe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YLe(n){return function(){var r=this.ownerDocument,t=this.namespaceURI;return t===Eq&&r.documentElement.namespaceURI===Eq?r.createElement(n):r.createElementNS(t,n)}}function ZLe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Zue(n){var r=OB(n);return(r.local?ZLe:YLe)(r)}function QLe(){return null}function t9e(){var n=this.parentNode;n&&n.removeChild(this)}function r9e(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function i9e(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function l9e(n){return function(){var r=this.__on;if(r){for(var o,t=0,i=-1,s=r.length;t<s;++t)o=r[t],n.type&&o.type!==n.type||o.name!==n.name?r[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?r.length=i:delete this.__on}}}function d9e(n,r,t){return function(){var s,i=this.__on,o=function a9e(n){return function(r){n.call(this,r,this.__data__)}}(r);if(i)for(var a=0,c=i.length;a<c;++a)if((s=i[a]).type===n.type&&s.name===n.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=t),void(s.value=r);this.addEventListener(n.type,o,t),s={type:n.type,name:n.name,value:r,listener:o,options:t},i?i.push(s):this.__on=[s]}}function Jue(n,r,t){var i=Wue(n),s=i.CustomEvent;"function"==typeof s?s=new s(r,t):(s=i.document.createEvent("Event"),t?(s.initEvent(r,t.bubbles,t.cancelable),s.detail=t.detail):s.initEvent(r,!1,!1)),n.dispatchEvent(s)}function f9e(n,r){return function(){return Jue(this,n,r)}}function h9e(n,r){return function(){return Jue(this,n,r.apply(this,arguments))}}que.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Que=[null];function wf(n,r){this._groups=n,this._parents=r}function efe(){return new wf([[document.documentElement]],Que)}wf.prototype=efe.prototype={constructor:wf,select:function $Be(n){"function"!=typeof n&&(n=xq(n));for(var r=this._groups,t=r.length,i=new Array(t),s=0;s<t;++s)for(var _,E,o=r[s],a=o.length,c=i[s]=new Array(a),m=0;m<a;++m)(_=o[m])&&(E=n.call(_,_.__data__,m,o))&&("__data__"in _&&(E.__data__=_.__data__),c[m]=E);return new wf(i,this._parents)},selectAll:function HBe(n){n="function"==typeof n?function zBe(n){return function(){return function VBe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):Vue(n);for(var r=this._groups,t=r.length,i=[],s=[],o=0;o<t;++o)for(var _,a=r[o],c=a.length,E=0;E<c;++E)(_=a[E])&&(i.push(n.call(_,_.__data__,E,a)),s.push(_));return new wf(i,s)},selectChild:function qBe(n){return this.select(null==n?KBe:function WBe(n){return function(){return GBe.call(this.children,n)}}("function"==typeof n?n:zue(n)))},selectChildren:function JBe(n){return this.selectAll(null==n?YBe:function ZBe(n){return function(){return XBe.call(this.children,n)}}("function"==typeof n?n:zue(n)))},filter:function QBe(n){"function"!=typeof n&&(n=Uue(n));for(var r=this._groups,t=r.length,i=new Array(t),s=0;s<t;++s)for(var _,o=r[s],a=o.length,c=i[s]=[],E=0;E<a;++E)(_=o[E])&&n.call(_,_.__data__,E,o)&&c.push(_);return new wf(i,this._parents)},data:function sLe(n,r){if(!arguments.length)return Array.from(this,iLe);var t=r?rLe:nLe,i=this._parents,s=this._groups;"function"!=typeof n&&(n=function tLe(n){return function(){return n}}(n));for(var o=s.length,a=new Array(o),c=new Array(o),_=new Array(o),E=0;E<o;++E){var m=i[E],j=s[E],oe=j.length,le=oLe(n.call(m,m&&m.__data__,E,i)),ue=le.length,pe=c[E]=new Array(ue),we=a[E]=new Array(ue);t(m,j,pe,we,_[E]=new Array(oe),le,r);for(var $e,Je,Pe=0,Ie=0;Pe<ue;++Pe)if($e=pe[Pe]){for(Pe>=Ie&&(Ie=Pe+1);!(Je=we[Ie])&&++Ie<ue;);$e._next=Je||null}}return(a=new wf(a,i))._enter=c,a._exit=_,a},enter:function eLe(){return new wf(this._enter||this._groups.map(Hue),this._parents)},exit:function aLe(){return new wf(this._exit||this._groups.map(Hue),this._parents)},join:function cLe(n,r,t){var i=this.enter(),s=this,o=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=r&&(s=r(s))&&(s=s.selection()),null==t?o.remove():t(o),i&&s?i.merge(s).order():s},merge:function lLe(n){for(var r=n.selection?n.selection():n,t=this._groups,i=r._groups,s=t.length,a=Math.min(s,i.length),c=new Array(s),_=0;_<a;++_)for(var le,E=t[_],m=i[_],j=E.length,oe=c[_]=new Array(j),ue=0;ue<j;++ue)(le=E[ue]||m[ue])&&(oe[ue]=le);for(;_<s;++_)c[_]=t[_];return new wf(c,this._parents)},selection:function g9e(){return this},order:function dLe(){for(var n=this._groups,r=-1,t=n.length;++r<t;)for(var a,i=n[r],s=i.length-1,o=i[s];--s>=0;)(a=i[s])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function uLe(n){function r(j,oe){return j&&oe?n(j.__data__,oe.__data__):!j-!oe}n||(n=fLe);for(var t=this._groups,i=t.length,s=new Array(i),o=0;o<i;++o){for(var E,a=t[o],c=a.length,_=s[o]=new Array(c),m=0;m<c;++m)(E=a[m])&&(_[m]=E);_.sort(r)}return new wf(s,this._parents).order()},call:function hLe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function pLe(){return Array.from(this)},node:function mLe(){for(var n=this._groups,r=0,t=n.length;r<t;++r)for(var i=n[r],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null},size:function gLe(){let n=0;for(const r of this)++n;return n},empty:function yLe(){return!this.node()},each:function vLe(n){for(var r=this._groups,t=0,i=r.length;t<i;++t)for(var c,s=r[t],o=0,a=s.length;o<a;++o)(c=s[o])&&n.call(c,c.__data__,o,s);return this},attr:function CLe(n,r){var t=OB(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==r?t.local?_Le:bLe:"function"==typeof r?t.local?SLe:ELe:t.local?xLe:wLe)(t,r))},style:function MLe(n,r,t){return arguments.length>1?this.each((null==r?ALe:"function"==typeof r?DLe:TLe)(n,r,t??"")):VC(this.node(),n)},property:function OLe(n,r){return arguments.length>1?this.each((null==r?kLe:"function"==typeof r?PLe:ILe)(n,r)):this.node()[n]},classed:function BLe(n,r){var t=Kue(n+"");if(arguments.length<2){for(var i=Sq(this.node()),s=-1,o=t.length;++s<o;)if(!i.contains(t[s]))return!1;return!0}return this.each(("function"==typeof r?NLe:r?RLe:FLe)(t,r))},text:function VLe(n){return arguments.length?this.each(null==n?LLe:("function"==typeof n?$Le:jLe)(n)):this.node().textContent},html:function GLe(n){return arguments.length?this.each(null==n?ULe:("function"==typeof n?HLe:zLe)(n)):this.node().innerHTML},raise:function KLe(){return this.each(WLe)},lower:function XLe(){return this.each(qLe)},append:function JLe(n){var r="function"==typeof n?n:Zue(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function e9e(n,r){var t="function"==typeof n?n:Zue(n),i=null==r?QLe:"function"==typeof r?r:xq(r);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function n9e(){return this.each(t9e)},clone:function s9e(n){return this.select(n?i9e:r9e)},datum:function o9e(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function u9e(n,r,t){var s,a,i=function c9e(n){return n.trim().split(/^|\s+/).map(function(r){var t="",i=r.indexOf(".");return i>=0&&(t=r.slice(i+1),r=r.slice(0,i)),{type:r,name:t}})}(n+""),o=i.length;if(!(arguments.length<2)){for(c=r?d9e:l9e,s=0;s<o;++s)this.each(c(i[s],r,t));return this}var c=this.node().__on;if(c)for(var m,_=0,E=c.length;_<E;++_)for(s=0,m=c[_];s<o;++s)if((a=i[s]).type===m.type&&a.name===m.name)return m.value},dispatch:function p9e(n,r){return this.each(("function"==typeof r?h9e:f9e)(n,r))},[Symbol.iterator]:function*m9e(){for(var n=this._groups,r=0,t=n.length;r<t;++r)for(var a,i=n[r],s=0,o=i.length;s<o;++s)(a=i[s])&&(yield a)}};const JI=efe;var y9e={value:()=>{}};function tfe(){for(var i,n=0,r=arguments.length,t={};n<r;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new RB(t)}function RB(n){this._=n}function b9e(n,r){for(var s,t=0,i=n.length;t<i;++t)if((s=n[t]).name===r)return s.value}function nfe(n,r,t){for(var i=0,s=n.length;i<s;++i)if(n[i].name===r){n[i]=y9e,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=t&&n.push({name:r,value:t}),n}RB.prototype=tfe.prototype={constructor:RB,on:function(n,r){var s,t=this._,i=function v9e(n,r){return n.trim().split(/^|\s+/).map(function(t){var i="",s=t.indexOf(".");if(s>=0&&(i=t.slice(s+1),t=t.slice(0,s)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(n+"",t),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++o<a;)if(s=(n=i[o]).type)t[s]=nfe(t[s],n.name,r);else if(null==r)for(s in t)t[s]=nfe(t[s],n.name,null);return this}for(;++o<a;)if((s=(n=i[o]).type)&&(s=b9e(t[s],n.name)))return s},copy:function(){var n={},r=this._;for(var t in r)n[t]=r[t].slice();return new RB(n)},call:function(n,r){if((s=arguments.length-2)>0)for(var s,o,t=new Array(s),i=0;i<s;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,s=(o=this._[n]).length;i<s;++i)o[i].value.apply(r,t)},apply:function(n,r,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(r,t)}};const rfe=tfe;function Tq(n,r,t){n.prototype=r.prototype=t,t.constructor=n}function ife(n,r){var t=Object.create(n.prototype);for(var i in r)t[i]=r[i];return t}function QI(){}var FB=1/.7,UC="\\s*([+-]?\\d+)\\s*",t8="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x9e=/^#([0-9a-f]{3,8})$/,E9e=new RegExp(`^rgb\\(${UC},${UC},${UC}\\)$`),S9e=new RegExp(`^rgb\\(${Km},${Km},${Km}\\)$`),C9e=new RegExp(`^rgba\\(${UC},${UC},${UC},${t8}\\)$`),A9e=new RegExp(`^rgba\\(${Km},${Km},${Km},${t8}\\)$`),T9e=new RegExp(`^hsl\\(${t8},${Km},${Km}\\)$`),D9e=new RegExp(`^hsla\\(${t8},${Km},${Km},${t8}\\)$`),sfe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ofe(){return this.rgb().formatHex()}function afe(){return this.rgb().formatRgb()}function ix(n){var r,t;return n=(n+"").trim().toLowerCase(),(r=x9e.exec(n))?(t=r[1].length,r=parseInt(r[1],16),6===t?cfe(r):3===t?new xu(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===t?NB(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===t?NB(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=E9e.exec(n))?new xu(r[1],r[2],r[3],1):(r=S9e.exec(n))?new xu(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=C9e.exec(n))?NB(r[1],r[2],r[3],r[4]):(r=A9e.exec(n))?NB(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=T9e.exec(n))?ufe(r[1],r[2]/100,r[3]/100,1):(r=D9e.exec(n))?ufe(r[1],r[2]/100,r[3]/100,r[4]):sfe.hasOwnProperty(n)?cfe(sfe[n]):"transparent"===n?new xu(NaN,NaN,NaN,0):null}function cfe(n){return new xu(n>>16&255,n>>8&255,255&n,1)}function NB(n,r,t,i){return i<=0&&(n=r=t=NaN),new xu(n,r,t,i)}function BB(n,r,t,i){return 1===arguments.length?function I9e(n){return n instanceof QI||(n=ix(n)),n?new xu((n=n.rgb()).r,n.g,n.b,n.opacity):new xu}(n):new xu(n,r,t,i??1)}function xu(n,r,t,i){this.r=+n,this.g=+r,this.b=+t,this.opacity=+i}function lfe(){return`#${ox(this.r)}${ox(this.g)}${ox(this.b)}`}function dfe(){const n=LB(this.opacity);return`${1===n?"rgb(":"rgba("}${sx(this.r)}, ${sx(this.g)}, ${sx(this.b)}${1===n?")":`, ${n})`}`}function LB(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function sx(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ox(n){return((n=sx(n))<16?"0":"")+n.toString(16)}function ufe(n,r,t,i){return i<=0?n=r=t=NaN:t<=0||t>=1?n=r=NaN:r<=0&&(n=NaN),new Dp(n,r,t,i)}function ffe(n){if(n instanceof Dp)return new Dp(n.h,n.s,n.l,n.opacity);if(n instanceof QI||(n=ix(n)),!n)return new Dp;if(n instanceof Dp)return n;var r=(n=n.rgb()).r/255,t=n.g/255,i=n.b/255,s=Math.min(r,t,i),o=Math.max(r,t,i),a=NaN,c=o-s,_=(o+s)/2;return c?(a=r===o?(t-i)/c+6*(t<i):t===o?(i-r)/c+2:(r-t)/c+4,c/=_<.5?o+s:2-o-s,a*=60):c=_>0&&_<1?0:a,new Dp(a,c,_,n.opacity)}function Dp(n,r,t,i){this.h=+n,this.s=+r,this.l=+t,this.opacity=+i}function hfe(n){return(n=(n||0)%360)<0?n+360:n}function jB(n){return Math.max(0,Math.min(1,n||0))}function Dq(n,r,t){return 255*(n<60?r+(t-r)*n/60:n<180?t:n<240?r+(t-r)*(240-n)/60:r)}function pfe(n,r,t,i,s){var o=n*n,a=o*n;return((1-3*n+3*o-a)*r+(4-6*o+3*a)*t+(1+3*n+3*o-3*a)*i+a*s)/6}Tq(QI,ix,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ofe,formatHex:ofe,formatHex8:function M9e(){return this.rgb().formatHex8()},formatHsl:function k9e(){return ffe(this).formatHsl()},formatRgb:afe,toString:afe}),Tq(xu,BB,ife(QI,{brighter(n){return n=null==n?FB:Math.pow(FB,n),new xu(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new xu(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new xu(sx(this.r),sx(this.g),sx(this.b),LB(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lfe,formatHex:lfe,formatHex8:function P9e(){return`#${ox(this.r)}${ox(this.g)}${ox(this.b)}${ox(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:dfe,toString:dfe})),Tq(Dp,function O9e(n,r,t,i){return 1===arguments.length?ffe(n):new Dp(n,r,t,i??1)},ife(QI,{brighter(n){return n=null==n?FB:Math.pow(FB,n),new Dp(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Dp(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),r=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*r,s=2*t-i;return new xu(Dq(n>=240?n-240:n+120,s,i),Dq(n,s,i),Dq(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Dp(hfe(this.h),jB(this.s),jB(this.l),LB(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=LB(this.opacity);return`${1===n?"hsl(":"hsla("}${hfe(this.h)}, ${100*jB(this.s)}%, ${100*jB(this.l)}%${1===n?")":`, ${n})`}`}}));const Mq=n=>()=>n;function gfe(n,r){var t=r-n;return t?function mfe(n,r){return function(t){return n+t*r}}(n,t):Mq(isNaN(n)?r:n)}const $B=function n(r){var t=function B9e(n){return 1==(n=+n)?gfe:function(r,t){return t-r?function N9e(n,r,t){return n=Math.pow(n,t),r=Math.pow(r,t)-n,t=1/t,function(i){return Math.pow(n+i*r,t)}}(r,t,n):Mq(isNaN(r)?t:r)}}(r);function i(s,o){var a=t((s=BB(s)).r,(o=BB(o)).r),c=t(s.g,o.g),_=t(s.b,o.b),E=gfe(s.opacity,o.opacity);return function(m){return s.r=a(m),s.g=c(m),s.b=_(m),s.opacity=E(m),s+""}}return i.gamma=n,i}(1);function yfe(n){return function(r){var a,c,t=r.length,i=new Array(t),s=new Array(t),o=new Array(t);for(a=0;a<t;++a)c=BB(r[a]),i[a]=c.r||0,s[a]=c.g||0,o[a]=c.b||0;return i=n(i),s=n(s),o=n(o),c.opacity=1,function(_){return c.r=i(_),c.g=s(_),c.b=o(_),c+""}}}function Mp(n,r){return n=+n,r=+r,function(t){return n*(1-t)+r*t}}yfe(function R9e(n){var r=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,r-1):Math.floor(t*r),s=n[i],o=n[i+1];return pfe((t-i/r)*r,i>0?n[i-1]:2*s-o,s,o,i<r-1?n[i+2]:2*o-s)}}),yfe(function F9e(n){var r=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*r);return pfe((t-i/r)*r,n[(i+r-1)%r],n[i%r],n[(i+1)%r],n[(i+2)%r])}});var kq=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iq=new RegExp(kq.source,"g");function bfe(n,r){var i,s,o,t=kq.lastIndex=Iq.lastIndex=0,a=-1,c=[],_=[];for(n+="",r+="";(i=kq.exec(n))&&(s=Iq.exec(r));)(o=s.index)>t&&(o=r.slice(t,o),c[a]?c[a]+=o:c[++a]=o),(i=i[0])===(s=s[0])?c[a]?c[a]+=s:c[++a]=s:(c[++a]=null,_.push({i:a,x:Mp(i,s)})),t=Iq.lastIndex;return t<r.length&&(o=r.slice(t),c[a]?c[a]+=o:c[++a]=o),c.length<2?_[0]?function V9e(n){return function(r){return n(r)+""}}(_[0].x):function $9e(n){return function(){return n}}(r):(r=_.length,function(E){for(var j,m=0;m<r;++m)c[(j=_[m]).i]=j.x(E);return c.join("")})}var UB,i8,zC=0,n8=0,r8=0,wfe=1e3,zB=0,ax=0,HB=0,s8="object"==typeof performance&&performance.now?performance:Date,xfe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Pq(){return ax||(xfe(G9e),ax=s8.now()+HB)}function G9e(){ax=0}function GB(){this._call=this._time=this._next=null}function Efe(n,r,t){var i=new GB;return i.restart(n,r,t),i}function Sfe(){ax=(zB=s8.now())+HB,zC=n8=0;try{!function W9e(){Pq(),++zC;for(var r,n=UB;n;)(r=ax-n._time)>=0&&n._call.call(void 0,r),n=n._next;--zC}()}finally{zC=0,function q9e(){for(var n,t,r=UB,i=1/0;r;)r._call?(i>r._time&&(i=r._time),n=r,r=r._next):(t=r._next,r._next=null,r=n?n._next=t:UB=t);i8=n,Oq(i)}(),ax=0}}function K9e(){var n=s8.now(),r=n-zB;r>wfe&&(HB-=r,zB=n)}function Oq(n){zC||(n8&&(n8=clearTimeout(n8)),n-ax>24?(n<1/0&&(n8=setTimeout(Sfe,n-s8.now()-HB)),r8&&(r8=clearInterval(r8))):(r8||(zB=s8.now(),r8=setInterval(K9e,wfe)),zC=1,xfe(Sfe)))}function Cfe(n,r,t){var i=new GB;return i.restart(s=>{i.stop(),n(s+r)},r=null==r?0:+r,t),i}GB.prototype=Efe.prototype={constructor:GB,restart:function(n,r,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?Pq():+t)+(null==r?0:+r),!this._next&&i8!==this&&(i8?i8._next=this:UB=this,i8=this),this._call=n,this._time=t,Oq()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oq())}};var X9e=rfe("start","end","cancel","interrupt"),Y9e=[],Afe=0,WB=3;function qB(n,r,t,i,s,o){var a=n.__transition;if(a){if(t in a)return}else n.__transition={};!function Z9e(n,r,t){var s,i=n.__transition;function a(E){var m,j,oe,le;if(1!==t.state)return _();for(m in i)if((le=i[m]).name===t.name){if(le.state===WB)return Cfe(a);4===le.state?(le.state=6,le.timer.stop(),le.on.call("interrupt",n,n.__data__,le.index,le.group),delete i[m]):+m<r&&(le.state=6,le.timer.stop(),le.on.call("cancel",n,n.__data__,le.index,le.group),delete i[m])}if(Cfe(function(){t.state===WB&&(t.state=4,t.timer.restart(c,t.delay,t.time),c(E))}),t.state=2,t.on.call("start",n,n.__data__,t.index,t.group),2===t.state){for(t.state=WB,s=new Array(oe=t.tween.length),m=0,j=-1;m<oe;++m)(le=t.tween[m].value.call(n,n.__data__,t.index,t.group))&&(s[++j]=le);s.length=j+1}}function c(E){for(var m=E<t.duration?t.ease.call(null,E/t.duration):(t.timer.restart(_),t.state=5,1),j=-1,oe=s.length;++j<oe;)s[j].call(n,m);5===t.state&&(t.on.call("end",n,n.__data__,t.index,t.group),_())}function _(){for(var E in t.state=6,t.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=t,t.timer=Efe(function o(E){t.state=1,t.timer.restart(a,t.delay,t.time),t.delay<=E&&a(E-t.delay)},0,t.time)}(n,t,{name:r,index:i,group:s,on:X9e,tween:Y9e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Afe})}function Nq(n,r){var t=kp(n,r);if(t.state>Afe)throw new Error("too late; already scheduled");return t}function qm(n,r){var t=kp(n,r);if(t.state>WB)throw new Error("too late; already running");return t}function kp(n,r){var t=n.__transition;if(!t||!(t=t[r]))throw new Error("transition not found");return t}var XB,Mfe=180/Math.PI,Lq={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kfe(n,r,t,i,s,o){var a,c,_;return(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a),(_=n*t+r*i)&&(t-=n*_,i-=r*_),(c=Math.sqrt(t*t+i*i))&&(t/=c,i/=c,_/=c),n*i<r*t&&(n=-n,r=-r,_=-_,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(r,n)*Mfe,skewX:Math.atan(_)*Mfe,scaleX:a,scaleY:c}}function Ife(n,r,t,i){function s(E){return E.length?E.pop()+" ":""}return function(E,m){var j=[],oe=[];return E=n(E),m=n(m),function o(E,m,j,oe,le,ue){if(E!==j||m!==oe){var pe=le.push("translate(",null,r,null,t);ue.push({i:pe-4,x:Mp(E,j)},{i:pe-2,x:Mp(m,oe)})}else(j||oe)&&le.push("translate("+j+r+oe+t)}(E.translateX,E.translateY,m.translateX,m.translateY,j,oe),function a(E,m,j,oe){E!==m?(E-m>180?m+=360:m-E>180&&(E+=360),oe.push({i:j.push(s(j)+"rotate(",null,i)-2,x:Mp(E,m)})):m&&j.push(s(j)+"rotate("+m+i)}(E.rotate,m.rotate,j,oe),function c(E,m,j,oe){E!==m?oe.push({i:j.push(s(j)+"skewX(",null,i)-2,x:Mp(E,m)}):m&&j.push(s(j)+"skewX("+m+i)}(E.skewX,m.skewX,j,oe),function _(E,m,j,oe,le,ue){if(E!==j||m!==oe){var pe=le.push(s(le)+"scale(",null,",",null,")");ue.push({i:pe-4,x:Mp(E,j)},{i:pe-2,x:Mp(m,oe)})}else(1!==j||1!==oe)&&le.push(s(le)+"scale("+j+","+oe+")")}(E.scaleX,E.scaleY,m.scaleX,m.scaleY,j,oe),E=m=null,function(le){for(var we,ue=-1,pe=oe.length;++ue<pe;)j[(we=oe[ue]).i]=we.x(le);return j.join("")}}}var t7e=Ife(function Q9e(n){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return r.isIdentity?Lq:kfe(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),n7e=Ife(function e7e(n){return null!=n&&(XB||(XB=document.createElementNS("http://www.w3.org/2000/svg","g")),XB.setAttribute("transform",n),n=XB.transform.baseVal.consolidate())?kfe((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Lq},", ",")",")");function r7e(n,r){var t,i;return function(){var s=qm(this,n),o=s.tween;if(o!==t)for(var a=0,c=(i=t=o).length;a<c;++a)if(i[a].name===r){(i=i.slice()).splice(a,1);break}s.tween=i}}function i7e(n,r,t){var i,s;if("function"!=typeof t)throw new Error;return function(){var o=qm(this,n),a=o.tween;if(a!==i){s=(i=a).slice();for(var c={name:r,value:t},_=0,E=s.length;_<E;++_)if(s[_].name===r){s[_]=c;break}_===E&&s.push(c)}o.tween=s}}function jq(n,r,t){var i=n._id;return n.each(function(){var s=qm(this,i);(s.value||(s.value={}))[r]=t.apply(this,arguments)}),function(s){return kp(s,i).value[r]}}function Pfe(n,r){var t;return("number"==typeof r?Mp:r instanceof ix?$B:(t=ix(r))?(r=t,$B):bfe)(n,r)}function o7e(n){return function(){this.removeAttribute(n)}}function a7e(n){return function(){this.removeAttributeNS(n.space,n.local)}}function c7e(n,r,t){var i,o,s=t+"";return function(){var a=this.getAttribute(n);return a===s?null:a===i?o:o=r(i=a,t)}}function l7e(n,r,t){var i,o,s=t+"";return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?o:o=r(i=a,t)}}function d7e(n,r,t){var i,s,o;return function(){var a,_,c=t(this);return null==c?void this.removeAttribute(n):(a=this.getAttribute(n))===(_=c+"")?null:a===i&&_===s?o:(s=_,o=r(i=a,c))}}function u7e(n,r,t){var i,s,o;return function(){var a,_,c=t(this);return null==c?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local))===(_=c+"")?null:a===i&&_===s?o:(s=_,o=r(i=a,c))}}function m7e(n,r){var t,i;function s(){var o=r.apply(this,arguments);return o!==i&&(t=(i=o)&&function p7e(n,r){return function(t){this.setAttributeNS(n.space,n.local,r.call(this,t))}}(n,o)),t}return s._value=r,s}function g7e(n,r){var t,i;function s(){var o=r.apply(this,arguments);return o!==i&&(t=(i=o)&&function h7e(n,r){return function(t){this.setAttribute(n,r.call(this,t))}}(n,o)),t}return s._value=r,s}function v7e(n,r){return function(){Nq(this,n).delay=+r.apply(this,arguments)}}function b7e(n,r){return r=+r,function(){Nq(this,n).delay=r}}function w7e(n,r){return function(){qm(this,n).duration=+r.apply(this,arguments)}}function x7e(n,r){return r=+r,function(){qm(this,n).duration=r}}var B7e=JI.prototype.constructor;function Ofe(n){return function(){this.style.removeProperty(n)}}var tje=0;function Og(n,r,t,i){this._groups=n,this._parents=r,this._name=t,this._id=i}function Rfe(){return++tje}var Rg=JI.prototype;Og.prototype=function nje(n){return JI().transition(n)}.prototype={constructor:Og,select:function F7e(n){var r=this._name,t=this._id;"function"!=typeof n&&(n=xq(n));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var m,j,c=i[a],_=c.length,E=o[a]=new Array(_),oe=0;oe<_;++oe)(m=c[oe])&&(j=n.call(m,m.__data__,oe,c))&&("__data__"in m&&(j.__data__=m.__data__),E[oe]=j,qB(E[oe],r,t,oe,E,kp(m,t)));return new Og(o,this._parents,r,t)},selectAll:function N7e(n){var r=this._name,t=this._id;"function"!=typeof n&&(n=Vue(n));for(var i=this._groups,s=i.length,o=[],a=[],c=0;c<s;++c)for(var m,_=i[c],E=_.length,j=0;j<E;++j)if(m=_[j]){for(var le,oe=n.call(m,m.__data__,j,_),ue=kp(m,t),pe=0,we=oe.length;pe<we;++pe)(le=oe[pe])&&qB(le,r,t,pe,oe,ue);o.push(oe),a.push(m)}return new Og(o,a,r,t)},selectChild:Rg.selectChild,selectChildren:Rg.selectChildren,filter:function D7e(n){"function"!=typeof n&&(n=Uue(n));for(var r=this._groups,t=r.length,i=new Array(t),s=0;s<t;++s)for(var _,o=r[s],a=o.length,c=i[s]=[],E=0;E<a;++E)(_=o[E])&&n.call(_,_.__data__,E,o)&&c.push(_);return new Og(i,this._parents,this._name,this._id)},merge:function M7e(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,t=n._groups,i=r.length,o=Math.min(i,t.length),a=new Array(i),c=0;c<o;++c)for(var oe,_=r[c],E=t[c],m=_.length,j=a[c]=new Array(m),le=0;le<m;++le)(oe=_[le]||E[le])&&(j[le]=oe);for(;c<i;++c)a[c]=r[c];return new Og(a,this._parents,this._name,this._id)},selection:function L7e(){return new B7e(this._groups,this._parents)},transition:function Q7e(){for(var n=this._name,r=this._id,t=Rfe(),i=this._groups,s=i.length,o=0;o<s;++o)for(var _,a=i[o],c=a.length,E=0;E<c;++E)if(_=a[E]){var m=kp(_,r);qB(_,n,t,E,a,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Og(i,this._parents,n,t)},call:Rg.call,nodes:Rg.nodes,node:Rg.node,size:Rg.size,empty:Rg.empty,each:Rg.each,on:function P7e(n,r){var t=this._id;return arguments.length<2?kp(this.node(),t).on.on(n):this.each(function I7e(n,r,t){var i,s,o=function k7e(n){return(n+"").trim().split(/^|\s+/).every(function(r){var t=r.indexOf(".");return t>=0&&(r=r.slice(0,t)),!r||"start"===r})}(r)?Nq:qm;return function(){var a=o(this,n),c=a.on;c!==i&&(s=(i=c).copy()).on(r,t),a.on=s}}(t,n,r))},attr:function f7e(n,r){var t=OB(n),i="transform"===t?n7e:Pfe;return this.attrTween(n,"function"==typeof r?(t.local?u7e:d7e)(t,i,jq(this,"attr."+n,r)):null==r?(t.local?a7e:o7e)(t):(t.local?l7e:c7e)(t,i,r))},attrTween:function y7e(n,r){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==r)return this.tween(t,null);if("function"!=typeof r)throw new Error;var i=OB(n);return this.tween(t,(i.local?m7e:g7e)(i,r))},style:function z7e(n,r,t){var i="transform"==(n+="")?t7e:Pfe;return null==r?this.styleTween(n,function j7e(n,r){var t,i,s;return function(){var o=VC(this,n),a=(this.style.removeProperty(n),VC(this,n));return o===a?null:o===t&&a===i?s:s=r(t=o,i=a)}}(n,i)).on("end.style."+n,Ofe(n)):"function"==typeof r?this.styleTween(n,function V7e(n,r,t){var i,s,o;return function(){var a=VC(this,n),c=t(this),_=c+"";return null==c&&(this.style.removeProperty(n),_=c=VC(this,n)),a===_?null:a===i&&_===s?o:(s=_,o=r(i=a,c))}}(n,i,jq(this,"style."+n,r))).each(function U7e(n,r){var t,i,s,c,o="style."+r,a="end."+o;return function(){var _=qm(this,n),E=_.on,m=null==_.value[o]?c||(c=Ofe(r)):void 0;(E!==t||s!==m)&&(i=(t=E).copy()).on(a,s=m),_.on=i}}(this._id,n)):this.styleTween(n,function $7e(n,r,t){var i,o,s=t+"";return function(){var a=VC(this,n);return a===s?null:a===i?o:o=r(i=a,t)}}(n,i,r),t).on("end.style."+n,null)},styleTween:function W7e(n,r,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,function G7e(n,r,t){var i,s;function o(){var a=r.apply(this,arguments);return a!==s&&(i=(s=a)&&function H7e(n,r,t){return function(i){this.style.setProperty(n,r.call(this,i),t)}}(n,a,t)),i}return o._value=r,o}(n,r,t??""))},text:function X7e(n){return this.tween("text","function"==typeof n?function q7e(n){return function(){var r=n(this);this.textContent=r??""}}(jq(this,"text",n)):function K7e(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function J7e(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function Z7e(n){var r,t;function i(){var s=n.apply(this,arguments);return s!==t&&(r=(t=s)&&function Y7e(n){return function(r){this.textContent=n.call(this,r)}}(s)),r}return i._value=n,i}(n))},remove:function R7e(){return this.on("end.remove",function O7e(n){return function(){var r=this.parentNode;for(var t in this.__transition)if(+t!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function s7e(n,r){var t=this._id;if(n+="",arguments.length<2){for(var a,i=kp(this.node(),t).tween,s=0,o=i.length;s<o;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((null==r?r7e:i7e)(t,n,r))},delay:function _7e(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?v7e:b7e)(r,n)):kp(this.node(),r).delay},duration:function E7e(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?w7e:x7e)(r,n)):kp(this.node(),r).duration},ease:function C7e(n){var r=this._id;return arguments.length?this.each(function S7e(n,r){if("function"!=typeof r)throw new Error;return function(){qm(this,n).ease=r}}(r,n)):kp(this.node(),r).ease},easeVarying:function T7e(n){if("function"!=typeof n)throw new Error;return this.each(function A7e(n,r){return function(){var t=r.apply(this,arguments);if("function"!=typeof t)throw new Error;qm(this,n).ease=t}}(this._id,n))},end:function eje(){var n,r,t=this,i=t._id,s=t.size();return new Promise(function(o,a){var c={value:a},_={value:function(){0==--s&&o()}};t.each(function(){var E=qm(this,i),m=E.on;m!==n&&((r=(n=m).copy())._.cancel.push(c),r._.interrupt.push(c),r._.end.push(_)),E.on=r}),0===s&&o()})},[Symbol.iterator]:Rg[Symbol.iterator]};var ije={time:null,delay:0,duration:250,ease:function rje(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function sje(n,r){for(var t;!(t=n.__transition)||!(t=t[r]);)if(!(n=n.parentNode))throw new Error(`transition ${r} not found`);return t}JI.prototype.interrupt=function J9e(n){return this.each(function(){!function Bq(n,r){var i,s,a,t=n.__transition,o=!0;if(t){for(a in r=null==r?null:r+"",t)(i=t[a]).name===r?(s=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[a]):o=!1;o&&delete n.__transition}}(this,n)})},JI.prototype.transition=function oje(n){var r,t;n instanceof Og?(r=n._id,n=n._name):(r=Rfe(),(t=ije).time=Pq(),n=null==n?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var _,a=i[o],c=a.length,E=0;E<c;++E)(_=a[E])&&qB(_,n,r,E,a,t||sje(_,r));return new Og(i,this._parents,n,r)};Math;function o8(n){return{type:n}}function JB(n,r){return null==n||null==r?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function yje(n,r){return null==n||null==r?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function Wq(n){let r,t,i;function s(c,_,E=0,m=c.length){if(E<m){if(0!==r(_,_))return m;do{const j=E+m>>>1;t(c[j],_)<0?E=j+1:m=j}while(E<m)}return E}return 2!==n.length?(r=JB,t=(c,_)=>JB(n(c),_),i=(c,_)=>n(c)-_):(r=n===JB||n===yje?n:vje,t=n,i=n),{left:s,center:function a(c,_,E=0,m=c.length){const j=s(c,_,E,m-1);return j>E&&i(c[j-1],_)>-i(c[j],_)?j-1:j},right:function o(c,_,E=0,m=c.length){if(E<m){if(0!==r(_,_))return m;do{const j=E+m>>>1;t(c[j],_)<=0?E=j+1:m=j}while(E<m)}return E}}}function vje(){return 0}["w","e"].map(o8),["n","s"].map(o8),["n","w","e","s","nw","ne","sw","se"].map(o8);const bje=Math.sqrt(50),_je=Math.sqrt(10),wje=Math.sqrt(2);function QB(n,r,t){const i=(r-n)/Math.max(0,t),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=bje?10:o>=_je?5:o>=wje?2:1;let c,_,E;return s<0?(E=Math.pow(10,-s)/a,c=Math.round(n*E),_=Math.round(r*E),c/E<n&&++c,_/E>r&&--_,E=-E):(E=Math.pow(10,s)*a,c=Math.round(n/E),_=Math.round(r/E),c*E<n&&++c,_*E>r&&--_),_<c&&.5<=t&&t<2?QB(n,r,2*t):[c,_,E]}function Kq(n,r,t){return QB(n=+n,r=+r,t=+t)[2]}function qq(n,r,t){t=+t;const i=(r=+r)<(n=+n),s=i?Kq(r,n,t):Kq(n,r,t);return(i?-1:1)*(s<0?1/-s:s)}const Ng=1e3,Sh=6e4,Bg=60*Sh,Lg=24*Bg,Xq=7*Lg,$fe=30*Lg,Yq=365*Lg,Zq=new Date,Jq=new Date;function xc(n,r,t,i){function s(o){return n(o=0===arguments.length?new Date:new Date(+o)),o}return s.floor=o=>(n(o=new Date(+o)),o),s.ceil=o=>(n(o=new Date(o-1)),r(o,1),n(o),o),s.round=o=>{const a=s(o),c=s.ceil(o);return o-a<c-o?a:c},s.offset=(o,a)=>(r(o=new Date(+o),null==a?1:Math.floor(a)),o),s.range=(o,a,c)=>{const _=[];if(o=s.ceil(o),c=null==c?1:Math.floor(c),!(o<a&&c>0))return _;let E;do{_.push(E=new Date(+o)),r(o,c),n(o)}while(E<o&&o<a);return _},s.filter=o=>xc(a=>{if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;r(a,-1),!o(a););else for(;--c>=0;)for(;r(a,1),!o(a););}),t&&(s.count=(o,a)=>(Zq.setTime(+o),Jq.setTime(+a),n(Zq),n(Jq),Math.floor(t(Zq,Jq))),s.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?s.filter(i?a=>i(a)%o==0:a=>s.count(0,a)%o==0):s:null)),s}const eL=xc(()=>{},(n,r)=>{n.setTime(+n+r)},(n,r)=>r-n);eL.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?xc(r=>{r.setTime(Math.floor(r/n)*n)},(r,t)=>{r.setTime(+r+t*n)},(r,t)=>(t-r)/n):eL:null);const WC=xc(n=>{n.setTime(n-n.getMilliseconds())},(n,r)=>{n.setTime(+n+r*Ng)},(n,r)=>(r-n)/Ng,n=>n.getUTCSeconds()),Qq=xc(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ng)},(n,r)=>{n.setTime(+n+r*Sh)},(n,r)=>(r-n)/Sh,n=>n.getMinutes()),Vfe=xc(n=>{n.setUTCSeconds(0,0)},(n,r)=>{n.setTime(+n+r*Sh)},(n,r)=>(r-n)/Sh,n=>n.getUTCMinutes()),eX=xc(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ng-n.getMinutes()*Sh)},(n,r)=>{n.setTime(+n+r*Bg)},(n,r)=>(r-n)/Bg,n=>n.getHours()),Ufe=xc(n=>{n.setUTCMinutes(0,0,0)},(n,r)=>{n.setTime(+n+r*Bg)},(n,r)=>(r-n)/Bg,n=>n.getUTCHours()),tX=xc(n=>n.setHours(0,0,0,0),(n,r)=>n.setDate(n.getDate()+r),(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*Sh)/Lg,n=>n.getDate()-1),zfe=(xc(n=>{n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r)},(n,r)=>(r-n)/Lg,n=>n.getUTCDate()-1),xc(n=>{n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r)},(n,r)=>(r-n)/Lg,n=>Math.floor(n/Lg)));function cx(n){return xc(r=>{r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},(r,t)=>{r.setDate(r.getDate()+7*t)},(r,t)=>(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*Sh)/Xq)}const nX=cx(0);function lx(n){return xc(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+7*t)},(r,t)=>(t-r)/Xq)}cx(1),cx(2),cx(3),cx(4),cx(5),cx(6);const Hfe=lx(0),rX=(lx(1),lx(2),lx(3),lx(4),lx(5),lx(6),xc(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,r)=>{n.setMonth(n.getMonth()+r)},(n,r)=>r.getMonth()-n.getMonth()+12*(r.getFullYear()-n.getFullYear()),n=>n.getMonth())),Gfe=xc(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCMonth(n.getUTCMonth()+r)},(n,r)=>r.getUTCMonth()-n.getUTCMonth()+12*(r.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),tL=xc(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r)},(n,r)=>r.getFullYear()-n.getFullYear(),n=>n.getFullYear());tL.every=n=>isFinite(n=Math.floor(n))&&n>0?xc(r=>{r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,t)=>{r.setFullYear(r.getFullYear()+t*n)}):null;const iX=xc(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r)},(n,r)=>r.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function Wfe(n,r,t,i,s,o){const a=[[WC,1,Ng],[WC,5,5e3],[WC,15,15e3],[WC,30,3e4],[o,1,Sh],[o,5,5*Sh],[o,15,15*Sh],[o,30,30*Sh],[s,1,Bg],[s,3,3*Bg],[s,6,6*Bg],[s,12,12*Bg],[i,1,Lg],[i,2,2*Lg],[t,1,Xq],[r,1,$fe],[r,3,3*$fe],[n,1,Yq]];function _(E,m,j){const oe=Math.abs(m-E)/j,le=Wq(([,,we])=>we).right(a,oe);if(le===a.length)return n.every(qq(E/Yq,m/Yq,j));if(0===le)return eL.every(Math.max(qq(E,m,j),1));const[ue,pe]=a[oe/a[le-1][2]<a[le][2]/oe?le-1:le];return ue.every(pe)}return[function c(E,m,j){const oe=m<E;oe&&([E,m]=[m,E]);const le=j&&"function"==typeof j.range?j:_(E,m,j),ue=le?le.range(E,+m+1):[];return oe?ue.reverse():ue},_]}iX.every=n=>isFinite(n=Math.floor(n))&&n>0?xc(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCFullYear(r.getUTCFullYear()+t*n)}):null;const[Art,Trt]=Wfe(iX,Gfe,Hfe,zfe,Ufe,Vfe),[Fje,Nje]=Wfe(tL,rX,nX,tX,eX,Qq);var sX=new Date,oX=new Date;function jg(n,r,t,i){function s(o){return n(o=0===arguments.length?new Date:new Date(+o)),o}return s.floor=function(o){return n(o=new Date(+o)),o},s.ceil=function(o){return n(o=new Date(o-1)),r(o,1),n(o),o},s.round=function(o){var a=s(o),c=s.ceil(o);return o-a<c-o?a:c},s.offset=function(o,a){return r(o=new Date(+o),null==a?1:Math.floor(a)),o},s.range=function(o,a,c){var E,_=[];if(o=s.ceil(o),c=null==c?1:Math.floor(c),!(o<a&&c>0))return _;do{_.push(E=new Date(+o)),r(o,c),n(o)}while(E<o&&o<a);return _},s.filter=function(o){return jg(function(a){if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},function(a,c){if(a>=a)if(c<0)for(;++c<=0;)for(;r(a,-1),!o(a););else for(;--c>=0;)for(;r(a,1),!o(a););})},t&&(s.count=function(o,a){return sX.setTime(+o),oX.setTime(+a),n(sX),n(oX),Math.floor(t(sX,oX))},s.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?s.filter(i?function(a){return i(a)%o==0}:function(a){return s.count(0,a)%o==0}):s:null}),s}const a8=864e5,Kfe=7*a8;function dx(n){return jg(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCDate(r.getUTCDate()+7*t)},function(r,t){return(t-r)/Kfe})}var qfe=dx(0),nL=dx(1),KC=(dx(2),dx(3),dx(4)),Xfe=(dx(5),dx(6),jg(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/a8},function(n){return n.getUTCDate()-1}));const Yfe=Xfe;function ux(n){return jg(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,t){r.setDate(r.getDate()+7*t)},function(r,t){return(t-r-6e4*(t.getTimezoneOffset()-r.getTimezoneOffset()))/Kfe})}var Zfe=ux(0),rL=ux(1),qC=(ux(2),ux(3),ux(4)),Jfe=(ux(5),ux(6),jg(n=>n.setHours(0,0,0,0),(n,r)=>n.setDate(n.getDate()+r),(n,r)=>(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/a8,n=>n.getDate()-1));const Qfe=Jfe;var cX=jg(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});cX.every=function(n){return isFinite(n=Math.floor(n))&&n>0?jg(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,t){r.setFullYear(r.getFullYear()+t*n)}):null};const c8=cX;var lX=jg(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});lX.every=function(n){return isFinite(n=Math.floor(n))&&n>0?jg(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCFullYear(r.getUTCFullYear()+t*n)}):null};const l8=lX;function dX(n){if(0<=n.y&&n.y<100){var r=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return r.setFullYear(n.y),r}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function uX(n){if(0<=n.y&&n.y<100){var r=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return r.setUTCFullYear(n.y),r}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function d8(n,r,t){return{y:n,m:r,d:t,H:0,M:0,S:0,L:0}}var ehe={"-":"",_:" ",0:"0"},Yc=/^\s*\d+/,Wje=/^%/,Kje=/[\\^$*+?|[\]().{}]/g;function Ss(n,r,t){var i=n<0?"-":"",s=(i?-n:n)+"",o=s.length;return i+(o<t?new Array(t-o+1).join(r)+s:s)}function qje(n){return n.replace(Kje,"\\$&")}function u8(n){return new RegExp("^(?:"+n.map(qje).join("|")+")","i")}function f8(n){return new Map(n.map((r,t)=>[r.toLowerCase(),t]))}function Xje(n,r,t){var i=Yc.exec(r.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function Yje(n,r,t){var i=Yc.exec(r.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function Zje(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function Jje(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function Qje(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function the(n,r,t){var i=Yc.exec(r.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function nhe(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function e$e(n,r,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function t$e(n,r,t){var i=Yc.exec(r.slice(t,t+1));return i?(n.q=3*i[0]-3,t+i[0].length):-1}function n$e(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function rhe(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function r$e(n,r,t){var i=Yc.exec(r.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function ihe(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function i$e(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function s$e(n,r,t){var i=Yc.exec(r.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function o$e(n,r,t){var i=Yc.exec(r.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function a$e(n,r,t){var i=Yc.exec(r.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function c$e(n,r,t){var i=Wje.exec(r.slice(t,t+1));return i?t+i[0].length:-1}function l$e(n,r,t){var i=Yc.exec(r.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function d$e(n,r,t){var i=Yc.exec(r.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function she(n,r){return Ss(n.getDate(),r,2)}function u$e(n,r){return Ss(n.getHours(),r,2)}function f$e(n,r){return Ss(n.getHours()%12||12,r,2)}function h$e(n,r){return Ss(1+Qfe.count(c8(n),n),r,3)}function ohe(n,r){return Ss(n.getMilliseconds(),r,3)}function p$e(n,r){return ohe(n,r)+"000"}function m$e(n,r){return Ss(n.getMonth()+1,r,2)}function g$e(n,r){return Ss(n.getMinutes(),r,2)}function y$e(n,r){return Ss(n.getSeconds(),r,2)}function v$e(n){var r=n.getDay();return 0===r?7:r}function b$e(n,r){return Ss(Zfe.count(c8(n)-1,n),r,2)}function ahe(n){var r=n.getDay();return r>=4||0===r?qC(n):qC.ceil(n)}function _$e(n,r){return n=ahe(n),Ss(qC.count(c8(n),n)+(4===c8(n).getDay()),r,2)}function w$e(n){return n.getDay()}function x$e(n,r){return Ss(rL.count(c8(n)-1,n),r,2)}function E$e(n,r){return Ss(n.getFullYear()%100,r,2)}function S$e(n,r){return Ss((n=ahe(n)).getFullYear()%100,r,2)}function C$e(n,r){return Ss(n.getFullYear()%1e4,r,4)}function A$e(n,r){var t=n.getDay();return Ss((n=t>=4||0===t?qC(n):qC.ceil(n)).getFullYear()%1e4,r,4)}function T$e(n){var r=n.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Ss(r/60|0,"0",2)+Ss(r%60,"0",2)}function che(n,r){return Ss(n.getUTCDate(),r,2)}function D$e(n,r){return Ss(n.getUTCHours(),r,2)}function M$e(n,r){return Ss(n.getUTCHours()%12||12,r,2)}function k$e(n,r){return Ss(1+Yfe.count(l8(n),n),r,3)}function lhe(n,r){return Ss(n.getUTCMilliseconds(),r,3)}function I$e(n,r){return lhe(n,r)+"000"}function P$e(n,r){return Ss(n.getUTCMonth()+1,r,2)}function O$e(n,r){return Ss(n.getUTCMinutes(),r,2)}function R$e(n,r){return Ss(n.getUTCSeconds(),r,2)}function F$e(n){var r=n.getUTCDay();return 0===r?7:r}function N$e(n,r){return Ss(qfe.count(l8(n)-1,n),r,2)}function dhe(n){var r=n.getUTCDay();return r>=4||0===r?KC(n):KC.ceil(n)}function B$e(n,r){return n=dhe(n),Ss(KC.count(l8(n),n)+(4===l8(n).getUTCDay()),r,2)}function L$e(n){return n.getUTCDay()}function j$e(n,r){return Ss(nL.count(l8(n)-1,n),r,2)}function $$e(n,r){return Ss(n.getUTCFullYear()%100,r,2)}function V$e(n,r){return Ss((n=dhe(n)).getUTCFullYear()%100,r,2)}function U$e(n,r){return Ss(n.getUTCFullYear()%1e4,r,4)}function z$e(n,r){var t=n.getUTCDay();return Ss((n=t>=4||0===t?KC(n):KC.ceil(n)).getUTCFullYear()%1e4,r,4)}function H$e(){return"+0000"}function uhe(){return"%"}function fhe(n){return+n}function hhe(n){return Math.floor(+n/1e3)}!function q$e(n){(function Gje(n){var r=n.dateTime,t=n.date,i=n.time,s=n.periods,o=n.days,a=n.shortDays,c=n.months,_=n.shortMonths,E=u8(s),m=f8(s),j=u8(o),oe=f8(o),le=u8(a),ue=f8(a),pe=u8(c),we=f8(c),Oe=u8(_),Pe=f8(_),Ie={a:function Dt(un){return a[un.getDay()]},A:function jt(un){return o[un.getDay()]},b:function Ft(un){return _[un.getMonth()]},B:function Jt(un){return c[un.getMonth()]},c:null,d:she,e:she,f:p$e,g:S$e,G:A$e,H:u$e,I:f$e,j:h$e,L:ohe,m:m$e,M:g$e,p:function on(un){return s[+(un.getHours()>=12)]},q:function dn(un){return 1+~~(un.getMonth()/3)},Q:fhe,s:hhe,S:y$e,u:v$e,U:b$e,V:_$e,w:w$e,W:x$e,x:null,X:null,y:E$e,Y:C$e,Z:T$e,"%":uhe},$e={a:function Yt(un){return a[un.getUTCDay()]},A:function Cn(un){return o[un.getUTCDay()]},b:function In(un){return _[un.getUTCMonth()]},B:function _n(un){return c[un.getUTCMonth()]},c:null,d:che,e:che,f:I$e,g:V$e,G:z$e,H:D$e,I:M$e,j:k$e,L:lhe,m:P$e,M:O$e,p:function $t(un){return s[+(un.getUTCHours()>=12)]},q:function gn(un){return 1+~~(un.getUTCMonth()/3)},Q:fhe,s:hhe,S:R$e,u:F$e,U:N$e,V:B$e,w:L$e,W:j$e,x:null,X:null,y:$$e,Y:U$e,Z:H$e,"%":uhe},Je={a:function Ct(un,pn,Gt){var Ht=le.exec(pn.slice(Gt));return Ht?(un.w=ue.get(Ht[0].toLowerCase()),Gt+Ht[0].length):-1},A:function Tt(un,pn,Gt){var Ht=j.exec(pn.slice(Gt));return Ht?(un.w=oe.get(Ht[0].toLowerCase()),Gt+Ht[0].length):-1},b:function Kt(un,pn,Gt){var Ht=Oe.exec(pn.slice(Gt));return Ht?(un.m=Pe.get(Ht[0].toLowerCase()),Gt+Ht[0].length):-1},B:function Lt(un,pn,Gt){var Ht=pe.exec(pn.slice(Gt));return Ht?(un.m=we.get(Ht[0].toLowerCase()),Gt+Ht[0].length):-1},c:function Xt(un,pn,Gt){return ot(un,r,pn,Gt)},d:rhe,e:rhe,f:a$e,g:nhe,G:the,H:ihe,I:ihe,j:r$e,L:o$e,m:n$e,M:i$e,p:function xt(un,pn,Gt){var Ht=E.exec(pn.slice(Gt));return Ht?(un.p=m.get(Ht[0].toLowerCase()),Gt+Ht[0].length):-1},q:t$e,Q:l$e,s:d$e,S:s$e,u:Yje,U:Zje,V:Jje,w:Xje,W:Qje,x:function vt(un,pn,Gt){return ot(un,t,pn,Gt)},X:function Et(un,pn,Gt){return ot(un,i,pn,Gt)},y:nhe,Y:the,Z:e$e,"%":c$e};function Qe(un,pn){return function(Gt){var rn,bn,On,Ht=[],yn=-1,Pn=0,$n=un.length;for(Gt instanceof Date||(Gt=new Date(+Gt));++yn<$n;)37===un.charCodeAt(yn)&&(Ht.push(un.slice(Pn,yn)),null!=(bn=ehe[rn=un.charAt(++yn)])?rn=un.charAt(++yn):bn="e"===rn?" ":"0",(On=pn[rn])&&(rn=On(Gt,bn)),Ht.push(rn),Pn=yn+1);return Ht.push(un.slice(Pn,yn)),Ht.join("")}}function tt(un,pn){return function(Gt){var Pn,$n,Ht=d8(1900,void 0,1);if(ot(Ht,un,Gt+="",0)!=Gt.length)return null;if("Q"in Ht)return new Date(Ht.Q);if("s"in Ht)return new Date(1e3*Ht.s+("L"in Ht?Ht.L:0));if(pn&&!("Z"in Ht)&&(Ht.Z=0),"p"in Ht&&(Ht.H=Ht.H%12+12*Ht.p),void 0===Ht.m&&(Ht.m="q"in Ht?Ht.q:0),"V"in Ht){if(Ht.V<1||Ht.V>53)return null;"w"in Ht||(Ht.w=1),"Z"in Ht?($n=(Pn=uX(d8(Ht.y,0,1))).getUTCDay(),Pn=$n>4||0===$n?nL.ceil(Pn):nL(Pn),Pn=Yfe.offset(Pn,7*(Ht.V-1)),Ht.y=Pn.getUTCFullYear(),Ht.m=Pn.getUTCMonth(),Ht.d=Pn.getUTCDate()+(Ht.w+6)%7):($n=(Pn=dX(d8(Ht.y,0,1))).getDay(),Pn=$n>4||0===$n?rL.ceil(Pn):rL(Pn),Pn=Qfe.offset(Pn,7*(Ht.V-1)),Ht.y=Pn.getFullYear(),Ht.m=Pn.getMonth(),Ht.d=Pn.getDate()+(Ht.w+6)%7)}else("W"in Ht||"U"in Ht)&&("w"in Ht||(Ht.w="u"in Ht?Ht.u%7:"W"in Ht?1:0),$n="Z"in Ht?uX(d8(Ht.y,0,1)).getUTCDay():dX(d8(Ht.y,0,1)).getDay(),Ht.m=0,Ht.d="W"in Ht?(Ht.w+6)%7+7*Ht.W-($n+5)%7:Ht.w+7*Ht.U-($n+6)%7);return"Z"in Ht?(Ht.H+=Ht.Z/100|0,Ht.M+=Ht.Z%100,uX(Ht)):dX(Ht)}}function ot(un,pn,Gt,Ht){for(var rn,bn,yn=0,Pn=pn.length,$n=Gt.length;yn<Pn;){if(Ht>=$n)return-1;if(37===(rn=pn.charCodeAt(yn++))){if(rn=pn.charAt(yn++),!(bn=Je[rn in ehe?pn.charAt(yn++):rn])||(Ht=bn(un,Gt,Ht))<0)return-1}else if(rn!=Gt.charCodeAt(Ht++))return-1}return Ht}return Ie.x=Qe(t,Ie),Ie.X=Qe(i,Ie),Ie.c=Qe(r,Ie),$e.x=Qe(t,$e),$e.X=Qe(i,$e),$e.c=Qe(r,$e),{format:function(un){var pn=Qe(un+="",Ie);return pn.toString=function(){return un},pn},parse:function(un){var pn=tt(un+="",!1);return pn.toString=function(){return un},pn},utcFormat:function(un){var pn=Qe(un+="",$e);return pn.toString=function(){return un},pn},utcParse:function(un){var pn=tt(un+="",!0);return pn.toString=function(){return un},pn}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Wq(JB),Wq(function X$e(n){return null===n?NaN:+n});var _he,lVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sL(n){if(!(r=lVe.exec(n)))throw new Error("invalid format: "+n);var r;return new hX({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function hX(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function oL(n,r){if((t=(n=r?n.toExponential(r-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function whe(n,r){var t=oL(n,r);if(!t)return n+"";var i=t[0],s=t[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}sL.prototype=hX.prototype,hX.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xhe={"%":(n,r)=>(100*n).toFixed(r),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function dVe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,r)=>n.toExponential(r),f:(n,r)=>n.toFixed(r),g:(n,r)=>n.toPrecision(r),o:n=>Math.round(n).toString(8),p:(n,r)=>whe(100*n,r),r:whe,s:function mVe(n,r){var t=oL(n,r);if(!t)return n+"";var i=t[0],s=t[1],o=s-(_he=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+oL(n,Math.max(0,r+o-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ehe(n){return n}var She=Array.prototype.map,Che=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function gVe(n){var r=void 0===n.grouping||void 0===n.thousands?Ehe:function fVe(n,r){return function(t,i){for(var s=t.length,o=[],a=0,c=n[0],_=0;s>0&&c>0&&(_+c+1>i&&(c=Math.max(1,i-_)),o.push(t.substring(s-=c,s+c)),!((_+=c+1)>i));)c=n[a=(a+1)%n.length];return o.reverse().join(r)}}(She.call(n.grouping,Number),n.thousands+""),t=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",s=void 0===n.decimal?".":n.decimal+"",o=void 0===n.numerals?Ehe:function hVe(n){return function(r){return r.replace(/[0-9]/g,function(t){return n[+t]})}}(She.call(n.numerals,String)),a=void 0===n.percent?"%":n.percent+"",c=void 0===n.minus?"\u2212":n.minus+"",_=void 0===n.nan?"NaN":n.nan+"";function E(j){var oe=(j=sL(j)).fill,le=j.align,ue=j.sign,pe=j.symbol,we=j.zero,Oe=j.width,Pe=j.comma,Ie=j.precision,$e=j.trim,Je=j.type;"n"===Je?(Pe=!0,Je="g"):xhe[Je]||(void 0===Ie&&(Ie=12),$e=!0,Je="g"),(we||"0"===oe&&"="===le)&&(we=!0,oe="0",le="=");var Qe="$"===pe?t:"#"===pe&&/[boxX]/.test(Je)?"0"+Je.toLowerCase():"",tt="$"===pe?i:/[%p]/.test(Je)?a:"",ot=xhe[Je],xt=/[defgprs%]/.test(Je);function Ct(Tt){var Xt,vt,Et,Kt=Qe,Lt=tt;if("c"===Je)Lt=ot(Tt)+Lt,Tt="";else{var Dt=(Tt=+Tt)<0||1/Tt<0;if(Tt=isNaN(Tt)?_:ot(Math.abs(Tt),Ie),$e&&(Tt=function pVe(n){e:for(var s,r=n.length,t=1,i=-1;t<r;++t)switch(n[t]){case".":i=s=t;break;case"0":0===i&&(i=t),s=t;break;default:if(!+n[t])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(s+1):n}(Tt)),Dt&&0==+Tt&&"+"!==ue&&(Dt=!1),Kt=(Dt?"("===ue?ue:c:"-"===ue||"("===ue?"":ue)+Kt,Lt=("s"===Je?Che[8+_he/3]:"")+Lt+(Dt&&"("===ue?")":""),xt)for(Xt=-1,vt=Tt.length;++Xt<vt;)if(48>(Et=Tt.charCodeAt(Xt))||Et>57){Lt=(46===Et?s+Tt.slice(Xt+1):Tt.slice(Xt))+Lt,Tt=Tt.slice(0,Xt);break}}Pe&&!we&&(Tt=r(Tt,1/0));var jt=Kt.length+Tt.length+Lt.length,Ft=jt<Oe?new Array(Oe-jt+1).join(oe):"";switch(Pe&&we&&(Tt=r(Ft+Tt,Ft.length?Oe-Lt.length:1/0),Ft=""),le){case"<":Tt=Kt+Tt+Lt+Ft;break;case"=":Tt=Kt+Ft+Tt+Lt;break;case"^":Tt=Ft.slice(0,jt=Ft.length>>1)+Kt+Tt+Lt+Ft.slice(jt);break;default:Tt=Ft+Kt+Tt+Lt}return o(Tt)}return Ie=void 0===Ie?6:/[gprs]/.test(Je)?Math.max(1,Math.min(21,Ie)):Math.max(0,Math.min(20,Ie)),Ct.toString=function(){return j+""},Ct}return{format:E,formatPrefix:function m(j,oe){var le=E(((j=sL(j)).type="f",j)),ue=3*Math.max(-8,Math.min(8,Math.floor(function ZC(n){return(n=oL(Math.abs(n)))?n[1]:NaN}(oe)/3))),pe=Math.pow(10,-ue),we=Che[8+ue/3];return function(Oe){return le(pe*Oe)+we}}}}!function yVe(n){gVe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Set,Symbol("implicit");var SVe=A(76021);const CVe=["caretElm"],AVe=n=>({model:n});function TVe(n,r){}function DVe(n,r){if(1&n&&(u.j41(0,"span"),u.DNE(1,TVe,0,0,"ng-template",5),u.k0s()),2&n){const t=u.XpG();u.R7$(),u.Y8G("ngTemplateOutlet",t.template)("ngTemplateOutletContext",u.eq3(2,AVe,t.context))}}function MVe(n,r){if(1&n&&u.nrm(0,"span",6),2&n){const t=u.XpG();u.Y8G("innerHTML",t.title,u.npT)}}function yze(n,r,t){t=t||{};let i,s,o,a=null,c=0;function _(){c=!1===t.leading?0:+new Date,a=null,o=n.apply(i,s)}return function(){const E=+new Date;!c&&!1===t.leading&&(c=E);const m=r-(E-c);return i=this,s=arguments,m<=0?(clearTimeout(a),a=null,c=E,o=n.apply(i,s)):!a&&!1!==t.trailing&&(a=setTimeout(_,m)),o}}function vze(n,r){return function(i,s,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:o.enumerable,value:yze(o.value,n,r)}),this[s]}}}}var es=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(es||{});function Lhe(n,r,t){return t===es.Top?n.top-7:t===es.Bottom?n.top+n.height-r.height+7:t===es.Center?n.top+n.height/2-r.height/2:void 0}function jhe(n,r,t){return t===es.Left?n.left-7:t===es.Right?n.left+n.width-r.width+7:t===es.Center?n.left+n.width/2-r.width/2:void 0}class xf{static calculateVerticalAlignment(r,t,i){let s=Lhe(r,t,i);return s+t.height>window.innerHeight&&(s=window.innerHeight-t.height),s}static calculateVerticalCaret(r,t,i,s){let o;s===es.Top&&(o=r.height/2-i.height/2+7),s===es.Bottom&&(o=t.height-r.height/2-i.height/2-7),s===es.Center&&(o=t.height/2-i.height/2);const a=Lhe(r,t,s);return a+t.height>window.innerHeight&&(o+=a+t.height-window.innerHeight),o}static calculateHorizontalAlignment(r,t,i){let s=jhe(r,t,i);return s+t.width>window.innerWidth&&(s=window.innerWidth-t.width),s}static calculateHorizontalCaret(r,t,i,s){let o;s===es.Left&&(o=r.width/2-i.width/2+7),s===es.Right&&(o=t.width-r.width/2-i.width/2-7),s===es.Center&&(o=t.width/2-i.width/2);const a=jhe(r,t,s);return a+t.width>window.innerWidth&&(o+=a+t.width-window.innerWidth),o}static shouldFlip(r,t,i,s){let o=!1;return i===es.Right&&r.left+r.width+t.width+s>window.innerWidth&&(o=!0),i===es.Left&&r.left-t.width-s<0&&(o=!0),i===es.Top&&r.top-t.height-s<0&&(o=!0),i===es.Bottom&&r.top+r.height+t.height+s>window.innerHeight&&(o=!0),o}static positionCaret(r,t,i,s,o){let a=0,c=0;return r===es.Right?(c=-7,a=xf.calculateVerticalCaret(i,t,s,o)):r===es.Left?(c=t.width,a=xf.calculateVerticalCaret(i,t,s,o)):r===es.Top?(a=t.height,c=xf.calculateHorizontalCaret(i,t,s,o)):r===es.Bottom&&(a=-7,c=xf.calculateHorizontalCaret(i,t,s,o)),{top:a,left:c}}static positionContent(r,t,i,s,o){let a=0,c=0;return r===es.Right?(c=i.left+i.width+s,a=xf.calculateVerticalAlignment(i,t,o)):r===es.Left?(c=i.left-t.width-s,a=xf.calculateVerticalAlignment(i,t,o)):r===es.Top?(a=i.top-t.height-s,c=xf.calculateHorizontalAlignment(i,t,o)):r===es.Bottom&&(a=i.top+i.height+s,c=xf.calculateHorizontalAlignment(i,t,o)),{top:a,left:c}}static determinePlacement(r,t,i,s){if(xf.shouldFlip(i,t,r,s)){if(r===es.Right)return es.Left;if(r===es.Left)return es.Right;if(r===es.Top)return es.Bottom;if(r===es.Bottom)return es.Top}return r}}let bze=(()=>{class n{constructor(t,i,s){this.element=t,this.renderer=i,this.platformId=s}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!fo(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=t.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(t,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,s){const{top:o,left:a}=xf.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${o}px`),this.renderer.setStyle(t,"left",`${a}px`)}positionCaret(t,i){const s=this.caretElm.nativeElement,o=s.getBoundingClientRect(),{top:a,left:c}=xf.positionCaret(this.placement,i,t,o,this.alignment);this.renderer.setStyle(s,"top",`${a}px`),this.renderer.setStyle(s,"left",`${c}px`)}checkFlip(t,i){this.placement=xf.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(t){return new(t||n)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.Agw))},n.\u0275cmp=u.VBU({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&u.GBs(CVe,5),2&t){let s;u.mGM(s=u.lsd())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(t,i){1&t&&u.bIt("resize",function(){return i.onWindowResize()},!1,u.tSv),2&t&&u.HbH(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(u.j41(0,"div"),u.nrm(1,"span",1,0),u.j41(3,"div",2),u.DNE(4,DVe,2,4,"span",3)(5,MVe,1,1,"span",4),u.k0s()()),2&t&&(u.R7$(),u.ZvI("tooltip-caret position-",i.placement,""),u.Y8G("hidden",!i.showCaret),u.R7$(3),u.Y8G("ngIf",!i.title),u.R7$(),u.Y8G("ngIf",i.title))},dependencies:[Bo,Ul],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function wA(n,r,t,i){var a,s=arguments.length,o=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,r,t,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(o=(s<3?a(o):s>3?a(r,t,o):a(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}([vze(100)],n.prototype,"onWindowResize",null),n})();class _ze{constructor(r){this.injectionService=r,this.defaults={},this.components=new Map}getByType(r=this.type){return this.components.get(r)}create(r){return this.createByType(this.type,r)}createByType(r,t){t=this.assignDefaults(t);const i=this.injectComponent(r,t);return this.register(r,i),i}destroy(r){const t=this.components.get(r.componentType);if(t&&t.length){const i=t.indexOf(r);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(r){const t=this.components.get(r);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(r,t){return this.injectionService.appendComponent(r,t)}assignDefaults(r){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!r.inputs&&!r.outputs&&(r={inputs:r}),t&&(r.inputs={...t,...r.inputs}),i&&(r.outputs={...i,...r.outputs}),r}register(r,t){this.components.has(r)||this.components.set(r,[]),this.components.get(r).push(t)}}let vX,$he=(()=>{class n{constructor(t,i,s){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(t){n.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function wze(n){return n.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const o of s)t.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const o of s)t.instance[o]=i.outputs[o]}}return t}appendComponent(t,i={},s){s||(s=this.getRootViewContainer());const o=this.getComponentRootNode(s),a=new KQ(o,this.componentFactoryResolver,this.applicationRef,this.injector),c=new iU(t),_=a.attach(c);return this.projectComponentBindings(_,i),_}}return n.globalRootViewContainer=null,n.\u0275fac=function(t){return new(t||n)(u.KVO(u.o8S),u.KVO(u.OM3),u.KVO(u.zZn))},n.\u0275prov=u.jDH({token:n,factory:n.\u0275fac}),n})(),mX=(()=>{class n extends _ze{constructor(t){super(t),this.type=bze}}return n.\u0275fac=function(t){return new(t||n)(u.KVO($he))},n.\u0275prov=u.jDH({token:n,factory:n.\u0275fac}),n})(),Whe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[gs]]}),n})(),qhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({providers:[$he,mX],imports:[[gs]]}),n})();typeof window<"u"?vX=window:typeof globalThis<"u"&&(vX=globalThis);let Ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[gs,Whe,qhe],gs,Whe,qhe]}),n})(),Fze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),npe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})();SVe();let Lze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),jze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),$ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),rpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})();Math;let _X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),zze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef,_X,rpe]]}),n})(),Gze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),Wze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),qze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef,_X,npe]]}),n})(),Yze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[[Ef]]}),n})(),Zze=(()=>{class n{constructor(){!function Xze(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[Ef,Fze,npe,Lze,jze,$ze,Yze,rpe,zze,Gze,_X,Wze,qze]}),n})(),Jze=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=u.$C({type:n,bootstrap:[k5e]})}static{this.\u0275inj=u.G2t({providers:[HNe(),R0e(H1(xv.LegacyInterceptors,[{provide:DQ,useFactory:E0e},{provide:yk,useExisting:DQ,multi:!0}]))],imports:[Zg,M5e,kue,zZ,HZ,t0e,UK,OOe,ege,qNe,o0e,oBe,iBe,m5e,LBe,kue,Zze,gs,S5e,tye]})}}return n})();pA().bootstrapModule(Jze).catch(n=>console.error(n))},4521:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createCurve=I.getHash=void 0;const O=A(96331),$=A(34939),U=A(73040);function K(T){return{hash:T,hmac:(w,...x)=>(0,O.hmac)(T,w,(0,$.concatBytes)(...x)),randomBytes:$.randomBytes}}I.getHash=K,I.createCurve=function y(T,w){const x=R=>(0,U.weierstrass)({...T,...K(R)});return Object.freeze({...x(w),create:x})}},25299:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateBasic=I.wNAF=void 0;const O=A(63834),$=A(84097),U=BigInt(0),K=BigInt(1);I.wNAF=function y(w,x){const R=(v,N)=>{const M=N.negate();return v?M:N},k=v=>({windows:Math.ceil(x/v)+1,windowSize:2**(v-1)});return{constTimeNegate:R,unsafeLadder(v,N){let M=w.ZERO,P=v;for(;N>U;)N&K&&(M=M.add(P)),P=P.double(),N>>=K;return M},precomputeWindow(v,N){const{windows:M,windowSize:P}=k(N),L=[];let G=v,B=G;for(let q=0;q<M;q++){B=G,L.push(B);for(let X=1;X<P;X++)B=B.add(G),L.push(B);G=B.double()}return L},wNAF(v,N,M){const{windows:P,windowSize:L}=k(v);let G=w.ZERO,B=w.BASE;const q=BigInt(2**v-1),X=2**v,Q=BigInt(v);for(let te=0;te<P;te++){const ie=te*L;let ae=Number(M&q);M>>=Q,ae>L&&(ae-=X,M+=K);const me=ie,ge=ie+Math.abs(ae)-1,z=ae<0;0===ae?B=B.add(R(te%2!=0,N[me])):G=G.add(R(z,N[ge]))}return{p:G,f:B}},wNAFCached(v,N,M,P){const L=v._WINDOW_SIZE||1;let G=N.get(v);return G||(G=this.precomputeWindow(v,L),1!==L&&N.set(v,P(G))),this.wNAF(L,G,M)}}},I.validateBasic=function T(w){return(0,O.validateField)(w.Fp),(0,$.validateObject)(w,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,O.nLength)(w.n,w.nBitLength),...w,p:w.Fp.ORDER})}},45068:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.twistedEdwards=void 0;const O=A(63834),$=A(84097),U=A(84097),K=A(25299),y=BigInt(0),T=BigInt(1),w=BigInt(2),x=BigInt(8),R={zip215:!0};I.twistedEdwards=function v(N){const M=function k(N){const M=(0,K.validateBasic)(N);return $.validateObject(N,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...M})}(N),{Fp:P,n:L,prehash:G,hash:B,randomBytes:q,nByteLength:X,h:Q}=M,te=w<<BigInt(8*X)-T,ie=P.create,ae=M.uvRatio||((Se,He)=>{try{return{isValid:!0,value:P.sqrt(Se*P.inv(He))}}catch{return{isValid:!1,value:y}}}),me=M.adjustScalarBytes||(Se=>Se),ge=M.domain||((Se,He,Te)=>{if(He.length||Te)throw new Error("Contexts/pre-hash are not supported");return Se}),de=Se=>"bigint"==typeof Se&&y<Se,z=(Se,He)=>de(Se)&&de(He)&&Se<He,d=Se=>Se===y||z(Se,te);function f(Se,He){if(z(Se,He))return Se;throw new Error(`Expected valid scalar < ${He}, got ${typeof Se} ${Se}`)}function b(Se){return Se===y?Se:f(Se,L)}const C=new Map;function D(Se){if(!(Se instanceof V))throw new Error("ExtendedPoint expected")}class V{constructor(He,Te,u,xe){if(this.ex=He,this.ey=Te,this.ez=u,this.et=xe,!d(He))throw new Error("x required");if(!d(Te))throw new Error("y required");if(!d(u))throw new Error("z required");if(!d(xe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(He){if(He instanceof V)throw new Error("extended point not allowed");const{x:Te,y:u}=He||{};if(!d(Te)||!d(u))throw new Error("invalid affine point");return new V(Te,u,T,ie(Te*u))}static normalizeZ(He){const Te=P.invertBatch(He.map(u=>u.ez));return He.map((u,xe)=>u.toAffine(Te[xe])).map(V.fromAffine)}_setWindowSize(He){this._WINDOW_SIZE=He,C.delete(this)}assertValidity(){const{a:He,d:Te}=M;if(this.is0())throw new Error("bad point: ZERO");const{ex:u,ey:xe,ez:be,et:_e}=this,Ce=ie(u*u),ke=ie(xe*xe),ze=ie(be*be),Ne=ie(ze*ze),We=ie(Ce*He);if(ie(ze*ie(We+ke))!==ie(Ne+ie(Te*ie(Ce*ke))))throw new Error("bad point: equation left != right (1)");if(ie(u*xe)!==ie(be*_e))throw new Error("bad point: equation left != right (2)")}equals(He){D(He);const{ex:Te,ey:u,ez:xe}=this,{ex:be,ey:_e,ez:Ce}=He,ke=ie(Te*Ce),ze=ie(be*xe),Ne=ie(u*Ce),We=ie(_e*xe);return ke===ze&&Ne===We}is0(){return this.equals(V.ZERO)}negate(){return new V(ie(-this.ex),this.ey,this.ez,ie(-this.et))}double(){const{a:He}=M,{ex:Te,ey:u,ez:xe}=this,be=ie(Te*Te),_e=ie(u*u),Ce=ie(w*ie(xe*xe)),ke=ie(He*be),ze=Te+u,Ne=ie(ie(ze*ze)-be-_e),We=ke+_e,Ye=We-Ce,wt=ke-_e,mt=ie(Ne*Ye),rt=ie(We*wt),Ut=ie(Ne*wt),se=ie(Ye*We);return new V(mt,rt,se,Ut)}add(He){D(He);const{a:Te,d:u}=M,{ex:xe,ey:be,ez:_e,et:Ce}=this,{ex:ke,ey:ze,ez:Ne,et:We}=He;if(Te===BigInt(-1)){const at=ie((be-xe)*(ze+ke)),Rt=ie((be+xe)*(ze-ke)),Mt=ie(Rt-at);if(Mt===y)return this.double();const At=ie(_e*w*We),Wt=ie(Ce*w*Ne),Bt=Wt+At,nn=Rt+at,Hn=Wt-At,sn=ie(Bt*Mt),an=ie(nn*Hn),kn=ie(Bt*Hn),Ve=ie(Mt*nn);return new V(sn,an,Ve,kn)}const Ye=ie(xe*ke),wt=ie(be*ze),mt=ie(Ce*u*We),rt=ie(_e*Ne),Ut=ie((xe+be)*(ke+ze)-Ye-wt),se=rt-mt,W=rt+mt,Z=ie(wt-Te*Ye),he=ie(Ut*se),De=ie(W*Z),Xe=ie(Ut*Z),Ze=ie(se*W);return new V(he,De,Ze,Xe)}subtract(He){return this.add(He.negate())}wNAF(He){return h.wNAFCached(this,C,He,V.normalizeZ)}multiply(He){const{p:Te,f:u}=this.wNAF(f(He,L));return V.normalizeZ([Te,u])[0]}multiplyUnsafe(He){let Te=b(He);return Te===y?F:this.equals(F)||Te===T?this:this.equals(Y)?this.wNAF(Te).p:h.unsafeLadder(this,Te)}isSmallOrder(){return this.multiplyUnsafe(Q).is0()}isTorsionFree(){return h.unsafeLadder(this,L).is0()}toAffine(He){const{ex:Te,ey:u,ez:xe}=this,be=this.is0();null==He&&(He=be?x:P.inv(xe));const _e=ie(Te*He),Ce=ie(u*He),ke=ie(xe*He);if(be)return{x:y,y:T};if(ke!==T)throw new Error("invZ was invalid");return{x:_e,y:Ce}}clearCofactor(){const{h:He}=M;return He===T?this:this.multiplyUnsafe(He)}static fromHex(He,Te=!1){const{d:u,a:xe}=M,be=P.BYTES,_e=(He=(0,U.ensureBytes)("pointHex",He,be)).slice(),Ce=He[be-1];_e[be-1]=-129&Ce;const ke=$.bytesToNumberLE(_e);ke===y||f(ke,Te?te:P.ORDER);const ze=ie(ke*ke),Ne=ie(ze-T),We=ie(u*ze-xe);let{isValid:Ye,value:wt}=ae(Ne,We);if(!Ye)throw new Error("Point.fromHex: invalid y coordinate");const mt=(wt&T)===T,rt=!!(128&Ce);if(!Te&&wt===y&&rt)throw new Error("Point.fromHex: x=0 and x_0=1");return rt!==mt&&(wt=ie(-wt)),V.fromAffine({x:wt,y:ke})}static fromPrivateKey(He){return ee(He).point}toRawBytes(){const{x:He,y:Te}=this.toAffine(),u=$.numberToBytesLE(Te,P.BYTES);return u[u.length-1]|=He&T?128:0,u}toHex(){return $.bytesToHex(this.toRawBytes())}}V.BASE=new V(M.Gx,M.Gy,T,ie(M.Gx*M.Gy)),V.ZERO=new V(y,T,T,y);const{BASE:Y,ZERO:F}=V,h=(0,K.wNAF)(V,8*X);function g(Se){return(0,O.mod)(Se,L)}function J(Se){return g($.bytesToNumberLE(Se))}function ee(Se){const He=X;Se=(0,U.ensureBytes)("private key",Se,He);const Te=(0,U.ensureBytes)("hashed private key",B(Se),2*He),u=me(Te.slice(0,He)),xe=Te.slice(He,2*He),be=J(u),_e=Y.multiply(be),Ce=_e.toRawBytes();return{head:u,prefix:xe,scalar:be,point:_e,pointBytes:Ce}}function fe(Se=new Uint8Array,...He){const Te=$.concatBytes(...He);return J(B(ge(Te,(0,U.ensureBytes)("context",Se),!!G)))}const Me=R;return Y._setWindowSize(8),{CURVE:M,getPublicKey:function re(Se){return ee(Se).pointBytes},sign:function Ae(Se,He,Te={}){Se=(0,U.ensureBytes)("message",Se),G&&(Se=G(Se));const{prefix:u,scalar:xe,pointBytes:be}=ee(He),_e=fe(Te.context,u,Se),Ce=Y.multiply(_e).toRawBytes(),ze=g(_e+fe(Te.context,Ce,be,Se)*xe);b(ze);const Ne=$.concatBytes(Ce,$.numberToBytesLE(ze,P.BYTES));return(0,U.ensureBytes)("result",Ne,2*X)},verify:function Le(Se,He,Te,u=Me){const{context:xe,zip215:be}=u,_e=P.BYTES;Se=(0,U.ensureBytes)("signature",Se,2*_e),He=(0,U.ensureBytes)("message",He),G&&(He=G(He));const Ce=$.bytesToNumberLE(Se.slice(_e,2*_e));let ke,ze,Ne;try{ke=V.fromHex(Te,be),ze=V.fromHex(Se.slice(0,_e),be),Ne=Y.multiplyUnsafe(Ce)}catch{return!1}if(!be&&ke.isSmallOrder())return!1;const We=fe(xe,ze.toRawBytes(),ke.toRawBytes(),He);return ze.add(ke.multiplyUnsafe(We)).subtract(Ne).clearCofactor().equals(V.ZERO)},ExtendedPoint:V,utils:{getExtendedPublicKey:ee,randomPrivateKey:()=>q(P.BYTES),precompute:(Se=8,He=V.BASE)=>(He._setWindowSize(Se),He.multiply(BigInt(3)),He)}}}},75752:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createHasher=I.isogenyMap=I.hash_to_field=I.expand_message_xof=I.expand_message_xmd=void 0;const O=A(63834),$=A(84097),K=$.bytesToNumberBE;function y(P,L){if(P<0||P>=1<<8*L)throw new Error(`bad I2OSP call: value=${P} length=${L}`);const G=Array.from({length:L}).fill(0);for(let B=L-1;B>=0;B--)G[B]=255&P,P>>>=8;return new Uint8Array(G)}function T(P,L){const G=new Uint8Array(P.length);for(let B=0;B<P.length;B++)G[B]=P[B]^L[B];return G}function w(P){if(!(0,$.isBytes)(P))throw new Error("Uint8Array expected")}function x(P){if(!Number.isSafeInteger(P))throw new Error("number expected")}function R(P,L,G,B){w(P),w(L),x(G),L.length>255&&(L=B((0,$.concatBytes)((0,$.utf8ToBytes)("H2C-OVERSIZE-DST-"),L)));const{outputLen:q,blockLen:X}=B,Q=Math.ceil(G/q);if(Q>255)throw new Error("Invalid xmd length");const te=(0,$.concatBytes)(L,y(L.length,1)),ie=y(0,X),ae=y(G,2),me=new Array(Q),ge=B((0,$.concatBytes)(ie,P,ae,y(0,1),te));me[0]=B((0,$.concatBytes)(ge,y(1,1),te));for(let z=1;z<=Q;z++){const d=[T(ge,me[z-1]),y(z+1,1),te];me[z]=B((0,$.concatBytes)(...d))}return(0,$.concatBytes)(...me).slice(0,G)}function k(P,L,G,B,q){if(w(P),w(L),x(G),L.length>255){const X=Math.ceil(2*B/8);L=q.create({dkLen:X}).update((0,$.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(L).digest()}if(G>65535||L.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return q.create({dkLen:G}).update(P).update(y(G,2)).update(L).update(y(L.length,1)).digest()}function v(P,L,G){(0,$.validateObject)(G,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:B,k:q,m:X,hash:Q,expand:te,DST:ie}=G;w(P),x(L);const ae=function U(P){if((0,$.isBytes)(P))return P;if("string"==typeof P)return(0,$.utf8ToBytes)(P);throw new Error("DST must be Uint8Array or string")}(ie),me=B.toString(2).length,ge=Math.ceil((me+q)/8),de=L*X*ge;let z;if("xmd"===te)z=R(P,ae,de,Q);else if("xof"===te)z=k(P,ae,de,q,Q);else{if("_internal_pass"!==te)throw new Error('expand must be "xmd" or "xof"');z=P}const d=new Array(L);for(let f=0;f<L;f++){const b=new Array(X);for(let C=0;C<X;C++){const D=ge*(C+f*X),V=z.subarray(D,D+ge);b[C]=(0,O.mod)(K(V),B)}d[f]=b}return d}I.expand_message_xmd=R,I.expand_message_xof=k,I.hash_to_field=v,I.isogenyMap=function N(P,L){const G=L.map(B=>Array.from(B).reverse());return(B,q)=>{const[X,Q,te,ie]=G.map(ae=>ae.reduce((me,ge)=>P.add(P.mul(me,B),ge)));return B=P.div(X,Q),q=P.mul(q,P.div(te,ie)),{x:B,y:q}}},I.createHasher=function M(P,L,G){if("function"!=typeof L)throw new Error("mapToCurve() must be defined");return{hashToCurve(B,q){const X=v(B,2,{...G,DST:G.DST,...q}),Q=P.fromAffine(L(X[0])),te=P.fromAffine(L(X[1])),ie=Q.add(te).clearCofactor();return ie.assertValidity(),ie},encodeToCurve(B,q){const X=v(B,1,{...G,DST:G.encodeDST,...q}),Q=P.fromAffine(L(X[0])).clearCofactor();return Q.assertValidity(),Q}}}},63834:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.mapHashToField=I.getMinHashLength=I.getFieldBytesLength=I.hashToPrivateScalar=I.FpSqrtEven=I.FpSqrtOdd=I.Field=I.nLength=I.FpIsSquare=I.FpDiv=I.FpInvertBatch=I.FpPow=I.validateField=I.isNegativeLE=I.FpSqrt=I.tonelliShanks=I.invert=I.pow2=I.pow=I.mod=void 0;const O=A(84097),$=BigInt(0),U=BigInt(1),K=BigInt(2),y=BigInt(3),T=BigInt(4),w=BigInt(5),x=BigInt(8);function v(D,V){const Y=D%V;return Y>=$?Y:V+Y}function N(D,V,Y){if(Y<=$||V<$)throw new Error("Expected power/modulo > 0");if(Y===U)return $;let F=U;for(;V>$;)V&U&&(F=F*D%Y),D=D*D%Y,V>>=U;return F}function P(D,V){if(D===$||V<=$)throw new Error(`invert: expected positive integers, got n=${D} mod=${V}`);let Y=v(D,V),F=V,h=$,g=U,J=U,ee=$;for(;Y!==$;){const fe=F/Y,Ae=F%Y,Me=h-J*fe,Le=g-ee*fe;F=Y,Y=Ae,h=J,g=ee,J=Me,ee=Le}if(F!==U)throw new Error("invert: does not exist");return v(h,V)}function L(D){const V=(D-U)/K;let Y,F,h;for(Y=D-U,F=0;Y%K===$;Y/=K,F++);for(h=K;h<D&&N(h,V,D)!==D-U;h++);if(1===F){const J=(D+U)/T;return function(re,fe){const Ae=re.pow(fe,J);if(!re.eql(re.sqr(Ae),fe))throw new Error("Cannot find square root");return Ae}}const g=(Y+U)/K;return function(ee,re){if(ee.pow(re,V)===ee.neg(ee.ONE))throw new Error("Cannot find square root");let fe=F,Ae=ee.pow(ee.mul(ee.ONE,h),Y),Me=ee.pow(re,g),Le=ee.pow(re,Y);for(;!ee.eql(Le,ee.ONE);){if(ee.eql(Le,ee.ZERO))return ee.ZERO;let Ee=1;for(let He=ee.sqr(Le);Ee<fe&&!ee.eql(He,ee.ONE);Ee++)He=ee.sqr(He);const Se=ee.pow(Ae,U<<BigInt(fe-Ee-1));Ae=ee.sqr(Se),Me=ee.mul(Me,Se),Le=ee.mul(Le,Ae),fe=Ee}return Me}}function G(D){if(D%T===y){const V=(D+U)/T;return function(F,h){const g=F.pow(h,V);if(!F.eql(F.sqr(g),h))throw new Error("Cannot find square root");return g}}if(D%x===w){const V=(D-w)/x;return function(F,h){const g=F.mul(h,K),J=F.pow(g,V),ee=F.mul(h,J),re=F.mul(F.mul(ee,K),J),fe=F.mul(ee,F.sub(re,F.ONE));if(!F.eql(F.sqr(fe),h))throw new Error("Cannot find square root");return fe}}return L(D)}BigInt(9),BigInt(16),I.mod=v,I.pow=N,I.pow2=function M(D,V,Y){let F=D;for(;V-- >$;)F*=F,F%=Y;return F},I.invert=P,I.tonelliShanks=L,I.FpSqrt=G,I.isNegativeLE=(D,V)=>(v(D,V)&U)===U;const q=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Q(D,V,Y){if(Y<$)throw new Error("Expected power > 0");if(Y===$)return D.ONE;if(Y===U)return V;let F=D.ONE,h=V;for(;Y>$;)Y&U&&(F=D.mul(F,h)),h=D.sqr(h),Y>>=U;return F}function te(D,V){const Y=new Array(V.length),F=V.reduce((g,J,ee)=>D.is0(J)?g:(Y[ee]=g,D.mul(g,J)),D.ONE),h=D.inv(F);return V.reduceRight((g,J,ee)=>D.is0(J)?g:(Y[ee]=D.mul(g,Y[ee]),D.mul(g,J)),h),Y}function me(D,V){const Y=void 0!==V?V:D.toString(2).length;return{nBitLength:Y,nByteLength:Math.ceil(Y/8)}}function f(D){if("bigint"!=typeof D)throw new Error("field order must be bigint");const V=D.toString(2).length;return Math.ceil(V/8)}function b(D){const V=f(D);return V+Math.ceil(V/2)}I.validateField=function X(D){const Y=q.reduce((F,h)=>(F[h]="function",F),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,O.validateObject)(D,Y)},I.FpPow=Q,I.FpInvertBatch=te,I.FpDiv=function ie(D,V,Y){return D.mul(V,"bigint"==typeof Y?P(Y,D.ORDER):D.inv(Y))},I.FpIsSquare=function ae(D){const V=(D.ORDER-U)/K;return Y=>{const F=D.pow(Y,V);return D.eql(F,D.ZERO)||D.eql(F,D.ONE)}},I.nLength=me,I.Field=function ge(D,V,Y=!1,F={}){if(D<=$)throw new Error(`Expected Field ORDER > 0, got ${D}`);const{nBitLength:h,nByteLength:g}=me(D,V);if(g>2048)throw new Error("Field lengths over 2048 bytes are not supported");const J=G(D),ee=Object.freeze({ORDER:D,BITS:h,BYTES:g,MASK:(0,O.bitMask)(h),ZERO:$,ONE:U,create:re=>v(re,D),isValid:re=>{if("bigint"!=typeof re)throw new Error("Invalid field element: expected bigint, got "+typeof re);return $<=re&&re<D},is0:re=>re===$,isOdd:re=>(re&U)===U,neg:re=>v(-re,D),eql:(re,fe)=>re===fe,sqr:re=>v(re*re,D),add:(re,fe)=>v(re+fe,D),sub:(re,fe)=>v(re-fe,D),mul:(re,fe)=>v(re*fe,D),pow:(re,fe)=>Q(ee,re,fe),div:(re,fe)=>v(re*P(fe,D),D),sqrN:re=>re*re,addN:(re,fe)=>re+fe,subN:(re,fe)=>re-fe,mulN:(re,fe)=>re*fe,inv:re=>P(re,D),sqrt:F.sqrt||(re=>J(ee,re)),invertBatch:re=>te(ee,re),cmov:(re,fe,Ae)=>Ae?fe:re,toBytes:re=>Y?(0,O.numberToBytesLE)(re,g):(0,O.numberToBytesBE)(re,g),fromBytes:re=>{if(re.length!==g)throw new Error(`Fp.fromBytes: expected ${g}, got ${re.length}`);return Y?(0,O.bytesToNumberLE)(re):(0,O.bytesToNumberBE)(re)}});return Object.freeze(ee)},I.FpSqrtOdd=function de(D,V){if(!D.isOdd)throw new Error("Field doesn't have isOdd");const Y=D.sqrt(V);return D.isOdd(Y)?Y:D.neg(Y)},I.FpSqrtEven=function z(D,V){if(!D.isOdd)throw new Error("Field doesn't have isOdd");const Y=D.sqrt(V);return D.isOdd(Y)?D.neg(Y):Y},I.hashToPrivateScalar=function d(D,V,Y=!1){const F=(D=(0,O.ensureBytes)("privateHash",D)).length,h=me(V).nByteLength+8;if(h<24||F<h||F>1024)throw new Error(`hashToPrivateScalar: expected ${h}-1024 bytes of input, got ${F}`);return v(Y?(0,O.bytesToNumberLE)(D):(0,O.bytesToNumberBE)(D),V-U)+U},I.getFieldBytesLength=f,I.getMinHashLength=b,I.mapHashToField=function C(D,V,Y=!1){const F=D.length,h=f(V),g=b(V);if(F<16||F<g||F>1024)throw new Error(`expected ${g}-1024 bytes of input, got ${F}`);const ee=v(Y?(0,O.bytesToNumberBE)(D):(0,O.bytesToNumberLE)(D),V-U)+U;return Y?(0,O.numberToBytesLE)(ee,h):(0,O.numberToBytesBE)(ee,h)}},27661:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.montgomery=void 0;const O=A(63834),$=A(84097),U=BigInt(0),K=BigInt(1);I.montgomery=function T(w){const x=function y(w){return(0,$.validateObject)(w,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...w})}(w),{P:R}=x,k=de=>(0,O.mod)(de,R),v=x.montgomeryBits,N=Math.ceil(v/8),M=x.nByteLength,P=x.adjustScalarBytes||(de=>de),L=x.powPminus2||(de=>(0,O.pow)(de,R-BigInt(2),R));function G(de,z,d){const f=k(de*(z-d));return[z=k(z-f),d=k(d+f)]}function B(de){if("bigint"==typeof de&&U<=de&&de<R)return de;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const q=(x.a-BigInt(2))/BigInt(4);function Q(de){return(0,$.numberToBytesLE)(k(de),N)}function ae(de,z){const d=function te(de){const z=(0,$.ensureBytes)("u coordinate",de,N);return 32===M&&(z[31]&=127),(0,$.bytesToNumberLE)(z)}(z),f=function ie(de){const z=(0,$.ensureBytes)("scalar",de),d=z.length;if(d!==N&&d!==M)throw new Error(`Expected ${N} or ${M} bytes, got ${d}`);return(0,$.bytesToNumberLE)(P(z))}(de),b=function X(de,z){const d=B(de),f=B(z),b=d;let h,C=K,D=U,V=d,Y=K,F=U;for(let J=BigInt(v-1);J>=U;J--){const ee=f>>J&K;F^=ee,h=G(F,C,V),C=h[0],V=h[1],h=G(F,D,Y),D=h[0],Y=h[1],F=ee;const re=C+D,fe=k(re*re),Ae=C-D,Me=k(Ae*Ae),Le=fe-Me,Ee=V+Y,He=k((V-Y)*re),Te=k(Ee*Ae),u=He+Te,xe=He-Te;V=k(u*u),Y=k(b*k(xe*xe)),C=k(fe*Me),D=k(Le*(fe+k(q*Le)))}h=G(F,C,V),C=h[0],V=h[1],h=G(F,D,Y),D=h[0],Y=h[1];const g=L(D);return k(C*g)}(d,f);if(b===U)throw new Error("Invalid private or public key received");return Q(b)}const me=Q(x.Gu);function ge(de){return ae(de,me)}return{scalarMult:ae,scalarMultBase:ge,getSharedSecret:(de,z)=>ae(de,z),getPublicKey:de=>ge(de),utils:{randomPrivateKey:()=>x.randomBytes(x.nByteLength)},GuBytes:me}}},84097:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateObject=I.createHmacDrbg=I.bitMask=I.bitSet=I.bitGet=I.bitLen=I.utf8ToBytes=I.equalBytes=I.concatBytes=I.ensureBytes=I.numberToVarBytesBE=I.numberToBytesLE=I.numberToBytesBE=I.bytesToNumberLE=I.bytesToNumberBE=I.hexToBytes=I.hexToNumber=I.numberToHexUnpadded=I.bytesToHex=I.isBytes=void 0;const A=BigInt(0),O=BigInt(1),$=BigInt(2);function U(f){return f instanceof Uint8Array||null!=f&&"object"==typeof f&&"Uint8Array"===f.constructor.name}I.isBytes=U;const K=Array.from({length:256},(f,b)=>b.toString(16).padStart(2,"0"));function y(f){if(!U(f))throw new Error("Uint8Array expected");let b="";for(let C=0;C<f.length;C++)b+=K[f[C]];return b}function T(f){const b=f.toString(16);return 1&b.length?`0${b}`:b}function w(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);return BigInt(""===f?"0":`0x${f}`)}I.bytesToHex=y,I.numberToHexUnpadded=T,I.hexToNumber=w;const x={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(f){return f>=x._0&&f<=x._9?f-x._0:f>=x._A&&f<=x._F?f-(x._A-10):f>=x._a&&f<=x._f?f-(x._a-10):void 0}function k(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);const b=f.length,C=b/2;if(b%2)throw new Error("padded hex string expected, got unpadded hex of length "+b);const D=new Uint8Array(C);for(let V=0,Y=0;V<C;V++,Y+=2){const F=R(f.charCodeAt(Y)),h=R(f.charCodeAt(Y+1));if(void 0===F||void 0===h)throw new Error('hex string expected, got non-hex character "'+(f[Y]+f[Y+1])+'" at index '+Y);D[V]=16*F+h}return D}function M(f,b){return k(f.toString(16).padStart(2*b,"0"))}function B(...f){let b=0;for(let V=0;V<f.length;V++){const Y=f[V];if(!U(Y))throw new Error("Uint8Array expected");b+=Y.length}let C=new Uint8Array(b),D=0;for(let V=0;V<f.length;V++){const Y=f[V];C.set(Y,D),D+=Y.length}return C}I.hexToBytes=k,I.bytesToNumberBE=function v(f){return w(y(f))},I.bytesToNumberLE=function N(f){if(!U(f))throw new Error("Uint8Array expected");return w(y(Uint8Array.from(f).reverse()))},I.numberToBytesBE=M,I.numberToBytesLE=function P(f,b){return M(f,b).reverse()},I.numberToVarBytesBE=function L(f){return k(T(f))},I.ensureBytes=function G(f,b,C){let D;if("string"==typeof b)try{D=k(b)}catch(Y){throw new Error(`${f} must be valid hex string, got "${b}". Cause: ${Y}`)}else{if(!U(b))throw new Error(`${f} must be hex string or Uint8Array`);D=Uint8Array.from(b)}const V=D.length;if("number"==typeof C&&V!==C)throw new Error(`${f} expected ${C} bytes, got ${V}`);return D},I.concatBytes=B,I.equalBytes=function q(f,b){if(f.length!==b.length)return!1;let C=0;for(let D=0;D<f.length;D++)C|=f[D]^b[D];return 0===C},I.utf8ToBytes=function X(f){if("string"!=typeof f)throw new Error("utf8ToBytes expected string, got "+typeof f);return new Uint8Array((new TextEncoder).encode(f))},I.bitLen=function Q(f){let b;for(b=0;f>A;f>>=O,b+=1);return b},I.bitGet=function te(f,b){return f>>BigInt(b)&O},I.bitSet=(f,b,C)=>f|(C?O:A)<<BigInt(b),I.bitMask=f=>($<<BigInt(f-1))-O;const me=f=>new Uint8Array(f),ge=f=>Uint8Array.from(f);I.createHmacDrbg=function de(f,b,C){if("number"!=typeof f||f<2)throw new Error("hashLen must be a number");if("number"!=typeof b||b<2)throw new Error("qByteLen must be a number");if("function"!=typeof C)throw new Error("hmacFn must be a function");let D=me(f),V=me(f),Y=0;const F=()=>{D.fill(1),V.fill(0),Y=0},h=(...re)=>C(V,D,...re),g=(re=me())=>{V=h(ge([0]),re),D=h(),0!==re.length&&(V=h(ge([1]),re),D=h())},J=()=>{if(Y++>=1e3)throw new Error("drbg: tried 1000 values");let re=0;const fe=[];for(;re<b;){D=h();const Ae=D.slice();fe.push(Ae),re+=D.length}return B(...fe)};return(re,fe)=>{let Ae;for(F(),g(re);!(Ae=fe(J()));)g();return F(),Ae}};const z={bigint:f=>"bigint"==typeof f,function:f=>"function"==typeof f,boolean:f=>"boolean"==typeof f,string:f=>"string"==typeof f,stringOrUint8Array:f=>"string"==typeof f||U(f),isSafeInteger:f=>Number.isSafeInteger(f),array:f=>Array.isArray(f),field:(f,b)=>b.Fp.isValid(f),hash:f=>"function"==typeof f&&Number.isSafeInteger(f.outputLen)};I.validateObject=function d(f,b,C={}){const D=(V,Y,F)=>{const h=z[Y];if("function"!=typeof h)throw new Error(`Invalid validator "${Y}", expected function`);const g=f[V];if(!(F&&void 0===g||h(g,f)))throw new Error(`Invalid param ${String(V)}=${g} (${typeof g}), expected ${Y}`)};for(const[V,Y]of Object.entries(b))D(V,Y,!1);for(const[V,Y]of Object.entries(C))D(V,Y,!0);return f}},73040:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.mapToCurveSimpleSWU=I.SWUFpSqrtRatio=I.weierstrass=I.weierstrassPoints=I.DER=void 0;const O=A(63834),$=A(84097),U=A(84097),K=A(25299),{bytesToNumberBE:T,hexToBytes:w}=$;I.DER={Err:class extends Error{constructor(X=""){super(X)}},_parseInt(q){const{Err:X}=I.DER;if(q.length<2||2!==q[0])throw new X("Invalid signature integer tag");const Q=q[1],te=q.subarray(2,Q+2);if(!Q||te.length!==Q)throw new X("Invalid signature integer: wrong length");if(128&te[0])throw new X("Invalid signature integer: negative");if(0===te[0]&&!(128&te[1]))throw new X("Invalid signature integer: unnecessary leading zero");return{d:T(te),l:q.subarray(Q+2)}},toSig(q){const{Err:X}=I.DER,Q="string"==typeof q?w(q):q;if(!$.isBytes(Q))throw new Error("ui8a expected");let te=Q.length;if(te<2||48!=Q[0])throw new X("Invalid signature tag");if(Q[1]!==te-2)throw new X("Invalid signature: incorrect length");const{d:ie,l:ae}=I.DER._parseInt(Q.subarray(2)),{d:me,l:ge}=I.DER._parseInt(ae);if(ge.length)throw new X("Invalid signature: left bytes after parsing");return{r:ie,s:me}},hexFromSig(q){const X=z=>8&Number.parseInt(z[0],16)?"00"+z:z,Q=z=>{const d=z.toString(16);return 1&d.length?`0${d}`:d},te=X(Q(q.s)),ie=X(Q(q.r)),ae=te.length/2,me=ie.length/2,ge=Q(ae),de=Q(me);return`30${Q(me+ae+4)}02${de}${ie}02${ge}${te}`}};const x=BigInt(0),R=BigInt(1),k=BigInt(2),v=BigInt(3),N=BigInt(4);function M(q){const X=function y(q){const X=(0,K.validateBasic)(q);$.validateObject(X,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:Q,Fp:te,a:ie}=X;if(Q){if(!te.eql(ie,te.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof Q||"bigint"!=typeof Q.beta||"function"!=typeof Q.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...X})}(q),{Fp:Q}=X,te=X.toBytes||((D,V,Y)=>{const F=V.toAffine();return $.concatBytes(Uint8Array.from([4]),Q.toBytes(F.x),Q.toBytes(F.y))}),ie=X.fromBytes||(D=>{const V=D.subarray(1);return{x:Q.fromBytes(V.subarray(0,Q.BYTES)),y:Q.fromBytes(V.subarray(Q.BYTES,2*Q.BYTES))}});function ae(D){const{a:V,b:Y}=X,F=Q.sqr(D),h=Q.mul(F,D);return Q.add(Q.add(h,Q.mul(D,V)),Y)}if(!Q.eql(Q.sqr(X.Gy),ae(X.Gx)))throw new Error("bad generator point: equation left != right");function me(D){return"bigint"==typeof D&&x<D&&D<X.n}function ge(D){if(!me(D))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function de(D){const{allowedPrivateKeyLengths:V,nByteLength:Y,wrapPrivateKey:F,n:h}=X;if(V&&"bigint"!=typeof D){if($.isBytes(D)&&(D=$.bytesToHex(D)),"string"!=typeof D||!V.includes(D.length))throw new Error("Invalid key");D=D.padStart(2*Y,"0")}let g;try{g="bigint"==typeof D?D:$.bytesToNumberBE((0,U.ensureBytes)("private key",D,Y))}catch{throw new Error(`private key must be ${Y} bytes, hex or bigint, not ${typeof D}`)}return F&&(g=O.mod(g,h)),ge(g),g}const z=new Map;function d(D){if(!(D instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(V,Y,F){if(this.px=V,this.py=Y,this.pz=F,null==V||!Q.isValid(V))throw new Error("x required");if(null==Y||!Q.isValid(Y))throw new Error("y required");if(null==F||!Q.isValid(F))throw new Error("z required")}static fromAffine(V){const{x:Y,y:F}=V||{};if(!V||!Q.isValid(Y)||!Q.isValid(F))throw new Error("invalid affine point");if(V instanceof f)throw new Error("projective point not allowed");const h=g=>Q.eql(g,Q.ZERO);return h(Y)&&h(F)?f.ZERO:new f(Y,F,Q.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(V){const Y=Q.invertBatch(V.map(F=>F.pz));return V.map((F,h)=>F.toAffine(Y[h])).map(f.fromAffine)}static fromHex(V){const Y=f.fromAffine(ie((0,U.ensureBytes)("pointHex",V)));return Y.assertValidity(),Y}static fromPrivateKey(V){return f.BASE.multiply(de(V))}_setWindowSize(V){this._WINDOW_SIZE=V,z.delete(this)}assertValidity(){if(this.is0()){if(X.allowInfinityPoint&&!Q.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:V,y:Y}=this.toAffine();if(!Q.isValid(V)||!Q.isValid(Y))throw new Error("bad point: x or y not FE");const F=Q.sqr(Y),h=ae(V);if(!Q.eql(F,h))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:V}=this.toAffine();if(Q.isOdd)return!Q.isOdd(V);throw new Error("Field doesn't support isOdd")}equals(V){d(V);const{px:Y,py:F,pz:h}=this,{px:g,py:J,pz:ee}=V,re=Q.eql(Q.mul(Y,ee),Q.mul(g,h)),fe=Q.eql(Q.mul(F,ee),Q.mul(J,h));return re&&fe}negate(){return new f(this.px,Q.neg(this.py),this.pz)}double(){const{a:V,b:Y}=X,F=Q.mul(Y,v),{px:h,py:g,pz:J}=this;let ee=Q.ZERO,re=Q.ZERO,fe=Q.ZERO,Ae=Q.mul(h,h),Me=Q.mul(g,g),Le=Q.mul(J,J),Ee=Q.mul(h,g);return Ee=Q.add(Ee,Ee),fe=Q.mul(h,J),fe=Q.add(fe,fe),ee=Q.mul(V,fe),re=Q.mul(F,Le),re=Q.add(ee,re),ee=Q.sub(Me,re),re=Q.add(Me,re),re=Q.mul(ee,re),ee=Q.mul(Ee,ee),fe=Q.mul(F,fe),Le=Q.mul(V,Le),Ee=Q.sub(Ae,Le),Ee=Q.mul(V,Ee),Ee=Q.add(Ee,fe),fe=Q.add(Ae,Ae),Ae=Q.add(fe,Ae),Ae=Q.add(Ae,Le),Ae=Q.mul(Ae,Ee),re=Q.add(re,Ae),Le=Q.mul(g,J),Le=Q.add(Le,Le),Ae=Q.mul(Le,Ee),ee=Q.sub(ee,Ae),fe=Q.mul(Le,Me),fe=Q.add(fe,fe),fe=Q.add(fe,fe),new f(ee,re,fe)}add(V){d(V);const{px:Y,py:F,pz:h}=this,{px:g,py:J,pz:ee}=V;let re=Q.ZERO,fe=Q.ZERO,Ae=Q.ZERO;const Me=X.a,Le=Q.mul(X.b,v);let Ee=Q.mul(Y,g),Se=Q.mul(F,J),He=Q.mul(h,ee),Te=Q.add(Y,F),u=Q.add(g,J);Te=Q.mul(Te,u),u=Q.add(Ee,Se),Te=Q.sub(Te,u),u=Q.add(Y,h);let xe=Q.add(g,ee);return u=Q.mul(u,xe),xe=Q.add(Ee,He),u=Q.sub(u,xe),xe=Q.add(F,h),re=Q.add(J,ee),xe=Q.mul(xe,re),re=Q.add(Se,He),xe=Q.sub(xe,re),Ae=Q.mul(Me,u),re=Q.mul(Le,He),Ae=Q.add(re,Ae),re=Q.sub(Se,Ae),Ae=Q.add(Se,Ae),fe=Q.mul(re,Ae),Se=Q.add(Ee,Ee),Se=Q.add(Se,Ee),He=Q.mul(Me,He),u=Q.mul(Le,u),Se=Q.add(Se,He),He=Q.sub(Ee,He),He=Q.mul(Me,He),u=Q.add(u,He),Ee=Q.mul(Se,u),fe=Q.add(fe,Ee),Ee=Q.mul(xe,u),re=Q.mul(Te,re),re=Q.sub(re,Ee),Ee=Q.mul(Te,Se),Ae=Q.mul(xe,Ae),Ae=Q.add(Ae,Ee),new f(re,fe,Ae)}subtract(V){return this.add(V.negate())}is0(){return this.equals(f.ZERO)}wNAF(V){return C.wNAFCached(this,z,V,Y=>{const F=Q.invertBatch(Y.map(h=>h.pz));return Y.map((h,g)=>h.toAffine(F[g])).map(f.fromAffine)})}multiplyUnsafe(V){const Y=f.ZERO;if(V===x)return Y;if(ge(V),V===R)return this;const{endo:F}=X;if(!F)return C.unsafeLadder(this,V);let{k1neg:h,k1:g,k2neg:J,k2:ee}=F.splitScalar(V),re=Y,fe=Y,Ae=this;for(;g>x||ee>x;)g&R&&(re=re.add(Ae)),ee&R&&(fe=fe.add(Ae)),Ae=Ae.double(),g>>=R,ee>>=R;return h&&(re=re.negate()),J&&(fe=fe.negate()),fe=new f(Q.mul(fe.px,F.beta),fe.py,fe.pz),re.add(fe)}multiply(V){ge(V);let F,h,Y=V;const{endo:g}=X;if(g){const{k1neg:J,k1:ee,k2neg:re,k2:fe}=g.splitScalar(Y);let{p:Ae,f:Me}=this.wNAF(ee),{p:Le,f:Ee}=this.wNAF(fe);Ae=C.constTimeNegate(J,Ae),Le=C.constTimeNegate(re,Le),Le=new f(Q.mul(Le.px,g.beta),Le.py,Le.pz),F=Ae.add(Le),h=Me.add(Ee)}else{const{p:J,f:ee}=this.wNAF(Y);F=J,h=ee}return f.normalizeZ([F,h])[0]}multiplyAndAddUnsafe(V,Y,F){const h=f.BASE,g=(ee,re)=>re!==x&&re!==R&&ee.equals(h)?ee.multiply(re):ee.multiplyUnsafe(re),J=g(this,Y).add(g(V,F));return J.is0()?void 0:J}toAffine(V){const{px:Y,py:F,pz:h}=this,g=this.is0();null==V&&(V=g?Q.ONE:Q.inv(h));const J=Q.mul(Y,V),ee=Q.mul(F,V),re=Q.mul(h,V);if(g)return{x:Q.ZERO,y:Q.ZERO};if(!Q.eql(re,Q.ONE))throw new Error("invZ was invalid");return{x:J,y:ee}}isTorsionFree(){const{h:V,isTorsionFree:Y}=X;if(V===R)return!0;if(Y)return Y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:V,clearCofactor:Y}=X;return V===R?this:Y?Y(f,this):this.multiplyUnsafe(X.h)}toRawBytes(V=!0){return this.assertValidity(),te(f,this,V)}toHex(V=!0){return $.bytesToHex(this.toRawBytes(V))}}f.BASE=new f(X.Gx,X.Gy,Q.ONE),f.ZERO=new f(Q.ZERO,Q.ONE,Q.ZERO);const b=X.nBitLength,C=(0,K.wNAF)(f,X.endo?Math.ceil(b/2):b);return{CURVE:X,ProjectivePoint:f,normPrivateKeyToScalar:de,weierstrassEquation:ae,isWithinCurveOrder:me}}function G(q,X){const Q=q.ORDER;let te=x;for(let D=Q-R;D%k===x;D/=k)te+=R;const ie=te,ae=k<<ie-R-R,me=ae*k,ge=(Q-R)/me,de=(ge-R)/k,z=me-R,d=ae,f=q.pow(X,ge),b=q.pow(X,(ge+R)/k);let C=(D,V)=>{let Y=f,F=q.pow(V,z),h=q.sqr(F);h=q.mul(h,V);let g=q.mul(D,h);g=q.pow(g,de),g=q.mul(g,F),F=q.mul(g,V),h=q.mul(g,D);let J=q.mul(h,F);g=q.pow(J,d);let ee=q.eql(g,q.ONE);F=q.mul(h,b),g=q.mul(J,Y),h=q.cmov(F,h,ee),J=q.cmov(g,J,ee);for(let re=ie;re>R;re--){let fe=re-k;fe=k<<fe-R;let Ae=q.pow(J,fe);const Me=q.eql(Ae,q.ONE);F=q.mul(h,Y),Y=q.mul(Y,Y),Ae=q.mul(J,Y),h=q.cmov(F,h,Me),J=q.cmov(Ae,J,Me)}return{isValid:ee,value:h}};if(q.ORDER%N===v){const D=(q.ORDER-v)/N,V=q.sqrt(q.neg(X));C=(Y,F)=>{let h=q.sqr(F);const g=q.mul(Y,F);h=q.mul(h,g);let J=q.pow(h,D);J=q.mul(J,g);const ee=q.mul(J,V),re=q.mul(q.sqr(J),F),fe=q.eql(re,Y);return{isValid:fe,value:q.cmov(ee,J,fe)}}}return C}I.weierstrassPoints=M,I.weierstrass=function L(q){const X=function P(q){const X=(0,K.validateBasic)(q);return $.validateObject(X,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...X})}(q),{Fp:Q,n:te}=X,ie=Q.BYTES+1,ae=2*Q.BYTES+1;function ge(u){return O.mod(u,te)}function de(u){return O.invert(u,te)}const{ProjectivePoint:z,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:b}=M({...X,toBytes(u,xe,be){const _e=xe.toAffine(),Ce=Q.toBytes(_e.x),ke=$.concatBytes;return be?ke(Uint8Array.from([xe.hasEvenY()?2:3]),Ce):ke(Uint8Array.from([4]),Ce,Q.toBytes(_e.y))},fromBytes(u){const xe=u.length,be=u[0],_e=u.subarray(1);if(xe!==ie||2!==be&&3!==be){if(xe===ae&&4===be)return{x:Q.fromBytes(_e.subarray(0,Q.BYTES)),y:Q.fromBytes(_e.subarray(Q.BYTES,2*Q.BYTES))};throw new Error(`Point of length ${xe} was invalid. Expected ${ie} compressed bytes or ${ae} uncompressed bytes`)}{const Ce=$.bytesToNumberBE(_e);if(!function me(u){return x<u&&u<Q.ORDER}(Ce))throw new Error("Point is not on curve");const ke=f(Ce);let ze=Q.sqrt(ke);return!(1&~be)!=((ze&R)===R)&&(ze=Q.neg(ze)),{x:Ce,y:ze}}}}),C=u=>$.bytesToHex($.numberToBytesBE(u,X.nByteLength));function D(u){return u>te>>R}const Y=(u,xe,be)=>$.bytesToNumberBE(u.slice(xe,be));class F{constructor(xe,be,_e){this.r=xe,this.s=be,this.recovery=_e,this.assertValidity()}static fromCompact(xe){const be=X.nByteLength;return xe=(0,U.ensureBytes)("compactSignature",xe,2*be),new F(Y(xe,0,be),Y(xe,be,2*be))}static fromDER(xe){const{r:be,s:_e}=I.DER.toSig((0,U.ensureBytes)("DER",xe));return new F(be,_e)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(xe){return new F(this.r,this.s,xe)}recoverPublicKey(xe){const{r:be,s:_e,recovery:Ce}=this,ke=fe((0,U.ensureBytes)("msgHash",xe));if(null==Ce||![0,1,2,3].includes(Ce))throw new Error("recovery id invalid");const ze=2===Ce||3===Ce?be+X.n:be;if(ze>=Q.ORDER)throw new Error("recovery id 2 or 3 invalid");const We=z.fromHex((1&Ce?"03":"02")+C(ze)),Ye=de(ze),wt=ge(-ke*Ye),mt=ge(_e*Ye),rt=z.BASE.multiplyAndAddUnsafe(We,wt,mt);if(!rt)throw new Error("point at infinify");return rt.assertValidity(),rt}hasHighS(){return D(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,ge(-this.s),this.recovery):this}toDERRawBytes(){return $.hexToBytes(this.toDERHex())}toDERHex(){return I.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $.hexToBytes(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}const h={isValidPrivateKey(u){try{return d(u),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const u=O.getMinHashLength(X.n);return O.mapHashToField(X.randomBytes(u),X.n)},precompute:(u=8,xe=z.BASE)=>(xe._setWindowSize(u),xe.multiply(BigInt(3)),xe)};function J(u){const xe=$.isBytes(u),be="string"==typeof u,_e=(xe||be)&&u.length;return xe?_e===ie||_e===ae:be?_e===2*ie||_e===2*ae:u instanceof z}const re=X.bits2int||function(u){const xe=$.bytesToNumberBE(u),be=8*u.length-X.nBitLength;return be>0?xe>>BigInt(be):xe},fe=X.bits2int_modN||function(u){return ge(re(u))},Ae=$.bitMask(X.nBitLength);function Me(u){if("bigint"!=typeof u)throw new Error("bigint expected");if(!(x<=u&&u<Ae))throw new Error(`bigint expected < 2^${X.nBitLength}`);return $.numberToBytesBE(u,X.nByteLength)}const Ee={lowS:X.lowS,prehash:!1},Se={lowS:X.lowS,prehash:!1};return z.BASE._setWindowSize(8),{CURVE:X,getPublicKey:function g(u,xe=!0){return z.fromPrivateKey(u).toRawBytes(xe)},getSharedSecret:function ee(u,xe,be=!0){if(J(u))throw new Error("first arg must be private key");if(!J(xe))throw new Error("second arg must be public key");return z.fromHex(xe).multiply(d(u)).toRawBytes(be)},sign:function He(u,xe,be=Ee){const{seed:_e,k2sig:Ce}=function Le(u,xe,be=Ee){if(["recovered","canonical"].some(se=>se in be))throw new Error("sign() legacy options not supported");const{hash:_e,randomBytes:Ce}=X;let{lowS:ke,prehash:ze,extraEntropy:Ne}=be;null==ke&&(ke=!0),u=(0,U.ensureBytes)("msgHash",u),ze&&(u=(0,U.ensureBytes)("prehashed msgHash",_e(u)));const We=fe(u),Ye=d(xe),wt=[Me(Ye),Me(We)];if(null!=Ne){const se=!0===Ne?Ce(Q.BYTES):Ne;wt.push((0,U.ensureBytes)("extraEntropy",se))}const mt=$.concatBytes(...wt),rt=We;return{seed:mt,k2sig:function Ut(se){const W=re(se);if(!b(W))return;const Z=de(W),he=z.BASE.multiply(W).toAffine(),De=ge(he.x);if(De===x)return;const Xe=ge(Z*ge(rt+De*Ye));if(Xe===x)return;let Ze=(he.x===De?0:2)|Number(he.y&R),at=Xe;return ke&&D(Xe)&&(at=function V(u){return D(u)?ge(-u):u}(Xe),Ze^=1),new F(De,at,Ze)}}}(u,xe,be);return $.createHmacDrbg(X.hash.outputLen,X.nByteLength,X.hmac)(_e,Ce)},verify:function Te(u,xe,be,_e=Se){const Ce=u;if(xe=(0,U.ensureBytes)("msgHash",xe),be=(0,U.ensureBytes)("publicKey",be),"strict"in _e)throw new Error("options.strict was renamed to lowS");const{lowS:ke,prehash:ze}=_e;let Ne,We;try{if("string"==typeof Ce||$.isBytes(Ce))try{Ne=F.fromDER(Ce)}catch(he){if(!(he instanceof I.DER.Err))throw he;Ne=F.fromCompact(Ce)}else{if("object"!=typeof Ce||"bigint"!=typeof Ce.r||"bigint"!=typeof Ce.s)throw new Error("PARSE");{const{r:he,s:De}=Ce;Ne=new F(he,De)}}We=z.fromHex(be)}catch(he){if("PARSE"===he.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ke&&Ne.hasHighS())return!1;ze&&(xe=X.hash(xe));const{r:Ye,s:wt}=Ne,mt=fe(xe),rt=de(wt),Ut=ge(mt*rt),se=ge(Ye*rt),W=z.BASE.multiplyAndAddUnsafe(We,Ut,se)?.toAffine();return!!W&&ge(W.x)===Ye},ProjectivePoint:z,Signature:F,utils:h}},I.SWUFpSqrtRatio=G,I.mapToCurveSimpleSWU=function B(q,X){if(O.validateField(q),!q.isValid(X.A)||!q.isValid(X.B)||!q.isValid(X.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const Q=G(q,X.Z);if(!q.isOdd)throw new Error("Fp.isOdd is not implemented!");return te=>{let ie,ae,me,ge,de,z,d,f;ie=q.sqr(te),ie=q.mul(ie,X.Z),ae=q.sqr(ie),ae=q.add(ae,ie),me=q.add(ae,q.ONE),me=q.mul(me,X.B),ge=q.cmov(X.Z,q.neg(ae),!q.eql(ae,q.ZERO)),ge=q.mul(ge,X.A),ae=q.sqr(me),z=q.sqr(ge),de=q.mul(z,X.A),ae=q.add(ae,de),ae=q.mul(ae,me),z=q.mul(z,ge),de=q.mul(z,X.B),ae=q.add(ae,de),d=q.mul(ie,me);const{isValid:b,value:C}=Q(ae,z);f=q.mul(ie,te),f=q.mul(f,C),d=q.cmov(d,me,b),f=q.cmov(f,C,b);const D=q.isOdd(te)===q.isOdd(f);return f=q.cmov(q.neg(f),f,D),d=q.div(d,ge),{x:d,y:f}}}},57340:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hash_to_ristretto255=I.hashToRistretto255=I.RistrettoPoint=I.encodeToCurve=I.hashToCurve=I.edwardsToMontgomeryPriv=I.edwardsToMontgomery=I.edwardsToMontgomeryPub=I.x25519=I.ed25519ph=I.ed25519ctx=I.ed25519=I.ED25519_TORSION_SUBGROUP=void 0;const O=A(99698),$=A(34939),U=A(45068),K=A(27661),y=A(63834),T=A(84097),w=A(75752),x=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),R=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),k=BigInt(0),v=BigInt(1),N=BigInt(2),M=BigInt(5),P=BigInt(10),L=BigInt(20),G=BigInt(40),B=BigInt(80);function q(He){const Te=x,xe=He*He%Te*He%Te,be=(0,y.pow2)(xe,N,Te)*xe%Te,_e=(0,y.pow2)(be,v,Te)*He%Te,Ce=(0,y.pow2)(_e,M,Te)*_e%Te,ke=(0,y.pow2)(Ce,P,Te)*Ce%Te,ze=(0,y.pow2)(ke,L,Te)*ke%Te,Ne=(0,y.pow2)(ze,G,Te)*ze%Te,We=(0,y.pow2)(Ne,B,Te)*Ne%Te,Ye=(0,y.pow2)(We,B,Te)*Ne%Te,wt=(0,y.pow2)(Ye,P,Te)*Ce%Te;return{pow_p_5_8:(0,y.pow2)(wt,N,Te)*He%Te,b2:xe}}function X(He){return He[0]&=248,He[31]&=127,He[31]|=64,He}function Q(He,Te){const u=x,xe=(0,y.mod)(Te*Te*Te,u),_e=q(He*(0,y.mod)(xe*xe*Te,u)).pow_p_5_8;let Ce=(0,y.mod)(He*xe*_e,u);const ke=(0,y.mod)(Te*Ce*Ce,u),ze=Ce,Ne=(0,y.mod)(Ce*R,u),We=ke===He,Ye=ke===(0,y.mod)(-He,u),wt=ke===(0,y.mod)(-He*R,u);return We&&(Ce=ze),(Ye||wt)&&(Ce=Ne),(0,y.isNegativeLE)(Ce,u)&&(Ce=(0,y.mod)(-Ce,u)),{isValid:We||Ye,value:Ce}}I.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const te=(0,y.Field)(x,void 0,!0),ie={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:te,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:O.sha512,randomBytes:$.randomBytes,adjustScalarBytes:X,uvRatio:Q};function ae(He,Te,u){if(Te.length>255)throw new Error("Context is too big");return(0,$.concatBytes)((0,$.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([u?1:0,Te.length]),Te,He)}function me(He){const{y:Te}=I.ed25519.ExtendedPoint.fromHex(He),u=BigInt(1);return te.toBytes(te.create((u+Te)*te.inv(u-Te)))}I.ed25519=(0,U.twistedEdwards)(ie),I.ed25519ctx=(0,U.twistedEdwards)({...ie,domain:ae}),I.ed25519ph=(0,U.twistedEdwards)({...ie,domain:ae,prehash:O.sha512}),I.x25519=(0,K.montgomery)({P:x,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:He=>{const Te=x,{pow_p_5_8:u,b2:xe}=q(He);return(0,y.mod)((0,y.pow2)(u,BigInt(3),Te)*xe,Te)},adjustScalarBytes:X,randomBytes:$.randomBytes}),I.edwardsToMontgomeryPub=me,I.edwardsToMontgomery=me,I.edwardsToMontgomeryPriv=function ge(He){const Te=ie.hash(He.subarray(0,32));return ie.adjustScalarBytes(Te).subarray(0,32)};const de=(te.ORDER+BigInt(3))/BigInt(8),z=te.pow(N,de),d=te.sqrt(te.neg(te.ONE)),f=(te.ORDER-BigInt(5))/BigInt(8),b=BigInt(486662),D=(0,y.FpSqrtEven)(te,te.neg(BigInt(486664)));const Y=(0,w.createHasher)(I.ed25519.ExtendedPoint,He=>function V(He){const{xMn:Te,xMd:u,yMn:xe,yMd:be}=function C(He){let Te=te.sqr(He);Te=te.mul(Te,N);let u=te.add(Te,te.ONE),xe=te.neg(b),be=te.sqr(u),_e=te.mul(be,u),Ce=te.mul(Te,b);Ce=te.mul(Ce,xe),Ce=te.add(Ce,be),Ce=te.mul(Ce,xe);let ke=te.sqr(_e);be=te.sqr(ke),ke=te.mul(ke,_e),ke=te.mul(ke,Ce),be=te.mul(be,ke);let ze=te.pow(be,f);ze=te.mul(ze,ke);let Ne=te.mul(ze,d);be=te.sqr(ze),be=te.mul(be,_e);let We=te.eql(be,Ce),Ye=te.cmov(Ne,ze,We),wt=te.mul(xe,Te),mt=te.mul(ze,He);mt=te.mul(mt,z);let rt=te.mul(mt,d),Ut=te.mul(Ce,Te);be=te.sqr(mt),be=te.mul(be,_e);let se=te.eql(be,Ut),W=te.cmov(rt,mt,se);be=te.sqr(Ye),be=te.mul(be,_e);let Z=te.eql(be,Ce),he=te.cmov(wt,xe,Z),De=te.cmov(W,Ye,Z),Xe=te.isOdd(De);return De=te.cmov(De,te.neg(De),Z!==Xe),{xMn:he,xMd:u,yMn:De,yMd:v}}(He);let _e=te.mul(Te,be);_e=te.mul(_e,D);let Ce=te.mul(u,xe),ke=te.sub(Te,u),ze=te.add(Te,u),Ne=te.mul(Ce,ze),We=te.eql(Ne,te.ZERO);_e=te.cmov(_e,te.ZERO,We),Ce=te.cmov(Ce,te.ONE,We),ke=te.cmov(ke,te.ONE,We),ze=te.cmov(ze,te.ONE,We);const Ye=te.invertBatch([Ce,ze]);return{x:te.mul(_e,Ye[0]),y:te.mul(ke,Ye[1])}}(He[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:te.ORDER,m:1,k:128,expand:"xmd",hash:O.sha512});function F(He){if(!(He instanceof Ee))throw new Error("RistrettoPoint expected")}I.hashToCurve=Y.hashToCurve,I.encodeToCurve=Y.encodeToCurve;const h=R,g=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),J=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ee=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),re=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),fe=He=>Q(v,He),Ae=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Me=He=>I.ed25519.CURVE.Fp.create((0,T.bytesToNumberLE)(He)&Ae);function Le(He){const{d:Te}=I.ed25519.CURVE,u=I.ed25519.CURVE.Fp.ORDER,xe=I.ed25519.CURVE.Fp.create,be=xe(h*He*He),_e=xe((be+v)*ee);let Ce=BigInt(-1);const ke=xe((Ce-Te*be)*xe(be+Te));let{isValid:ze,value:Ne}=Q(_e,ke),We=xe(Ne*He);(0,y.isNegativeLE)(We,u)||(We=xe(-We)),ze||(Ne=We),ze||(Ce=be);const Ye=xe(Ce*(be-v)*re-ke),wt=Ne*Ne,mt=xe((Ne+Ne)*ke),rt=xe(Ye*g),Ut=xe(v-wt),se=xe(v+wt);return new I.ed25519.ExtendedPoint(xe(mt*se),xe(Ut*rt),xe(rt*se),xe(mt*Ut))}class Ee{constructor(Te){this.ep=Te}static fromAffine(Te){return new Ee(I.ed25519.ExtendedPoint.fromAffine(Te))}static hashToCurve(Te){Te=(0,T.ensureBytes)("ristrettoHash",Te,64);const xe=Le(Me(Te.slice(0,32))),_e=Le(Me(Te.slice(32,64)));return new Ee(xe.add(_e))}static fromHex(Te){Te=(0,T.ensureBytes)("ristrettoHex",Te,32);const{a:u,d:xe}=I.ed25519.CURVE,be=I.ed25519.CURVE.Fp.ORDER,_e=I.ed25519.CURVE.Fp.create,Ce="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ke=Me(Te);if(!(0,T.equalBytes)((0,T.numberToBytesLE)(ke,32),Te)||(0,y.isNegativeLE)(ke,be))throw new Error(Ce);const ze=_e(ke*ke),Ne=_e(v+u*ze),We=_e(v-u*ze),Ye=_e(Ne*Ne),wt=_e(We*We),mt=_e(u*xe*Ye-wt),{isValid:rt,value:Ut}=fe(_e(mt*wt)),se=_e(Ut*We),W=_e(Ut*se*mt);let Z=_e((ke+ke)*se);(0,y.isNegativeLE)(Z,be)&&(Z=_e(-Z));const he=_e(Ne*W),De=_e(Z*he);if(!rt||(0,y.isNegativeLE)(De,be)||he===k)throw new Error(Ce);return new Ee(new I.ed25519.ExtendedPoint(Z,he,v,De))}toRawBytes(){let{ex:Te,ey:u,ez:xe,et:be}=this.ep;const _e=I.ed25519.CURVE.Fp.ORDER,Ce=I.ed25519.CURVE.Fp.create,ke=Ce(Ce(xe+u)*Ce(xe-u)),ze=Ce(Te*u),Ne=Ce(ze*ze),{value:We}=fe(Ce(ke*Ne)),Ye=Ce(We*ke),wt=Ce(We*ze),mt=Ce(Ye*wt*be);let rt;if((0,y.isNegativeLE)(be*mt,_e)){let se=Ce(u*h),W=Ce(Te*h);Te=se,u=W,rt=Ce(Ye*J)}else rt=wt;(0,y.isNegativeLE)(Te*mt,_e)&&(u=Ce(-u));let Ut=Ce((xe-u)*rt);return(0,y.isNegativeLE)(Ut,_e)&&(Ut=Ce(-Ut)),(0,T.numberToBytesLE)(Ut,32)}toHex(){return(0,T.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Te){F(Te);const{ex:u,ey:xe}=this.ep,{ex:be,ey:_e}=Te.ep,Ce=I.ed25519.CURVE.Fp.create,ke=Ce(u*_e)===Ce(xe*be),ze=Ce(xe*_e)===Ce(u*be);return ke||ze}add(Te){return F(Te),new Ee(this.ep.add(Te.ep))}subtract(Te){return F(Te),new Ee(this.ep.subtract(Te.ep))}multiply(Te){return new Ee(this.ep.multiply(Te))}multiplyUnsafe(Te){return new Ee(this.ep.multiplyUnsafe(Te))}double(){return new Ee(this.ep.double())}negate(){return new Ee(this.ep.negate())}}I.RistrettoPoint=(Ee.BASE||(Ee.BASE=new Ee(I.ed25519.ExtendedPoint.BASE)),Ee.ZERO||(Ee.ZERO=new Ee(I.ed25519.ExtendedPoint.ZERO)),Ee),I.hashToRistretto255=(He,Te)=>{const u=Te.DST,xe="string"==typeof u?(0,$.utf8ToBytes)(u):u,be=(0,w.expand_message_xmd)(He,xe,64,O.sha512);return Ee.hashToCurve(be)},I.hash_to_ristretto255=I.hashToRistretto255},94345:(ye,I)=>{"use strict";function A(x){if(!Number.isSafeInteger(x)||x<0)throw new Error(`Wrong positive integer: ${x}`)}function O(x){if("boolean"!=typeof x)throw new Error(`Expected boolean, not ${x}`)}function U(x,...R){if(!function $(x){return x instanceof Uint8Array||null!=x&&"object"==typeof x&&"Uint8Array"===x.constructor.name}(x))throw new Error("Expected Uint8Array");if(R.length>0&&!R.includes(x.length))throw new Error(`Expected Uint8Array of length ${R}, not of length=${x.length}`)}function K(x){if("function"!=typeof x||"function"!=typeof x.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");A(x.outputLen),A(x.blockLen)}function y(x,R=!0){if(x.destroyed)throw new Error("Hash instance has been destroyed");if(R&&x.finished)throw new Error("Hash#digest() has already been called")}function T(x,R){U(x);const k=R.outputLen;if(x.length<k)throw new Error(`digestInto() expects output buffer of length at least ${k}`)}Object.defineProperty(I,"__esModule",{value:!0}),I.output=I.exists=I.hash=I.bytes=I.bool=I.number=void 0,I.number=A,I.bool=O,I.bytes=U,I.hash=K,I.exists=y,I.output=T,I.default={number:A,bool:O,bytes:U,hash:K,exists:y,output:T}},27527:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SHA2=void 0;const O=A(94345),$=A(34939);I.SHA2=class K extends $.Hash{constructor(T,w,x,R){super(),this.blockLen=T,this.outputLen=w,this.padOffset=x,this.isLE=R,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(T),this.view=(0,$.createView)(this.buffer)}update(T){(0,O.exists)(this);const{view:w,buffer:x,blockLen:R}=this,k=(T=(0,$.toBytes)(T)).length;for(let v=0;v<k;){const N=Math.min(R-this.pos,k-v);if(N!==R)x.set(T.subarray(v,v+N),this.pos),this.pos+=N,v+=N,this.pos===R&&(this.process(w,0),this.pos=0);else{const M=(0,$.createView)(T);for(;R<=k-v;v+=R)this.process(M,v)}}return this.length+=T.length,this.roundClean(),this}digestInto(T){(0,O.exists)(this),(0,O.output)(T,this),this.finished=!0;const{buffer:w,view:x,blockLen:R,isLE:k}=this;let{pos:v}=this;w[v++]=128,this.buffer.subarray(v).fill(0),this.padOffset>R-v&&(this.process(x,0),v=0);for(let G=v;G<R;G++)w[G]=0;(function U(y,T,w,x){if("function"==typeof y.setBigUint64)return y.setBigUint64(T,w,x);const R=BigInt(32),k=BigInt(4294967295),v=Number(w>>R&k),N=Number(w&k),P=x?0:4;y.setUint32(T+(x?4:0),v,x),y.setUint32(T+P,N,x)})(x,R-8,BigInt(8*this.length),k),this.process(x,0);const N=(0,$.createView)(T),M=this.outputLen;if(M%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const P=M/4,L=this.get();if(P>L.length)throw new Error("_sha2: outputLen bigger than state");for(let G=0;G<P;G++)N.setUint32(4*G,L[G],k)}digest(){const{buffer:T,outputLen:w}=this;this.digestInto(T);const x=T.slice(0,w);return this.destroy(),x}_cloneInto(T){T||(T=new this.constructor),T.set(...this.get());const{blockLen:w,buffer:x,length:R,finished:k,destroyed:v,pos:N}=this;return T.length=R,T.pos=N,T.finished=k,T.destroyed=v,R%w&&T.buffer.set(x),T}}},27858:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.add5L=I.add5H=I.add4H=I.add4L=I.add3H=I.add3L=I.add=I.rotlBL=I.rotlBH=I.rotlSL=I.rotlSH=I.rotr32L=I.rotr32H=I.rotrBL=I.rotrBH=I.rotrSL=I.rotrSH=I.shrSL=I.shrSH=I.toBig=I.split=I.fromBig=void 0;const A=BigInt(2**32-1),O=BigInt(32);function $(ge,de=!1){return de?{h:Number(ge&A),l:Number(ge>>O&A)}:{h:0|Number(ge>>O&A),l:0|Number(ge&A)}}function U(ge,de=!1){let z=new Uint32Array(ge.length),d=new Uint32Array(ge.length);for(let f=0;f<ge.length;f++){const{h:b,l:C}=$(ge[f],de);[z[f],d[f]]=[b,C]}return[z,d]}I.fromBig=$,I.split=U;const K=(ge,de)=>BigInt(ge>>>0)<<O|BigInt(de>>>0);I.toBig=K;const y=(ge,de,z)=>ge>>>z;I.shrSH=y;const T=(ge,de,z)=>ge<<32-z|de>>>z;I.shrSL=T;const w=(ge,de,z)=>ge>>>z|de<<32-z;I.rotrSH=w;const x=(ge,de,z)=>ge<<32-z|de>>>z;I.rotrSL=x;const R=(ge,de,z)=>ge<<64-z|de>>>z-32;I.rotrBH=R;const k=(ge,de,z)=>ge>>>z-32|de<<64-z;I.rotrBL=k;const v=(ge,de)=>de;I.rotr32H=v;const N=(ge,de)=>ge;I.rotr32L=N;const M=(ge,de,z)=>ge<<z|de>>>32-z;I.rotlSH=M;const P=(ge,de,z)=>de<<z|ge>>>32-z;I.rotlSL=P;const L=(ge,de,z)=>de<<z-32|ge>>>64-z;I.rotlBH=L;const G=(ge,de,z)=>ge<<z-32|de>>>64-z;function B(ge,de,z,d){const f=(de>>>0)+(d>>>0);return{h:ge+z+(f/2**32|0)|0,l:0|f}}I.rotlBL=G,I.add=B;const q=(ge,de,z)=>(ge>>>0)+(de>>>0)+(z>>>0);I.add3L=q;const X=(ge,de,z,d)=>de+z+d+(ge/2**32|0)|0;I.add3H=X;const Q=(ge,de,z,d)=>(ge>>>0)+(de>>>0)+(z>>>0)+(d>>>0);I.add4L=Q;const te=(ge,de,z,d,f)=>de+z+d+f+(ge/2**32|0)|0;I.add4H=te;const ie=(ge,de,z,d,f)=>(ge>>>0)+(de>>>0)+(z>>>0)+(d>>>0)+(f>>>0);I.add5L=ie;const ae=(ge,de,z,d,f,b)=>de+z+d+f+b+(ge/2**32|0)|0;I.add5H=ae,I.default={fromBig:$,split:U,toBig:K,shrSH:y,shrSL:T,rotrSH:w,rotrSL:x,rotrBH:R,rotrBL:k,rotr32H:v,rotr32L:N,rotlSH:M,rotlSL:P,rotlBH:L,rotlBL:G,add:B,add3L:q,add3H:X,add4L:Q,add4H:te,add5H:ae,add5L:ie}},91757:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.crypto=void 0,I.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},96331:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hmac=I.HMAC=void 0;const O=A(94345),$=A(34939);class U extends $.Hash{constructor(T,w){super(),this.finished=!1,this.destroyed=!1,(0,O.hash)(T);const x=(0,$.toBytes)(w);if(this.iHash=T.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,k=new Uint8Array(R);k.set(x.length>R?T.create().update(x).digest():x);for(let v=0;v<k.length;v++)k[v]^=54;this.iHash.update(k),this.oHash=T.create();for(let v=0;v<k.length;v++)k[v]^=106;this.oHash.update(k),k.fill(0)}update(T){return(0,O.exists)(this),this.iHash.update(T),this}digestInto(T){(0,O.exists)(this),(0,O.bytes)(T,this.outputLen),this.finished=!0,this.iHash.digestInto(T),this.oHash.update(T),this.oHash.digestInto(T),this.destroy()}digest(){const T=new Uint8Array(this.oHash.outputLen);return this.digestInto(T),T}_cloneInto(T){T||(T=Object.create(Object.getPrototypeOf(this),{}));const{oHash:w,iHash:x,finished:R,destroyed:k,blockLen:v,outputLen:N}=this;return T.finished=R,T.destroyed=k,T.blockLen=v,T.outputLen=N,T.oHash=w._cloneInto(T.oHash),T.iHash=x._cloneInto(T.iHash),T}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}I.HMAC=U,I.hmac=(y,T,w)=>new U(y,T).update(w).digest(),I.hmac.create=(y,T)=>new U(y,T)},13011:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.sha224=I.sha256=void 0;const O=A(27527),$=A(34939),U=(k,v,N)=>k&v^~k&N,K=(k,v,N)=>k&v^k&N^v&N,y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),T=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),w=new Uint32Array(64);class x extends O.SHA2{constructor(){super(64,32,8,!1),this.A=0|T[0],this.B=0|T[1],this.C=0|T[2],this.D=0|T[3],this.E=0|T[4],this.F=0|T[5],this.G=0|T[6],this.H=0|T[7]}get(){const{A:v,B:N,C:M,D:P,E:L,F:G,G:B,H:q}=this;return[v,N,M,P,L,G,B,q]}set(v,N,M,P,L,G,B,q){this.A=0|v,this.B=0|N,this.C=0|M,this.D=0|P,this.E=0|L,this.F=0|G,this.G=0|B,this.H=0|q}process(v,N){for(let te=0;te<16;te++,N+=4)w[te]=v.getUint32(N,!1);for(let te=16;te<64;te++){const ie=w[te-15],ae=w[te-2],me=(0,$.rotr)(ie,7)^(0,$.rotr)(ie,18)^ie>>>3,ge=(0,$.rotr)(ae,17)^(0,$.rotr)(ae,19)^ae>>>10;w[te]=ge+w[te-7]+me+w[te-16]|0}let{A:M,B:P,C:L,D:G,E:B,F:q,G:X,H:Q}=this;for(let te=0;te<64;te++){const ae=Q+((0,$.rotr)(B,6)^(0,$.rotr)(B,11)^(0,$.rotr)(B,25))+U(B,q,X)+y[te]+w[te]|0,ge=((0,$.rotr)(M,2)^(0,$.rotr)(M,13)^(0,$.rotr)(M,22))+K(M,P,L)|0;Q=X,X=q,q=B,B=G+ae|0,G=L,L=P,P=M,M=ae+ge|0}M=M+this.A|0,P=P+this.B|0,L=L+this.C|0,G=G+this.D|0,B=B+this.E|0,q=q+this.F|0,X=X+this.G|0,Q=Q+this.H|0,this.set(M,P,L,G,B,q,X,Q)}roundClean(){w.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class R extends x{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}I.sha256=(0,$.wrapConstructor)(()=>new x),I.sha224=(0,$.wrapConstructor)(()=>new R)},99698:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.sha384=I.sha512_256=I.sha512_224=I.sha512=I.SHA512=void 0;const O=A(27527),$=A(27858),U=A(34939),[K,y]=$.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(N=>BigInt(N))),T=new Uint32Array(80),w=new Uint32Array(80);class x extends O.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:M,Al:P,Bh:L,Bl:G,Ch:B,Cl:q,Dh:X,Dl:Q,Eh:te,El:ie,Fh:ae,Fl:me,Gh:ge,Gl:de,Hh:z,Hl:d}=this;return[M,P,L,G,B,q,X,Q,te,ie,ae,me,ge,de,z,d]}set(M,P,L,G,B,q,X,Q,te,ie,ae,me,ge,de,z,d){this.Ah=0|M,this.Al=0|P,this.Bh=0|L,this.Bl=0|G,this.Ch=0|B,this.Cl=0|q,this.Dh=0|X,this.Dl=0|Q,this.Eh=0|te,this.El=0|ie,this.Fh=0|ae,this.Fl=0|me,this.Gh=0|ge,this.Gl=0|de,this.Hh=0|z,this.Hl=0|d}process(M,P){for(let C=0;C<16;C++,P+=4)T[C]=M.getUint32(P),w[C]=M.getUint32(P+=4);for(let C=16;C<80;C++){const D=0|T[C-15],V=0|w[C-15],Y=$.default.rotrSH(D,V,1)^$.default.rotrSH(D,V,8)^$.default.shrSH(D,V,7),F=$.default.rotrSL(D,V,1)^$.default.rotrSL(D,V,8)^$.default.shrSL(D,V,7),h=0|T[C-2],g=0|w[C-2],J=$.default.rotrSH(h,g,19)^$.default.rotrBH(h,g,61)^$.default.shrSH(h,g,6),ee=$.default.rotrSL(h,g,19)^$.default.rotrBL(h,g,61)^$.default.shrSL(h,g,6),re=$.default.add4L(F,ee,w[C-7],w[C-16]),fe=$.default.add4H(re,Y,J,T[C-7],T[C-16]);T[C]=0|fe,w[C]=0|re}let{Ah:L,Al:G,Bh:B,Bl:q,Ch:X,Cl:Q,Dh:te,Dl:ie,Eh:ae,El:me,Fh:ge,Fl:de,Gh:z,Gl:d,Hh:f,Hl:b}=this;for(let C=0;C<80;C++){const D=$.default.rotrSH(ae,me,14)^$.default.rotrSH(ae,me,18)^$.default.rotrBH(ae,me,41),V=$.default.rotrSL(ae,me,14)^$.default.rotrSL(ae,me,18)^$.default.rotrBL(ae,me,41),Y=ae&ge^~ae&z,h=$.default.add5L(b,V,me&de^~me&d,y[C],w[C]),g=$.default.add5H(h,f,D,Y,K[C],T[C]),J=0|h,ee=$.default.rotrSH(L,G,28)^$.default.rotrBH(L,G,34)^$.default.rotrBH(L,G,39),re=$.default.rotrSL(L,G,28)^$.default.rotrBL(L,G,34)^$.default.rotrBL(L,G,39),fe=L&B^L&X^B&X,Ae=G&q^G&Q^q&Q;f=0|z,b=0|d,z=0|ge,d=0|de,ge=0|ae,de=0|me,({h:ae,l:me}=$.default.add(0|te,0|ie,0|g,0|J)),te=0|X,ie=0|Q,X=0|B,Q=0|q,B=0|L,q=0|G;const Me=$.default.add3L(J,re,Ae);L=$.default.add3H(Me,g,ee,fe),G=0|Me}({h:L,l:G}=$.default.add(0|this.Ah,0|this.Al,0|L,0|G)),({h:B,l:q}=$.default.add(0|this.Bh,0|this.Bl,0|B,0|q)),({h:X,l:Q}=$.default.add(0|this.Ch,0|this.Cl,0|X,0|Q)),({h:te,l:ie}=$.default.add(0|this.Dh,0|this.Dl,0|te,0|ie)),({h:ae,l:me}=$.default.add(0|this.Eh,0|this.El,0|ae,0|me)),({h:ge,l:de}=$.default.add(0|this.Fh,0|this.Fl,0|ge,0|de)),({h:z,l:d}=$.default.add(0|this.Gh,0|this.Gl,0|z,0|d)),({h:f,l:b}=$.default.add(0|this.Hh,0|this.Hl,0|f,0|b)),this.set(L,G,B,q,X,Q,te,ie,ae,me,ge,de,z,d,f,b)}roundClean(){T.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}I.SHA512=x;class R extends x{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class k extends x{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class v extends x{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}I.sha512=(0,U.wrapConstructor)(()=>new x),I.sha512_224=(0,U.wrapConstructor)(()=>new R),I.sha512_256=(0,U.wrapConstructor)(()=>new k),I.sha384=(0,U.wrapConstructor)(()=>new v)},34939:(ye,I,A)=>{"use strict";var O=A(29293).default;Object.defineProperty(I,"__esModule",{value:!0}),I.randomBytes=I.wrapXOFConstructorWithOpts=I.wrapConstructorWithOpts=I.wrapConstructor=I.checkOpts=I.Hash=I.concatBytes=I.toBytes=I.utf8ToBytes=I.asyncLoop=I.nextTick=I.hexToBytes=I.bytesToHex=I.isLE=I.rotr=I.createView=I.u32=I.u8=void 0;const $=A(91757);function y(de){return de instanceof Uint8Array||null!=de&&"object"==typeof de&&"Uint8Array"===de.constructor.name}if(I.u8=de=>new Uint8Array(de.buffer,de.byteOffset,de.byteLength),I.u32=de=>new Uint32Array(de.buffer,de.byteOffset,Math.floor(de.byteLength/4)),I.createView=de=>new DataView(de.buffer,de.byteOffset,de.byteLength),I.rotr=(de,z)=>de<<32-z|de>>>z,I.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!I.isLE)throw new Error("Non little-endian hardware is not supported");const x=Array.from({length:256},(de,z)=>z.toString(16).padStart(2,"0"));I.bytesToHex=function R(de){if(!y(de))throw new Error("Uint8Array expected");let z="";for(let d=0;d<de.length;d++)z+=x[de[d]];return z};const k__0=48,k__9=57,k__A=65,k__F=70,k__a=97,k__f=102;function v(de){return de>=k__0&&de<=k__9?de-k__0:de>=k__A&&de<=k__F?de-(k__A-10):de>=k__a&&de<=k__f?de-(k__a-10):void 0}function L(){return(L=O(function*(de,z,d){let f=Date.now();for(let b=0;b<de;b++){d(b);const C=Date.now()-f;C>=0&&C<z||(yield(0,I.nextTick)(),f+=C)}})).apply(this,arguments)}function G(de){if("string"!=typeof de)throw new Error("utf8ToBytes expected string, got "+typeof de);return new Uint8Array((new TextEncoder).encode(de))}function B(de){if("string"==typeof de&&(de=G(de)),!y(de))throw new Error("expected Uint8Array, got "+typeof de);return de}I.hexToBytes=function N(de){if("string"!=typeof de)throw new Error("hex string expected, got "+typeof de);const z=de.length,d=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const f=new Uint8Array(d);for(let b=0,C=0;b<d;b++,C+=2){const D=v(de.charCodeAt(C)),V=v(de.charCodeAt(C+1));if(void 0===D||void 0===V)throw new Error('hex string expected, got non-hex character "'+(de[C]+de[C+1])+'" at index '+C);f[b]=16*D+V}return f},I.nextTick=function(){var de=O(function*(){});return function(){return de.apply(this,arguments)}}(),I.asyncLoop=function P(de,z,d){return L.apply(this,arguments)},I.utf8ToBytes=G,I.toBytes=B,I.concatBytes=function q(...de){let z=0;for(let f=0;f<de.length;f++){const b=de[f];if(!y(b))throw new Error("Uint8Array expected");z+=b.length}const d=new Uint8Array(z);for(let f=0,b=0;f<de.length;f++){const C=de[f];d.set(C,b),b+=C.length}return d},I.Hash=class X{clone(){return this._cloneInto()}};const Q={}.toString;I.checkOpts=function te(de,z){if(void 0!==z&&"[object Object]"!==Q.call(z))throw new Error("Options should be object or undefined");return Object.assign(de,z)},I.wrapConstructor=function ie(de){const z=f=>de().update(B(f)).digest(),d=de();return z.outputLen=d.outputLen,z.blockLen=d.blockLen,z.create=()=>de(),z},I.wrapConstructorWithOpts=function ae(de){const z=(f,b)=>de(b).update(B(f)).digest(),d=de({});return z.outputLen=d.outputLen,z.blockLen=d.blockLen,z.create=f=>de(f),z},I.wrapXOFConstructorWithOpts=function me(de){const z=(f,b)=>de(b).update(B(f)).digest(),d=de({});return z.outputLen=d.outputLen,z.blockLen=d.blockLen,z.create=f=>de(f),z},I.randomBytes=function ge(de=32){if($.crypto&&"function"==typeof $.crypto.getRandomValues)return $.crypto.getRandomValues(new Uint8Array(de));throw new Error("crypto.getRandomValues must be defined")}},91717:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.encodeToCurve=I.hashToCurve=I.schnorr=I.secp256k1=void 0;const O=A(13011),$=A(34939),U=A(63834),K=A(73040),y=A(84097),T=A(75752),w=A(4521),x=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),R=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k=BigInt(1),v=BigInt(2),N=(F,h)=>(F+h/v)/h;function M(F){const h=x,g=BigInt(3),J=BigInt(6),ee=BigInt(11),re=BigInt(22),fe=BigInt(23),Ae=BigInt(44),Me=BigInt(88),Le=F*F*F%h,Ee=Le*Le*F%h,Se=(0,U.pow2)(Ee,g,h)*Ee%h,He=(0,U.pow2)(Se,g,h)*Ee%h,Te=(0,U.pow2)(He,v,h)*Le%h,u=(0,U.pow2)(Te,ee,h)*Te%h,xe=(0,U.pow2)(u,re,h)*u%h,be=(0,U.pow2)(xe,Ae,h)*xe%h,_e=(0,U.pow2)(be,Me,h)*be%h,Ce=(0,U.pow2)(_e,Ae,h)*xe%h,ke=(0,U.pow2)(Ce,g,h)*Ee%h,ze=(0,U.pow2)(ke,fe,h)*u%h,Ne=(0,U.pow2)(ze,J,h)*Le%h,We=(0,U.pow2)(Ne,v,h);if(!P.eql(P.sqr(We),F))throw new Error("Cannot find square root");return We}const P=(0,U.Field)(x,void 0,void 0,{sqrt:M});I.secp256k1=(0,w.createCurve)({a:BigInt(0),b:BigInt(7),Fp:P,n:R,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:F=>{const h=R,g=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),J=-k*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ee=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),re=g,fe=BigInt("0x100000000000000000000000000000000"),Ae=N(re*F,h),Me=N(-J*F,h);let Le=(0,U.mod)(F-Ae*g-Me*ee,h),Ee=(0,U.mod)(-Ae*J-Me*re,h);const Se=Le>fe,He=Ee>fe;if(Se&&(Le=h-Le),He&&(Ee=h-Ee),Le>fe||Ee>fe)throw new Error("splitScalar: Endomorphism failed, k="+F);return{k1neg:Se,k1:Le,k2neg:He,k2:Ee}}}},O.sha256);const L=BigInt(0),G=F=>"bigint"==typeof F&&L<F&&F<x,q={};function X(F,...h){let g=q[F];if(void 0===g){const J=(0,O.sha256)(Uint8Array.from(F,ee=>ee.charCodeAt(0)));g=(0,y.concatBytes)(J,J),q[F]=g}return(0,O.sha256)((0,y.concatBytes)(g,...h))}const Q=F=>F.toRawBytes(!0).slice(1),te=F=>(0,y.numberToBytesBE)(F,32),ie=F=>(0,U.mod)(F,x),ae=F=>(0,U.mod)(F,R),me=I.secp256k1.ProjectivePoint;function de(F){let h=I.secp256k1.utils.normPrivateKeyToScalar(F),g=me.fromPrivateKey(h);return{scalar:g.hasEvenY()?h:ae(-h),bytes:Q(g)}}function z(F){if(!G(F))throw new Error("bad x: need 0 < x < p");const h=ie(F*F);let J=M(ie(h*F+BigInt(7)));J%v!==L&&(J=ie(-J));const ee=new me(F,J,k);return ee.assertValidity(),ee}function d(...F){return ae((0,y.bytesToNumberBE)(X("BIP0340/challenge",...F)))}function C(F,h,g){const J=(0,y.ensureBytes)("signature",F,64),ee=(0,y.ensureBytes)("message",h),re=(0,y.ensureBytes)("publicKey",g,32);try{const fe=z((0,y.bytesToNumberBE)(re)),Ae=(0,y.bytesToNumberBE)(J.subarray(0,32));if(!G(Ae))return!1;const Me=(0,y.bytesToNumberBE)(J.subarray(32,64));if(!(F=>"bigint"==typeof F&&L<F&&F<R)(Me))return!1;const Le=d(te(Ae),Q(fe),ee),Ee=((F,h,g)=>me.BASE.multiplyAndAddUnsafe(F,h,g))(fe,Me,ae(-Le));return!(!Ee||!Ee.hasEvenY()||Ee.toAffine().x!==Ae)}catch{return!1}}I.schnorr={getPublicKey:function f(F){return de(F).bytes},sign:function b(F,h,g=(0,$.randomBytes)(32)){const J=(0,y.ensureBytes)("message",F),{bytes:ee,scalar:re}=de(h),fe=(0,y.ensureBytes)("auxRand",g,32),Ae=te(re^(0,y.bytesToNumberBE)(X("BIP0340/aux",fe))),Me=X("BIP0340/nonce",Ae,ee,J),Le=ae((0,y.bytesToNumberBE)(Me));if(Le===L)throw new Error("sign failed: k is zero");const{bytes:Ee,scalar:Se}=de(Le),He=d(Ee,ee,J),Te=new Uint8Array(64);if(Te.set(Ee,0),Te.set(te(ae(Se+He*re)),32),!C(Te,J,ee))throw new Error("sign: Invalid signature produced");return Te},verify:C,utils:{randomPrivateKey:I.secp256k1.utils.randomPrivateKey,lift_x:z,pointToBytes:Q,numberToBytesBE:y.numberToBytesBE,bytesToNumberBE:y.bytesToNumberBE,taggedHash:X,mod:U.mod}};const D=(0,T.isogenyMap)(P,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(F=>F.map(h=>BigInt(h)))),V=(0,K.mapToCurveSimpleSWU)(P,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:P.create(BigInt("-11"))}),Y=(0,T.createHasher)(I.secp256k1.ProjectivePoint,F=>{const{x:h,y:g}=V(P.create(F[0]));return D(h,g)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:P.ORDER,m:1,k:128,expand:"xmd",hash:O.sha256});I.hashToCurve=Y.hashToCurve,I.encodeToCurve=Y.encodeToCurve},68578:(ye,I)=>{"use strict";function A(x){if(!Number.isSafeInteger(x)||x<0)throw new Error(`positive integer expected, not ${x}`)}function O(x){if("boolean"!=typeof x)throw new Error(`boolean expected, not ${x}`)}function $(x){return x instanceof Uint8Array||null!=x&&"object"==typeof x&&"Uint8Array"===x.constructor.name}function U(x,...R){if(!$(x))throw new Error("Uint8Array expected");if(R.length>0&&!R.includes(x.length))throw new Error(`Uint8Array expected of length ${R}, not of length=${x.length}`)}function K(x){if("function"!=typeof x||"function"!=typeof x.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");A(x.outputLen),A(x.blockLen)}function y(x,R=!0){if(x.destroyed)throw new Error("Hash instance has been destroyed");if(R&&x.finished)throw new Error("Hash#digest() has already been called")}function T(x,R){U(x);const k=R.outputLen;if(x.length<k)throw new Error(`digestInto() expects output buffer of length at least ${k}`)}Object.defineProperty(I,"__esModule",{value:!0}),I.output=I.exists=I.hash=I.bytes=I.bool=I.number=I.isBytes=void 0,I.number=A,I.bool=O,I.isBytes=$,I.bytes=U,I.hash=K,I.exists=y,I.output=T,I.default={number:A,bool:O,bytes:U,hash:K,exists:y,output:T}},61689:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.HashMD=I.Maj=I.Chi=void 0;const O=A(68578),$=A(96492);I.Chi=(w,x,R)=>w&x^~w&R,I.Maj=(w,x,R)=>w&x^w&R^x&R,I.HashMD=class T extends $.Hash{constructor(x,R,k,v){super(),this.blockLen=x,this.outputLen=R,this.padOffset=k,this.isLE=v,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(x),this.view=(0,$.createView)(this.buffer)}update(x){(0,O.exists)(this);const{view:R,buffer:k,blockLen:v}=this,N=(x=(0,$.toBytes)(x)).length;for(let M=0;M<N;){const P=Math.min(v-this.pos,N-M);if(P!==v)k.set(x.subarray(M,M+P),this.pos),this.pos+=P,M+=P,this.pos===v&&(this.process(R,0),this.pos=0);else{const L=(0,$.createView)(x);for(;v<=N-M;M+=v)this.process(L,M)}}return this.length+=x.length,this.roundClean(),this}digestInto(x){(0,O.exists)(this),(0,O.output)(x,this),this.finished=!0;const{buffer:R,view:k,blockLen:v,isLE:N}=this;let{pos:M}=this;R[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>v-M&&(this.process(k,0),M=0);for(let q=M;q<v;q++)R[q]=0;(function U(w,x,R,k){if("function"==typeof w.setBigUint64)return w.setBigUint64(x,R,k);const v=BigInt(32),N=BigInt(4294967295),M=Number(R>>v&N),P=Number(R&N),G=k?0:4;w.setUint32(x+(k?4:0),M,k),w.setUint32(x+G,P,k)})(k,v-8,BigInt(8*this.length),N),this.process(k,0);const P=(0,$.createView)(x),L=this.outputLen;if(L%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=L/4,B=this.get();if(G>B.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<G;q++)P.setUint32(4*q,B[q],N)}digest(){const{buffer:x,outputLen:R}=this;this.digestInto(x);const k=x.slice(0,R);return this.destroy(),k}_cloneInto(x){x||(x=new this.constructor),x.set(...this.get());const{blockLen:R,buffer:k,length:v,finished:N,destroyed:M,pos:P}=this;return x.length=v,x.pos=P,x.finished=N,x.destroyed=M,v%R&&x.buffer.set(k),x}}},89948:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.crypto=void 0,I.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hkdf=I.expand=I.extract=void 0;const O=A(68578),$=A(96492),U=A(44882);function K(R,k,v){return(0,O.hash)(R),void 0===v&&(v=new Uint8Array(R.outputLen)),(0,U.hmac)(R,(0,$.toBytes)(v),(0,$.toBytes)(k))}I.extract=K;const y=new Uint8Array([0]),T=new Uint8Array;function w(R,k,v,N=32){if((0,O.hash)(R),(0,O.number)(N),N>255*R.outputLen)throw new Error("Length should be <= 255*HashLen");const M=Math.ceil(N/R.outputLen);void 0===v&&(v=T);const P=new Uint8Array(M*R.outputLen),L=U.hmac.create(R,k),G=L._cloneInto(),B=new Uint8Array(L.outputLen);for(let q=0;q<M;q++)y[0]=q+1,G.update(0===q?T:B).update(v).update(y).digestInto(B),P.set(B,R.outputLen*q),L._cloneInto(G);return L.destroy(),G.destroy(),B.fill(0),y.fill(0),P.slice(0,N)}I.expand=w,I.hkdf=(R,k,v,N,M)=>w(R,K(R,k,v),N,M)},44882:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hmac=I.HMAC=void 0;const O=A(68578),$=A(96492);class U extends $.Hash{constructor(T,w){super(),this.finished=!1,this.destroyed=!1,(0,O.hash)(T);const x=(0,$.toBytes)(w);if(this.iHash=T.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,k=new Uint8Array(R);k.set(x.length>R?T.create().update(x).digest():x);for(let v=0;v<k.length;v++)k[v]^=54;this.iHash.update(k),this.oHash=T.create();for(let v=0;v<k.length;v++)k[v]^=106;this.oHash.update(k),k.fill(0)}update(T){return(0,O.exists)(this),this.iHash.update(T),this}digestInto(T){(0,O.exists)(this),(0,O.bytes)(T,this.outputLen),this.finished=!0,this.iHash.digestInto(T),this.oHash.update(T),this.oHash.digestInto(T),this.destroy()}digest(){const T=new Uint8Array(this.oHash.outputLen);return this.digestInto(T),T}_cloneInto(T){T||(T=Object.create(Object.getPrototypeOf(this),{}));const{oHash:w,iHash:x,finished:R,destroyed:k,blockLen:v,outputLen:N}=this;return T.finished=R,T.destroyed=k,T.blockLen=v,T.outputLen=N,T.oHash=w._cloneInto(T.oHash),T.iHash=x._cloneInto(T.iHash),T}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}I.HMAC=U,I.hmac=(y,T,w)=>new U(y,T).update(w).digest(),I.hmac.create=(y,T)=>new U(y,T)},1806:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.sha224=I.sha256=void 0;const O=A(61689),$=A(96492),U=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),K=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y=new Uint32Array(64);class T extends O.HashMD{constructor(){super(64,32,8,!1),this.A=0|K[0],this.B=0|K[1],this.C=0|K[2],this.D=0|K[3],this.E=0|K[4],this.F=0|K[5],this.G=0|K[6],this.H=0|K[7]}get(){const{A:R,B:k,C:v,D:N,E:M,F:P,G:L,H:G}=this;return[R,k,v,N,M,P,L,G]}set(R,k,v,N,M,P,L,G){this.A=0|R,this.B=0|k,this.C=0|v,this.D=0|N,this.E=0|M,this.F=0|P,this.G=0|L,this.H=0|G}process(R,k){for(let X=0;X<16;X++,k+=4)y[X]=R.getUint32(k,!1);for(let X=16;X<64;X++){const Q=y[X-15],te=y[X-2],ie=(0,$.rotr)(Q,7)^(0,$.rotr)(Q,18)^Q>>>3,ae=(0,$.rotr)(te,17)^(0,$.rotr)(te,19)^te>>>10;y[X]=ae+y[X-7]+ie+y[X-16]|0}let{A:v,B:N,C:M,D:P,E:L,F:G,G:B,H:q}=this;for(let X=0;X<64;X++){const te=q+((0,$.rotr)(L,6)^(0,$.rotr)(L,11)^(0,$.rotr)(L,25))+(0,O.Chi)(L,G,B)+U[X]+y[X]|0,ae=((0,$.rotr)(v,2)^(0,$.rotr)(v,13)^(0,$.rotr)(v,22))+(0,O.Maj)(v,N,M)|0;q=B,B=G,G=L,L=P+te|0,P=M,M=N,N=v,v=te+ae|0}v=v+this.A|0,N=N+this.B|0,M=M+this.C|0,P=P+this.D|0,L=L+this.E|0,G=G+this.F|0,B=B+this.G|0,q=q+this.H|0,this.set(v,N,M,P,L,G,B,q)}roundClean(){y.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class w extends T{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}I.sha256=(0,$.wrapConstructor)(()=>new T),I.sha224=(0,$.wrapConstructor)(()=>new w)},96492:(ye,I,A)=>{"use strict";var O=A(29293).default;Object.defineProperty(I,"__esModule",{value:!0}),I.randomBytes=I.wrapXOFConstructorWithOpts=I.wrapConstructorWithOpts=I.wrapConstructor=I.checkOpts=I.Hash=I.concatBytes=I.toBytes=I.utf8ToBytes=I.asyncLoop=I.nextTick=I.hexToBytes=I.bytesToHex=I.byteSwap32=I.byteSwapIfBE=I.byteSwap=I.isLE=I.rotl=I.rotr=I.createView=I.u32=I.u8=I.isBytes=void 0;const $=A(89948),U=A(68578);I.isBytes=function K(b){return b instanceof Uint8Array||null!=b&&"object"==typeof b&&"Uint8Array"===b.constructor.name},I.u8=b=>new Uint8Array(b.buffer,b.byteOffset,b.byteLength),I.u32=b=>new Uint32Array(b.buffer,b.byteOffset,Math.floor(b.byteLength/4)),I.createView=b=>new DataView(b.buffer,b.byteOffset,b.byteLength),I.rotr=(b,C)=>b<<32-C|b>>>C,I.rotl=(b,C)=>b<<C|b>>>32-C>>>0,I.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],I.byteSwap=b=>b<<24&4278190080|b<<8&16711680|b>>>8&65280|b>>>24&255,I.byteSwapIfBE=I.isLE?b=>b:b=>(0,I.byteSwap)(b),I.byteSwap32=function v(b){for(let C=0;C<b.length;C++)b[C]=(0,I.byteSwap)(b[C])};const N=Array.from({length:256},(b,C)=>C.toString(16).padStart(2,"0"));I.bytesToHex=function M(b){(0,U.bytes)(b);let C="";for(let D=0;D<b.length;D++)C+=N[b[D]];return C};const P__0=48,P__9=57,P__A=65,P__F=70,P__a=97,P__f=102;function L(b){return b>=P__0&&b<=P__9?b-P__0:b>=P__A&&b<=P__F?b-(P__A-10):b>=P__a&&b<=P__f?b-(P__a-10):void 0}function X(){return(X=O(function*(b,C,D){let V=Date.now();for(let Y=0;Y<b;Y++){D(Y);const F=Date.now()-V;F>=0&&F<C||(yield(0,I.nextTick)(),V+=F)}})).apply(this,arguments)}function Q(b){if("string"!=typeof b)throw new Error("utf8ToBytes expected string, got "+typeof b);return new Uint8Array((new TextEncoder).encode(b))}function te(b){return"string"==typeof b&&(b=Q(b)),(0,U.bytes)(b),b}I.hexToBytes=function G(b){if("string"!=typeof b)throw new Error("hex string expected, got "+typeof b);const C=b.length,D=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const V=new Uint8Array(D);for(let Y=0,F=0;Y<D;Y++,F+=2){const h=L(b.charCodeAt(F)),g=L(b.charCodeAt(F+1));if(void 0===h||void 0===g)throw new Error('hex string expected, got non-hex character "'+(b[F]+b[F+1])+'" at index '+F);V[Y]=16*h+g}return V},I.nextTick=function(){var b=O(function*(){});return function(){return b.apply(this,arguments)}}(),I.asyncLoop=function q(b,C,D){return X.apply(this,arguments)},I.utf8ToBytes=Q,I.toBytes=te,I.concatBytes=function ie(...b){let C=0;for(let V=0;V<b.length;V++){const Y=b[V];(0,U.bytes)(Y),C+=Y.length}const D=new Uint8Array(C);for(let V=0,Y=0;V<b.length;V++){const F=b[V];D.set(F,Y),Y+=F.length}return D},I.Hash=class ae{clone(){return this._cloneInto()}};const me={}.toString;I.checkOpts=function ge(b,C){if(void 0!==C&&"[object Object]"!==me.call(C))throw new Error("Options should be object or undefined");return Object.assign(b,C)},I.wrapConstructor=function de(b){const C=V=>b().update(te(V)).digest(),D=b();return C.outputLen=D.outputLen,C.blockLen=D.blockLen,C.create=()=>b(),C},I.wrapConstructorWithOpts=function z(b){const C=(V,Y)=>b(Y).update(te(V)).digest(),D=b({});return C.outputLen=D.outputLen,C.blockLen=D.blockLen,C.create=V=>b(V),C},I.wrapXOFConstructorWithOpts=function d(b){const C=(V,Y)=>b(Y).update(te(V)).digest(),D=b({});return C.outputLen=D.outputLen,C.blockLen=D.blockLen,C.create=V=>b(V),C},I.randomBytes=function f(b=32){if($.crypto&&"function"==typeof $.crypto.getRandomValues)return $.crypto.getRandomValues(new Uint8Array(b));throw new Error("crypto.getRandomValues must be defined")}},15315:(ye,I,A)=>{"use strict";var d,O=Object.defineProperty,$=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyNames,K=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(d,f)=>{var b={};for(var C in d)y.call(d,C)&&f.indexOf(C)<0&&(b[C]=d[C]);if(null!=d&&K)for(var C of K(d))f.indexOf(C)<0&&T.call(d,C)&&(b[C]=d[C]);return b},v=(d,f,b)=>new Promise((C,D)=>{var V=h=>{try{F(b.next(h))}catch(g){D(g)}},Y=h=>{try{F(b.throw(h))}catch(g){D(g)}},F=h=>h.done?C(h.value):Promise.resolve(h.value).then(V,Y);F((b=b.apply(d,f)).next())}),N={};((d,f)=>{for(var b in f)O(d,b,{get:f[b],enumerable:!0})})(N,{createHashMapping:()=>ae,createHashMappingSync:()=>me,decodeJwt:()=>L,decodeSdJwt:()=>B,decodeSdJwtSync:()=>q,getClaims:()=>X,getClaimsSync:()=>Q,getSDAlgAndPayload:()=>ge,splitSdJwt:()=>G,unpack:()=>de,unpackArray:()=>te,unpackObj:()=>ie,unpackSync:()=>z}),ye.exports=(d=N,((d,f,b,C)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let D of U(f))!y.call(d,D)&&undefined!==D&&O(d,D,{get:()=>f[D],enumerable:!(C=$(f,D))||C.enumerable});return d})(O({},"__esModule",{value:!0}),d));var M=A(47862),P=A(29994),L=d=>{const{0:f,1:b,2:C,length:D}=d.split(".");if(3!==D)throw new M.SDJWTException("Invalid JWT as input");return{header:JSON.parse((0,M.base64urlDecode)(f)),payload:JSON.parse((0,M.base64urlDecode)(b)),signature:C}},G=d=>{const[f,...b]=d.split(P.SD_SEPARATOR);if(0===b.length)return{jwt:f,disclosures:[]};const C=b.pop();return{jwt:f,disclosures:b,kbJwt:C||void 0}},B=(d,f)=>v(void 0,null,function*(){const[b,...C]=d.split(P.SD_SEPARATOR),D=L(b);if(0===C.length)return{jwt:D,disclosures:[]};const V=C.pop(),Y=V?L(V):void 0,{_sd_alg:F}=ge(D.payload);return{jwt:D,disclosures:yield Promise.all(C.map(g=>M.Disclosure.fromEncode(g,{alg:F,hasher:f}))),kbJwt:Y}}),q=(d,f)=>{const[b,...C]=d.split(P.SD_SEPARATOR),D=L(b);if(0===C.length)return{jwt:D,disclosures:[]};const V=C.pop(),Y=V?L(V):void 0,{_sd_alg:F}=ge(D.payload);return{jwt:D,disclosures:C.map(g=>M.Disclosure.fromEncodeSync(g,{alg:F,hasher:f})),kbJwt:Y}},X=(d,f,b)=>v(void 0,null,function*(){const{unpackedObj:C}=yield de(d,f,b);return C}),Q=(d,f,b)=>{const{unpackedObj:C}=z(d,f,b);return C},te=(d,f,b="")=>{const C={},D=[];return d.forEach((V,Y)=>{if("object"==typeof V&&null!==V){const F=V[P.SD_LIST_KEY];if(F){const h=f[F];if(h){const g=b?`${b}.${Y}`:`${Y}`;C[g]=F;const{unpackedObj:J,disclosureKeymap:ee}=ie(h.value,f,g);D.push(J),Object.assign(C,ee)}}else{const h=b?`${b}.${Y}`:`${Y}`,{unpackedObj:g,disclosureKeymap:J}=ie(V,f,h);D.push(g),Object.assign(C,J)}}else D.push(V)}),{unpackedObj:D,disclosureKeymap:C}},ie=(d,f,b="")=>{const C={};if("object"==typeof d&&null!==d){if(Array.isArray(d))return te(d,f,b);for(const g in d)if(g!==P.SD_DIGEST&&g!==P.SD_LIST_KEY&&"object"==typeof d[g]){const J=b?`${b}.${g}`:g,{unpackedObj:ee,disclosureKeymap:re}=ie(d[g],f,J);d[g]=ee,Object.assign(C,re)}const D=d,{_sd:V}=D,Y=w(D,["_sd"]),F={};if(V)for(const g of V){const J=f[g];if(J?.key){const ee=b?`${b}.${J.key}`:J.key;C[ee]=g;const{unpackedObj:re,disclosureKeymap:fe}=ie(J.value,f,ee);F[J.key]=re,Object.assign(C,fe)}}return{unpackedObj:Object.assign(Y,F),disclosureKeymap:C}}return{unpackedObj:d,disclosureKeymap:C}},ae=(d,f)=>v(void 0,null,function*(){const b={};for(let C=0;C<d.length;C++){const D=d[C];b[yield D.digest(f)]=D}return b}),me=(d,f)=>{const b={};for(let C=0;C<d.length;C++){const D=d[C];b[D.digestSync(f)]=D}return b},ge=d=>{const f=d,{_sd_alg:b}=f,C=w(f,["_sd_alg"]);return"string"!=typeof b?{_sd_alg:"sha-256",payload:C}:{_sd_alg:b,payload:C}},de=(d,f,b)=>v(void 0,null,function*(){const{_sd_alg:C,payload:D}=ge(d),Y=yield ae(f,{hasher:b,alg:C});return ie(D,Y)}),z=(d,f,b)=>{const{_sd_alg:C,payload:D}=ge(d),Y=me(f,{hasher:b,alg:C});return ie(D,Y)}},22084:(ye,I,A)=>{"use strict";var Q,O=Object.defineProperty,$=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyNames,K=Object.prototype.hasOwnProperty,x=(Q,te,ie)=>new Promise((ae,me)=>{var ge=d=>{try{z(ie.next(d))}catch(f){me(f)}},de=d=>{try{z(ie.throw(d))}catch(f){me(f)}},z=d=>d.done?ae(d.value):Promise.resolve(d.value).then(ge,de);z((ie=ie.apply(Q,te)).next())}),R={};((Q,te)=>{for(var ie in te)O(Q,ie,{get:te[ie],enumerable:!0})})(R,{createHashMappingForSerializedDisclosure:()=>q,present:()=>L,presentSync:()=>G,presentableKeys:()=>M,presentableKeysSync:()=>P,selectDisclosures:()=>X,transformPresentationFrame:()=>B}),ye.exports=(Q=R,((Q,te,ie,ae)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let me of U(te))!K.call(Q,me)&&undefined!==me&&O(Q,me,{get:()=>te[me],enumerable:!(ae=$(te,me))||ae.enumerable});return Q})(O({},"__esModule",{value:!0}),Q));var k=A(29994),v=A(47862),N=A(15315),M=(Q,te,ie)=>x(void 0,null,function*(){const{disclosureKeymap:ae}=yield(0,N.unpack)(Q,te,ie);return Object.keys(ae).sort()}),P=(Q,te,ie)=>{const{disclosureKeymap:ae}=(0,N.unpackSync)(Q,te,ie);return Object.keys(ae).sort()},L=(Q,te,ie)=>x(void 0,null,function*(){const{jwt:ae,kbJwt:me}=(0,N.splitSdJwt)(Q),{jwt:{payload:ge},disclosures:de}=yield(0,N.decodeSdJwt)(Q,ie),{_sd_alg:z}=(0,N.getSDAlgAndPayload)(ge),d={alg:z,hasher:ie},f=B(te),b=yield(0,N.createHashMapping)(de,d),{disclosureKeymap:C}=yield(0,N.unpack)(ge,de,ie);return[ae,...f.map(V=>b[C[V]]).filter(V=>void 0!==V).map(V=>V.encode()),me??""].join(k.SD_SEPARATOR)}),G=(Q,te,ie)=>{const{jwt:ae,kbJwt:me}=(0,N.splitSdJwt)(Q),{jwt:{payload:ge},disclosures:de}=(0,N.decodeSdJwtSync)(Q,ie),{_sd_alg:z}=(0,N.getSDAlgAndPayload)(ge),d={alg:z,hasher:ie},f=B(te),b=(0,N.createHashMappingSync)(de,d),{disclosureKeymap:C}=(0,N.unpackSync)(ge,de,ie);return[ae,...f.map(V=>b[C[V]]).filter(V=>void 0!==V).map(V=>V.encode()),me??""].join(k.SD_SEPARATOR)},B=(Q,te="")=>Object.entries(Q).reduce((ie,[ae,me])=>{const ge=te?`${te}.${ae}`:ae;return"boolean"==typeof me?me&&ie.push(ge):ie.push(ge,...B(me,ge)),ie},[]),q=Q=>{const te={};for(let ie=0;ie<Q.length;ie++){const ae=Q[ie],{digest:me,encoded:ge,key:de,salt:z,value:d}=ae;te[me]=v.Disclosure.fromArray(de?[z,de,d]:[z,d],{digest:me,encoded:ge})}return te},X=(Q,te,ie)=>{if(0===te.length)return[];const ae=q(te),{disclosureKeymap:me}=(0,N.unpackObj)(Q,ae);return B(ie).map(d=>ae[me[d]]).filter(d=>void 0!==d).map(d=>{const{salt:f,key:b,value:C,_digest:D}=d;if(!D)throw new v.SDJWTException("Implementation error: _digest is not defined");return{digest:D,encoded:d.encode(),salt:f,key:b,value:C}})}},29994:ye=>{"use strict";var N,I=Object.defineProperty,A=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,$=Object.prototype.hasOwnProperty,T={};((N,M)=>{for(var P in M)I(N,P,{get:M[P],enumerable:!0})})(T,{KB_JWT_TYP:()=>v,SD_DECOY:()=>k,SD_DIGEST:()=>R,SD_LIST_KEY:()=>x,SD_SEPARATOR:()=>w}),ye.exports=(N=T,((N,M,P,L)=>{if(M&&"object"==typeof M||"function"==typeof M)for(let G of O(M))!$.call(N,G)&&undefined!==G&&I(N,G,{get:()=>M[G],enumerable:!(L=A(M,G))||L.enumerable});return N})(I({},"__esModule",{value:!0}),N));var w="~",x="...",R="_sd",k="_sd_decoy",v="kb+jwt"},47862:(ye,I,A)=>{"use strict";var G,O=Object.defineProperty,$=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyNames,K=Object.prototype.hasOwnProperty,x=(G,B,q)=>new Promise((X,Q)=>{var te=me=>{try{ae(q.next(me))}catch(ge){Q(ge)}},ie=me=>{try{ae(q.throw(me))}catch(ge){Q(ge)}},ae=me=>me.done?X(me.value):Promise.resolve(me.value).then(te,ie);ae((q=q.apply(G,B)).next())}),R={};((G,B)=>{for(var q in B)O(G,q,{get:B[q],enumerable:!0})})(R,{Disclosure:()=>L,SDJWTException:()=>P,base64urlDecode:()=>N,base64urlEncode:()=>v,uint8ArrayToBase64Url:()=>M}),ye.exports=(G=R,((G,B,q,X)=>{if(B&&"object"==typeof B||"function"==typeof B)for(let Q of U(B))!K.call(G,Q)&&undefined!==Q&&O(G,Q,{get:()=>B[Q],enumerable:!(X=$(B,Q))||X.enumerable});return G})(O({},"__esModule",{value:!0}),G));var k=A(12398),v=k.Base64.encodeURI,N=k.Base64.decode,M=G=>k.Base64.fromUint8Array(G,!0),P=class spe extends Error{constructor(B,q){super(B),Object.setPrototypeOf(this,spe.prototype),this.name="SDJWTException",this.details=q}getFullMessage(){return`${this.name}: ${this.message} ${this.details?`- ${JSON.stringify(this.details)}`:""}`}},L=class mL{constructor(B,q){if(this._digest=q?.digest,this._encoded=q?.encoded,2===B.length)return this.salt=B[0],void(this.value=B[1]);if(3===B.length)return this.salt=B[0],this.key=B[1],void(this.value=B[2]);throw new P("Invalid disclosure data")}static fromEncode(B,q){return x(this,null,function*(){const{hasher:X,alg:Q}=q,te=yield X(B,Q),ie=M(te),ae=JSON.parse(N(B));return mL.fromArray(ae,{digest:ie,encoded:B})})}static fromEncodeSync(B,q){const{hasher:X,alg:Q}=q,te=X(B,Q),ie=M(te),ae=JSON.parse(N(B));return mL.fromArray(ae,{digest:ie,encoded:B})}static fromArray(B,q){return new mL(B,q)}encode(){return this._encoded||(this._encoded=v(JSON.stringify(this.decode()))),this._encoded}decode(){return this.key?[this.salt,this.key,this.value]:[this.salt,this.value]}digest(B){return x(this,null,function*(){const{hasher:q,alg:X}=B;if(!this._digest){const Q=yield q(this.encode(),X);this._digest=M(Q)}return this._digest})}digestSync(B){const{hasher:q,alg:X}=B;if(!this._digest){const Q=q(this.encode(),X);this._digest=M(Q)}return this._digest}}},47636:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(83858),I)},66091:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},80723:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},25515:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},18414:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},95517:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},37728:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},39762:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Directives=void 0,I.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},891:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ExchangeStatus=void 0,I.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},67847:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},40826:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},56911:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},17954:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},79506:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},23843:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},39711:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},5179:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},68020:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},54078:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},81755:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},83947:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},73725:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},87260:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},75873:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},83858:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(66091),I),$(A(80723),I),$(A(25515),I),$(A(18414),I),$(A(95517),I),$(A(37728),I),$(A(39762),I),$(A(891),I),$(A(67847),I),$(A(40826),I),$(A(56911),I),$(A(17954),I),$(A(79506),I),$(A(23843),I),$(A(39711),I),$(A(5179),I),$(A(68020),I),$(A(54078),I),$(A(81755),I),$(A(83947),I),$(A(73725),I),$(A(87260),I),$(A(75873),I),$(A(10731),I),$(A(99959),I),$(A(41787),I),$(A(25526),I),$(A(8946),I),$(A(62704),I),$(A(13065),I),$(A(42834),I),$(A(32206),I),$(A(35723),I),$(A(31748),I),$(A(80125),I),$(A(9668),I),$(A(57669),I),$(A(56179),I),$(A(79369),I),$(A(6982),I),$(A(46521),I),$(A(28858),I),$(A(78029),I),$(A(3296),I)},10731:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},99959:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},41787:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},25526:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Optionality=void 0,I.Optionality={Required:"required",Preferred:"preferred"}},8946:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},62704:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},13065:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},42834:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},32206:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},35723:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},31748:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},80125:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},9668:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},57669:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Rules=void 0,I.Rules={All:"all",Pick:"pick"}},56179:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},79369:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},6982:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Status=void 0,I.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},46521:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},28858:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},78029:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},3296:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},30720:(ye,I,A)=>{"use strict";I.E8=void 0;const $=A(2700);Object.defineProperty(I,"E8",{enumerable:!0,get:function(){return $.PEX}})},55776:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hasErrors=I.Checked=I.Status=void 0,I.Status={INFO:"info",WARN:"warn",ERROR:"error"},I.Checked=class{constructor($,U,K){this.tag=$,this.status=U,this.message=K}},I.hasErrors=$=>$.filter(K=>function U(K){return K.status===I.Status.ERROR}(K)).length>0},97889:function(ye,I,A){"use strict";var O=this&&this.__awaiter||function(k,v,N,M){return new(N||(N=Promise))(function(L,G){function B(Q){try{X(M.next(Q))}catch(te){G(te)}}function q(Q){try{X(M.throw(Q))}catch(te){G(te)}}function X(Q){Q.done?L(Q.value):function P(L){return L instanceof N?L:new N(function(G){G(L)})}(Q.value).then(B,q)}X((M=M.apply(k,v||[])).next())})};Object.defineProperty(I,"__esModule",{value:!0}),I.PEX=void 0;const $=A(11151),U=A(55776),K=A(70143),y=A(64864),T=A(99938),w=A(13486),x=A(80930);class R{constructor(v){this._evaluationClientWrapper=new K.EvaluationClientWrapper,this.options=v}evaluatePresentation(v,N,M){var P,L,G;const B=void 0!==M?.generatePresentationSubmission?M.generatePresentationSubmission:void 0===M?.presentationSubmission,q=T.SSITypesBuilder.toInternalPresentationDefinition(v),X=JSON.parse(JSON.stringify(N)),Q=T.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(X,null===(P=this.options)||void 0===P?void 0:P.hasher),te=null!==(L=M?.presentationSubmission)&&void 0!==L?L:Q.decoded.presentation_submission;if(!te&&!B)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const ie=$.CredentialMapper.isW3cPresentation(Q.presentation)&&Q.presentation.holder?[Q.presentation.holder]:[],ae=Object.assign(Object.assign({},M),{holderDIDs:ie,presentationSubmission:te,generatePresentationSubmission:B}),me=this._evaluationClientWrapper.evaluate(q,Q.vcs,ae);return!(null===(G=me.value)||void 0===G)&&G.descriptor_map.length&&(new K.EvaluationClientWrapper).selectFrom(q,Q.vcs,ae).areRequiredCredentialsPresent!==U.Status.ERROR&&(me.errors=[]),me}evaluateCredentials(v,N,M){var P;const L=T.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(N,null===(P=this.options)||void 0===P?void 0:P.hasher);this._evaluationClientWrapper=new K.EvaluationClientWrapper;const G=T.SSITypesBuilder.toInternalPresentationDefinition(v),B=this._evaluationClientWrapper.evaluate(G,L,M);if(B.value&&B.value.descriptor_map.length){const X=(new K.EvaluationClientWrapper).selectFrom(G,L,M);B.areRequiredCredentialsPresent=X.areRequiredCredentialsPresent,B.errors=X.errors}else B.areRequiredCredentialsPresent=U.Status.ERROR;return B}selectFrom(v,N,M){var P;const L=JSON.parse(JSON.stringify(N)),G=T.SSITypesBuilder.toInternalPresentationDefinition(v);return this._evaluationClientWrapper=new K.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(G,T.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(L,null===(P=this.options)||void 0===P?void 0:P.hasher),M)}presentationSubmissionFrom(v,N,M){var P;const L=T.SSITypesBuilder.toInternalPresentationDefinition(v);return this._evaluationClientWrapper.submissionFrom(L,T.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(N,null===(P=this.options)||void 0===P?void 0:P.hasher),M)}presentationFrom(v,N,M){var P,L;const G=this.presentationSubmissionFrom(v,N,M),B=N.some(Q=>$.CredentialMapper.isSdJwtDecodedCredential(Q)||$.CredentialMapper.isSdJwtEncoded(Q));if(M?.presentationSubmissionLocation===y.PresentationSubmissionLocation.PRESENTATION&&B)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const q=null!==(P=M?.presentationSubmissionLocation)&&void 0!==P?P:B?y.PresentationSubmissionLocation.EXTERNAL:y.PresentationSubmissionLocation.PRESENTATION;return{presentation:R.constructPresentation(N,Object.assign(Object.assign({},M),{presentationSubmission:q===y.PresentationSubmissionLocation.PRESENTATION?G:void 0,hasher:null===(L=this.options)||void 0===L?void 0:L.hasher})),presentationSubmissionLocation:q,presentationSubmission:G}}static constructPresentation(v,N){var M,P,L,G;const B=Array.isArray(v)?v:[v];if(B.some(q=>$.CredentialMapper.isSdJwtDecodedCredential(q)||$.CredentialMapper.isSdJwtEncoded(q))){if(B.length>1)throw new Error("Only a single credential is supported when creating a presentation with an SD-JWT VC");if(N?.presentationSubmission)throw new Error("Presentation submission cannot be included in the presentation when creating a presentation with an SD-JWT VC");if(N?.basePresentationPayload)throw new Error("Base presentation payload cannot be when creating a presentation from an SD-JWT VC");const q=$.CredentialMapper.isSdJwtEncoded(B[0])?$.CredentialMapper.decodeVerifiableCredential(B[0],N?.hasher):B[0];if(!N?.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const X=null!==(M=q.signedPayload._sd_alg)&&void 0!==M?M:"sha-256",Q=(0,w.calculateSdHash)(q.compactSdJwtVc,X,N.hasher),te={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),_sd_hash:Q}};return Object.assign(Object.assign({},q),{kbJwt:te})}{if(!v)throw Error("At least a verifiable credential needs to be passed in to create a presentation");const q=Array.isArray(v)?v:[v],X=q.map(me=>$.CredentialMapper.toWrappedVerifiableCredential(me)),Q=Array.from(new Set(X.flatMap(me=>(0,w.getSubjectIdsAsString)(me.credential))));1!==Q.length&&!N?.holderDID&&console.log(`We deduced ${Q.length} subject from ${X.length} Verifiable Credentials, and no holder property was given. This might lead to undesired results`);const te=null!==(P=N?.holderDID)&&void 0!==P?P:1===Q.length?Q[0]:void 0,ie=null!==(L=N?.basePresentationPayload)&&void 0!==L&&L.type?Array.isArray(N.basePresentationPayload.type)?N.basePresentationPayload.type:[N.basePresentationPayload.type]:[];ie.includes("VerifiablePresentation")||ie.push("VerifiablePresentation");const ae=null!==(G=N?.basePresentationPayload)&&void 0!==G&&G["@context"]?Array.isArray(N.basePresentationPayload["@context"])?N.basePresentationPayload["@context"]:[N.basePresentationPayload["@context"]]:[];return ae.includes("https://www.w3.org/2018/credentials/v1")||ae.push("https://www.w3.org/2018/credentials/v1"),N?.presentationSubmission&&(ie.includes("PresentationSubmission")||ie.push("PresentationSubmission"),ae.includes("https://identity.foundation/presentation-exchange/submission/v1")||ae.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},N?.basePresentationPayload),{"@context":ae,type:ie,holder:te}),!!N?.presentationSubmission&&{presentation_submission:N.presentationSubmission}),{verifiableCredential:q})}}static validateDefinition(v){const N=(0,w.definitionVersionDiscovery)(v);if(N.error)throw new Error(N.error);const M=[];return M.push(N.version===T.PEVersion.v1?{bundler:new x.PresentationDefinitionV1VB("root"),target:T.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(v)}:{bundler:new x.PresentationDefinitionV2VB("root"),target:T.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(v)}),(new x.ValidationEngine).validate(M)}static validateSubmission(v){return(new x.ValidationEngine).validate([{bundler:new x.PresentationSubmissionVB("root"),target:v}])}verifiablePresentationFrom(v,N,M,P){return O(this,void 0,void 0,function*(){var L,G;const{holderDID:B,signatureOptions:q,proofOptions:X}=P,te=B?[B]:[],ie=function Q(){let b=[];if(X?.typeSupportsSelectiveDisclosure){if(!X?.type)throw Error("Please provide a proof type if you enable selective disclosure");b=[X.type]}return b}(),ae=this.evaluateCredentials(v,N,{holderDIDs:te,limitDisclosureSignatureSuites:ie}),me=this.presentationFrom(v,ae.verifiableCredential,P),ge=this.evaluatePresentation(v,me.presentation,Object.assign({limitDisclosureSignatureSuites:ie},me.presentationSubmissionLocation===y.PresentationSubmissionLocation.EXTERNAL&&{presentationSubmission:me.presentationSubmission}));if(!ge.value)throw new Error("Could not get evaluation results from presentationResult");const de={type:X?.type,verificationMethod:q?.verificationMethod,created:X?.created?X.created:(new Date).toISOString(),proofPurpose:X?.proofPurpose,proofValue:q?.proofValue,jws:q?.jws,challenge:X?.challenge,nonce:X?.nonce,domain:X?.domain};let z=me.presentation;if($.CredentialMapper.isSdJwtDecodedCredential(me.presentation)){if(null===(L=this.options)||void 0===L||!L.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const b=null!==(G=me.presentation.signedPayload._sd_alg)&&void 0!==G?G:"sha-256",C=(0,w.calculateSdHash)(me.presentation.compactSdJwtVc,b,this.options.hasher),D={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),nonce:X?.nonce,_sd_hash:C}};z=Object.assign(Object.assign({},z),{kbJwt:D})}const d={options:Object.assign(Object.assign({},P),{presentationSubmissionLocation:me.presentationSubmissionLocation}),presentation:z,presentationDefinition:v,selectedCredentials:N,proof:de,presentationSubmission:ge.value,evaluationResults:ge};return{verifiablePresentation:yield M(d),presentationSubmissionLocation:me.presentationSubmissionLocation,presentationSubmission:ge.value}})}static definitionVersionDiscovery(v){return(0,w.definitionVersionDiscovery)(v)}}I.PEX=R},38992:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PEXv1=void 0;const O=A(11151),$=A(97889),U=A(70143),K=A(64864),y=A(99938),T=A(80930);I.PEXv1=class w extends $.PEX{evaluatePresentation(R,k,v){return y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(R),super.evaluatePresentation(R,k,v)}evaluateCredentials(R,k,v){return y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(R),super.evaluateCredentials(R,k,v)}selectFrom(R,k,v){const N=JSON.parse(JSON.stringify(k));return this._evaluationClientWrapper=new U.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(R),y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(N),v)}presentationFrom(R,k,v){var N;const M=this._evaluationClientWrapper.submissionFrom(y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(R),y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(k),v),P=k.some(B=>O.CredentialMapper.isSdJwtDecodedCredential(B)||O.CredentialMapper.isSdJwtEncoded(B));if(v?.presentationSubmissionLocation===K.PresentationSubmissionLocation.PRESENTATION&&P)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const L=null!==(N=v?.presentationSubmissionLocation)&&void 0!==N?N:P?K.PresentationSubmissionLocation.EXTERNAL:K.PresentationSubmissionLocation.PRESENTATION;return{presentation:$.PEX.constructPresentation(k,Object.assign(Object.assign({},v),{presentationSubmission:L===K.PresentationSubmissionLocation.PRESENTATION?M:void 0})),presentationSubmissionLocation:L,presentationSubmission:M}}static validateDefinition(R){const k=y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(R);return(new T.ValidationEngine).validate([{bundler:new T.PresentationDefinitionV1VB("root"),target:k}])}static validateSubmission(R){return $.PEX.validateSubmission(R)}}},71945:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PEXv2=void 0;const O=A(11151),$=A(97889),U=A(70143),K=A(64864),y=A(99938),T=A(80930);I.PEXv2=class w extends $.PEX{evaluatePresentation(R,k,v){return y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(R),super.evaluatePresentation(R,k,v)}evaluateCredentials(R,k,v){return y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(R),super.evaluateCredentials(R,k,v)}selectFrom(R,k,v){return this._evaluationClientWrapper=new U.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(R),y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(k),v)}presentationFrom(R,k,v){var N;const M=this._evaluationClientWrapper.submissionFrom(y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(R),y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(k),v),P=k.some(B=>O.CredentialMapper.isSdJwtDecodedCredential(B)||O.CredentialMapper.isSdJwtEncoded(B));if(v?.presentationSubmissionLocation===K.PresentationSubmissionLocation.PRESENTATION&&P)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const L=null!==(N=v?.presentationSubmissionLocation)&&void 0!==N?N:P?K.PresentationSubmissionLocation.EXTERNAL:K.PresentationSubmissionLocation.PRESENTATION;return{presentation:$.PEX.constructPresentation(k,Object.assign(Object.assign({},v),{presentationSubmission:L===K.PresentationSubmissionLocation.PRESENTATION?M:void 0})),presentationSubmissionLocation:L,presentationSubmission:M}}static validateDefinition(R){const k=y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(R);return(new T.ValidationEngine).validate([{bundler:new T.PresentationDefinitionV2VB("root"),target:k}])}static validateSubmission(R){return $.PEX.validateSubmission(R)}}},38947:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},45994:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.HandlerCheckResult=void 0,I.HandlerCheckResult=class{constructor(O,$,U,K,y,T){this.input_descriptor_path=O,this.verifiable_credential_path=$,this.evaluator=U,this.status=K,this.message=y,this.payload=T}}},92127:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(38947),I),$(A(45994),I),$(A(83565),I),$(A(21235),I)},83565:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},21235:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},50950:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(I,"__esModule",{value:!0}),I.EvaluationClient=void 0;const $=A(11151),U=A(55776),K=O(A(24080)),y=A(13486),T=A(71001),w=[$.IProofType.BbsBlsSignatureProof2020,"DataIntegrityProof.anoncreds-2023"];I.EvaluationClient=class x{constructor(){this.failed_catched={tag:"root",status:U.Status.ERROR,message:K.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=w,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(k,v,N){this._restrictToDIDMethods=N?.restrictToDIDMethods?(0,y.uniformDIDMethods)(N?.restrictToDIDMethods):[],this._dids=N?.holderDIDs?(0,y.filterToRestrictedDIDs)(N.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=N?.limitDisclosureSignatureSuites,this._restrictToFormats=N?.restrictToFormats,this._generatePresentationSubmission=void 0===N?.generatePresentationSubmission||N.generatePresentationSubmission,N?.presentationSubmission&&(this._presentationSubmission=N.presentationSubmission);let M=this.initEvaluationHandlers();for(M?.handle(k,v);M?.hasNext();){M=M.getNext();try{M?.handle(k,v)}catch(P){throw this.failed_catched.message+=P.message,this.failed_catched.stacktrace=P,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(k){this._dids=k}assertPresentationSubmission(){if("string"==typeof this._presentationSubmission&&(console.log("Presentation submission present, but as string not object. External calls did not follow contract. Correcting"),this._presentationSubmission=JSON.parse(this._presentationSubmission)),!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(k){this._generatePresentationSubmission=k}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(k){this._presentationSubmission=k}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(k){this._wrappedVcs=k}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||w}set limitDisclosureSignatureSuites(k){this._limitDisclosureSignatureSuites=k}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(k){this._restrictToDIDMethods=(0,y.uniformDIDMethods)(k)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(k){this._restrictToFormats=k}initEvaluationHandlers(){const k=new T.UriEvaluationHandler(this);return k.setNext(new T.DIDRestrictionEvaluationHandler(this)).setNext(new T.FormatRestrictionEvaluationHandler(this)).setNext(new T.InputDescriptorFilterEvaluationHandler(this)).setNext(new T.PredicateRelatedFieldEvaluationHandler(this)).setNext(new T.LimitDisclosureEvaluationHandler(this)).setNext(new T.SubjectIsIssuerEvaluationHandler(this)).setNext(new T.SubjectIsHolderEvaluationHandler(this)).setNext(new T.SameSubjectEvaluationHandler(this)).setNext(new T.MarkForSubmissionEvaluationHandler(this)),k}}},78995:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.EvaluationClientWrapper=void 0;const O=A(44273),$=A(47636),U=A(11151),K=A(55776),y=A(64864),T=A(13486),w=A(50950);I.EvaluationClientWrapper=class x{constructor(){this._client=new w.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(k,v,N){var M;let P;this._client.evaluate(k,v,N);const L=[...this.formatNotInfo(K.Status.WARN)],G=[...this.formatNotInfo(K.Status.ERROR)];if(k.submission_requirements){const B=this._client.results.filter(ae=>"MarkForSubmissionEvaluation"===ae.evaluator&&ae.payload.group&&ae.status!==K.Status.ERROR),q=Array.from(new Set(B));let X;try{X=this.matchSubmissionRequirements(k,k.submission_requirements,q)}catch(ae){const me={status:K.Status.ERROR,message:JSON.stringify(ae),tag:"matchSubmissionRequirements"};return{errors:G?[...G,me]:[me],warnings:L,areRequiredCredentialsPresent:K.Status.ERROR}}const te=this.extractMatches(X).map(ae=>O.JSONPath.nodes(this._client.wrappedVcs.map(me=>me.original),ae)[0].value),ie=this.determineAreRequiredCredentialsPresent(k,X);P={errors:ie===K.Status.INFO?[]:G,matches:[...X],areRequiredCredentialsPresent:ie,verifiableCredential:te,warnings:L}}else{const B=this._client.results.filter(X=>"MarkForSubmissionEvaluation"===X.evaluator&&X.status!==K.Status.ERROR);if(this.checkWithoutSubmissionRequirements(B,k).length)return{errors:G,matches:[],areRequiredCredentialsPresent:K.Status.ERROR,verifiableCredential:v.map(X=>X.original),warnings:L};{const X=this.matchWithoutSubmissionRequirements(B,k),te=this.extractMatches(X).map(ie=>O.JSONPath.nodes(this._client.wrappedVcs.map(ae=>ae.original),ie)[0].value);P={errors:[],matches:[...X],areRequiredCredentialsPresent:K.Status.INFO,verifiableCredential:te,warnings:L}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(P,v),P.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(k,P?.matches),this.remapMatches(v.map(B=>B.original),P.matches,P?.verifiableCredential),null===(M=P.matches)||void 0===M||M.forEach(B=>{this.updateSubmissionRequirementMatchPathToAlias(B,"verifiableCredential")}),P.areRequiredCredentialsPresent===K.Status.INFO?P.errors=[]:(P.errors=G,P.warnings=L,P.verifiableCredential=v.map(B=>B.original)),P}remapMatches(k,v,N){v?.forEach(M=>{M.from_nested?this.remapMatches(k,M.from_nested,N):M.vc_path.forEach((P,L,G)=>{const B=O.JSONPath.query(k,P)[0],q=N?.findIndex(X=>JSON.stringify(X)===JSON.stringify(B));if(-1===q)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${B}`);G[L]=`$[${q}]`})})}extractMatches(k){const v=[];return k.forEach(N=>{v.push(...N.vc_path),N.from_nested&&v.push(...this.extractMatches(N.from_nested))}),Array.from(new Set(v))}checkWithoutSubmissionRequirements(k,v){const N=[];if(!v.input_descriptors)return[];if(!k.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:K.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const M=v.input_descriptors,P=T.ObjectUtils.getDistinctFieldInObject(k,"input_descriptor_path");if(P.length!==M.length){const L=P.map(G=>T.JsonPathUtils.extractInputField(v,[G])[0].value).map(G=>G.id);for(let G=0;G<v.input_descriptors.length;G++)-1==L.indexOf(v.input_descriptors[G].id)&&N.push({input_descriptor_path:`$.input_descriptors[${G}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:K.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return N}matchSubmissionRequirements(k,v,N){const M=[];for(const P of v){const L={name:k.name||k.id,rule:P.rule,vc_path:[]};if(P.from&&(L.from=P.from),P.min&&(L.min=P.min),P.max&&(L.max=P.max),P.count&&(L.count=P.count),P.from){const G=this.mapMatchingDescriptors(k,P,N);G&&(L.vc_path.push(...G.vc_path),L.name=G.name,M.push(L))}else{if(!P.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{L.from_nested=this.matchSubmissionRequirements(k,P.from_nested,N),M.push(L)}catch(G){throw new Error(`Error in handling value of from_nested: ${P.from_nested}: err: ${G}`)}}}return M}matchWithoutSubmissionRequirements(k,v){const N=[],M=this.createIdToVcMap(k);for(const[P,L]of M.entries())if(L&&L.length)for(const G of L){const B=T.JsonPathUtils.extractInputField(v,[P]);B.length&&N.push({name:B[0].value.name||B[0].value.id,rule:$.Rules.All,vc_path:[G]})}return this.removeDuplicateSubmissionRequirementMatches(N)}mapMatchingDescriptors(k,v,N){var M;const P={rule:v.rule,vc_path:[]};if(v?.from){P.from=v.from;for(const L of N){const G=O.JSONPath.query(k,L.input_descriptor_path)[0];G.group&&-1===G.group.indexOf(v.from)||(P.name=G.name||G.id,L.payload.group.includes(v.from)&&-1===(null===(M=P.vc_path)||void 0===M?void 0:M.indexOf(L.verifiable_credential_path))&&P.vc_path.push(L.verifiable_credential_path))}}return P}evaluate(k,v,N){var M,P,L,G;this._client.evaluate(k,v,N);const B={areRequiredCredentialsPresent:K.Status.INFO,verifiableCredential:v.map(q=>q.original)};if(B.warnings=this.formatNotInfo(K.Status.WARN),B.errors=this.formatNotInfo(K.Status.ERROR),this._client.assertPresentationSubmission(),null!==(M=this._client.presentationSubmission)&&void 0!==M&&M.descriptor_map.length){const q=null===(P=this._client.presentationSubmission)||void 0===P?void 0:P.descriptor_map.length;for(let X=0;X<q;X++)this._client.presentationSubmission.descriptor_map[X]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[X]);this._client.presentationSubmission.descriptor_map.splice(0,q),B.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToVpPath(B.value),B.verifiableCredential=this._client.wrappedVcs.map(q=>q.original),B.areRequiredCredentialsPresent=null!==(G=null===(L=B.value)||void 0===L?void 0:L.descriptor_map)&&void 0!==G&&G.length?K.Status.INFO:K.Status.ERROR,B}formatNotInfo(k){return this._client.results.filter(v=>v.status===k).map(v=>{const N=v.verifiable_credential_path.substring(1);return{tag:v.evaluator,status:v.status,message:`${v.message}: ${v.input_descriptor_path}: $.verifiableCredential${N}`}})}submissionFrom(k,v,N){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(k.submission_requirements){const L=this._client.results.filter(te=>"MarkForSubmissionEvaluation"===te.evaluator&&te.payload.group&&te.status!==K.Status.ERROR),[G,B]=this.matchUserSelectedVcs(L,v),q=new Map;"input_descriptors"in k&&k.input_descriptors.forEach(te=>{te.group&&te.group.forEach(ie=>{q.has(ie)?q.set(ie,q.get(ie)+1):q.set(ie,1)})});const X=this.evaluateRequirements(k.submission_requirements,G,q,0),Q=B.filter(te=>X[1].find(ie=>ie.verifiable_credential_path===te[1]));return this.updatePresentationSubmission(Q),this.updatePresentationSubmissionPathToVpPath(),N?.presentationSubmissionLocation===y.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}const M=this._client.results.filter(L=>"MarkForSubmissionEvaluation"===L.evaluator&&L.status!==K.Status.ERROR),P=this.matchUserSelectedVcs(M,v);return this.updatePresentationSubmission(P[1]),this.updatePresentationSubmissionPathToVpPath(),N?.presentationSubmissionLocation===y.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}updatePresentationSubmission(k){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(v=>k.find(N=>N[0]===v.path)).map(v=>{const N=k.find(M=>M[0]===v.path);return N&&(v.path=N[1]),v}))}updatePresentationSubmissionToExternal(){this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.map(v=>{if(v.path_nested)return v;if("vc+sd-jwt"===v.format)return v;const N=v.format,M=Object.assign({},v);return M.path_nested=Object.assign({},v),M.path="$",N.startsWith("ldp_")?M.format="ldp_vp":N.startsWith("di_")?M.format="di_vp":"jwt_vc"===N?(M.format="jwt_vp",M.path_nested.path=M.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")):"jwt_vc_json"===N&&(M.format="jwt_vp_json",M.path_nested.path=M.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")),M})}matchUserSelectedVcs(k,v){const N=v.map((L,G)=>[G,JSON.stringify(L.original)]),M=this._client.wrappedVcs.map((L,G)=>[G,JSON.stringify(L.original)]),P=[];return N.forEach((L,G)=>{M.forEach((B,q)=>{B[1]===L[1]&&P.push([`$[${q}]`,`$[${G}]`])})}),[k=k.filter(L=>P.find(G=>G[0]===L.verifiable_credential_path)).map(L=>{const G=P.find(B=>B[0]===L.verifiable_credential_path);return G&&(L.verifiable_credential_path=G[1]),L}),P]}evaluateRequirements(k,v,N,M){let P=0;const L=[];for(const G of k)if(G.from){if(G.rule===$.Rules.All){const[B,q]=this.countMatchingInputDescriptors(G,v);if(B!==(N.get(G.from)||0))throw Error(`Not all input descriptors are members of group ${G.from}`);P++,L.push(...q)}else if(G.rule===$.Rules.Pick){const[B,q]=this.countMatchingInputDescriptors(G,v);try{this.handleCount(G,B,M),P++}catch(X){if(0===M)throw X}L.push(...q)}}else if(G.from_nested){const[B,q]=this.evaluateRequirements(G.from_nested,v,N,++M);P+=B,L.push(...q),this.handleCount(G,B,M)}return[P,L]}countMatchingInputDescriptors(k,v){let N=0;const M=[];for(const P of v)P.payload.group.includes(k.from)&&(M.push(P),N++);return[N,M]}handleCount(k,v,N){if(k.count&&v!==k.count)throw Error(`Count: expected: ${k.count} actual: ${v} at level: ${N}`);if(k.min&&v<k.min)throw Error(`Min: expected: ${k.min} actual: ${v} at level: ${N}`);if(k.max&&v>k.max)throw Error(`Max: expected: ${k.max} actual: ${v} at level: ${N}`)}removeDuplicateSubmissionRequirementMatches(k){return k.filter((v,N)=>{const M=JSON.stringify(v);return N===k.findIndex(P=>JSON.stringify(P)===M)})}fillSelectableCredentialsToVerifiableCredentialsMapping(k,v){var N;k&&(null===(N=k.verifiableCredential)||void 0===N||N.forEach(M=>{var P;const L=v.findIndex(G=>U.CredentialMapper.areOriginalVerifiableCredentialsEqual(G.original,M));if(-1===L)throw new Error("index is not right");null===(P=k.vcIndexes)||void 0===P||P.push(L)}))}determineAreRequiredCredentialsPresent(k,v,N){if(!v||!v.length)return K.Status.ERROR;const M=v.map(P=>this.determineSubmissionRequirementStatus(k,P));if(!N)return M.includes(K.Status.ERROR)?K.Status.ERROR:M.includes(K.Status.WARN)?K.Status.WARN:K.Status.INFO;{if(N.rule===$.Rules.All&&M.includes(K.Status.ERROR))return K.Status.ERROR;const P=M.filter(L=>L!==K.Status.ERROR).length;if(N.count)return N.count>P?K.Status.ERROR:N.count<P?K.Status.WARN:K.Status.INFO;if(N.min&&N.min>P)return K.Status.ERROR;if(N.max&&N.max<P)return K.Status.WARN}return K.Status.INFO}determineSubmissionRequirementStatus(k,v){if(v.from&&v.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!v.from&&!v.from_nested&&1!==v.vc_path.length)return K.Status.ERROR;if(v.from){const N=this.countGroupIDs(k.input_descriptors,v.from);switch(v.rule){case $.Rules.All:return v.vc_path.length===N?K.Status.INFO:K.Status.WARN;case $.Rules.Pick:return this.getPickRuleStatus(v);default:return K.Status.ERROR}}else if(v.from_nested)return this.determineAreRequiredCredentialsPresent(k,v.from_nested,v);return K.Status.INFO}getPickRuleStatus(k){return 0===k.vc_path.length?K.Status.ERROR:k.count&&k.vc_path.length!==k.count?k.vc_path.length>k.count?K.Status.WARN:K.Status.ERROR:k.min&&k.vc_path.length<k.min?K.Status.ERROR:k.max&&k.vc_path.length>k.max?K.Status.WARN:K.Status.INFO}updateSubmissionRequirementMatchPathToAlias(k,v){const N=[];k.vc_path.forEach(M=>{N.push(M.replace("$","$."+v))}),k.vc_path=N,k.from_nested&&k.from_nested.forEach(M=>{this.updateSubmissionRequirementMatchPathToAlias(M,v)})}updatePresentationSubmissionPathToVpPath(k){const v=k?k.descriptor_map:this._client.generatePresentationSubmission?this._client.presentationSubmission.descriptor_map:void 0;v?.forEach(N=>{"vc+sd-jwt"===N.format?N.path="$":this.replacePathWithAlias(N,"verifiableCredential")})}replacePathWithAlias(k,v){k.path=k.path.replace("$[",`$.${v}[`),k.path_nested&&this.replacePathWithAlias(k.path_nested,v)}createIdToVcMap(k){const v=new Map,N=new Map;for(let M=0;M<k.length;M++){const P=k[M].input_descriptor_path;if(N.has(P)){const L=N.get(P);L&&L.push(k[M])}else N.set(P,[k[M]])}for(const[M,P]of N.entries()){const L=[];for(let G=0;G<P.length;G++)-1===L.indexOf(P[G].verifiable_credential_path)&&L.push(P[G].verifiable_credential_path);v.set(M,L)}return v}countGroupIDs(k,v){let N=0;for(const M of k)M.group&&M.group.includes(v)&&N++;return N}}},32893:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.AbstractEvaluationHandler=void 0;const O=A(44273),$=A(55776);I.AbstractEvaluationHandler=class U{constructor(y){this._client=y}setNext(y){return this.nextHandler=y,y}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(y){this._client.wrappedVcs=y}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(y){this._client.presentationSubmission=y}getResults(){return this._client.results}updatePresentationSubmission(y){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((T,w,x)=>{let R;this.getResults().filter(v=>v.status===$.Status.ERROR&&v.evaluator===this.getName()).find(v=>(R=O.JSONPath.query(y,v.input_descriptor_path)[0],v.verifiable_credential_path===T.path&&R?.id===T.id))&&delete x[w]})}removeDuplicate(y){return y.reduce((T,w)=>T.find(R=>R.input_descriptor_path===w.input_descriptor_path&&R.verifiable_credential_path===w.verifiable_credential_path)?T:T.concat([w]),[])}}},4028:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(I,"__esModule",{value:!0}),I.DIDRestrictionEvaluationHandler=void 0;const $=A(11151),U=A(55776),K=O(A(24080)),y=A(13486),T=A(32893);I.DIDRestrictionEvaluationHandler=class w extends T.AbstractEvaluationHandler{constructor(R){super(R)}getName(){return"DIDRestrictionEvaluation"}handle(R,k){R.input_descriptors.forEach((v,N)=>{k.forEach((M,P)=>{const L=this.getIssuerIdFromWrappedVerifiableCredential(M);this.client.hasRestrictToDIDMethods()&&L&&!(0,y.isRestrictedDID)(L,this.client.restrictToDIDMethods)&&L.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(N,`$[${P}]`,M)):this.getResults().push(this.generateSuccessResult(N,`$[${P}]`,M,`${L} is allowed`))})}),this.updatePresentationSubmission(R)}getIssuerIdFromWrappedVerifiableCredential(R){if($.CredentialMapper.isW3cCredential(R.credential))return"object"==typeof R.credential.issuer?R.credential.issuer.id:R.credential.issuer;if($.CredentialMapper.isSdJwtDecodedCredential(R.credential))return R.credential.decodedPayload.iss;throw new Error("Unsupported credential type")}generateErrorResult(R,k,v){return{input_descriptor_path:`$.input_descriptors[${R}]`,evaluator:this.getName(),status:U.Status.ERROR,message:K.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:k,payload:{format:v.format}}}generateSuccessResult(R,k,v,N){return{input_descriptor_path:`$.input_descriptors[${R}]`,evaluator:this.getName(),status:U.Status.INFO,message:N??K.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:k,payload:{format:v.format}}}}},19819:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},30614:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(I,"__esModule",{value:!0}),I.FormatRestrictionEvaluationHandler=void 0;const $=A(55776),U=O(A(24080)),K=A(32893);I.FormatRestrictionEvaluationHandler=class y extends K.AbstractEvaluationHandler{constructor(w){super(w)}getName(){return"FormatRestrictionEvaluation"}handle(w,x){const R=this.client.restrictToFormats?Object.keys(this.client.restrictToFormats):void 0;w.input_descriptors.forEach((k,v)=>{x.forEach((N,M)=>{const P="format"in k&&k.format?Object.keys(k.format):[N.format];let L=R??P;"format"in k&&k.format&&void 0!==R&&(L=Object.keys(k.format).filter(G=>R.includes(G))),L.includes(N.format)?this.getResults().push(this.generateSuccessResult(v,`$[${M}]`,N,`${N.format} is allowed from ${JSON.stringify(L)}`)):this.getResults().push(this.generateErrorResult(v,`$[${M}]`,N))})}),this.updatePresentationSubmission(w)}generateErrorResult(w,x,R){return{input_descriptor_path:`$.input_descriptors[${w}]`,evaluator:this.getName(),status:$.Status.ERROR,message:U.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:x,payload:{format:R.format}}}generateSuccessResult(w,x,R,k){return{input_descriptor_path:`$.input_descriptors[${w}]`,evaluator:this.getName(),status:$.Status.INFO,message:k??U.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:x,payload:{format:R.format}}}}},71001:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(32893),I),$(A(19819),I),$(A(298),I),$(A(19477),I),$(A(77918),I),$(A(60019),I),$(A(1599),I),$(A(4257),I),$(A(67966),I),$(A(63217),I),$(A(30614),I),$(A(4028),I)},298:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(I,"__esModule",{value:!0}),I.InputDescriptorFilterEvaluationHandler=void 0;const $=A(44273),U=O(A(39208)),K=O(A(57459)),y=A(55776),T=O(A(24080)),w=A(13486),x=A(32893),R=new U.default({verbose:!1,code:{source:!1,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});(0,K.default)(R);class k extends x.AbstractEvaluationHandler{constructor(N){super(N),k.keepCacheSizeInCheck()}getName(){return"FilterEvaluation"}handle(N,M){const P=$.JSONPath.nodes(N,"$..fields[*]");M.forEach((L,G)=>{this.createNoFieldResults(N,G,L),P.forEach(B=>{let q=[];B.value.path&&(q=w.JsonPathUtils.extractInputField(L.decoded,B.value.path));let X=!1;for(const Q of q)if(this.evaluateFilter(Q,B.value)){X=!0;const te={result:Object.assign({},q[0]),valid:!0,format:L.format};this.getResults().push(Object.assign({},this.createResultObject($.JSONPath.stringify(B.path.slice(0,3)),G,te)))}if(!X)if(q.length){const Q={result:Object.assign({},q[0]),valid:!1,format:L.format};this.createResponse(B,G,Q,T.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else this.createResponse(B,G,{valid:!1,format:L.format},T.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)})}),this.updatePresentationSubmission(N)}createNoFieldResults(N,M,P){N.input_descriptors.map((G,B)=>({index:B,inDesc:G})).filter(G=>{var B,q,X;return void 0===(null===(B=G.inDesc.constraints)||void 0===B?void 0:B.fields)||0===(null===(X=null===(q=G.inDesc.constraints)||void 0===q?void 0:q.fields)||void 0===X?void 0:X.length)}).forEach(G=>{const B={result:[],valid:!0,format:P.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${G.index}]`,M,B)))})}createResponse(N,M,P,L){this.getResults().push(Object.assign(Object.assign({},this.createResultObject($.JSONPath.stringify(N.path.slice(0,3)),M,P)),{status:y.Status.ERROR,message:L}))}createResultObject(N,M,P){return{input_descriptor_path:N,verifiable_credential_path:`$[${M}]`,evaluator:this.getName(),status:y.Status.INFO,message:T.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:P}}evaluateFilter(N,M){var P,L;null!==(P=M.filter)&&void 0!==P&&P.format&&"date"===M.filter.format&&this.transformDateFormat(N);let G=!0;if(M.filter){const B=JSON.stringify({filter:M.filter,value:N.value}),q=Date.now();G=null===(L=k.FILTER_CACHE.get(B))||void 0===L?void 0:L.value,void 0===G&&(k.keepCacheSizeInCheck(),G=R.validate(M.filter,N.value),k.FILTER_CACHE.set(B,{value:G,ts:q+k.DEFAULT_FILTER_CACHE_TTL}))}return G}transformDateFormat(N){const M=new Date(N.value);let P=M.getUTCMonth()+1+"";1===P.length&&(P="0"+P);let L=M.getUTCDate()+"";1===L.length&&(L="0"+L),N.value=M.getUTCFullYear()+"-"+P+"-"+L,N.value=M.toISOString().substring(0,M.toISOString().indexOf("T"))}static keepCacheSizeInCheck(N){var M,P,L;const G=null!==(M=N?.ttl)&&void 0!==M?M:k.DEFAULT_FILTER_CACHE_TTL,B=null!==(P=N?.maxCacheSize)&&void 0!==P?P:k.DEFAULT_MAX_FILTER_CACHE_SIZE,q=null!==(L=N?.resetCacheSize)&&void 0!==L?L:k.DEFAULT_RESET_CACHE_SIZE,X=Date.now();for(const[te,ie]of k.FILTER_CACHE)ie.ts+G<X&&k.FILTER_CACHE.delete(te);const Q=k.FILTER_CACHE.size;if(Q>B){const te=k.FILTER_CACHE.keys();for(let ie=0;ie<Q-q;ie++)k.FILTER_CACHE.delete(te.next().value)}}}I.InputDescriptorFilterEvaluationHandler=k,k.FILTER_CACHE=new Map,k.DEFAULT_MAX_FILTER_CACHE_SIZE=100,k.DEFAULT_FILTER_CACHE_TTL=3e4,k.DEFAULT_RESET_CACHE_SIZE=k.DEFAULT_MAX_FILTER_CACHE_SIZE/2},77918:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(I,"__esModule",{value:!0}),I.LimitDisclosureEvaluationHandler=void 0;const $=A(47636),U=A(11151),K=A(55776),y=O(A(24080)),T=A(13486),w=A(32893);I.LimitDisclosureEvaluationHandler=class x extends w.AbstractEvaluationHandler{constructor(k){super(k)}getName(){return"LimitDisclosureEvaluation"}handle(k,v){k.input_descriptors.forEach((N,M)=>{var P,L,G;null!==(P=N.constraints)&&void 0!==P&&P.fields&&((null===(L=N.constraints)||void 0===L?void 0:L.limit_disclosure)===$.Optionality.Required||(null===(G=N.constraints)||void 0===G?void 0:G.limit_disclosure)===$.Optionality.Preferred)&&this.evaluateLimitDisclosure(v,N.constraints,M)})}isLimitDisclosureSupported(k,v,N,M){if("vc+sd-jwt"===k.format)return!0;const P=this.client.limitDisclosureSignatureSuites,L=k.decoded.proof;if(!L||Array.isArray(L)||!L.type)return!1;const G=L.cryptosuite?`${L.type}.${L.cryptosuite}`:L.type;return!!P?.includes(G)||(M==$.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(N,v),!1)}evaluateLimitDisclosure(k,v,N){const M=v?.fields,P=v.limit_disclosure;k.forEach((L,G)=>{P&&this.isLimitDisclosureSupported(L,G,N,P)&&this.enforceLimitDisclosure(L,M,N,G,k,P)})}enforceLimitDisclosure(k,v,N,M,P,L){if(U.CredentialMapper.isWrappedSdJwtVerifiableCredential(k)){const G=this.createSdJwtPresentationFrame(k.credential,v,N,M);G&&((0,T.applySdJwtLimitDisclosure)(k.credential,G),k.decoded=k.credential.decodedPayload,k.original=U.CredentialMapper.isSdJwtDecodedCredential(k.original)?k.credential:k.credential.compactSdJwtVc,this.createSuccessResult(N,`$[${M}]`,L))}else{if(!U.CredentialMapper.isW3cCredential(k.credential))throw new Error(`Unsupported format for selective disclosure ${k.format}`);{const G=this.createVcWithRequiredFields(k.credential,v,N,M);G&&(P[M].credential=G,this.createSuccessResult(N,`$[${M}]`,L))}}}createSdJwtPresentationFrame(k,v,N,M){const P={};for(const L of v)if(L.path){const G=T.JsonPathUtils.extractInputField(k.decodedPayload,L.path);if(!(G.length>0))return void this.createMandatoryFieldNotFoundResult(N,M,L.path);T.JsonPathUtils.setValue(P,G[0].path,!0)}return P}createVcWithRequiredFields(k,v,N,M){let P={};P=Object.assign(P,k),P.credentialSubject={};for(const L of v)if(L.path){const G=T.JsonPathUtils.extractInputField(k,L.path);if(!(G.length>0))return void this.createMandatoryFieldNotFoundResult(N,M,L.path);P=this.copyResultPathToDestinationCredential(G[0],k,P)}return P}copyResultPathToDestinationCredential(k,v,N){let M=Object.assign({},v.credentialSubject);return k.path.forEach(P=>{M[P]&&(M={[P]:M[P]})}),N.credentialSubject=Object.assign(Object.assign({},N.credentialSubject),M),N}createSuccessResult(k,v,N){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${k}]`,verifiable_credential_path:`${v}`,evaluator:this.getName(),status:N===$.Optionality.Required?K.Status.INFO:K.Status.WARN,message:y.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(k,v,N){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${k}]`,verifiable_credential_path:`$[${v}]`,evaluator:this.getName(),status:K.Status.ERROR,message:y.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:N})}createLimitDisclosureNotSupportedResult(k,v){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${k}]`,verifiable_credential_path:`$[${v}]`,evaluator:this.getName(),status:K.Status.ERROR,message:y.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}},60019:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(I,"__esModule",{value:!0}),I.MarkForSubmissionEvaluationHandler=void 0;const $=A(44273),U=A(55776),K=O(A(24080)),y=A(32893);I.MarkForSubmissionEvaluationHandler=class T extends y.AbstractEvaluationHandler{constructor(x){super(x)}getName(){return"MarkForSubmissionEvaluation"}handle(x,R){const k=[...this.getResults()],v=k.filter(M=>M.status===U.Status.ERROR),N=this.retrieveNoErrorStatus(k,v);this.client.wrappedVcs=R,this.produceErrorResults(v),this.produceSuccessResults(N,x)}retrieveNoErrorStatus(x,R){return x.filter(v=>v.status!==U.Status.ERROR).filter(v=>!R.find(N=>v.input_descriptor_path===N.input_descriptor_path&&v.verifiable_credential_path===N.verifiable_credential_path))}produceSuccessResults(x,R){this.removeDuplicate(x).forEach(k=>{const N=$.JSONPath.nodes(R,k.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:k.input_descriptor_path,verifiable_credential_path:k.verifiable_credential_path,evaluator:this.getName(),status:U.Status.INFO,payload:{group:N},message:K.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults(x){this.removeDuplicate(x).forEach(R=>{const k=Object.assign({},R.payload);k.evaluator=R.evaluator,this.getResults().push(Object.assign(Object.assign({},R),{evaluator:this.getName(),message:K.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:k}))})}}},1599:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(I,"__esModule",{value:!0}),I.PredicateRelatedFieldEvaluationHandler=void 0;const $=A(47636),U=A(55776),K=O(A(24080)),y=A(32893);I.PredicateRelatedFieldEvaluationHandler=class T extends y.AbstractEvaluationHandler{constructor(x){super(x)}getName(){return"PredicateRelatedFieldEvaluation"}handle(x){x.input_descriptors.forEach((R,k)=>{R.constraints&&this.examinePredicateRelatedField(k,R.constraints)})}examinePredicateRelatedField(x,R){if(R?.fields)for(let k=0;k<R.fields.length;k++)for(let v=0;v<this.getResults().length;v++)this.examinePredicateForFilterEvaluationResult(this.getResults(),v,x,R,k)}examinePredicateForFilterEvaluationResult(x,R,k,v,N){var M;const P=this.retrieveResultInputDescriptorIdx(x[R].input_descriptor_path);if(x[R].payload&&x[R].payload.result&&x[R].payload.result.path&&"FilterEvaluation"===x[R].evaluator&&k===P&&v&&v.fields&&v.fields[N]&&v.fields[N].predicate&&v.fields[N].path&&null!==(M=v.fields[N].path)&&void 0!==M&&M.includes(this.concatenatePath(x[R].payload.result.path))){const L=Object.assign({},x[R].payload.result),G=this.createResultObject(k,R,L,x);v.fields[N].predicate===$.Optionality.Required||(G.payload.value=!0),x.push(G)}}retrieveResultInputDescriptorIdx(x){const k=x.indexOf("$.input_descriptors["),v=x.substring(k+20),N=v.indexOf("]"),M=v.substring(0,N);return parseInt(M)}concatenatePath(x){let R="";for(let k=0;k<x.length;k++)"number"==typeof x[k]?(R=R.substring(0,R.length-1),R+="[*]."):R+=x[k]+".";return R.substring(0,R.length-1)}createResultObject(x,R,k,v){return{input_descriptor_path:`$.input_descriptors[${x}]`,verifiable_credential_path:v[R].verifiable_credential_path,evaluator:this.getName(),status:U.Status.INFO,message:K.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:k}}}},4257:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SameSubjectEvaluationHandler=void 0;const O=A(44273),$=A(47636),U=A(55776),K=A(32893);I.SameSubjectEvaluationHandler=class y extends K.AbstractEvaluationHandler{constructor(w){super(w),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(U.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(U.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(U.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(w,x){const R=this.mapSameSubjectFieldIdsToInputDescriptors(w),k=this.mapCredentialsToResultObjecs(x,R),v=this.countSameSubjectOccurrences(R,k);this.generateErrorResults(v,k),this.updatePresentationSubmission(w)}mapSameSubjectFieldIdsToInputDescriptors(w){this.fieldIds.push(...O.JSONPath.nodes(w,"$..fields[*].id")),this.sameSubject.push(...O.JSONPath.nodes(w,"$..same_subject[*]"));const x=[];return this.fieldIds.forEach(R=>{const k=this.sameSubject.find(v=>v.value.field_id.includes(R.value));k&&x.push([R,k])}),x}generateErrorResults(w,x){w.forEach((R,k)=>{const v=x.filter(N=>k===N.payload.fieldIdSet).map(N=>N.payload.credentialSubject.id);(v.length!==R||1!==new Set(v).size)&&x.forEach((N,M,P)=>{N.payload.fieldIdSet===k&&(N.status=U.Status.ERROR,N.message=this.messages.get(U.Status.ERROR),P[M]=N)})}),this.client.results.push(...x)}countSameSubjectOccurrences(w,x){const R=new Map;return w.forEach(k=>{x.filter(N=>k[1].value.field_id===N.payload.fieldIdSet)&&(R.has(k[1].value.field_id)&&R.get(k[1].value.field_id)?R.set(k[1].value.field_id,R.get(k[1].value.field_id)+1):R.set(k[1].value.field_id,1))}),R}mapCredentialsToResultObjecs(w,x){const R=[...O.JSONPath.nodes(w.map(v=>v.credential),"$..credentialSubject")],k=[];return R.forEach(v=>{const N=x.find(M=>0!==O.JSONPath.query(v.value,`$..${M[0].value}`).length);N&&N[1].value.directive===$.Optionality.Required?k.push({input_descriptor_path:O.JSONPath.stringify(N[0].path.slice(0,3)),status:U.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:N[1].value.field_id,credentialSubject:v.value},message:this.messages.get(U.Status.INFO),verifiable_credential_path:O.JSONPath.stringify(v.path.slice(0,2))}):N&&N[1].value.directive===$.Optionality.Preferred&&k.push({input_descriptor_path:O.JSONPath.stringify(N[0].path.slice(0,3)),status:U.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:N[1].value.field_id,credentialSubject:v.value},message:this.messages.get(U.Status.WARN),verifiable_credential_path:O.JSONPath.stringify(v.path.slice(0,2))})}),k}}},19477:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SubjectIsHolderEvaluationHandler=void 0;const O=A(44273),$=A(47636),U=A(55776),K=A(32893);I.SubjectIsHolderEvaluationHandler=class y extends K.AbstractEvaluationHandler{constructor(w){super(w),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(U.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(U.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(U.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(w,x){this.findIsHolderFieldIdsToInputDescriptorsSets(w),this.findAllCredentialSubjects(x),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,U.Status.INFO,$.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,U.Status.WARN,$.Optionality.Preferred),this.updatePresentationSubmission(w)}findIsHolderFieldIdsToInputDescriptorsSets(w){var x;this.fieldIds.push(...O.JSONPath.nodes(w,"$..fields[*].id")),this.isHolder.push(...O.JSONPath.nodes(w,"$..is_holder[*]"));const R=null===(x=this.fieldIds)||void 0===x?void 0:x.map(v=>v.value),k=[];k.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,R,$.Optionality.Preferred)),k.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,R,$.Optionality.Required)),k.forEach(v=>this.getResults().push(this.createResult(v[1],v[0],["",{}],U.Status.ERROR,void 0)))}evaluateFields(w,x,R,k){const v=[];return x.filter(N=>N.value.directive===k).filter(N=>N.value.field_id.every(M=>R.includes(M))).forEach(N=>w.set(O.JSONPath.stringify(N.path.slice(0,3)),N.value.field_id)),x.filter(N=>N.value.directive===k).filter(N=>!N.value.field_id.every(M=>R.includes(M))).forEach(N=>v.push([O.JSONPath.stringify(N.path.slice(0,3)),N.value.field_id])),v}findAllCredentialSubjects(w){const x=O.JSONPath.nodes(w.map(R=>R.credential),"$..credentialSubject");for(let R=0;R<x.length;R++){const k=x[R],v=O.JSONPath.stringify(k.path.slice(0,2));this.credentialsSubjectsByPath.set(v,k.value),this.credentialsByPath.set(v,w[R])}}confirmAllFieldSetHasSameSubject(w,x,R){const k=Array.from(w).flatMap(P=>Array.from(this.credentialsSubjectsByPath).filter(L=>P[1].find(G=>Object.keys(L[1]).includes(G)))),v=this.mapCredentialPathsToInputDescriptors(R),N=Array.from(k).flatMap(P=>Object.keys(P[1]).filter(L=>"id"!==L)),M=Array.from(w.values()).flatMap(P=>P.every(L=>N.includes(L)))[0];k.forEach(P=>{const L=v.get(P[0]);M&&P[1].id&&this.client.dids.includes(P[1].id)?this.getResults().push(this.createResult(Object.keys(P[1]).filter(G=>"id"!==G),L,P,x,this.credentialsByPath.get(P[0]))):this.getResults().push(this.createResult(Object.keys(P[1]).filter(G=>"id"!==G),L,P,U.Status.ERROR,this.credentialsByPath.get(P[0])))})}mapCredentialPathsToInputDescriptors(w){var x;const R=new Map;return null===(x=this.fieldIds)||void 0===x||x.forEach(k=>{const v=O.JSONPath.stringify(k.path.slice(0,3));this.credentialsSubjectsByPath.forEach((N,M)=>{const P=this.isHolder.find(L=>O.JSONPath.stringify(L.path.slice(0,3))===v);Object.keys(N).includes(k.value)&&P?.value.directive===w&&R.set(M,v)})}),R}createResult(w,x,R,k,v,N){return{input_descriptor_path:x,verifiable_credential_path:R[0],evaluator:this.getName(),status:k,payload:Object.assign({fieldIdSet:w,credentialSubject:R[1]},v?{format:v.format}:{}),message:N??this.messages.get(k)}}}},67966:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(I,"__esModule",{value:!0}),I.SubjectIsIssuerEvaluationHandler=void 0;const $=A(47636),U=A(11151),K=A(55776),y=O(A(24080)),T=A(13486),w=A(32893);I.SubjectIsIssuerEvaluationHandler=class x extends w.AbstractEvaluationHandler{constructor(k){super(k)}getName(){return"SubjectIsIssuerEvaluation"}handle(k,v){k.input_descriptors.forEach((N,M)=>{const P=N.constraints;P?.subject_is_issuer===$.Optionality.Required?this.checkSubjectIsIssuer(N.id,v,M):this.getResults().push(...v.map((L,G)=>this.generateSuccessResult(M,`$[${G}]`,L,"not applicable")))}),this.updatePresentationSubmission(k)}checkSubjectIsIssuer(k,v,N){this.client.presentationSubmission.descriptor_map.forEach(M=>{if(M.id===k){const P=T.JsonPathUtils.extractInputField(v.map(L=>L.credential),[M.path]);for(const L of P){const G=(0,T.getIssuerString)(L.value);L&&L.value&&(0,T.getSubjectIdsAsString)(L.value).every(B=>B===G)?this.getResults().push(this.generateSuccessResult(N,M.path,U.CredentialMapper.toWrappedVerifiableCredential(L.value))):this.getResults().push(this.generateErrorResult(N,M.path,U.CredentialMapper.toWrappedVerifiableCredential(L.value)))}}})}generateErrorResult(k,v,N){return{input_descriptor_path:`$.input_descriptors[${k}]`,evaluator:this.getName(),status:K.Status.ERROR,message:y.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:v,payload:{format:N.format}}}generateSuccessResult(k,v,N,M){return{input_descriptor_path:`$.input_descriptors[${k}]`,evaluator:this.getName(),status:K.Status.INFO,message:M??y.default.SUBJECT_IS_ISSUER,verifiable_credential_path:v,payload:{format:N.format}}}}},63217:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(I,"__esModule",{value:!0}),I.UriEvaluationHandler=void 0;const $=A(44273),U=A(11151),K=A(35975),y=A(55776),T=A(99938),w=O(A(24080)),x=A(32893);class R extends x.AbstractEvaluationHandler{constructor(v){super(v)}getName(){return"UriEvaluation"}handle(v,N){var M,P,L;v.input_descriptors.forEach((q,X)=>{const Q=v.getVersion()!==T.PEVersion.v2?q.schema.map(te=>te.uri):[];N.forEach((te,ie)=>{const ae=R.buildVcContextAndSchemaUris(te.credential,v.getVersion());this.evaluateUris(te,ae,Q,X,ie,v.getVersion())})});const G=(null===(M=v.format)||void 0===M?void 0:M.di)||(null===(P=v.format)||void 0===P?void 0:P.di_vc)||(null===(L=v.format)||void 0===L?void 0:L.di_vp),B=this.getResults().filter(q=>q.status===y.Status.INFO).map(q=>{var X,Q,te,ie;let ae=null===(X=q.payload)||void 0===X?void 0:X.format;if(G&&("ldp_vc"===ae||"ldp"===ae)){const z=$.JSONPath.nodes(N,q.verifiable_credential_path).map(b=>b.value).map(b=>b.type===U.OriginalType.JSONLD&&b.credential.proof?(Array.isArray(b.credential.proof)?b.credential.proof:[b.credential.proof]).filter(V=>"DataIntegrityProof"===V.type&&void 0!==V.cryptosuite):[]).reduce((b,C)=>b.filter(D=>C.includes(D))),d=$.JSONPath.nodes(v,q.input_descriptor_path)[0].value,f=!d.format||(null===(Q=d?.format)||void 0===Q?void 0:Q.di)||(null===(te=d?.format)||void 0===te?void 0:te.di_vc)||(null===(ie=d?.format)||void 0===ie?void 0:ie.di_vp);z.length>0&&f&&(ae="di_vc")}return{id:$.JSONPath.nodes(v,q.input_descriptor_path)[0].value.id,format:ae,path:q.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||0===Object.keys(this.presentationSubmission).length)&&(this.presentationSubmission={id:(0,K.nanoid)(),definition_id:v.id,descriptor_map:B})}evaluateUris(v,N,M,P,L,G){let B=!1;if(G===T.PEVersion.v1){for(let q=0;q<M.length;q++)R.containsHashlink(M[q])&&this.getResults().push(this.createWarnResultObject(P,L));for(let q=0;q<N.length;q++)null!=M.find(X=>X===N[q])&&(B=!0)}else B=!0;B?this.getResults().push(this.createSuccessResultObject(v,M,P,L)):this.getResults().push(this.createErrorResultObject(v,M,P,L))}static buildVcContextAndSchemaUris(v,N){const M=[];return U.CredentialMapper.isW3cCredential(v)&&(Array.isArray(v["@context"])?v["@context"].forEach(P=>M.push(P)):M.push(v["@context"]),Array.isArray(v.credentialSchema)&&v.credentialSchema.length>0?v.credentialSchema.forEach(P=>M.push(P.id)):v.credentialSchema&&M.push(v.credentialSchema.id),N===T.PEVersion.v1&&(Array.isArray(v.type)?v.type.forEach(P=>M.push(P)):v.type&&M.push(v.type))),U.CredentialMapper.isSdJwtDecodedCredential(v)&&N===T.PEVersion.v1&&M.push(v.decodedPayload.vct),M}createSuccessResultObject(v,N,M,P){const L=this.createResult(M,P);return L.status=y.Status.INFO,L.message=w.default.URI_EVALUATION_PASSED,L.payload={format:v.format,vcContext:U.CredentialMapper.isW3cCredential(v.credential)?v.credential["@context"]:void 0,vcCredentialSchema:U.CredentialMapper.isW3cCredential(v.credential)?v.credential.credentialSchema:void 0,inputDescriptorsUris:N},L}createErrorResultObject(v,N,M,P){const L=this.createResult(M,P);return L.status=y.Status.ERROR,L.message=w.default.URI_EVALUATION_DIDNT_PASS,L.payload={format:v.format,vcContext:U.CredentialMapper.isW3cCredential(v.credential)?v.credential["@context"]:void 0,vcCredentialSchema:U.CredentialMapper.isW3cCredential(v.credential)?v.credential.credentialSchema:void 0,inputDescriptorsUris:N},L}createWarnResultObject(v,N){const M=this.createResult(v,N);return M.status=y.Status.WARN,M.message=w.default.URI_EVALUATION_DIDNT_PASS,M.payload=w.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,M}createResult(v,N){return{input_descriptor_path:`$.input_descriptors[${v}]`,verifiable_credential_path:`$[${N}]`,evaluator:this.getName(),status:y.Status.INFO,message:void 0}}static containsHashlink(v){return!(this.matchAll(v,R.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(v,R.HASHLINK_URL_ENCODED_REGEX).next().done)}}I.UriEvaluationHandler=R,R.matchAll=A(72373),R.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,R.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},70143:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.HandlerCheckResult=I.EvaluationClientWrapper=I.EvaluationClient=void 0;const O=A(92127);Object.defineProperty(I,"HandlerCheckResult",{enumerable:!0,get:function(){return O.HandlerCheckResult}});const $=A(50950);Object.defineProperty(I,"EvaluationClient",{enumerable:!0,get:function(){return $.EvaluationClient}});var U=A(78995);Object.defineProperty(I,"EvaluationClientWrapper",{enumerable:!0,get:function(){return U.EvaluationClientWrapper}})},2700:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(k,v,N,M){void 0===M&&(M=N);var P=Object.getOwnPropertyDescriptor(v,N);(!P||("get"in P?!v.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return v[N]}}),Object.defineProperty(k,M,P)}:function(k,v,N,M){void 0===M&&(M=N),k[M]=v[N]}),$=this&&this.__exportStar||function(k,v){for(var N in k)"default"!==N&&!Object.prototype.hasOwnProperty.call(v,N)&&O(v,k,N)};Object.defineProperty(I,"__esModule",{value:!0}),I.PEXv2=I.PEXv1=I.PEX=I.Status=I.Checked=I.PEVersion=I.ValidationEngine=I.HandlerCheckResult=void 0;const U=A(55776);Object.defineProperty(I,"Checked",{enumerable:!0,get:function(){return U.Checked}}),Object.defineProperty(I,"Status",{enumerable:!0,get:function(){return U.Status}});const K=A(97889);Object.defineProperty(I,"PEX",{enumerable:!0,get:function(){return K.PEX}});const y=A(38992);Object.defineProperty(I,"PEXv1",{enumerable:!0,get:function(){return y.PEXv1}});const T=A(71945);Object.defineProperty(I,"PEXv2",{enumerable:!0,get:function(){return T.PEXv2}});const w=A(70143);Object.defineProperty(I,"HandlerCheckResult",{enumerable:!0,get:function(){return w.HandlerCheckResult}});const x=A(99938);Object.defineProperty(I,"PEVersion",{enumerable:!0,get:function(){return x.PEVersion}});const R=A(80930);Object.defineProperty(I,"ValidationEngine",{enumerable:!0,get:function(){return R.ValidationEngine}}),$(A(64864),I)},64864:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(34277),I)},34277:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.KeyEncoding=I.PresentationSubmissionLocation=void 0;var A=function($){return $[$.EXTERNAL=0]="EXTERNAL",$[$.PRESENTATION=1]="PRESENTATION",$}(A||(I.PresentationSubmissionLocation=A={})),O=function($){return $.Jwk="Jwk",$.Base58="Base58",$.Hex="Hex",$.Multibase="Multibase",$}(O||(I.KeyEncoding=O={}))},99358:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PEVersion=I.InternalPresentationDefinitionV2=I.InternalPresentationDefinitionV1=void 0,I.InternalPresentationDefinitionV1=class A{constructor(K,y,T,w,x,R){this.id=K,this.input_descriptors=y,this.format=T,this.name=w,this.purpose=x,this.submission_requirements=R}getVersion(){return $.v1}},I.InternalPresentationDefinitionV2=class O{constructor(K,y,T,w,x,R,k){this.format=T,this.frame=w,this.id=K,this.input_descriptors=y,this.name=x,this.purpose=R,this.submission_requirements=k}getVersion(){return $.v2}};var $=function(U){return U.v1="v1",U.v2="v2",U}($||(I.PEVersion=$={}))},24080:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var A=function(O){return O.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",O.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",O.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",O.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",O.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",O.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",O.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",O.SUBJECT_IS_NOT_ISSUER="subject is not issuer",O.SUBJECT_IS_ISSUER="subject is issuer",O.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",O.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",O.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",O.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",O.UNKNOWN_EXCEPTION="unknown exception occurred: ",O.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential",O}(A||{});I.default=A},88819:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SSITypesBuilder=void 0;const O=A(11151),$=A(13486),U=A(99358);class K{static modelEntityToInternalPresentationDefinitionV1(T){const w=K.createCopyAndModifyPresentationDefinition(T);return new U.InternalPresentationDefinitionV1(w.id,w.input_descriptors,w.format,w.name,w.purpose,w.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(T){const w=K.createCopyAndModifyPresentationDefinition(T);return new U.InternalPresentationDefinitionV2(w.id,w.input_descriptors,w.format,w.frame,w.name,w.purpose,w.submission_requirements)}static createCopyAndModifyPresentationDefinition(T){const w=JSON.parse(JSON.stringify(T));return $.JsonPathUtils.changePropertyNameRecursively(w,"_const","const"),$.JsonPathUtils.changePropertyNameRecursively(w,"_enum","enum"),$.JsonPathUtils.changeSpecialPathsRecursively(w),w}static mapExternalVerifiablePresentationToWrappedVP(T,w){return O.CredentialMapper.toWrappedVerifiablePresentation(T,{hasher:w})}static mapExternalVerifiableCredentialsToWrappedVcs(T,w){return O.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(T)?T:[T],{hasher:w})}static toInternalPresentationDefinition(T){const w=JSON.parse(JSON.stringify(T)),x=(0,$.definitionVersionDiscovery)(w);if(x.error)throw x.error;return x.version==U.PEVersion.v1?K.modelEntityToInternalPresentationDefinitionV1(w):K.modelEntityInternalPresentationDefinitionV2(w)}}I.SSITypesBuilder=K},99938:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(24080),I),$(A(99358),I),$(A(88819),I)},27426:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ObjectUtils=void 0;class A{static asArray($){return Array.isArray($)?$:[$]}static isObject($){return"[object Object]"===Object.prototype.toString.call($)}static isUrlAbsolute($){A.isString($)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test($)}static isString($){return"string"==typeof $||"[object String]"===Object.prototype.toString.call($)}static getDistinctFieldInObject($,U){const K=$.map(y=>y[U]);return Array.from(new Set(K))}static cloneDeep($){return JSON.parse(JSON.stringify($))}}I.ObjectUtils=A},18471:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ObjectValidationUtils=void 0,I.ObjectValidationUtils=class A{static optionalNonEmptyString($){return null==$||$.length>0}static nonEmptyString($){return null!=$&&$.length>0}static isValidDIDURI($){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test($)}}},79446:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(I,"__esModule",{value:!0}),I.filterToRestrictedDIDs=I.isRestrictedDID=I.uniformDIDMethods=I.definitionVersionDiscovery=I.getIssuerString=I.getSubjectIdsAsString=void 0;const $=A(99938),U=O(A(86515)),K=O(A(93046)),y=A(27426),T=A(45408);function k(M,P){var L;let G=null!==(L=M?.map(B=>B.toLowerCase()).map(B=>B.startsWith("did:")?B:`did:${B}`))&&void 0!==L?L:[];if(P?.removePrefix){const B=P.removePrefix.endsWith(":")?P.removePrefix.length:P.removePrefix.length+1;G=G.map(q=>q.startsWith(P.removePrefix)?q.substring(B):q)}return G.includes("did")?[]:G}I.getSubjectIdsAsString=function w(M){return(Array.isArray(M.credentialSubject)?M.credentialSubject:[M.credentialSubject]).filter(L=>!!L.id).map(L=>L.id)},I.getIssuerString=function x(M){return y.ObjectUtils.isString(M.issuer)?M.issuer:M.issuer.id},I.definitionVersionDiscovery=function R(M){const P=JSON.parse(JSON.stringify(M));T.JsonPathUtils.changePropertyNameRecursively(P,"_const","const"),T.JsonPathUtils.changePropertyNameRecursively(P,"_enum","enum");const L={presentation_definition:P};let G=(0,K.default)(L);return G?{version:$.PEVersion.v2}:(G=(0,U.default)(L),G?{version:$.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},I.uniformDIDMethods=k,I.isRestrictedDID=function v(M,P){const L=k(P);return 0===L.length||L.some(G=>M.toLowerCase().startsWith(G))},I.filterToRestrictedDIDs=function N(M,P){const L=k(P);return 0===L.length?M:L.flatMap(G=>M.filter(B=>B.toLowerCase().startsWith(G)))}},13486:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(45408),I),$(A(27426),I),$(A(18471),I),$(A(79446),I),$(A(58870),I)},45408:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.JsonPathUtils=void 0;const O=A(44273);class ${static extractInputField(K,y){let T=[];if(y)for(const w of y)if(T=O.JSONPath.nodes(K,w),T.length)break;return T}static changePropertyNameRecursively(K,y,T){const w=$.extractInputField(K,["$.."+y]);for(const x of w)this.copyResultPathToDestinationDefinition(x.path,K,T)}static setValue(K,y,T){const w="string"==typeof y?y:O.JSONPath.stringify(y);return O.JSONPath.value(K,w,T),K}static copyResultPathToDestinationDefinition(K,y,T){let w=y;for(let x=1;x<K.length;x++)if(x+1<K.length&&(w=w[K[x]]),K.length==x+1){w[T]=w[K[x]],delete w[K[x]];break}}static changeSpecialPathsRecursively(K){const y=$.extractInputField(K,["$..path"]);for(const T of y)this.modifyPathsWithSpecialCharacter(T.path,K)}static modifyPathsWithSpecialCharacter(K,y){let T=y;for(let w=1;w<K.length;w++)if(w+1<K.length&&(T=T[K[w]]),K.length==w+1){const x=T[K[w]],R=[];for(let k=0;k<x.length;k++)R.push(this.modifyPathWithSpecialCharacter(x[k]));T[K[w]]=R;break}}static modifyPathWithSpecialCharacter(K){const y=this.matchAll(K,this.REGEX_PATH);return this.modifyPathRecursive(y,K)}static modifyPathRecursive(K,y){let T=K.next(),w=!1;for(;T&&!T.done&&!w;){const x=T.value.index;if(x&&1==x)y=y.charAt(0)+"['"+T.value[0]+"']"+y.substring(x+T.value[0].length),w=!0,this.modifyPathRecursive(K,y);else if(x&&x>1&&"['"!==y.substring(x-2,x)&&'["'!==y.substring(x-2,x))if(".."===y.substring(x-2,x)){y=y.substring(0,x-2)+"..['"+T.value[0]+"']"+y.substring(x+T.value[0].length),w=!0;const R=this.matchAll(y,this.REGEX_PATH);this.modifyPathRecursive(R,y)}else"."===y.charAt(x-1)&&(y=y.substring(0,x-1)+"['"+T.value[0]+"']"+y.substring(x+T.value[0].length),w=!0,this.modifyPathRecursive(K,y));T=K.next()}return y}}I.JsonPathUtils=$,$.matchAll=A(72373),$.REGEX_PATH=/@\w+/g},58870:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(k,v,N,M){void 0===M&&(M=N);var P=Object.getOwnPropertyDescriptor(v,N);(!P||("get"in P?!v.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return v[N]}}),Object.defineProperty(k,M,P)}:function(k,v,N,M){void 0===M&&(M=N),k[M]=v[N]}),$=this&&this.__setModuleDefault||(Object.create?function(k,v){Object.defineProperty(k,"default",{enumerable:!0,value:v})}:function(k,v){k.default=v}),U=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var v={};if(null!=k)for(var N in k)"default"!==N&&Object.prototype.hasOwnProperty.call(k,N)&&O(v,k,N);return $(v,k),v};Object.defineProperty(I,"__esModule",{value:!0}),I.applySdJwtLimitDisclosure=I.calculateSdHash=void 0;const K=A(15315),y=A(22084),T=U(A(14151)),w=A(27426);I.calculateSdHash=function x(k,v,N){const M=N(k,v);return T.toString(M,"base64url")},I.applySdJwtLimitDisclosure=function R(k,v){const N=k.disclosures.map(X=>({digest:X.digest,encoded:X.encoded,salt:X.decoded[0],value:3===X.decoded.length?X.decoded[2]:X.decoded[1],key:3===X.decoded.length?X.decoded[1]:void 0})),M=(0,y.selectDisclosures)(w.ObjectUtils.cloneDeep(k.signedPayload),N,v);k.disclosures=M.map(X=>({encoded:X.encoded,decoded:X.key?[X.salt,X.key,X.value]:[X.salt,X.value],digest:X.digest}));const P=k.disclosures.map(X=>X.encoded),L=k.compactSdJwtVc.split("~");k.compactSdJwtVc=L.filter((X,Q)=>0===Q||Q===L.length-1||P.includes(X)).join("~");const{payload:G}=(0,K.getSDAlgAndPayload)(w.ObjectUtils.cloneDeep(k.signedPayload)),B=(0,y.createHashMappingForSerializedDisclosure)(M),{unpackedObj:q}=(0,K.unpackObj)(G,B);k.decodedPayload=q}},38612:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ConstraintsVB=void 0;const O=A(47636),$=A(30387),U=A(10767);class K extends U.ValidationBundler{constructor(T){super(T,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(T){let w=[];return T&&(w=[{tag:this.getTag(),target:T,predicate:x=>K.disclosureLimitShouldHaveKnownValue(x.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:T,predicate:x=>K.statusShouldHaveKnownValue(x.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:T,predicate:K.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:T,predicate:x=>K.shouldBeKnownOption(x.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:T,predicate:x=>this.fieldIdInSubjectMustCorrespondToFieldId(x,x.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:T,predicate:x=>this.fieldIdInSubjectMustCorrespondToFieldId(x,x.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(T?.is_holder),...this.getSubjectsValidations(T?.same_subject),...this.getFieldsValidations(T)]),w}getFieldsValidations(T){var w;return null!==(w=T?.fields)&&void 0!==w&&w.length?new $.FieldsVB(this.getTag()).getValidations(T.fields):[]}static disclosureLimitShouldHaveKnownValue(T){return!T||T===O.Optionality.Preferred||T===O.Optionality.Required}static statusShouldHaveKnownValue(T){return null==T||null!=T.active||null!=T.revoked||null!=T.suspended}static statusDirectiveShouldHaveKnownValue(){return T=>{var w,x,R;return this.pdStatusShouldBeKnown(null===(w=T?.statuses)||void 0===w?void 0:w.active)&&this.pdStatusShouldBeKnown(null===(x=T?.statuses)||void 0===x?void 0:x.revoked)&&this.pdStatusShouldBeKnown(null===(R=T?.statuses)||void 0===R?void 0:R.suspended)}}static pdStatusShouldBeKnown(T){return!T||T.directive===O.Directives.Allowed||T.directive===O.Directives.Disallowed||T.directive===O.Directives.Required}static shouldBeKnownOption(T){return!T||0===T.filter(w=>w.directive!==O.Optionality.Preferred&&w.directive!==O.Optionality.Required).length}getSubjectsValidations(T){if(T){let w=[];for(let x=0;x<T.length;x++)w=[{tag:this.getMyTag(x),target:T[x],predicate:R=>Array.isArray(R.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(x),target:T[x],predicate:R=>!!R.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(x),target:T[x],predicate:R=>R.field_id.length===R.field_id.filter(k=>"string"==typeof k).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(x),target:T[x],predicate:R=>void 0!==R.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(x),target:T[x],predicate:R=>R.directive===O.Optionality.Preferred||R.directive===O.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return w}return[]}getMyTag(T){return this.parentTag+"."+this.myTag+"["+T+"]"}fieldIdInSubjectMustCorrespondToFieldId(T,w){if(w)for(const x of w)for(const R of x.field_id)if(!K.isValidFieldId(T,R))return!1;return!0}static isValidFieldId(T,w){return!!T?.fields&&T.fields.map(x=>x.id).includes(w)}}I.ConstraintsVB=K},30387:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(I,"__esModule",{value:!0}),I.FieldsVB=void 0;const $=A(44273),U=A(47636),K=O(A(94217)),y=O(A(61264)),T=A(10767);class w extends T.ValidationBundler{constructor(R){super(R,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(R){let k=[];if(R)for(let v=0;v<R.length;v++)k=[...k,...this.getValidationsFor(R[v],v)];return k}getValidationsFor(R,k){return[{tag:this.getMyTag(k),target:R,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(k),target:R,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(k),target:R,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(k),target:R,predicate:v=>w.optionalNonEmptyString(v?.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(k),target:R,predicate:v=>w.shouldBeKnownOption(v?.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(R){return this.parentTag+"."+this.myTag+"["+R+"]"}mustHaveValidJsonPaths(){return R=>null!=R.path&&R.path.length>0&&this._validateJsonPaths(R.path)}_validateJsonPaths(R){const k=[];if(R.forEach(v=>{try{$.JSONPath.parse(v)}catch{k.push(v)}}),k.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(k));return!0}filterMustBeValidJsonSchema(){return R=>this._validateFilter(R.filter)}_validateFilter(R){if(null==R)return!0;let k=!1;try{k=(0,y.default)(R),k||(k=(0,K.default)(R))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(R))}return k}filterIsMustInPresenceOfPredicate(){return R=>!(null!=R.predicate&&null==R.filter)}static optionalNonEmptyString(R){return null==R||R.length>0}static shouldBeKnownOption(R){return null==R||R==U.Optionality.Required||R==U.Optionality.Preferred}}I.FieldsVB=w},79241:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.FrameVB=void 0;const O=A(13486),$=A(10767);class U extends $.ValidationBundler{constructor(y){super(y,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(y){let T=[];return T=[...T,...this.getMyValidations(y)],T}getMyValidations(y){return[{tag:this.getMyTag(),target:y,predicate:U.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(y){if(!y||Array.isArray(y)||"object"!=typeof y)return!1;const T=y;if(T&&T["@id"])for(const w of O.ObjectUtils.asArray(y["@id"]))if(!O.ObjectUtils.isObject(w)&&!O.ObjectUtils.isUrlAbsolute(w)||O.ObjectUtils.isString(w)&&0===w.indexOf("_:"))return!1;if(T["@types"])for(const w of O.ObjectUtils.asArray(y["@types"]))if(!O.ObjectUtils.isObject(w)&&!O.ObjectUtils.isUrlAbsolute(w)||O.ObjectUtils.isString(w)&&0===w.indexOf("_:"))return!1;return!0}}I.FrameVB=U},75056:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(30387),I),$(A(853),I),$(A(74840),I),$(A(27506),I),$(A(12915),I),$(A(3170),I),$(A(97091),I),$(A(10767),I),$(A(38612),I)},853:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.InputDescriptorsV1VB=void 0;const O=A(13486),$=A(38612),U=A(10767);I.InputDescriptorsV1VB=class K extends U.ValidationBundler{constructor(T){super(T,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(T){let w=[];return w.push({tag:this.getTag(),target:T,predicate:x=>this.shouldHaveUniqueIds(x),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:T,predicate:x=>this.shouldHaveUniqueFieldsIds(x),message:"fields id must be unique"}),T.forEach((x,R)=>{w=[...w,...this.getValidationFor(x,R),...this.constraintsValidations(x,R)]}),w}getValidationFor(T,w){return[{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.nonEmptyString(x?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(w),target:T,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.optionalNonEmptyString(x?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.optionalNonEmptyString(x?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(T){const w=[],x=new Set,R=[];return T.map(k=>{var v;return null===(v=k.constraints)||void 0===v?void 0:v.fields}).forEach(k=>{k&&R.push(...k)}),R.forEach(k=>{k.id&&w.push(k.id)}),w.forEach(k=>x.add(k)),w.length===x.size}shouldHaveUniqueIds(T){const w=[],x=new Set;return T.forEach(R=>w.push(R.id)),w.forEach(R=>x.add(R)),w.length===x.size}getMyTag(T){return this.parentTag+"."+this.myTag+"["+T+"]"}isValidSchema(){return T=>T.schema.filter(w=>this.isAValidURI(w.uri)&&(null==w.required||"boolean"==typeof w.required)).length>0}isAValidURI(T){if(!T)return!1;if(!O.ObjectValidationUtils.nonEmptyString(T))return!1;if(T.startsWith("http://")||T.startsWith("https://"))try{new URL(T)}catch{return O.ObjectValidationUtils.isValidDIDURI(T)}return!0}constraintsValidations(T,w){return T.constraints?new $.ConstraintsVB(this.getMyTag(w)).getValidations(T.constraints):[]}}},74840:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.InputDescriptorsV2VB=void 0;const O=A(13486),$=A(38612),U=A(10767);I.InputDescriptorsV2VB=class K extends U.ValidationBundler{constructor(T){super(T,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(T){let w=[];return w.push({tag:this.getTag(),target:T,predicate:x=>this.shouldNotHaveSchema(x),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:T,predicate:x=>this.shouldHaveUniqueIds(x),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:T,predicate:x=>this.shouldHaveUniqueFieldsIds(x),message:"fields id must be unique"}),T.forEach((x,R)=>{w=[...w,...this.getValidationFor(x,R),...this.constraintsValidations(x,R)]}),w}getValidationFor(T,w){return[{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.nonEmptyString(x?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.optionalNonEmptyString(x?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(w),target:T,predicate:x=>O.ObjectValidationUtils.optionalNonEmptyString(x?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(T){const w=[],x=new Set,R=[];return T.map(k=>{var v;return null===(v=k.constraints)||void 0===v?void 0:v.fields}).forEach(k=>{k&&R.push(...k)}),R.forEach(k=>{k.id&&w.push(k.id)}),w.forEach(k=>x.add(k)),w.length===x.size}shouldHaveUniqueIds(T){const w=[],x=new Set;return T.forEach(R=>w.push(R.id)),w.forEach(R=>x.add(R)),w.length===x.size}getMyTag(T){return this.parentTag+"."+this.myTag+"["+T+"]"}constraintsValidations(T,w){return T.constraints?new $.ConstraintsVB(this.getMyTag(w)).getValidations(T.constraints):[]}shouldNotHaveSchema(T){let w=!1;return T.forEach(x=>{x.schema&&(w=!0)}),!w}}},27506:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(I,"__esModule",{value:!0}),I.PresentationDefinitionV1VB=void 0;const $=A(92209),U=A(83851),K=O(A(86515)),y=A(853),T=A(97091),w=A(10767);class x extends w.ValidationBundler{constructor(k){super(k,"presentation_definition")}getValidations(k){return k.submission_requirements?[...this.myValidations(k),...new y.InputDescriptorsV1VB(this.myTag).getValidations(k.input_descriptors),...new T.SubmissionRequirementVB(this.myTag).getValidations(k.submission_requirements)]:[...this.myValidations(k),...new y.InputDescriptorsV1VB(this.myTag).getValidations(k.input_descriptors)]}myValidations(k){return[{tag:this.getTag(),target:k,predicate:v=>null!=v,message:"presentation_definition should be non null."},{tag:this.getTag(),target:k,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:k,predicate:v=>x.nonEmptyString(v?.id),message:"id should not be empty"},{tag:this.getTag(),target:k,predicate:v=>x.optionalNonEmptyString(v?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:k,predicate:v=>x.optionalNonEmptyString(v?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:k,predicate:v=>x.formatValuesShouldNotBeEmpty(v?.format),message:"formats values should not empty"},{tag:this.getTag(),target:k,predicate:v=>x.formatValuesShouldBeAmongKnownValues(v?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:k,predicate:v=>x.groupShouldMatchSubmissionRequirements(v),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:k,predicate:v=>x.shouldNotHaveFrameProperty(v),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(k){return null==k||k.length>0}static nonEmptyString(k){return null!=k&&k.length>0}static formatValuesShouldNotBeEmpty(k){var v,N,M,P,L,G,B,q,X,Q,te;let ie=!0;return null!=k?.jwt&&(ie=ie&&(null===(v=k.jwt.alg)||void 0===v?void 0:v.length)>0),null!=k?.jwt_vc&&(ie=ie&&(null===(N=k.jwt_vc.alg)||void 0===N?void 0:N.length)>0),null!=k?.jwt_vc_json&&(ie=ie&&(null===(M=k.jwt_vc_json.alg)||void 0===M?void 0:M.length)>0),null!=k?.jwt_vp&&(ie=ie&&(null===(P=k.jwt_vp.alg)||void 0===P?void 0:P.length)>0),null!=k?.jwt_vp_json&&(ie=ie&&(null===(L=k.jwt_vp_json.alg)||void 0===L?void 0:L.length)>0),null!=k?.ldp&&(ie=ie&&(null===(G=k.ldp.proof_type)||void 0===G?void 0:G.length)>0),null!=k?.ldp_vc&&(ie=ie&&(null===(B=k.ldp_vc.proof_type)||void 0===B?void 0:B.length)>0),null!=k?.ldp_vp&&(ie=ie&&(null===(q=k.ldp_vp.proof_type)||void 0===q?void 0:q.length)>0),null!=k?.di&&(ie=ie&&(null===(X=k.di.proof_type)||void 0===X?void 0:X.length)>0),null!=k?.di_vc&&(ie=ie&&(null===(Q=k.di_vc.proof_type)||void 0===Q?void 0:Q.length)>0),null!=k?.di_vp&&(ie=ie&&(null===(te=k.di_vp.proof_type)||void 0===te?void 0:te.length)>0),ie}static formatValuesShouldBeAmongKnownValues(k){let v=[];if(k){const N=$.JwtAlgos.getJwtAlgos(),M=U.LdpTypes.getLdpTypes();v=[];for(const[P,L]of Object.entries(k))P.startsWith("jwt")?v.push(...x.isJWTAlgoKnown(L,N)):v.push(...x.isLDPProofKnown(L,M))}return 0===v.length}static isJWTAlgoKnown(k,v){const N=[];if(null!=k&&null!=k.alg)for(const M of k.alg)v.includes(M)||N.push(M);return N}static isLDPProofKnown(k,v){const N=[];if(null!=k&&null!=k.proof_type)for(const M of k.proof_type)v.includes(M)||N.push(M);return N}static groupShouldMatchSubmissionRequirements(k){if(null!=k.submission_requirements&&k.submission_requirements.length>0){const v=[];k.input_descriptors.forEach(G=>{G.group&&v.push(...G.group)});const N=new Set(v),M=[];x.flatten(k.submission_requirements).forEach(G=>{G.from&&(Array.isArray(G.from)?M.push(...G.from):M.push(G.from))});const P=new Set(M);return 0===new Set([...P].filter(G=>null!=G&&G.length>0&&!N.has(G))).size}return!0}static flatten(k){return k?.reduce((v,N)=>v.concat(Array.isArray(N.from_nested)?this.flatten(N.from_nested):N),[])}shouldBeAsPerJsonSchema(){return k=>(0,K.default)({presentation_definition:k})}static shouldNotHaveFrameProperty(k){return!k.frame}}I.PresentationDefinitionV1VB=x},12915:function(ye,I,A){"use strict";var O=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(I,"__esModule",{value:!0}),I.PresentationDefinitionV2VB=void 0;const $=A(92209),U=A(83851),K=O(A(93046)),y=A(79241),T=A(74840),w=A(97091),x=A(10767);class R extends x.ValidationBundler{constructor(v){super(v,"presentation_definition")}getValidations(v){let N=[];return N=v.submission_requirements?[...this.myValidations(v),...new T.InputDescriptorsV2VB(this.myTag).getValidations(v.input_descriptors),...new w.SubmissionRequirementVB(this.myTag).getValidations(v.submission_requirements)]:[...this.myValidations(v),...new T.InputDescriptorsV2VB(this.myTag).getValidations(v.input_descriptors)],v.frame&&N.push(...new y.FrameVB(this.myTag).getValidations(v.frame)),N}myValidations(v){return[{tag:this.getTag(),target:v,predicate:N=>null!=N,message:"presentation_definition should be non null."},{tag:this.getTag(),target:v,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:v,predicate:N=>R.nonEmptyString(N?.id),message:"id should not be empty"},{tag:this.getTag(),target:v,predicate:N=>R.optionalNonEmptyString(N?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:v,predicate:N=>R.optionalNonEmptyString(N?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:v,predicate:N=>R.formatValuesShouldNotBeEmpty(N?.format),message:"formats values should not empty"},{tag:this.getTag(),target:v,predicate:N=>R.formatValuesShouldBeAmongKnownValues(N?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:v,predicate:N=>R.groupShouldMatchSubmissionRequirements(N),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(v){return null==v||v.length>0}static nonEmptyString(v){return null!=v&&v.length>0}static formatValuesShouldNotBeEmpty(v){var N,M,P,L,G,B,q,X,Q,te,ie;let ae=!0;return null!=v?.jwt&&(ae=ae&&(null===(N=v.jwt.alg)||void 0===N?void 0:N.length)>0),null!=v?.jwt_vc&&(ae=ae&&(null===(M=v.jwt_vc.alg)||void 0===M?void 0:M.length)>0),null!=v?.jwt_vc_json&&(ae=ae&&(null===(P=v.jwt_vc_json.alg)||void 0===P?void 0:P.length)>0),null!=v?.jwt_vp&&(ae=ae&&(null===(L=v.jwt_vp.alg)||void 0===L?void 0:L.length)>0),null!=v?.jwt_vp_json&&(ae=ae&&(null===(G=v.jwt_vp_json.alg)||void 0===G?void 0:G.length)>0),null!=v?.ldp&&(ae=ae&&(null===(B=v.ldp.proof_type)||void 0===B?void 0:B.length)>0),null!=v?.ldp_vc&&(ae=ae&&(null===(q=v.ldp_vc.proof_type)||void 0===q?void 0:q.length)>0),null!=v?.ldp_vp&&(ae=ae&&(null===(X=v.ldp_vp.proof_type)||void 0===X?void 0:X.length)>0),null!=v?.di&&(ae=ae&&(null===(Q=v.di.proof_type)||void 0===Q?void 0:Q.length)>0),null!=v?.di_vc&&(ae=ae&&(null===(te=v.di_vc.proof_type)||void 0===te?void 0:te.length)>0),null!=v?.di_vp&&(ae=ae&&(null===(ie=v.di_vp.proof_type)||void 0===ie?void 0:ie.length)>0),ae}static formatValuesShouldBeAmongKnownValues(v){let N=[];if(v){const M=$.JwtAlgos.getJwtAlgos(),P=U.LdpTypes.getLdpTypes();N=[];for(const[L,G]of Object.entries(v))L.startsWith("jwt")?N.push(...R.isJWTAlgoKnown(G,M)):N.push(...R.isLDPProofKnown(G,P))}return 0===N.length}static isJWTAlgoKnown(v,N){const M=[];if(null!=v&&null!=v.alg)for(const P of v.alg)N.includes(P)||M.push(P);return M}static isLDPProofKnown(v,N){const M=[];if(null!=v&&null!=v.proof_type)for(const P of v.proof_type)N.includes(P)||M.push(P);return M}static groupShouldMatchSubmissionRequirements(v){if(null!=v.submission_requirements&&v.submission_requirements.length>0){const N=[];v.input_descriptors.forEach(B=>{B.group&&N.push(...B.group)});const M=new Set(N),P=[];R.flatten(v.submission_requirements).forEach(B=>{B.from&&P.push(B.from)});const L=new Set(P);return 0===new Set([...L].filter(B=>null!=B&&B.length>0&&!M.has(B))).size}return!0}static flatten(v){return v?.reduce((N,M)=>N.concat(Array.isArray(M.from_nested)?this.flatten(M.from_nested):M),[])}shouldBeAsPerJsonSchema(){return v=>(0,K.default)({presentation_definition:v})}}I.PresentationDefinitionV2VB=R},3170:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PresentationSubmissionVB=void 0;const O=A(44273),$=A(55776),U=A(10767);class K extends U.ValidationBundler{constructor(T){super(T,"presentation_submission")}getValidations(T){return[{tag:this.getTag(),target:T,predicate:w=>null!=w,message:"presentation_submission should be non null."},{tag:this.getTag(),target:T,predicate:w=>K.nonEmptyString(w?.id),message:"id should not be empty"},{tag:this.getTag(),target:T,predicate:w=>K.nonEmptyString(w?.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:T,predicate:w=>K.descriptorMapMustBePresent(w?.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:T,predicate:w=>K.idMustBeSameForEachLevelOfNesting(w?.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:T,predicate:w=>K.formatsShouldBeKnown(w?.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:T,predicate:w=>K.pathsShouldBeValidJsonPaths(w?.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(T){return null!=T&&T.length>0}static descriptorMapMustBePresent(T){return null!=T&&T.length>0}static idMustBeSameForEachLevelOfNesting(T){let w=!0;if(null!=T)for(let x=0;x<T.length;x++)w=w&&K.isIdSameForEachLevelOfNesting(T[x],T[x].id);return w}static isIdSameForEachLevelOfNesting(T,w){let x=!0;return null!=T&&null!=T.path_nested&&(x=T.path_nested.id==w&&x&&K.isIdSameForEachLevelOfNesting(T.path_nested,w)),x}static formatsShouldBeKnown(T){let w=!0;if(null!=T){const x=["jwt","jwt_vc","jwt_vc_json","jwt_vp","jwt_vp_json","ldp","ldp_vc","ldp_vp","di","di_vc","di_vp","vc+sd-jwt"];for(let R=0;R<T.length;R++)w=K.formatShouldBeKnown(T[R],x)}return w}static formatShouldBeKnown(T,w){let x=!0;return null!=T&&(x=w.includes(T.format)),null!=T.path_nested&&(x=x&&K.formatShouldBeKnown(T.path_nested,w)),x}static pathsShouldBeValidJsonPaths(T){let w=!0;if(null!=T)for(let x=0;x<T.length;x++)w=K.pathShouldBeValid(T[x],[]);return w}static pathShouldBeValid(T,w){if(null!=T){try{O.JSONPath.parse(T.path)}catch{w.push(T.path)}null!=T.path_nested&&K.pathShouldBeValid(T.path_nested,w)}if(w.length>0)throw new $.Checked("",$.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(w));return!0}}I.PresentationSubmissionVB=K},97091:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SubmissionRequirementVB=void 0;const O=A(10767);class $ extends O.ValidationBundler{constructor(K){super(K,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(K){let y=[];if(null!=K&&K.length>0)for(let T=0;T<K.length;T++)y=[...y,...this.getMyValidations(T,K),...this.getSubValidations(T,K)];return y}getMyValidations(K,y){return[{tag:this.getMyTag(K),target:y[K],predicate:$.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(K),target:y[K],predicate:$.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(K),target:y[K],predicate:$.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(K),target:y[K],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(K),target:y[K],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(K),target:y[K],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(K),target:y[K],predicate:$.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(K){return this.parentTag+"."+this.myTag+"["+K+"]"}getSubValidations(K,y){const T=y[K].from_nested;return null!=T?new $(this.getFromNestedTag(K)).getValidations(T):[]}getFromNestedTag(K){return this.getMyTag(K)+".from_nested"}isCountPositiveInt(K){return"pick"!==K.rule||null==K.count||0<K.count}isMinPositiveInt(K){return"pick"!==K.rule||null==K.min||0<=K.min}isMaxPositiveInt(K){return"pick"!==K.rule||null==K.max||0<K.max}static ruleIsMandatory(K){return null!=K.rule}static needsOneFromOrFromNested(K){return null==K.from!=(null==K.from_nested)}static fromNestedShouldBeArray(K){return null==K.from_nested||Array.isArray(K.from_nested)}static ruleShouldBePickOrAll(K){return"pick"===K.rule||"all"===K.rule}}I.SubmissionRequirementVB=$},10767:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ValidationBundler=void 0;const O=A(55776);I.ValidationBundler=class ${constructor(K,y){this.parentTag=K,this.myTag=y}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(K){return new O.Checked(this.getTag(),O.Status.ERROR,K)}}},80320:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(51130),I),$(A(93398),I),$(A(50903),I)},92209:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.JwtAlgos=void 0,I.JwtAlgos=class A{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},83851:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.LdpTypes=void 0,I.LdpTypes=class A{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020","DataIntegrityProof"]}}},93398:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},50903:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ValidationEngine=void 0;const O=A(80320);I.ValidationEngine=class ${validate(K){let y=[];for(const T of K)y=y.concat(T.bundler.getValidations(T.target));return(0,O.validate)(y)}}},51130:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validate=void 0;const O=A(55776);I.validate=U=>{function y(k){return new O.Checked(k.tag,O.Status.ERROR,k.message)}function T(k){return new O.Checked(k,O.Status.INFO,"ok")}const R=U.map(k=>function w(k){let v;try{v=k.predicate(k.target)?T(k.tag):y(k)}catch{v=y(k)}return v}(k)).reduce((k,v)=>(v.status!==O.Status.INFO&&k.push(v),k),[]);return(0,O.hasErrors)(R)?R:[T("root")]}},80930:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(75056),I),$(A(80320),I)},94217:ye=>{"use strict";ye.exports=w,ye.exports.default=w;const A={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},O=Object.prototype.hasOwnProperty,$={type:["number","string","boolean"]};function U(x,{instancePath:R="",rootData:N=x}={}){let M=null,P=0;if("number"!=typeof x&&"string"!=typeof x&&"boolean"!=typeof x){const L={instancePath:R,schemaPath:"#/type",keyword:"type",params:{type:$.type},message:"must be number,string,boolean",schema:$.type,parentSchema:$,data:x};null===M?M=[L]:M.push(L),P++}return U.errors=M,0===P}const K={type:["number","string"]};function y(x,{instancePath:R="",rootData:N=x}={}){let M=null,P=0;if("number"!=typeof x&&"string"!=typeof x){const L={instancePath:R,schemaPath:"#/type",keyword:"type",params:{type:K.type},message:"must be number,string",schema:K.type,parentSchema:K,data:x};null===M?M=[L]:M.push(L),P++}return y.errors=M,0===P}function T(x,{instancePath:R="",rootData:N=x}={}){let M=null,P=0;if(x&&"object"==typeof x&&!Array.isArray(x)){if(void 0===x.type){const L={instancePath:R,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:A.required,parentSchema:A,data:x};null===M?M=[L]:M.push(L),P++}for(const L in x)if(!O.call(A.properties,L)){const G={instancePath:R,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties",schema:!1,parentSchema:A,data:x};null===M?M=[G]:M.push(G),P++}if(void 0!==x.const&&(U(x.const,{instancePath:R+"/const",parentData:x,parentDataProperty:"const",rootData:N})||(M=null===M?U.errors:M.concat(U.errors),P=M.length)),void 0!==x.enum){let L=x.enum;if(Array.isArray(L)){const G=L.length;for(let B=0;B<G;B++)y(L[B],{instancePath:R+"/enum/"+B,parentData:L,parentDataProperty:B,rootData:N})||(M=null===M?y.errors:M.concat(y.errors),P=M.length)}else{const G={instancePath:R+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.enum.type,parentSchema:A.properties.enum,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.exclusiveMaximum&&(y(x.exclusiveMaximum,{instancePath:R+"/exclusiveMaximum",parentData:x,parentDataProperty:"exclusiveMaximum",rootData:N})||(M=null===M?y.errors:M.concat(y.errors),P=M.length)),void 0!==x.exclusiveMinimum&&(y(x.exclusiveMinimum,{instancePath:R+"/exclusiveMinimum",parentData:x,parentDataProperty:"exclusiveMinimum",rootData:N})||(M=null===M?y.errors:M.concat(y.errors),P=M.length)),void 0!==x.format){let L=x.format;if("string"!=typeof L){const G={instancePath:R+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.format.type,parentSchema:A.properties.format,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.maxLength){let L=x.maxLength;if("number"!=typeof L){const G={instancePath:R+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.maxLength.type,parentSchema:A.properties.maxLength,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.maximum&&(y(x.maximum,{instancePath:R+"/maximum",parentData:x,parentDataProperty:"maximum",rootData:N})||(M=null===M?y.errors:M.concat(y.errors),P=M.length)),void 0!==x.minLength){let L=x.minLength;if("number"!=typeof L){const G={instancePath:R+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.minLength.type,parentSchema:A.properties.minLength,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.minimum&&(y(x.minimum,{instancePath:R+"/minimum",parentData:x,parentDataProperty:"minimum",rootData:N})||(M=null===M?y.errors:M.concat(y.errors),P=M.length)),void 0!==x.not){let L=x.not;if(!L||"object"!=typeof L||Array.isArray(L)){const G={instancePath:R+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.not.type,parentSchema:A.properties.not,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.pattern){let L=x.pattern;if("string"!=typeof L){const G={instancePath:R+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.pattern.type,parentSchema:A.properties.pattern,data:L};null===M?M=[G]:M.push(G),P++}}if(void 0!==x.type){let L=x.type;if("string"!=typeof L){const G={instancePath:R+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.type.type,parentSchema:A.properties.type,data:L};null===M?M=[G]:M.push(G),P++}}}else{const L={instancePath:R,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:x};null===M?M=[L]:M.push(L),P++}return T.errors=M,0===P}function w(x,{instancePath:R="",parentData:k,parentDataProperty:v,rootData:N=x}={}){let M=null,P=0;return T(x,{instancePath:R,parentData:k,parentDataProperty:v,rootData:N})||(M=null===M?T.errors:M.concat(T.errors),P=M.length),w.errors=M,0===P}},61264:ye=>{"use strict";ye.exports=x,ye.exports.default=x;const A={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},contains:{$ref:"#/definitions/FilterV2"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},items:{anyOf:[{$ref:"#/definitions/FilterV2"},{items:{$ref:"#/definitions/FilterV2"},minItems:1,type:"array"}]},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},type:"object"},O=Object.prototype.hasOwnProperty,$={type:["number","string","boolean"]};function U(R,{instancePath:k="",rootData:M=R}={}){let P=null,L=0;if("number"!=typeof R&&"string"!=typeof R&&"boolean"!=typeof R){const G={instancePath:k,schemaPath:"#/type",keyword:"type",params:{type:$.type},message:"must be number,string,boolean",schema:$.type,parentSchema:$,data:R};null===P?P=[G]:P.push(G),L++}return U.errors=P,0===L}const K={type:["number","string"]};function y(R,{instancePath:k="",rootData:M=R}={}){let P=null,L=0;if("number"!=typeof R&&"string"!=typeof R){const G={instancePath:k,schemaPath:"#/type",keyword:"type",params:{type:K.type},message:"must be number,string",schema:K.type,parentSchema:K,data:R};null===P?P=[G]:P.push(G),L++}return y.errors=P,0===L}const T={validate:w};function w(R,{instancePath:k="",rootData:M=R}={}){let P=null,L=0;if(R&&"object"==typeof R&&!Array.isArray(R)){for(const B in R)if(!O.call(A.properties,B)){const q={instancePath:k,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties",schema:!1,parentSchema:A,data:R};null===P?P=[q]:P.push(q),L++}if(void 0!==R.const&&(U(R.const,{instancePath:k+"/const",parentData:R,parentDataProperty:"const",rootData:M})||(P=null===P?U.errors:P.concat(U.errors),L=P.length)),void 0!==R.contains&&(T.validate(R.contains,{instancePath:k+"/contains",parentData:R,parentDataProperty:"contains",rootData:M})||(P=null===P?T.validate.errors:P.concat(T.validate.errors),L=P.length)),void 0!==R.enum){let B=R.enum;if(Array.isArray(B)){const q=B.length;for(let X=0;X<q;X++)y(B[X],{instancePath:k+"/enum/"+X,parentData:B,parentDataProperty:X,rootData:M})||(P=null===P?y.errors:P.concat(y.errors),L=P.length)}else{const q={instancePath:k+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.enum.type,parentSchema:A.properties.enum,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.exclusiveMaximum&&(y(R.exclusiveMaximum,{instancePath:k+"/exclusiveMaximum",parentData:R,parentDataProperty:"exclusiveMaximum",rootData:M})||(P=null===P?y.errors:P.concat(y.errors),L=P.length)),void 0!==R.exclusiveMinimum&&(y(R.exclusiveMinimum,{instancePath:k+"/exclusiveMinimum",parentData:R,parentDataProperty:"exclusiveMinimum",rootData:M})||(P=null===P?y.errors:P.concat(y.errors),L=P.length)),void 0!==R.format){let B=R.format;if("string"!=typeof B){const q={instancePath:k+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.format.type,parentSchema:A.properties.format,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.formatExclusiveMaximum){let B=R.formatExclusiveMaximum;if("string"!=typeof B){const q={instancePath:k+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.formatExclusiveMaximum.type,parentSchema:A.properties.formatExclusiveMaximum,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.formatExclusiveMinimum){let B=R.formatExclusiveMinimum;if("string"!=typeof B){const q={instancePath:k+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.formatExclusiveMinimum.type,parentSchema:A.properties.formatExclusiveMinimum,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.formatMaximum){let B=R.formatMaximum;if("string"!=typeof B){const q={instancePath:k+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.formatMaximum.type,parentSchema:A.properties.formatMaximum,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.formatMinimum){let B=R.formatMinimum;if("string"!=typeof B){const q={instancePath:k+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.formatMinimum.type,parentSchema:A.properties.formatMinimum,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.items){let B=R.items;const q=L;let X=!1;const Q=L;T.validate(B,{instancePath:k+"/items",parentData:R,parentDataProperty:"items",rootData:M})||(P=null===P?T.validate.errors:P.concat(T.validate.errors),L=P.length);var G=Q===L;if(X=X||G,!X){const te=L;if(Array.isArray(B)){if(B.length<1){const me={instancePath:k+"/items",schemaPath:"#/properties/items/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.properties.items.anyOf[1],data:B};null===P?P=[me]:P.push(me),L++}const ae=B.length;for(let me=0;me<ae;me++)T.validate(B[me],{instancePath:k+"/items/"+me,parentData:B,parentDataProperty:me,rootData:M})||(P=null===P?T.validate.errors:P.concat(T.validate.errors),L=P.length)}else{const ae={instancePath:k+"/items",schemaPath:"#/properties/items/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.items.anyOf[1].type,parentSchema:A.properties.items.anyOf[1],data:B};null===P?P=[ae]:P.push(ae),L++}G=te===L,X=X||G}if(X)L=q,null!==P&&(q?P.length=q:P=null);else{const te={instancePath:k+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:A.properties.items.anyOf,parentSchema:A.properties.items,data:B};null===P?P=[te]:P.push(te),L++}}if(void 0!==R.maxLength){let B=R.maxLength;if("number"!=typeof B){const q={instancePath:k+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.maxLength.type,parentSchema:A.properties.maxLength,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.maximum&&(y(R.maximum,{instancePath:k+"/maximum",parentData:R,parentDataProperty:"maximum",rootData:M})||(P=null===P?y.errors:P.concat(y.errors),L=P.length)),void 0!==R.minLength){let B=R.minLength;if("number"!=typeof B){const q={instancePath:k+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.minLength.type,parentSchema:A.properties.minLength,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.minimum&&(y(R.minimum,{instancePath:k+"/minimum",parentData:R,parentDataProperty:"minimum",rootData:M})||(P=null===P?y.errors:P.concat(y.errors),L=P.length)),void 0!==R.not){let B=R.not;if(!B||"object"!=typeof B||Array.isArray(B)){const q={instancePath:k+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.not.type,parentSchema:A.properties.not,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.pattern){let B=R.pattern;if("string"!=typeof B){const q={instancePath:k+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.pattern.type,parentSchema:A.properties.pattern,data:B};null===P?P=[q]:P.push(q),L++}}if(void 0!==R.type){let B=R.type;if("string"!=typeof B){const q={instancePath:k+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.type.type,parentSchema:A.properties.type,data:B};null===P?P=[q]:P.push(q),L++}}}else{const B={instancePath:k,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:R};null===P?P=[B]:P.push(B),L++}return w.errors=P,0===L}function x(R,{instancePath:k="",parentData:v,parentDataProperty:N,rootData:M=R}={}){let P=null,L=0;return w(R,{instancePath:k,parentData:v,parentDataProperty:N,rootData:M})||(P=null===P?w.errors:P.concat(w.errors),L=P.length),x.errors=P,0===L}},86515:ye=>{"use strict";ye.exports=Q,ye.exports.default=Q;const I={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},A={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},O=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$","u"),$=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),U=new RegExp("^di_vc$|^di_vp$|^di$","u"),K=new RegExp("additionalProperties","u");function y(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){for(const d in te)if(!("vc+sd-jwt"===d||O.test(d)||$.test(d)||U.test(d)||K.test(d))){const f={instancePath:ie,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties",schema:!1,parentSchema:A,data:te};null===de?de=[f]:de.push(f),z++}if(void 0!==te["vc+sd-jwt"]){let d=te["vc+sd-jwt"];if(d&&"object"==typeof d&&!Array.isArray(d)){for(const f in d)if("sd-jwt_alg_values"!==f&&"kb-jwt_alg_values"!==f){const b={instancePath:ie+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties",schema:!1,parentSchema:A.properties["vc+sd-jwt"],data:d};null===de?de=[b]:de.push(b),z++}if(void 0!==d["sd-jwt_alg_values"]){let f=d["sd-jwt_alg_values"];if(Array.isArray(f)){if(f.length<1){const C={instancePath:ie+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:f};null===de?de=[C]:de.push(C),z++}const b=f.length;for(let C=0;C<b;C++){let D=f[C];if("string"!=typeof D){const V={instancePath:ie+"/vc+sd-jwt/sd-jwt_alg_values/"+C,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:A.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:D};null===de?de=[V]:de.push(V),z++}}}else{const b={instancePath:ie+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:A.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d["kb-jwt_alg_values"]){let f=d["kb-jwt_alg_values"];if(Array.isArray(f)){if(f.length<1){const C={instancePath:ie+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:f};null===de?de=[C]:de.push(C),z++}const b=f.length;for(let C=0;C<b;C++){let D=f[C];if("string"!=typeof D){const V={instancePath:ie+"/vc+sd-jwt/kb-jwt_alg_values/"+C,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:A.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:D};null===de?de=[V]:de.push(V),z++}}}else{const b={instancePath:ie+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:A.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:f};null===de?de=[b]:de.push(b),z++}}}else{const f={instancePath:ie+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties["vc+sd-jwt"].type,parentSchema:A.properties["vc+sd-jwt"],data:d};null===de?de=[f]:de.push(f),z++}}for(const d in te)if(O.test(d)){let f=te[d];if(f&&"object"==typeof f&&!Array.isArray(f)){if(void 0===f.alg){const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].required,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:f};null===de?de=[b]:de.push(b),z++}for(const b in f)if("alg"!==b){const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties",schema:!1,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:f};null===de?de=[C]:de.push(C),z++}if(void 0!==f.alg){let b=f.alg;if(Array.isArray(b)){if(b.length<1){const D={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:b};null===de?de=[D]:de.push(D),z++}const C=b.length;for(let D=0;D<C;D++){let V=b[D];if("string"!=typeof V){const Y={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+D,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items.type,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.type,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:b};null===de?de=[C]:de.push(C),z++}}}else{const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].type,parentSchema:A.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:f};null===de?de=[b]:de.push(b),z++}}for(const d in te)if($.test(d)){let f=te[d];if(f&&"object"==typeof f&&!Array.isArray(f)){if(void 0===f.proof_type){const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:f};null===de?de=[b]:de.push(b),z++}for(const b in f)if("proof_type"!==b){const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties",schema:!1,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:f};null===de?de=[C]:de.push(C),z++}if(void 0!==f.proof_type){let b=f.proof_type;if(Array.isArray(b)){if(b.length<1){const D={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:b};null===de?de=[D]:de.push(D),z++}const C=b.length;for(let D=0;D<C;D++){let V=b[D];if("string"!=typeof V){const Y={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+D,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:b};null===de?de=[C]:de.push(C),z++}}}else{const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:A.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:f};null===de?de=[b]:de.push(b),z++}}for(const d in te)if(U.test(d)){let f=te[d];if(f&&"object"==typeof f&&!Array.isArray(f)){if(void 0===f.proof_type){const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"],data:f};null===de?de=[b]:de.push(b),z++}if(void 0===f.cryptosuite){const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"],data:f};null===de?de=[b]:de.push(b),z++}for(const b in f)if("proof_type"!==b&&"cryptosuite"!==b){const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties",schema:!1,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"],data:f};null===de?de=[C]:de.push(C),z++}if(void 0!==f.proof_type){let b=f.proof_type;if(Array.isArray(b)){if(b.length<1){const D={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:b};null===de?de=[D]:de.push(D),z++}const C=b.length;for(let D=0;D<C;D++){let V=b[D];if("string"!=typeof V){const Y={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+D,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:b};null===de?de=[C]:de.push(C),z++}}if(void 0!==f.cryptosuite){let b=f.cryptosuite;if(Array.isArray(b)){if(b.length<1){const D={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:b};null===de?de=[D]:de.push(D),z++}const C=b.length;for(let D=0;D<C;D++){let V=b[D];if("string"!=typeof V){const Y={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+D,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const C={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:b};null===de?de=[C]:de.push(C),z++}}}else{const b={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:A.patternProperties["^di_vc$|^di_vp$|^di$"],data:f};null===de?de=[b]:de.push(b),z++}}for(const d in te)if(K.test(d)){const f={instancePath:ie+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:A.patternProperties.additionalProperties,data:te[d]};null===de?de=[f]:de.push(f),z++}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:te};null===de?de=[d]:de.push(d),z++}return y.errors=de,0===z}const T={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},w={validate:x};function x(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(!te||"object"!=typeof te||Array.isArray(te)){const Y={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:T.type,parentSchema:T,data:te};null===de?de=[Y]:de.push(Y),z++}const d=z;let f=!1,b=null;const C=z;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.rule){const Y={instancePath:ie,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:T.oneOf[0].required,parentSchema:T.oneOf[0],data:te};null===de?de=[Y]:de.push(Y),z++}if(void 0===te.from){const Y={instancePath:ie,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:T.oneOf[0].required,parentSchema:T.oneOf[0],data:te};null===de?de=[Y]:de.push(Y),z++}for(const Y in te)if("name"!==Y&&"purpose"!==Y&&"rule"!==Y&&"count"!==Y&&"min"!==Y&&"max"!==Y&&"from"!==Y){const F={instancePath:ie,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:T.oneOf[0],data:te};null===de?de=[F]:de.push(F),z++}if(void 0!==te.name){let Y=te.name;if("string"!=typeof Y){const F={instancePath:ie+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[0].properties.name.type,parentSchema:T.oneOf[0].properties.name,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.purpose){let Y=te.purpose;if("string"!=typeof Y){const F={instancePath:ie+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[0].properties.purpose.type,parentSchema:T.oneOf[0].properties.purpose,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.rule){let Y=te.rule;if("string"!=typeof Y){const F={instancePath:ie+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[0].properties.rule.type,parentSchema:T.oneOf[0].properties.rule,data:Y};null===de?de=[F]:de.push(F),z++}if("all"!==Y&&"pick"!==Y){const F={instancePath:ie+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:T.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:T.oneOf[0].properties.rule.enum,parentSchema:T.oneOf[0].properties.rule,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.count){let Y=te.count;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[0].properties.count.type,parentSchema:T.oneOf[0].properties.count,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<1||isNaN(Y))){const F={instancePath:ie+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:T.oneOf[0].properties.count,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.min){let Y=te.min;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[0].properties.min.type,parentSchema:T.oneOf[0].properties.min,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<0||isNaN(Y))){const F={instancePath:ie+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:T.oneOf[0].properties.min,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.max){let Y=te.max;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[0].properties.max.type,parentSchema:T.oneOf[0].properties.max,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<0||isNaN(Y))){const F={instancePath:ie+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:T.oneOf[0].properties.max,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.from){let Y=te.from;if("string"!=typeof Y){const F={instancePath:ie+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[0].properties.from.type,parentSchema:T.oneOf[0].properties.from,data:Y};null===de?de=[F]:de.push(F),z++}}}C===z&&(f=!0,b=0);const D=z;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.rule){const Y={instancePath:ie,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:T.oneOf[1].required,parentSchema:T.oneOf[1],data:te};null===de?de=[Y]:de.push(Y),z++}if(void 0===te.from_nested){const Y={instancePath:ie,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:T.oneOf[1].required,parentSchema:T.oneOf[1],data:te};null===de?de=[Y]:de.push(Y),z++}for(const Y in te)if("name"!==Y&&"purpose"!==Y&&"rule"!==Y&&"count"!==Y&&"min"!==Y&&"max"!==Y&&"from_nested"!==Y){const F={instancePath:ie,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:T.oneOf[1],data:te};null===de?de=[F]:de.push(F),z++}if(void 0!==te.name){let Y=te.name;if("string"!=typeof Y){const F={instancePath:ie+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[1].properties.name.type,parentSchema:T.oneOf[1].properties.name,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.purpose){let Y=te.purpose;if("string"!=typeof Y){const F={instancePath:ie+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[1].properties.purpose.type,parentSchema:T.oneOf[1].properties.purpose,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.rule){let Y=te.rule;if("string"!=typeof Y){const F={instancePath:ie+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:T.oneOf[1].properties.rule.type,parentSchema:T.oneOf[1].properties.rule,data:Y};null===de?de=[F]:de.push(F),z++}if("all"!==Y&&"pick"!==Y){const F={instancePath:ie+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:T.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:T.oneOf[1].properties.rule.enum,parentSchema:T.oneOf[1].properties.rule,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.count){let Y=te.count;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[1].properties.count.type,parentSchema:T.oneOf[1].properties.count,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<1||isNaN(Y))){const F={instancePath:ie+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:T.oneOf[1].properties.count,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.min){let Y=te.min;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[1].properties.min.type,parentSchema:T.oneOf[1].properties.min,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<0||isNaN(Y))){const F={instancePath:ie+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:T.oneOf[1].properties.min,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.max){let Y=te.max;if("number"!=typeof Y||Y%1||isNaN(Y)){const F={instancePath:ie+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.oneOf[1].properties.max.type,parentSchema:T.oneOf[1].properties.max,data:Y};null===de?de=[F]:de.push(F),z++}if("number"==typeof Y&&(Y<0||isNaN(Y))){const F={instancePath:ie+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:T.oneOf[1].properties.max,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.from_nested){let Y=te.from_nested;if(Array.isArray(Y)){if(Y.length<1){const h={instancePath:ie+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:T.oneOf[1].properties.from_nested,data:Y};null===de?de=[h]:de.push(h),z++}const F=Y.length;for(let h=0;h<F;h++)w.validate(Y[h],{instancePath:ie+"/from_nested/"+h,parentData:Y,parentDataProperty:h,rootData:ge})||(de=null===de?w.validate.errors:de.concat(w.validate.errors),z=de.length)}else{const F={instancePath:ie+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:T.oneOf[1].properties.from_nested.type,parentSchema:T.oneOf[1].properties.from_nested,data:Y};null===de?de=[F]:de.push(F),z++}}}var V;if((V=D===z)&&f?(f=!1,b=[b,1]):V&&(f=!0,b=1),f)z=d,null!==de&&(d?de.length=d:de=null);else{const Y={instancePath:ie,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:b},message:"must match exactly one schema in oneOf",schema:T.oneOf,parentSchema:T,data:te};null===de?de=[Y]:de.push(Y),z++}return x.errors=de,0===z}const R={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},k={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function v(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.uri){const d={instancePath:ie,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:k.required,parentSchema:k,data:te};null===de?de=[d]:de.push(d),z++}for(const d in te)if("uri"!==d&&"required"!==d){const f={instancePath:ie,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties",schema:!1,parentSchema:k,data:te};null===de?de=[f]:de.push(f),z++}if(void 0!==te.uri){let d=te.uri;if("string"!=typeof d){const f={instancePath:ie+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:k.properties.uri.type,parentSchema:k.properties.uri,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.required){let d=te.required;if("boolean"!=typeof d){const f={instancePath:ie+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:k.properties.required.type,parentSchema:k.properties.required,data:d};null===de?de=[f]:de.push(f),z++}}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:k.type,parentSchema:k,data:te};null===de?de=[d]:de.push(d),z++}return v.errors=de,0===z}const N={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function M(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0!==te.manifest){let d=te.manifest;if("string"!=typeof d){const f={instancePath:ie+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:N.properties.manifest.type,parentSchema:N.properties.manifest,data:d};null===de?de=[f]:de.push(f),z++}}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:N.type,parentSchema:N,data:te};null===de?de=[d]:de.push(d),z++}return M.errors=de,0===z}const P={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},L={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},G=Object.prototype.hasOwnProperty;function B(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.type){const d={instancePath:ie,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:L.required,parentSchema:L,data:te};null===de?de=[d]:de.push(d),z++}for(const d in te)if(!G.call(L.properties,d)){const f={instancePath:ie,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties",schema:!1,parentSchema:L,data:te};null===de?de=[f]:de.push(f),z++}if(void 0!==te.type){let d=te.type;if("string"!=typeof d){const f={instancePath:ie+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.type.type,parentSchema:L.properties.type,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.format){let d=te.format;if("string"!=typeof d){const f={instancePath:ie+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.format.type,parentSchema:L.properties.format,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.pattern){let d=te.pattern;if("string"!=typeof d){const f={instancePath:ie+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.pattern.type,parentSchema:L.properties.pattern,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.minimum){let d=te.minimum;if("number"!=typeof d&&"string"!=typeof d){const f={instancePath:ie+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:L.properties.minimum.type},message:"must be number,string",schema:L.properties.minimum.type,parentSchema:L.properties.minimum,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.minLength){let d=te.minLength;if("number"!=typeof d||d%1||isNaN(d)){const f={instancePath:ie+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:L.properties.minLength.type,parentSchema:L.properties.minLength,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.maxLength){let d=te.maxLength;if("number"!=typeof d||d%1||isNaN(d)){const f={instancePath:ie+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:L.properties.maxLength.type,parentSchema:L.properties.maxLength,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.exclusiveMinimum){let d=te.exclusiveMinimum;if("number"!=typeof d&&"string"!=typeof d){const f={instancePath:ie+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:L.properties.exclusiveMinimum.type},message:"must be number,string",schema:L.properties.exclusiveMinimum.type,parentSchema:L.properties.exclusiveMinimum,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.exclusiveMaximum){let d=te.exclusiveMaximum;if("number"!=typeof d&&"string"!=typeof d){const f={instancePath:ie+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:L.properties.exclusiveMaximum.type},message:"must be number,string",schema:L.properties.exclusiveMaximum.type,parentSchema:L.properties.exclusiveMaximum,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.maximum){let d=te.maximum;if("number"!=typeof d&&"string"!=typeof d){const f={instancePath:ie+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:L.properties.maximum.type},message:"must be number,string",schema:L.properties.maximum.type,parentSchema:L.properties.maximum,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.const){let d=te.const;if("number"!=typeof d&&"string"!=typeof d){const f={instancePath:ie+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:L.properties.const.type},message:"must be number,string",schema:L.properties.const.type,parentSchema:L.properties.const,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.enum){let d=te.enum;if(Array.isArray(d)){const f=d.length;for(let b=0;b<f;b++){let C=d[b];if("number"!=typeof C&&"string"!=typeof C){const D={instancePath:ie+"/enum/"+b,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:L.properties.enum.items.type},message:"must be number,string",schema:L.properties.enum.items.type,parentSchema:L.properties.enum.items,data:C};null===de?de=[D]:de.push(D),z++}}}else{const f={instancePath:ie+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:L.properties.enum.type,parentSchema:L.properties.enum,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.not){let d=te.not;if(d&&"object"==typeof d&&!Array.isArray(d)){if(Object.keys(d).length<1){const f={instancePath:ie+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:L.properties.not,data:d};null===de?de=[f]:de.push(f),z++}}else{const f={instancePath:ie+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.properties.not.type,parentSchema:L.properties.not,data:d};null===de?de=[f]:de.push(f),z++}}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.type,parentSchema:L,data:te};null===de?de=[d]:de.push(d),z++}return B.errors=de,0===z}function q(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(!te||"object"!=typeof te||Array.isArray(te)){const Y={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:P.type,parentSchema:P,data:te};null===de?de=[Y]:de.push(Y),z++}const d=z;let f=!1,b=null;const C=z;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.path){const Y={instancePath:ie,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:P.oneOf[0].required,parentSchema:P.oneOf[0],data:te};null===de?de=[Y]:de.push(Y),z++}for(const Y in te)if("id"!==Y&&"path"!==Y&&"purpose"!==Y&&"filter"!==Y){const F={instancePath:ie,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:P.oneOf[0],data:te};null===de?de=[F]:de.push(F),z++}if(void 0!==te.id){let Y=te.id;if("string"!=typeof Y){const F={instancePath:ie+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.id.type,parentSchema:P.oneOf[0].properties.id,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.path){let Y=te.path;if(Array.isArray(Y)){const F=Y.length;for(let h=0;h<F;h++){let g=Y[h];if("string"!=typeof g){const J={instancePath:ie+"/path/"+h,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.path.items.type,parentSchema:P.oneOf[0].properties.path.items,data:g};null===de?de=[J]:de.push(J),z++}}}else{const F={instancePath:ie+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:P.oneOf[0].properties.path.type,parentSchema:P.oneOf[0].properties.path,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.purpose){let Y=te.purpose;if("string"!=typeof Y){const F={instancePath:ie+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.purpose.type,parentSchema:P.oneOf[0].properties.purpose,data:Y};null===de?de=[F]:de.push(F),z++}}void 0!==te.filter&&(B(te.filter,{instancePath:ie+"/filter",parentData:te,parentDataProperty:"filter",rootData:ge})||(de=null===de?B.errors:de.concat(B.errors),z=de.length))}C===z&&(f=!0,b=0);const D=z;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.path){const Y={instancePath:ie,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:te};null===de?de=[Y]:de.push(Y),z++}if(void 0===te.filter){const Y={instancePath:ie,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:te};null===de?de=[Y]:de.push(Y),z++}if(void 0===te.predicate){const Y={instancePath:ie,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:te};null===de?de=[Y]:de.push(Y),z++}for(const Y in te)if("id"!==Y&&"path"!==Y&&"purpose"!==Y&&"filter"!==Y&&"predicate"!==Y){const F={instancePath:ie,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:P.oneOf[1],data:te};null===de?de=[F]:de.push(F),z++}if(void 0!==te.id){let Y=te.id;if("string"!=typeof Y){const F={instancePath:ie+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.id.type,parentSchema:P.oneOf[1].properties.id,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.path){let Y=te.path;if(Array.isArray(Y)){const F=Y.length;for(let h=0;h<F;h++){let g=Y[h];if("string"!=typeof g){const J={instancePath:ie+"/path/"+h,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.path.items.type,parentSchema:P.oneOf[1].properties.path.items,data:g};null===de?de=[J]:de.push(J),z++}}}else{const F={instancePath:ie+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:P.oneOf[1].properties.path.type,parentSchema:P.oneOf[1].properties.path,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.purpose){let Y=te.purpose;if("string"!=typeof Y){const F={instancePath:ie+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.purpose.type,parentSchema:P.oneOf[1].properties.purpose,data:Y};null===de?de=[F]:de.push(F),z++}}if(void 0!==te.filter&&(B(te.filter,{instancePath:ie+"/filter",parentData:te,parentDataProperty:"filter",rootData:ge})||(de=null===de?B.errors:de.concat(B.errors),z=de.length)),void 0!==te.predicate){let Y=te.predicate;if("string"!=typeof Y){const F={instancePath:ie+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.predicate.type,parentSchema:P.oneOf[1].properties.predicate,data:Y};null===de?de=[F]:de.push(F),z++}if("required"!==Y&&"preferred"!==Y){const F={instancePath:ie+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:P.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:P.oneOf[1].properties.predicate.enum,parentSchema:P.oneOf[1].properties.predicate,data:Y};null===de?de=[F]:de.push(F),z++}}}var V;if((V=D===z)&&f?(f=!1,b=[b,1]):V&&(f=!0,b=1),f)z=d,null!==de&&(d?de.length=d:de=null);else{const Y={instancePath:ie,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:b},message:"must match exactly one schema in oneOf",schema:P.oneOf,parentSchema:P,data:te};null===de?de=[Y]:de.push(Y),z++}return q.errors=de,0===z}function X(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.id){const d={instancePath:ie,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:R.required,parentSchema:R,data:te};null===de?de=[d]:de.push(d),z++}if(void 0===te.schema){const d={instancePath:ie,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:R.required,parentSchema:R,data:te};null===de?de=[d]:de.push(d),z++}for(const d in te)if("id"!==d&&"name"!==d&&"purpose"!==d&&"group"!==d&&"schema"!==d&&"issuance"!==d&&"constraints"!==d){const f={instancePath:ie,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties",schema:!1,parentSchema:R,data:te};null===de?de=[f]:de.push(f),z++}if(void 0!==te.id){let d=te.id;if("string"!=typeof d){const f={instancePath:ie+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.id.type,parentSchema:R.properties.id,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.name){let d=te.name;if("string"!=typeof d){const f={instancePath:ie+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.name.type,parentSchema:R.properties.name,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.purpose){let d=te.purpose;if("string"!=typeof d){const f={instancePath:ie+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.purpose.type,parentSchema:R.properties.purpose,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.group){let d=te.group;if(Array.isArray(d)){const f=d.length;for(let b=0;b<f;b++){let C=d[b];if("string"!=typeof C){const D={instancePath:ie+"/group/"+b,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.group.items.type,parentSchema:R.properties.group.items,data:C};null===de?de=[D]:de.push(D),z++}}}else{const f={instancePath:ie+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.group.type,parentSchema:R.properties.group,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.schema){let d=te.schema;if(Array.isArray(d)){const f=d.length;for(let b=0;b<f;b++)v(d[b],{instancePath:ie+"/schema/"+b,parentData:d,parentDataProperty:b,rootData:ge})||(de=null===de?v.errors:de.concat(v.errors),z=de.length)}else{const f={instancePath:ie+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.schema.type,parentSchema:R.properties.schema,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.issuance){let d=te.issuance;if(Array.isArray(d)){const f=d.length;for(let b=0;b<f;b++)M(d[b],{instancePath:ie+"/issuance/"+b,parentData:d,parentDataProperty:b,rootData:ge})||(de=null===de?M.errors:de.concat(M.errors),z=de.length)}else{const f={instancePath:ie+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.issuance.type,parentSchema:R.properties.issuance,data:d};null===de?de=[f]:de.push(f),z++}}if(void 0!==te.constraints){let d=te.constraints;if(d&&"object"==typeof d&&!Array.isArray(d)){for(const f in d)if("limit_disclosure"!==f&&"statuses"!==f&&"fields"!==f&&"subject_is_issuer"!==f&&"is_holder"!==f&&"same_subject"!==f){const b={instancePath:ie+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties",schema:!1,parentSchema:R.properties.constraints,data:d};null===de?de=[b]:de.push(b),z++}if(void 0!==d.limit_disclosure){let f=d.limit_disclosure;if("string"!=typeof f){const b={instancePath:ie+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.limit_disclosure.type,parentSchema:R.properties.constraints.properties.limit_disclosure,data:f};null===de?de=[b]:de.push(b),z++}if("required"!==f&&"preferred"!==f){const b={instancePath:ie+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.limit_disclosure.enum,parentSchema:R.properties.constraints.properties.limit_disclosure,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.statuses){let f=d.statuses;if(f&&"object"==typeof f&&!Array.isArray(f)){if(void 0!==f.active){let b=f.active;if(b&&"object"==typeof b&&!Array.isArray(b)){if(void 0!==b.directive){let C=b.directive;if("string"!=typeof C){const D={instancePath:ie+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:R.properties.constraints.properties.statuses.properties.active.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}if("required"!==C&&"allowed"!==C&&"disallowed"!==C){const D={instancePath:ie+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:R.properties.constraints.properties.statuses.properties.active.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}}}else{const C={instancePath:ie+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.statuses.properties.active.type,parentSchema:R.properties.constraints.properties.statuses.properties.active,data:b};null===de?de=[C]:de.push(C),z++}}if(void 0!==f.suspended){let b=f.suspended;if(b&&"object"==typeof b&&!Array.isArray(b)){if(void 0!==b.directive){let C=b.directive;if("string"!=typeof C){const D={instancePath:ie+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:R.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}if("required"!==C&&"allowed"!==C&&"disallowed"!==C){const D={instancePath:ie+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:R.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}}}else{const C={instancePath:ie+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:R.properties.constraints.properties.statuses.properties.suspended,data:b};null===de?de=[C]:de.push(C),z++}}if(void 0!==f.revoked){let b=f.revoked;if(b&&"object"==typeof b&&!Array.isArray(b)){if(void 0!==b.directive){let C=b.directive;if("string"!=typeof C){const D={instancePath:ie+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:R.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}if("required"!==C&&"allowed"!==C&&"disallowed"!==C){const D={instancePath:ie+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:R.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:C};null===de?de=[D]:de.push(D),z++}}}else{const C={instancePath:ie+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:R.properties.constraints.properties.statuses.properties.revoked,data:b};null===de?de=[C]:de.push(C),z++}}}else{const b={instancePath:ie+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.statuses.type,parentSchema:R.properties.constraints.properties.statuses,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.fields){let f=d.fields;if(Array.isArray(f)){const b=f.length;for(let C=0;C<b;C++)q(f[C],{instancePath:ie+"/constraints/fields/"+C,parentData:f,parentDataProperty:C,rootData:ge})||(de=null===de?q.errors:de.concat(q.errors),z=de.length)}else{const b={instancePath:ie+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.constraints.properties.fields.type,parentSchema:R.properties.constraints.properties.fields,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.subject_is_issuer){let f=d.subject_is_issuer;if("string"!=typeof f){const b={instancePath:ie+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.subject_is_issuer.type,parentSchema:R.properties.constraints.properties.subject_is_issuer,data:f};null===de?de=[b]:de.push(b),z++}if("required"!==f&&"preferred"!==f){const b={instancePath:ie+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.subject_is_issuer.enum,parentSchema:R.properties.constraints.properties.subject_is_issuer,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.is_holder){let f=d.is_holder;if(Array.isArray(f)){const b=f.length;for(let C=0;C<b;C++){let D=f[C];if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.field_id){const V={instancePath:ie+"/constraints/is_holder/"+C,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:R.properties.constraints.properties.is_holder.items.required,parentSchema:R.properties.constraints.properties.is_holder.items,data:D};null===de?de=[V]:de.push(V),z++}if(void 0===D.directive){const V={instancePath:ie+"/constraints/is_holder/"+C,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:R.properties.constraints.properties.is_holder.items.required,parentSchema:R.properties.constraints.properties.is_holder.items,data:D};null===de?de=[V]:de.push(V),z++}for(const V in D)if("field_id"!==V&&"directive"!==V){const Y={instancePath:ie+"/constraints/is_holder/"+C,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties",schema:!1,parentSchema:R.properties.constraints.properties.is_holder.items,data:D};null===de?de=[Y]:de.push(Y),z++}if(void 0!==D.field_id){let V=D.field_id;if(Array.isArray(V)){const Y=V.length;for(let F=0;F<Y;F++){let h=V[F];if("string"!=typeof h){const g={instancePath:ie+"/constraints/is_holder/"+C+"/field_id/"+F,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:R.properties.constraints.properties.is_holder.items.properties.field_id.items,data:h};null===de?de=[g]:de.push(g),z++}}}else{const Y={instancePath:ie+"/constraints/is_holder/"+C+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:R.properties.constraints.properties.is_holder.items.properties.field_id,data:V};null===de?de=[Y]:de.push(Y),z++}}if(void 0!==D.directive){let V=D.directive;if("string"!=typeof V){const Y={instancePath:ie+"/constraints/is_holder/"+C+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:R.properties.constraints.properties.is_holder.items.properties.directive,data:V};null===de?de=[Y]:de.push(Y),z++}if("required"!==V&&"preferred"!==V){const Y={instancePath:ie+"/constraints/is_holder/"+C+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:R.properties.constraints.properties.is_holder.items.properties.directive,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const V={instancePath:ie+"/constraints/is_holder/"+C,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.is_holder.items.type,parentSchema:R.properties.constraints.properties.is_holder.items,data:D};null===de?de=[V]:de.push(V),z++}}}else{const b={instancePath:ie+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.constraints.properties.is_holder.type,parentSchema:R.properties.constraints.properties.is_holder,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.same_subject){let f=d.same_subject;if(Array.isArray(f)){const b=f.length;for(let C=0;C<b;C++){let D=f[C];if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.field_id){const V={instancePath:ie+"/constraints/same_subject/"+C,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:R.properties.constraints.properties.same_subject.items.required,parentSchema:R.properties.constraints.properties.same_subject.items,data:D};null===de?de=[V]:de.push(V),z++}if(void 0===D.directive){const V={instancePath:ie+"/constraints/same_subject/"+C,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:R.properties.constraints.properties.same_subject.items.required,parentSchema:R.properties.constraints.properties.same_subject.items,data:D};null===de?de=[V]:de.push(V),z++}for(const V in D)if("field_id"!==V&&"directive"!==V){const Y={instancePath:ie+"/constraints/same_subject/"+C,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties",schema:!1,parentSchema:R.properties.constraints.properties.same_subject.items,data:D};null===de?de=[Y]:de.push(Y),z++}if(void 0!==D.field_id){let V=D.field_id;if(Array.isArray(V)){const Y=V.length;for(let F=0;F<Y;F++){let h=V[F];if("string"!=typeof h){const g={instancePath:ie+"/constraints/same_subject/"+C+"/field_id/"+F,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:R.properties.constraints.properties.same_subject.items.properties.field_id.items,data:h};null===de?de=[g]:de.push(g),z++}}}else{const Y={instancePath:ie+"/constraints/same_subject/"+C+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:R.properties.constraints.properties.same_subject.items.properties.field_id,data:V};null===de?de=[Y]:de.push(Y),z++}}if(void 0!==D.directive){let V=D.directive;if("string"!=typeof V){const Y={instancePath:ie+"/constraints/same_subject/"+C+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:R.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:R.properties.constraints.properties.same_subject.items.properties.directive,data:V};null===de?de=[Y]:de.push(Y),z++}if("required"!==V&&"preferred"!==V){const Y={instancePath:ie+"/constraints/same_subject/"+C+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:R.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:R.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:R.properties.constraints.properties.same_subject.items.properties.directive,data:V};null===de?de=[Y]:de.push(Y),z++}}}else{const V={instancePath:ie+"/constraints/same_subject/"+C,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.properties.same_subject.items.type,parentSchema:R.properties.constraints.properties.same_subject.items,data:D};null===de?de=[V]:de.push(V),z++}}}else{const b={instancePath:ie+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:R.properties.constraints.properties.same_subject.type,parentSchema:R.properties.constraints.properties.same_subject,data:f};null===de?de=[b]:de.push(b),z++}}}else{const f={instancePath:ie+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.properties.constraints.type,parentSchema:R.properties.constraints,data:d};null===de?de=[f]:de.push(f),z++}}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:R.type,parentSchema:R,data:te};null===de?de=[d]:de.push(d),z++}return X.errors=de,0===z}function Q(te,{instancePath:ie="",rootData:ge=te}={}){let de=null,z=0;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0!==te.presentation_definition){let d=te.presentation_definition;if(d&&"object"==typeof d&&!Array.isArray(d)){if(void 0===d.id){const f={instancePath:ie+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:I.properties.presentation_definition.required,parentSchema:I.properties.presentation_definition,data:d};null===de?de=[f]:de.push(f),z++}if(void 0===d.input_descriptors){const f={instancePath:ie+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:I.properties.presentation_definition.required,parentSchema:I.properties.presentation_definition,data:d};null===de?de=[f]:de.push(f),z++}for(const f in d)if("id"!==f&&"name"!==f&&"purpose"!==f&&"format"!==f&&"submission_requirements"!==f&&"input_descriptors"!==f){const b={instancePath:ie+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties",schema:!1,parentSchema:I.properties.presentation_definition,data:d};null===de?de=[b]:de.push(b),z++}if(void 0!==d.id){let f=d.id;if("string"!=typeof f){const b={instancePath:ie+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:I.properties.presentation_definition.properties.id.type,parentSchema:I.properties.presentation_definition.properties.id,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.name){let f=d.name;if("string"!=typeof f){const b={instancePath:ie+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:I.properties.presentation_definition.properties.name.type,parentSchema:I.properties.presentation_definition.properties.name,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.purpose){let f=d.purpose;if("string"!=typeof f){const b={instancePath:ie+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:I.properties.presentation_definition.properties.purpose.type,parentSchema:I.properties.presentation_definition.properties.purpose,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.format&&(y(d.format,{instancePath:ie+"/presentation_definition/format",parentData:d,parentDataProperty:"format",rootData:ge})||(de=null===de?y.errors:de.concat(y.errors),z=de.length)),void 0!==d.submission_requirements){let f=d.submission_requirements;if(Array.isArray(f)){const b=f.length;for(let C=0;C<b;C++)x(f[C],{instancePath:ie+"/presentation_definition/submission_requirements/"+C,parentData:f,parentDataProperty:C,rootData:ge})||(de=null===de?x.errors:de.concat(x.errors),z=de.length)}else{const b={instancePath:ie+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:I.properties.presentation_definition.properties.submission_requirements.type,parentSchema:I.properties.presentation_definition.properties.submission_requirements,data:f};null===de?de=[b]:de.push(b),z++}}if(void 0!==d.input_descriptors){let f=d.input_descriptors;if(Array.isArray(f)){const b=f.length;for(let C=0;C<b;C++)X(f[C],{instancePath:ie+"/presentation_definition/input_descriptors/"+C,parentData:f,parentDataProperty:C,rootData:ge})||(de=null===de?X.errors:de.concat(X.errors),z=de.length)}else{const b={instancePath:ie+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:I.properties.presentation_definition.properties.input_descriptors.type,parentSchema:I.properties.presentation_definition.properties.input_descriptors,data:f};null===de?de=[b]:de.push(b),z++}}}else{const f={instancePath:ie+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:I.properties.presentation_definition.type,parentSchema:I.properties.presentation_definition,data:d};null===de?de=[f]:de.push(f),z++}}}else{const d={instancePath:ie,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:I.type,parentSchema:I,data:te};null===de?de=[d]:de.push(d),z++}return Q.errors=de,0===z}},93046:(ye,I,A)=>{"use strict";ye.exports=C,ye.exports.default=C;const O={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},$={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},U=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$","u"),K=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),y=new RegExp("^di_vc$|^di_vp$|^di$","u"),T=new RegExp("additionalProperties","u");function w(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(D&&"object"==typeof D&&!Array.isArray(D)){for(const ee in D)if(!("vc+sd-jwt"===ee||U.test(ee)||K.test(ee)||y.test(ee)||T.test(ee))){const re={instancePath:V,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ee},message:"must NOT have additional properties",schema:!1,parentSchema:$,data:D};null===g?g=[re]:g.push(re),J++}if(void 0!==D["vc+sd-jwt"]){let ee=D["vc+sd-jwt"];if(ee&&"object"==typeof ee&&!Array.isArray(ee)){for(const re in ee)if("sd-jwt_alg_values"!==re&&"kb-jwt_alg_values"!==re){const fe={instancePath:V+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:$.properties["vc+sd-jwt"],data:ee};null===g?g=[fe]:g.push(fe),J++}if(void 0!==ee["sd-jwt_alg_values"]){let re=ee["sd-jwt_alg_values"];if(Array.isArray(re)){if(re.length<1){const Ae={instancePath:V+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:re};null===g?g=[Ae]:g.push(Ae),J++}const fe=re.length;for(let Ae=0;Ae<fe;Ae++){let Me=re[Ae];if("string"!=typeof Me){const Le={instancePath:V+"/vc+sd-jwt/sd-jwt_alg_values/"+Ae,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:$.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:Me};null===g?g=[Le]:g.push(Le),J++}}}else{const fe={instancePath:V+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:$.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee["kb-jwt_alg_values"]){let re=ee["kb-jwt_alg_values"];if(Array.isArray(re)){if(re.length<1){const Ae={instancePath:V+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:re};null===g?g=[Ae]:g.push(Ae),J++}const fe=re.length;for(let Ae=0;Ae<fe;Ae++){let Me=re[Ae];if("string"!=typeof Me){const Le={instancePath:V+"/vc+sd-jwt/kb-jwt_alg_values/"+Ae,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:$.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:Me};null===g?g=[Le]:g.push(Le),J++}}}else{const fe={instancePath:V+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:$.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:re};null===g?g=[fe]:g.push(fe),J++}}}else{const re={instancePath:V+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:$.properties["vc+sd-jwt"].type,parentSchema:$.properties["vc+sd-jwt"],data:ee};null===g?g=[re]:g.push(re),J++}}for(const ee in D)if(U.test(ee)){let re=D[ee];if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.alg){const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].required,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:re};null===g?g=[fe]:g.push(fe),J++}for(const fe in re)if("alg"!==fe){const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:re};null===g?g=[Ae]:g.push(Ae),J++}if(void 0!==re.alg){let fe=re.alg;if(Array.isArray(fe)){if(fe.length<1){const Me={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:fe};null===g?g=[Me]:g.push(Me),J++}const Ae=fe.length;for(let Me=0;Me<Ae;Me++){let Le=fe[Me];if("string"!=typeof Le){const Ee={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+Me,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items.type,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.type,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}}else{const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].type,parentSchema:$.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:re};null===g?g=[fe]:g.push(fe),J++}}for(const ee in D)if(K.test(ee)){let re=D[ee];if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.proof_type){const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:re};null===g?g=[fe]:g.push(fe),J++}for(const fe in re)if("proof_type"!==fe){const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:re};null===g?g=[Ae]:g.push(Ae),J++}if(void 0!==re.proof_type){let fe=re.proof_type;if(Array.isArray(fe)){if(fe.length<1){const Me={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:fe};null===g?g=[Me]:g.push(Me),J++}const Ae=fe.length;for(let Me=0;Me<Ae;Me++){let Le=fe[Me];if("string"!=typeof Le){const Ee={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+Me,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}}else{const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:$.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:re};null===g?g=[fe]:g.push(fe),J++}}for(const ee in D)if(y.test(ee)){let re=D[ee];if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0===re.proof_type){const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"],data:re};null===g?g=[fe]:g.push(fe),J++}if(void 0===re.cryptosuite){const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"],data:re};null===g?g=[fe]:g.push(fe),J++}for(const fe in re)if("proof_type"!==fe&&"cryptosuite"!==fe){const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"],data:re};null===g?g=[Ae]:g.push(Ae),J++}if(void 0!==re.proof_type){let fe=re.proof_type;if(Array.isArray(fe)){if(fe.length<1){const Me={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:fe};null===g?g=[Me]:g.push(Me),J++}const Ae=fe.length;for(let Me=0;Me<Ae;Me++){let Le=fe[Me];if("string"!=typeof Le){const Ee={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+Me,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}if(void 0!==re.cryptosuite){let fe=re.cryptosuite;if(Array.isArray(fe)){if(fe.length<1){const Me={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:fe};null===g?g=[Me]:g.push(Me),J++}const Ae=fe.length;for(let Me=0;Me<Ae;Me++){let Le=fe[Me];if("string"!=typeof Le){const Ee={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+Me,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Ae={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}}else{const fe={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:$.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:$.patternProperties["^di_vc$|^di_vp$|^di$"],data:re};null===g?g=[fe]:g.push(fe),J++}}for(const ee in D)if(T.test(ee)){const re={instancePath:V+"/"+ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:$.patternProperties.additionalProperties,data:D[ee]};null===g?g=[re]:g.push(re),J++}}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:$.type,parentSchema:$,data:D};null===g?g=[ee]:g.push(ee),J++}return w.errors=g,0===J}const x={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},R={validate:k};function k(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(!D||"object"!=typeof D||Array.isArray(D)){const Ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:x.type,parentSchema:x,data:D};null===g?g=[Ee]:g.push(Ee),J++}const ee=J;let re=!1,fe=null;const Ae=J;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.rule){const Ee={instancePath:V,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:x.oneOf[0].required,parentSchema:x.oneOf[0],data:D};null===g?g=[Ee]:g.push(Ee),J++}if(void 0===D.from){const Ee={instancePath:V,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:x.oneOf[0].required,parentSchema:x.oneOf[0],data:D};null===g?g=[Ee]:g.push(Ee),J++}for(const Ee in D)if("name"!==Ee&&"purpose"!==Ee&&"rule"!==Ee&&"count"!==Ee&&"min"!==Ee&&"max"!==Ee&&"from"!==Ee){const Se={instancePath:V,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:x.oneOf[0],data:D};null===g?g=[Se]:g.push(Se),J++}if(void 0!==D.name){let Ee=D.name;if("string"!=typeof Ee){const Se={instancePath:V+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[0].properties.name.type,parentSchema:x.oneOf[0].properties.name,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.purpose){let Ee=D.purpose;if("string"!=typeof Ee){const Se={instancePath:V+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[0].properties.purpose.type,parentSchema:x.oneOf[0].properties.purpose,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.rule){let Ee=D.rule;if("string"!=typeof Ee){const Se={instancePath:V+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[0].properties.rule.type,parentSchema:x.oneOf[0].properties.rule,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("all"!==Ee&&"pick"!==Ee){const Se={instancePath:V+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:x.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:x.oneOf[0].properties.rule.enum,parentSchema:x.oneOf[0].properties.rule,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.count){let Ee=D.count;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[0].properties.count.type,parentSchema:x.oneOf[0].properties.count,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<1||isNaN(Ee))){const Se={instancePath:V+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:x.oneOf[0].properties.count,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.min){let Ee=D.min;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[0].properties.min.type,parentSchema:x.oneOf[0].properties.min,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<0||isNaN(Ee))){const Se={instancePath:V+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:x.oneOf[0].properties.min,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.max){let Ee=D.max;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[0].properties.max.type,parentSchema:x.oneOf[0].properties.max,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<0||isNaN(Ee))){const Se={instancePath:V+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:x.oneOf[0].properties.max,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.from){let Ee=D.from;if("string"!=typeof Ee){const Se={instancePath:V+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[0].properties.from.type,parentSchema:x.oneOf[0].properties.from,data:Ee};null===g?g=[Se]:g.push(Se),J++}}}Ae===J&&(re=!0,fe=0);const Me=J;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.rule){const Ee={instancePath:V,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:x.oneOf[1].required,parentSchema:x.oneOf[1],data:D};null===g?g=[Ee]:g.push(Ee),J++}if(void 0===D.from_nested){const Ee={instancePath:V,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:x.oneOf[1].required,parentSchema:x.oneOf[1],data:D};null===g?g=[Ee]:g.push(Ee),J++}for(const Ee in D)if("name"!==Ee&&"purpose"!==Ee&&"rule"!==Ee&&"count"!==Ee&&"min"!==Ee&&"max"!==Ee&&"from_nested"!==Ee){const Se={instancePath:V,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:x.oneOf[1],data:D};null===g?g=[Se]:g.push(Se),J++}if(void 0!==D.name){let Ee=D.name;if("string"!=typeof Ee){const Se={instancePath:V+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[1].properties.name.type,parentSchema:x.oneOf[1].properties.name,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.purpose){let Ee=D.purpose;if("string"!=typeof Ee){const Se={instancePath:V+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[1].properties.purpose.type,parentSchema:x.oneOf[1].properties.purpose,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.rule){let Ee=D.rule;if("string"!=typeof Ee){const Se={instancePath:V+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:x.oneOf[1].properties.rule.type,parentSchema:x.oneOf[1].properties.rule,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("all"!==Ee&&"pick"!==Ee){const Se={instancePath:V+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:x.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:x.oneOf[1].properties.rule.enum,parentSchema:x.oneOf[1].properties.rule,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.count){let Ee=D.count;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[1].properties.count.type,parentSchema:x.oneOf[1].properties.count,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<1||isNaN(Ee))){const Se={instancePath:V+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:x.oneOf[1].properties.count,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.min){let Ee=D.min;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[1].properties.min.type,parentSchema:x.oneOf[1].properties.min,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<0||isNaN(Ee))){const Se={instancePath:V+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:x.oneOf[1].properties.min,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.max){let Ee=D.max;if("number"!=typeof Ee||Ee%1||isNaN(Ee)){const Se={instancePath:V+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:x.oneOf[1].properties.max.type,parentSchema:x.oneOf[1].properties.max,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("number"==typeof Ee&&(Ee<0||isNaN(Ee))){const Se={instancePath:V+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:x.oneOf[1].properties.max,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.from_nested){let Ee=D.from_nested;if(Array.isArray(Ee)){if(Ee.length<1){const He={instancePath:V+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:x.oneOf[1].properties.from_nested,data:Ee};null===g?g=[He]:g.push(He),J++}const Se=Ee.length;for(let He=0;He<Se;He++)R.validate(Ee[He],{instancePath:V+"/from_nested/"+He,parentData:Ee,parentDataProperty:He,rootData:h})||(g=null===g?R.validate.errors:g.concat(R.validate.errors),J=g.length)}else{const Se={instancePath:V+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:x.oneOf[1].properties.from_nested.type,parentSchema:x.oneOf[1].properties.from_nested,data:Ee};null===g?g=[Se]:g.push(Se),J++}}}var Le;if((Le=Me===J)&&re?(re=!1,fe=[fe,1]):Le&&(re=!0,fe=1),re)J=ee,null!==g&&(ee?g.length=ee:g=null);else{const Ee={instancePath:V,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:fe},message:"must match exactly one schema in oneOf",schema:x.oneOf,parentSchema:x,data:D};null===g?g=[Ee]:g.push(Ee),J++}return k.errors=g,0===J}const v={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},N={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function M(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0!==D.manifest){let ee=D.manifest;if("string"!=typeof ee){const re={instancePath:V+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:N.properties.manifest.type,parentSchema:N.properties.manifest,data:ee};null===g?g=[re]:g.push(re),J++}}}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:N.type,parentSchema:N,data:D};null===g?g=[ee]:g.push(ee),J++}return M.errors=g,0===J}const P={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},L={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},G={type:"integer",minimum:0};function B(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if("number"!=typeof D||D%1||isNaN(D)){const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:G.type,parentSchema:G,data:D};null===g?g=[ee]:g.push(ee),J++}if("number"==typeof D&&(D<0||isNaN(D))){const ee={instancePath:V,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:G,data:D};null===g?g=[ee]:g.push(ee),J++}return B.errors=g,0===J}function X(D,{instancePath:V="",parentData:Y,parentDataProperty:F,rootData:h=D}={}){let g=null,J=0;return B(D,{instancePath:V,parentData:Y,parentDataProperty:F,rootData:h})||(g=null===g?B.errors:g.concat(B.errors),J=g.length),X.errors=g,0===J}const Q={type:"array",minItems:1,items:{$ref:"#"}},te={validate:d};function ie(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(Array.isArray(D)){if(D.length<1){const re={instancePath:V,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:Q,data:D};null===g?g=[re]:g.push(re),J++}const ee=D.length;for(let re=0;re<ee;re++)te.validate(D[re],{instancePath:V+"/"+re,parentData:D,parentDataProperty:re,rootData:h})||(g=null===g?te.validate.errors:g.concat(te.validate.errors),J=g.length)}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:Q.type,parentSchema:Q,data:D};null===g?g=[ee]:g.push(ee),J++}return ie.errors=g,0===J}const ae={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function me(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(Array.isArray(D)){const ee=D.length;for(let Ae=0;Ae<ee;Ae++){let Me=D[Ae];if("string"!=typeof Me){const Le={instancePath:V+"/"+Ae,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:ae.items.type,parentSchema:ae.items,data:Me};null===g?g=[Le]:g.push(Le),J++}}let fe,re=D.length;if(re>1){const Ae={};for(;re--;){let Me=D[re];if("string"==typeof Me){if("number"==typeof Ae[Me]){fe=Ae[Me];const Le={instancePath:V,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:re,j:fe},message:"must NOT have duplicate items (items ## "+fe+" and "+re+" are identical)",schema:!0,parentSchema:ae,data:D};null===g?g=[Le]:g.push(Le),J++;break}Ae[Me]=re}}}}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:ae.type,parentSchema:ae,data:D};null===g?g=[ee]:g.push(ee),J++}return me.errors=g,0===J}const ge={enum:["array","boolean","integer","null","number","object","string"]};function de(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if("array"!==D&&"boolean"!==D&&"integer"!==D&&"null"!==D&&"number"!==D&&"object"!==D&&"string"!==D){const ee={instancePath:V,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:ge.enum},message:"must be equal to one of the allowed values",schema:ge.enum,parentSchema:ge,data:D};null===g?g=[ee]:g.push(ee),J++}return de.errors=g,0===J}const z=A(54195).default;function d(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if((!D||"object"!=typeof D||Array.isArray(D))&&"boolean"!=typeof D){const Me={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:L.type},message:"must be object,boolean",schema:L.type,parentSchema:L,data:D};null===g?g=[Me]:g.push(Me),J++}if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0!==D.$id){let Me=D.$id;if("string"!=typeof Me){const Le={instancePath:V+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.$id.type,parentSchema:L.properties.$id,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.$schema){let Me=D.$schema;if("string"!=typeof Me){const Le={instancePath:V+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.$schema.type,parentSchema:L.properties.$schema,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.$ref){let Me=D.$ref;if("string"!=typeof Me){const Le={instancePath:V+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.$ref.type,parentSchema:L.properties.$ref,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.$comment){let Me=D.$comment;if("string"!=typeof Me){const Le={instancePath:V+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.$comment.type,parentSchema:L.properties.$comment,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.title){let Me=D.title;if("string"!=typeof Me){const Le={instancePath:V+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.title.type,parentSchema:L.properties.title,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.description){let Me=D.description;if("string"!=typeof Me){const Le={instancePath:V+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.description.type,parentSchema:L.properties.description,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.readOnly){let Me=D.readOnly;if("boolean"!=typeof Me){const Le={instancePath:V+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:L.properties.readOnly.type,parentSchema:L.properties.readOnly,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.examples){let Me=D.examples;if(!Array.isArray(Me)){const Le={instancePath:V+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:L.properties.examples.type,parentSchema:L.properties.examples,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.multipleOf){let Me=D.multipleOf;if("number"==typeof Me){if(Me<=0||isNaN(Me)){const Le={instancePath:V+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:L.properties.multipleOf,data:Me};null===g?g=[Le]:g.push(Le),J++}}else{const Le={instancePath:V+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:L.properties.multipleOf.type,parentSchema:L.properties.multipleOf,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.maximum){let Me=D.maximum;if("number"!=typeof Me){const Le={instancePath:V+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:L.properties.maximum.type,parentSchema:L.properties.maximum,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.exclusiveMaximum){let Me=D.exclusiveMaximum;if("number"!=typeof Me){const Le={instancePath:V+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:L.properties.exclusiveMaximum.type,parentSchema:L.properties.exclusiveMaximum,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.minimum){let Me=D.minimum;if("number"!=typeof Me){const Le={instancePath:V+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:L.properties.minimum.type,parentSchema:L.properties.minimum,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.exclusiveMinimum){let Me=D.exclusiveMinimum;if("number"!=typeof Me){const Le={instancePath:V+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:L.properties.exclusiveMinimum.type,parentSchema:L.properties.exclusiveMinimum,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.maxLength&&(B(D.maxLength,{instancePath:V+"/maxLength",parentData:D,parentDataProperty:"maxLength",rootData:h})||(g=null===g?B.errors:g.concat(B.errors),J=g.length)),void 0!==D.minLength&&(X(D.minLength,{instancePath:V+"/minLength",parentData:D,parentDataProperty:"minLength",rootData:h})||(g=null===g?X.errors:g.concat(X.errors),J=g.length)),void 0!==D.pattern){let Me=D.pattern;if("string"!=typeof Me){const Le={instancePath:V+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.pattern.type,parentSchema:L.properties.pattern,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.additionalItems&&(d(D.additionalItems,{instancePath:V+"/additionalItems",parentData:D,parentDataProperty:"additionalItems",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.items){let Me=D.items;const Le=J;let Ee=!1;const Se=J;d(Me,{instancePath:V+"/items",parentData:D,parentDataProperty:"items",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length);var ee=Se===J;if(Ee=Ee||ee,!Ee){const He=J;ie(Me,{instancePath:V+"/items",parentData:D,parentDataProperty:"items",rootData:h})||(g=null===g?ie.errors:g.concat(ie.errors),J=g.length),ee=He===J,Ee=Ee||ee}if(Ee)J=Le,null!==g&&(Le?g.length=Le:g=null);else{const He={instancePath:V+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:L.properties.items.anyOf,parentSchema:L.properties.items,data:Me};null===g?g=[He]:g.push(He),J++}}if(void 0!==D.maxItems&&(B(D.maxItems,{instancePath:V+"/maxItems",parentData:D,parentDataProperty:"maxItems",rootData:h})||(g=null===g?B.errors:g.concat(B.errors),J=g.length)),void 0!==D.minItems&&(X(D.minItems,{instancePath:V+"/minItems",parentData:D,parentDataProperty:"minItems",rootData:h})||(g=null===g?X.errors:g.concat(X.errors),J=g.length)),void 0!==D.uniqueItems){let Me=D.uniqueItems;if("boolean"!=typeof Me){const Le={instancePath:V+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:L.properties.uniqueItems.type,parentSchema:L.properties.uniqueItems,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.contains&&(d(D.contains,{instancePath:V+"/contains",parentData:D,parentDataProperty:"contains",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.maxProperties&&(B(D.maxProperties,{instancePath:V+"/maxProperties",parentData:D,parentDataProperty:"maxProperties",rootData:h})||(g=null===g?B.errors:g.concat(B.errors),J=g.length)),void 0!==D.minProperties&&(X(D.minProperties,{instancePath:V+"/minProperties",parentData:D,parentDataProperty:"minProperties",rootData:h})||(g=null===g?X.errors:g.concat(X.errors),J=g.length)),void 0!==D.required&&(me(D.required,{instancePath:V+"/required",parentData:D,parentDataProperty:"required",rootData:h})||(g=null===g?me.errors:g.concat(me.errors),J=g.length)),void 0!==D.additionalProperties&&(d(D.additionalProperties,{instancePath:V+"/additionalProperties",parentData:D,parentDataProperty:"additionalProperties",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.definitions){let Me=D.definitions;if(Me&&"object"==typeof Me&&!Array.isArray(Me))for(const Le in Me)d(Me[Le],{instancePath:V+"/definitions/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Me,parentDataProperty:Le,rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length);else{const Le={instancePath:V+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.properties.definitions.type,parentSchema:L.properties.definitions,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.properties){let Me=D.properties;if(Me&&"object"==typeof Me&&!Array.isArray(Me))for(const Le in Me)d(Me[Le],{instancePath:V+"/properties/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Me,parentDataProperty:Le,rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length);else{const Le={instancePath:V+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.properties.properties.type,parentSchema:L.properties.properties,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.patternProperties){let Me=D.patternProperties;if(Me&&"object"==typeof Me&&!Array.isArray(Me)){for(const Le in Me)if(J!=J){const Se={instancePath:V+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:Le},message:"property name must be valid",schema:L.properties.patternProperties.propertyNames,parentSchema:L.properties.patternProperties,data:Me};null===g?g=[Se]:g.push(Se),J++}for(const Le in Me)d(Me[Le],{instancePath:V+"/patternProperties/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Me,parentDataProperty:Le,rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)}else{const Le={instancePath:V+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.properties.patternProperties.type,parentSchema:L.properties.patternProperties,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.dependencies){let Me=D.dependencies;if(Me&&"object"==typeof Me&&!Array.isArray(Me))for(const Le in Me){let Ee=Me[Le];const Se=J;let He=!1;const Te=J;d(Ee,{instancePath:V+"/dependencies/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Me,parentDataProperty:Le,rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length);var fe=Te===J;if(He=He||fe,!He){const u=J;me(Ee,{instancePath:V+"/dependencies/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Me,parentDataProperty:Le,rootData:h})||(g=null===g?me.errors:g.concat(me.errors),J=g.length),fe=u===J,He=He||fe}if(He)J=Se,null!==g&&(Se?g.length=Se:g=null);else{const u={instancePath:V+"/dependencies/"+Le.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:L.properties.dependencies.additionalProperties.anyOf,parentSchema:L.properties.dependencies.additionalProperties,data:Ee};null===g?g=[u]:g.push(u),J++}}else{const Le={instancePath:V+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:L.properties.dependencies.type,parentSchema:L.properties.dependencies,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.propertyNames&&(d(D.propertyNames,{instancePath:V+"/propertyNames",parentData:D,parentDataProperty:"propertyNames",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.enum){let Me=D.enum;if(Array.isArray(Me)){if(Me.length<1){const Se={instancePath:V+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:L.properties.enum,data:Me};null===g?g=[Se]:g.push(Se),J++}let Ee,Le=Me.length;if(Le>1)e:for(;Le--;)for(Ee=Le;Ee--;)if(z(Me[Le],Me[Ee])){const Se={instancePath:V+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:Le,j:Ee},message:"must NOT have duplicate items (items ## "+Ee+" and "+Le+" are identical)",schema:!0,parentSchema:L.properties.enum,data:Me};null===g?g=[Se]:g.push(Se),J++;break e}}else{const Le={instancePath:V+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:L.properties.enum.type,parentSchema:L.properties.enum,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.type){let Me=D.type;const Le=J;let Ee=!1;const Se=J;de(Me,{instancePath:V+"/type",parentData:D,parentDataProperty:"type",rootData:h})||(g=null===g?de.errors:g.concat(de.errors),J=g.length);var Ae=Se===J;if(Ee=Ee||Ae,!Ee){const He=J;if(Array.isArray(Me)){if(Me.length<1){const _e={instancePath:V+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:L.properties.type.anyOf[1],data:Me};null===g?g=[_e]:g.push(_e),J++}const u=Me.length;for(let _e=0;_e<u;_e++)de(Me[_e],{instancePath:V+"/type/"+_e,parentData:Me,parentDataProperty:_e,rootData:h})||(g=null===g?de.errors:g.concat(de.errors),J=g.length);let be,xe=Me.length;if(xe>1)e:for(;xe--;)for(be=xe;be--;)if(z(Me[xe],Me[be])){const _e={instancePath:V+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:xe,j:be},message:"must NOT have duplicate items (items ## "+be+" and "+xe+" are identical)",schema:!0,parentSchema:L.properties.type.anyOf[1],data:Me};null===g?g=[_e]:g.push(_e),J++;break e}}else{const u={instancePath:V+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:L.properties.type.anyOf[1].type,parentSchema:L.properties.type.anyOf[1],data:Me};null===g?g=[u]:g.push(u),J++}Ae=He===J,Ee=Ee||Ae}if(Ee)J=Le,null!==g&&(Le?g.length=Le:g=null);else{const He={instancePath:V+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:L.properties.type.anyOf,parentSchema:L.properties.type,data:Me};null===g?g=[He]:g.push(He),J++}}if(void 0!==D.format){let Me=D.format;if("string"!=typeof Me){const Le={instancePath:V+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.format.type,parentSchema:L.properties.format,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.contentMediaType){let Me=D.contentMediaType;if("string"!=typeof Me){const Le={instancePath:V+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.contentMediaType.type,parentSchema:L.properties.contentMediaType,data:Me};null===g?g=[Le]:g.push(Le),J++}}if(void 0!==D.contentEncoding){let Me=D.contentEncoding;if("string"!=typeof Me){const Le={instancePath:V+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:L.properties.contentEncoding.type,parentSchema:L.properties.contentEncoding,data:Me};null===g?g=[Le]:g.push(Le),J++}}void 0!==D.if&&(d(D.if,{instancePath:V+"/if",parentData:D,parentDataProperty:"if",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.then&&(d(D.then,{instancePath:V+"/then",parentData:D,parentDataProperty:"then",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.else&&(d(D.else,{instancePath:V+"/else",parentData:D,parentDataProperty:"else",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.allOf&&(ie(D.allOf,{instancePath:V+"/allOf",parentData:D,parentDataProperty:"allOf",rootData:h})||(g=null===g?ie.errors:g.concat(ie.errors),J=g.length)),void 0!==D.anyOf&&(ie(D.anyOf,{instancePath:V+"/anyOf",parentData:D,parentDataProperty:"anyOf",rootData:h})||(g=null===g?ie.errors:g.concat(ie.errors),J=g.length)),void 0!==D.oneOf&&(ie(D.oneOf,{instancePath:V+"/oneOf",parentData:D,parentDataProperty:"oneOf",rootData:h})||(g=null===g?ie.errors:g.concat(ie.errors),J=g.length)),void 0!==D.not&&(d(D.not,{instancePath:V+"/not",parentData:D,parentDataProperty:"not",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length))}return d.errors=g,0===J}function f(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(!D||"object"!=typeof D||Array.isArray(D)){const Ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:P.type,parentSchema:P,data:D};null===g?g=[Ee]:g.push(Ee),J++}const ee=J;let re=!1,fe=null;const Ae=J;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.path){const Ee={instancePath:V,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:P.oneOf[0].required,parentSchema:P.oneOf[0],data:D};null===g?g=[Ee]:g.push(Ee),J++}for(const Ee in D)if("id"!==Ee&&"path"!==Ee&&"purpose"!==Ee&&"intent_to_retain"!==Ee&&"filter"!==Ee&&"name"!==Ee){const Se={instancePath:V,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:P.oneOf[0],data:D};null===g?g=[Se]:g.push(Se),J++}if(void 0!==D.id){let Ee=D.id;if("string"!=typeof Ee){const Se={instancePath:V+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.id.type,parentSchema:P.oneOf[0].properties.id,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.path){let Ee=D.path;if(Array.isArray(Ee)){const Se=Ee.length;for(let He=0;He<Se;He++){let Te=Ee[He];if("string"!=typeof Te){const u={instancePath:V+"/path/"+He,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.path.items.type,parentSchema:P.oneOf[0].properties.path.items,data:Te};null===g?g=[u]:g.push(u),J++}}}else{const Se={instancePath:V+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:P.oneOf[0].properties.path.type,parentSchema:P.oneOf[0].properties.path,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.purpose){let Ee=D.purpose;if("string"!=typeof Ee){const Se={instancePath:V+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.purpose.type,parentSchema:P.oneOf[0].properties.purpose,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.intent_to_retain){let Ee=D.intent_to_retain;if("boolean"!=typeof Ee){const Se={instancePath:V+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:P.oneOf[0].properties.intent_to_retain.type,parentSchema:P.oneOf[0].properties.intent_to_retain,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.filter&&(d(D.filter,{instancePath:V+"/filter",parentData:D,parentDataProperty:"filter",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.name){let Ee=D.name;if("string"!=typeof Ee){const Se={instancePath:V+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[0].properties.name.type,parentSchema:P.oneOf[0].properties.name,data:Ee};null===g?g=[Se]:g.push(Se),J++}}}Ae===J&&(re=!0,fe=0);const Me=J;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.path){const Ee={instancePath:V,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:D};null===g?g=[Ee]:g.push(Ee),J++}if(void 0===D.filter){const Ee={instancePath:V,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:D};null===g?g=[Ee]:g.push(Ee),J++}if(void 0===D.predicate){const Ee={instancePath:V,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:P.oneOf[1].required,parentSchema:P.oneOf[1],data:D};null===g?g=[Ee]:g.push(Ee),J++}for(const Ee in D)if("id"!==Ee&&"path"!==Ee&&"purpose"!==Ee&&"intent_to_retain"!==Ee&&"filter"!==Ee&&"predicate"!==Ee&&"name"!==Ee){const Se={instancePath:V,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:P.oneOf[1],data:D};null===g?g=[Se]:g.push(Se),J++}if(void 0!==D.id){let Ee=D.id;if("string"!=typeof Ee){const Se={instancePath:V+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.id.type,parentSchema:P.oneOf[1].properties.id,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.path){let Ee=D.path;if(Array.isArray(Ee)){const Se=Ee.length;for(let He=0;He<Se;He++){let Te=Ee[He];if("string"!=typeof Te){const u={instancePath:V+"/path/"+He,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.path.items.type,parentSchema:P.oneOf[1].properties.path.items,data:Te};null===g?g=[u]:g.push(u),J++}}}else{const Se={instancePath:V+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:P.oneOf[1].properties.path.type,parentSchema:P.oneOf[1].properties.path,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.purpose){let Ee=D.purpose;if("string"!=typeof Ee){const Se={instancePath:V+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.purpose.type,parentSchema:P.oneOf[1].properties.purpose,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.intent_to_retain){let Ee=D.intent_to_retain;if("boolean"!=typeof Ee){const Se={instancePath:V+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:P.oneOf[1].properties.intent_to_retain.type,parentSchema:P.oneOf[1].properties.intent_to_retain,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.filter&&(d(D.filter,{instancePath:V+"/filter",parentData:D,parentDataProperty:"filter",rootData:h})||(g=null===g?d.errors:g.concat(d.errors),J=g.length)),void 0!==D.predicate){let Ee=D.predicate;if("string"!=typeof Ee){const Se={instancePath:V+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.predicate.type,parentSchema:P.oneOf[1].properties.predicate,data:Ee};null===g?g=[Se]:g.push(Se),J++}if("required"!==Ee&&"preferred"!==Ee){const Se={instancePath:V+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:P.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:P.oneOf[1].properties.predicate.enum,parentSchema:P.oneOf[1].properties.predicate,data:Ee};null===g?g=[Se]:g.push(Se),J++}}if(void 0!==D.name){let Ee=D.name;if("string"!=typeof Ee){const Se={instancePath:V+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:P.oneOf[1].properties.name.type,parentSchema:P.oneOf[1].properties.name,data:Ee};null===g?g=[Se]:g.push(Se),J++}}}var Le;if((Le=Me===J)&&re?(re=!1,fe=[fe,1]):Le&&(re=!0,fe=1),re)J=ee,null!==g&&(ee?g.length=ee:g=null);else{const Ee={instancePath:V,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:fe},message:"must match exactly one schema in oneOf",schema:P.oneOf,parentSchema:P,data:D};null===g?g=[Ee]:g.push(Ee),J++}return f.errors=g,0===J}function b(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0===D.id){const ee={instancePath:V,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:v.required,parentSchema:v,data:D};null===g?g=[ee]:g.push(ee),J++}for(const ee in D)if("id"!==ee&&"name"!==ee&&"purpose"!==ee&&"issuance"!==ee&&"group"!==ee&&"format"!==ee&&"constraints"!==ee){const re={instancePath:V,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ee},message:"must NOT have additional properties",schema:!1,parentSchema:v,data:D};null===g?g=[re]:g.push(re),J++}if(void 0!==D.id){let ee=D.id;if("string"!=typeof ee){const re={instancePath:V+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.id.type,parentSchema:v.properties.id,data:ee};null===g?g=[re]:g.push(re),J++}}if(void 0!==D.name){let ee=D.name;if("string"!=typeof ee){const re={instancePath:V+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.name.type,parentSchema:v.properties.name,data:ee};null===g?g=[re]:g.push(re),J++}}if(void 0!==D.purpose){let ee=D.purpose;if("string"!=typeof ee){const re={instancePath:V+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.purpose.type,parentSchema:v.properties.purpose,data:ee};null===g?g=[re]:g.push(re),J++}}if(void 0!==D.issuance){let ee=D.issuance;if(Array.isArray(ee)){const re=ee.length;for(let fe=0;fe<re;fe++)M(ee[fe],{instancePath:V+"/issuance/"+fe,parentData:ee,parentDataProperty:fe,rootData:h})||(g=null===g?M.errors:g.concat(M.errors),J=g.length)}else{const re={instancePath:V+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.issuance.type,parentSchema:v.properties.issuance,data:ee};null===g?g=[re]:g.push(re),J++}}if(void 0!==D.group){let ee=D.group;if(Array.isArray(ee)){const re=ee.length;for(let fe=0;fe<re;fe++){let Ae=ee[fe];if("string"!=typeof Ae){const Me={instancePath:V+"/group/"+fe,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.group.items.type,parentSchema:v.properties.group.items,data:Ae};null===g?g=[Me]:g.push(Me),J++}}}else{const re={instancePath:V+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.group.type,parentSchema:v.properties.group,data:ee};null===g?g=[re]:g.push(re),J++}}if(void 0!==D.format&&(w(D.format,{instancePath:V+"/format",parentData:D,parentDataProperty:"format",rootData:h})||(g=null===g?w.errors:g.concat(w.errors),J=g.length)),void 0!==D.constraints){let ee=D.constraints;if(ee&&"object"==typeof ee&&!Array.isArray(ee)){for(const re in ee)if("limit_disclosure"!==re&&"statuses"!==re&&"fields"!==re&&"subject_is_issuer"!==re&&"is_holder"!==re&&"same_subject"!==re){const fe={instancePath:V+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:v.properties.constraints,data:ee};null===g?g=[fe]:g.push(fe),J++}if(void 0!==ee.limit_disclosure){let re=ee.limit_disclosure;if("string"!=typeof re){const fe={instancePath:V+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.limit_disclosure.type,parentSchema:v.properties.constraints.properties.limit_disclosure,data:re};null===g?g=[fe]:g.push(fe),J++}if("required"!==re&&"preferred"!==re){const fe={instancePath:V+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.limit_disclosure.enum,parentSchema:v.properties.constraints.properties.limit_disclosure,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.statuses){let re=ee.statuses;if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0!==re.active){let fe=re.active;if(fe&&"object"==typeof fe&&!Array.isArray(fe)){if(void 0!==fe.directive){let Ae=fe.directive;if("string"!=typeof Ae){const Me={instancePath:V+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:v.properties.constraints.properties.statuses.properties.active.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}if("required"!==Ae&&"allowed"!==Ae&&"disallowed"!==Ae){const Me={instancePath:V+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:v.properties.constraints.properties.statuses.properties.active.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}}}else{const Ae={instancePath:V+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.statuses.properties.active.type,parentSchema:v.properties.constraints.properties.statuses.properties.active,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}if(void 0!==re.suspended){let fe=re.suspended;if(fe&&"object"==typeof fe&&!Array.isArray(fe)){if(void 0!==fe.directive){let Ae=fe.directive;if("string"!=typeof Ae){const Me={instancePath:V+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:v.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}if("required"!==Ae&&"allowed"!==Ae&&"disallowed"!==Ae){const Me={instancePath:V+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:v.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}}}else{const Ae={instancePath:V+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:v.properties.constraints.properties.statuses.properties.suspended,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}if(void 0!==re.revoked){let fe=re.revoked;if(fe&&"object"==typeof fe&&!Array.isArray(fe)){if(void 0!==fe.directive){let Ae=fe.directive;if("string"!=typeof Ae){const Me={instancePath:V+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:v.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}if("required"!==Ae&&"allowed"!==Ae&&"disallowed"!==Ae){const Me={instancePath:V+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:v.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:Ae};null===g?g=[Me]:g.push(Me),J++}}}else{const Ae={instancePath:V+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:v.properties.constraints.properties.statuses.properties.revoked,data:fe};null===g?g=[Ae]:g.push(Ae),J++}}}else{const fe={instancePath:V+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.statuses.type,parentSchema:v.properties.constraints.properties.statuses,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.fields){let re=ee.fields;if(Array.isArray(re)){const fe=re.length;for(let Ae=0;Ae<fe;Ae++)f(re[Ae],{instancePath:V+"/constraints/fields/"+Ae,parentData:re,parentDataProperty:Ae,rootData:h})||(g=null===g?f.errors:g.concat(f.errors),J=g.length)}else{const fe={instancePath:V+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.constraints.properties.fields.type,parentSchema:v.properties.constraints.properties.fields,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.subject_is_issuer){let re=ee.subject_is_issuer;if("string"!=typeof re){const fe={instancePath:V+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.subject_is_issuer.type,parentSchema:v.properties.constraints.properties.subject_is_issuer,data:re};null===g?g=[fe]:g.push(fe),J++}if("required"!==re&&"preferred"!==re){const fe={instancePath:V+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.subject_is_issuer.enum,parentSchema:v.properties.constraints.properties.subject_is_issuer,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.is_holder){let re=ee.is_holder;if(Array.isArray(re)){const fe=re.length;for(let Ae=0;Ae<fe;Ae++){let Me=re[Ae];if(Me&&"object"==typeof Me&&!Array.isArray(Me)){if(void 0===Me.field_id){const Le={instancePath:V+"/constraints/is_holder/"+Ae,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:v.properties.constraints.properties.is_holder.items.required,parentSchema:v.properties.constraints.properties.is_holder.items,data:Me};null===g?g=[Le]:g.push(Le),J++}if(void 0===Me.directive){const Le={instancePath:V+"/constraints/is_holder/"+Ae,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:v.properties.constraints.properties.is_holder.items.required,parentSchema:v.properties.constraints.properties.is_holder.items,data:Me};null===g?g=[Le]:g.push(Le),J++}for(const Le in Me)if("field_id"!==Le&&"directive"!==Le){const Ee={instancePath:V+"/constraints/is_holder/"+Ae,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties",schema:!1,parentSchema:v.properties.constraints.properties.is_holder.items,data:Me};null===g?g=[Ee]:g.push(Ee),J++}if(void 0!==Me.field_id){let Le=Me.field_id;if(Array.isArray(Le)){const Ee=Le.length;for(let Se=0;Se<Ee;Se++){let He=Le[Se];if("string"!=typeof He){const Te={instancePath:V+"/constraints/is_holder/"+Ae+"/field_id/"+Se,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:v.properties.constraints.properties.is_holder.items.properties.field_id.items,data:He};null===g?g=[Te]:g.push(Te),J++}}}else{const Ee={instancePath:V+"/constraints/is_holder/"+Ae+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:v.properties.constraints.properties.is_holder.items.properties.field_id,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}if(void 0!==Me.directive){let Le=Me.directive;if("string"!=typeof Le){const Ee={instancePath:V+"/constraints/is_holder/"+Ae+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:v.properties.constraints.properties.is_holder.items.properties.directive,data:Le};null===g?g=[Ee]:g.push(Ee),J++}if("required"!==Le&&"preferred"!==Le){const Ee={instancePath:V+"/constraints/is_holder/"+Ae+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:v.properties.constraints.properties.is_holder.items.properties.directive,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Le={instancePath:V+"/constraints/is_holder/"+Ae,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.is_holder.items.type,parentSchema:v.properties.constraints.properties.is_holder.items,data:Me};null===g?g=[Le]:g.push(Le),J++}}}else{const fe={instancePath:V+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.constraints.properties.is_holder.type,parentSchema:v.properties.constraints.properties.is_holder,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.same_subject){let re=ee.same_subject;if(Array.isArray(re)){const fe=re.length;for(let Ae=0;Ae<fe;Ae++){let Me=re[Ae];if(Me&&"object"==typeof Me&&!Array.isArray(Me)){if(void 0===Me.field_id){const Le={instancePath:V+"/constraints/same_subject/"+Ae,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:v.properties.constraints.properties.same_subject.items.required,parentSchema:v.properties.constraints.properties.same_subject.items,data:Me};null===g?g=[Le]:g.push(Le),J++}if(void 0===Me.directive){const Le={instancePath:V+"/constraints/same_subject/"+Ae,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:v.properties.constraints.properties.same_subject.items.required,parentSchema:v.properties.constraints.properties.same_subject.items,data:Me};null===g?g=[Le]:g.push(Le),J++}for(const Le in Me)if("field_id"!==Le&&"directive"!==Le){const Ee={instancePath:V+"/constraints/same_subject/"+Ae,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties",schema:!1,parentSchema:v.properties.constraints.properties.same_subject.items,data:Me};null===g?g=[Ee]:g.push(Ee),J++}if(void 0!==Me.field_id){let Le=Me.field_id;if(Array.isArray(Le)){const Ee=Le.length;for(let Se=0;Se<Ee;Se++){let He=Le[Se];if("string"!=typeof He){const Te={instancePath:V+"/constraints/same_subject/"+Ae+"/field_id/"+Se,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:v.properties.constraints.properties.same_subject.items.properties.field_id.items,data:He};null===g?g=[Te]:g.push(Te),J++}}}else{const Ee={instancePath:V+"/constraints/same_subject/"+Ae+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:v.properties.constraints.properties.same_subject.items.properties.field_id,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}if(void 0!==Me.directive){let Le=Me.directive;if("string"!=typeof Le){const Ee={instancePath:V+"/constraints/same_subject/"+Ae+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:v.properties.constraints.properties.same_subject.items.properties.directive,data:Le};null===g?g=[Ee]:g.push(Ee),J++}if("required"!==Le&&"preferred"!==Le){const Ee={instancePath:V+"/constraints/same_subject/"+Ae+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:v.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:v.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:v.properties.constraints.properties.same_subject.items.properties.directive,data:Le};null===g?g=[Ee]:g.push(Ee),J++}}}else{const Le={instancePath:V+"/constraints/same_subject/"+Ae,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.properties.same_subject.items.type,parentSchema:v.properties.constraints.properties.same_subject.items,data:Me};null===g?g=[Le]:g.push(Le),J++}}}else{const fe={instancePath:V+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties.constraints.properties.same_subject.type,parentSchema:v.properties.constraints.properties.same_subject,data:re};null===g?g=[fe]:g.push(fe),J++}}}else{const re={instancePath:V+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties.constraints.type,parentSchema:v.properties.constraints,data:ee};null===g?g=[re]:g.push(re),J++}}}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:D};null===g?g=[ee]:g.push(ee),J++}return b.errors=g,0===J}function C(D,{instancePath:V="",rootData:h=D}={}){let g=null,J=0;if(D&&"object"==typeof D&&!Array.isArray(D)){if(void 0!==D.presentation_definition){let ee=D.presentation_definition;if(ee&&"object"==typeof ee&&!Array.isArray(ee)){if(void 0===ee.id){const re={instancePath:V+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:O.properties.presentation_definition.required,parentSchema:O.properties.presentation_definition,data:ee};null===g?g=[re]:g.push(re),J++}if(void 0===ee.input_descriptors){const re={instancePath:V+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:O.properties.presentation_definition.required,parentSchema:O.properties.presentation_definition,data:ee};null===g?g=[re]:g.push(re),J++}for(const re in ee)if("id"!==re&&"name"!==re&&"purpose"!==re&&"format"!==re&&"frame"!==re&&"submission_requirements"!==re&&"input_descriptors"!==re){const fe={instancePath:V+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:O.properties.presentation_definition,data:ee};null===g?g=[fe]:g.push(fe),J++}if(void 0!==ee.id){let re=ee.id;if("string"!=typeof re){const fe={instancePath:V+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:O.properties.presentation_definition.properties.id.type,parentSchema:O.properties.presentation_definition.properties.id,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.name){let re=ee.name;if("string"!=typeof re){const fe={instancePath:V+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:O.properties.presentation_definition.properties.name.type,parentSchema:O.properties.presentation_definition.properties.name,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.purpose){let re=ee.purpose;if("string"!=typeof re){const fe={instancePath:V+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:O.properties.presentation_definition.properties.purpose.type,parentSchema:O.properties.presentation_definition.properties.purpose,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.format&&(w(ee.format,{instancePath:V+"/presentation_definition/format",parentData:ee,parentDataProperty:"format",rootData:h})||(g=null===g?w.errors:g.concat(w.errors),J=g.length)),void 0!==ee.frame){let re=ee.frame;if(!re||"object"!=typeof re||Array.isArray(re)){const fe={instancePath:V+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:O.properties.presentation_definition.properties.frame.type,parentSchema:O.properties.presentation_definition.properties.frame,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.submission_requirements){let re=ee.submission_requirements;if(Array.isArray(re)){const fe=re.length;for(let Ae=0;Ae<fe;Ae++)k(re[Ae],{instancePath:V+"/presentation_definition/submission_requirements/"+Ae,parentData:re,parentDataProperty:Ae,rootData:h})||(g=null===g?k.errors:g.concat(k.errors),J=g.length)}else{const fe={instancePath:V+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:O.properties.presentation_definition.properties.submission_requirements.type,parentSchema:O.properties.presentation_definition.properties.submission_requirements,data:re};null===g?g=[fe]:g.push(fe),J++}}if(void 0!==ee.input_descriptors){let re=ee.input_descriptors;if(Array.isArray(re)){const fe=re.length;for(let Ae=0;Ae<fe;Ae++)b(re[Ae],{instancePath:V+"/presentation_definition/input_descriptors/"+Ae,parentData:re,parentDataProperty:Ae,rootData:h})||(g=null===g?b.errors:g.concat(b.errors),J=g.length)}else{const fe={instancePath:V+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:O.properties.presentation_definition.properties.input_descriptors.type,parentSchema:O.properties.presentation_definition.properties.input_descriptors,data:re};null===g?g=[fe]:g.push(fe),J++}}}else{const re={instancePath:V+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:O.properties.presentation_definition.type,parentSchema:O.properties.presentation_definition,data:ee};null===g?g=[re]:g.push(re),J++}}}else{const ee={instancePath:V,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:O.type,parentSchema:O,data:D};null===g?g=[ee]:g.push(ee),J++}return C.errors=g,0===J}},11151:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(76533),I),$(A(59433),I),$(A(54065),I)},51236:function(ye,I,A){"use strict";var O=this&&this.__rest||function(w,x){var R={};for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&x.indexOf(k)<0&&(R[k]=w[k]);if(null!=w&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(k=Object.getOwnPropertySymbols(w);v<k.length;v++)x.indexOf(k[v])<0&&Object.prototype.propertyIsEnumerable.call(w,k[v])&&(R[k[v]]=w[k[v]])}return R},$=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(I,"__esModule",{value:!0}),I.CredentialMapper=void 0;const U=$(A(25704)),K=A(76533),y=A(59433);class T{static decodeSdJwtVcAsync(x,R){return(0,K.decodeSdJwtVcAsync)(x,R)}static decodeVerifiablePresentation(x,R){var k;if(T.isJwtEncoded(x)){const v=(0,U.default)(x),N=(0,U.default)(x,{header:!0});return v.vp.proof={type:K.IProofType.JwtProof2020,created:v.nbf,proofPurpose:K.IProofPurpose.authentication,verificationMethod:null!==(k=N.kid)&&void 0!==k?k:v.iss,jwt:x},v}if(T.isJwtDecodedPresentation(x))return x;if(T.isSdJwtEncoded(x)){if(!R)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,K.decodeSdJwtVc)(x,R)}return T.isSdJwtDecodedCredential(x)?x:T.isJsonLdAsString(x)?JSON.parse(x):x}static decodeVerifiableCredential(x,R){var k;if(T.isJwtEncoded(x)){const v=(0,U.default)(x),N=(0,U.default)(x,{header:!0});return v.vc.proof={type:K.IProofType.JwtProof2020,created:v.nbf,proofPurpose:K.IProofPurpose.authentication,verificationMethod:null!==(k=N.kid)&&void 0!==k?k:v.iss,jwt:x},v}if(T.isJwtDecodedCredential(x))return x;if(T.isJsonLdAsString(x))return JSON.parse(x);if(T.isSdJwtEncoded(x)){if(!R)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,K.decodeSdJwtVc)(x,R)}return T.isSdJwtDecodedCredential(x),x}static toWrappedVerifiablePresentation(x,R){if(T.isSdJwtDecodedCredential(x)||T.isSdJwtEncoded(x)){let Q;if(T.isSdJwtEncoded(x)){if(!R?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");Q=(0,K.decodeSdJwtVc)(x,R.hasher)}else Q=x;return{type:T.isSdJwtDecodedCredential(x)?K.OriginalType.SD_JWT_VC_DECODED:K.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:x,presentation:Q,decoded:Q.decodedPayload,vcs:[T.toWrappedVerifiableCredential(x,R)]}}const k=T.getFirstProof(x),v="string"!=typeof x&&T.hasJWTProofType(x)?k?.jwt:x;if(!v)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const N=T.decodeVerifiablePresentation(v),M=T.isJwtEncoded(v),P=T.isJwtDecodedPresentation(v),L=M?K.OriginalType.JWT_ENCODED:P?K.OriginalType.JWT_DECODED:K.OriginalType.JSONLD,G=P||M?"jwt_vp":"ldp_vp";let B;if(B=M||P?T.jwtDecodedPresentationToUniformPresentation(N,!1,R):N,!B||!("verifiableCredential"in B)||!B.verifiableCredential||0===B.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const q=T.toWrappedVerifiableCredentials(B.verifiableCredential,R);return{type:L,format:G,original:v,decoded:N,presentation:Object.assign(Object.assign({},B),{verifiableCredential:q}),vcs:q}}static toWrappedVerifiableCredentials(x,R){return x.map(k=>T.toWrappedVerifiableCredential(k,R))}static toWrappedVerifiableCredential(x,R){var k;if(T.isSdJwtDecodedCredential(x)||T.isSdJwtEncoded(x)){let X;if(T.isSdJwtEncoded(x)){if(!R?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");X=(0,K.decodeSdJwtVc)(x,R.hasher)}else X=x;return{type:T.isSdJwtDecodedCredential(x)?K.OriginalType.SD_JWT_VC_DECODED:K.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:x,credential:X,decoded:X.decodedPayload}}const v=T.getFirstProof(x),N=T.hasJWTProofType(x)&&v&&null!==(k=v.jwt)&&void 0!==k?k:x;if(!N)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const M=T.decodeVerifiableCredential(N),P=T.isJwtEncoded(N),L=T.isJwtDecodedCredential(N);return{original:N,decoded:M,format:P||L?"jwt_vc":"ldp_vc",type:P?K.OriginalType.JWT_ENCODED:L?K.OriginalType.JWT_DECODED:K.OriginalType.JSONLD,credential:P||L?T.jwtDecodedCredentialToUniformCredential(M,R):M}}static isJwtEncoded(x){return y.ObjectUtils.isString(x)&&x.startsWith("ey")&&!x.includes("~")}static isSdJwtEncoded(x){return y.ObjectUtils.isString(x)&&x.startsWith("ey")&&x.includes("~")}static isW3cCredential(x){var R;return"@context"in x&&((null===(R=x.type)||void 0===R?void 0:R.includes("VerifiableCredential"))||!1)}static isCredential(x){try{if(T.isJwtEncoded(x)){const R=T.toUniformCredential(x);return T.isW3cCredential(R)}return!!T.isSdJwtEncoded(x)||T.isW3cCredential(x)||T.isSdJwtDecodedCredentialPayload(x)||T.isJwtDecodedCredential(x)||T.isSdJwtDecodedCredential(x)}catch{return!1}}static isPresentation(x){try{if(T.isJwtEncoded(x)){const R=T.toUniformPresentation(x);return T.isW3cPresentation(R)}return!T.isSdJwtEncoded(x)&&(T.isW3cPresentation(x)||T.isSdJwtDecodedCredentialPayload(x)||T.isJwtDecodedPresentation(x)||T.isSdJwtDecodedCredential(x))}catch{return!1}}static hasProof(x){try{return!!(T.isJwtEncoded(x)||T.isJwtDecodedCredential(x)||T.isSdJwtEncoded(x)||T.isSdJwtDecodedCredential(x)||"vc"in x&&x.vc.proof||"vp"in x&&x.vp.proof)||!!x.proof}catch{return!1}}static isW3cPresentation(x){var R;return"@context"in x&&((null===(R=x.type)||void 0===R?void 0:R.includes("VerifiablePresentation"))||!1)}static isSdJwtDecodedCredentialPayload(x){return"vct"in x}static areOriginalVerifiableCredentialsEqual(x,R){return"string"==typeof x||"string"==typeof R?x===R:T.isSdJwtDecodedCredential(x)||T.isSdJwtDecodedCredential(R)?x.compactSdJwtVc===R.compactSdJwtVc:JSON.stringify(R.proof)===JSON.stringify(x.proof)}static isJsonLdAsString(x){return y.ObjectUtils.isString(x)&&x.includes("@context")}static isSdJwtDecodedCredential(x){return void 0!==x.compactSdJwtVc}static isJwtDecodedCredential(x){return void 0!==x.vc&&void 0!==x.iss}static isJwtDecodedPresentation(x){return void 0!==x.vp&&void 0!==x.iss}static jwtEncodedPresentationToUniformPresentation(x,R=!0,k){return T.jwtDecodedPresentationToUniformPresentation((0,U.default)(x),R,k)}static jwtDecodedPresentationToUniformPresentation(x,R=!0,k){const{iss:v,aud:N,jti:M,vp:P}=x,L=O(x,["iss","aud","jti","vp"]),G=Object.assign(Object.assign({},L),P);if(R){if(!P.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");G.verifiableCredential=P.verifiableCredential.map(B=>T.toUniformCredential(B,k))}if(v){const B=G.holder;if(B&&B!==v)throw new Error(`Inconsistent holders between JWT claim (${v}) and VC value (${B})`);G.holder=v}if(N){const B=G.verifier;if(B&&B!==N)throw new Error(`Inconsistent holders between JWT claim (${N}) and VC value (${B})`);G.verifier=N}if(M){const B=G.id;if(B&&B!==M)throw new Error(`Inconsistent VP ids between JWT claim (${M}) and VP value (${B})`);G.id=M}return G}static toUniformCredential(x,R){var k;if(T.isSdJwtDecodedCredential(x))throw new Error("Converting SD-JWT VC to uniform VC is not supported.");const v="string"!=typeof x&&T.hasJWTProofType(x)?null===(k=T.getFirstProof(x))||void 0===k?void 0:k.jwt:x;if(!v)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const N=T.decodeVerifiableCredential(v),M=T.isJwtEncoded(v);return T.isJwtDecodedCredential(v)||M?T.jwtDecodedCredentialToUniformCredential(N,R):N}static toUniformPresentation(x,R){var k;if(T.isSdJwtDecodedCredential(x))throw new Error("Converting SD-JWT VC to uniform VP is not supported.");const v=T.getFirstProof(x),N="string"!=typeof x&&T.hasJWTProofType(x)?v?.jwt:x;if(!N)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const M=T.decodeVerifiablePresentation(N),P=T.isJwtEncoded(N),L=T.isJwtDecodedPresentation(N),G=P||L?T.jwtDecodedPresentationToUniformPresentation(M,!1):M;return R?.addContextIfMissing&&!G["@context"]&&(G["@context"]=["https://www.w3.org/2018/credentials/v1"]),G.verifiableCredential=null===(k=G.verifiableCredential)||void 0===k?void 0:k.map(B=>T.toUniformCredential(B,R)),G}static jwtEncodedCredentialToUniformCredential(x,R){return T.jwtDecodedCredentialToUniformCredential((0,U.default)(x),R)}static jwtDecodedCredentialToUniformCredential(x,R){var k;const{exp:v,nbf:N,iss:M,vc:P,sub:L,jti:G}=x,B=O(x,["exp","nbf","iss","vc","sub","jti"]),q=Object.assign(Object.assign({},B),P),X=null!==(k=R?.maxTimeSkewInMS)&&void 0!==k?k:1500;if(v){const Q=q.expirationDate,te=parseInt(v.toString()),ie=te<9999999999?new Date(1e3*te).toISOString().replace(/\.000Z/,"Z"):new Date(te).toISOString();if(Q&&Q!==ie){const ae=Math.abs(new Date(ie).getTime()-new Date(Q).getTime());if(!X||ae>X)throw new Error(`Inconsistent expiration dates between JWT claim (${ie}) and VC value (${Q})`)}q.expirationDate=ie}if(N){const Q=q.issuanceDate,te=parseInt(N.toString()),ie=te<9999999999?new Date(1e3*te).toISOString().replace(/\.000Z/,"Z"):new Date(te).toISOString();if(Q&&Q!==ie){const ae=Math.abs(new Date(ie).getTime()-new Date(Q).getTime());if(!X||ae>X)throw new Error(`Inconsistent issuance dates between JWT claim (${ie}) and VC value (${Q})`)}q.issuanceDate=ie}if(M){const Q=q.issuer;if(Q){if("string"==typeof Q){if(Q!==M)throw new Error(`Inconsistent issuers between JWT claim (${M}) and VC value (${Q})`)}else if(!Q.id&&Object.keys(Q).length>0&&(Q.id=M),Q.id!==M)throw new Error(`Inconsistent issuers between JWT claim (${M}) and VC value (${Q.id})`)}else q.issuer=M}if(L){const Q=Array.isArray(q.credentialSubject)?q.credentialSubject:[q.credentialSubject];for(let te=0;te<Q.length;te++){const ie=Q[te].id;if(ie&&ie!==L)throw new Error(`Inconsistent credential subject ids between JWT claim (${L}) and VC value (${ie})`);Array.isArray(q.credentialSubject)?q.credentialSubject[te].id=L:q.credentialSubject.id=L}}if(G){const Q=q.id;if(Q&&Q!==G)throw new Error(`Inconsistent credential ids between JWT claim (${G}) and VC value (${Q})`);q.id=G}return q}static toExternalVerifiableCredential(x){let R;if(x.proof){if(!x.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!x.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!x.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!x.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");R=Object.assign(Object.assign({},x.proof),{type:x.proof.type,created:x.proof.created,proofPurpose:x.proof.proofPurpose,verificationMethod:x.proof.verificationMethod})}return Object.assign(Object.assign({},x),{type:x.type?"string"==typeof x.type?[x.type]:x.type:["VerifiableCredential"],proof:R})}static storedCredentialToOriginalFormat(x){const R=T.detectDocumentType(x);if("string"==typeof x){if(0===R)return T.toCompactJWT(x);if(1===R)return JSON.parse(x)}else{if(0===R&&"vc"in x)return T.toCompactJWT(x);if("proof"in x&&"JwtProof2020"===x.proof.type&&x.proof.jwt)return x.proof.jwt}return x}static storedPresentationToOriginalFormat(x){const R=T.detectDocumentType(x);if("string"==typeof x){if(0===R)return T.toCompactJWT(x);if(1===R)return JSON.parse(x)}else{if(0===R&&"vp"in x)return T.toCompactJWT(x);if("proof"in x&&"JwtProof2020"===x.proof.type&&x.proof.jwt)return x.proof.jwt}return x}static toCompactJWT(x){if(!x||0!==T.detectDocumentType(x))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof x)return x;let R;if(R="vp"in x?"jwt"in x.vp.proof?x.vp.proof.jwt:x.vp.proof:"vc"in x?"jwt"in x.vc.proof?x.vc.proof.jwt:x.vc.proof:Array.isArray(x.proof)?x.proof[0].jwt:x.proof.jwt,!R)throw Error("Could not get JWT from supplied document");return R}static detectDocumentType(x){if(this.isJsonLdAsString(x))return 1;if(this.isJwtEncoded(x))return 0;if(this.isSdJwtEncoded(x)||this.isSdJwtDecodedCredential(x))return 2;const R="vc"in x?x.vc.proof:"vp"in x?x.vp.proof:x.proof,k=Array.isArray(R)?R[0]:R;return k?.jwt?0:"EthereumEip712Signature2021"===k?.type?3:1}static hasJWTProofType(x){var R;return"string"!=typeof x&&!(null===(R=T.getFirstProof(x))||void 0===R||!R.jwt)}static getFirstProof(x){if(!x||"string"==typeof x)return;const R="vc"in x?x.vc.proof:"vp"in x?x.vp.proof:x.proof;return Array.isArray(R)?R[0]:R}}I.CredentialMapper=T,T.isWrappedSdJwtVerifiableCredential=K.isWrappedSdJwtVerifiableCredential,T.isWrappedSdJwtVerifiablePresentation=K.isWrappedSdJwtVerifiablePresentation,T.isWrappedW3CVerifiableCredential=K.isWrappedW3CVerifiableCredential,T.isWrappedW3CVerifiablePresentation=K.isWrappedW3CVerifiablePresentation},54065:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(51236),I),$(A(71561),I)},71561:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.mapLanguageValues=I.mapLanguageValue=I.toLanguageValueObjects=I.toLanguageValueObject=I.isLanguageValueObjects=I.isLanguageValueObject=void 0;const O=A(59433);I.isLanguageValueObject=x=>!(!x||!O.ObjectUtils.isObject(x)||Array.isArray(x)||2!==Object.keys(x).length||!("language"in x)||!x.language||!("value"in x)||!x.value),I.isLanguageValueObjects=x=>!(!x||!Array.isArray(x))&&x.every(R=>(0,I.isLanguageValueObject)(R)),I.toLanguageValueObject=x=>(0,I.isLanguageValueObject)(x)?x:void 0,I.toLanguageValueObjects=x=>(0,I.isLanguageValueObject)(x)?O.ObjectUtils.asArray((0,I.toLanguageValueObject)(x)):(0,I.isLanguageValueObjects)(x)?x:void 0,I.mapLanguageValue=(x,R)=>{const k=(0,I.toLanguageValueObjects)(x);if(Array.isArray(k)){if(0===k.length)return x;const v=k.filter(M=>!R?.language||M.language.toLowerCase().includes(R.language.toLowerCase()));let N;if(v.length>0)N=v[0];else{if(!1===R?.fallbackToFirstObject)return x;N=k[0]}return N.value}return x},I.mapLanguageValues=(x,R)=>{const k=R?.noDeepClone?x:JSON.parse(JSON.stringify(x));return Object.keys(x).forEach(v=>{k[v]=(0,I.mapLanguageValue)(k[v],R),(O.ObjectUtils.isObject(k[v])||Array.isArray(k[v]))&&(k[v]=(0,I.mapLanguageValues)(k[v],Object.assign(Object.assign({},R),{noDeepClone:!0})))}),k}},40528:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.parseDid=I.IProofType=I.IProofPurpose=void 0;var A=function(K){return K.verificationMethod="verificationMethod",K.assertionMethod="assertionMethod",K.authentication="authentication",K.keyAgreement="keyAgreement",K.contractAgreement="contactAgreement",K.capabilityInvocation="capabilityInvocation",K.capabilityDelegation="capabilityDelegation",K}(A||(I.IProofPurpose=A={})),O=function(K){return K.Ed25519Signature2018="Ed25519Signature2018",K.Ed25519Signature2020="Ed25519Signature2020",K.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",K.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",K.JsonWebSignature2020="JsonWebSignature2020",K.RsaSignature2018="RsaSignature2018",K.GpgSignature2020="GpgSignature2020",K.JcsEd25519Signature2020="JcsEd25519Signature2020",K.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",K.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",K.JwtProof2020="JwtProof2020",K}(O||(I.IProofType=O={}));I.parseDid=K=>{const y=U(K);if(null===y)throw new Error("invalid did");return y};const U=K=>{const T="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",R="[a-zA-Z0-9_.:%-]",L=new RegExp(`^did:([a-z0-9]+):((?:${T}*:)*(${T}+))((;${R}+=${R}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===K||!K)return null;const G=K.match(L);if(G){const B={did:`did:${G[1]}:${G[2]}`,method:G[1],id:G[2],didUrl:K};if(G[4]){const q=G[4].slice(1).split(";");B.params={};for(const X of q){const Q=X.split("=");B.params[Q[0]]=Q[1]}}return G[6]&&(B.path=G[6]),G[7]&&(B.query=G[7].slice(1)),G[8]&&(B.fragment=G[8].slice(1)),B}return null}},5940:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},76533:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(40528),I),$(A(30988),I),$(A(69922),I),$(A(5940),I),$(A(86548),I),$(A(66996),I)},30988:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0})},86548:function(ye,I,A){"use strict";var O=this&&this.__awaiter||function(w,x,R,k){return new(R||(R=Promise))(function(N,M){function P(B){try{G(k.next(B))}catch(q){M(q)}}function L(B){try{G(k.throw(B))}catch(q){M(q)}}function G(B){B.done?N(B.value):function v(N){return N instanceof R?N:new R(function(M){M(N)})}(B.value).then(P,L)}G((k=k.apply(w,x||[])).next())})};Object.defineProperty(I,"__esModule",{value:!0}),I.decodeSdJwtVcAsync=I.decodeSdJwtVc=I.isWrappedSdJwtVerifiablePresentation=I.isWrappedSdJwtVerifiableCredential=void 0;const $=A(15315);I.isWrappedSdJwtVerifiableCredential=function U(w){return"vc+sd-jwt"===w.format},I.isWrappedSdJwtVerifiablePresentation=function K(w){return"vc+sd-jwt"===w.format},I.decodeSdJwtVc=function y(w,x){const{jwt:R,disclosures:k}=(0,$.decodeSdJwtSync)(w,x),v=R.payload;return{compactSdJwtVc:w,decodedPayload:(0,$.getClaimsSync)(v,k,x),disclosures:k.map(M=>{const P=M.key?[M.salt,M.key,M.value]:[M.salt,M.value];if(!M._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:P,digest:M._digest,encoded:M.encode()}}),signedPayload:v}},I.decodeSdJwtVcAsync=function T(w,x){return O(this,void 0,void 0,function*(){const{jwt:R,disclosures:k}=yield(0,$.decodeSdJwt)(w,x),v=R.payload,N=yield(0,$.getClaims)(v,k,x);return{compactSdJwtVc:w,decodedPayload:N,disclosures:k.map(M=>{const P=M.key?[M.salt,M.key,M.value]:[M.salt,M.value];if(!M._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:P,digest:M._digest,encoded:M.encode()}}),signedPayload:v}})}},69922:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.DocumentFormat=I.OriginalType=void 0;var A=function($){return $.JSONLD="json-ld",$.JWT_ENCODED="jwt-encoded",$.JWT_DECODED="jwt-decoded",$.SD_JWT_VC_ENCODED="sd-jwt-vc-encoded",$.SD_JWT_VC_DECODED="sd-jwt-vc-decoded",$}(A||(I.OriginalType=A={})),O=function($){return $[$.JWT=0]="JWT",$[$.JSONLD=1]="JSONLD",$[$.SD_JWT_VC=2]="SD_JWT_VC",$[$.EIP712=3]="EIP712",$}(O||(I.DocumentFormat=O={}))},66996:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.isWrappedW3CVerifiablePresentation=I.isWrappedW3CVerifiableCredential=I.StatusListDriverType=I.StatusListCredentialIdMode=I.StatusListType=I.JWT_PROOF_TYPE_2020=void 0,I.JWT_PROOF_TYPE_2020="JwtProof2020";var A=function(y){return y.StatusList2021="StatusList2021",y}(A||(I.StatusListType=A={})),O=function(y){return y.ISSUANCE="ISSUANCE",y.PERSISTENCE="PERSISTENCE",y.NEVER="NEVER",y}(O||(I.StatusListCredentialIdMode=O={})),$=function(y){return y.AGENT_TYPEORM="agent_typeorm",y.AGENT_KV_STORE="agent_kv_store",y.GITHUB="github",y.AGENT_FILESYSTEM="agent_filesystem",y}($||(I.StatusListDriverType=$={}));I.isWrappedW3CVerifiableCredential=function U(y){return"jwt_vc"===y.format||"ldp_vc"===y.format},I.isWrappedW3CVerifiablePresentation=function K(y){return"jwt_vp"===y.format||"ldp_vp"===y.format}},59433:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(24418),I)},24418:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ObjectUtils=void 0;class A{static asArray($){return Array.isArray($)?$:[$]}static isObject($){return"object"==typeof $||"[object Object]"===Object.prototype.toString.call($)}static isUrlAbsolute($){A.isString($)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test($)}static isString($){return"string"==typeof $||"[object String]"===Object.prototype.toString.call($)}}I.ObjectUtils=A},25704:(ye,I,A)=>{"use strict";function O(w){this.message=w}A.r(I),A.d(I,{InvalidTokenError:()=>K,default:()=>T}),(O.prototype=new Error).name="InvalidCharacterError";var $=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(w){var x=String(w).replace(/=+$/,"");if(x.length%4==1)throw new O("'atob' failed: The string to be decoded is not correctly encoded.");for(var R,k,v=0,N=0,M="";k=x.charAt(N++);~k&&(R=v%4?64*R+k:k,v++%4)?M+=String.fromCharCode(255&R>>(-2*v&6)):0)k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(k);return M};function K(w){this.message=w}(K.prototype=new Error).name="InvalidTokenError";const T=function y(w,x){if("string"!=typeof w)throw new K("Invalid token specified");var R=!0===(x=x||{}).header?0:1;try{return JSON.parse(function U(w){var x=w.replace(/-/g,"+").replace(/_/g,"/");switch(x.length%4){case 0:break;case 2:x+="==";break;case 3:x+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent($(x).replace(/(.)/g,function(k,v){var N=v.charCodeAt(0).toString(16).toUpperCase();return N.length<2&&(N="0"+N),"%"+N}))}catch{return $(x)}}(w.split(".")[R]))}catch(k){throw new K("Invalid token specified: "+k.message)}}},20844:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.MissingRefError=I.ValidationError=I.CodeGen=I.Name=I.nil=I.stringify=I.str=I._=I.KeywordCxt=void 0;const O=A(35419),$=A(98496),U=A(86980),K=A(87577),y="https://json-schema.org/draft/2020-12/schema";class T extends O.default{constructor(N={}){super({...N,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),$.default.forEach(N=>this.addVocabulary(N)),this.opts.discriminator&&this.addKeyword(U.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:N,meta:M}=this.opts;M&&(K.default.call(this,N),this.refs["http://json-schema.org/schema"]=y)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(y)?y:void 0)}}ye.exports=I=T,Object.defineProperty(I,"__esModule",{value:!0}),I.default=T;var w=A(40339);Object.defineProperty(I,"KeywordCxt",{enumerable:!0,get:function(){return w.KeywordCxt}});var x=A(1038);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return x._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return x.str}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return x.stringify}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return x.nil}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return x.Name}}),Object.defineProperty(I,"CodeGen",{enumerable:!0,get:function(){return x.CodeGen}});var R=A(42467);Object.defineProperty(I,"ValidationError",{enumerable:!0,get:function(){return R.default}});var k=A(26288);Object.defineProperty(I,"MissingRefError",{enumerable:!0,get:function(){return k.default}})},33337:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.regexpCode=I.getEsmExportName=I.getProperty=I.safeStringify=I.stringify=I.strConcat=I.addCodeArg=I.str=I._=I.nil=I._Code=I.Name=I.IDENTIFIER=I._CodeOrName=void 0;class A{}I._CodeOrName=A,I.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class O extends A{constructor(B){if(super(),!I.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}I.Name=O;class $ extends A{constructor(B){super(),this._items="string"==typeof B?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return""===B||'""'===B}get str(){var B;return null!==(B=this._str)&&void 0!==B?B:this._str=this._items.reduce((q,X)=>`${q}${X}`,"")}get names(){var B;return null!==(B=this._names)&&void 0!==B?B:this._names=this._items.reduce((q,X)=>(X instanceof O&&(q[X.str]=(q[X.str]||0)+1),q),{})}}function U(G,...B){const q=[G[0]];let X=0;for(;X<B.length;)T(q,B[X]),q.push(G[++X]);return new $(q)}I._Code=$,I.nil=new $(""),I._=U;const K=new $("+");function y(G,...B){const q=[N(G[0])];let X=0;for(;X<B.length;)q.push(K),T(q,B[X]),q.push(K,N(G[++X]));return function w(G){let B=1;for(;B<G.length-1;){if(G[B]===K){const q=x(G[B-1],G[B+1]);if(void 0!==q){G.splice(B-1,3,q);continue}G[B++]="+"}B++}}(q),new $(q)}function T(G,B){B instanceof $?G.push(...B._items):G.push(B instanceof O?B:function k(G){return"number"==typeof G||"boolean"==typeof G||null===G?G:N(Array.isArray(G)?G.join(","):G)}(B))}function x(G,B){return'""'===B?G:'""'===G?B:"string"==typeof G?B instanceof O||'"'!==G[G.length-1]?void 0:"string"!=typeof B?`${G.slice(0,-1)}${B}"`:'"'===B[0]?G.slice(0,-1)+B.slice(1):void 0:"string"!=typeof B||'"'!==B[0]||G instanceof O?void 0:`"${G}${B.slice(1)}`}function N(G){return JSON.stringify(G).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}I.str=y,I.addCodeArg=T,I.strConcat=function R(G,B){return B.emptyStr()?G:G.emptyStr()?B:y`${G}${B}`},I.stringify=function v(G){return new $(N(G))},I.safeStringify=N,I.getProperty=function M(G){return"string"==typeof G&&I.IDENTIFIER.test(G)?new $(`.${G}`):U`[${G}]`},I.getEsmExportName=function P(G){if("string"==typeof G&&I.IDENTIFIER.test(G))return new $(`${G}`);throw new Error(`CodeGen: invalid export name: ${G}, use explicit $id name mapping`)},I.regexpCode=function L(G){return new $(G.toString())}},1038:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.or=I.and=I.not=I.CodeGen=I.operators=I.varKinds=I.ValueScopeName=I.ValueScope=I.Scope=I.Name=I.regexpCode=I.stringify=I.getProperty=I.nil=I.strConcat=I.str=I._=void 0;const O=A(33337),$=A(85934);var U=A(33337);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return U._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return U.str}}),Object.defineProperty(I,"strConcat",{enumerable:!0,get:function(){return U.strConcat}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return U.nil}}),Object.defineProperty(I,"getProperty",{enumerable:!0,get:function(){return U.getProperty}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return U.stringify}}),Object.defineProperty(I,"regexpCode",{enumerable:!0,get:function(){return U.regexpCode}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return U.Name}});var K=A(85934);Object.defineProperty(I,"Scope",{enumerable:!0,get:function(){return K.Scope}}),Object.defineProperty(I,"ValueScope",{enumerable:!0,get:function(){return K.ValueScope}}),Object.defineProperty(I,"ValueScopeName",{enumerable:!0,get:function(){return K.ValueScopeName}}),Object.defineProperty(I,"varKinds",{enumerable:!0,get:function(){return K.varKinds}}),I.operators={GT:new O._Code(">"),GTE:new O._Code(">="),LT:new O._Code("<"),LTE:new O._Code("<="),EQ:new O._Code("==="),NEQ:new O._Code("!=="),NOT:new O._Code("!"),OR:new O._Code("||"),AND:new O._Code("&&"),ADD:new O._Code("+")};class y{optimizeNodes(){return this}optimizeNames(re,fe){return this}}class T extends y{constructor(re,fe,Ae){super(),this.varKind=re,this.name=fe,this.rhs=Ae}render({es5:re,_n:fe}){return`${re?$.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+fe}optimizeNames(re,fe){if(re[this.name.str])return this.rhs&&(this.rhs=b(this.rhs,re,fe)),this}get names(){return this.rhs instanceof O._CodeOrName?this.rhs.names:{}}}class w extends y{constructor(re,fe,Ae){super(),this.lhs=re,this.rhs=fe,this.sideEffects=Ae}render({_n:re}){return`${this.lhs} = ${this.rhs};`+re}optimizeNames(re,fe){if(!(this.lhs instanceof O.Name)||re[this.lhs.str]||this.sideEffects)return this.rhs=b(this.rhs,re,fe),this}get names(){return f(this.lhs instanceof O.Name?{}:{...this.lhs.names},this.rhs)}}class x extends w{constructor(re,fe,Ae,Me){super(re,Ae,Me),this.op=fe}render({_n:re}){return`${this.lhs} ${this.op}= ${this.rhs};`+re}}class R extends y{constructor(re){super(),this.label=re,this.names={}}render({_n:re}){return`${this.label}:`+re}}class k extends y{constructor(re){super(),this.label=re,this.names={}}render({_n:re}){return`break${this.label?` ${this.label}`:""};`+re}}class v extends y{constructor(re){super(),this.error=re}render({_n:re}){return`throw ${this.error};`+re}get names(){return this.error.names}}class N extends y{constructor(re){super(),this.code=re}render({_n:re}){return`${this.code};`+re}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(re,fe){return this.code=b(this.code,re,fe),this}get names(){return this.code instanceof O._CodeOrName?this.code.names:{}}}class M extends y{constructor(re=[]){super(),this.nodes=re}render(re){return this.nodes.reduce((fe,Ae)=>fe+Ae.render(re),"")}optimizeNodes(){const{nodes:re}=this;let fe=re.length;for(;fe--;){const Ae=re[fe].optimizeNodes();Array.isArray(Ae)?re.splice(fe,1,...Ae):Ae?re[fe]=Ae:re.splice(fe,1)}return re.length>0?this:void 0}optimizeNames(re,fe){const{nodes:Ae}=this;let Me=Ae.length;for(;Me--;){const Le=Ae[Me];Le.optimizeNames(re,fe)||(C(re,Le.names),Ae.splice(Me,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((re,fe)=>d(re,fe.names),{})}}class P extends M{render(re){return"{"+re._n+super.render(re)+"}"+re._n}}class L extends M{}let G=(()=>{class ee extends P{}return ee.kind="else",ee})(),B=(()=>{class ee extends P{constructor(fe,Ae){super(Ae),this.condition=fe}render(fe){let Ae=`if(${this.condition})`+super.render(fe);return this.else&&(Ae+="else "+this.else.render(fe)),Ae}optimizeNodes(){super.optimizeNodes();const fe=this.condition;if(!0===fe)return this.nodes;let Ae=this.else;if(Ae){const Me=Ae.optimizeNodes();Ae=this.else=Array.isArray(Me)?new G(Me):Me}return Ae?!1===fe?Ae instanceof ee?Ae:Ae.nodes:this.nodes.length?this:new ee(D(fe),Ae instanceof ee?[Ae]:Ae.nodes):!1!==fe&&this.nodes.length?this:void 0}optimizeNames(fe,Ae){var Me;if(this.else=null===(Me=this.else)||void 0===Me?void 0:Me.optimizeNames(fe,Ae),super.optimizeNames(fe,Ae)||this.else)return this.condition=b(this.condition,fe,Ae),this}get names(){const fe=super.names;return f(fe,this.condition),this.else&&d(fe,this.else.names),fe}}return ee.kind="if",ee})(),q=(()=>{class ee extends P{}return ee.kind="for",ee})();class X extends q{constructor(re){super(),this.iteration=re}render(re){return`for(${this.iteration})`+super.render(re)}optimizeNames(re,fe){if(super.optimizeNames(re,fe))return this.iteration=b(this.iteration,re,fe),this}get names(){return d(super.names,this.iteration.names)}}class Q extends q{constructor(re,fe,Ae,Me){super(),this.varKind=re,this.name=fe,this.from=Ae,this.to=Me}render(re){const fe=re.es5?$.varKinds.var:this.varKind,{name:Ae,from:Me,to:Le}=this;return`for(${fe} ${Ae}=${Me}; ${Ae}<${Le}; ${Ae}++)`+super.render(re)}get names(){const re=f(super.names,this.from);return f(re,this.to)}}class te extends q{constructor(re,fe,Ae,Me){super(),this.loop=re,this.varKind=fe,this.name=Ae,this.iterable=Me}render(re){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(re)}optimizeNames(re,fe){if(super.optimizeNames(re,fe))return this.iterable=b(this.iterable,re,fe),this}get names(){return d(super.names,this.iterable.names)}}let ie=(()=>{class ee extends P{constructor(fe,Ae,Me){super(),this.name=fe,this.args=Ae,this.async=Me}render(fe){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(fe)}}return ee.kind="func",ee})(),ae=(()=>{class ee extends M{render(fe){return"return "+super.render(fe)}}return ee.kind="return",ee})();class me extends P{render(re){let fe="try"+super.render(re);return this.catch&&(fe+=this.catch.render(re)),this.finally&&(fe+=this.finally.render(re)),fe}optimizeNodes(){var re,fe;return super.optimizeNodes(),null===(re=this.catch)||void 0===re||re.optimizeNodes(),null===(fe=this.finally)||void 0===fe||fe.optimizeNodes(),this}optimizeNames(re,fe){var Ae,Me;return super.optimizeNames(re,fe),null===(Ae=this.catch)||void 0===Ae||Ae.optimizeNames(re,fe),null===(Me=this.finally)||void 0===Me||Me.optimizeNames(re,fe),this}get names(){const re=super.names;return this.catch&&d(re,this.catch.names),this.finally&&d(re,this.finally.names),re}}let ge=(()=>{class ee extends P{constructor(fe){super(),this.error=fe}render(fe){return`catch(${this.error})`+super.render(fe)}}return ee.kind="catch",ee})(),de=(()=>{class ee extends P{render(fe){return"finally"+super.render(fe)}}return ee.kind="finally",ee})();function d(ee,re){for(const fe in re)ee[fe]=(ee[fe]||0)+(re[fe]||0);return ee}function f(ee,re){return re instanceof O._CodeOrName?d(ee,re.names):ee}function b(ee,re,fe){return ee instanceof O.Name?Ae(ee):function Me(Le){return Le instanceof O._Code&&Le._items.some(Ee=>Ee instanceof O.Name&&1===re[Ee.str]&&void 0!==fe[Ee.str])}(ee)?new O._Code(ee._items.reduce((Le,Ee)=>(Ee instanceof O.Name&&(Ee=Ae(Ee)),Ee instanceof O._Code?Le.push(...Ee._items):Le.push(Ee),Le),[])):ee;function Ae(Le){const Ee=fe[Le.str];return void 0===Ee||1!==re[Le.str]?Le:(delete re[Le.str],Ee)}}function C(ee,re){for(const fe in re)ee[fe]=(ee[fe]||0)-(re[fe]||0)}function D(ee){return"boolean"==typeof ee||"number"==typeof ee||null===ee?!ee:O._`!${J(ee)}`}I.CodeGen=class z{constructor(re,fe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...fe,_n:fe.lines?"\n":""},this._extScope=re,this._scope=new $.Scope({parent:re}),this._nodes=[new L]}toString(){return this._root.render(this.opts)}name(re){return this._scope.name(re)}scopeName(re){return this._extScope.name(re)}scopeValue(re,fe){const Ae=this._extScope.value(re,fe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(re,fe){return this._extScope.getValue(re,fe)}scopeRefs(re){return this._extScope.scopeRefs(re,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(re,fe,Ae,Me){const Le=this._scope.toName(fe);return void 0!==Ae&&Me&&(this._constants[Le.str]=Ae),this._leafNode(new T(re,Le,Ae)),Le}const(re,fe,Ae){return this._def($.varKinds.const,re,fe,Ae)}let(re,fe,Ae){return this._def($.varKinds.let,re,fe,Ae)}var(re,fe,Ae){return this._def($.varKinds.var,re,fe,Ae)}assign(re,fe,Ae){return this._leafNode(new w(re,fe,Ae))}add(re,fe){return this._leafNode(new x(re,I.operators.ADD,fe))}code(re){return"function"==typeof re?re():re!==O.nil&&this._leafNode(new N(re)),this}object(...re){const fe=["{"];for(const[Ae,Me]of re)fe.length>1&&fe.push(","),fe.push(Ae),(Ae!==Me||this.opts.es5)&&(fe.push(":"),(0,O.addCodeArg)(fe,Me));return fe.push("}"),new O._Code(fe)}if(re,fe,Ae){if(this._blockNode(new B(re)),fe&&Ae)this.code(fe).else().code(Ae).endIf();else if(fe)this.code(fe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(re){return this._elseNode(new B(re))}else(){return this._elseNode(new G)}endIf(){return this._endBlockNode(B,G)}_for(re,fe){return this._blockNode(re),fe&&this.code(fe).endFor(),this}for(re,fe){return this._for(new X(re),fe)}forRange(re,fe,Ae,Me,Le=(this.opts.es5?$.varKinds.var:$.varKinds.let)){const Ee=this._scope.toName(re);return this._for(new Q(Le,Ee,fe,Ae),()=>Me(Ee))}forOf(re,fe,Ae,Me=$.varKinds.const){const Le=this._scope.toName(re);if(this.opts.es5){const Ee=fe instanceof O.Name?fe:this.var("_arr",fe);return this.forRange("_i",0,O._`${Ee}.length`,Se=>{this.var(Le,O._`${Ee}[${Se}]`),Ae(Le)})}return this._for(new te("of",Me,Le,fe),()=>Ae(Le))}forIn(re,fe,Ae,Me=(this.opts.es5?$.varKinds.var:$.varKinds.const)){if(this.opts.ownProperties)return this.forOf(re,O._`Object.keys(${fe})`,Ae);const Le=this._scope.toName(re);return this._for(new te("in",Me,Le,fe),()=>Ae(Le))}endFor(){return this._endBlockNode(q)}label(re){return this._leafNode(new R(re))}break(re){return this._leafNode(new k(re))}return(re){const fe=new ae;if(this._blockNode(fe),this.code(re),1!==fe.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ae)}try(re,fe,Ae){if(!fe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Me=new me;if(this._blockNode(Me),this.code(re),fe){const Le=this.name("e");this._currNode=Me.catch=new ge(Le),fe(Le)}return Ae&&(this._currNode=Me.finally=new de,this.code(Ae)),this._endBlockNode(ge,de)}throw(re){return this._leafNode(new v(re))}block(re,fe){return this._blockStarts.push(this._nodes.length),re&&this.code(re).endBlock(fe),this}endBlock(re){const fe=this._blockStarts.pop();if(void 0===fe)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-fe;if(Ae<0||void 0!==re&&Ae!==re)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${re} expected`);return this._nodes.length=fe,this}func(re,fe=O.nil,Ae,Me){return this._blockNode(new ie(re,fe,Ae)),Me&&this.code(Me).endFunc(),this}endFunc(){return this._endBlockNode(ie)}optimize(re=1){for(;re-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(re){return this._currNode.nodes.push(re),this}_blockNode(re){this._currNode.nodes.push(re),this._nodes.push(re)}_endBlockNode(re,fe){const Ae=this._currNode;if(Ae instanceof re||fe&&Ae instanceof fe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${fe?`${re.kind}/${fe.kind}`:re.kind}"`)}_elseNode(re){const fe=this._currNode;if(!(fe instanceof B))throw new Error('CodeGen: "else" without "if"');return this._currNode=fe.else=re,this}get _root(){return this._nodes[0]}get _currNode(){const re=this._nodes;return re[re.length-1]}set _currNode(re){const fe=this._nodes;fe[fe.length-1]=re}},I.not=D;const V=g(I.operators.AND);I.and=function Y(...ee){return ee.reduce(V)};const F=g(I.operators.OR);function g(ee){return(re,fe)=>re===O.nil?fe:fe===O.nil?re:O._`${J(re)} ${ee} ${J(fe)}`}function J(ee){return ee instanceof O.Name?ee:O._`(${ee})`}I.or=function h(...ee){return ee.reduce(F)}},85934:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ValueScope=I.ValueScopeName=I.Scope=I.varKinds=I.UsedValueState=void 0;const O=A(33337);class $ extends Error{constructor(R){super(`CodeGen: "code" for ${R} not defined`),this.value=R.value}}var U,x;(x=U=I.UsedValueState||(I.UsedValueState={}))[x.Started=0]="Started",x[x.Completed=1]="Completed",I.varKinds={const:new O.Name("const"),let:new O.Name("let"),var:new O.Name("var")};class K{constructor({prefixes:R,parent:k}={}){this._names={},this._prefixes=R,this._parent=k}toName(R){return R instanceof O.Name?R:this.name(R)}name(R){return new O.Name(this._newName(R))}_newName(R){return`${R}${(this._names[R]||this._nameGroup(R)).index++}`}_nameGroup(R){var k,v;if(null!==(v=null===(k=this._parent)||void 0===k?void 0:k._prefixes)&&void 0!==v&&v.has(R)||this._prefixes&&!this._prefixes.has(R))throw new Error(`CodeGen: prefix "${R}" is not allowed in this scope`);return this._names[R]={prefix:R,index:0}}}I.Scope=K;class y extends O.Name{constructor(R,k){super(k),this.prefix=R}setValue(R,{property:k,itemIndex:v}){this.value=R,this.scopePath=O._`.${new O.Name(k)}[${v}]`}}I.ValueScopeName=y;const T=O._`\n`;I.ValueScope=class w extends K{constructor(R){super(R),this._values={},this._scope=R.scope,this.opts={...R,_n:R.lines?T:O.nil}}get(){return this._scope}name(R){return new y(R,this._newName(R))}value(R,k){var v;if(void 0===k.ref)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(R),{prefix:M}=N,P=null!==(v=k.key)&&void 0!==v?v:k.ref;let L=this._values[M];if(L){const q=L.get(P);if(q)return q}else L=this._values[M]=new Map;L.set(P,N);const G=this._scope[M]||(this._scope[M]=[]),B=G.length;return G[B]=k.ref,N.setValue(k,{property:M,itemIndex:B}),N}getValue(R,k){const v=this._values[R];if(v)return v.get(k)}scopeRefs(R,k=this._values){return this._reduceValues(k,v=>{if(void 0===v.scopePath)throw new Error(`CodeGen: name "${v}" has no value`);return O._`${R}${v.scopePath}`})}scopeCode(R=this._values,k,v){return this._reduceValues(R,N=>{if(void 0===N.value)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},k,v)}_reduceValues(R,k,v={},N){let M=O.nil;for(const P in R){const L=R[P];if(!L)continue;const G=v[P]=v[P]||new Map;L.forEach(B=>{if(G.has(B))return;G.set(B,U.Started);let q=k(B);if(q)M=O._`${M}${this.opts.es5?I.varKinds.var:I.varKinds.const} ${B} = ${q};${this.opts._n}`;else{if(!(q=N?.(B)))throw new $(B);M=O._`${M}${q}${this.opts._n}`}G.set(B,U.Completed)})}return M}}},53421:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.extendErrors=I.resetErrorsCount=I.reportExtraError=I.reportError=I.keyword$DataError=I.keywordError=void 0;const O=A(1038),$=A(27006),U=A(23432);function x(G,B){const q=G.const("err",B);G.if(O._`${U.default.vErrors} === null`,()=>G.assign(U.default.vErrors,O._`[${q}]`),O._`${U.default.vErrors}.push(${q})`),G.code(O._`${U.default.errors}++`)}function R(G,B){const{gen:q,validateName:X,schemaEnv:Q}=G;Q.$async?q.throw(O._`new ${G.ValidationError}(${B})`):(q.assign(O._`${X}.errors`,B),q.return(!1))}I.keywordError={message:({keyword:G})=>O.str`must pass "${G}" keyword validation`},I.keyword$DataError={message:({keyword:G,schemaType:B})=>B?O.str`"${G}" keyword must be ${B} ($data)`:O.str`"${G}" keyword is invalid ($data)`},I.reportError=function K(G,B=I.keywordError,q,X){const{it:Q}=G,{gen:te,compositeRule:ie,allErrors:ae}=Q,me=v(G,B,q);X??(ie||ae)?x(te,me):R(Q,O._`[${me}]`)},I.reportExtraError=function y(G,B=I.keywordError,q){const{it:X}=G,{gen:Q,compositeRule:te,allErrors:ie}=X;x(Q,v(G,B,q)),te||ie||R(X,U.default.vErrors)},I.resetErrorsCount=function T(G,B){G.assign(U.default.errors,B),G.if(O._`${U.default.vErrors} !== null`,()=>G.if(B,()=>G.assign(O._`${U.default.vErrors}.length`,B),()=>G.assign(U.default.vErrors,null)))},I.extendErrors=function w({gen:G,keyword:B,schemaValue:q,data:X,errsCount:Q,it:te}){if(void 0===Q)throw new Error("ajv implementation error");const ie=G.name("err");G.forRange("i",Q,U.default.errors,ae=>{G.const(ie,O._`${U.default.vErrors}[${ae}]`),G.if(O._`${ie}.instancePath === undefined`,()=>G.assign(O._`${ie}.instancePath`,(0,O.strConcat)(U.default.instancePath,te.errorPath))),G.assign(O._`${ie}.schemaPath`,O.str`${te.errSchemaPath}/${B}`),te.opts.verbose&&(G.assign(O._`${ie}.schema`,q),G.assign(O._`${ie}.data`,X))})};const k={keyword:new O.Name("keyword"),schemaPath:new O.Name("schemaPath"),params:new O.Name("params"),propertyName:new O.Name("propertyName"),message:new O.Name("message"),schema:new O.Name("schema"),parentSchema:new O.Name("parentSchema")};function v(G,B,q){const{createErrors:X}=G.it;return!1===X?O._`{}`:function N(G,B,q={}){const{gen:X,it:Q}=G,te=[M(Q,q),P(G,q)];return function L(G,{params:B,message:q},X){const{keyword:Q,data:te,schemaValue:ie,it:ae}=G,{opts:me,propertyName:ge,topSchemaRef:de,schemaPath:z}=ae;X.push([k.keyword,Q],[k.params,"function"==typeof B?B(G):B||O._`{}`]),me.messages&&X.push([k.message,"function"==typeof q?q(G):q]),me.verbose&&X.push([k.schema,ie],[k.parentSchema,O._`${de}${z}`],[U.default.data,te]),ge&&X.push([k.propertyName,ge])}(G,B,te),X.object(...te)}(G,B,q)}function M({errorPath:G},{instancePath:B}){const q=B?O.str`${G}${(0,$.getErrorPath)(B,$.Type.Str)}`:G;return[U.default.instancePath,(0,O.strConcat)(U.default.instancePath,q)]}function P({keyword:G,it:{errSchemaPath:B}},{schemaPath:q,parentSchema:X}){let Q=X?B:O.str`${B}/${G}`;return q&&(Q=O.str`${Q}${(0,$.getErrorPath)(q,$.Type.Str)}`),[k.schemaPath,Q]}},97692:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.resolveSchema=I.getCompilingSchema=I.resolveRef=I.compileSchema=I.SchemaEnv=void 0;const O=A(1038),$=A(42467),U=A(23432),K=A(77172),y=A(27006),T=A(40339);class w{constructor(q){var X;let Q;this.refs={},this.dynamicAnchors={},"object"==typeof q.schema&&(Q=q.schema),this.schema=q.schema,this.schemaId=q.schemaId,this.root=q.root||this,this.baseId=null!==(X=q.baseId)&&void 0!==X?X:(0,K.normalizeId)(Q?.[q.schemaId||"$id"]),this.schemaPath=q.schemaPath,this.localRefs=q.localRefs,this.meta=q.meta,this.$async=Q?.$async,this.refs={}}}function x(B){const q=v.call(this,B);if(q)return q;const X=(0,K.getFullPath)(this.opts.uriResolver,B.root.baseId),{es5:Q,lines:te}=this.opts.code,{ownProperties:ie}=this.opts,ae=new O.CodeGen(this.scope,{es5:Q,lines:te,ownProperties:ie});let me;B.$async&&(me=ae.scopeValue("Error",{ref:$.default,code:O._`require("ajv/dist/runtime/validation_error").default`}));const ge=ae.scopeName("validate");B.validateName=ge;const de={gen:ae,allErrors:this.opts.allErrors,data:U.default.data,parentData:U.default.parentData,parentDataProperty:U.default.parentDataProperty,dataNames:[U.default.data],dataPathArr:[O.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ae.scopeValue("schema",!0===this.opts.code.source?{ref:B.schema,code:(0,O.stringify)(B.schema)}:{ref:B.schema}),validateName:ge,ValidationError:me,schema:B.schema,schemaEnv:B,rootId:X,baseId:B.baseId||X,schemaPath:O.nil,errSchemaPath:B.schemaPath||(this.opts.jtd?"":"#"),errorPath:O._`""`,opts:this.opts,self:this};let z;try{this._compilations.add(B),(0,T.validateFunctionCode)(de),ae.optimize(this.opts.code.optimize);const d=ae.toString();z=`${ae.scopeRefs(U.default.scope)}return ${d}`,this.opts.code.process&&(z=this.opts.code.process(z,B));const b=new Function(`${U.default.self}`,`${U.default.scope}`,z)(this,this.scope.get());if(this.scope.value(ge,{ref:b}),b.errors=null,b.schema=B.schema,b.schemaEnv=B,B.$async&&(b.$async=!0),!0===this.opts.code.source&&(b.source={validateName:ge,validateCode:d,scopeValues:ae._values}),this.opts.unevaluated){const{props:C,items:D}=de;b.evaluated={props:C instanceof O.Name?void 0:C,items:D instanceof O.Name?void 0:D,dynamicProps:C instanceof O.Name,dynamicItems:D instanceof O.Name},b.source&&(b.source.evaluated=(0,O.stringify)(b.evaluated))}return B.validate=b,B}catch(d){throw delete B.validate,delete B.validateName,z&&this.logger.error("Error compiling schema, function code:",z),d}finally{this._compilations.delete(B)}}function k(B){return(0,K.inlineRef)(B.schema,this.opts.inlineRefs)?B.schema:B.validate?B:x.call(this,B)}function v(B){for(const q of this._compilations)if(N(q,B))return q}function N(B,q){return B.schema===q.schema&&B.root===q.root&&B.baseId===q.baseId}function M(B,q){let X;for(;"string"==typeof(X=this.refs[q]);)q=X;return X||this.schemas[q]||P.call(this,B,q)}function P(B,q){const X=this.opts.uriResolver.parse(q),Q=(0,K._getFullPath)(this.opts.uriResolver,X);let te=(0,K.getFullPath)(this.opts.uriResolver,B.baseId,void 0);if(Object.keys(B.schema).length>0&&Q===te)return G.call(this,X,B);const ie=(0,K.normalizeId)(Q),ae=this.refs[ie]||this.schemas[ie];if("string"==typeof ae){const me=P.call(this,B,ae);return"object"!=typeof me?.schema?void 0:G.call(this,X,me)}if("object"==typeof ae?.schema){if(ae.validate||x.call(this,ae),ie===(0,K.normalizeId)(q)){const{schema:me}=ae,{schemaId:ge}=this.opts,de=me[ge];return de&&(te=(0,K.resolveUrl)(this.opts.uriResolver,te,de)),new w({schema:me,schemaId:ge,root:B,baseId:te})}return G.call(this,X,ae)}}I.SchemaEnv=w,I.compileSchema=x,I.resolveRef=function R(B,q,X){var Q;X=(0,K.resolveUrl)(this.opts.uriResolver,q,X);const te=B.refs[X];if(te)return te;let ie=M.call(this,B,X);if(void 0===ie){const ae=null===(Q=B.localRefs)||void 0===Q?void 0:Q[X],{schemaId:me}=this.opts;ae&&(ie=new w({schema:ae,schemaId:me,root:B,baseId:q}))}return void 0!==ie?B.refs[X]=k.call(this,ie):void 0},I.getCompilingSchema=v,I.resolveSchema=P;const L=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function G(B,{baseId:q,schema:X,root:Q}){var te;if("/"!==(null===(te=B.fragment)||void 0===te?void 0:te[0]))return;for(const me of B.fragment.slice(1).split("/")){if("boolean"==typeof X)return;const ge=X[(0,y.unescapeFragment)(me)];if(void 0===ge)return;const de="object"==typeof(X=ge)&&X[this.opts.schemaId];!L.has(me)&&de&&(q=(0,K.resolveUrl)(this.opts.uriResolver,q,de))}let ie;if("boolean"!=typeof X&&X.$ref&&!(0,y.schemaHasRulesButRef)(X,this.RULES)){const me=(0,K.resolveUrl)(this.opts.uriResolver,q,X.$ref);ie=P.call(this,Q,me)}const{schemaId:ae}=this.opts;return ie=ie||new w({schema:X,schemaId:ae,root:Q,baseId:q}),ie.schema!==ie.root.schema?ie:void 0}},23432:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$={data:new O.Name("data"),valCxt:new O.Name("valCxt"),instancePath:new O.Name("instancePath"),parentData:new O.Name("parentData"),parentDataProperty:new O.Name("parentDataProperty"),rootData:new O.Name("rootData"),dynamicAnchors:new O.Name("dynamicAnchors"),vErrors:new O.Name("vErrors"),errors:new O.Name("errors"),this:new O.Name("this"),self:new O.Name("self"),scope:new O.Name("scope"),json:new O.Name("json"),jsonPos:new O.Name("jsonPos"),jsonLen:new O.Name("jsonLen"),jsonPart:new O.Name("jsonPart")};I.default=$},26288:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(77172);class $ extends Error{constructor(K,y,T,w){super(w||`can't resolve reference ${T} from id ${y}`),this.missingRef=(0,O.resolveUrl)(K,y,T),this.missingSchema=(0,O.normalizeId)((0,O.getFullPath)(K,this.missingRef))}}I.default=$},77172:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getSchemaRefs=I.resolveUrl=I.normalizeId=I._getFullPath=I.getFullPath=I.inlineRef=void 0;const O=A(27006),$=A(40362),U=A(44331),K=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);I.inlineRef=function y(G,B=!0){return"boolean"==typeof G||(!0===B?!w(G):!!B&&x(G)<=B)};const T=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function w(G){for(const B in G){if(T.has(B))return!0;const q=G[B];if(Array.isArray(q)&&q.some(w)||"object"==typeof q&&w(q))return!0}return!1}function x(G){let B=0;for(const q in G){if("$ref"===q)return 1/0;if(B++,!K.has(q)&&("object"==typeof G[q]&&(0,O.eachItem)(G[q],X=>B+=x(X)),B===1/0))return 1/0}return B}function R(G,B="",q){!1!==q&&(B=N(B));const X=G.parse(B);return k(G,X)}function k(G,B){return G.serialize(B).split("#")[0]+"#"}I.getFullPath=R,I._getFullPath=k;const v=/#\/?$/;function N(G){return G?G.replace(v,""):""}I.normalizeId=N,I.resolveUrl=function M(G,B,q){return q=N(q),G.resolve(B,q)};const P=/^[a-z_][-a-z0-9._]*$/i;I.getSchemaRefs=function L(G,B){if("boolean"==typeof G)return{};const{schemaId:q,uriResolver:X}=this.opts,Q=N(G[q]||B),te={"":Q},ie=R(X,Q,!1),ae={},me=new Set;return U(G,{allKeys:!0},(z,d,f,b)=>{if(void 0===b)return;const C=ie+d;let D=te[b];function V(F){if(F=N(D?(0,this.opts.uriResolver.resolve)(D,F):F),me.has(F))throw de(F);me.add(F);let g=this.refs[F];return"string"==typeof g&&(g=this.refs[g]),"object"==typeof g?ge(z,g.schema,F):F!==N(C)&&("#"===F[0]?(ge(z,ae[F],F),ae[F]=z):this.refs[F]=C),F}function Y(F){if("string"==typeof F){if(!P.test(F))throw new Error(`invalid anchor "${F}"`);V.call(this,`#${F}`)}}"string"==typeof z[q]&&(D=V.call(this,z[q])),Y.call(this,z.$anchor),Y.call(this,z.$dynamicAnchor),te[d]=D}),ae;function ge(z,d,f){if(void 0!==d&&!$(z,d))throw de(f)}function de(z){return new Error(`reference "${z}" resolves to more than one schema`)}}},32203:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getRules=I.isJSONType=void 0;const O=new Set(["string","number","integer","boolean","null","object","array"]);I.isJSONType=function $(K){return"string"==typeof K&&O.has(K)},I.getRules=function U(){const K={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...K,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},K.number,K.string,K.array,K.object],post:{rules:[]},all:{},keywords:{}}}},27006:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const O=A(1038),$=A(33337);function y(ie,ae=ie.schema){const{opts:me,self:ge}=ie;if(!me.strictSchema||"boolean"==typeof ae)return;const de=ge.RULES.keywords;for(const z in ae)de[z]||te(ie,`unknown keyword: "${z}"`)}function T(ie,ae){if("boolean"==typeof ie)return!ie;for(const me in ie)if(ae[me])return!0;return!1}function v(ie){return"number"==typeof ie?`${ie}`:ie.replace(/~/g,"~0").replace(/\//g,"~1")}function N(ie){return ie.replace(/~1/g,"/").replace(/~0/g,"~")}function P({mergeNames:ie,mergeToName:ae,mergeValues:me,resultToName:ge}){return(de,z,d,f)=>{const b=void 0===d?z:d instanceof O.Name?(z instanceof O.Name?ie(de,z,d):ae(de,z,d),d):z instanceof O.Name?(ae(de,d,z),z):me(z,d);return f!==O.Name||b instanceof O.Name?b:ge(de,b)}}function L(ie,ae){if(!0===ae)return ie.var("props",!0);const me=ie.var("props",O._`{}`);return void 0!==ae&&G(ie,me,ae),me}function G(ie,ae,me){Object.keys(me).forEach(ge=>ie.assign(O._`${ae}${(0,O.getProperty)(ge)}`,!0))}I.toHash=function U(ie){const ae={};for(const me of ie)ae[me]=!0;return ae},I.alwaysValidSchema=function K(ie,ae){return"boolean"==typeof ae?ae:0===Object.keys(ae).length||(y(ie,ae),!T(ae,ie.self.RULES.all))},I.checkUnknownRules=y,I.schemaHasRules=T,I.schemaHasRulesButRef=function w(ie,ae){if("boolean"==typeof ie)return!ie;for(const me in ie)if("$ref"!==me&&ae.all[me])return!0;return!1},I.schemaRefOrVal=function x({topSchemaRef:ie,schemaPath:ae},me,ge,de){if(!de){if("number"==typeof me||"boolean"==typeof me)return me;if("string"==typeof me)return O._`${me}`}return O._`${ie}${ae}${(0,O.getProperty)(ge)}`},I.unescapeFragment=function R(ie){return N(decodeURIComponent(ie))},I.escapeFragment=function k(ie){return encodeURIComponent(v(ie))},I.escapeJsonPointer=v,I.unescapeJsonPointer=N,I.eachItem=function M(ie,ae){if(Array.isArray(ie))for(const me of ie)ae(me);else ae(ie)},I.mergeEvaluated={props:P({mergeNames:(ie,ae,me)=>ie.if(O._`${me} !== true && ${ae} !== undefined`,()=>{ie.if(O._`${ae} === true`,()=>ie.assign(me,!0),()=>ie.assign(me,O._`${me} || {}`).code(O._`Object.assign(${me}, ${ae})`))}),mergeToName:(ie,ae,me)=>ie.if(O._`${me} !== true`,()=>{!0===ae?ie.assign(me,!0):(ie.assign(me,O._`${me} || {}`),G(ie,me,ae))}),mergeValues:(ie,ae)=>!0===ie||{...ie,...ae},resultToName:L}),items:P({mergeNames:(ie,ae,me)=>ie.if(O._`${me} !== true && ${ae} !== undefined`,()=>ie.assign(me,O._`${ae} === true ? true : ${me} > ${ae} ? ${me} : ${ae}`)),mergeToName:(ie,ae,me)=>ie.if(O._`${me} !== true`,()=>ie.assign(me,!0===ae||O._`${me} > ${ae} ? ${me} : ${ae}`)),mergeValues:(ie,ae)=>!0===ie||Math.max(ie,ae),resultToName:(ie,ae)=>ie.var("items",ae)})},I.evaluatedPropsToName=L,I.setEvaluated=G;const B={};var X,ie;function te(ie,ae,me=ie.opts.strictSchema){if(me){if(ae=`strict mode: ${ae}`,!0===me)throw new Error(ae);ie.self.logger.warn(ae)}}I.useFunc=function q(ie,ae){return ie.scopeValue("func",{ref:ae,code:B[ae.code]||(B[ae.code]=new $._Code(ae.code))})},(ie=X=I.Type||(I.Type={}))[ie.Num=0]="Num",ie[ie.Str=1]="Str",I.getErrorPath=function Q(ie,ae,me){if(ie instanceof O.Name){const ge=ae===X.Num;return me?ge?O._`"[" + ${ie} + "]"`:O._`"['" + ${ie} + "']"`:ge?O._`"/" + ${ie}`:O._`"/" + ${ie}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return me?(0,O.getProperty)(ie).toString():"/"+v(ie)},I.checkStrictMode=te},22650:(ye,I)=>{"use strict";function O(U,K){return K.rules.some(y=>$(U,y))}function $(U,K){var y;return void 0!==U[K.keyword]||(null===(y=K.definition.implements)||void 0===y?void 0:y.some(T=>void 0!==U[T]))}Object.defineProperty(I,"__esModule",{value:!0}),I.shouldUseRule=I.shouldUseGroup=I.schemaHasRulesForType=void 0,I.schemaHasRulesForType=function A({schema:U,self:K},y){const T=K.RULES.types[y];return T&&!0!==T&&O(U,T)},I.shouldUseGroup=O,I.shouldUseRule=$},37864:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.boolOrEmptySchema=I.topBoolOrEmptySchema=void 0;const O=A(53421),$=A(1038),U=A(23432),K={message:"boolean schema is false"};function w(x,R){const{gen:k,data:v}=x;(0,O.reportError)({gen:k,keyword:"false schema",data:v,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:x},K,void 0,R)}I.topBoolOrEmptySchema=function y(x){const{gen:R,schema:k,validateName:v}=x;!1===k?w(x,!1):"object"==typeof k&&!0===k.$async?R.return(U.default.data):(R.assign($._`${v}.errors`,null),R.return(!0))},I.boolOrEmptySchema=function T(x,R){const{gen:k,schema:v}=x;!1===v?(k.var(R,!1),w(x)):k.var(R,!0)}},55999:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.reportTypeError=I.checkDataTypes=I.checkDataType=I.coerceAndCheckDataType=I.getJSONTypes=I.getSchemaTypes=I.DataType=void 0;const O=A(32203),$=A(22650),U=A(53421),K=A(1038),y=A(27006);var T,X;function x(X){const Q=Array.isArray(X)?X:X?[X]:[];if(Q.every(O.isJSONType))return Q;throw new Error("type must be JSONType or JSONType[]: "+Q.join(","))}(X=T=I.DataType||(I.DataType={}))[X.Correct=0]="Correct",X[X.Wrong=1]="Wrong",I.getSchemaTypes=function w(X){const Q=x(X.type);if(Q.includes("null")){if(!1===X.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!Q.length&&void 0!==X.nullable)throw new Error('"nullable" cannot be used without "type"');!0===X.nullable&&Q.push("null")}return Q},I.getJSONTypes=x,I.coerceAndCheckDataType=function R(X,Q){const{gen:te,data:ie,opts:ae}=X,me=function v(X,Q){return Q?X.filter(te=>k.has(te)||"array"===Q&&"array"===te):[]}(Q,ae.coerceTypes),ge=Q.length>0&&!(0===me.length&&1===Q.length&&(0,$.schemaHasRulesForType)(X,Q[0]));if(ge){const de=L(Q,ie,ae.strictNumbers,T.Wrong);te.if(de,()=>{me.length?function N(X,Q,te){const{gen:ie,data:ae,opts:me}=X,ge=ie.let("dataType",K._`typeof ${ae}`),de=ie.let("coerced",K._`undefined`);"array"===me.coerceTypes&&ie.if(K._`${ge} == 'object' && Array.isArray(${ae}) && ${ae}.length == 1`,()=>ie.assign(ae,K._`${ae}[0]`).assign(ge,K._`typeof ${ae}`).if(L(Q,ae,me.strictNumbers),()=>ie.assign(de,ae))),ie.if(K._`${de} !== undefined`);for(const d of te)(k.has(d)||"array"===d&&"array"===me.coerceTypes)&&z(d);function z(d){switch(d){case"string":return void ie.elseIf(K._`${ge} == "number" || ${ge} == "boolean"`).assign(de,K._`"" + ${ae}`).elseIf(K._`${ae} === null`).assign(de,K._`""`);case"number":return void ie.elseIf(K._`${ge} == "boolean" || ${ae} === null
              || (${ge} == "string" && ${ae} && ${ae} == +${ae})`).assign(de,K._`+${ae}`);case"integer":return void ie.elseIf(K._`${ge} === "boolean" || ${ae} === null
              || (${ge} === "string" && ${ae} && ${ae} == +${ae} && !(${ae} % 1))`).assign(de,K._`+${ae}`);case"boolean":return void ie.elseIf(K._`${ae} === "false" || ${ae} === 0 || ${ae} === null`).assign(de,!1).elseIf(K._`${ae} === "true" || ${ae} === 1`).assign(de,!0);case"null":return ie.elseIf(K._`${ae} === "" || ${ae} === 0 || ${ae} === false`),void ie.assign(de,null);case"array":ie.elseIf(K._`${ge} === "string" || ${ge} === "number"
              || ${ge} === "boolean" || ${ae} === null`).assign(de,K._`[${ae}]`)}}ie.else(),B(X),ie.endIf(),ie.if(K._`${de} !== undefined`,()=>{ie.assign(ae,de),function M({gen:X,parentData:Q,parentDataProperty:te},ie){X.if(K._`${Q} !== undefined`,()=>X.assign(K._`${Q}[${te}]`,ie))}(X,de)})}(X,Q,me):B(X)})}return ge};const k=new Set(["string","number","integer","boolean","null"]);function P(X,Q,te,ie=T.Correct){const ae=ie===T.Correct?K.operators.EQ:K.operators.NEQ;let me;switch(X){case"null":return K._`${Q} ${ae} null`;case"array":me=K._`Array.isArray(${Q})`;break;case"object":me=K._`${Q} && typeof ${Q} == "object" && !Array.isArray(${Q})`;break;case"integer":me=ge(K._`!(${Q} % 1) && !isNaN(${Q})`);break;case"number":me=ge();break;default:return K._`typeof ${Q} ${ae} ${X}`}return ie===T.Correct?me:(0,K.not)(me);function ge(de=K.nil){return(0,K.and)(K._`typeof ${Q} == "number"`,de,te?K._`isFinite(${Q})`:K.nil)}}function L(X,Q,te,ie){if(1===X.length)return P(X[0],Q,te,ie);let ae;const me=(0,y.toHash)(X);if(me.array&&me.object){const ge=K._`typeof ${Q} != "object"`;ae=me.null?ge:K._`!${Q} || ${ge}`,delete me.null,delete me.array,delete me.object}else ae=K.nil;me.number&&delete me.integer;for(const ge in me)ae=(0,K.and)(ae,P(ge,Q,te,ie));return ae}I.checkDataType=P,I.checkDataTypes=L;const G={message:({schema:X})=>`must be ${X}`,params:({schema:X,schemaValue:Q})=>"string"==typeof X?K._`{type: ${X}}`:K._`{type: ${Q}}`};function B(X){const Q=function q(X){const{gen:Q,data:te,schema:ie}=X,ae=(0,y.schemaRefOrVal)(X,ie,"type");return{gen:Q,keyword:"type",data:te,schema:ie.type,schemaCode:ae,schemaValue:ae,parentSchema:ie,params:{},it:X}}(X);(0,U.reportError)(Q,G)}I.reportTypeError=B},48733:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.assignDefaults=void 0;const O=A(1038),$=A(27006);function K(y,T,w){const{gen:x,compositeRule:R,data:k,opts:v}=y;if(void 0===w)return;const N=O._`${k}${(0,O.getProperty)(T)}`;if(R)return void(0,$.checkStrictMode)(y,`default is ignored for: ${N}`);let M=O._`${N} === undefined`;"empty"===v.useDefaults&&(M=O._`${M} || ${N} === null || ${N} === ""`),x.if(M,O._`${N} = ${(0,O.stringify)(w)}`)}I.assignDefaults=function U(y,T){const{properties:w,items:x}=y.schema;if("object"===T&&w)for(const R in w)K(y,R,w[R].default);else"array"===T&&Array.isArray(x)&&x.forEach((R,k)=>K(y,k,R.default))}},40339:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getData=I.KeywordCxt=I.validateFunctionCode=void 0;const O=A(37864),$=A(55999),U=A(22650),K=A(55999),y=A(48733),T=A(76800),w=A(16334),x=A(1038),R=A(23432),k=A(77172),v=A(27006),N=A(53421);function P({gen:Te,validateName:u,schema:xe,schemaEnv:be,opts:_e},Ce){_e.code.es5?Te.func(u,x._`${R.default.data}, ${R.default.valCxt}`,be.$async,()=>{Te.code(x._`"use strict"; ${X(xe,_e)}`),function G(Te,u){Te.if(R.default.valCxt,()=>{Te.var(R.default.instancePath,x._`${R.default.valCxt}.${R.default.instancePath}`),Te.var(R.default.parentData,x._`${R.default.valCxt}.${R.default.parentData}`),Te.var(R.default.parentDataProperty,x._`${R.default.valCxt}.${R.default.parentDataProperty}`),Te.var(R.default.rootData,x._`${R.default.valCxt}.${R.default.rootData}`),u.dynamicRef&&Te.var(R.default.dynamicAnchors,x._`${R.default.valCxt}.${R.default.dynamicAnchors}`)},()=>{Te.var(R.default.instancePath,x._`""`),Te.var(R.default.parentData,x._`undefined`),Te.var(R.default.parentDataProperty,x._`undefined`),Te.var(R.default.rootData,R.default.data),u.dynamicRef&&Te.var(R.default.dynamicAnchors,x._`{}`)})}(Te,_e),Te.code(Ce)}):Te.func(u,x._`${R.default.data}, ${function L(Te){return x._`{${R.default.instancePath}="", ${R.default.parentData}, ${R.default.parentDataProperty}, ${R.default.rootData}=${R.default.data}${Te.dynamicRef?x._`, ${R.default.dynamicAnchors}={}`:x.nil}}={}`}(_e)}`,be.$async,()=>Te.code(X(xe,_e)).code(Ce))}function X(Te,u){const xe="object"==typeof Te&&Te[u.schemaId];return xe&&(u.code.source||u.code.process)?x._`/*# sourceURL=${xe} */`:x.nil}function te({schema:Te,self:u}){if("boolean"==typeof Te)return!Te;for(const xe in Te)if(u.RULES.all[xe])return!0;return!1}function ie(Te){return"boolean"!=typeof Te.schema}function me(Te){(0,v.checkUnknownRules)(Te),function de(Te){const{schema:u,errSchemaPath:xe,opts:be,self:_e}=Te;u.$ref&&be.ignoreKeywordsWithRef&&(0,v.schemaHasRulesButRef)(u,_e.RULES)&&_e.logger.warn(`$ref: keywords ignored in schema at path "${xe}"`)}(Te)}function ge(Te,u){if(Te.opts.jtd)return V(Te,[],!1,u);const xe=(0,$.getSchemaTypes)(Te.schema);V(Te,xe,!(0,$.coerceAndCheckDataType)(Te,xe),u)}function b({gen:Te,schemaEnv:u,schema:xe,errSchemaPath:be,opts:_e}){const Ce=xe.$comment;if(!0===_e.$comment)Te.code(x._`${R.default.self}.logger.log(${Ce})`);else if("function"==typeof _e.$comment){const ke=x.str`${be}/$comment`,ze=Te.scopeValue("root",{ref:u.root});Te.code(x._`${R.default.self}.opts.$comment(${Ce}, ${ke}, ${ze}.schema)`)}}function V(Te,u,xe,be){const{gen:_e,schema:Ce,data:ke,allErrors:ze,opts:Ne,self:We}=Te,{RULES:Ye}=We;function wt(mt){(0,U.shouldUseGroup)(Ce,mt)&&(mt.type?(_e.if((0,K.checkDataType)(mt.type,ke,Ne.strictNumbers)),Y(Te,mt),1===u.length&&u[0]===mt.type&&xe&&(_e.else(),(0,K.reportTypeError)(Te)),_e.endIf()):Y(Te,mt),ze||_e.if(x._`${R.default.errors} === ${be||0}`))}!Ce.$ref||!Ne.ignoreKeywordsWithRef&&(0,v.schemaHasRulesButRef)(Ce,Ye)?(Ne.jtd||function F(Te,u){Te.schemaEnv.meta||!Te.opts.strictTypes||(function h(Te,u){if(u.length){if(!Te.dataTypes.length)return void(Te.dataTypes=u);u.forEach(xe=>{re(Te.dataTypes,xe)||Ae(Te,`type "${xe}" not allowed by context "${Te.dataTypes.join(",")}"`)}),function fe(Te,u){const xe=[];for(const be of Te.dataTypes)re(u,be)?xe.push(be):u.includes("integer")&&"number"===be&&xe.push("integer");Te.dataTypes=xe}(Te,u)}}(Te,u),Te.opts.allowUnionTypes||function g(Te,u){u.length>1&&(2!==u.length||!u.includes("null"))&&Ae(Te,"use allowUnionTypes to allow union type keyword")}(Te,u),function J(Te,u){const xe=Te.self.RULES.all;for(const be in xe){const _e=xe[be];if("object"==typeof _e&&(0,U.shouldUseRule)(Te.schema,_e)){const{type:Ce}=_e.definition;Ce.length&&!Ce.some(ke=>ee(u,ke))&&Ae(Te,`missing type "${Ce.join(",")}" for keyword "${be}"`)}}}(Te,Te.dataTypes))}(Te,u),_e.block(()=>{for(const mt of Ye.rules)wt(mt);wt(Ye.post)})):_e.block(()=>Le(Te,"$ref",Ye.all.$ref.definition))}function Y(Te,u){const{gen:xe,schema:be,opts:{useDefaults:_e}}=Te;_e&&(0,y.assignDefaults)(Te,u.type),xe.block(()=>{for(const Ce of u.rules)(0,U.shouldUseRule)(be,Ce)&&Le(Te,Ce.keyword,Ce.definition,u.type)})}function ee(Te,u){return Te.includes(u)||"number"===u&&Te.includes("integer")}function re(Te,u){return Te.includes(u)||"integer"===u&&Te.includes("number")}function Ae(Te,u){(0,v.checkStrictMode)(Te,u+=` at "${Te.schemaEnv.baseId+Te.errSchemaPath}" (strictTypes)`,Te.opts.strictTypes)}I.validateFunctionCode=function M(Te){ie(Te)&&(me(Te),te(Te))?function B(Te){const{schema:u,opts:xe,gen:be}=Te;P(Te,()=>{xe.$comment&&u.$comment&&b(Te),function z(Te){const{schema:u,opts:xe}=Te;void 0!==u.default&&xe.useDefaults&&xe.strictSchema&&(0,v.checkStrictMode)(Te,"default is ignored in the schema root")}(Te),be.let(R.default.vErrors,null),be.let(R.default.errors,0),xe.unevaluated&&function q(Te){const{gen:u,validateName:xe}=Te;Te.evaluated=u.const("evaluated",x._`${xe}.evaluated`),u.if(x._`${Te.evaluated}.dynamicProps`,()=>u.assign(x._`${Te.evaluated}.props`,x._`undefined`)),u.if(x._`${Te.evaluated}.dynamicItems`,()=>u.assign(x._`${Te.evaluated}.items`,x._`undefined`))}(Te),ge(Te),function C(Te){const{gen:u,schemaEnv:xe,validateName:be,ValidationError:_e,opts:Ce}=Te;xe.$async?u.if(x._`${R.default.errors} === 0`,()=>u.return(R.default.data),()=>u.throw(x._`new ${_e}(${R.default.vErrors})`)):(u.assign(x._`${be}.errors`,R.default.vErrors),Ce.unevaluated&&function D({gen:Te,evaluated:u,props:xe,items:be}){xe instanceof x.Name&&Te.assign(x._`${u}.props`,xe),be instanceof x.Name&&Te.assign(x._`${u}.items`,be)}(Te),u.return(x._`${R.default.errors} === 0`))}(Te)})}(Te):P(Te,()=>(0,O.topBoolOrEmptySchema)(Te))};class Me{constructor(u,xe,be){if((0,T.validateKeywordUsage)(u,xe,be),this.gen=u.gen,this.allErrors=u.allErrors,this.keyword=be,this.data=u.data,this.schema=u.schema[be],this.$data=xe.$data&&u.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,v.schemaRefOrVal)(u,this.schema,be,this.$data),this.schemaType=xe.schemaType,this.parentSchema=u.schema,this.params={},this.it=u,this.def=xe,this.$data)this.schemaCode=u.gen.const("vSchema",He(this.$data,u));else if(this.schemaCode=this.schemaValue,!(0,T.validSchemaType)(this.schema,xe.schemaType,xe.allowUndefined))throw new Error(`${be} value must be ${JSON.stringify(xe.schemaType)}`);("code"in xe?xe.trackErrors:!1!==xe.errors)&&(this.errsCount=u.gen.const("_errs",R.default.errors))}result(u,xe,be){this.failResult((0,x.not)(u),xe,be)}failResult(u,xe,be){this.gen.if(u),be?be():this.error(),xe?(this.gen.else(),xe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(u,xe){this.failResult((0,x.not)(u),void 0,xe)}fail(u){if(void 0===u)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(u),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(u){if(!this.$data)return this.fail(u);const{schemaCode:xe}=this;this.fail(x._`${xe} !== undefined && (${(0,x.or)(this.invalid$data(),u)})`)}error(u,xe,be){if(xe)return this.setParams(xe),this._error(u,be),void this.setParams({});this._error(u,be)}_error(u,xe){(u?N.reportExtraError:N.reportError)(this,this.def.error,xe)}$dataError(){(0,N.reportError)(this,this.def.$dataError||N.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,N.resetErrorsCount)(this.gen,this.errsCount)}ok(u){this.allErrors||this.gen.if(u)}setParams(u,xe){xe?Object.assign(this.params,u):this.params=u}block$data(u,xe,be=x.nil){this.gen.block(()=>{this.check$data(u,be),xe()})}check$data(u=x.nil,xe=x.nil){if(!this.$data)return;const{gen:be,schemaCode:_e,schemaType:Ce,def:ke}=this;be.if((0,x.or)(x._`${_e} === undefined`,xe)),u!==x.nil&&be.assign(u,!0),(Ce.length||ke.validateSchema)&&(be.elseIf(this.invalid$data()),this.$dataError(),u!==x.nil&&be.assign(u,!1)),be.else()}invalid$data(){const{gen:u,schemaCode:xe,schemaType:be,def:_e,it:Ce}=this;return(0,x.or)(function ke(){if(be.length){if(!(xe instanceof x.Name))throw new Error("ajv implementation error");const Ne=Array.isArray(be)?be:[be];return x._`${(0,K.checkDataTypes)(Ne,xe,Ce.opts.strictNumbers,K.DataType.Wrong)}`}return x.nil}(),function ze(){if(_e.validateSchema){const Ne=u.scopeValue("validate$data",{ref:_e.validateSchema});return x._`!${Ne}(${xe})`}return x.nil}())}subschema(u,xe){const be=(0,w.getSubschema)(this.it,u);(0,w.extendSubschemaData)(be,this.it,u),(0,w.extendSubschemaMode)(be,u);const _e={...this.it,...be,items:void 0,props:void 0};return function Q(Te,u){ie(Te)&&(me(Te),te(Te))?function ae(Te,u){const{schema:xe,gen:be,opts:_e}=Te;_e.$comment&&xe.$comment&&b(Te),function d(Te){const u=Te.schema[Te.opts.schemaId];u&&(Te.baseId=(0,k.resolveUrl)(Te.opts.uriResolver,Te.baseId,u))}(Te),function f(Te){if(Te.schema.$async&&!Te.schemaEnv.$async)throw new Error("async schema in sync schema")}(Te);const Ce=be.const("_errs",R.default.errors);ge(Te,Ce),be.var(u,x._`${Ce} === ${R.default.errors}`)}(Te,u):(0,O.boolOrEmptySchema)(Te,u)}(_e,xe),_e}mergeEvaluated(u,xe){const{it:be,gen:_e}=this;be.opts.unevaluated&&(!0!==be.props&&void 0!==u.props&&(be.props=v.mergeEvaluated.props(_e,u.props,be.props,xe)),!0!==be.items&&void 0!==u.items&&(be.items=v.mergeEvaluated.items(_e,u.items,be.items,xe)))}mergeValidEvaluated(u,xe){const{it:be,gen:_e}=this;if(be.opts.unevaluated&&(!0!==be.props||!0!==be.items))return _e.if(xe,()=>this.mergeEvaluated(u,x.Name)),!0}}function Le(Te,u,xe,be){const _e=new Me(Te,xe,u);"code"in xe?xe.code(_e,be):_e.$data&&xe.validate?(0,T.funcKeywordCode)(_e,xe):"macro"in xe?(0,T.macroKeywordCode)(_e,xe):(xe.compile||xe.validate)&&(0,T.funcKeywordCode)(_e,xe)}I.KeywordCxt=Me;const Ee=/^\/(?:[^~]|~0|~1)*$/,Se=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function He(Te,{dataLevel:u,dataNames:xe,dataPathArr:be}){let _e,Ce;if(""===Te)return R.default.rootData;if("/"===Te[0]){if(!Ee.test(Te))throw new Error(`Invalid JSON-pointer: ${Te}`);_e=Te,Ce=R.default.rootData}else{const We=Se.exec(Te);if(!We)throw new Error(`Invalid JSON-pointer: ${Te}`);const Ye=+We[1];if(_e=We[2],"#"===_e){if(Ye>=u)throw new Error(Ne("property/index",Ye));return be[u-Ye]}if(Ye>u)throw new Error(Ne("data",Ye));if(Ce=xe[u-Ye],!_e)return Ce}let ke=Ce;const ze=_e.split("/");for(const We of ze)We&&(Ce=x._`${Ce}${(0,x.getProperty)((0,v.unescapeJsonPointer)(We))}`,ke=x._`${ke} && ${Ce}`);return ke;function Ne(We,Ye){return`Cannot access ${We} ${Ye} levels up, current level is ${u}`}}I.getData=He},76800:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateKeywordUsage=I.validSchemaType=I.funcKeywordCode=I.macroKeywordCode=void 0;const O=A(1038),$=A(23432),U=A(42406),K=A(53421);function w(M){const{gen:P,data:L,it:G}=M;P.if(G.parentData,()=>P.assign(L,O._`${G.parentData}[${G.parentDataProperty}]`))}function k(M,P,L){if(void 0===L)throw new Error(`keyword "${P}" failed to compile`);return M.scopeValue("keyword","function"==typeof L?{ref:L}:{ref:L,code:(0,O.stringify)(L)})}I.macroKeywordCode=function y(M,P){const{gen:L,keyword:G,schema:B,parentSchema:q,it:X}=M,Q=P.macro.call(X.self,B,q,X),te=k(L,G,Q);!1!==X.opts.validateSchema&&X.self.validateSchema(Q,!0);const ie=L.name("valid");M.subschema({schema:Q,schemaPath:O.nil,errSchemaPath:`${X.errSchemaPath}/${G}`,topSchemaRef:te,compositeRule:!0},ie),M.pass(ie,()=>M.error(!0))},I.funcKeywordCode=function T(M,P){var L;const{gen:G,keyword:B,schema:q,parentSchema:X,$data:Q,it:te}=M;!function R({schemaEnv:M},P){if(P.async&&!M.$async)throw new Error("async keyword in sync schema")}(te,P);const ie=!Q&&P.compile?P.compile.call(te.self,q,X,te):P.validate,ae=k(G,B,ie),me=G.let("valid");function d(b=(P.async?O._`await `:O.nil)){G.assign(me,O._`${b}${(0,U.callValidateCode)(M,ae,te.opts.passContext?$.default.this:$.default.self,!("compile"in P&&!Q||!1===P.schema))}`,P.modifying)}function f(b){var C;G.if((0,O.not)(null!==(C=P.valid)&&void 0!==C?C:me),b)}M.block$data(me,function ge(){if(!1===P.errors)d(),P.modifying&&w(M),f(()=>M.error());else{const b=P.async?function de(){const b=G.let("ruleErrs",null);return G.try(()=>d(O._`await `),C=>G.assign(me,!1).if(O._`${C} instanceof ${te.ValidationError}`,()=>G.assign(b,O._`${C}.errors`),()=>G.throw(C))),b}():function z(){const b=O._`${ae}.errors`;return G.assign(b,null),d(O.nil),b}();P.modifying&&w(M),f(()=>function x(M,P){const{gen:L}=M;L.if(O._`Array.isArray(${P})`,()=>{L.assign($.default.vErrors,O._`${$.default.vErrors} === null ? ${P} : ${$.default.vErrors}.concat(${P})`).assign($.default.errors,O._`${$.default.vErrors}.length`),(0,K.extendErrors)(M)},()=>M.error())}(M,b))}}),M.ok(null!==(L=P.valid)&&void 0!==L?L:me)},I.validSchemaType=function v(M,P,L=!1){return!P.length||P.some(G=>"array"===G?Array.isArray(M):"object"===G?M&&"object"==typeof M&&!Array.isArray(M):typeof M==G||L&&typeof M>"u")},I.validateKeywordUsage=function N({schema:M,opts:P,self:L,errSchemaPath:G},B,q){if(Array.isArray(B.keyword)?!B.keyword.includes(q):B.keyword!==q)throw new Error("ajv implementation error");const X=B.dependencies;if(X?.some(Q=>!Object.prototype.hasOwnProperty.call(M,Q)))throw new Error(`parent schema must have dependencies of ${q}: ${X.join(",")}`);if(B.validateSchema&&!B.validateSchema(M[q])){const te=`keyword "${q}" value is invalid at path "${G}": `+L.errorsText(B.validateSchema.errors);if("log"!==P.validateSchema)throw new Error(te);L.logger.error(te)}}},16334:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.extendSubschemaMode=I.extendSubschemaData=I.getSubschema=void 0;const O=A(1038),$=A(27006);I.getSubschema=function U(T,{keyword:w,schemaProp:x,schema:R,schemaPath:k,errSchemaPath:v,topSchemaRef:N}){if(void 0!==w&&void 0!==R)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==w){const M=T.schema[w];return void 0===x?{schema:M,schemaPath:O._`${T.schemaPath}${(0,O.getProperty)(w)}`,errSchemaPath:`${T.errSchemaPath}/${w}`}:{schema:M[x],schemaPath:O._`${T.schemaPath}${(0,O.getProperty)(w)}${(0,O.getProperty)(x)}`,errSchemaPath:`${T.errSchemaPath}/${w}/${(0,$.escapeFragment)(x)}`}}if(void 0!==R){if(void 0===k||void 0===v||void 0===N)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:R,schemaPath:k,topSchemaRef:N,errSchemaPath:v}}throw new Error('either "keyword" or "schema" must be passed')},I.extendSubschemaData=function K(T,w,{dataProp:x,dataPropType:R,data:k,dataTypes:v,propertyName:N}){if(void 0!==k&&void 0!==x)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:M}=w;if(void 0!==x){const{errorPath:L,dataPathArr:G,opts:B}=w;P(M.let("data",O._`${w.data}${(0,O.getProperty)(x)}`,!0)),T.errorPath=O.str`${L}${(0,$.getErrorPath)(x,R,B.jsPropertySyntax)}`,T.parentDataProperty=O._`${x}`,T.dataPathArr=[...G,T.parentDataProperty]}function P(L){T.data=L,T.dataLevel=w.dataLevel+1,T.dataTypes=[],w.definedProperties=new Set,T.parentData=w.data,T.dataNames=[...w.dataNames,L]}void 0!==k&&(P(k instanceof O.Name?k:M.let("data",k,!0)),void 0!==N&&(T.propertyName=N)),v&&(T.dataTypes=v)},I.extendSubschemaMode=function y(T,{jtdDiscriminator:w,jtdMetadata:x,compositeRule:R,createErrors:k,allErrors:v}){void 0!==R&&(T.compositeRule=R),void 0!==k&&(T.createErrors=k),void 0!==v&&(T.allErrors=v),T.jtdDiscriminator=w,T.jtdMetadata=x}},35419:(ye,I,A)=>{"use strict";var O=A(29293).default;Object.defineProperty(I,"__esModule",{value:!0}),I.CodeGen=I.Name=I.nil=I.stringify=I.str=I._=I.KeywordCxt=void 0;var $=A(40339);Object.defineProperty(I,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var U=A(1038);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return U._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return U.str}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return U.stringify}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return U.nil}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return U.Name}}),Object.defineProperty(I,"CodeGen",{enumerable:!0,get:function(){return U.CodeGen}});const K=A(42467),y=A(26288),T=A(32203),w=A(97692),x=A(1038),R=A(77172),k=A(55999),v=A(27006),N=A(83813),M=A(13203),P=(g,J)=>new RegExp(g,J);P.code="new RegExp";const L=["removeAdditional","useDefaults","coerceTypes"],G=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),B={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},q={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function Q(g){var J,ee,re,fe,Ae,Me,Le,Ee,Se,He,Te,u,xe,be,_e,Ce,ke,ze,Ne,We,Ye,wt,mt,rt,Ut;const se=g.strict,W=null===(J=g.code)||void 0===J?void 0:J.optimize,Z=!0===W||void 0===W?1:W||0,he=null!==(re=null===(ee=g.code)||void 0===ee?void 0:ee.regExp)&&void 0!==re?re:P,De=null!==(fe=g.uriResolver)&&void 0!==fe?fe:M.default;return{strictSchema:null===(Me=null!==(Ae=g.strictSchema)&&void 0!==Ae?Ae:se)||void 0===Me||Me,strictNumbers:null===(Ee=null!==(Le=g.strictNumbers)&&void 0!==Le?Le:se)||void 0===Ee||Ee,strictTypes:null!==(He=null!==(Se=g.strictTypes)&&void 0!==Se?Se:se)&&void 0!==He?He:"log",strictTuples:null!==(u=null!==(Te=g.strictTuples)&&void 0!==Te?Te:se)&&void 0!==u?u:"log",strictRequired:null!==(be=null!==(xe=g.strictRequired)&&void 0!==xe?xe:se)&&void 0!==be&&be,code:g.code?{...g.code,optimize:Z,regExp:he}:{optimize:Z,regExp:he},loopRequired:null!==(_e=g.loopRequired)&&void 0!==_e?_e:200,loopEnum:null!==(Ce=g.loopEnum)&&void 0!==Ce?Ce:200,meta:null===(ke=g.meta)||void 0===ke||ke,messages:null===(ze=g.messages)||void 0===ze||ze,inlineRefs:null===(Ne=g.inlineRefs)||void 0===Ne||Ne,schemaId:null!==(We=g.schemaId)&&void 0!==We?We:"$id",addUsedSchema:null===(Ye=g.addUsedSchema)||void 0===Ye||Ye,validateSchema:null===(wt=g.validateSchema)||void 0===wt||wt,validateFormats:null===(mt=g.validateFormats)||void 0===mt||mt,unicodeRegExp:null===(rt=g.unicodeRegExp)||void 0===rt||rt,int32range:null===(Ut=g.int32range)||void 0===Ut||Ut,uriResolver:De}}class te{constructor(J={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,J=this.opts={...J,...Q(J)};const{es5:ee,lines:re}=this.opts.code;this.scope=new x.ValueScope({scope:{},prefixes:G,es5:ee,lines:re}),this.logger=function f(g){if(!1===g)return d;if(void 0===g)return console;if(g.log&&g.warn&&g.error)return g;throw new Error("logger must implement log, warn and error methods")}(J.logger);const fe=J.validateFormats;J.validateFormats=!1,this.RULES=(0,T.getRules)(),ie.call(this,B,J,"NOT SUPPORTED"),ie.call(this,q,J,"DEPRECATED","warn"),this._metaOpts=z.call(this),J.formats&&ge.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),J.keywords&&de.call(this,J.keywords),"object"==typeof J.meta&&this.addMetaSchema(J.meta),me.call(this),J.validateFormats=fe}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:J,meta:ee,schemaId:re}=this.opts;let fe=N;"id"===re&&(fe={...N},fe.id=fe.$id,delete fe.$id),ee&&J&&this.addMetaSchema(fe,fe[re],!1)}defaultMeta(){const{meta:J,schemaId:ee}=this.opts;return this.opts.defaultMeta="object"==typeof J?J[ee]||J:void 0}validate(J,ee){let re;if("string"==typeof J){if(re=this.getSchema(J),!re)throw new Error(`no schema with key or ref "${J}"`)}else re=this.compile(J);const fe=re(ee);return"$async"in re||(this.errors=re.errors),fe}compile(J,ee){const re=this._addSchema(J,ee);return re.validate||this._compileSchemaEnv(re)}compileAsync(J,ee){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:re}=this.opts;return fe.call(this,J,ee);function fe(_e,Ce){return Ae.apply(this,arguments)}function Ae(){return(Ae=O(function*(_e,Ce){yield Me.call(this,_e.$schema);const ke=this._addSchema(_e,Ce);return ke.validate||Ee.call(this,ke)})).apply(this,arguments)}function Me(_e){return Le.apply(this,arguments)}function Le(){return(Le=O(function*(_e){_e&&!this.getSchema(_e)&&(yield fe.call(this,{$ref:_e},!0))})).apply(this,arguments)}function Ee(_e){return Se.apply(this,arguments)}function Se(){return(Se=O(function*(_e){try{return this._compileSchemaEnv(_e)}catch(Ce){if(!(Ce instanceof y.default))throw Ce;return He.call(this,Ce),yield Te.call(this,Ce.missingSchema),Ee.call(this,_e)}})).apply(this,arguments)}function He({missingSchema:_e,missingRef:Ce}){if(this.refs[_e])throw new Error(`AnySchema ${_e} is loaded but ${Ce} cannot be resolved`)}function Te(_e){return u.apply(this,arguments)}function u(){return(u=O(function*(_e){const Ce=yield xe.call(this,_e);this.refs[_e]||(yield Me.call(this,Ce.$schema)),this.refs[_e]||this.addSchema(Ce,_e,ee)})).apply(this,arguments)}function xe(_e){return be.apply(this,arguments)}function be(){return(be=O(function*(_e){const Ce=this._loading[_e];if(Ce)return Ce;try{return yield this._loading[_e]=re(_e)}finally{delete this._loading[_e]}})).apply(this,arguments)}}addSchema(J,ee,re,fe=this.opts.validateSchema){if(Array.isArray(J)){for(const Me of J)this.addSchema(Me,void 0,re,fe);return this}let Ae;if("object"==typeof J){const{schemaId:Me}=this.opts;if(Ae=J[Me],void 0!==Ae&&"string"!=typeof Ae)throw new Error(`schema ${Me} must be string`)}return ee=(0,R.normalizeId)(ee||Ae),this._checkUnique(ee),this.schemas[ee]=this._addSchema(J,re,ee,fe,!0),this}addMetaSchema(J,ee,re=this.opts.validateSchema){return this.addSchema(J,ee,!0,re),this}validateSchema(J,ee){if("boolean"==typeof J)return!0;let re;if(re=J.$schema,void 0!==re&&"string"!=typeof re)throw new Error("$schema must be a string");if(re=re||this.opts.defaultMeta||this.defaultMeta(),!re)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const fe=this.validate(re,J);if(!fe&&ee){const Ae="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Ae);this.logger.error(Ae)}return fe}getSchema(J){let ee;for(;"string"==typeof(ee=ae.call(this,J));)J=ee;if(void 0===ee){const{schemaId:re}=this.opts,fe=new w.SchemaEnv({schema:{},schemaId:re});if(ee=w.resolveSchema.call(this,fe,J),!ee)return;this.refs[J]=ee}return ee.validate||this._compileSchemaEnv(ee)}removeSchema(J){if(J instanceof RegExp)return this._removeAllSchemas(this.schemas,J),this._removeAllSchemas(this.refs,J),this;switch(typeof J){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ee=ae.call(this,J);return"object"==typeof ee&&this._cache.delete(ee.schema),delete this.schemas[J],delete this.refs[J],this}case"object":{this._cache.delete(J);let re=J[this.opts.schemaId];return re&&(re=(0,R.normalizeId)(re),delete this.schemas[re],delete this.refs[re]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(J){for(const ee of J)this.addKeyword(ee);return this}addKeyword(J,ee){let re;if("string"==typeof J)re=J,"object"==typeof ee&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ee.keyword=re);else{if("object"!=typeof J||void 0!==ee)throw new Error("invalid addKeywords parameters");if(re=(ee=J).keyword,Array.isArray(re)&&!re.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(C.call(this,re,ee),!ee)return(0,v.eachItem)(re,Ae=>D.call(this,Ae)),this;Y.call(this,ee);const fe={...ee,type:(0,k.getJSONTypes)(ee.type),schemaType:(0,k.getJSONTypes)(ee.schemaType)};return(0,v.eachItem)(re,0===fe.type.length?Ae=>D.call(this,Ae,fe):Ae=>fe.type.forEach(Me=>D.call(this,Ae,fe,Me))),this}getKeyword(J){const ee=this.RULES.all[J];return"object"==typeof ee?ee.definition:!!ee}removeKeyword(J){const{RULES:ee}=this;delete ee.keywords[J],delete ee.all[J];for(const re of ee.rules){const fe=re.rules.findIndex(Ae=>Ae.keyword===J);fe>=0&&re.rules.splice(fe,1)}return this}addFormat(J,ee){return"string"==typeof ee&&(ee=new RegExp(ee)),this.formats[J]=ee,this}errorsText(J=this.errors,{separator:ee=", ",dataVar:re="data"}={}){return J&&0!==J.length?J.map(fe=>`${re}${fe.instancePath} ${fe.message}`).reduce((fe,Ae)=>fe+ee+Ae):"No errors"}$dataMetaSchema(J,ee){const re=this.RULES.all;J=JSON.parse(JSON.stringify(J));for(const fe of ee){const Ae=fe.split("/").slice(1);let Me=J;for(const Le of Ae)Me=Me[Le];for(const Le in re){const Ee=re[Le];if("object"!=typeof Ee)continue;const{$data:Se}=Ee.definition,He=Me[Le];Se&&He&&(Me[Le]=h(He))}}return J}_removeAllSchemas(J,ee){for(const re in J){const fe=J[re];(!ee||ee.test(re))&&("string"==typeof fe?delete J[re]:fe&&!fe.meta&&(this._cache.delete(fe.schema),delete J[re]))}}_addSchema(J,ee,re,fe=this.opts.validateSchema,Ae=this.opts.addUsedSchema){let Me;const{schemaId:Le}=this.opts;if("object"==typeof J)Me=J[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof J)throw new Error("schema must be object or boolean")}let Ee=this._cache.get(J);if(void 0!==Ee)return Ee;re=(0,R.normalizeId)(Me||re);const Se=R.getSchemaRefs.call(this,J,re);return Ee=new w.SchemaEnv({schema:J,schemaId:Le,meta:ee,baseId:re,localRefs:Se}),this._cache.set(Ee.schema,Ee),Ae&&!re.startsWith("#")&&(re&&this._checkUnique(re),this.refs[re]=Ee),fe&&this.validateSchema(J,!0),Ee}_checkUnique(J){if(this.schemas[J]||this.refs[J])throw new Error(`schema with key or id "${J}" already exists`)}_compileSchemaEnv(J){if(J.meta?this._compileMetaSchema(J):w.compileSchema.call(this,J),!J.validate)throw new Error("ajv implementation error");return J.validate}_compileMetaSchema(J){const ee=this.opts;this.opts=this._metaOpts;try{w.compileSchema.call(this,J)}finally{this.opts=ee}}}function ie(g,J,ee,re="error"){for(const fe in g)fe in J&&this.logger[re](`${ee}: option ${fe}. ${g[fe]}`)}function ae(g){return g=(0,R.normalizeId)(g),this.schemas[g]||this.refs[g]}function me(){const g=this.opts.schemas;if(g)if(Array.isArray(g))this.addSchema(g);else for(const J in g)this.addSchema(g[J],J)}function ge(){for(const g in this.opts.formats){const J=this.opts.formats[g];J&&this.addFormat(g,J)}}function de(g){if(Array.isArray(g))this.addVocabulary(g);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const J in g){const ee=g[J];ee.keyword||(ee.keyword=J),this.addKeyword(ee)}}}function z(){const g={...this.opts};for(const J of L)delete g[J];return g}I.default=te,te.ValidationError=K.default,te.MissingRefError=y.default;const d={log(){},warn(){},error(){}},b=/^[a-z_$][a-z0-9_$:-]*$/i;function C(g,J){const{RULES:ee}=this;if((0,v.eachItem)(g,re=>{if(ee.keywords[re])throw new Error(`Keyword ${re} is already defined`);if(!b.test(re))throw new Error(`Keyword ${re} has invalid name`)}),J&&J.$data&&!("code"in J)&&!("validate"in J))throw new Error('$data keyword must have "code" or "validate" function')}function D(g,J,ee){var re;const fe=J?.post;if(ee&&fe)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ae}=this;let Me=fe?Ae.post:Ae.rules.find(({type:Ee})=>Ee===ee);if(Me||(Me={type:ee,rules:[]},Ae.rules.push(Me)),Ae.keywords[g]=!0,!J)return;const Le={keyword:g,definition:{...J,type:(0,k.getJSONTypes)(J.type),schemaType:(0,k.getJSONTypes)(J.schemaType)}};J.before?V.call(this,Me,Le,J.before):Me.rules.push(Le),Ae.all[g]=Le,null===(re=J.implements)||void 0===re||re.forEach(Ee=>this.addKeyword(Ee))}function V(g,J,ee){const re=g.rules.findIndex(fe=>fe.keyword===ee);re>=0?g.rules.splice(re,0,J):(g.rules.push(J),this.logger.warn(`rule ${ee} is not defined`))}function Y(g){let{metaSchema:J}=g;void 0!==J&&(g.$data&&this.opts.$data&&(J=h(J)),g.validateSchema=this.compile(J,!0))}const F={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function h(g){return{anyOf:[g,F]}}},87577:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(6438),$=A(59608),U=A(8307),K=A(11082),y=A(93406),T=A(14516),w=A(3059),x=A(18738),R=["/properties"];I.default=function k(v){return[O,$,U,K,y,N(this,T),w,N(this,x)].forEach(M=>this.addMetaSchema(M,void 0,!1)),this;function N(M,P){return v?M.$dataMetaSchema(P,R):P}}},92281:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(40362);O.code='require("ajv/dist/runtime/equal").default',I.default=O},26488:(ye,I)=>{"use strict";function A(O){const $=O.length;let y,U=0,K=0;for(;K<$;)U++,y=O.charCodeAt(K++),y>=55296&&y<=56319&&K<$&&(y=O.charCodeAt(K),56320==(64512&y)&&K++);return U}Object.defineProperty(I,"__esModule",{value:!0}),I.default=A,A.code='require("ajv/dist/runtime/ucs2length").default'},13203:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(95568);O.code='require("ajv/dist/runtime/uri").default',I.default=O},42467:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});class A extends Error{constructor($){super("validation failed"),this.errors=$,this.ajv=this.validation=!0}}I.default=A},46934:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateAdditionalItems=void 0;const O=A(1038),$=A(27006),K={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:T}})=>O.str`must NOT have more than ${T} items`,params:({params:{len:T}})=>O._`{limit: ${T}}`},code(T){const{parentSchema:w,it:x}=T,{items:R}=w;Array.isArray(R)?y(T,R):(0,$.checkStrictMode)(x,'"additionalItems" is ignored when "items" is not an array of schemas')}};function y(T,w){const{gen:x,schema:R,data:k,keyword:v,it:N}=T;N.items=!0;const M=x.const("len",O._`${k}.length`);if(!1===R)T.setParams({len:w.length}),T.pass(O._`${M} <= ${w.length}`);else if("object"==typeof R&&!(0,$.alwaysValidSchema)(N,R)){const L=x.var("valid",O._`${M} <= ${w.length}`);x.if((0,O.not)(L),()=>function P(L){x.forRange("i",w.length,M,G=>{T.subschema({keyword:v,dataProp:G,dataPropType:$.Type.Num},L),N.allErrors||x.if((0,O.not)(L),()=>x.break())})}(L)),T.ok(L)}}I.validateAdditionalItems=y,I.default=K},18445:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(42406),$=A(1038),U=A(23432),K=A(27006);I.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:w})=>$._`{additionalProperty: ${w.additionalProperty}}`},code(w){const{gen:x,schema:R,parentSchema:k,data:v,errsCount:N,it:M}=w;if(!N)throw new Error("ajv implementation error");const{allErrors:P,opts:L}=M;if(M.props=!0,"all"!==L.removeAdditional&&(0,K.alwaysValidSchema)(M,R))return;const G=(0,O.allSchemaProperties)(k.properties),B=(0,O.allSchemaProperties)(k.patternProperties);function Q(ae){x.code($._`delete ${v}[${ae}]`)}function te(ae){if("all"===L.removeAdditional||L.removeAdditional&&!1===R)Q(ae);else{if(!1===R)return w.setParams({additionalProperty:ae}),w.error(),void(P||x.break());if("object"==typeof R&&!(0,K.alwaysValidSchema)(M,R)){const me=x.name("valid");"failing"===L.removeAdditional?(ie(ae,me,!1),x.if((0,$.not)(me),()=>{w.reset(),Q(ae)})):(ie(ae,me),P||x.if((0,$.not)(me),()=>x.break()))}}}function ie(ae,me,ge){const de={keyword:"additionalProperties",dataProp:ae,dataPropType:K.Type.Str};!1===ge&&Object.assign(de,{compositeRule:!0,createErrors:!1,allErrors:!1}),w.subschema(de,me)}(function q(){x.forIn("key",v,ae=>{G.length||B.length?x.if(function X(ae){let me;if(G.length>8){const ge=(0,K.schemaRefOrVal)(M,k.properties,"properties");me=(0,O.isOwnProperty)(x,ge,ae)}else me=G.length?(0,$.or)(...G.map(ge=>$._`${ae} === ${ge}`)):$.nil;return B.length&&(me=(0,$.or)(me,...B.map(ge=>$._`${(0,O.usePattern)(w,ge)}.test(${ae})`))),(0,$.not)(me)}(ae),()=>te(ae)):te(ae)})})(),w.ok($._`${N} === ${U.default.errors}`)}}},77783:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(27006);I.default={keyword:"allOf",schemaType:"array",code(U){const{gen:K,schema:y,it:T}=U;if(!Array.isArray(y))throw new Error("ajv implementation error");const w=K.name("valid");y.forEach((x,R)=>{if((0,O.alwaysValidSchema)(T,x))return;const k=U.subschema({keyword:"allOf",schemaProp:R},w);U.ok(w),U.mergeEvaluated(k)})}}},60922:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const $={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:A(42406).validateUnion,error:{message:"must match a schema in anyOf"}};I.default=$},57568:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006);I.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:y,max:T}})=>void 0===T?O.str`must contain at least ${y} valid item(s)`:O.str`must contain at least ${y} and no more than ${T} valid item(s)`,params:({params:{min:y,max:T}})=>void 0===T?O._`{minContains: ${y}}`:O._`{minContains: ${y}, maxContains: ${T}}`},code(y){const{gen:T,schema:w,parentSchema:x,data:R,it:k}=y;let v,N;const{minContains:M,maxContains:P}=x;k.opts.next?(v=void 0===M?1:M,N=P):v=1;const L=T.const("len",O._`${R}.length`);if(y.setParams({min:v,max:N}),void 0===N&&0===v)return void(0,$.checkStrictMode)(k,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==N&&v>N)return(0,$.checkStrictMode)(k,'"minContains" > "maxContains" is always invalid'),void y.fail();if((0,$.alwaysValidSchema)(k,w)){let Q=O._`${L} >= ${v}`;return void 0!==N&&(Q=O._`${Q} && ${L} <= ${N}`),void y.pass(Q)}k.items=!0;const G=T.name("valid");function B(){const Q=T.name("_valid"),te=T.let("count",0);q(Q,()=>T.if(Q,()=>function X(Q){T.code(O._`${Q}++`),void 0===N?T.if(O._`${Q} >= ${v}`,()=>T.assign(G,!0).break()):(T.if(O._`${Q} > ${N}`,()=>T.assign(G,!1).break()),1===v?T.assign(G,!0):T.if(O._`${Q} >= ${v}`,()=>T.assign(G,!0)))}(te)))}function q(Q,te){T.forRange("i",0,L,ie=>{y.subschema({keyword:"contains",dataProp:ie,dataPropType:$.Type.Num,compositeRule:!0},Q),te()})}void 0===N&&1===v?q(G,()=>T.if(G,()=>T.break())):0===v?(T.let(G,!0),void 0!==N&&T.if(O._`${R}.length > 0`,B)):(T.let(G,!1),B()),y.result(G,()=>y.reset())}}},68032:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateSchemaDeps=I.validatePropertyDeps=I.error=void 0;const O=A(1038),$=A(27006),U=A(42406);I.error={message:({params:{property:x,depsCount:R,deps:k}})=>O.str`must have ${1===R?"property":"properties"} ${k} when property ${x} is present`,params:({params:{property:x,depsCount:R,deps:k,missingProperty:v}})=>O._`{property: ${x},
    missingProperty: ${v},
    depsCount: ${R},
    deps: ${k}}`};const K={keyword:"dependencies",type:"object",schemaType:"object",error:I.error,code(x){const[R,k]=function y({schema:x}){const R={},k={};for(const v in x)"__proto__"!==v&&((Array.isArray(x[v])?R:k)[v]=x[v]);return[R,k]}(x);T(x,R),w(x,k)}};function T(x,R=x.schema){const{gen:k,data:v,it:N}=x;if(0===Object.keys(R).length)return;const M=k.let("missing");for(const P in R){const L=R[P];if(0===L.length)continue;const G=(0,U.propertyInData)(k,v,P,N.opts.ownProperties);x.setParams({property:P,depsCount:L.length,deps:L.join(", ")}),N.allErrors?k.if(G,()=>{for(const B of L)(0,U.checkReportMissingProp)(x,B)}):(k.if(O._`${G} && (${(0,U.checkMissingProp)(x,L,M)})`),(0,U.reportMissingProp)(x,M),k.else())}}function w(x,R=x.schema){const{gen:k,data:v,keyword:N,it:M}=x,P=k.name("valid");for(const L in R)(0,$.alwaysValidSchema)(M,R[L])||(k.if((0,U.propertyInData)(k,v,L,M.opts.ownProperties),()=>{const G=x.subschema({keyword:N,schemaProp:L},P);x.mergeValidEvaluated(G,P)},()=>k.var(P,!0)),x.ok(P))}I.validatePropertyDeps=T,I.validateSchemaDeps=w,I.default=K},85164:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(68032);I.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:U=>(0,O.validateSchemaDeps)(U)}},45226:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006);function y(T,w){const x=T.schema[w];return void 0!==x&&!(0,$.alwaysValidSchema)(T,x)}I.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:T})=>O.str`must match "${T.ifClause}" schema`,params:({params:T})=>O._`{failingKeyword: ${T.ifClause}}`},code(T){const{gen:w,parentSchema:x,it:R}=T;void 0===x.then&&void 0===x.else&&(0,$.checkStrictMode)(R,'"if" without "then" and "else" is ignored');const k=y(R,"then"),v=y(R,"else");if(!k&&!v)return;const N=w.let("valid",!0),M=w.name("_valid");if(function P(){const G=T.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},M);T.mergeEvaluated(G)}(),T.reset(),k&&v){const G=w.let("ifClause");T.setParams({ifClause:G}),w.if(M,L("then",G),L("else",G))}else k?w.if(M,L("then")):w.if((0,O.not)(M),L("else"));function L(G,B){return()=>{const q=T.subschema({keyword:G},M);w.assign(N,M),T.mergeValidEvaluated(q,N),B?w.assign(B,O._`${G}`):T.setParams({ifClause:G})}}T.pass(N,()=>T.error(!0))}}},68261:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(46934),$=A(96537),U=A(2941),K=A(5261),y=A(57568),T=A(68032),w=A(36474),x=A(18445),R=A(34032),k=A(17330),v=A(3408),N=A(60922),M=A(88388),P=A(77783),L=A(45226),G=A(98779);I.default=function B(q=!1){const X=[v.default,N.default,M.default,P.default,L.default,G.default,w.default,x.default,T.default,R.default,k.default];return q?X.push($.default,K.default):X.push(O.default,U.default),X.push(y.default),X}},2941:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateTuple=void 0;const O=A(1038),$=A(27006),U=A(42406),K={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(T){const{schema:w,it:x}=T;if(Array.isArray(w))return y(T,"additionalItems",w);x.items=!0,!(0,$.alwaysValidSchema)(x,w)&&T.ok((0,U.validateArray)(T))}};function y(T,w,x=T.schema){const{gen:R,parentSchema:k,data:v,keyword:N,it:M}=T;(function G(B){const{opts:q,errSchemaPath:X}=M,Q=x.length;q.strictTuples&&!(Q===B.minItems&&(Q===B.maxItems||!1===B[w]))&&(0,$.checkStrictMode)(M,`"${N}" is ${Q}-tuple, but minItems or maxItems/${w} are not specified or different at path "${X}"`,q.strictTuples)})(k),M.opts.unevaluated&&x.length&&!0!==M.items&&(M.items=$.mergeEvaluated.items(R,x.length,M.items));const P=R.name("valid"),L=R.const("len",O._`${v}.length`);x.forEach((B,q)=>{(0,$.alwaysValidSchema)(M,B)||(R.if(O._`${L} > ${q}`,()=>T.subschema({keyword:N,schemaProp:q,dataProp:q},P)),T.ok(P))})}I.validateTuple=y,I.default=K},5261:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006),U=A(42406),K=A(46934);I.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:w}})=>O.str`must NOT have more than ${w} items`,params:({params:{len:w}})=>O._`{limit: ${w}}`},code(w){const{schema:x,parentSchema:R,it:k}=w,{prefixItems:v}=R;k.items=!0,!(0,$.alwaysValidSchema)(k,x)&&(v?(0,K.validateAdditionalItems)(w,v):w.ok((0,U.validateArray)(w)))}}},3408:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(27006);I.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(U){const{gen:K,schema:y,it:T}=U;if((0,O.alwaysValidSchema)(T,y))return void U.fail();const w=K.name("valid");U.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},w),U.failResult(w,()=>U.reset(),()=>U.error())},error:{message:"must NOT be valid"}}},88388:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006);I.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:y})=>O._`{passingSchemas: ${y.passing}}`},code(y){const{gen:T,schema:w,parentSchema:x,it:R}=y;if(!Array.isArray(w))throw new Error("ajv implementation error");if(R.opts.discriminator&&x.discriminator)return;const k=w,v=T.let("valid",!1),N=T.let("passing",null),M=T.name("_valid");y.setParams({passing:N}),T.block(function P(){k.forEach((L,G)=>{let B;(0,$.alwaysValidSchema)(R,L)?T.var(M,!0):B=y.subschema({keyword:"oneOf",schemaProp:G,compositeRule:!0},M),G>0&&T.if(O._`${M} && ${v}`).assign(v,!1).assign(N,O._`[${N}, ${G}]`).else(),T.if(M,()=>{T.assign(v,!0),T.assign(N,G),B&&y.mergeEvaluated(B,O.Name)})})}),y.result(v,()=>y.reset(),()=>y.error(!0))}}},17330:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(42406),$=A(1038),U=A(27006),K=A(27006);I.default={keyword:"patternProperties",type:"object",schemaType:"object",code(T){const{gen:w,schema:x,data:R,parentSchema:k,it:v}=T,{opts:N}=v,M=(0,O.allSchemaProperties)(x),P=M.filter(te=>(0,U.alwaysValidSchema)(v,x[te]));if(0===M.length||P.length===M.length&&(!v.opts.unevaluated||!0===v.props))return;const L=N.strictSchema&&!N.allowMatchingProperties&&k.properties,G=w.name("valid");!0!==v.props&&!(v.props instanceof $.Name)&&(v.props=(0,K.evaluatedPropsToName)(w,v.props));const{props:B}=v;function X(te){for(const ie in L)new RegExp(te).test(ie)&&(0,U.checkStrictMode)(v,`property ${ie} matches pattern ${te} (use allowMatchingProperties)`)}function Q(te){w.forIn("key",R,ie=>{w.if($._`${(0,O.usePattern)(T,te)}.test(${ie})`,()=>{const ae=P.includes(te);ae||T.subschema({keyword:"patternProperties",schemaProp:te,dataProp:ie,dataPropType:K.Type.Str},G),v.opts.unevaluated&&!0!==B?w.assign($._`${B}[${ie}]`,!0):!ae&&!v.allErrors&&w.if((0,$.not)(G),()=>w.break())})})}!function q(){for(const te of M)L&&X(te),v.allErrors?Q(te):(w.var(G,!0),Q(te),w.if(G))}()}}},96537:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(2941);I.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:U=>(0,O.validateTuple)(U,"items")}},34032:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(40339),$=A(42406),U=A(27006),K=A(18445);I.default={keyword:"properties",type:"object",schemaType:"object",code(T){const{gen:w,schema:x,parentSchema:R,data:k,it:v}=T;"all"===v.opts.removeAdditional&&void 0===R.additionalProperties&&K.default.code(new O.KeywordCxt(v,K.default,"additionalProperties"));const N=(0,$.allSchemaProperties)(x);for(const B of N)v.definedProperties.add(B);v.opts.unevaluated&&N.length&&!0!==v.props&&(v.props=U.mergeEvaluated.props(w,(0,U.toHash)(N),v.props));const M=N.filter(B=>!(0,U.alwaysValidSchema)(v,x[B]));if(0===M.length)return;const P=w.name("valid");for(const B of M)L(B)?G(B):(w.if((0,$.propertyInData)(w,k,B,v.opts.ownProperties)),G(B),v.allErrors||w.else().var(P,!0),w.endIf()),T.it.definedProperties.add(B),T.ok(P);function L(B){return v.opts.useDefaults&&!v.compositeRule&&void 0!==x[B].default}function G(B){T.subschema({keyword:"properties",schemaProp:B,dataProp:B},P)}}}},36474:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006);I.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:y})=>O._`{propertyName: ${y.propertyName}}`},code(y){const{gen:T,schema:w,data:x,it:R}=y;if((0,$.alwaysValidSchema)(R,w))return;const k=T.name("valid");T.forIn("key",x,v=>{y.setParams({propertyName:v}),y.subschema({keyword:"propertyNames",data:v,dataTypes:["string"],propertyName:v,compositeRule:!0},k),T.if((0,O.not)(k),()=>{y.error(!0),R.allErrors||T.break()})}),y.ok(k)}}},98779:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(27006);I.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:U,parentSchema:K,it:y}){void 0===K.if&&(0,O.checkStrictMode)(y,`"${U}" without "if" is ignored`)}}},42406:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateUnion=I.validateArray=I.usePattern=I.callValidateCode=I.schemaProperties=I.allSchemaProperties=I.noPropertyInData=I.propertyInData=I.isOwnProperty=I.hasPropFunc=I.reportMissingProp=I.checkMissingProp=I.checkReportMissingProp=void 0;const O=A(1038),$=A(27006),U=A(23432),K=A(27006);function x(X){return X.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:O._`Object.prototype.hasOwnProperty`})}function R(X,Q,te){return O._`${x(X)}.call(${Q}, ${te})`}function v(X,Q,te,ie){const ae=O._`${Q}${(0,O.getProperty)(te)} === undefined`;return ie?(0,O.or)(ae,(0,O.not)(R(X,Q,te))):ae}function N(X){return X?Object.keys(X).filter(Q=>"__proto__"!==Q):[]}I.checkReportMissingProp=function y(X,Q){const{gen:te,data:ie,it:ae}=X;te.if(v(te,ie,Q,ae.opts.ownProperties),()=>{X.setParams({missingProperty:O._`${Q}`},!0),X.error()})},I.checkMissingProp=function T({gen:X,data:Q,it:{opts:te}},ie,ae){return(0,O.or)(...ie.map(me=>(0,O.and)(v(X,Q,me,te.ownProperties),O._`${ae} = ${me}`)))},I.reportMissingProp=function w(X,Q){X.setParams({missingProperty:Q},!0),X.error()},I.hasPropFunc=x,I.isOwnProperty=R,I.propertyInData=function k(X,Q,te,ie){const ae=O._`${Q}${(0,O.getProperty)(te)} !== undefined`;return ie?O._`${ae} && ${R(X,Q,te)}`:ae},I.noPropertyInData=v,I.allSchemaProperties=N,I.schemaProperties=function M(X,Q){return N(Q).filter(te=>!(0,$.alwaysValidSchema)(X,Q[te]))},I.callValidateCode=function P({schemaCode:X,data:Q,it:{gen:te,topSchemaRef:ie,schemaPath:ae,errorPath:me},it:ge},de,z,d){const f=d?O._`${X}, ${Q}, ${ie}${ae}`:Q,b=[[U.default.instancePath,(0,O.strConcat)(U.default.instancePath,me)],[U.default.parentData,ge.parentData],[U.default.parentDataProperty,ge.parentDataProperty],[U.default.rootData,U.default.rootData]];ge.opts.dynamicRef&&b.push([U.default.dynamicAnchors,U.default.dynamicAnchors]);const C=O._`${f}, ${te.object(...b)}`;return z!==O.nil?O._`${de}.call(${z}, ${C})`:O._`${de}(${C})`};const L=O._`new RegExp`;I.usePattern=function G({gen:X,it:{opts:Q}},te){const ie=Q.unicodeRegExp?"u":"",{regExp:ae}=Q.code,me=ae(te,ie);return X.scopeValue("pattern",{key:me.toString(),ref:me,code:O._`${"new RegExp"===ae.code?L:(0,K.useFunc)(X,ae)}(${te}, ${ie})`})},I.validateArray=function B(X){const{gen:Q,data:te,keyword:ie,it:ae}=X,me=Q.name("valid");if(ae.allErrors){const de=Q.let("valid",!0);return ge(()=>Q.assign(de,!1)),de}return Q.var(me,!0),ge(()=>Q.break()),me;function ge(de){const z=Q.const("len",O._`${te}.length`);Q.forRange("i",0,z,d=>{X.subschema({keyword:ie,dataProp:d,dataPropType:$.Type.Num},me),Q.if((0,O.not)(me),de)})}},I.validateUnion=function q(X){const{gen:Q,schema:te,keyword:ie,it:ae}=X;if(!Array.isArray(te))throw new Error("ajv implementation error");if(te.some(z=>(0,$.alwaysValidSchema)(ae,z))&&!ae.opts.unevaluated)return;const ge=Q.let("valid",!1),de=Q.name("_valid");Q.block(()=>te.forEach((z,d)=>{const f=X.subschema({keyword:ie,schemaProp:d,compositeRule:!0},de);Q.assign(ge,O._`${ge} || ${de}`),X.mergeValidEvaluated(f,de)||Q.if((0,O.not)(ge))})),X.result(ge,()=>X.reset(),()=>X.error(!0))}},36846:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(36846),$=A(84862);I.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",O.default,$.default]},84862:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.callRef=I.getValidate=void 0;const O=A(26288),$=A(42406),U=A(1038),K=A(23432),y=A(97692),T=A(27006),w={keyword:"$ref",schemaType:"string",code(k){const{gen:v,schema:N,it:M}=k,{baseId:P,schemaEnv:L,validateName:G,opts:B,self:q}=M,{root:X}=L;if(("#"===N||"#/"===N)&&P===X.baseId)return function te(){if(L===X)return R(k,G,L,L.$async);const me=v.scopeValue("root",{ref:X});return R(k,U._`${me}.validate`,X,X.$async)}();const Q=y.resolveRef.call(q,X,P,N);if(void 0===Q)throw new O.default(M.opts.uriResolver,P,N);return Q instanceof y.SchemaEnv?function ie(me){const ge=x(k,me);R(k,ge,me,me.$async)}(Q):function ae(me){const ge=v.scopeValue("schema",!0===B.code.source?{ref:me,code:(0,U.stringify)(me)}:{ref:me}),de=v.name("valid"),z=k.subschema({schema:me,dataTypes:[],schemaPath:U.nil,topSchemaRef:ge,errSchemaPath:N},de);k.mergeEvaluated(z),k.ok(de)}(Q)}};function x(k,v){const{gen:N}=k;return v.validate?N.scopeValue("validate",{ref:v.validate}):U._`${N.scopeValue("wrapper",{ref:v})}.validate`}function R(k,v,N,M){const{gen:P,it:L}=k,{allErrors:G,schemaEnv:B,opts:q}=L,X=q.passContext?K.default.this:U.nil;function ie(me){const ge=U._`${me}.errors`;P.assign(K.default.vErrors,U._`${K.default.vErrors} === null ? ${ge} : ${K.default.vErrors}.concat(${ge})`),P.assign(K.default.errors,U._`${K.default.vErrors}.length`)}function ae(me){var ge;if(!L.opts.unevaluated)return;const de=null===(ge=N?.validate)||void 0===ge?void 0:ge.evaluated;if(!0!==L.props)if(de&&!de.dynamicProps)void 0!==de.props&&(L.props=T.mergeEvaluated.props(P,de.props,L.props));else{const z=P.var("props",U._`${me}.evaluated.props`);L.props=T.mergeEvaluated.props(P,z,L.props,U.Name)}if(!0!==L.items)if(de&&!de.dynamicItems)void 0!==de.items&&(L.items=T.mergeEvaluated.items(P,de.items,L.items));else{const z=P.var("items",U._`${me}.evaluated.items`);L.items=T.mergeEvaluated.items(P,z,L.items,U.Name)}}M?function Q(){if(!B.$async)throw new Error("async schema referenced by sync schema");const me=P.let("valid");P.try(()=>{P.code(U._`await ${(0,$.callValidateCode)(k,v,X)}`),ae(v),G||P.assign(me,!0)},ge=>{P.if(U._`!(${ge} instanceof ${L.ValidationError})`,()=>P.throw(ge)),ie(ge),G||P.assign(me,!1)}),k.ok(me)}():function te(){k.result((0,$.callValidateCode)(k,v,X),()=>ae(v),()=>ie(v))}()}I.getValidate=x,I.callRef=R,I.default=w},86980:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(22145),U=A(97692),K=A(27006);I.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:w,tagName:x}})=>w===$.DiscrError.Tag?`tag "${x}" must be string`:`value of tag "${x}" must be in oneOf`,params:({params:{discrError:w,tag:x,tagName:R}})=>O._`{error: ${w}, tag: ${R}, tagValue: ${x}}`},code(w){const{gen:x,data:R,schema:k,parentSchema:v,it:N}=w,{oneOf:M}=v;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const P=k.propertyName;if("string"!=typeof P)throw new Error("discriminator: requires propertyName");if(k.mapping)throw new Error("discriminator: mapping is not supported");if(!M)throw new Error("discriminator: requires oneOf keyword");const L=x.let("valid",!1),G=x.const("tag",O._`${R}${(0,O.getProperty)(P)}`);function q(Q){const te=x.name("valid"),ie=w.subschema({keyword:"oneOf",schemaProp:Q},te);return w.mergeEvaluated(ie,O.Name),te}x.if(O._`typeof ${G} == "string"`,()=>function B(){const Q=function X(){var Q;const te={},ie=me(v);let ae=!0;for(let z=0;z<M.length;z++){let d=M[z];d?.$ref&&!(0,K.schemaHasRulesButRef)(d,N.self.RULES)&&(d=U.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,d?.$ref),d instanceof U.SchemaEnv&&(d=d.schema));const f=null===(Q=d?.properties)||void 0===Q?void 0:Q[P];if("object"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${P}"`);ae=ae&&(ie||me(d)),ge(f,z)}if(!ae)throw new Error(`discriminator: "${P}" must be required`);return te;function me({required:z}){return Array.isArray(z)&&z.includes(P)}function ge(z,d){if(z.const)de(z.const,d);else{if(!z.enum)throw new Error(`discriminator: "properties/${P}" must have "const" or "enum"`);for(const f of z.enum)de(f,d)}}function de(z,d){if("string"!=typeof z||z in te)throw new Error(`discriminator: "${P}" values must be unique strings`);te[z]=d}}();x.if(!1);for(const te in Q)x.elseIf(O._`${G} === ${te}`),x.assign(L,q(Q[te]));x.else(),w.error(!1,{discrError:$.DiscrError.Mapping,tag:G,tagName:P}),x.endIf()}(),()=>w.error(!1,{discrError:$.DiscrError.Tag,tag:G,tagName:P})),w.ok(L)}}},22145:(ye,I)=>{"use strict";var O;Object.defineProperty(I,"__esModule",{value:!0}),I.DiscrError=void 0,(O=I.DiscrError||(I.DiscrError={})).Tag="tag",O.Mapping="mapping"},98496:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(11867),$=A(64023),U=A(68261),K=A(79745),y=A(54458),T=A(77616),w=A(23463),x=A(3462),R=[K.default,O.default,$.default,(0,U.default)(!0),w.default,x.metadataVocabulary,x.contentVocabulary,y.default,T.default];I.default=R},61281:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.dynamicAnchor=void 0;const O=A(1038),$=A(23432),U=A(97692),K=A(84862),y={keyword:"$dynamicAnchor",schemaType:"string",code:x=>T(x,x.schema)};function T(x,R){const{gen:k,it:v}=x;v.schemaEnv.root.dynamicAnchors[R]=!0;const N=O._`${$.default.dynamicAnchors}${(0,O.getProperty)(R)}`,M="#"===v.errSchemaPath?v.validateName:function w(x){const{schemaEnv:R,schema:k,self:v}=x.it,{root:N,baseId:M,localRefs:P,meta:L}=R.root,{schemaId:G}=v.opts,B=new U.SchemaEnv({schema:k,schemaId:G,root:N,baseId:M,localRefs:P,meta:L});return U.compileSchema.call(v,B),(0,K.getValidate)(x,B)}(x);k.if(O._`!${N}`,()=>k.assign(N,M))}I.dynamicAnchor=T,I.default=y},35207:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.dynamicRef=void 0;const O=A(1038),$=A(23432),U=A(84862),K={keyword:"$dynamicRef",schemaType:"string",code:T=>y(T,T.schema)};function y(T,w){const{gen:x,keyword:R,it:k}=T;if("#"!==w[0])throw new Error(`"${R}" only supports hash fragment reference`);const v=w.slice(1);if(k.allErrors)N();else{const P=x.let("valid",!1);N(P),T.ok(P)}function N(P){if(k.schemaEnv.root.dynamicAnchors[v]){const L=x.let("_v",O._`${$.default.dynamicAnchors}${(0,O.getProperty)(v)}`);x.if(L,M(L,P),M(k.validateName,P))}else M(k.validateName,P)()}function M(P,L){return L?()=>x.block(()=>{(0,U.callRef)(T,P),x.let(L,!0)}):()=>(0,U.callRef)(T,P)}}I.dynamicRef=y,I.default=K},79745:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(61281),$=A(35207),U=A(34028),K=A(65684);I.default=[O.default,$.default,U.default,K.default]},34028:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(61281),$=A(27006);I.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(K){K.schema?(0,O.dynamicAnchor)(K,""):(0,$.checkStrictMode)(K.it,"$recursiveAnchor: false is ignored")}}},65684:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(35207);I.default={keyword:"$recursiveRef",schemaType:"string",code:U=>(0,O.dynamicRef)(U,U.schema)}},98140:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038);I.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:K})=>O.str`must match format "${K}"`,params:({schemaCode:K})=>O._`{format: ${K}}`},code(K,y){const{gen:T,data:w,$data:x,schema:R,schemaCode:k,it:v}=K,{opts:N,errSchemaPath:M,schemaEnv:P,self:L}=v;N.validateFormats&&(x?function G(){const q=T.scopeValue("formats",{ref:L.formats,code:N.code.formats}),X=T.const("fDef",O._`${q}[${k}]`),Q=T.let("fType"),te=T.let("format");T.if(O._`typeof ${X} == "object" && !(${X} instanceof RegExp)`,()=>T.assign(Q,O._`${X}.type || "string"`).assign(te,O._`${X}.validate`),()=>T.assign(Q,O._`"string"`).assign(te,X)),K.fail$data((0,O.or)(function ie(){return!1===N.strictSchema?O.nil:O._`${k} && !${te}`}(),function ae(){const me=P.$async?O._`(${X}.async ? await ${te}(${w}) : ${te}(${w}))`:O._`${te}(${w})`,ge=O._`(typeof ${te} == "function" ? ${me} : ${te}.test(${w}))`;return O._`${te} && ${te} !== true && ${Q} === ${y} && !${ge}`}()))}():function B(){const q=L.formats[R];if(!q)return void function ie(){if(!1!==N.strictSchema)throw new Error(ge());function ge(){return`unknown format "${R}" ignored in schema at path "${M}"`}L.logger.warn(ge())}();if(!0===q)return;const[X,Q,te]=function ae(ge){const de=ge instanceof RegExp?(0,O.regexpCode)(ge):N.code.formats?O._`${N.code.formats}${(0,O.getProperty)(R)}`:void 0,z=T.scopeValue("formats",{key:R,ref:ge,code:de});return"object"!=typeof ge||ge instanceof RegExp?["string",ge,z]:[ge.type||"string",ge.validate,O._`${z}.validate`]}(q);X===y&&K.pass(function me(){if("object"==typeof q&&!(q instanceof RegExp)&&q.async){if(!P.$async)throw new Error("async format in sync schema");return O._`await ${te}(${w})`}return"function"==typeof Q?O._`${te}(${w})`:O._`${te}.test(${w})`}())}())}}},23463:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const $=[A(98140).default];I.default=$},3462:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.contentVocabulary=I.metadataVocabulary=void 0,I.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],I.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(53037),$=A(85164),U=A(22705);I.default=[O.default,$.default,U.default]},77616:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(40425),$=A(89826);I.default=[O.default,$.default]},89826:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006);I.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:y}})=>O.str`must NOT have more than ${y} items`,params:({params:{len:y}})=>O._`{limit: ${y}}`},code(y){const{gen:T,schema:w,data:x,it:R}=y,k=R.items||0;if(!0===k)return;const v=T.const("len",O._`${x}.length`);if(!1===w)y.setParams({len:k}),y.fail(O._`${v} > ${k}`);else if("object"==typeof w&&!(0,$.alwaysValidSchema)(R,w)){const M=T.var("valid",O._`${v} <= ${k}`);T.if((0,O.not)(M),()=>function N(M,P){T.forRange("i",P,v,L=>{y.subschema({keyword:"unevaluatedItems",dataProp:L,dataPropType:$.Type.Num},M),R.allErrors||T.if((0,O.not)(M),()=>T.break())})}(M,k)),y.ok(M)}R.items=!0}}},40425:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006),U=A(23432);I.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:T})=>O._`{unevaluatedProperty: ${T.unevaluatedProperty}}`},code(T){const{gen:w,schema:x,data:R,errsCount:k,it:v}=T;if(!k)throw new Error("ajv implementation error");const{allErrors:N,props:M}=v;function P(B){if(!1===x)return T.setParams({unevaluatedProperty:B}),T.error(),void(N||w.break());if(!(0,$.alwaysValidSchema)(v,x)){const q=w.name("valid");T.subschema({keyword:"unevaluatedProperties",dataProp:B,dataPropType:$.Type.Str},q),N||w.if((0,O.not)(q),()=>w.break())}}M instanceof O.Name?w.if(O._`${M} !== true`,()=>w.forIn("key",R,B=>w.if(function L(B,q){return O._`!${B} || !${B}[${q}]`}(M,B),()=>P(B)))):!0!==M&&w.forIn("key",R,B=>void 0===M?P(B):w.if(function G(B,q){const X=[];for(const Q in B)!0===B[Q]&&X.push(O._`${q} !== ${Q}`);return(0,O.and)(...X)}(M,B),()=>P(B))),v.props=!0,T.ok(O._`${k} === ${U.default.errors}`)}}},90796:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006),U=A(92281);I.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:T})=>O._`{allowedValue: ${T}}`},code(T){const{gen:w,data:x,$data:R,schemaCode:k,schema:v}=T;R||v&&"object"==typeof v?T.fail$data(O._`!${(0,$.useFunc)(w,U.default)}(${x}, ${k})`):T.fail(O._`${v} !== ${x}`)}}},53037:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(68032);I.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:O.error,code:U=>(0,O.validatePropertyDeps)(U)}},65266:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006),U=A(92281);I.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:T})=>O._`{allowedValues: ${T}}`},code(T){const{gen:w,data:x,$data:R,schema:k,schemaCode:v,it:N}=T;if(!R&&0===k.length)throw new Error("enum must have non-empty array");let P;const L=()=>P??(P=(0,$.useFunc)(w,U.default));let G;if(k.length>=N.opts.loopEnum||R)G=w.let("valid"),T.block$data(G,function B(){w.assign(G,!1),w.forOf("v",v,X=>w.if(O._`${L()}(${x}, ${X})`,()=>w.assign(G,!0).break()))});else{if(!Array.isArray(k))throw new Error("ajv implementation error");const X=w.const("vSchema",v);G=(0,O.or)(...k.map((Q,te)=>function q(X,Q){const te=k[Q];return"object"==typeof te&&null!==te?O._`${L()}(${x}, ${X}[${Q}])`:O._`${x} === ${te}`}(X,te)))}T.pass(G)}}},64023:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(78665),$=A(30554),U=A(13972),K=A(68753),y=A(99169),T=A(56454),w=A(85962),x=A(16598),R=A(90796),k=A(65266);I.default=[O.default,$.default,U.default,K.default,y.default,T.default,w.default,x.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},R.default,k.default]},22705:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(27006);I.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:U,parentSchema:K,it:y}){void 0===K.contains&&(0,O.checkStrictMode)(y,`"${U}" without "contains" is ignored`)}}},85962:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038);I.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:K,schemaCode:y})=>O.str`must NOT have ${"maxItems"===K?"more":"fewer"} than ${y} items`,params:({schemaCode:K})=>O._`{limit: ${K}}`},code(K){const{keyword:y,data:T,schemaCode:w}=K;K.fail$data(O._`${T}.length ${"maxItems"===y?O.operators.GT:O.operators.LT} ${w}`)}}},13972:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=A(27006),U=A(26488);I.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:T,schemaCode:w})=>O.str`must NOT have ${"maxLength"===T?"more":"fewer"} than ${w} characters`,params:({schemaCode:T})=>O._`{limit: ${T}}`},code(T){const{keyword:w,data:x,schemaCode:R,it:k}=T,v="maxLength"===w?O.operators.GT:O.operators.LT,N=!1===k.opts.unicode?O._`${x}.length`:O._`${(0,$.useFunc)(T.gen,U.default)}(${x})`;T.fail$data(O._`${N} ${v} ${R}`)}}},78665:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038),$=O.operators,U={maximum:{okStr:"<=",ok:$.LTE,fail:$.GT},minimum:{okStr:">=",ok:$.GTE,fail:$.LT},exclusiveMaximum:{okStr:"<",ok:$.LT,fail:$.GTE},exclusiveMinimum:{okStr:">",ok:$.GT,fail:$.LTE}},K={message:({keyword:T,schemaCode:w})=>O.str`must be ${U[T].okStr} ${w}`,params:({keyword:T,schemaCode:w})=>O._`{comparison: ${U[T].okStr}, limit: ${w}}`},y={keyword:Object.keys(U),type:"number",schemaType:"number",$data:!0,error:K,code(T){const{keyword:w,data:x,schemaCode:R}=T;T.fail$data(O._`${x} ${U[w].fail} ${R} || isNaN(${x})`)}};I.default=y},99169:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038);I.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:K,schemaCode:y})=>O.str`must NOT have ${"maxProperties"===K?"more":"fewer"} than ${y} properties`,params:({schemaCode:K})=>O._`{limit: ${K}}`},code(K){const{keyword:y,data:T,schemaCode:w}=K;K.fail$data(O._`Object.keys(${T}).length ${"maxProperties"===y?O.operators.GT:O.operators.LT} ${w}`)}}},30554:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(1038);I.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:K})=>O.str`must be multiple of ${K}`,params:({schemaCode:K})=>O._`{multipleOf: ${K}}`},code(K){const{gen:y,data:T,schemaCode:w,it:x}=K,R=x.opts.multipleOfPrecision,k=y.let("res"),v=R?O._`Math.abs(Math.round(${k}) - ${k}) > 1e-${R}`:O._`${k} !== parseInt(${k})`;K.fail$data(O._`(${w} === 0 || (${k} = ${T}/${w}, ${v}))`)}}},68753:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(42406),$=A(1038);I.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:y})=>$.str`must match pattern "${y}"`,params:({schemaCode:y})=>$._`{pattern: ${y}}`},code(y){const{data:T,$data:w,schema:x,schemaCode:R,it:k}=y,N=w?$._`(new RegExp(${R}, ${k.opts.unicodeRegExp?"u":""}))`:(0,O.usePattern)(y,x);y.fail$data($._`!${N}.test(${T})`)}}},56454:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(42406),$=A(1038),U=A(27006);I.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:T}})=>$.str`must have required property '${T}'`,params:({params:{missingProperty:T}})=>$._`{missingProperty: ${T}}`},code(T){const{gen:w,schema:x,schemaCode:R,data:k,$data:v,it:N}=T,{opts:M}=N;if(!v&&0===x.length)return;const P=x.length>=M.loopRequired;if(N.allErrors?function L(){if(P||v)T.block$data($.nil,B);else for(const X of x)(0,O.checkReportMissingProp)(T,X)}():function G(){const X=w.let("missing");if(P||v){const Q=w.let("valid",!0);T.block$data(Q,()=>function q(X,Q){T.setParams({missingProperty:X}),w.forOf(X,R,()=>{w.assign(Q,(0,O.propertyInData)(w,k,X,M.ownProperties)),w.if((0,$.not)(Q),()=>{T.error(),w.break()})},$.nil)}(X,Q)),T.ok(Q)}else w.if((0,O.checkMissingProp)(T,x,X)),(0,O.reportMissingProp)(T,X),w.else()}(),M.strictRequired){const X=T.parentSchema.properties,{definedProperties:Q}=T.it;for(const te of x)void 0!==X?.[te]||Q.has(te)||(0,U.checkStrictMode)(N,`required property "${te}" is not defined at "${N.schemaEnv.baseId+N.errSchemaPath}" (strictRequired)`,N.opts.strictRequired)}function B(){w.forOf("prop",R,X=>{T.setParams({missingProperty:X}),w.if((0,O.noPropertyInData)(w,k,X,M.ownProperties),()=>T.error())})}}}},16598:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(55999),$=A(1038),U=A(27006),K=A(92281);I.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:w,j:x}})=>$.str`must NOT have duplicate items (items ## ${x} and ${w} are identical)`,params:({params:{i:w,j:x}})=>$._`{i: ${w}, j: ${x}}`},code(w){const{gen:x,data:R,$data:k,schema:v,parentSchema:N,schemaCode:M,it:P}=w;if(!k&&!v)return;const L=x.let("valid"),G=N.items?(0,O.getSchemaTypes)(N.items):[];function X(te,ie){const ae=x.name("item"),me=(0,O.checkDataTypes)(G,ae,P.opts.strictNumbers,O.DataType.Wrong),ge=x.const("indices",$._`{}`);x.for($._`;${te}--;`,()=>{x.let(ae,$._`${R}[${te}]`),x.if(me,$._`continue`),G.length>1&&x.if($._`typeof ${ae} == "string"`,$._`${ae} += "_"`),x.if($._`typeof ${ge}[${ae}] == "number"`,()=>{x.assign(ie,$._`${ge}[${ae}]`),w.error(),x.assign(L,!1).break()}).code($._`${ge}[${ae}] = ${te}`)})}function Q(te,ie){const ae=(0,U.useFunc)(x,K.default),me=x.name("outer");x.label(me).for($._`;${te}--;`,()=>x.for($._`${ie} = ${te}; ${ie}--;`,()=>x.if($._`${ae}(${R}[${te}], ${R}[${ie}])`,()=>{w.error(),x.assign(L,!1).break(me)})))}w.block$data(L,function B(){const te=x.let("i",$._`${R}.length`),ie=x.let("j");w.setParams({i:te,j:ie}),x.assign(L,!0),x.if($._`${te} > 1`,()=>(function q(){return G.length>0&&!G.some(te=>"object"===te||"array"===te)}()?X:Q)(te,ie))},$._`${M} === false`),w.ok(L)}}},68316:(ye,I,A)=>{"use strict";const O=A(13981),$=A(22020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=w,I.SlowBuffer=function q(se){return+se!=se&&(se=0),w.alloc(+se)},I.INSPECT_MAX_BYTES=50;const K=2147483647;function T(se){if(se>K)throw new RangeError('The value "'+se+'" is invalid for option "size"');const W=new Uint8Array(se);return Object.setPrototypeOf(W,w.prototype),W}function w(se,W,Z){if("number"==typeof se){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(se)}return x(se,W,Z)}function x(se,W,Z){if("string"==typeof se)return function N(se,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!w.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const Z=0|X(se,W);let he=T(Z);const De=he.write(se,W);return De!==Z&&(he=he.slice(0,De)),he}(se,W);if(ArrayBuffer.isView(se))return function P(se){if(Ye(se,Uint8Array)){const W=new Uint8Array(se);return L(W.buffer,W.byteOffset,W.byteLength)}return M(se)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ye(se,ArrayBuffer)||se&&Ye(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(se,SharedArrayBuffer)||se&&Ye(se.buffer,SharedArrayBuffer)))return L(se,W,Z);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');const he=se.valueOf&&se.valueOf();if(null!=he&&he!==se)return w.from(he,W,Z);const De=function G(se){if(w.isBuffer(se)){const W=0|B(se.length),Z=T(W);return 0===Z.length||se.copy(Z,0,0,W),Z}return void 0!==se.length?"number"!=typeof se.length||wt(se.length)?T(0):M(se):"Buffer"===se.type&&Array.isArray(se.data)?M(se.data):void 0}(se);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return w.from(se[Symbol.toPrimitive]("string"),W,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function R(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function v(se){return R(se),T(se<0?0:0|B(se))}function M(se){const W=se.length<0?0:0|B(se.length),Z=T(W);for(let he=0;he<W;he+=1)Z[he]=255&se[he];return Z}function L(se,W,Z){if(W<0||se.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<W+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let he;return he=void 0===W&&void 0===Z?new Uint8Array(se):void 0===Z?new Uint8Array(se,W):new Uint8Array(se,W,Z),Object.setPrototypeOf(he,w.prototype),he}function B(se){if(se>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|se}function X(se,W){if(w.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ye(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===Z)return 0;let De=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Ne(se).length;default:if(De)return he?-1:Ce(se).length;W=(""+W).toLowerCase(),De=!0}}function Q(se,W,Z){let he=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===Z||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(W>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return F(this,W,Z);case"utf8":case"utf-8":return b(this,W,Z);case"ascii":return V(this,W,Z);case"latin1":case"binary":return Y(this,W,Z);case"base64":return f(this,W,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,W,Z);default:if(he)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),he=!0}}function te(se,W,Z){const he=se[W];se[W]=se[Z],se[Z]=he}function ie(se,W,Z,he,De){if(0===se.length)return-1;if("string"==typeof Z?(he=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),wt(Z=+Z)&&(Z=De?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(De)return-1;Z=se.length-1}else if(Z<0){if(!De)return-1;Z=0}if("string"==typeof W&&(W=w.from(W,he)),w.isBuffer(W))return 0===W.length?-1:ae(se,W,Z,he,De);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(se,W,Z):Uint8Array.prototype.lastIndexOf.call(se,W,Z):ae(se,[W],Z,he,De);throw new TypeError("val must be string, number or Buffer")}function ae(se,W,Z,he,De){let Mt,Xe=1,Ze=se.length,at=W.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(se.length<2||W.length<2)return-1;Xe=2,Ze/=2,at/=2,Z/=2}function Rt(At,Wt){return 1===Xe?At[Wt]:At.readUInt16BE(Wt*Xe)}if(De){let At=-1;for(Mt=Z;Mt<Ze;Mt++)if(Rt(se,Mt)===Rt(W,-1===At?0:Mt-At)){if(-1===At&&(At=Mt),Mt-At+1===at)return At*Xe}else-1!==At&&(Mt-=Mt-At),At=-1}else for(Z+at>Ze&&(Z=Ze-at),Mt=Z;Mt>=0;Mt--){let At=!0;for(let Wt=0;Wt<at;Wt++)if(Rt(se,Mt+Wt)!==Rt(W,Wt)){At=!1;break}if(At)return Mt}return-1}function me(se,W,Z,he){Z=Number(Z)||0;const De=se.length-Z;he?(he=Number(he))>De&&(he=De):he=De;const Xe=W.length;let Ze;for(he>Xe/2&&(he=Xe/2),Ze=0;Ze<he;++Ze){const at=parseInt(W.substr(2*Ze,2),16);if(wt(at))return Ze;se[Z+Ze]=at}return Ze}function ge(se,W,Z,he){return We(Ce(W,se.length-Z),se,Z,he)}function de(se,W,Z,he){return We(function ke(se){const W=[];for(let Z=0;Z<se.length;++Z)W.push(255&se.charCodeAt(Z));return W}(W),se,Z,he)}function z(se,W,Z,he){return We(Ne(W),se,Z,he)}function d(se,W,Z,he){return We(function ze(se,W){let Z,he,De;const Xe=[];for(let Ze=0;Ze<se.length&&!((W-=2)<0);++Ze)Z=se.charCodeAt(Ze),he=Z>>8,De=Z%256,Xe.push(De),Xe.push(he);return Xe}(W,se.length-Z),se,Z,he)}function f(se,W,Z){return O.fromByteArray(0===W&&Z===se.length?se:se.slice(W,Z))}function b(se,W,Z){Z=Math.min(se.length,Z);const he=[];let De=W;for(;De<Z;){const Xe=se[De];let Ze=null,at=Xe>239?4:Xe>223?3:Xe>191?2:1;if(De+at<=Z){let Rt,Mt,At,Wt;switch(at){case 1:Xe<128&&(Ze=Xe);break;case 2:Rt=se[De+1],128==(192&Rt)&&(Wt=(31&Xe)<<6|63&Rt,Wt>127&&(Ze=Wt));break;case 3:Rt=se[De+1],Mt=se[De+2],128==(192&Rt)&&128==(192&Mt)&&(Wt=(15&Xe)<<12|(63&Rt)<<6|63&Mt,Wt>2047&&(Wt<55296||Wt>57343)&&(Ze=Wt));break;case 4:Rt=se[De+1],Mt=se[De+2],At=se[De+3],128==(192&Rt)&&128==(192&Mt)&&128==(192&At)&&(Wt=(15&Xe)<<18|(63&Rt)<<12|(63&Mt)<<6|63&At,Wt>65535&&Wt<1114112&&(Ze=Wt))}}null===Ze?(Ze=65533,at=1):Ze>65535&&(Ze-=65536,he.push(Ze>>>10&1023|55296),Ze=56320|1023&Ze),he.push(Ze),De+=at}return function D(se){const W=se.length;if(W<=C)return String.fromCharCode.apply(String,se);let Z="",he=0;for(;he<W;)Z+=String.fromCharCode.apply(String,se.slice(he,he+=C));return Z}(he)}I.kMaxLength=K,!(w.TYPED_ARRAY_SUPPORT=function y(){try{const se=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(se,W),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(se,W,Z){return x(se,W,Z)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(se,W,Z){return function k(se,W,Z){return R(se),se<=0?T(se):void 0!==W?"string"==typeof Z?T(se).fill(W,Z):T(se).fill(W):T(se)}(se,W,Z)},w.allocUnsafe=function(se){return v(se)},w.allocUnsafeSlow=function(se){return v(se)},w.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==w.prototype},w.compare=function(W,Z){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),Ye(Z,Uint8Array)&&(Z=w.from(Z,Z.offset,Z.byteLength)),!w.isBuffer(W)||!w.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===Z)return 0;let he=W.length,De=Z.length;for(let Xe=0,Ze=Math.min(he,De);Xe<Ze;++Xe)if(W[Xe]!==Z[Xe]){he=W[Xe],De=Z[Xe];break}return he<De?-1:De<he?1:0},w.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(W,Z){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return w.alloc(0);let he;if(void 0===Z)for(Z=0,he=0;he<W.length;++he)Z+=W[he].length;const De=w.allocUnsafe(Z);let Xe=0;for(he=0;he<W.length;++he){let Ze=W[he];if(Ye(Ze,Uint8Array))Xe+Ze.length>De.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(De,Xe)):Uint8Array.prototype.set.call(De,Ze,Xe);else{if(!w.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy(De,Xe)}Xe+=Ze.length}return De},w.byteLength=X,w.prototype._isBuffer=!0,w.prototype.swap16=function(){const W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<W;Z+=2)te(this,Z,Z+1);return this},w.prototype.swap32=function(){const W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<W;Z+=4)te(this,Z,Z+3),te(this,Z+1,Z+2);return this},w.prototype.swap64=function(){const W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<W;Z+=8)te(this,Z,Z+7),te(this,Z+1,Z+6),te(this,Z+2,Z+5),te(this,Z+3,Z+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){const W=this.length;return 0===W?"":0===arguments.length?b(this,0,W):Q.apply(this,arguments)},w.prototype.equals=function(W){if(!w.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===w.compare(this,W)},w.prototype.inspect=function(){let W="";const Z=I.INSPECT_MAX_BYTES;return W=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(W+=" ... "),"<Buffer "+W+">"},U&&(w.prototype[U]=w.prototype.inspect),w.prototype.compare=function(W,Z,he,De,Xe){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),!w.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===Z&&(Z=0),void 0===he&&(he=W?W.length:0),void 0===De&&(De=0),void 0===Xe&&(Xe=this.length),Z<0||he>W.length||De<0||Xe>this.length)throw new RangeError("out of range index");if(De>=Xe&&Z>=he)return 0;if(De>=Xe)return-1;if(Z>=he)return 1;if(this===W)return 0;let Ze=(Xe>>>=0)-(De>>>=0),at=(he>>>=0)-(Z>>>=0);const Rt=Math.min(Ze,at),Mt=this.slice(De,Xe),At=W.slice(Z,he);for(let Wt=0;Wt<Rt;++Wt)if(Mt[Wt]!==At[Wt]){Ze=Mt[Wt],at=At[Wt];break}return Ze<at?-1:at<Ze?1:0},w.prototype.includes=function(W,Z,he){return-1!==this.indexOf(W,Z,he)},w.prototype.indexOf=function(W,Z,he){return ie(this,W,Z,he,!0)},w.prototype.lastIndexOf=function(W,Z,he){return ie(this,W,Z,he,!1)},w.prototype.write=function(W,Z,he,De){if(void 0===Z)De="utf8",he=this.length,Z=0;else if(void 0===he&&"string"==typeof Z)De=Z,he=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z>>>=0,isFinite(he)?(he>>>=0,void 0===De&&(De="utf8")):(De=he,he=void 0)}const Xe=this.length-Z;if((void 0===he||he>Xe)&&(he=Xe),W.length>0&&(he<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ze=!1;for(;;)switch(De){case"hex":return me(this,W,Z,he);case"utf8":case"utf-8":return ge(this,W,Z,he);case"ascii":case"latin1":case"binary":return de(this,W,Z,he);case"base64":return z(this,W,Z,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,W,Z,he);default:if(Ze)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function V(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(127&se[De]);return he}function Y(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(se[De]);return he}function F(se,W,Z){const he=se.length;(!W||W<0)&&(W=0),(!Z||Z<0||Z>he)&&(Z=he);let De="";for(let Xe=W;Xe<Z;++Xe)De+=mt[se[Xe]];return De}function h(se,W,Z){const he=se.slice(W,Z);let De="";for(let Xe=0;Xe<he.length-1;Xe+=2)De+=String.fromCharCode(he[Xe]+256*he[Xe+1]);return De}function g(se,W,Z){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+W>Z)throw new RangeError("Trying to access beyond buffer length")}function J(se,W,Z,he,De,Xe){if(!w.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>De||W<Xe)throw new RangeError('"value" argument is out of bounds');if(Z+he>se.length)throw new RangeError("Index out of range")}function ee(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Z}function re(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z+7]=Xe,Xe>>=8,se[Z+6]=Xe,Xe>>=8,se[Z+5]=Xe,Xe>>=8,se[Z+4]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z+3]=Ze,Ze>>=8,se[Z+2]=Ze,Ze>>=8,se[Z+1]=Ze,Ze>>=8,se[Z]=Ze,Z+8}function fe(se,W,Z,he,De,Xe){if(Z+he>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function Ae(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,4),$.write(se,W,Z,he,23,4),Z+4}function Me(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,8),$.write(se,W,Z,he,52,8),Z+8}w.prototype.slice=function(W,Z){const he=this.length;(W=~~W)<0?(W+=he)<0&&(W=0):W>he&&(W=he),(Z=void 0===Z?he:~~Z)<0?(Z+=he)<0&&(Z=0):Z>he&&(Z=he),Z<W&&(Z=W);const De=this.subarray(W,Z);return Object.setPrototypeOf(De,w.prototype),De},w.prototype.readUintLE=w.prototype.readUIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return De},w.prototype.readUintBE=w.prototype.readUIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W+--Z],Xe=1;for(;Z>0&&(Xe*=256);)De+=this[W+--Z]*Xe;return De},w.prototype.readUint8=w.prototype.readUInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),this[W]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]|this[W+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]<<8|this[W+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},w.prototype.readBigUInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z+256*this[++W]+65536*this[++W]+this[++W]*2**24,Xe=this[++W]+256*this[++W]+65536*this[++W]+he*2**24;return BigInt(De)+(BigInt(Xe)<<BigInt(32))}),w.prototype.readBigUInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z*2**24+65536*this[++W]+256*this[++W]+this[++W],Xe=this[++W]*2**24+65536*this[++W]+256*this[++W]+he;return(BigInt(De)<<BigInt(32))+BigInt(Xe)}),w.prototype.readIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return Xe*=128,De>=Xe&&(De-=Math.pow(2,8*Z)),De},w.prototype.readIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=Z,Xe=1,Ze=this[W+--De];for(;De>0&&(Xe*=256);)Ze+=this[W+--De]*Xe;return Xe*=128,Ze>=Xe&&(Ze-=Math.pow(2,8*Z)),Ze},w.prototype.readInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},w.prototype.readInt16LE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W]|this[W+1]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt16BE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W+1]|this[W]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},w.prototype.readInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},w.prototype.readBigInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];return(void 0===Z||void 0===he)&&xe(W,this.length-8),(BigInt(this[W+4]+256*this[W+5]+65536*this[W+6]+(he<<24))<<BigInt(32))+BigInt(Z+256*this[++W]+65536*this[++W]+this[++W]*2**24)}),w.prototype.readBigInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=(Z<<24)+65536*this[++W]+256*this[++W]+this[++W];return(BigInt(De)<<BigInt(32))+BigInt(this[++W]*2**24+65536*this[++W]+256*this[++W]+he)}),w.prototype.readFloatLE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!0,23,4)},w.prototype.readFloatBE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!1,23,4)},w.prototype.readDoubleLE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!0,52,8)},w.prototype.readDoubleBE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=1,Ze=0;for(this[Z]=255&W;++Ze<he&&(Xe*=256);)this[Z+Ze]=W/Xe&255;return Z+he},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=he-1,Ze=1;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)this[Z+Xe]=W/Ze&255;return Z+he},w.prototype.writeUint8=w.prototype.writeUInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,255,0),this[Z]=255&W,Z+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z+3]=W>>>24,this[Z+2]=W>>>16,this[Z+1]=W>>>8,this[Z]=255&W,Z+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigUInt64LE=rt(function(W,Z=0){return ee(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=rt(function(W,Z=0){return re(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=0,Ze=1,at=0;for(this[Z]=255&W;++Xe<he&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe-1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeIntBE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=he-1,Ze=1,at=0;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe+1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,127,-128),W<0&&(W=255+W+1),this[Z]=255&W,Z+1},w.prototype.writeInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),this[Z]=255&W,this[Z+1]=W>>>8,this[Z+2]=W>>>16,this[Z+3]=W>>>24,Z+4},w.prototype.writeInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigInt64LE=rt(function(W,Z=0){return ee(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=rt(function(W,Z=0){return re(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeFloatLE=function(W,Z,he){return Ae(this,W,Z,!0,he)},w.prototype.writeFloatBE=function(W,Z,he){return Ae(this,W,Z,!1,he)},w.prototype.writeDoubleLE=function(W,Z,he){return Me(this,W,Z,!0,he)},w.prototype.writeDoubleBE=function(W,Z,he){return Me(this,W,Z,!1,he)},w.prototype.copy=function(W,Z,he,De){if(!w.isBuffer(W))throw new TypeError("argument should be a Buffer");if(he||(he=0),!De&&0!==De&&(De=this.length),Z>=W.length&&(Z=W.length),Z||(Z=0),De>0&&De<he&&(De=he),De===he||0===W.length||0===this.length)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),W.length-Z<De-he&&(De=W.length-Z+he);const Xe=De-he;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Z,he,De):Uint8Array.prototype.set.call(W,this.subarray(he,De),Z),Xe},w.prototype.fill=function(W,Z,he,De){if("string"==typeof W){if("string"==typeof Z?(De=Z,Z=0,he=this.length):"string"==typeof he&&(De=he,he=this.length),void 0!==De&&"string"!=typeof De)throw new TypeError("encoding must be a string");if("string"==typeof De&&!w.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(1===W.length){const Ze=W.charCodeAt(0);("utf8"===De&&Ze<128||"latin1"===De)&&(W=Ze)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(Z<0||this.length<Z||this.length<he)throw new RangeError("Out of range index");if(he<=Z)return this;let Xe;if(Z>>>=0,he=void 0===he?this.length:he>>>0,W||(W=0),"number"==typeof W)for(Xe=Z;Xe<he;++Xe)this[Xe]=W;else{const Ze=w.isBuffer(W)?W:w.from(W,De),at=Ze.length;if(0===at)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Xe=0;Xe<he-Z;++Xe)this[Xe+Z]=Ze[Xe%at]}return this};const Le={};function Ee(se,W,Z){Le[se]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,delete this.name}get code(){return se}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}function Se(se){let W="",Z=se.length;const he="-"===se[0]?1:0;for(;Z>=he+4;Z-=3)W=`_${se.slice(Z-3,Z)}${W}`;return`${se.slice(0,Z)}${W}`}function Te(se,W,Z,he,De,Xe){if(se>Z||se<W){const Ze="bigint"==typeof W?"n":"";let at;throw at=Xe>3?0===W||W===BigInt(0)?`>= 0${Ze} and < 2${Ze} ** ${8*(Xe+1)}${Ze}`:`>= -(2${Ze} ** ${8*(Xe+1)-1}${Ze}) and < 2 ** ${8*(Xe+1)-1}${Ze}`:`>= ${W}${Ze} and <= ${Z}${Ze}`,new Le.ERR_OUT_OF_RANGE("value",at,se)}!function He(se,W,Z){u(W,"offset"),(void 0===se[W]||void 0===se[W+Z])&&xe(W,se.length-(Z+1))}(he,De,Xe)}function u(se,W){if("number"!=typeof se)throw new Le.ERR_INVALID_ARG_TYPE(W,"number",se)}function xe(se,W,Z){throw Math.floor(se)!==se?(u(se,Z),new Le.ERR_OUT_OF_RANGE(Z||"offset","an integer",se)):W<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${W}`,se)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(se,W){return`The "${se}" argument must be of type number. Received type ${typeof W}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(se,W,Z){let he=`The value of "${se}" is out of range.`,De=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?De=Se(String(Z)):"bigint"==typeof Z&&(De=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(De=Se(De)),De+="n"),he+=` It must be ${W}. Received ${De}`,he},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function Ce(se,W){let Z;W=W||1/0;const he=se.length;let De=null;const Xe=[];for(let Ze=0;Ze<he;++Ze){if(Z=se.charCodeAt(Ze),Z>55295&&Z<57344){if(!De){if(Z>56319){(W-=3)>-1&&Xe.push(239,191,189);continue}if(Ze+1===he){(W-=3)>-1&&Xe.push(239,191,189);continue}De=Z;continue}if(Z<56320){(W-=3)>-1&&Xe.push(239,191,189),De=Z;continue}Z=65536+(De-55296<<10|Z-56320)}else De&&(W-=3)>-1&&Xe.push(239,191,189);if(De=null,Z<128){if((W-=1)<0)break;Xe.push(Z)}else if(Z<2048){if((W-=2)<0)break;Xe.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((W-=3)<0)break;Xe.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Xe.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return Xe}function Ne(se){return O.toByteArray(function _e(se){if((se=(se=se.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function We(se,W,Z,he){let De;for(De=0;De<he&&!(De+Z>=W.length||De>=se.length);++De)W[De+Z]=se[De];return De}function Ye(se,W){return se instanceof W||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===W.name}function wt(se){return se!=se}const mt=function(){const se="0123456789abcdef",W=new Array(256);for(let Z=0;Z<16;++Z){const he=16*Z;for(let De=0;De<16;++De)W[he+De]=se[Z]+se[De]}return W}();function rt(se){return typeof BigInt>"u"?Ut:se}function Ut(){throw new Error("BigInt not supported")}},84564:(ye,I,A)=>{I.Level=A(23963).BrowserLevel},57062:(ye,I,A)=>{"use strict";const{SymbolDispose:O}=A(56389),{AbortError:$,codes:U}=A(68154),{isNodeStream:K,isWebStream:y,kControllerErrorFunction:T}=A(32924),w=A(46017),{ERR_INVALID_ARG_TYPE:x}=U;let R;ye.exports.addAbortSignal=function(N,M){if((v=>{if("object"!=typeof v||!("aborted"in v))throw new x("signal","AbortSignal",v)})(N),!K(M)&&!y(M))throw new x("stream",["ReadableStream","WritableStream","Stream"],M);return ye.exports.addAbortSignalNoValidate(N,M)},ye.exports.addAbortSignalNoValidate=function(v,N){if("object"!=typeof v||!("aborted"in v))return N;const M=K(N)?()=>{N.destroy(new $(void 0,{cause:v.reason}))}:()=>{N[T](new $(void 0,{cause:v.reason}))};if(v.aborted)M();else{R=R||A(13509).addAbortListener;const P=R(v,M);w(N,P[O])}return N}},16630:(ye,I,A)=>{"use strict";const{StringPrototypeSlice:O,SymbolIterator:$,TypedArrayPrototypeSet:U,Uint8Array:K}=A(56389),{Buffer:y}=A(68316),{inspect:T}=A(13509);ye.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(x){const R={data:x,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(x){const R={data:x,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const x=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,x}clear(){this.head=this.tail=null,this.length=0}join(x){if(0===this.length)return"";let R=this.head,k=""+R.data;for(;null!==(R=R.next);)k+=x+R.data;return k}concat(x){if(0===this.length)return y.alloc(0);const R=y.allocUnsafe(x>>>0);let k=this.head,v=0;for(;k;)U(R,k.data,v),v+=k.data.length,k=k.next;return R}consume(x,R){const k=this.head.data;if(x<k.length){const v=k.slice(0,x);return this.head.data=k.slice(x),v}return x===k.length?this.shift():R?this._getString(x):this._getBuffer(x)}first(){return this.head.data}*[$](){for(let x=this.head;x;x=x.next)yield x.data}_getString(x){let R="",k=this.head,v=0;do{const N=k.data;if(!(x>N.length)){x===N.length?(R+=N,++v,this.head=k.next?k.next:this.tail=null):(R+=O(N,0,x),this.head=k,k.data=O(N,x));break}R+=N,x-=N.length,++v}while(null!==(k=k.next));return this.length-=v,R}_getBuffer(x){const R=y.allocUnsafe(x),k=x;let v=this.head,N=0;do{const M=v.data;if(!(x>M.length)){x===M.length?(U(R,M,k-x),++N,this.head=v.next?v.next:this.tail=null):(U(R,new K(M.buffer,M.byteOffset,x),k-x),this.head=v,v.data=M.slice(x));break}U(R,M,k-x),x-=M.length,++N}while(null!==(v=v.next));return this.length-=N,R}[Symbol.for("nodejs.util.inspect.custom")](x,R){return T(this,{...R,depth:0,customInspect:!1})}}},373:(ye,I,A)=>{"use strict";var O=A(29293).default;const{pipeline:$}=A(67843),U=A(13323),{destroyer:K}=A(96507),{isNodeStream:y,isReadable:T,isWritable:w,isWebStream:x,isTransformStream:R,isWritableStream:k,isReadableStream:v}=A(32924),{AbortError:N,codes:{ERR_INVALID_ARG_VALUE:M,ERR_MISSING_ARGS:P}}=A(68154),L=A(46017);ye.exports=function(...B){if(0===B.length)throw new P("streams");if(1===B.length)return U.from(B[0]);const q=[...B];if("function"==typeof B[0]&&(B[0]=U.from(B[0])),"function"==typeof B[B.length-1]){const f=B.length-1;B[f]=U.from(B[f])}for(let f=0;f<B.length;++f)if(y(B[f])||x(B[f])){if(f<B.length-1&&!(T(B[f])||v(B[f])||R(B[f])))throw new M(`streams[${f}]`,q[f],"must be readable");if(f>0&&!(w(B[f])||k(B[f])||R(B[f])))throw new M(`streams[${f}]`,q[f],"must be writable")}let X,Q,te,ie,ae;const ge=B[0],de=$(B,function me(f){const b=ie;ie=null,b?b(f):f?ae.destroy(f):!d&&!z&&ae.destroy()}),z=!!(w(ge)||k(ge)||R(ge)),d=!!(T(de)||v(de)||R(de));if(ae=new U({writableObjectMode:!(null==ge||!ge.writableObjectMode),readableObjectMode:!(null==de||!de.readableObjectMode),writable:z,readable:d}),z){if(y(ge))ae._write=function(b,C,D){ge.write(b,C)?D():X=D},ae._final=function(b){ge.end(),Q=b},ge.on("drain",function(){if(X){const b=X;X=null,b()}});else if(x(ge)){const C=(R(ge)?ge.writable:ge).getWriter();ae._write=function(){var D=O(function*(V,Y,F){try{yield C.ready,C.write(V).catch(()=>{}),F()}catch(h){F(h)}});return function(V,Y,F){return D.apply(this,arguments)}}(),ae._final=function(){var D=O(function*(V){try{yield C.ready,C.close().catch(()=>{}),Q=V}catch(Y){V(Y)}});return function(V){return D.apply(this,arguments)}}()}const f=R(de)?de.readable:de;L(f,()=>{if(Q){const b=Q;Q=null,b()}})}if(d)if(y(de))de.on("readable",function(){if(te){const f=te;te=null,f()}}),de.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){const f=de.read();if(null===f)return void(te=ae._read);if(!ae.push(f))return}};else if(x(de)){const b=(R(de)?de.readable:de).getReader();ae._read=O(function*(){for(;;)try{const{value:C,done:D}=yield b.read();if(!ae.push(C))return;if(D)return void ae.push(null)}catch{return}})}return ae._destroy=function(f,b){!f&&null!==ie&&(f=new N),te=null,X=null,Q=null,null===ie?b(f):(ie=b,y(de)&&K(de,f))},ae}},96507:(ye,I,A)=>{"use strict";const O=A(40573),{aggregateTwoErrors:$,codes:{ERR_MULTIPLE_CALLBACK:U},AbortError:K}=A(68154),{Symbol:y}=A(56389),{kIsDestroyed:T,isDestroyed:w,isFinished:x,isServerRequest:R}=A(32924),k=y("kDestroy"),v=y("kConstruct");function N(z,d,f){z&&(d&&!d.errored&&(d.errored=z),f&&!f.errored&&(f.errored=z))}function P(z,d,f){let b=!1;function C(D){if(b)return;b=!0;const V=z._readableState,Y=z._writableState;N(D,Y,V),Y&&(Y.closed=!0),V&&(V.closed=!0),"function"==typeof f&&f(D),D?O.nextTick(L,z,D):O.nextTick(G,z)}try{z._destroy(d||null,C)}catch(D){C(D)}}function L(z,d){B(z,d),G(z)}function G(z){const d=z._readableState,f=z._writableState;f&&(f.closeEmitted=!0),d&&(d.closeEmitted=!0),(null!=f&&f.emitClose||null!=d&&d.emitClose)&&z.emit("close")}function B(z,d){const f=z._readableState,b=z._writableState;null!=b&&b.errorEmitted||null!=f&&f.errorEmitted||(b&&(b.errorEmitted=!0),f&&(f.errorEmitted=!0),z.emit("error",d))}function X(z,d,f){const b=z._readableState,C=z._writableState;if(null!=C&&C.destroyed||null!=b&&b.destroyed)return this;null!=b&&b.autoDestroy||null!=C&&C.autoDestroy?z.destroy(d):d&&(C&&!C.errored&&(C.errored=d),b&&!b.errored&&(b.errored=d),f?O.nextTick(B,z,d):B(z,d))}function te(z){let d=!1;function f(b){if(d)return void X(z,b??new U);d=!0;const C=z._readableState,D=z._writableState,V=D||C;C&&(C.constructed=!0),D&&(D.constructed=!0),V.destroyed?z.emit(k,b):b?X(z,b,!0):O.nextTick(ie,z)}try{z._construct(b=>{O.nextTick(f,b)})}catch(b){O.nextTick(f,b)}}function ie(z){z.emit(v)}function ae(z){return z?.setHeader&&"function"==typeof z.abort}function me(z){z.emit("close")}function ge(z,d){z.emit("error",d),O.nextTick(me,z)}ye.exports={construct:function Q(z,d){if("function"!=typeof z._construct)return;const f=z._readableState,b=z._writableState;f&&(f.constructed=!1),b&&(b.constructed=!1),z.once(v,d),!(z.listenerCount(v)>1)&&O.nextTick(te,z)},destroyer:function de(z,d){!z||w(z)||(!d&&!x(z)&&(d=new K),R(z)?(z.socket=null,z.destroy(d)):ae(z)?z.abort():ae(z.req)?z.req.abort():"function"==typeof z.destroy?z.destroy(d):"function"==typeof z.close?z.close():d?O.nextTick(ge,z,d):O.nextTick(me,z),z.destroyed||(z[T]=!0))},destroy:function M(z,d){const f=this._readableState,b=this._writableState,C=b||f;return null!=b&&b.destroyed||null!=f&&f.destroyed?("function"==typeof d&&d(),this):(N(z,b,f),b&&(b.destroyed=!0),f&&(f.destroyed=!0),C.constructed?P(this,z,d):this.once(k,function(D){P(this,$(D,z),d)}),this)},undestroy:function q(){const z=this._readableState,d=this._writableState;z&&(z.constructed=!0,z.closed=!1,z.closeEmitted=!1,z.destroyed=!1,z.errored=null,z.errorEmitted=!1,z.reading=!1,z.ended=!1===z.readable,z.endEmitted=!1===z.readable),d&&(d.constructed=!0,d.destroyed=!1,d.closed=!1,d.closeEmitted=!1,d.errored=null,d.errorEmitted=!1,d.finalCalled=!1,d.prefinished=!1,d.ended=!1===d.writable,d.ending=!1===d.writable,d.finished=!1===d.writable)},errorOrDestroy:X}},13323:(ye,I,A)=>{"use strict";const{ObjectDefineProperties:O,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:U,ObjectSetPrototypeOf:K}=A(56389);ye.exports=w;const y=A(84553),T=A(30009);K(w.prototype,y.prototype),K(w,y);{const v=U(T.prototype);for(let N=0;N<v.length;N++){const M=v[N];w.prototype[M]||(w.prototype[M]=T.prototype[M])}}function w(v){if(!(this instanceof w))return new w(v);y.call(this,v),T.call(this,v),v?(this.allowHalfOpen=!1!==v.allowHalfOpen,!1===v.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===v.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let x,k;function R(){return void 0===x&&(x={}),x}O(w.prototype,{writable:{__proto__:null,...$(T.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(T.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(T.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(T.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(T.prototype,"writableLength")},writableFinished:{__proto__:null,...$(T.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(T.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(T.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(T.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(v){this._readableState&&this._writableState&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}}}),w.fromWeb=function(v,N){return R().newStreamDuplexFromReadableWritablePair(v,N)},w.toWeb=function(v){return R().newReadableWritablePairFromDuplex(v)},w.from=function(v){return k||(k=A(44425)),k(v,"body")}},44425:(ye,I,A)=>{var O=A(29293).default,$=A(53344).default,U=A(42958).default;const K=A(40573),y=A(68316),{isReadable:T,isWritable:w,isIterable:x,isNodeStream:R,isReadableNodeStream:k,isWritableNodeStream:v,isDuplexNodeStream:N,isReadableStream:M,isWritableStream:P}=A(32924),L=A(46017),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:B,ERR_INVALID_RETURN_VALUE:q}}=A(68154),{destroyer:X}=A(96507),Q=A(13323),te=A(84553),ie=A(30009),{createDeferredPromise:ae}=A(13509),me=A(45737),ge=globalThis.Blob||y.Blob,de=typeof ge<"u"?function(V){return V instanceof ge}:function(V){return!1},z=globalThis.AbortController||A(9465).AbortController,{FunctionPrototypeCall:d}=A(56389);class f extends Q{constructor(V){super(V),!1===V?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===V?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(D){const V=D.readable&&"function"!=typeof D.readable.read?te.wrap(D.readable):D.readable,Y=D.writable;let g,J,ee,re,fe,F=!!T(V),h=!!w(Y);function Ae(Me){const Le=re;re=null,Le?Le(Me):Me&&fe.destroy(Me)}return fe=new f({readableObjectMode:!(null==V||!V.readableObjectMode),writableObjectMode:!(null==Y||!Y.writableObjectMode),readable:F,writable:h}),h&&(L(Y,Me=>{h=!1,Me&&X(V,Me),Ae(Me)}),fe._write=function(Me,Le,Ee){Y.write(Me,Le)?Ee():g=Ee},fe._final=function(Me){Y.end(),J=Me},Y.on("drain",function(){if(g){const Me=g;g=null,Me()}}),Y.on("finish",function(){if(J){const Me=J;J=null,Me()}})),F&&(L(V,Me=>{F=!1,Me&&X(V,Me),Ae(Me)}),V.on("readable",function(){if(ee){const Me=ee;ee=null,Me()}}),V.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){const Me=V.read();if(null===Me)return void(ee=fe._read);if(!fe.push(Me))return}}),fe._destroy=function(Me,Le){!Me&&null!==re&&(Me=new G),ee=null,g=null,J=null,null===re?Le(Me):(re=Le,X(Y,Me),X(V,Me))},fe}ye.exports=function D(V,Y){if(N(V))return V;if(k(V))return C({readable:V});if(v(V))return C({writable:V});if(R(V))return C({writable:!1,readable:!1});if(M(V))return C({readable:te.fromWeb(V)});if(P(V))return C({writable:ie.fromWeb(V)});if("function"==typeof V){const{value:h,write:g,final:J,destroy:ee}=function b(D){let{promise:V,resolve:Y}=ae();const F=new z,h=F.signal;return{value:D(U(function*(){for(;;){const J=V;V=null;const{chunk:ee,done:re,cb:fe}=yield $(J);if(K.nextTick(fe),re)return;if(h.aborted)throw new G(void 0,{cause:h.reason});({promise:V,resolve:Y}=ae()),yield ee}})(),{signal:h}),write(J,ee,re){const fe=Y;Y=null,fe({chunk:J,done:!1,cb:re})},final(J){const ee=Y;Y=null,ee({done:!0,cb:J})},destroy(J,ee){F.abort(),ee(J)}}}(V);if(x(h))return me(f,h,{objectMode:!0,write:g,final:J,destroy:ee});const re=h?.then;if("function"==typeof re){let fe;const Ae=d(re,h,Me=>{if(null!=Me)throw new q("nully","body",Me)},Me=>{X(fe,Me)});return fe=new f({objectMode:!0,readable:!1,write:g,final(Me){J(O(function*(){try{yield Ae,K.nextTick(Me,null)}catch(Le){K.nextTick(Me,Le)}}))},destroy:ee})}throw new q("Iterable, AsyncIterable or AsyncFunction",Y,h)}if(de(V))return D(V.arrayBuffer());if(x(V))return me(f,V,{objectMode:!0,writable:!1});if(M(V?.readable)&&P(V?.writable))return f.fromWeb(V);if("object"==typeof V?.writable||"object"==typeof V?.readable)return C({readable:null!=V&&V.readable?k(V?.readable)?V?.readable:D(V.readable):void 0,writable:null!=V&&V.writable?v(V?.writable)?V?.writable:D(V.writable):void 0});const F=V?.then;if("function"==typeof F){let h;return d(F,V,g=>{null!=g&&h.push(g),h.push(null)},g=>{X(h,g)}),h=new f({objectMode:!0,writable:!1,read(){}})}throw new B(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)}},46017:(ye,I,A)=>{const O=A(40573),{AbortError:$,codes:U}=A(68154),{ERR_INVALID_ARG_TYPE:K,ERR_STREAM_PREMATURE_CLOSE:y}=U,{kEmptyObject:T,once:w}=A(13509),{validateAbortSignal:x,validateFunction:R,validateObject:k,validateBoolean:v}=A(99852),{Promise:N,PromisePrototypeThen:M,SymbolDispose:P}=A(56389),{isClosed:L,isReadable:G,isReadableNodeStream:B,isReadableStream:q,isReadableFinished:X,isReadableErrored:Q,isWritable:te,isWritableNodeStream:ie,isWritableStream:ae,isWritableFinished:me,isWritableErrored:ge,isNodeStream:de,willEmitClose:z,kIsClosedPromise:d}=A(32924);let f;const C=()=>{};function D(F,h,g){var J,ee;if(2===arguments.length?(g=h,h=T):null==h?h=T:k(h,"options"),R(g,"callback"),x(h.signal,"options.signal"),g=w(g),q(F)||ae(F))return function V(F,h,g){let J=!1,ee=C;if(h.signal)if(ee=()=>{J=!0,g.call(F,new $(void 0,{cause:h.signal.reason}))},h.signal.aborted)O.nextTick(ee);else{f=f||A(13509).addAbortListener;const fe=f(h.signal,ee),Ae=g;g=w((...Me)=>{fe[P](),Ae.apply(F,Me)})}const re=(...fe)=>{J||O.nextTick(()=>g.apply(F,fe))};return M(F[d].promise,re,re),C}(F,h,g);if(!de(F))throw new K("stream",["ReadableStream","WritableStream","Stream"],F);const re=null!==(J=h.readable)&&void 0!==J?J:B(F),fe=null!==(ee=h.writable)&&void 0!==ee?ee:ie(F),Ae=F._writableState,Me=F._readableState,Le=()=>{F.writable||He()};let Ee=z(F)&&B(F)===re&&ie(F)===fe,Se=me(F,!1);const He=()=>{Se=!0,F.destroyed&&(Ee=!1),(!Ee||F.readable&&!re)&&(!re||Te)&&g.call(F)};let Te=X(F,!1);const u=()=>{Te=!0,F.destroyed&&(Ee=!1),(!Ee||F.writable&&!fe)&&(!fe||Se)&&g.call(F)},xe=Ne=>{g.call(F,Ne)};let be=L(F);const _e=()=>{be=!0;const Ne=ge(F)||Q(F);return Ne&&"boolean"!=typeof Ne?g.call(F,Ne):re&&!Te&&B(F,!0)&&!X(F,!1)?g.call(F,new y):!fe||Se||me(F,!1)?void g.call(F):g.call(F,new y)},Ce=()=>{be=!0;const Ne=ge(F)||Q(F);if(Ne&&"boolean"!=typeof Ne)return g.call(F,Ne);g.call(F)},ke=()=>{F.req.on("finish",He)};!function b(F){return F.setHeader&&"function"==typeof F.abort}(F)?fe&&!Ae&&(F.on("end",Le),F.on("close",Le)):(F.on("complete",He),Ee||F.on("abort",_e),F.req?ke():F.on("request",ke)),!Ee&&"boolean"==typeof F.aborted&&F.on("aborted",_e),F.on("end",u),F.on("finish",He),!1!==h.error&&F.on("error",xe),F.on("close",_e),be?O.nextTick(_e):null!=Ae&&Ae.errorEmitted||null!=Me&&Me.errorEmitted?Ee||O.nextTick(Ce):(!re&&(!Ee||G(F))&&(Se||!1===te(F))||!fe&&(!Ee||te(F))&&(Te||!1===G(F))||Me&&F.req&&F.aborted)&&O.nextTick(Ce);const ze=()=>{g=C,F.removeListener("aborted",_e),F.removeListener("complete",He),F.removeListener("abort",_e),F.removeListener("request",ke),F.req&&F.req.removeListener("finish",He),F.removeListener("end",Le),F.removeListener("close",Le),F.removeListener("finish",He),F.removeListener("end",u),F.removeListener("error",xe),F.removeListener("close",_e)};if(h.signal&&!be){const Ne=()=>{const We=g;ze(),We.call(F,new $(void 0,{cause:h.signal.reason}))};if(h.signal.aborted)O.nextTick(Ne);else{f=f||A(13509).addAbortListener;const We=f(h.signal,Ne),Ye=g;g=w((...wt)=>{We[P](),Ye.apply(F,wt)})}}return ze}ye.exports=D,ye.exports.finished=function Y(F,h){var g;let J=!1;return null===h&&(h=T),null!==(g=h)&&void 0!==g&&g.cleanup&&(v(h.cleanup,"cleanup"),J=h.cleanup),new N((ee,re)=>{const fe=D(F,h,Ae=>{J&&fe(),Ae?re(Ae):ee()})})}},45737:(ye,I,A)=>{"use strict";var O=A(29293).default;const $=A(40573),{PromisePrototypeThen:U,SymbolAsyncIterator:K,SymbolIterator:y}=A(56389),{Buffer:T}=A(68316),{ERR_INVALID_ARG_TYPE:w,ERR_STREAM_NULL_VALUES:x}=A(68154).codes;ye.exports=function R(k,v,N){let M,P;if("string"==typeof v||v instanceof T)return new k({objectMode:!0,...N,read(){this.push(v),this.push(null)}});if(v&&v[K])P=!0,M=v[K]();else{if(!v||!v[y])throw new w("iterable",["Iterable"],v);P=!1,M=v[y]()}const L=new k({objectMode:!0,highWaterMark:1,...N});let G=!1;function q(){return(q=O(function*(te){if(null!=te&&"function"==typeof M.throw){const{value:me,done:ge}=yield M.throw(te);if(yield me,ge)return}if("function"==typeof M.return){const{value:me}=yield M.return();yield me}})).apply(this,arguments)}function Q(){return(Q=O(function*(){for(;;){try{const{value:te,done:ie}=P?yield M.next():M.next();if(ie)L.push(null);else{const ae=te&&"function"==typeof te.then?yield te:te;if(null===ae)throw G=!1,new x;if(L.push(ae))continue;G=!1}}catch(te){L.destroy(te)}break}})).apply(this,arguments)}return L._read=function(){G||(G=!0,function X(){Q.apply(this,arguments)}())},L._destroy=function(te,ie){U(function B(te){return q.apply(this,arguments)}(te),()=>$.nextTick(ie,te),ae=>$.nextTick(ie,ae||te))},L}},91242:(ye,I,A)=>{"use strict";const{ArrayIsArray:O,ObjectSetPrototypeOf:$}=A(56389),{EventEmitter:U}=A(44356);function K(T){U.call(this,T)}function y(T,w,x){if("function"==typeof T.prependListener)return T.prependListener(w,x);T._events&&T._events[w]?O(T._events[w])?T._events[w].unshift(x):T._events[w]=[x,T._events[w]]:T.on(w,x)}$(K.prototype,U.prototype),$(K,U),K.prototype.pipe=function(T,w){const x=this;function R(G){T.writable&&!1===T.write(G)&&x.pause&&x.pause()}function k(){x.readable&&x.resume&&x.resume()}x.on("data",R),T.on("drain",k),!T._isStdio&&(!w||!1!==w.end)&&(x.on("end",N),x.on("close",M));let v=!1;function N(){v||(v=!0,T.end())}function M(){v||(v=!0,"function"==typeof T.destroy&&T.destroy())}function P(G){L(),0===U.listenerCount(this,"error")&&this.emit("error",G)}function L(){x.removeListener("data",R),T.removeListener("drain",k),x.removeListener("end",N),x.removeListener("close",M),x.removeListener("error",P),T.removeListener("error",P),x.removeListener("end",L),x.removeListener("close",L),T.removeListener("close",L)}return y(x,"error",P),y(T,"error",P),x.on("end",L),x.on("close",L),T.on("close",L),T.emit("pipe",x),T},ye.exports={Stream:K,prependListener:y}},21840:(ye,I,A)=>{"use strict";var O=A(29293).default,$=A(93513).default,U=A(82881).default,K=A(53344).default,y=A(42958).default;const T=globalThis.AbortController||A(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:w,ERR_INVALID_ARG_TYPE:x,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:k},AbortError:v}=A(68154),{validateAbortSignal:N,validateInteger:M,validateObject:P}=A(99852),L=A(56389).Symbol("kWeak"),G=A(56389).Symbol("kResistStopPropagation"),{finished:B}=A(46017),q=A(373),{addAbortSignalNoValidate:X}=A(57062),{isWritable:Q,isNodeStream:te}=A(32924),{deprecate:ie}=A(13509),{ArrayPrototypePush:ae,Boolean:me,MathFloor:ge,Number:de,NumberIsNaN:z,Promise:d,PromiseReject:f,PromiseResolve:b,PromisePrototypeThen:C,Symbol:D}=A(56389),V=D("kEmpty"),Y=D("kEof");function h(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal");let Ye=1;null!=We?.concurrency&&(Ye=ge(We.concurrency));let wt=Ye-1;return null!=We?.highWaterMark&&(wt=ge(We.highWaterMark)),M(Ye,"options.concurrency",1),M(wt,"options.highWaterMark",0),wt+=Ye,function(){var mt=y(function*(){const Ut=A(13509).AbortSignalAny([We?.signal].filter(me)),se=this,W=[],Z={signal:Ut};let he,De,Xe=!1,Ze=0;function at(){Xe=!0,Rt()}function Rt(){Ze-=1,Mt()}function Mt(){De&&!Xe&&Ze<Ye&&W.length<wt&&(De(),De=null)}function Wt(){return(Wt=O(function*(){try{var Hn,Bt=!1,nn=!1;try{for(var an,sn=U(se);Bt=!(an=yield sn.next()).done;Bt=!1){let kn=an.value;if(Xe)return;if(Ut.aborted)throw new v;try{if(kn=Ne(kn,Z),kn===V)continue;kn=b(kn)}catch(Ve){kn=f(Ve)}Ze+=1,C(kn,Rt,at),W.push(kn),he&&(he(),he=null),!Xe&&(W.length>=wt||Ze>=Ye)&&(yield new d(Ve=>{De=Ve}))}}catch(kn){nn=!0,Hn=kn}finally{try{Bt&&null!=sn.return&&(yield sn.return())}finally{if(nn)throw Hn}}W.push(Y)}catch(kn){const Ve=f(kn);C(Ve,Rt,at),W.push(Ve)}finally{Xe=!0,he&&(he(),he=null)}})).apply(this,arguments)}!function At(){Wt.apply(this,arguments)}();try{for(;;){for(;W.length>0;){const Bt=yield K(W[0]);if(Bt===Y)return;if(Ut.aborted)throw new v;Bt!==V&&(yield Bt),W.shift(),Mt()}yield K(new d(Bt=>{he=Bt}))}}finally{Xe=!0,De&&(De(),De=null)}});return function rt(){return mt.apply(this,arguments)}}().call(this)}function J(Ne){return ee.apply(this,arguments)}function ee(){return(ee=O(function*(Ne,We=void 0){var mt,Ye=!1,wt=!1;try{for(var rt=U(Se.call(this,Ne,We));Ye=!(yield rt.next()).done;Ye=!1)return!0}catch(se){wt=!0,mt=se}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}return!1})).apply(this,arguments)}function fe(){return(fe=O(function*(Ne,We=void 0){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);return!(yield J.call(this,O(function*(...Ye){return!(yield Ne(...Ye))}),We))})).apply(this,arguments)}function Me(){return(Me=O(function*(Ne,We){var mt,Ye=!1,wt=!1;try{for(var Ut,rt=U(Se.call(this,Ne,We));Ye=!(Ut=yield rt.next()).done;Ye=!1)return Ut.value}catch(se){wt=!0,mt=se}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}})).apply(this,arguments)}function Ee(){return Ee=O(function*(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);function wt(){return(wt=O(function*(Z,he){return yield Ne(Z,he),V})).apply(this,arguments)}var Ut,mt=!1,rt=!1;try{for(var se=U(h.call(this,function Ye(Z,he){return wt.apply(this,arguments)},We));mt=!(yield se.next()).done;mt=!1);}catch(Z){rt=!0,Ut=Z}finally{try{mt&&null!=se.return&&(yield se.return())}finally{if(rt)throw Ut}}}),Ee.apply(this,arguments)}function Se(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);function wt(){return(wt=O(function*(mt,rt){return(yield Ne(mt,rt))?mt:V})).apply(this,arguments)}return h.call(this,function Ye(mt,rt){return wt.apply(this,arguments)},We)}class He extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function u(){return u=O(function*(Ne,We,Ye){var wt;if("function"!=typeof Ne)throw new x("reducer",["Function","AsyncFunction"],Ne);null!=Ye&&P(Ye,"options"),null!=Ye?.signal&&N(Ye.signal,"options.signal");let mt=arguments.length>1;if(null!=Ye&&null!==(wt=Ye.signal)&&void 0!==wt&&wt.aborted){const at=new v(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),yield B(this.destroy(at)),at}const rt=new T,Ut=rt.signal;null!=Ye&&Ye.signal&&Ye.signal.addEventListener("abort",()=>rt.abort(),{once:!0,[L]:this,[G]:!0});let se=!1;try{var he,W=!1,Z=!1;try{for(var Xe,De=U(this);W=!(Xe=yield De.next()).done;W=!1){const at=Xe.value;var Ze;if(se=!0,null!=Ye&&null!==(Ze=Ye.signal)&&void 0!==Ze&&Ze.aborted)throw new v;mt?We=yield Ne(We,at,{signal:Ut}):(We=at,mt=!0)}}catch(at){Z=!0,he=at}finally{try{W&&null!=De.return&&(yield De.return())}finally{if(Z)throw he}}if(!se&&!mt)throw new He}finally{rt.abort()}return We}),u.apply(this,arguments)}function be(){return(be=O(function*(Ne){null!=Ne&&P(Ne,"options"),null!=Ne?.signal&&N(Ne.signal,"options.signal");const We=[];var mt,Ye=!1,wt=!1;try{for(var Ut,rt=U(this);Ye=!(Ut=yield rt.next()).done;Ye=!1){const W=Ut.value;var se;if(null!=Ne&&null!==(se=Ne.signal)&&void 0!==se&&se.aborted)throw new v(void 0,{cause:Ne.signal.reason});ae(We,W)}}catch(W){wt=!0,mt=W}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}return We})).apply(this,arguments)}function Ce(Ne){if(Ne=de(Ne),z(Ne))return 0;if(Ne<0)throw new k("number",">= 0",Ne);return Ne}ye.exports.streamReturningOperators={asIndexedPairs:ie(function g(Ne=void 0){return null!=Ne&&P(Ne,"options"),null!=Ne?.signal&&N(Ne.signal,"options.signal"),function(){var We=y(function*(){let wt=0;var Ut,mt=!1,rt=!1;try{for(var W,se=U(this);mt=!(W=yield K(se.next())).done;mt=!1){const he=W.value;var Z;if(null!=Ne&&null!==(Z=Ne.signal)&&void 0!==Z&&Z.aborted)throw new v({cause:Ne.signal.reason});yield[wt++,he]}}catch(he){rt=!0,Ut=he}finally{try{mt&&null!=se.return&&(yield K(se.return()))}finally{if(rt)throw Ut}}});return function Ye(){return We.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ke(Ne,We=void 0){return null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),Ne=Ce(Ne),function(){var Ye=y(function*(){var mt;if(null!=We&&null!==(mt=We.signal)&&void 0!==mt&&mt.aborted)throw new v;var se,rt=!1,Ut=!1;try{for(var Z,W=U(this);rt=!(Z=yield K(W.next())).done;rt=!1){const De=Z.value;var he;if(null!=We&&null!==(he=We.signal)&&void 0!==he&&he.aborted)throw new v;Ne--<=0&&(yield De)}}catch(De){Ut=!0,se=De}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function wt(){return Ye.apply(this,arguments)}}().call(this)},filter:Se,flatMap:function _e(Ne,We){const Ye=h.call(this,Ne,We);return function(){var wt=y(function*(){var se,rt=!1,Ut=!1;try{for(var Z,W=U(Ye);rt=!(Z=yield K(W.next())).done;rt=!1){const he=Z.value;yield*$(U(he),K)}}catch(he){Ut=!0,se=he}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function mt(){return wt.apply(this,arguments)}}().call(this)},map:h,take:function ze(Ne,We=void 0){return null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),Ne=Ce(Ne),function(){var Ye=y(function*(){var mt;if(null!=We&&null!==(mt=We.signal)&&void 0!==mt&&mt.aborted)throw new v;var se,rt=!1,Ut=!1;try{for(var Z,W=U(this);rt=!(Z=yield K(W.next())).done;rt=!1){const De=Z.value;var he;if(null!=We&&null!==(he=We.signal)&&void 0!==he&&he.aborted)throw new v;if(Ne-- >0&&(yield De),Ne<=0)return}}catch(De){Ut=!0,se=De}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function wt(){return Ye.apply(this,arguments)}}().call(this)},compose:function F(Ne,We){if(null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),te(Ne)&&!Q(Ne))throw new w("stream",Ne,"must be writable");const Ye=q(this,Ne);return null!=We&&We.signal&&X(We.signal,Ye),Ye}},ye.exports.promiseReturningOperators={every:function re(Ne){return fe.apply(this,arguments)},forEach:function Le(Ne,We){return Ee.apply(this,arguments)},reduce:function Te(Ne,We,Ye){return u.apply(this,arguments)},toArray:function xe(Ne){return be.apply(this,arguments)},some:J,find:function Ae(Ne,We){return Me.apply(this,arguments)}}},59447:(ye,I,A)=>{"use strict";const{ObjectSetPrototypeOf:O}=A(56389);ye.exports=U;const $=A(71981);function U(K){if(!(this instanceof U))return new U(K);$.call(this,K)}O(U.prototype,$.prototype),O(U,$),U.prototype._transform=function(K,y,T){T(null,K)}},67843:(ye,I,A)=>{var O=A(29293).default,$=A(42958).default,U=A(53344).default,K=A(93513).default,y=A(82881).default;const T=A(40573),{ArrayIsArray:w,Promise:x,SymbolAsyncIterator:R,SymbolDispose:k}=A(56389),v=A(46017),{once:N}=A(13509),M=A(96507),P=A(13323),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:G,ERR_INVALID_RETURN_VALUE:B,ERR_MISSING_ARGS:q,ERR_STREAM_DESTROYED:X,ERR_STREAM_PREMATURE_CLOSE:Q},AbortError:te}=A(68154),{validateFunction:ie,validateAbortSignal:ae}=A(99852),{isIterable:me,isReadable:ge,isReadableNodeStream:de,isNodeStream:z,isTransformStream:d,isWebStream:f,isReadableStream:b,isReadableFinished:C}=A(32924),D=globalThis.AbortController||A(9465).AbortController;let V,Y,F;function h(Te,u,xe){let be=!1;return Te.on("close",()=>{be=!0}),{destroy:Ce=>{be||(be=!0,M.destroyer(Te,Ce||new X("pipe")))},cleanup:v(Te,{readable:u,writable:xe},Ce=>{be=!Ce})}}function J(Te){if(me(Te))return Te;if(de(Te))return function ee(Te){return re.apply(this,arguments)}(Te);throw new G("val",["Readable","Iterable","AsyncIterable"],Te)}function re(){return(re=$(function*(Te){Y||(Y=A(84553)),yield*K(y(Y.prototype[R].call(Te)),U)})).apply(this,arguments)}function fe(Te,u,xe,be){return Ae.apply(this,arguments)}function Ae(){return(Ae=O(function*(Te,u,xe,{end:be}){let _e,Ce=null;const ke=Ut=>{if(Ut&&(_e=Ut),Ce){const se=Ce;Ce=null,se()}},ze=()=>new x((Ut,se)=>{_e?se(_e):Ce=()=>{_e?se(_e):Ut()}});u.on("drain",ke);const Ne=v(u,{readable:!1},ke);try{u.writableNeedDrain&&(yield ze());var wt,We=!1,Ye=!1;try{for(var rt,mt=y(Te);We=!(rt=yield mt.next()).done;We=!1)u.write(rt.value)||(yield ze())}catch(Ut){Ye=!0,wt=Ut}finally{try{We&&null!=mt.return&&(yield mt.return())}finally{if(Ye)throw wt}}be&&(u.end(),yield ze()),xe()}catch(Ut){xe(_e!==Ut?L(_e,Ut):Ut)}finally{Ne(),u.off("drain",ke)}})).apply(this,arguments)}function Me(Te,u,xe,be){return Le.apply(this,arguments)}function Le(){return(Le=O(function*(Te,u,xe,{end:be}){d(u)&&(u=u.writable);const _e=u.getWriter();try{var ze,Ce=!1,ke=!1;try{for(var We,Ne=y(Te);Ce=!(We=yield Ne.next()).done;Ce=!1){const Ye=We.value;yield _e.ready,_e.write(Ye).catch(()=>{})}}catch(Ye){ke=!0,ze=Ye}finally{try{Ce&&null!=Ne.return&&(yield Ne.return())}finally{if(ke)throw ze}}yield _e.ready,be&&(yield _e.close()),xe()}catch(Ye){try{yield _e.abort(Ye),xe(Ye)}catch(wt){xe(wt)}}})).apply(this,arguments)}function Se(Te,u,xe){if(1===Te.length&&w(Te[0])&&(Te=Te[0]),Te.length<2)throw new q("streams");const be=new D,_e=be.signal,Ce=xe?.signal,ke=[];function ze(){Ut(new te)}let Ne,We,Ye;ae(Ce,"options.signal"),F=F||A(13509).addAbortListener,Ce&&(Ne=F(Ce,ze));const wt=[];let se,mt=0;function rt(De){Ut(De,0==--mt)}function Ut(De,Xe){var Ze;if(De&&(!We||"ERR_STREAM_PREMATURE_CLOSE"===We.code)&&(We=De),We||Xe){for(;wt.length;)wt.shift()(We);null===(Ze=Ne)||void 0===Ze||Ze[k](),be.abort(),Xe&&(We||ke.forEach(at=>at()),T.nextTick(u,We,Ye))}}for(let De=0;De<Te.length;De++){const Xe=Te[De],Ze=De<Te.length-1,at=De>0,Rt=Ze||!1!==xe?.end,Mt=De===Te.length-1;if(z(Xe)){let At=function(Wt){Wt&&"AbortError"!==Wt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Wt.code&&rt(Wt)};if(Rt){const{destroy:Wt,cleanup:Bt}=h(Xe,Ze,at);wt.push(Wt),ge(Xe)&&Mt&&ke.push(Bt)}Xe.on("error",At),ge(Xe)&&Mt&&ke.push(()=>{Xe.removeListener("error",At)})}if(0===De)if("function"==typeof Xe){if(se=Xe({signal:_e}),!me(se))throw new B("Iterable, AsyncIterable or Stream","source",se)}else se=me(Xe)||de(Xe)||d(Xe)?Xe:P.from(Xe);else if("function"==typeof Xe){var W;if(se=d(se)?J(null===(W=se)||void 0===W?void 0:W.readable):J(se),se=Xe(se,{signal:_e}),Ze){if(!me(se,!0))throw new B("AsyncIterable",`transform[${De-1}]`,se)}else{var Z;V||(V=A(59447));const At=new V({objectMode:!0}),Wt=null===(Z=se)||void 0===Z?void 0:Z.then;if("function"==typeof Wt)mt++,Wt.call(se,Hn=>{Ye=Hn,null!=Hn&&At.write(Hn),Rt&&At.end(),T.nextTick(rt)},Hn=>{At.destroy(Hn),T.nextTick(rt,Hn)});else if(me(se,!0))mt++,fe(se,At,rt,{end:Rt});else{if(!b(se)&&!d(se))throw new B("AsyncIterable or Promise","destination",se);mt++,fe(se.readable||se,At,rt,{end:Rt})}se=At;const{destroy:Bt,cleanup:nn}=h(se,!1,!0);wt.push(Bt),Mt&&ke.push(nn)}}else if(z(Xe)){if(de(se)){mt+=2;const At=He(se,Xe,rt,{end:Rt});ge(Xe)&&Mt&&ke.push(At)}else if(d(se)||b(se))mt++,fe(se.readable||se,Xe,rt,{end:Rt});else{if(!me(se))throw new G("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);mt++,fe(se,Xe,rt,{end:Rt})}se=Xe}else if(f(Xe)){if(de(se))mt++,Me(J(se),Xe,rt,{end:Rt});else if(b(se)||me(se))mt++,Me(se,Xe,rt,{end:Rt});else{if(!d(se))throw new G("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);mt++,Me(se.readable,Xe,rt,{end:Rt})}se=Xe}else se=P.from(Xe)}return(null!=_e&&_e.aborted||null!=Ce&&Ce.aborted)&&T.nextTick(ze),se}function He(Te,u,xe,{end:be}){let _e=!1;if(u.on("close",()=>{_e||xe(new Q)}),Te.pipe(u,{end:!1}),be){let ke=function(){_e=!0,u.end()};C(Te)?T.nextTick(ke):Te.once("end",ke)}else xe();return v(Te,{readable:!0,writable:!1},ke=>{const ze=Te._readableState;ke&&"ERR_STREAM_PREMATURE_CLOSE"===ke.code&&ze&&ze.ended&&!ze.errored&&!ze.errorEmitted?Te.once("end",xe).once("error",xe):xe(ke)}),v(u,{readable:!1,writable:!0},xe)}ye.exports={pipelineImpl:Se,pipeline:function Ee(...Te){return Se(Te,N(function g(Te){return ie(Te[Te.length-1],"streams[stream.length - 1]"),Te.pop()}(Te)))}}},84553:(ye,I,A)=>{var O=A(53344).default,$=A(42958).default;const U=A(40573),{ArrayPrototypeIndexOf:K,NumberIsInteger:y,NumberIsNaN:T,NumberParseInt:w,ObjectDefineProperties:x,ObjectKeys:R,ObjectSetPrototypeOf:k,Promise:v,SafeSet:N,SymbolAsyncDispose:M,SymbolAsyncIterator:P,Symbol:L}=A(56389);ye.exports=rt,rt.ReadableState=mt;const{EventEmitter:G}=A(44356),{Stream:B,prependListener:q}=A(91242),{Buffer:X}=A(68316),{addAbortSignal:Q}=A(57062),te=A(46017);let ie=A(13509).debuglog("stream",Be=>{ie=Be});const ae=A(16630),me=A(96507),{getHighWaterMark:ge,getDefaultHighWaterMark:de}=A(18212),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:d,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_OUT_OF_RANGE:b,ERR_STREAM_PUSH_AFTER_EOF:C,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:V}=A(68154),{validateObject:Y}=A(99852),F=L("kPaused"),{StringDecoder:h}=A(78454),g=A(45737);k(rt.prototype,B.prototype),k(rt,B);const J=()=>{},{errorOrDestroy:ee}=me,re=1,Le=16,Ee=32,Se=64,be=2048,_e=4096,Ne=65536;function wt(Be){return{enumerable:!1,get(){return!!(this.state&Be)},set(Ge){Ge?this.state|=Be:this.state&=~Be}}}function mt(Be,Ge,ht){"boolean"!=typeof ht&&(ht=Ge instanceof A(13323)),this.state=be|_e|Le|Ee,Be&&Be.objectMode&&(this.state|=re),ht&&Be&&Be.readableObjectMode&&(this.state|=re),this.highWaterMark=Be?ge(this,Be,"readableHighWaterMark",ht):de(!1),this.buffer=new ae,this.length=0,this.pipes=[],this.flowing=null,this[F]=null,Be&&!1===Be.emitClose&&(this.state&=~be),Be&&!1===Be.autoDestroy&&(this.state&=~_e),this.errored=null,this.defaultEncoding=Be&&Be.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Be&&Be.encoding&&(this.decoder=new h(Be.encoding),this.encoding=Be.encoding)}function rt(Be){if(!(this instanceof rt))return new rt(Be);const Ge=this instanceof A(13323);this._readableState=new mt(Be,this,Ge),Be&&("function"==typeof Be.read&&(this._read=Be.read),"function"==typeof Be.destroy&&(this._destroy=Be.destroy),"function"==typeof Be.construct&&(this._construct=Be.construct),Be.signal&&!Ge&&Q(Be.signal,this)),B.call(this,Be),me.construct(this,()=>{this._readableState.needReadable&&at(this,this._readableState)})}function Ut(Be,Ge,ht,et){ie("readableAddChunk",Ge);const ut=Be._readableState;let en;if(ut.state&re||("string"==typeof Ge?ut.encoding!==(ht=ht||ut.defaultEncoding)&&(et&&ut.encoding?Ge=X.from(Ge,ht).toString(ut.encoding):(Ge=X.from(Ge,ht),ht="")):Ge instanceof X?ht="":B._isUint8Array(Ge)?(Ge=B._uint8ArrayToBuffer(Ge),ht=""):null!=Ge&&(en=new d("chunk",["string","Buffer","Uint8Array"],Ge))),en)ee(Be,en);else if(null===Ge)ut.state&=-9,function De(Be,Ge){if(ie("onEofChunk"),!Ge.ended){if(Ge.decoder){const ht=Ge.decoder.end();ht&&ht.length&&(Ge.buffer.push(ht),Ge.length+=Ge.objectMode?1:ht.length)}Ge.ended=!0,Ge.sync?Xe(Be):(Ge.needReadable=!1,Ge.emittedReadable=!0,Ze(Be))}}(Be,ut);else if(ut.state&re||Ge&&Ge.length>0)if(et)if(4&ut.state)ee(Be,new D);else{if(ut.destroyed||ut.errored)return!1;se(Be,ut,Ge,!0)}else if(ut.ended)ee(Be,new C);else{if(ut.destroyed||ut.errored)return!1;ut.state&=-9,ut.decoder&&!ht?(Ge=ut.decoder.write(Ge),ut.objectMode||0!==Ge.length?se(Be,ut,Ge,!1):at(Be,ut)):se(Be,ut,Ge,!1)}else et||(ut.state&=-9,at(Be,ut));return!ut.ended&&(ut.length<ut.highWaterMark||0===ut.length)}function se(Be,Ge,ht,et){Ge.flowing&&0===Ge.length&&!Ge.sync&&Be.listenerCount("data")>0?(Ge.state&Ne?Ge.awaitDrainWriters.clear():Ge.awaitDrainWriters=null,Ge.dataEmitted=!0,Be.emit("data",ht)):(Ge.length+=Ge.objectMode?1:ht.length,et?Ge.buffer.unshift(ht):Ge.buffer.push(ht),Ge.state&Se&&Xe(Be)),at(Be,Ge)}function he(Be,Ge){return Be<=0||0===Ge.length&&Ge.ended?0:Ge.state&re?1:T(Be)?Ge.flowing&&Ge.length?Ge.buffer.first().length:Ge.length:Be<=Ge.length?Be:Ge.ended?Ge.length:0}function Xe(Be){const Ge=Be._readableState;ie("emitReadable",Ge.needReadable,Ge.emittedReadable),Ge.needReadable=!1,Ge.emittedReadable||(ie("emitReadable",Ge.flowing),Ge.emittedReadable=!0,U.nextTick(Ze,Be))}function Ze(Be){const Ge=Be._readableState;ie("emitReadable_",Ge.destroyed,Ge.length,Ge.ended),!Ge.destroyed&&!Ge.errored&&(Ge.length||Ge.ended)&&(Be.emit("readable"),Ge.emittedReadable=!1),Ge.needReadable=!Ge.flowing&&!Ge.ended&&Ge.length<=Ge.highWaterMark,Hn(Be)}function at(Be,Ge){!Ge.readingMore&&Ge.constructed&&(Ge.readingMore=!0,U.nextTick(Rt,Be,Ge))}function Rt(Be,Ge){for(;!Ge.reading&&!Ge.ended&&(Ge.length<Ge.highWaterMark||Ge.flowing&&0===Ge.length);){const ht=Ge.length;if(ie("maybeReadMore read 0"),Be.read(0),ht===Ge.length)break}Ge.readingMore=!1}function At(Be){const Ge=Be._readableState;Ge.readableListening=Be.listenerCount("readable")>0,Ge.resumeScheduled&&!1===Ge[F]?Ge.flowing=!0:Be.listenerCount("data")>0?Be.resume():Ge.readableListening||(Ge.flowing=null)}function Wt(Be){ie("readable nexttick read 0"),Be.read(0)}function nn(Be,Ge){ie("resume",Ge.reading),Ge.reading||Be.read(0),Ge.resumeScheduled=!1,Be.emit("resume"),Hn(Be),Ge.flowing&&!Ge.reading&&Be.read(0)}function Hn(Be){const Ge=Be._readableState;for(ie("flow",Ge.flowing);Ge.flowing&&null!==Be.read(););}function sn(Be,Ge){"function"!=typeof Be.read&&(Be=rt.wrap(Be,{objectMode:!0}));const ht=function an(Be,Ge){return kn.apply(this,arguments)}(Be,Ge);return ht.stream=Be,ht}function kn(){return(kn=$(function*(Be,Ge){let ut,ht=J;function et(It){this===Be?(ht(),ht=J):ht=It}Be.on("readable",et);const en=te(Be,{writable:!1},It=>{ut=It?z(ut,It):null,ht(),ht=J});try{for(;;){const It=Be.destroyed?null:Be.read();if(null!==It)yield It;else{if(ut)throw ut;if(null===ut)return;yield O(new v(et))}}}catch(It){throw ut=z(ut,It),ut}finally{!ut&&!1===Ge?.destroyOnReturn||void 0!==ut&&!Be._readableState.autoDestroy?(Be.off("readable",et),en()):me.destroyer(Be,null)}})).apply(this,arguments)}function Ve(Be,Ge){if(0===Ge.length)return null;let ht;return Ge.objectMode?ht=Ge.buffer.shift():!Be||Be>=Ge.length?(ht=Ge.decoder?Ge.buffer.join(""):1===Ge.buffer.length?Ge.buffer.first():Ge.buffer.concat(Ge.length),Ge.buffer.clear()):ht=Ge.buffer.consume(Be,Ge.decoder),ht}function st(Be){const Ge=Be._readableState;ie("endReadable",Ge.endEmitted),Ge.endEmitted||(Ge.ended=!0,U.nextTick(gt,Ge,Be))}function gt(Be,Ge){if(ie("endReadableNT",Be.endEmitted,Be.length),!Be.errored&&!Be.closeEmitted&&!Be.endEmitted&&0===Be.length)if(Be.endEmitted=!0,Ge.emit("end"),Ge.writable&&!1===Ge.allowHalfOpen)U.nextTick(dt,Ge);else if(Be.autoDestroy){const ht=Ge._writableState;(!ht||ht.autoDestroy&&(ht.finished||!1===ht.writable))&&Ge.destroy()}}function dt(Be){Be.writable&&!Be.writableEnded&&!Be.destroyed&&Be.end()}let yt;function ln(){return void 0===yt&&(yt={}),yt}x(mt.prototype,{objectMode:wt(re),ended:wt(2),endEmitted:wt(4),reading:wt(8),constructed:wt(Le),sync:wt(Ee),needReadable:wt(Se),emittedReadable:wt(128),readableListening:wt(256),resumeScheduled:wt(512),errorEmitted:wt(1024),emitClose:wt(be),autoDestroy:wt(_e),destroyed:wt(8192),closed:wt(16384),closeEmitted:wt(32768),multiAwaitDrain:wt(Ne),readingMore:wt(1<<17),dataEmitted:wt(1<<18)}),rt.prototype.destroy=me.destroy,rt.prototype._undestroy=me.undestroy,rt.prototype._destroy=function(Be,Ge){Ge(Be)},rt.prototype[G.captureRejectionSymbol]=function(Be){this.destroy(Be)},rt.prototype[M]=function(){let Be;return this.destroyed||(Be=this.readableEnded?null:new V,this.destroy(Be)),new v((Ge,ht)=>te(this,et=>et&&et!==Be?ht(et):Ge(null)))},rt.prototype.push=function(Be,Ge){return Ut(this,Be,Ge,!1)},rt.prototype.unshift=function(Be,Ge){return Ut(this,Be,Ge,!0)},rt.prototype.isPaused=function(){const Be=this._readableState;return!0===Be[F]||!1===Be.flowing},rt.prototype.setEncoding=function(Be){const Ge=new h(Be);this._readableState.decoder=Ge,this._readableState.encoding=this._readableState.decoder.encoding;const ht=this._readableState.buffer;let et="";for(const ut of ht)et+=Ge.write(ut);return ht.clear(),""!==et&&ht.push(et),this._readableState.length=et.length,this},rt.prototype.read=function(Be){ie("read",Be),void 0===Be?Be=NaN:y(Be)||(Be=w(Be,10));const Ge=this._readableState,ht=Be;if(Be>Ge.highWaterMark&&(Ge.highWaterMark=function Z(Be){if(Be>1073741824)throw new b("size","<= 1GiB",Be);return Be--,Be|=Be>>>1,Be|=Be>>>2,Be|=Be>>>4,Be|=Be>>>8,Be|=Be>>>16,++Be}(Be)),0!==Be&&(Ge.state&=-129),0===Be&&Ge.needReadable&&((0!==Ge.highWaterMark?Ge.length>=Ge.highWaterMark:Ge.length>0)||Ge.ended))return ie("read: emitReadable",Ge.length,Ge.ended),0===Ge.length&&Ge.ended?st(this):Xe(this),null;if(0===(Be=he(Be,Ge))&&Ge.ended)return 0===Ge.length&&st(this),null;let ut,et=!!(Ge.state&Se);if(ie("need readable",et),(0===Ge.length||Ge.length-Be<Ge.highWaterMark)&&(et=!0,ie("length less than watermark",et)),Ge.ended||Ge.reading||Ge.destroyed||Ge.errored||!Ge.constructed)et=!1,ie("reading, ended or constructing",et);else if(et){ie("do read"),Ge.state|=8|Ee,0===Ge.length&&(Ge.state|=Se);try{this._read(Ge.highWaterMark)}catch(en){ee(this,en)}Ge.state&=~Ee,Ge.reading||(Be=he(ht,Ge))}return ut=Be>0?Ve(Be,Ge):null,null===ut?(Ge.needReadable=Ge.length<=Ge.highWaterMark,Be=0):(Ge.length-=Be,Ge.multiAwaitDrain?Ge.awaitDrainWriters.clear():Ge.awaitDrainWriters=null),0===Ge.length&&(Ge.ended||(Ge.needReadable=!0),ht!==Be&&Ge.ended&&st(this)),null!==ut&&!Ge.errorEmitted&&!Ge.closeEmitted&&(Ge.dataEmitted=!0,this.emit("data",ut)),ut},rt.prototype._read=function(Be){throw new f("_read()")},rt.prototype.pipe=function(Be,Ge){const ht=this,et=this._readableState;1===et.pipes.length&&(et.multiAwaitDrain||(et.multiAwaitDrain=!0,et.awaitDrainWriters=new N(et.awaitDrainWriters?[et.awaitDrainWriters]:[]))),et.pipes.push(Be),ie("pipe count=%d opts=%j",et.pipes.length,Ge);const en=Ge&&!1===Ge.end||Be===U.stdout||Be===U.stderr?nr:qt;function qt(){ie("onend"),Be.end()}et.endEmitted?U.nextTick(en):ht.once("end",en),Be.on("unpipe",function It(tr,Xn){ie("onunpipe"),tr===ht&&Xn&&!1===Xn.hasUnpiped&&(Xn.hasUnpiped=!0,function cn(){ie("cleanup"),Be.removeListener("close",gr),Be.removeListener("finish",Vn),Fn&&Be.removeListener("drain",Fn),Be.removeListener("error",Bn),Be.removeListener("unpipe",It),ht.removeListener("end",qt),ht.removeListener("end",nr),ht.removeListener("data",jn),Vt=!0,Fn&&et.awaitDrainWriters&&(!Be._writableState||Be._writableState.needDrain)&&Fn()}())});let Fn,Vt=!1;function vr(){Vt||(1===et.pipes.length&&et.pipes[0]===Be?(ie("false write response, pause",0),et.awaitDrainWriters=Be,et.multiAwaitDrain=!1):et.pipes.length>1&&et.pipes.includes(Be)&&(ie("false write response, pause",et.awaitDrainWriters.size),et.awaitDrainWriters.add(Be)),ht.pause()),Fn||(Fn=function Mt(Be,Ge){return function(){const et=Be._readableState;et.awaitDrainWriters===Ge?(ie("pipeOnDrain",1),et.awaitDrainWriters=null):et.multiAwaitDrain&&(ie("pipeOnDrain",et.awaitDrainWriters.size),et.awaitDrainWriters.delete(Ge)),(!et.awaitDrainWriters||0===et.awaitDrainWriters.size)&&Be.listenerCount("data")&&Be.resume()}}(ht,Be),Be.on("drain",Fn))}function jn(tr){ie("ondata");const Xn=Be.write(tr);ie("dest.write",Xn),!1===Xn&&vr()}function Bn(tr){if(ie("onerror",tr),nr(),Be.removeListener("error",Bn),0===Be.listenerCount("error")){const Xn=Be._writableState||Be._readableState;Xn&&!Xn.errorEmitted?ee(Be,tr):Be.emit("error",tr)}}function gr(){Be.removeListener("finish",Vn),nr()}function Vn(){ie("onfinish"),Be.removeListener("close",gr),nr()}function nr(){ie("unpipe"),ht.unpipe(Be)}return ht.on("data",jn),q(Be,"error",Bn),Be.once("close",gr),Be.once("finish",Vn),Be.emit("pipe",ht),!0===Be.writableNeedDrain?vr():et.flowing||(ie("pipe resume"),ht.resume()),Be},rt.prototype.unpipe=function(Be){const Ge=this._readableState;if(0===Ge.pipes.length)return this;if(!Be){const ut=Ge.pipes;Ge.pipes=[],this.pause();for(let en=0;en<ut.length;en++)ut[en].emit("unpipe",this,{hasUnpiped:!1});return this}const et=K(Ge.pipes,Be);return-1===et||(Ge.pipes.splice(et,1),0===Ge.pipes.length&&this.pause(),Be.emit("unpipe",this,{hasUnpiped:!1})),this},rt.prototype.addListener=rt.prototype.on=function(Be,Ge){const ht=B.prototype.on.call(this,Be,Ge),et=this._readableState;return"data"===Be?(et.readableListening=this.listenerCount("readable")>0,!1!==et.flowing&&this.resume()):"readable"===Be&&!et.endEmitted&&!et.readableListening&&(et.readableListening=et.needReadable=!0,et.flowing=!1,et.emittedReadable=!1,ie("on readable",et.length,et.reading),et.length?Xe(this):et.reading||U.nextTick(Wt,this)),ht},rt.prototype.off=rt.prototype.removeListener=function(Be,Ge){const ht=B.prototype.removeListener.call(this,Be,Ge);return"readable"===Be&&U.nextTick(At,this),ht},rt.prototype.removeAllListeners=function(Be){const Ge=B.prototype.removeAllListeners.apply(this,arguments);return("readable"===Be||void 0===Be)&&U.nextTick(At,this),Ge},rt.prototype.resume=function(){const Be=this._readableState;return Be.flowing||(ie("resume"),Be.flowing=!Be.readableListening,function Bt(Be,Ge){Ge.resumeScheduled||(Ge.resumeScheduled=!0,U.nextTick(nn,Be,Ge))}(this,Be)),Be[F]=!1,this},rt.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[F]=!0,this},rt.prototype.wrap=function(Be){let Ge=!1;Be.on("data",et=>{!this.push(et)&&Be.pause&&(Ge=!0,Be.pause())}),Be.on("end",()=>{this.push(null)}),Be.on("error",et=>{ee(this,et)}),Be.on("close",()=>{this.destroy()}),Be.on("destroy",()=>{this.destroy()}),this._read=()=>{Ge&&Be.resume&&(Ge=!1,Be.resume())};const ht=R(Be);for(let et=1;et<ht.length;et++){const ut=ht[et];void 0===this[ut]&&"function"==typeof Be[ut]&&(this[ut]=Be[ut].bind(Be))}return this},rt.prototype[P]=function(){return sn(this)},rt.prototype.iterator=function(Be){return void 0!==Be&&Y(Be,"options"),sn(this,Be)},x(rt.prototype,{readable:{__proto__:null,get(){const Be=this._readableState;return!(!Be||!1===Be.readable||Be.destroyed||Be.errorEmitted||Be.endEmitted)},set(Be){this._readableState&&(this._readableState.readable=!!Be)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Be){this._readableState&&(this._readableState.flowing=Be)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(Be){this._readableState&&(this._readableState.destroyed=Be)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),x(mt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[F]},set(Be){this[F]=!!Be}}}),rt._fromList=Ve,rt.from=function(Be,Ge){return g(rt,Be,Ge)},rt.fromWeb=function(Be,Ge){return ln().newStreamReadableFromReadableStream(Be,Ge)},rt.toWeb=function(Be,Ge){return ln().newReadableStreamFromStreamReadable(Be,Ge)},rt.wrap=function(Be,Ge){var ht,et;return new rt({objectMode:null===(ht=null!==(et=Be.readableObjectMode)&&void 0!==et?et:Be.objectMode)||void 0===ht||ht,...Ge,destroy(ut,en){me.destroyer(Be,ut),en(ut)}}).wrap(Be)}},18212:(ye,I,A)=>{"use strict";const{MathFloor:O,NumberIsInteger:$}=A(56389),{validateInteger:U}=A(99852),{ERR_INVALID_ARG_VALUE:K}=A(68154).codes;let y=16384,T=16;function x(v){return v?T:y}ye.exports={getHighWaterMark:function k(v,N,M,P){const L=function w(v,N,M){return null!=v.highWaterMark?v.highWaterMark:N?v[M]:null}(N,P,M);if(null!=L){if(!$(L)||L<0)throw new K(P?`options.${M}`:"options.highWaterMark",L);return O(L)}return x(v.objectMode)},getDefaultHighWaterMark:x,setDefaultHighWaterMark:function R(v,N){U(N,"value",0),v?T=N:y=N}}},71981:(ye,I,A)=>{"use strict";const{ObjectSetPrototypeOf:O,Symbol:$}=A(56389);ye.exports=w;const{ERR_METHOD_NOT_IMPLEMENTED:U}=A(68154).codes,K=A(13323),{getHighWaterMark:y}=A(18212);O(w.prototype,K.prototype),O(w,K);const T=$("kCallback");function w(k){if(!(this instanceof w))return new w(k);const v=k?y(this,k,"readableHighWaterMark",!0):null;0===v&&(k={...k,highWaterMark:null,readableHighWaterMark:v,writableHighWaterMark:k.writableHighWaterMark||0}),K.call(this,k),this._readableState.sync=!1,this[T]=null,k&&("function"==typeof k.transform&&(this._transform=k.transform),"function"==typeof k.flush&&(this._flush=k.flush)),this.on("prefinish",R)}function x(k){"function"!=typeof this._flush||this.destroyed?(this.push(null),k&&k()):this._flush((v,N)=>{v?k?k(v):this.destroy(v):(null!=N&&this.push(N),this.push(null),k&&k())})}function R(){this._final!==x&&x.call(this)}w.prototype._final=x,w.prototype._transform=function(k,v,N){throw new U("_transform()")},w.prototype._write=function(k,v,N){const M=this._readableState,P=this._writableState,L=M.length;this._transform(k,v,(G,B)=>{G?N(G):(null!=B&&this.push(B),P.ended||L===M.length||M.length<M.highWaterMark?N():this[T]=N)})},w.prototype._read=function(){if(this[T]){const k=this[T];this[T]=null,k()}}},32924:(ye,I,A)=>{"use strict";const{SymbolAsyncIterator:O,SymbolIterator:$,SymbolFor:U}=A(56389),K=U("nodejs.stream.destroyed"),y=U("nodejs.stream.errored"),T=U("nodejs.stream.readable"),w=U("nodejs.stream.writable"),x=U("nodejs.stream.disturbed"),R=U("nodejs.webstream.isClosedPromise"),k=U("nodejs.webstream.controllerErrorFunction");function v(g,J=!1){var ee;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||J&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(ee=g._readableState)||void 0===ee?void 0:ee.readable)||g._writableState&&!g._readableState)}function N(g){var J;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(J=g._writableState)||void 0===J?void 0:J.writable))}function P(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function L(g){return!(!g||P(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function G(g){return!(!g||P(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function B(g){return!(!g||P(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function Q(g){if(!P(g))return null;const re=g._writableState||g._readableState;return!!(g.destroyed||g[K]||null!=re&&re.destroyed)}function te(g){if(!N(g))return null;if(!0===g.writableEnded)return!0;const J=g._writableState;return(null==J||!J.errored)&&("boolean"!=typeof J?.ended?null:J.ended)}function me(g,J){if(!v(g))return null;const ee=g._readableState;return(null==ee||!ee.errored)&&("boolean"!=typeof ee?.endEmitted?null:!!(ee.endEmitted||!1===J&&!0===ee.ended&&0===ee.length))}function ge(g){return g&&null!=g[T]?g[T]:"boolean"!=typeof g?.readable?null:!Q(g)&&v(g)&&g.readable&&!me(g)}function de(g){return g&&null!=g[w]?g[w]:"boolean"!=typeof g?.writable?null:!Q(g)&&N(g)&&g.writable&&!te(g)}function C(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function D(g){return"boolean"==typeof g._sent100&&C(g)}ye.exports={isDestroyed:Q,kIsDestroyed:K,isDisturbed:function F(g){var J;return!(!g||!(null!==(J=g[x])&&void 0!==J?J:g.readableDidRead||g.readableAborted))},kIsDisturbed:x,isErrored:function h(g){var J,ee,re,fe,Ae,Me,Le,Ee,Se,He;return!(!g||!(null!==(J=null!==(ee=null!==(re=null!==(fe=null!==(Ae=null!==(Me=g[y])&&void 0!==Me?Me:g.readableErrored)&&void 0!==Ae?Ae:g.writableErrored)&&void 0!==fe?fe:null===(Le=g._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==re?re:null===(Ee=g._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==ee?ee:null===(Se=g._readableState)||void 0===Se?void 0:Se.errored)&&void 0!==J?J:null!==(He=g._writableState)&&void 0!==He&&He.errored))},kIsErrored:y,isReadable:ge,kIsReadable:T,kIsClosedPromise:R,kControllerErrorFunction:k,kIsWritable:w,isClosed:function b(g){if(!P(g))return null;if("boolean"==typeof g.closed)return g.closed;const J=g._writableState,ee=g._readableState;return"boolean"==typeof J?.closed||"boolean"==typeof ee?.closed?J?.closed||ee?.closed:"boolean"==typeof g._closed&&C(g)?g._closed:null},isDuplexNodeStream:function M(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function z(g,J){return P(g)?!!Q(g)||!(!1!==J?.readable&&ge(g)||!1!==J?.writable&&de(g)):null},isIterable:function X(g,J){return null!=g&&(!0===J?"function"==typeof g[O]:!1===J?"function"==typeof g[$]:"function"==typeof g[O]||"function"==typeof g[$])},isReadableNodeStream:v,isReadableStream:L,isReadableEnded:function ae(g){if(!v(g))return null;if(!0===g.readableEnded)return!0;const J=g._readableState;return!(!J||J.errored)&&("boolean"!=typeof J?.ended?null:J.ended)},isReadableFinished:me,isReadableErrored:function f(g){var J,ee;return P(g)?g.readableErrored?g.readableErrored:null!==(J=null===(ee=g._readableState)||void 0===ee?void 0:ee.errored)&&void 0!==J?J:null:null},isNodeStream:P,isWebStream:function q(g){return L(g)||G(g)||B(g)},isWritable:de,isWritableNodeStream:N,isWritableStream:G,isWritableEnded:te,isWritableFinished:function ie(g,J){if(!N(g))return null;if(!0===g.writableFinished)return!0;const ee=g._writableState;return(null==ee||!ee.errored)&&("boolean"!=typeof ee?.finished?null:!!(ee.finished||!1===J&&!0===ee.ended&&0===ee.length))},isWritableErrored:function d(g){var J,ee;return P(g)?g.writableErrored?g.writableErrored:null!==(J=null===(ee=g._writableState)||void 0===ee?void 0:ee.errored)&&void 0!==J?J:null:null},isServerRequest:function V(g){var J;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(J=g.req)||void 0===J?void 0:J.upgradeOrConnect)},isServerResponse:D,willEmitClose:function Y(g){if(!P(g))return null;const re=g._writableState||g._readableState;return!re&&D(g)||!!(re&&re.autoDestroy&&re.emitClose&&!1===re.closed)},isTransformStream:B}},30009:(ye,I,A)=>{const O=A(40573),{ArrayPrototypeSlice:$,Error:U,FunctionPrototypeSymbolHasInstance:K,ObjectDefineProperty:y,ObjectDefineProperties:T,ObjectSetPrototypeOf:w,StringPrototypeToLowerCase:x,Symbol:R,SymbolHasInstance:k}=A(56389);ye.exports=D,D.WritableState=b;const{EventEmitter:v}=A(44356),N=A(91242).Stream,{Buffer:M}=A(68316),P=A(96507),{addAbortSignal:L}=A(57062),{getHighWaterMark:G,getDefaultHighWaterMark:B}=A(18212),{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:X,ERR_MULTIPLE_CALLBACK:Q,ERR_STREAM_CANNOT_PIPE:te,ERR_STREAM_DESTROYED:ie,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:me,ERR_STREAM_WRITE_AFTER_END:ge,ERR_UNKNOWN_ENCODING:de}=A(68154).codes,{errorOrDestroy:z}=P;function d(){}w(D.prototype,N.prototype),w(D,N);const f=R("kOnFinished");function b(xe,be,_e){"boolean"!=typeof _e&&(_e=be instanceof A(13323)),this.objectMode=!(!xe||!xe.objectMode),_e&&(this.objectMode=this.objectMode||!(!xe||!xe.writableObjectMode)),this.highWaterMark=xe?G(this,xe,"writableHighWaterMark",_e):B(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(xe&&!1===xe.decodeStrings),this.defaultEncoding=xe&&xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!xe||!1!==xe.emitClose,this.autoDestroy=!xe||!1!==xe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function C(xe){xe.buffered=[],xe.bufferedIndex=0,xe.allBuffers=!0,xe.allNoop=!0}function D(xe){const be=this instanceof A(13323);if(!be&&!K(D,this))return new D(xe);this._writableState=new b(xe,this,be),xe&&("function"==typeof xe.write&&(this._write=xe.write),"function"==typeof xe.writev&&(this._writev=xe.writev),"function"==typeof xe.destroy&&(this._destroy=xe.destroy),"function"==typeof xe.final&&(this._final=xe.final),"function"==typeof xe.construct&&(this._construct=xe.construct),xe.signal&&L(xe.signal,this)),N.call(this,xe),P.construct(this,()=>{const _e=this._writableState;_e.writing||fe(this,_e),Ee(this,_e)})}function V(xe,be,_e,Ce){const ke=xe._writableState;if("function"==typeof _e)Ce=_e,_e=ke.defaultEncoding;else{if(_e){if("buffer"!==_e&&!M.isEncoding(_e))throw new de(_e)}else _e=ke.defaultEncoding;"function"!=typeof Ce&&(Ce=d)}if(null===be)throw new me;if(!ke.objectMode)if("string"==typeof be)!1!==ke.decodeStrings&&(be=M.from(be,_e),_e="buffer");else if(be instanceof M)_e="buffer";else{if(!N._isUint8Array(be))throw new q("chunk",["string","Buffer","Uint8Array"],be);be=N._uint8ArrayToBuffer(be),_e="buffer"}let ze;return ke.ending?ze=new ge:ke.destroyed&&(ze=new ie("write")),ze?(O.nextTick(Ce,ze),z(xe,ze,!0),ze):(ke.pendingcb++,function Y(xe,be,_e,Ce,ke){const ze=be.objectMode?1:_e.length;be.length+=ze;const Ne=be.length<be.highWaterMark;return Ne||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:_e,encoding:Ce,callback:ke}),be.allBuffers&&"buffer"!==Ce&&(be.allBuffers=!1),be.allNoop&&ke!==d&&(be.allNoop=!1)):(be.writelen=ze,be.writecb=ke,be.writing=!0,be.sync=!0,xe._write(_e,Ce,be.onwrite),be.sync=!1),Ne&&!be.errored&&!be.destroyed}(xe,ke,be,_e,Ce))}function F(xe,be,_e,Ce,ke,ze,Ne){be.writelen=Ce,be.writecb=Ne,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ie("write")):_e?xe._writev(ke,be.onwrite):xe._write(ke,ze,be.onwrite),be.sync=!1}function h(xe,be,_e,Ce){--be.pendingcb,Ce(_e),re(be),z(xe,_e)}function g(xe,be){const _e=xe._writableState,Ce=_e.sync,ke=_e.writecb;"function"==typeof ke?(_e.writing=!1,_e.writecb=null,_e.length-=_e.writelen,_e.writelen=0,be?(_e.errored||(_e.errored=be),xe._readableState&&!xe._readableState.errored&&(xe._readableState.errored=be),Ce?O.nextTick(h,xe,_e,be,ke):h(xe,_e,be,ke)):(_e.buffered.length>_e.bufferedIndex&&fe(xe,_e),Ce?null!==_e.afterWriteTickInfo&&_e.afterWriteTickInfo.cb===ke?_e.afterWriteTickInfo.count++:(_e.afterWriteTickInfo={count:1,cb:ke,stream:xe,state:_e},O.nextTick(J,_e.afterWriteTickInfo)):ee(xe,_e,1,ke))):z(xe,new Q)}function J({stream:xe,state:be,count:_e,cb:Ce}){return be.afterWriteTickInfo=null,ee(xe,be,_e,Ce)}function ee(xe,be,_e,Ce){for(!be.ending&&!xe.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,xe.emit("drain"));_e-- >0;)be.pendingcb--,Ce();be.destroyed&&re(be),Ee(xe,be)}function re(xe){if(xe.writing)return;for(let ke=xe.bufferedIndex;ke<xe.buffered.length;++ke){var be;const{chunk:ze,callback:Ne}=xe.buffered[ke];xe.length-=xe.objectMode?1:ze.length,Ne(null!==(be=xe.errored)&&void 0!==be?be:new ie("write"))}const _e=xe[f].splice(0);for(let ke=0;ke<_e.length;ke++){var Ce;_e[ke](null!==(Ce=xe.errored)&&void 0!==Ce?Ce:new ie("end"))}C(xe)}function fe(xe,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:_e,bufferedIndex:Ce,objectMode:ke}=be,ze=_e.length-Ce;if(!ze)return;let Ne=Ce;if(be.bufferProcessing=!0,ze>1&&xe._writev){be.pendingcb-=ze-1;const We=be.allNoop?d:wt=>{for(let mt=Ne;mt<_e.length;++mt)_e[mt].callback(wt)},Ye=be.allNoop&&0===Ne?_e:$(_e,Ne);Ye.allBuffers=be.allBuffers,F(xe,be,!0,be.length,Ye,"",We),C(be)}else{do{const{chunk:We,encoding:Ye,callback:wt}=_e[Ne];_e[Ne++]=null,F(xe,be,!1,ke?1:We.length,We,Ye,wt)}while(Ne<_e.length&&!be.writing);Ne===_e.length?C(be):Ne>256?(_e.splice(0,Ne),be.bufferedIndex=0):be.bufferedIndex=Ne}be.bufferProcessing=!1}function Ae(xe){return xe.ending&&!xe.destroyed&&xe.constructed&&0===xe.length&&!xe.errored&&0===xe.buffered.length&&!xe.finished&&!xe.writing&&!xe.errorEmitted&&!xe.closeEmitted}function Ee(xe,be,_e){Ae(be)&&(function Le(xe,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof xe._final||be.destroyed?(be.prefinished=!0,xe.emit("prefinish")):(be.finalCalled=!0,function Me(xe,be){let _e=!1;function Ce(ke){if(_e)z(xe,ke??Q());else if(_e=!0,be.pendingcb--,ke){const ze=be[f].splice(0);for(let Ne=0;Ne<ze.length;Ne++)ze[Ne](ke);z(xe,ke,be.sync)}else Ae(be)&&(be.prefinished=!0,xe.emit("prefinish"),be.pendingcb++,O.nextTick(Se,xe,be))}be.sync=!0,be.pendingcb++;try{xe._final(Ce)}catch(ke){Ce(ke)}be.sync=!1}(xe,be)))}(xe,be),0===be.pendingcb&&(_e?(be.pendingcb++,O.nextTick((Ce,ke)=>{Ae(ke)?Se(Ce,ke):ke.pendingcb--},xe,be)):Ae(be)&&(be.pendingcb++,Se(xe,be))))}function Se(xe,be){be.pendingcb--,be.finished=!0;const _e=be[f].splice(0);for(let Ce=0;Ce<_e.length;Ce++)_e[Ce]();if(xe.emit("finish"),be.autoDestroy){const Ce=xe._readableState;(!Ce||Ce.autoDestroy&&(Ce.endEmitted||!1===Ce.readable))&&xe.destroy()}}b.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},y(b.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),y(D,k,{__proto__:null,value:function(xe){return!!K(this,xe)||this===D&&xe&&xe._writableState instanceof b}}),D.prototype.pipe=function(){z(this,new te)},D.prototype.write=function(xe,be,_e){return!0===V(this,xe,be,_e)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){const xe=this._writableState;xe.corked&&(xe.corked--,xe.writing||fe(this,xe))},D.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=x(be)),!M.isEncoding(be))throw new de(be);return this._writableState.defaultEncoding=be,this},D.prototype._write=function(xe,be,_e){if(!this._writev)throw new X("_write()");this._writev([{chunk:xe,encoding:be}],_e)},D.prototype._writev=null,D.prototype.end=function(xe,be,_e){const Ce=this._writableState;let ke;if("function"==typeof xe?(_e=xe,xe=null,be=null):"function"==typeof be&&(_e=be,be=null),null!=xe){const ze=V(this,xe,be);ze instanceof U&&(ke=ze)}return Ce.corked&&(Ce.corked=1,this.uncork()),ke||(Ce.errored||Ce.ending?Ce.finished?ke=new ae("end"):Ce.destroyed&&(ke=new ie("end")):(Ce.ending=!0,Ee(this,Ce,!0),Ce.ended=!0)),"function"==typeof _e&&(ke||Ce.finished?O.nextTick(_e,ke):Ce[f].push(_e)),this},T(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(xe){this._writableState&&(this._writableState.destroyed=xe)}},writable:{__proto__:null,get(){const xe=this._writableState;return!(!xe||!1===xe.writable||xe.destroyed||xe.errored||xe.ending||xe.ended)},set(xe){this._writableState&&(this._writableState.writable=!!xe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const xe=this._writableState;return!!xe&&!xe.destroyed&&!xe.ending&&xe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=P.destroy;let Te;function u(){return void 0===Te&&(Te={}),Te}D.prototype.destroy=function(xe,be){const _e=this._writableState;return!_e.destroyed&&(_e.bufferedIndex<_e.buffered.length||_e[f].length)&&O.nextTick(re,_e),He.call(this,xe,be),this},D.prototype._undestroy=P.undestroy,D.prototype._destroy=function(xe,be){be(xe)},D.prototype[v.captureRejectionSymbol]=function(xe){this.destroy(xe)},D.fromWeb=function(xe,be){return u().newStreamWritableFromWritableStream(xe,be)},D.toWeb=function(xe){return u().newWritableStreamFromStreamWritable(xe)}},99852:(ye,I,A)=>{"use strict";const{ArrayIsArray:O,ArrayPrototypeIncludes:$,ArrayPrototypeJoin:U,ArrayPrototypeMap:K,NumberIsInteger:y,NumberIsNaN:T,NumberMAX_SAFE_INTEGER:w,NumberMIN_SAFE_INTEGER:x,NumberParseInt:R,ObjectPrototypeHasOwnProperty:k,RegExpPrototypeExec:v,String:N,StringPrototypeToUpperCase:M,StringPrototypeTrim:P}=A(56389),{hideStackFrames:L,codes:{ERR_SOCKET_BAD_PORT:G,ERR_INVALID_ARG_TYPE:B,ERR_INVALID_ARG_VALUE:q,ERR_OUT_OF_RANGE:X,ERR_UNKNOWN_SIGNAL:Q}}=A(68154),{normalizeEncoding:te}=A(13509),{isAsyncFunction:ie,isArrayBufferView:ae}=A(13509).types,me={},z=/^[0-7]+$/,b=L((Ne,We,Ye=x,wt=w)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);if(Ne<Ye||Ne>wt)throw new X(We,`>= ${Ye} && <= ${wt}`,Ne)}),C=L((Ne,We,Ye=-2147483648,wt=2147483647)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);if(Ne<Ye||Ne>wt)throw new X(We,`>= ${Ye} && <= ${wt}`,Ne)}),D=L((Ne,We,Ye=!1)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);const wt=Ye?1:0,mt=4294967295;if(Ne<wt||Ne>mt)throw new X(We,`>= ${wt} && <= ${mt}`,Ne)});function V(Ne,We){if("string"!=typeof Ne)throw new B(We,"string",Ne)}const F=L((Ne,We,Ye)=>{if(!$(Ye,Ne)){const mt="must be one of: "+U(K(Ye,rt=>"string"==typeof rt?`'${rt}'`:N(rt)),", ");throw new q(We,Ne,mt)}});function h(Ne,We){if("boolean"!=typeof Ne)throw new B(We,"boolean",Ne)}function g(Ne,We,Ye){return null!=Ne&&k(Ne,We)?Ne[We]:Ye}const J=L((Ne,We,Ye=null)=>{const wt=g(Ye,"allowArray",!1),mt=g(Ye,"allowFunction",!1);if(!g(Ye,"nullable",!1)&&null===Ne||!wt&&O(Ne)||"object"!=typeof Ne&&(!mt||"function"!=typeof Ne))throw new B(We,"Object",Ne)}),ee=L((Ne,We)=>{if(null!=Ne&&"object"!=typeof Ne&&"function"!=typeof Ne)throw new B(We,"a dictionary",Ne)}),re=L((Ne,We,Ye=0)=>{if(!O(Ne))throw new B(We,"Array",Ne);if(Ne.length<Ye)throw new q(We,Ne,`must be longer than ${Ye}`)}),Ee=L((Ne,We="buffer")=>{if(!ae(Ne))throw new B(We,["Buffer","TypedArray","DataView"],Ne)}),Te=L((Ne,We)=>{if(void 0!==Ne&&(null===Ne||"object"!=typeof Ne||!("aborted"in Ne)))throw new B(We,"AbortSignal",Ne)}),u=L((Ne,We)=>{if("function"!=typeof Ne)throw new B(We,"Function",Ne)}),xe=L((Ne,We)=>{if("function"!=typeof Ne||ie(Ne))throw new B(We,"Function",Ne)}),be=L((Ne,We)=>{if(void 0!==Ne)throw new B(We,"undefined",Ne)}),Ce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ke(Ne,We){if(typeof Ne>"u"||!v(Ce,Ne))throw new q(We,Ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ye.exports={isInt32:function ge(Ne){return Ne===(0|Ne)},isUint32:function de(Ne){return Ne===Ne>>>0},parseFileMode:function f(Ne,We,Ye){if(typeof Ne>"u"&&(Ne=Ye),"string"==typeof Ne){if(null===v(z,Ne))throw new q(We,Ne,"must be a 32-bit unsigned integer or an octal string");Ne=R(Ne,8)}return D(Ne,We),Ne},validateArray:re,validateStringArray:function fe(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++)V(Ne[Ye],`${We}[${Ye}]`)},validateBooleanArray:function Ae(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++)h(Ne[Ye],`${We}[${Ye}]`)},validateAbortSignalArray:function Me(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++){const wt=Ne[Ye],mt=`${We}[${Ye}]`;if(null==wt)throw new B(mt,"AbortSignal",wt);Te(wt,mt)}},validateBoolean:h,validateBuffer:Ee,validateDictionary:ee,validateEncoding:function Se(Ne,We){const Ye=te(We),wt=Ne.length;if("hex"===Ye&&wt%2!=0)throw new q("encoding",We,`is invalid for data of length ${wt}`)},validateFunction:u,validateInt32:C,validateInteger:b,validateNumber:function Y(Ne,We,Ye=void 0,wt){if("number"!=typeof Ne)throw new B(We,"number",Ne);if(null!=Ye&&Ne<Ye||null!=wt&&Ne>wt||(null!=Ye||null!=wt)&&T(Ne))throw new X(We,`${null!=Ye?`>= ${Ye}`:""}${null!=Ye&&null!=wt?" && ":""}${null!=wt?`<= ${wt}`:""}`,Ne)},validateObject:J,validateOneOf:F,validatePlainFunction:xe,validatePort:function He(Ne,We="Port",Ye=!0){if("number"!=typeof Ne&&"string"!=typeof Ne||"string"==typeof Ne&&0===P(Ne).length||+Ne!=+Ne>>>0||Ne>65535||0===Ne&&!Ye)throw new G(We,Ne,Ye);return 0|Ne},validateSignalName:function Le(Ne,We="signal"){if(V(Ne,We),void 0===me[Ne])throw void 0!==me[M(Ne)]?new Q(Ne+" (signals must use all capital letters)"):new Q(Ne)},validateString:V,validateUint32:D,validateUndefined:be,validateUnion:function _e(Ne,We,Ye){if(!$(Ye,Ne))throw new B(We,`('${U(Ye,"|")}')`,Ne)},validateAbortSignal:Te,validateLinkHeaderValue:function ze(Ne){if("string"==typeof Ne)return ke(Ne,"hints"),Ne;if(O(Ne)){const We=Ne.length;let Ye="";if(0===We)return Ye;for(let wt=0;wt<We;wt++){const mt=Ne[wt];ke(mt,"hints"),Ye+=mt,wt!==We-1&&(Ye+=", ")}return Ye}throw new q("hints",Ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(ye,I,A)=>{"use strict";const O=A(33885),$=A(74870),U=O.Readable.destroy;ye.exports=O.Readable,ye.exports._uint8ArrayToBuffer=O._uint8ArrayToBuffer,ye.exports._isUint8Array=O._isUint8Array,ye.exports.isDisturbed=O.isDisturbed,ye.exports.isErrored=O.isErrored,ye.exports.isReadable=O.isReadable,ye.exports.Readable=O.Readable,ye.exports.Writable=O.Writable,ye.exports.Duplex=O.Duplex,ye.exports.Transform=O.Transform,ye.exports.PassThrough=O.PassThrough,ye.exports.addAbortSignal=O.addAbortSignal,ye.exports.finished=O.finished,ye.exports.destroy=O.destroy,ye.exports.destroy=U,ye.exports.pipeline=O.pipeline,ye.exports.compose=O.compose,Object.defineProperty(O,"promises",{configurable:!0,enumerable:!0,get:()=>$}),ye.exports.Stream=O.Stream,ye.exports.default=ye.exports},68154:(ye,I,A)=>{"use strict";const{format:O,inspect:$,AggregateError:U}=A(13509),K=globalThis.AggregateError||U,y=Symbol("kIsNodeError"),T=["string","function","number","object","Function","Object","boolean","bigint","symbol"],w=/^([A-Z][a-z0-9]*)+$/,R={};function k(B,q){if(!B)throw new R.ERR_INTERNAL_ASSERTION(q)}function v(B){let q="",X=B.length;const Q="-"===B[0]?1:0;for(;X>=Q+4;X-=3)q=`_${B.slice(X-3,X)}${q}`;return`${B.slice(0,X)}${q}`}function M(B,q,X){X||(X=Error);class Q extends X{constructor(...ie){super(function N(B,q,X){if("function"==typeof q)return k(q.length<=X.length,`Code: ${B}; The provided arguments length (${X.length}) does not match the required ones (${q.length}).`),q(...X);const Q=(q.match(/%[dfijoOs]/g)||[]).length;return k(Q===X.length,`Code: ${B}; The provided arguments length (${X.length}) does not match the required ones (${Q}).`),0===X.length?q:O(q,...X)}(B,q,ie))}toString(){return`${this.name} [${B}]: ${this.message}`}}Object.defineProperties(Q.prototype,{name:{value:X.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${B}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Q.prototype.code=B,Q.prototype[y]=!0,R[B]=Q}function P(B){return Object.defineProperty(B,"name",{value:"__node_internal_"+B.name}),B}class G extends Error{constructor(q="The operation was aborted",X=void 0){if(void 0!==X&&"object"!=typeof X)throw new R.ERR_INVALID_ARG_TYPE("options","Object",X);super(q,X),this.code="ABORT_ERR",this.name="AbortError"}}M("ERR_ASSERTION","%s",Error),M("ERR_INVALID_ARG_TYPE",(B,q,X)=>{k("string"==typeof B,"'name' must be a string"),Array.isArray(q)||(q=[q]);let Q="The ";B.endsWith(" argument")?Q+=`${B} `:Q+=`"${B}" ${B.includes(".")?"property":"argument"} `,Q+="must be ";const te=[],ie=[],ae=[];for(const ge of q)k("string"==typeof ge,"All expected entries have to be of type string"),T.includes(ge)?te.push(ge.toLowerCase()):w.test(ge)?ie.push(ge):(k("object"!==ge,'The value "object" should be written as "Object"'),ae.push(ge));if(ie.length>0){const ge=te.indexOf("object");-1!==ge&&(te.splice(te,ge,1),ie.push("Object"))}if(te.length>0){switch(te.length){case 1:Q+=`of type ${te[0]}`;break;case 2:Q+=`one of type ${te[0]} or ${te[1]}`;break;default:{const ge=te.pop();Q+=`one of type ${te.join(", ")}, or ${ge}`}}(ie.length>0||ae.length>0)&&(Q+=" or ")}if(ie.length>0){switch(ie.length){case 1:Q+=`an instance of ${ie[0]}`;break;case 2:Q+=`an instance of ${ie[0]} or ${ie[1]}`;break;default:{const ge=ie.pop();Q+=`an instance of ${ie.join(", ")}, or ${ge}`}}ae.length>0&&(Q+=" or ")}switch(ae.length){case 0:break;case 1:ae[0].toLowerCase()!==ae[0]&&(Q+="an "),Q+=`${ae[0]}`;break;case 2:Q+=`one of ${ae[0]} or ${ae[1]}`;break;default:{const ge=ae.pop();Q+=`one of ${ae.join(", ")}, or ${ge}`}}if(null==X)Q+=`. Received ${X}`;else if("function"==typeof X&&X.name)Q+=`. Received function ${X.name}`;else if("object"==typeof X){var me;null!==(me=X.constructor)&&void 0!==me&&me.name?Q+=`. Received an instance of ${X.constructor.name}`:Q+=`. Received ${$(X,{depth:-1})}`}else{let ge=$(X,{colors:!1});ge.length>25&&(ge=`${ge.slice(0,25)}...`),Q+=`. Received type ${typeof X} (${ge})`}return Q},TypeError),M("ERR_INVALID_ARG_VALUE",(B,q,X="is invalid")=>{let Q=$(q);return Q.length>128&&(Q=Q.slice(0,128)+"..."),`The ${B.includes(".")?"property":"argument"} '${B}' ${X}. Received ${Q}`},TypeError),M("ERR_INVALID_RETURN_VALUE",(B,q,X)=>{var Q;return`Expected ${B} to be returned from the "${q}" function but got ${null!=X&&null!==(Q=X.constructor)&&void 0!==Q&&Q.name?`instance of ${X.constructor.name}`:"type "+typeof X}.`},TypeError),M("ERR_MISSING_ARGS",(...B)=>{let q;k(B.length>0,"At least one arg needs to be specified");const X=B.length;switch(B=(Array.isArray(B)?B:[B]).map(Q=>`"${Q}"`).join(" or "),X){case 1:q+=`The ${B[0]} argument`;break;case 2:q+=`The ${B[0]} and ${B[1]} arguments`;break;default:{const Q=B.pop();q+=`The ${B.join(", ")}, and ${Q} arguments`}}return`${q} must be specified`},TypeError),M("ERR_OUT_OF_RANGE",(B,q,X)=>{let Q;return k(q,'Missing "range" argument'),Number.isInteger(X)&&Math.abs(X)>2**32?Q=v(String(X)):"bigint"==typeof X?(Q=String(X),(X>2n**32n||X<-(2n**32n))&&(Q=v(Q)),Q+="n"):Q=$(X),`The value of "${B}" is out of range. It must be ${q}. Received ${Q}`},RangeError),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),M("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),M("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),M("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),M("ERR_STREAM_WRITE_AFTER_END","write after end",Error),M("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ye.exports={AbortError:G,aggregateTwoErrors:P(function L(B,q){if(B&&q&&B!==q){if(Array.isArray(q.errors))return q.errors.push(B),q;const X=new K([q,B],q.message);return X.code=q.code,X}return B||q}),hideStackFrames:P,codes:R}},56389:ye=>{"use strict";ye.exports={ArrayIsArray:I=>Array.isArray(I),ArrayPrototypeIncludes:(I,A)=>I.includes(A),ArrayPrototypeIndexOf:(I,A)=>I.indexOf(A),ArrayPrototypeJoin:(I,A)=>I.join(A),ArrayPrototypeMap:(I,A)=>I.map(A),ArrayPrototypePop:(I,A)=>I.pop(A),ArrayPrototypePush:(I,A)=>I.push(A),ArrayPrototypeSlice:(I,A,O)=>I.slice(A,O),Error,FunctionPrototypeCall:(I,A,...O)=>I.call(A,...O),FunctionPrototypeSymbolHasInstance:(I,A)=>Function.prototype[Symbol.hasInstance].call(I,A),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(I,A)=>Object.defineProperties(I,A),ObjectDefineProperty:(I,A,O)=>Object.defineProperty(I,A,O),ObjectGetOwnPropertyDescriptor:(I,A)=>Object.getOwnPropertyDescriptor(I,A),ObjectKeys:I=>Object.keys(I),ObjectSetPrototypeOf:(I,A)=>Object.setPrototypeOf(I,A),Promise,PromisePrototypeCatch:(I,A)=>I.catch(A),PromisePrototypeThen:(I,A,O)=>I.then(A,O),PromiseReject:I=>Promise.reject(I),PromiseResolve:I=>Promise.resolve(I),ReflectApply:Reflect.apply,RegExpPrototypeTest:(I,A)=>I.test(A),SafeSet:Set,String,StringPrototypeSlice:(I,A,O)=>I.slice(A,O),StringPrototypeToLowerCase:I=>I.toLowerCase(),StringPrototypeToUpperCase:I=>I.toUpperCase(),StringPrototypeTrim:I=>I.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(I,A,O)=>I.set(A,O),Boolean,Uint8Array}},13509:(ye,I,A)=>{"use strict";var O=A(29293).default;const $=A(68316),{kResistStopPropagation:U,SymbolDispose:K}=A(56389),y=globalThis.AbortSignal||A(9465).AbortSignal,T=globalThis.AbortController||A(9465).AbortController,w=Object.getPrototypeOf(O(function*(){})).constructor,x=globalThis.Blob||$.Blob,R=typeof x<"u"?function(P){return P instanceof x}:function(P){return!1},k=(M,P)=>{if(void 0!==M&&(null===M||"object"!=typeof M||!("aborted"in M)))throw new ERR_INVALID_ARG_TYPE(P,"AbortSignal",M)};class N extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let L="";for(let G=0;G<P.length;G++)L+=`    ${P[G].stack}\n`;super(L),this.name="AggregateError",this.errors=P}}ye.exports={AggregateError:N,kEmptyObject:Object.freeze({}),once(M){let P=!1;return function(...L){P||(P=!0,M.apply(this,L))}},createDeferredPromise:function(){let M,P;return{promise:new Promise((G,B)=>{M=G,P=B}),resolve:M,reject:P}},promisify:M=>new Promise((P,L)=>{M((G,...B)=>G?L(G):P(...B))}),debuglog:()=>function(){},format:(M,...P)=>M.replace(/%([sdifj])/g,function(...[L,G]){const B=P.shift();return"f"===G?B.toFixed(6):"j"===G?JSON.stringify(B):"s"===G&&"object"==typeof B?`${B.constructor!==Object?B.constructor.name:""} {}`.trim():B.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof w,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:R,deprecate:(M,P)=>M,addAbortListener:A(44356).addAbortListener||function(P,L){if(void 0===P)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",P);let G;return k(P,"signal"),(M=>{if("function"!=typeof M)throw new ERR_INVALID_ARG_TYPE("listener","Function",M)})(L),P.aborted?queueMicrotask(()=>L()):(P.addEventListener("abort",L,{__proto__:null,once:!0,[U]:!0}),G=()=>{P.removeEventListener("abort",L)}),{__proto__:null,[K](){var B;null===(B=G)||void 0===B||B()}}},AbortSignalAny:y.any||function(P){if(1===P.length)return P[0];const L=new T,G=()=>L.abort();return P.forEach(B=>{k(B,"signals"),B.addEventListener("abort",G,{once:!0})}),L.signal.addEventListener("abort",()=>{P.forEach(B=>B.removeEventListener("abort",G))},{once:!0}),L.signal}},ye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(ye,I,A)=>{const{Buffer:O}=A(68316),{ObjectDefineProperty:$,ObjectKeys:U,ReflectApply:K}=A(56389),{promisify:{custom:y}}=A(13509),{streamReturningOperators:T,promiseReturningOperators:w}=A(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:x}}=A(68154),R=A(373),{setDefaultHighWaterMark:k,getDefaultHighWaterMark:v}=A(18212),{pipeline:N}=A(67843),{destroyer:M}=A(96507),P=A(46017),G=A(74870),B=A(32924),q=ye.exports=A(91242).Stream;q.isDestroyed=B.isDestroyed,q.isDisturbed=B.isDisturbed,q.isErrored=B.isErrored,q.isReadable=B.isReadable,q.isWritable=B.isWritable,q.Readable=A(84553);for(const te of U(T)){let ae=function(...me){if(new.target)throw x();return q.Readable.from(K(ie,this,me))};const ie=T[te];$(ae,"name",{__proto__:null,value:ie.name}),$(ae,"length",{__proto__:null,value:ie.length}),$(q.Readable.prototype,te,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const te of U(w)){let ae=function(...ge){if(new.target)throw x();return K(ie,this,ge)};const ie=w[te];$(ae,"name",{__proto__:null,value:ie.name}),$(ae,"length",{__proto__:null,value:ie.length}),$(q.Readable.prototype,te,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=A(30009),q.Duplex=A(13323),q.Transform=A(71981),q.PassThrough=A(59447),q.pipeline=N;const{addAbortSignal:X}=A(57062);q.addAbortSignal=X,q.finished=P,q.destroy=M,q.compose=R,q.setDefaultHighWaterMark=k,q.getDefaultHighWaterMark=v,$(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),$(N,y,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),$(P,y,{__proto__:null,enumerable:!0,get:()=>G.finished}),q.Stream=q,q._isUint8Array=function(ie){return ie instanceof Uint8Array},q._uint8ArrayToBuffer=function(ie){return O.from(ie.buffer,ie.byteOffset,ie.byteLength)}},74870:(ye,I,A)=>{"use strict";const{ArrayPrototypePop:O,Promise:$}=A(56389),{isIterable:U,isNodeStream:K,isWebStream:y}=A(32924),{pipelineImpl:T}=A(67843),{finished:w}=A(46017);A(33885),ye.exports={finished:w,pipeline:function x(...R){return new $((k,v)=>{let N,M;const P=R[R.length-1];if(P&&"object"==typeof P&&!K(P)&&!U(P)&&!y(P)){const L=O(R);N=L.signal,M=L.end}T(R,(L,G)=>{L?v(L):k(G)},{signal:N,end:M})})}}},80283:(ye,I,A)=>{I.Level=A(23963).BrowserLevel},89565:(ye,I,A)=>{"use strict";const O=A(13981),$=A(22020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=w,I.SlowBuffer=function q(se){return+se!=se&&(se=0),w.alloc(+se)},I.INSPECT_MAX_BYTES=50;const K=2147483647;function T(se){if(se>K)throw new RangeError('The value "'+se+'" is invalid for option "size"');const W=new Uint8Array(se);return Object.setPrototypeOf(W,w.prototype),W}function w(se,W,Z){if("number"==typeof se){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(se)}return x(se,W,Z)}function x(se,W,Z){if("string"==typeof se)return function N(se,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!w.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const Z=0|X(se,W);let he=T(Z);const De=he.write(se,W);return De!==Z&&(he=he.slice(0,De)),he}(se,W);if(ArrayBuffer.isView(se))return function P(se){if(Ye(se,Uint8Array)){const W=new Uint8Array(se);return L(W.buffer,W.byteOffset,W.byteLength)}return M(se)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ye(se,ArrayBuffer)||se&&Ye(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(se,SharedArrayBuffer)||se&&Ye(se.buffer,SharedArrayBuffer)))return L(se,W,Z);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');const he=se.valueOf&&se.valueOf();if(null!=he&&he!==se)return w.from(he,W,Z);const De=function G(se){if(w.isBuffer(se)){const W=0|B(se.length),Z=T(W);return 0===Z.length||se.copy(Z,0,0,W),Z}return void 0!==se.length?"number"!=typeof se.length||wt(se.length)?T(0):M(se):"Buffer"===se.type&&Array.isArray(se.data)?M(se.data):void 0}(se);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return w.from(se[Symbol.toPrimitive]("string"),W,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function R(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function v(se){return R(se),T(se<0?0:0|B(se))}function M(se){const W=se.length<0?0:0|B(se.length),Z=T(W);for(let he=0;he<W;he+=1)Z[he]=255&se[he];return Z}function L(se,W,Z){if(W<0||se.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<W+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let he;return he=void 0===W&&void 0===Z?new Uint8Array(se):void 0===Z?new Uint8Array(se,W):new Uint8Array(se,W,Z),Object.setPrototypeOf(he,w.prototype),he}function B(se){if(se>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|se}function X(se,W){if(w.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ye(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===Z)return 0;let De=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Ne(se).length;default:if(De)return he?-1:Ce(se).length;W=(""+W).toLowerCase(),De=!0}}function Q(se,W,Z){let he=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===Z||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(W>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return F(this,W,Z);case"utf8":case"utf-8":return b(this,W,Z);case"ascii":return V(this,W,Z);case"latin1":case"binary":return Y(this,W,Z);case"base64":return f(this,W,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,W,Z);default:if(he)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),he=!0}}function te(se,W,Z){const he=se[W];se[W]=se[Z],se[Z]=he}function ie(se,W,Z,he,De){if(0===se.length)return-1;if("string"==typeof Z?(he=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),wt(Z=+Z)&&(Z=De?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(De)return-1;Z=se.length-1}else if(Z<0){if(!De)return-1;Z=0}if("string"==typeof W&&(W=w.from(W,he)),w.isBuffer(W))return 0===W.length?-1:ae(se,W,Z,he,De);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(se,W,Z):Uint8Array.prototype.lastIndexOf.call(se,W,Z):ae(se,[W],Z,he,De);throw new TypeError("val must be string, number or Buffer")}function ae(se,W,Z,he,De){let Mt,Xe=1,Ze=se.length,at=W.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(se.length<2||W.length<2)return-1;Xe=2,Ze/=2,at/=2,Z/=2}function Rt(At,Wt){return 1===Xe?At[Wt]:At.readUInt16BE(Wt*Xe)}if(De){let At=-1;for(Mt=Z;Mt<Ze;Mt++)if(Rt(se,Mt)===Rt(W,-1===At?0:Mt-At)){if(-1===At&&(At=Mt),Mt-At+1===at)return At*Xe}else-1!==At&&(Mt-=Mt-At),At=-1}else for(Z+at>Ze&&(Z=Ze-at),Mt=Z;Mt>=0;Mt--){let At=!0;for(let Wt=0;Wt<at;Wt++)if(Rt(se,Mt+Wt)!==Rt(W,Wt)){At=!1;break}if(At)return Mt}return-1}function me(se,W,Z,he){Z=Number(Z)||0;const De=se.length-Z;he?(he=Number(he))>De&&(he=De):he=De;const Xe=W.length;let Ze;for(he>Xe/2&&(he=Xe/2),Ze=0;Ze<he;++Ze){const at=parseInt(W.substr(2*Ze,2),16);if(wt(at))return Ze;se[Z+Ze]=at}return Ze}function ge(se,W,Z,he){return We(Ce(W,se.length-Z),se,Z,he)}function de(se,W,Z,he){return We(function ke(se){const W=[];for(let Z=0;Z<se.length;++Z)W.push(255&se.charCodeAt(Z));return W}(W),se,Z,he)}function z(se,W,Z,he){return We(Ne(W),se,Z,he)}function d(se,W,Z,he){return We(function ze(se,W){let Z,he,De;const Xe=[];for(let Ze=0;Ze<se.length&&!((W-=2)<0);++Ze)Z=se.charCodeAt(Ze),he=Z>>8,De=Z%256,Xe.push(De),Xe.push(he);return Xe}(W,se.length-Z),se,Z,he)}function f(se,W,Z){return O.fromByteArray(0===W&&Z===se.length?se:se.slice(W,Z))}function b(se,W,Z){Z=Math.min(se.length,Z);const he=[];let De=W;for(;De<Z;){const Xe=se[De];let Ze=null,at=Xe>239?4:Xe>223?3:Xe>191?2:1;if(De+at<=Z){let Rt,Mt,At,Wt;switch(at){case 1:Xe<128&&(Ze=Xe);break;case 2:Rt=se[De+1],128==(192&Rt)&&(Wt=(31&Xe)<<6|63&Rt,Wt>127&&(Ze=Wt));break;case 3:Rt=se[De+1],Mt=se[De+2],128==(192&Rt)&&128==(192&Mt)&&(Wt=(15&Xe)<<12|(63&Rt)<<6|63&Mt,Wt>2047&&(Wt<55296||Wt>57343)&&(Ze=Wt));break;case 4:Rt=se[De+1],Mt=se[De+2],At=se[De+3],128==(192&Rt)&&128==(192&Mt)&&128==(192&At)&&(Wt=(15&Xe)<<18|(63&Rt)<<12|(63&Mt)<<6|63&At,Wt>65535&&Wt<1114112&&(Ze=Wt))}}null===Ze?(Ze=65533,at=1):Ze>65535&&(Ze-=65536,he.push(Ze>>>10&1023|55296),Ze=56320|1023&Ze),he.push(Ze),De+=at}return function D(se){const W=se.length;if(W<=C)return String.fromCharCode.apply(String,se);let Z="",he=0;for(;he<W;)Z+=String.fromCharCode.apply(String,se.slice(he,he+=C));return Z}(he)}I.kMaxLength=K,!(w.TYPED_ARRAY_SUPPORT=function y(){try{const se=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(se,W),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(se,W,Z){return x(se,W,Z)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(se,W,Z){return function k(se,W,Z){return R(se),se<=0?T(se):void 0!==W?"string"==typeof Z?T(se).fill(W,Z):T(se).fill(W):T(se)}(se,W,Z)},w.allocUnsafe=function(se){return v(se)},w.allocUnsafeSlow=function(se){return v(se)},w.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==w.prototype},w.compare=function(W,Z){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),Ye(Z,Uint8Array)&&(Z=w.from(Z,Z.offset,Z.byteLength)),!w.isBuffer(W)||!w.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===Z)return 0;let he=W.length,De=Z.length;for(let Xe=0,Ze=Math.min(he,De);Xe<Ze;++Xe)if(W[Xe]!==Z[Xe]){he=W[Xe],De=Z[Xe];break}return he<De?-1:De<he?1:0},w.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(W,Z){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return w.alloc(0);let he;if(void 0===Z)for(Z=0,he=0;he<W.length;++he)Z+=W[he].length;const De=w.allocUnsafe(Z);let Xe=0;for(he=0;he<W.length;++he){let Ze=W[he];if(Ye(Ze,Uint8Array))Xe+Ze.length>De.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(De,Xe)):Uint8Array.prototype.set.call(De,Ze,Xe);else{if(!w.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy(De,Xe)}Xe+=Ze.length}return De},w.byteLength=X,w.prototype._isBuffer=!0,w.prototype.swap16=function(){const W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<W;Z+=2)te(this,Z,Z+1);return this},w.prototype.swap32=function(){const W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<W;Z+=4)te(this,Z,Z+3),te(this,Z+1,Z+2);return this},w.prototype.swap64=function(){const W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<W;Z+=8)te(this,Z,Z+7),te(this,Z+1,Z+6),te(this,Z+2,Z+5),te(this,Z+3,Z+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){const W=this.length;return 0===W?"":0===arguments.length?b(this,0,W):Q.apply(this,arguments)},w.prototype.equals=function(W){if(!w.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===w.compare(this,W)},w.prototype.inspect=function(){let W="";const Z=I.INSPECT_MAX_BYTES;return W=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(W+=" ... "),"<Buffer "+W+">"},U&&(w.prototype[U]=w.prototype.inspect),w.prototype.compare=function(W,Z,he,De,Xe){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),!w.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===Z&&(Z=0),void 0===he&&(he=W?W.length:0),void 0===De&&(De=0),void 0===Xe&&(Xe=this.length),Z<0||he>W.length||De<0||Xe>this.length)throw new RangeError("out of range index");if(De>=Xe&&Z>=he)return 0;if(De>=Xe)return-1;if(Z>=he)return 1;if(this===W)return 0;let Ze=(Xe>>>=0)-(De>>>=0),at=(he>>>=0)-(Z>>>=0);const Rt=Math.min(Ze,at),Mt=this.slice(De,Xe),At=W.slice(Z,he);for(let Wt=0;Wt<Rt;++Wt)if(Mt[Wt]!==At[Wt]){Ze=Mt[Wt],at=At[Wt];break}return Ze<at?-1:at<Ze?1:0},w.prototype.includes=function(W,Z,he){return-1!==this.indexOf(W,Z,he)},w.prototype.indexOf=function(W,Z,he){return ie(this,W,Z,he,!0)},w.prototype.lastIndexOf=function(W,Z,he){return ie(this,W,Z,he,!1)},w.prototype.write=function(W,Z,he,De){if(void 0===Z)De="utf8",he=this.length,Z=0;else if(void 0===he&&"string"==typeof Z)De=Z,he=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z>>>=0,isFinite(he)?(he>>>=0,void 0===De&&(De="utf8")):(De=he,he=void 0)}const Xe=this.length-Z;if((void 0===he||he>Xe)&&(he=Xe),W.length>0&&(he<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ze=!1;for(;;)switch(De){case"hex":return me(this,W,Z,he);case"utf8":case"utf-8":return ge(this,W,Z,he);case"ascii":case"latin1":case"binary":return de(this,W,Z,he);case"base64":return z(this,W,Z,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,W,Z,he);default:if(Ze)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function V(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(127&se[De]);return he}function Y(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(se[De]);return he}function F(se,W,Z){const he=se.length;(!W||W<0)&&(W=0),(!Z||Z<0||Z>he)&&(Z=he);let De="";for(let Xe=W;Xe<Z;++Xe)De+=mt[se[Xe]];return De}function h(se,W,Z){const he=se.slice(W,Z);let De="";for(let Xe=0;Xe<he.length-1;Xe+=2)De+=String.fromCharCode(he[Xe]+256*he[Xe+1]);return De}function g(se,W,Z){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+W>Z)throw new RangeError("Trying to access beyond buffer length")}function J(se,W,Z,he,De,Xe){if(!w.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>De||W<Xe)throw new RangeError('"value" argument is out of bounds');if(Z+he>se.length)throw new RangeError("Index out of range")}function ee(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Z}function re(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z+7]=Xe,Xe>>=8,se[Z+6]=Xe,Xe>>=8,se[Z+5]=Xe,Xe>>=8,se[Z+4]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z+3]=Ze,Ze>>=8,se[Z+2]=Ze,Ze>>=8,se[Z+1]=Ze,Ze>>=8,se[Z]=Ze,Z+8}function fe(se,W,Z,he,De,Xe){if(Z+he>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function Ae(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,4),$.write(se,W,Z,he,23,4),Z+4}function Me(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,8),$.write(se,W,Z,he,52,8),Z+8}w.prototype.slice=function(W,Z){const he=this.length;(W=~~W)<0?(W+=he)<0&&(W=0):W>he&&(W=he),(Z=void 0===Z?he:~~Z)<0?(Z+=he)<0&&(Z=0):Z>he&&(Z=he),Z<W&&(Z=W);const De=this.subarray(W,Z);return Object.setPrototypeOf(De,w.prototype),De},w.prototype.readUintLE=w.prototype.readUIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return De},w.prototype.readUintBE=w.prototype.readUIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W+--Z],Xe=1;for(;Z>0&&(Xe*=256);)De+=this[W+--Z]*Xe;return De},w.prototype.readUint8=w.prototype.readUInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),this[W]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]|this[W+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]<<8|this[W+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},w.prototype.readBigUInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z+256*this[++W]+65536*this[++W]+this[++W]*2**24,Xe=this[++W]+256*this[++W]+65536*this[++W]+he*2**24;return BigInt(De)+(BigInt(Xe)<<BigInt(32))}),w.prototype.readBigUInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z*2**24+65536*this[++W]+256*this[++W]+this[++W],Xe=this[++W]*2**24+65536*this[++W]+256*this[++W]+he;return(BigInt(De)<<BigInt(32))+BigInt(Xe)}),w.prototype.readIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return Xe*=128,De>=Xe&&(De-=Math.pow(2,8*Z)),De},w.prototype.readIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=Z,Xe=1,Ze=this[W+--De];for(;De>0&&(Xe*=256);)Ze+=this[W+--De]*Xe;return Xe*=128,Ze>=Xe&&(Ze-=Math.pow(2,8*Z)),Ze},w.prototype.readInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},w.prototype.readInt16LE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W]|this[W+1]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt16BE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W+1]|this[W]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},w.prototype.readInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},w.prototype.readBigInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];return(void 0===Z||void 0===he)&&xe(W,this.length-8),(BigInt(this[W+4]+256*this[W+5]+65536*this[W+6]+(he<<24))<<BigInt(32))+BigInt(Z+256*this[++W]+65536*this[++W]+this[++W]*2**24)}),w.prototype.readBigInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=(Z<<24)+65536*this[++W]+256*this[++W]+this[++W];return(BigInt(De)<<BigInt(32))+BigInt(this[++W]*2**24+65536*this[++W]+256*this[++W]+he)}),w.prototype.readFloatLE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!0,23,4)},w.prototype.readFloatBE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!1,23,4)},w.prototype.readDoubleLE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!0,52,8)},w.prototype.readDoubleBE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=1,Ze=0;for(this[Z]=255&W;++Ze<he&&(Xe*=256);)this[Z+Ze]=W/Xe&255;return Z+he},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=he-1,Ze=1;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)this[Z+Xe]=W/Ze&255;return Z+he},w.prototype.writeUint8=w.prototype.writeUInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,255,0),this[Z]=255&W,Z+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z+3]=W>>>24,this[Z+2]=W>>>16,this[Z+1]=W>>>8,this[Z]=255&W,Z+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigUInt64LE=rt(function(W,Z=0){return ee(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=rt(function(W,Z=0){return re(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=0,Ze=1,at=0;for(this[Z]=255&W;++Xe<he&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe-1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeIntBE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=he-1,Ze=1,at=0;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe+1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,127,-128),W<0&&(W=255+W+1),this[Z]=255&W,Z+1},w.prototype.writeInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),this[Z]=255&W,this[Z+1]=W>>>8,this[Z+2]=W>>>16,this[Z+3]=W>>>24,Z+4},w.prototype.writeInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigInt64LE=rt(function(W,Z=0){return ee(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=rt(function(W,Z=0){return re(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeFloatLE=function(W,Z,he){return Ae(this,W,Z,!0,he)},w.prototype.writeFloatBE=function(W,Z,he){return Ae(this,W,Z,!1,he)},w.prototype.writeDoubleLE=function(W,Z,he){return Me(this,W,Z,!0,he)},w.prototype.writeDoubleBE=function(W,Z,he){return Me(this,W,Z,!1,he)},w.prototype.copy=function(W,Z,he,De){if(!w.isBuffer(W))throw new TypeError("argument should be a Buffer");if(he||(he=0),!De&&0!==De&&(De=this.length),Z>=W.length&&(Z=W.length),Z||(Z=0),De>0&&De<he&&(De=he),De===he||0===W.length||0===this.length)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),W.length-Z<De-he&&(De=W.length-Z+he);const Xe=De-he;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Z,he,De):Uint8Array.prototype.set.call(W,this.subarray(he,De),Z),Xe},w.prototype.fill=function(W,Z,he,De){if("string"==typeof W){if("string"==typeof Z?(De=Z,Z=0,he=this.length):"string"==typeof he&&(De=he,he=this.length),void 0!==De&&"string"!=typeof De)throw new TypeError("encoding must be a string");if("string"==typeof De&&!w.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(1===W.length){const Ze=W.charCodeAt(0);("utf8"===De&&Ze<128||"latin1"===De)&&(W=Ze)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(Z<0||this.length<Z||this.length<he)throw new RangeError("Out of range index");if(he<=Z)return this;let Xe;if(Z>>>=0,he=void 0===he?this.length:he>>>0,W||(W=0),"number"==typeof W)for(Xe=Z;Xe<he;++Xe)this[Xe]=W;else{const Ze=w.isBuffer(W)?W:w.from(W,De),at=Ze.length;if(0===at)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Xe=0;Xe<he-Z;++Xe)this[Xe+Z]=Ze[Xe%at]}return this};const Le={};function Ee(se,W,Z){Le[se]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,delete this.name}get code(){return se}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}function Se(se){let W="",Z=se.length;const he="-"===se[0]?1:0;for(;Z>=he+4;Z-=3)W=`_${se.slice(Z-3,Z)}${W}`;return`${se.slice(0,Z)}${W}`}function Te(se,W,Z,he,De,Xe){if(se>Z||se<W){const Ze="bigint"==typeof W?"n":"";let at;throw at=Xe>3?0===W||W===BigInt(0)?`>= 0${Ze} and < 2${Ze} ** ${8*(Xe+1)}${Ze}`:`>= -(2${Ze} ** ${8*(Xe+1)-1}${Ze}) and < 2 ** ${8*(Xe+1)-1}${Ze}`:`>= ${W}${Ze} and <= ${Z}${Ze}`,new Le.ERR_OUT_OF_RANGE("value",at,se)}!function He(se,W,Z){u(W,"offset"),(void 0===se[W]||void 0===se[W+Z])&&xe(W,se.length-(Z+1))}(he,De,Xe)}function u(se,W){if("number"!=typeof se)throw new Le.ERR_INVALID_ARG_TYPE(W,"number",se)}function xe(se,W,Z){throw Math.floor(se)!==se?(u(se,Z),new Le.ERR_OUT_OF_RANGE(Z||"offset","an integer",se)):W<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${W}`,se)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(se,W){return`The "${se}" argument must be of type number. Received type ${typeof W}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(se,W,Z){let he=`The value of "${se}" is out of range.`,De=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?De=Se(String(Z)):"bigint"==typeof Z&&(De=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(De=Se(De)),De+="n"),he+=` It must be ${W}. Received ${De}`,he},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function Ce(se,W){let Z;W=W||1/0;const he=se.length;let De=null;const Xe=[];for(let Ze=0;Ze<he;++Ze){if(Z=se.charCodeAt(Ze),Z>55295&&Z<57344){if(!De){if(Z>56319){(W-=3)>-1&&Xe.push(239,191,189);continue}if(Ze+1===he){(W-=3)>-1&&Xe.push(239,191,189);continue}De=Z;continue}if(Z<56320){(W-=3)>-1&&Xe.push(239,191,189),De=Z;continue}Z=65536+(De-55296<<10|Z-56320)}else De&&(W-=3)>-1&&Xe.push(239,191,189);if(De=null,Z<128){if((W-=1)<0)break;Xe.push(Z)}else if(Z<2048){if((W-=2)<0)break;Xe.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((W-=3)<0)break;Xe.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Xe.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return Xe}function Ne(se){return O.toByteArray(function _e(se){if((se=(se=se.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function We(se,W,Z,he){let De;for(De=0;De<he&&!(De+Z>=W.length||De>=se.length);++De)W[De+Z]=se[De];return De}function Ye(se,W){return se instanceof W||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===W.name}function wt(se){return se!=se}const mt=function(){const se="0123456789abcdef",W=new Array(256);for(let Z=0;Z<16;++Z){const he=16*Z;for(let De=0;De<16;++De)W[he+De]=se[Z]+se[De]}return W}();function rt(se){return typeof BigInt>"u"?Ut:se}function Ut(){throw new Error("BigInt not supported")}},24785:(ye,I,A)=>{"use strict";const{SymbolDispose:O}=A(43856),{AbortError:$,codes:U}=A(65109),{isNodeStream:K,isWebStream:y,kControllerErrorFunction:T}=A(51233),w=A(44268),{ERR_INVALID_ARG_TYPE:x}=U;let R;ye.exports.addAbortSignal=function(N,M){if((v=>{if("object"!=typeof v||!("aborted"in v))throw new x("signal","AbortSignal",v)})(N),!K(M)&&!y(M))throw new x("stream",["ReadableStream","WritableStream","Stream"],M);return ye.exports.addAbortSignalNoValidate(N,M)},ye.exports.addAbortSignalNoValidate=function(v,N){if("object"!=typeof v||!("aborted"in v))return N;const M=K(N)?()=>{N.destroy(new $(void 0,{cause:v.reason}))}:()=>{N[T](new $(void 0,{cause:v.reason}))};if(v.aborted)M();else{R=R||A(55830).addAbortListener;const P=R(v,M);w(N,P[O])}return N}},58579:(ye,I,A)=>{"use strict";const{StringPrototypeSlice:O,SymbolIterator:$,TypedArrayPrototypeSet:U,Uint8Array:K}=A(43856),{Buffer:y}=A(89565),{inspect:T}=A(55830);ye.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(x){const R={data:x,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(x){const R={data:x,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const x=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,x}clear(){this.head=this.tail=null,this.length=0}join(x){if(0===this.length)return"";let R=this.head,k=""+R.data;for(;null!==(R=R.next);)k+=x+R.data;return k}concat(x){if(0===this.length)return y.alloc(0);const R=y.allocUnsafe(x>>>0);let k=this.head,v=0;for(;k;)U(R,k.data,v),v+=k.data.length,k=k.next;return R}consume(x,R){const k=this.head.data;if(x<k.length){const v=k.slice(0,x);return this.head.data=k.slice(x),v}return x===k.length?this.shift():R?this._getString(x):this._getBuffer(x)}first(){return this.head.data}*[$](){for(let x=this.head;x;x=x.next)yield x.data}_getString(x){let R="",k=this.head,v=0;do{const N=k.data;if(!(x>N.length)){x===N.length?(R+=N,++v,this.head=k.next?k.next:this.tail=null):(R+=O(N,0,x),this.head=k,k.data=O(N,x));break}R+=N,x-=N.length,++v}while(null!==(k=k.next));return this.length-=v,R}_getBuffer(x){const R=y.allocUnsafe(x),k=x;let v=this.head,N=0;do{const M=v.data;if(!(x>M.length)){x===M.length?(U(R,M,k-x),++N,this.head=v.next?v.next:this.tail=null):(U(R,new K(M.buffer,M.byteOffset,x),k-x),this.head=v,v.data=M.slice(x));break}U(R,M,k-x),x-=M.length,++N}while(null!==(v=v.next));return this.length-=N,R}[Symbol.for("nodejs.util.inspect.custom")](x,R){return T(this,{...R,depth:0,customInspect:!1})}}},5464:(ye,I,A)=>{"use strict";var O=A(29293).default;const{pipeline:$}=A(96208),U=A(97464),{destroyer:K}=A(45078),{isNodeStream:y,isReadable:T,isWritable:w,isWebStream:x,isTransformStream:R,isWritableStream:k,isReadableStream:v}=A(51233),{AbortError:N,codes:{ERR_INVALID_ARG_VALUE:M,ERR_MISSING_ARGS:P}}=A(65109),L=A(44268);ye.exports=function(...B){if(0===B.length)throw new P("streams");if(1===B.length)return U.from(B[0]);const q=[...B];if("function"==typeof B[0]&&(B[0]=U.from(B[0])),"function"==typeof B[B.length-1]){const f=B.length-1;B[f]=U.from(B[f])}for(let f=0;f<B.length;++f)if(y(B[f])||x(B[f])){if(f<B.length-1&&!(T(B[f])||v(B[f])||R(B[f])))throw new M(`streams[${f}]`,q[f],"must be readable");if(f>0&&!(w(B[f])||k(B[f])||R(B[f])))throw new M(`streams[${f}]`,q[f],"must be writable")}let X,Q,te,ie,ae;const ge=B[0],de=$(B,function me(f){const b=ie;ie=null,b?b(f):f?ae.destroy(f):!d&&!z&&ae.destroy()}),z=!!(w(ge)||k(ge)||R(ge)),d=!!(T(de)||v(de)||R(de));if(ae=new U({writableObjectMode:!(null==ge||!ge.writableObjectMode),readableObjectMode:!(null==de||!de.readableObjectMode),writable:z,readable:d}),z){if(y(ge))ae._write=function(b,C,D){ge.write(b,C)?D():X=D},ae._final=function(b){ge.end(),Q=b},ge.on("drain",function(){if(X){const b=X;X=null,b()}});else if(x(ge)){const C=(R(ge)?ge.writable:ge).getWriter();ae._write=function(){var D=O(function*(V,Y,F){try{yield C.ready,C.write(V).catch(()=>{}),F()}catch(h){F(h)}});return function(V,Y,F){return D.apply(this,arguments)}}(),ae._final=function(){var D=O(function*(V){try{yield C.ready,C.close().catch(()=>{}),Q=V}catch(Y){V(Y)}});return function(V){return D.apply(this,arguments)}}()}const f=R(de)?de.readable:de;L(f,()=>{if(Q){const b=Q;Q=null,b()}})}if(d)if(y(de))de.on("readable",function(){if(te){const f=te;te=null,f()}}),de.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){const f=de.read();if(null===f)return void(te=ae._read);if(!ae.push(f))return}};else if(x(de)){const b=(R(de)?de.readable:de).getReader();ae._read=O(function*(){for(;;)try{const{value:C,done:D}=yield b.read();if(!ae.push(C))return;if(D)return void ae.push(null)}catch{return}})}return ae._destroy=function(f,b){!f&&null!==ie&&(f=new N),te=null,X=null,Q=null,null===ie?b(f):(ie=b,y(de)&&K(de,f))},ae}},45078:(ye,I,A)=>{"use strict";const O=A(40573),{aggregateTwoErrors:$,codes:{ERR_MULTIPLE_CALLBACK:U},AbortError:K}=A(65109),{Symbol:y}=A(43856),{kIsDestroyed:T,isDestroyed:w,isFinished:x,isServerRequest:R}=A(51233),k=y("kDestroy"),v=y("kConstruct");function N(z,d,f){z&&(d&&!d.errored&&(d.errored=z),f&&!f.errored&&(f.errored=z))}function P(z,d,f){let b=!1;function C(D){if(b)return;b=!0;const V=z._readableState,Y=z._writableState;N(D,Y,V),Y&&(Y.closed=!0),V&&(V.closed=!0),"function"==typeof f&&f(D),D?O.nextTick(L,z,D):O.nextTick(G,z)}try{z._destroy(d||null,C)}catch(D){C(D)}}function L(z,d){B(z,d),G(z)}function G(z){const d=z._readableState,f=z._writableState;f&&(f.closeEmitted=!0),d&&(d.closeEmitted=!0),(null!=f&&f.emitClose||null!=d&&d.emitClose)&&z.emit("close")}function B(z,d){const f=z._readableState,b=z._writableState;null!=b&&b.errorEmitted||null!=f&&f.errorEmitted||(b&&(b.errorEmitted=!0),f&&(f.errorEmitted=!0),z.emit("error",d))}function X(z,d,f){const b=z._readableState,C=z._writableState;if(null!=C&&C.destroyed||null!=b&&b.destroyed)return this;null!=b&&b.autoDestroy||null!=C&&C.autoDestroy?z.destroy(d):d&&(C&&!C.errored&&(C.errored=d),b&&!b.errored&&(b.errored=d),f?O.nextTick(B,z,d):B(z,d))}function te(z){let d=!1;function f(b){if(d)return void X(z,b??new U);d=!0;const C=z._readableState,D=z._writableState,V=D||C;C&&(C.constructed=!0),D&&(D.constructed=!0),V.destroyed?z.emit(k,b):b?X(z,b,!0):O.nextTick(ie,z)}try{z._construct(b=>{O.nextTick(f,b)})}catch(b){O.nextTick(f,b)}}function ie(z){z.emit(v)}function ae(z){return z?.setHeader&&"function"==typeof z.abort}function me(z){z.emit("close")}function ge(z,d){z.emit("error",d),O.nextTick(me,z)}ye.exports={construct:function Q(z,d){if("function"!=typeof z._construct)return;const f=z._readableState,b=z._writableState;f&&(f.constructed=!1),b&&(b.constructed=!1),z.once(v,d),!(z.listenerCount(v)>1)&&O.nextTick(te,z)},destroyer:function de(z,d){!z||w(z)||(!d&&!x(z)&&(d=new K),R(z)?(z.socket=null,z.destroy(d)):ae(z)?z.abort():ae(z.req)?z.req.abort():"function"==typeof z.destroy?z.destroy(d):"function"==typeof z.close?z.close():d?O.nextTick(ge,z,d):O.nextTick(me,z),z.destroyed||(z[T]=!0))},destroy:function M(z,d){const f=this._readableState,b=this._writableState,C=b||f;return null!=b&&b.destroyed||null!=f&&f.destroyed?("function"==typeof d&&d(),this):(N(z,b,f),b&&(b.destroyed=!0),f&&(f.destroyed=!0),C.constructed?P(this,z,d):this.once(k,function(D){P(this,$(D,z),d)}),this)},undestroy:function q(){const z=this._readableState,d=this._writableState;z&&(z.constructed=!0,z.closed=!1,z.closeEmitted=!1,z.destroyed=!1,z.errored=null,z.errorEmitted=!1,z.reading=!1,z.ended=!1===z.readable,z.endEmitted=!1===z.readable),d&&(d.constructed=!0,d.destroyed=!1,d.closed=!1,d.closeEmitted=!1,d.errored=null,d.errorEmitted=!1,d.finalCalled=!1,d.prefinished=!1,d.ended=!1===d.writable,d.ending=!1===d.writable,d.finished=!1===d.writable)},errorOrDestroy:X}},97464:(ye,I,A)=>{"use strict";const{ObjectDefineProperties:O,ObjectGetOwnPropertyDescriptor:$,ObjectKeys:U,ObjectSetPrototypeOf:K}=A(43856);ye.exports=w;const y=A(29710),T=A(40258);K(w.prototype,y.prototype),K(w,y);{const v=U(T.prototype);for(let N=0;N<v.length;N++){const M=v[N];w.prototype[M]||(w.prototype[M]=T.prototype[M])}}function w(v){if(!(this instanceof w))return new w(v);y.call(this,v),T.call(this,v),v?(this.allowHalfOpen=!1!==v.allowHalfOpen,!1===v.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===v.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let x,k;function R(){return void 0===x&&(x={}),x}O(w.prototype,{writable:{__proto__:null,...$(T.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$(T.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$(T.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$(T.prototype,"writableBuffer")},writableLength:{__proto__:null,...$(T.prototype,"writableLength")},writableFinished:{__proto__:null,...$(T.prototype,"writableFinished")},writableCorked:{__proto__:null,...$(T.prototype,"writableCorked")},writableEnded:{__proto__:null,...$(T.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$(T.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(v){this._readableState&&this._writableState&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}}}),w.fromWeb=function(v,N){return R().newStreamDuplexFromReadableWritablePair(v,N)},w.toWeb=function(v){return R().newReadableWritablePairFromDuplex(v)},w.from=function(v){return k||(k=A(56840)),k(v,"body")}},56840:(ye,I,A)=>{var O=A(29293).default,$=A(53344).default,U=A(42958).default;const K=A(40573),y=A(89565),{isReadable:T,isWritable:w,isIterable:x,isNodeStream:R,isReadableNodeStream:k,isWritableNodeStream:v,isDuplexNodeStream:N,isReadableStream:M,isWritableStream:P}=A(51233),L=A(44268),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:B,ERR_INVALID_RETURN_VALUE:q}}=A(65109),{destroyer:X}=A(45078),Q=A(97464),te=A(29710),ie=A(40258),{createDeferredPromise:ae}=A(55830),me=A(24246),ge=globalThis.Blob||y.Blob,de=typeof ge<"u"?function(V){return V instanceof ge}:function(V){return!1},z=globalThis.AbortController||A(9465).AbortController,{FunctionPrototypeCall:d}=A(43856);class f extends Q{constructor(V){super(V),!1===V?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===V?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(D){const V=D.readable&&"function"!=typeof D.readable.read?te.wrap(D.readable):D.readable,Y=D.writable;let g,J,ee,re,fe,F=!!T(V),h=!!w(Y);function Ae(Me){const Le=re;re=null,Le?Le(Me):Me&&fe.destroy(Me)}return fe=new f({readableObjectMode:!(null==V||!V.readableObjectMode),writableObjectMode:!(null==Y||!Y.writableObjectMode),readable:F,writable:h}),h&&(L(Y,Me=>{h=!1,Me&&X(V,Me),Ae(Me)}),fe._write=function(Me,Le,Ee){Y.write(Me,Le)?Ee():g=Ee},fe._final=function(Me){Y.end(),J=Me},Y.on("drain",function(){if(g){const Me=g;g=null,Me()}}),Y.on("finish",function(){if(J){const Me=J;J=null,Me()}})),F&&(L(V,Me=>{F=!1,Me&&X(V,Me),Ae(Me)}),V.on("readable",function(){if(ee){const Me=ee;ee=null,Me()}}),V.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){const Me=V.read();if(null===Me)return void(ee=fe._read);if(!fe.push(Me))return}}),fe._destroy=function(Me,Le){!Me&&null!==re&&(Me=new G),ee=null,g=null,J=null,null===re?Le(Me):(re=Le,X(Y,Me),X(V,Me))},fe}ye.exports=function D(V,Y){if(N(V))return V;if(k(V))return C({readable:V});if(v(V))return C({writable:V});if(R(V))return C({writable:!1,readable:!1});if(M(V))return C({readable:te.fromWeb(V)});if(P(V))return C({writable:ie.fromWeb(V)});if("function"==typeof V){const{value:h,write:g,final:J,destroy:ee}=function b(D){let{promise:V,resolve:Y}=ae();const F=new z,h=F.signal;return{value:D(U(function*(){for(;;){const J=V;V=null;const{chunk:ee,done:re,cb:fe}=yield $(J);if(K.nextTick(fe),re)return;if(h.aborted)throw new G(void 0,{cause:h.reason});({promise:V,resolve:Y}=ae()),yield ee}})(),{signal:h}),write(J,ee,re){const fe=Y;Y=null,fe({chunk:J,done:!1,cb:re})},final(J){const ee=Y;Y=null,ee({done:!0,cb:J})},destroy(J,ee){F.abort(),ee(J)}}}(V);if(x(h))return me(f,h,{objectMode:!0,write:g,final:J,destroy:ee});const re=h?.then;if("function"==typeof re){let fe;const Ae=d(re,h,Me=>{if(null!=Me)throw new q("nully","body",Me)},Me=>{X(fe,Me)});return fe=new f({objectMode:!0,readable:!1,write:g,final(Me){J(O(function*(){try{yield Ae,K.nextTick(Me,null)}catch(Le){K.nextTick(Me,Le)}}))},destroy:ee})}throw new q("Iterable, AsyncIterable or AsyncFunction",Y,h)}if(de(V))return D(V.arrayBuffer());if(x(V))return me(f,V,{objectMode:!0,writable:!1});if(M(V?.readable)&&P(V?.writable))return f.fromWeb(V);if("object"==typeof V?.writable||"object"==typeof V?.readable)return C({readable:null!=V&&V.readable?k(V?.readable)?V?.readable:D(V.readable):void 0,writable:null!=V&&V.writable?v(V?.writable)?V?.writable:D(V.writable):void 0});const F=V?.then;if("function"==typeof F){let h;return d(F,V,g=>{null!=g&&h.push(g),h.push(null)},g=>{X(h,g)}),h=new f({objectMode:!0,writable:!1,read(){}})}throw new B(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)}},44268:(ye,I,A)=>{const O=A(40573),{AbortError:$,codes:U}=A(65109),{ERR_INVALID_ARG_TYPE:K,ERR_STREAM_PREMATURE_CLOSE:y}=U,{kEmptyObject:T,once:w}=A(55830),{validateAbortSignal:x,validateFunction:R,validateObject:k,validateBoolean:v}=A(44323),{Promise:N,PromisePrototypeThen:M,SymbolDispose:P}=A(43856),{isClosed:L,isReadable:G,isReadableNodeStream:B,isReadableStream:q,isReadableFinished:X,isReadableErrored:Q,isWritable:te,isWritableNodeStream:ie,isWritableStream:ae,isWritableFinished:me,isWritableErrored:ge,isNodeStream:de,willEmitClose:z,kIsClosedPromise:d}=A(51233);let f;const C=()=>{};function D(F,h,g){var J,ee;if(2===arguments.length?(g=h,h=T):null==h?h=T:k(h,"options"),R(g,"callback"),x(h.signal,"options.signal"),g=w(g),q(F)||ae(F))return function V(F,h,g){let J=!1,ee=C;if(h.signal)if(ee=()=>{J=!0,g.call(F,new $(void 0,{cause:h.signal.reason}))},h.signal.aborted)O.nextTick(ee);else{f=f||A(55830).addAbortListener;const fe=f(h.signal,ee),Ae=g;g=w((...Me)=>{fe[P](),Ae.apply(F,Me)})}const re=(...fe)=>{J||O.nextTick(()=>g.apply(F,fe))};return M(F[d].promise,re,re),C}(F,h,g);if(!de(F))throw new K("stream",["ReadableStream","WritableStream","Stream"],F);const re=null!==(J=h.readable)&&void 0!==J?J:B(F),fe=null!==(ee=h.writable)&&void 0!==ee?ee:ie(F),Ae=F._writableState,Me=F._readableState,Le=()=>{F.writable||He()};let Ee=z(F)&&B(F)===re&&ie(F)===fe,Se=me(F,!1);const He=()=>{Se=!0,F.destroyed&&(Ee=!1),(!Ee||F.readable&&!re)&&(!re||Te)&&g.call(F)};let Te=X(F,!1);const u=()=>{Te=!0,F.destroyed&&(Ee=!1),(!Ee||F.writable&&!fe)&&(!fe||Se)&&g.call(F)},xe=Ne=>{g.call(F,Ne)};let be=L(F);const _e=()=>{be=!0;const Ne=ge(F)||Q(F);return Ne&&"boolean"!=typeof Ne?g.call(F,Ne):re&&!Te&&B(F,!0)&&!X(F,!1)?g.call(F,new y):!fe||Se||me(F,!1)?void g.call(F):g.call(F,new y)},Ce=()=>{be=!0;const Ne=ge(F)||Q(F);if(Ne&&"boolean"!=typeof Ne)return g.call(F,Ne);g.call(F)},ke=()=>{F.req.on("finish",He)};!function b(F){return F.setHeader&&"function"==typeof F.abort}(F)?fe&&!Ae&&(F.on("end",Le),F.on("close",Le)):(F.on("complete",He),Ee||F.on("abort",_e),F.req?ke():F.on("request",ke)),!Ee&&"boolean"==typeof F.aborted&&F.on("aborted",_e),F.on("end",u),F.on("finish",He),!1!==h.error&&F.on("error",xe),F.on("close",_e),be?O.nextTick(_e):null!=Ae&&Ae.errorEmitted||null!=Me&&Me.errorEmitted?Ee||O.nextTick(Ce):(!re&&(!Ee||G(F))&&(Se||!1===te(F))||!fe&&(!Ee||te(F))&&(Te||!1===G(F))||Me&&F.req&&F.aborted)&&O.nextTick(Ce);const ze=()=>{g=C,F.removeListener("aborted",_e),F.removeListener("complete",He),F.removeListener("abort",_e),F.removeListener("request",ke),F.req&&F.req.removeListener("finish",He),F.removeListener("end",Le),F.removeListener("close",Le),F.removeListener("finish",He),F.removeListener("end",u),F.removeListener("error",xe),F.removeListener("close",_e)};if(h.signal&&!be){const Ne=()=>{const We=g;ze(),We.call(F,new $(void 0,{cause:h.signal.reason}))};if(h.signal.aborted)O.nextTick(Ne);else{f=f||A(55830).addAbortListener;const We=f(h.signal,Ne),Ye=g;g=w((...wt)=>{We[P](),Ye.apply(F,wt)})}}return ze}ye.exports=D,ye.exports.finished=function Y(F,h){var g;let J=!1;return null===h&&(h=T),null!==(g=h)&&void 0!==g&&g.cleanup&&(v(h.cleanup,"cleanup"),J=h.cleanup),new N((ee,re)=>{const fe=D(F,h,Ae=>{J&&fe(),Ae?re(Ae):ee()})})}},24246:(ye,I,A)=>{"use strict";var O=A(29293).default;const $=A(40573),{PromisePrototypeThen:U,SymbolAsyncIterator:K,SymbolIterator:y}=A(43856),{Buffer:T}=A(89565),{ERR_INVALID_ARG_TYPE:w,ERR_STREAM_NULL_VALUES:x}=A(65109).codes;ye.exports=function R(k,v,N){let M,P;if("string"==typeof v||v instanceof T)return new k({objectMode:!0,...N,read(){this.push(v),this.push(null)}});if(v&&v[K])P=!0,M=v[K]();else{if(!v||!v[y])throw new w("iterable",["Iterable"],v);P=!1,M=v[y]()}const L=new k({objectMode:!0,highWaterMark:1,...N});let G=!1;function q(){return(q=O(function*(te){if(null!=te&&"function"==typeof M.throw){const{value:me,done:ge}=yield M.throw(te);if(yield me,ge)return}if("function"==typeof M.return){const{value:me}=yield M.return();yield me}})).apply(this,arguments)}function Q(){return(Q=O(function*(){for(;;){try{const{value:te,done:ie}=P?yield M.next():M.next();if(ie)L.push(null);else{const ae=te&&"function"==typeof te.then?yield te:te;if(null===ae)throw G=!1,new x;if(L.push(ae))continue;G=!1}}catch(te){L.destroy(te)}break}})).apply(this,arguments)}return L._read=function(){G||(G=!0,function X(){Q.apply(this,arguments)}())},L._destroy=function(te,ie){U(function B(te){return q.apply(this,arguments)}(te),()=>$.nextTick(ie,te),ae=>$.nextTick(ie,ae||te))},L}},2649:(ye,I,A)=>{"use strict";const{ArrayIsArray:O,ObjectSetPrototypeOf:$}=A(43856),{EventEmitter:U}=A(44356);function K(T){U.call(this,T)}function y(T,w,x){if("function"==typeof T.prependListener)return T.prependListener(w,x);T._events&&T._events[w]?O(T._events[w])?T._events[w].unshift(x):T._events[w]=[x,T._events[w]]:T.on(w,x)}$(K.prototype,U.prototype),$(K,U),K.prototype.pipe=function(T,w){const x=this;function R(G){T.writable&&!1===T.write(G)&&x.pause&&x.pause()}function k(){x.readable&&x.resume&&x.resume()}x.on("data",R),T.on("drain",k),!T._isStdio&&(!w||!1!==w.end)&&(x.on("end",N),x.on("close",M));let v=!1;function N(){v||(v=!0,T.end())}function M(){v||(v=!0,"function"==typeof T.destroy&&T.destroy())}function P(G){L(),0===U.listenerCount(this,"error")&&this.emit("error",G)}function L(){x.removeListener("data",R),T.removeListener("drain",k),x.removeListener("end",N),x.removeListener("close",M),x.removeListener("error",P),T.removeListener("error",P),x.removeListener("end",L),x.removeListener("close",L),T.removeListener("close",L)}return y(x,"error",P),y(T,"error",P),x.on("end",L),x.on("close",L),T.on("close",L),T.emit("pipe",x),T},ye.exports={Stream:K,prependListener:y}},37325:(ye,I,A)=>{"use strict";var O=A(29293).default,$=A(93513).default,U=A(82881).default,K=A(53344).default,y=A(42958).default;const T=globalThis.AbortController||A(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:w,ERR_INVALID_ARG_TYPE:x,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:k},AbortError:v}=A(65109),{validateAbortSignal:N,validateInteger:M,validateObject:P}=A(44323),L=A(43856).Symbol("kWeak"),G=A(43856).Symbol("kResistStopPropagation"),{finished:B}=A(44268),q=A(5464),{addAbortSignalNoValidate:X}=A(24785),{isWritable:Q,isNodeStream:te}=A(51233),{deprecate:ie}=A(55830),{ArrayPrototypePush:ae,Boolean:me,MathFloor:ge,Number:de,NumberIsNaN:z,Promise:d,PromiseReject:f,PromiseResolve:b,PromisePrototypeThen:C,Symbol:D}=A(43856),V=D("kEmpty"),Y=D("kEof");function h(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal");let Ye=1;null!=We?.concurrency&&(Ye=ge(We.concurrency));let wt=Ye-1;return null!=We?.highWaterMark&&(wt=ge(We.highWaterMark)),M(Ye,"options.concurrency",1),M(wt,"options.highWaterMark",0),wt+=Ye,function(){var mt=y(function*(){const Ut=A(55830).AbortSignalAny([We?.signal].filter(me)),se=this,W=[],Z={signal:Ut};let he,De,Xe=!1,Ze=0;function at(){Xe=!0,Rt()}function Rt(){Ze-=1,Mt()}function Mt(){De&&!Xe&&Ze<Ye&&W.length<wt&&(De(),De=null)}function Wt(){return(Wt=O(function*(){try{var Hn,Bt=!1,nn=!1;try{for(var an,sn=U(se);Bt=!(an=yield sn.next()).done;Bt=!1){let kn=an.value;if(Xe)return;if(Ut.aborted)throw new v;try{if(kn=Ne(kn,Z),kn===V)continue;kn=b(kn)}catch(Ve){kn=f(Ve)}Ze+=1,C(kn,Rt,at),W.push(kn),he&&(he(),he=null),!Xe&&(W.length>=wt||Ze>=Ye)&&(yield new d(Ve=>{De=Ve}))}}catch(kn){nn=!0,Hn=kn}finally{try{Bt&&null!=sn.return&&(yield sn.return())}finally{if(nn)throw Hn}}W.push(Y)}catch(kn){const Ve=f(kn);C(Ve,Rt,at),W.push(Ve)}finally{Xe=!0,he&&(he(),he=null)}})).apply(this,arguments)}!function At(){Wt.apply(this,arguments)}();try{for(;;){for(;W.length>0;){const Bt=yield K(W[0]);if(Bt===Y)return;if(Ut.aborted)throw new v;Bt!==V&&(yield Bt),W.shift(),Mt()}yield K(new d(Bt=>{he=Bt}))}}finally{Xe=!0,De&&(De(),De=null)}});return function rt(){return mt.apply(this,arguments)}}().call(this)}function J(Ne){return ee.apply(this,arguments)}function ee(){return(ee=O(function*(Ne,We=void 0){var mt,Ye=!1,wt=!1;try{for(var rt=U(Se.call(this,Ne,We));Ye=!(yield rt.next()).done;Ye=!1)return!0}catch(se){wt=!0,mt=se}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}return!1})).apply(this,arguments)}function fe(){return(fe=O(function*(Ne,We=void 0){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);return!(yield J.call(this,O(function*(...Ye){return!(yield Ne(...Ye))}),We))})).apply(this,arguments)}function Me(){return(Me=O(function*(Ne,We){var mt,Ye=!1,wt=!1;try{for(var Ut,rt=U(Se.call(this,Ne,We));Ye=!(Ut=yield rt.next()).done;Ye=!1)return Ut.value}catch(se){wt=!0,mt=se}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}})).apply(this,arguments)}function Ee(){return Ee=O(function*(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);function wt(){return(wt=O(function*(Z,he){return yield Ne(Z,he),V})).apply(this,arguments)}var Ut,mt=!1,rt=!1;try{for(var se=U(h.call(this,function Ye(Z,he){return wt.apply(this,arguments)},We));mt=!(yield se.next()).done;mt=!1);}catch(Z){rt=!0,Ut=Z}finally{try{mt&&null!=se.return&&(yield se.return())}finally{if(rt)throw Ut}}}),Ee.apply(this,arguments)}function Se(Ne,We){if("function"!=typeof Ne)throw new x("fn",["Function","AsyncFunction"],Ne);function wt(){return(wt=O(function*(mt,rt){return(yield Ne(mt,rt))?mt:V})).apply(this,arguments)}return h.call(this,function Ye(mt,rt){return wt.apply(this,arguments)},We)}class He extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function u(){return u=O(function*(Ne,We,Ye){var wt;if("function"!=typeof Ne)throw new x("reducer",["Function","AsyncFunction"],Ne);null!=Ye&&P(Ye,"options"),null!=Ye?.signal&&N(Ye.signal,"options.signal");let mt=arguments.length>1;if(null!=Ye&&null!==(wt=Ye.signal)&&void 0!==wt&&wt.aborted){const at=new v(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),yield B(this.destroy(at)),at}const rt=new T,Ut=rt.signal;null!=Ye&&Ye.signal&&Ye.signal.addEventListener("abort",()=>rt.abort(),{once:!0,[L]:this,[G]:!0});let se=!1;try{var he,W=!1,Z=!1;try{for(var Xe,De=U(this);W=!(Xe=yield De.next()).done;W=!1){const at=Xe.value;var Ze;if(se=!0,null!=Ye&&null!==(Ze=Ye.signal)&&void 0!==Ze&&Ze.aborted)throw new v;mt?We=yield Ne(We,at,{signal:Ut}):(We=at,mt=!0)}}catch(at){Z=!0,he=at}finally{try{W&&null!=De.return&&(yield De.return())}finally{if(Z)throw he}}if(!se&&!mt)throw new He}finally{rt.abort()}return We}),u.apply(this,arguments)}function be(){return(be=O(function*(Ne){null!=Ne&&P(Ne,"options"),null!=Ne?.signal&&N(Ne.signal,"options.signal");const We=[];var mt,Ye=!1,wt=!1;try{for(var Ut,rt=U(this);Ye=!(Ut=yield rt.next()).done;Ye=!1){const W=Ut.value;var se;if(null!=Ne&&null!==(se=Ne.signal)&&void 0!==se&&se.aborted)throw new v(void 0,{cause:Ne.signal.reason});ae(We,W)}}catch(W){wt=!0,mt=W}finally{try{Ye&&null!=rt.return&&(yield rt.return())}finally{if(wt)throw mt}}return We})).apply(this,arguments)}function Ce(Ne){if(Ne=de(Ne),z(Ne))return 0;if(Ne<0)throw new k("number",">= 0",Ne);return Ne}ye.exports.streamReturningOperators={asIndexedPairs:ie(function g(Ne=void 0){return null!=Ne&&P(Ne,"options"),null!=Ne?.signal&&N(Ne.signal,"options.signal"),function(){var We=y(function*(){let wt=0;var Ut,mt=!1,rt=!1;try{for(var W,se=U(this);mt=!(W=yield K(se.next())).done;mt=!1){const he=W.value;var Z;if(null!=Ne&&null!==(Z=Ne.signal)&&void 0!==Z&&Z.aborted)throw new v({cause:Ne.signal.reason});yield[wt++,he]}}catch(he){rt=!0,Ut=he}finally{try{mt&&null!=se.return&&(yield K(se.return()))}finally{if(rt)throw Ut}}});return function Ye(){return We.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ke(Ne,We=void 0){return null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),Ne=Ce(Ne),function(){var Ye=y(function*(){var mt;if(null!=We&&null!==(mt=We.signal)&&void 0!==mt&&mt.aborted)throw new v;var se,rt=!1,Ut=!1;try{for(var Z,W=U(this);rt=!(Z=yield K(W.next())).done;rt=!1){const De=Z.value;var he;if(null!=We&&null!==(he=We.signal)&&void 0!==he&&he.aborted)throw new v;Ne--<=0&&(yield De)}}catch(De){Ut=!0,se=De}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function wt(){return Ye.apply(this,arguments)}}().call(this)},filter:Se,flatMap:function _e(Ne,We){const Ye=h.call(this,Ne,We);return function(){var wt=y(function*(){var se,rt=!1,Ut=!1;try{for(var Z,W=U(Ye);rt=!(Z=yield K(W.next())).done;rt=!1){const he=Z.value;yield*$(U(he),K)}}catch(he){Ut=!0,se=he}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function mt(){return wt.apply(this,arguments)}}().call(this)},map:h,take:function ze(Ne,We=void 0){return null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),Ne=Ce(Ne),function(){var Ye=y(function*(){var mt;if(null!=We&&null!==(mt=We.signal)&&void 0!==mt&&mt.aborted)throw new v;var se,rt=!1,Ut=!1;try{for(var Z,W=U(this);rt=!(Z=yield K(W.next())).done;rt=!1){const De=Z.value;var he;if(null!=We&&null!==(he=We.signal)&&void 0!==he&&he.aborted)throw new v;if(Ne-- >0&&(yield De),Ne<=0)return}}catch(De){Ut=!0,se=De}finally{try{rt&&null!=W.return&&(yield K(W.return()))}finally{if(Ut)throw se}}});return function wt(){return Ye.apply(this,arguments)}}().call(this)},compose:function F(Ne,We){if(null!=We&&P(We,"options"),null!=We?.signal&&N(We.signal,"options.signal"),te(Ne)&&!Q(Ne))throw new w("stream",Ne,"must be writable");const Ye=q(this,Ne);return null!=We&&We.signal&&X(We.signal,Ye),Ye}},ye.exports.promiseReturningOperators={every:function re(Ne){return fe.apply(this,arguments)},forEach:function Le(Ne,We){return Ee.apply(this,arguments)},reduce:function Te(Ne,We,Ye){return u.apply(this,arguments)},toArray:function xe(Ne){return be.apply(this,arguments)},some:J,find:function Ae(Ne,We){return Me.apply(this,arguments)}}},70874:(ye,I,A)=>{"use strict";const{ObjectSetPrototypeOf:O}=A(43856);ye.exports=U;const $=A(66344);function U(K){if(!(this instanceof U))return new U(K);$.call(this,K)}O(U.prototype,$.prototype),O(U,$),U.prototype._transform=function(K,y,T){T(null,K)}},96208:(ye,I,A)=>{var O=A(29293).default,$=A(42958).default,U=A(53344).default,K=A(93513).default,y=A(82881).default;const T=A(40573),{ArrayIsArray:w,Promise:x,SymbolAsyncIterator:R,SymbolDispose:k}=A(43856),v=A(44268),{once:N}=A(55830),M=A(45078),P=A(97464),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:G,ERR_INVALID_RETURN_VALUE:B,ERR_MISSING_ARGS:q,ERR_STREAM_DESTROYED:X,ERR_STREAM_PREMATURE_CLOSE:Q},AbortError:te}=A(65109),{validateFunction:ie,validateAbortSignal:ae}=A(44323),{isIterable:me,isReadable:ge,isReadableNodeStream:de,isNodeStream:z,isTransformStream:d,isWebStream:f,isReadableStream:b,isReadableFinished:C}=A(51233),D=globalThis.AbortController||A(9465).AbortController;let V,Y,F;function h(Te,u,xe){let be=!1;return Te.on("close",()=>{be=!0}),{destroy:Ce=>{be||(be=!0,M.destroyer(Te,Ce||new X("pipe")))},cleanup:v(Te,{readable:u,writable:xe},Ce=>{be=!Ce})}}function J(Te){if(me(Te))return Te;if(de(Te))return function ee(Te){return re.apply(this,arguments)}(Te);throw new G("val",["Readable","Iterable","AsyncIterable"],Te)}function re(){return(re=$(function*(Te){Y||(Y=A(29710)),yield*K(y(Y.prototype[R].call(Te)),U)})).apply(this,arguments)}function fe(Te,u,xe,be){return Ae.apply(this,arguments)}function Ae(){return(Ae=O(function*(Te,u,xe,{end:be}){let _e,Ce=null;const ke=Ut=>{if(Ut&&(_e=Ut),Ce){const se=Ce;Ce=null,se()}},ze=()=>new x((Ut,se)=>{_e?se(_e):Ce=()=>{_e?se(_e):Ut()}});u.on("drain",ke);const Ne=v(u,{readable:!1},ke);try{u.writableNeedDrain&&(yield ze());var wt,We=!1,Ye=!1;try{for(var rt,mt=y(Te);We=!(rt=yield mt.next()).done;We=!1)u.write(rt.value)||(yield ze())}catch(Ut){Ye=!0,wt=Ut}finally{try{We&&null!=mt.return&&(yield mt.return())}finally{if(Ye)throw wt}}be&&(u.end(),yield ze()),xe()}catch(Ut){xe(_e!==Ut?L(_e,Ut):Ut)}finally{Ne(),u.off("drain",ke)}})).apply(this,arguments)}function Me(Te,u,xe,be){return Le.apply(this,arguments)}function Le(){return(Le=O(function*(Te,u,xe,{end:be}){d(u)&&(u=u.writable);const _e=u.getWriter();try{var ze,Ce=!1,ke=!1;try{for(var We,Ne=y(Te);Ce=!(We=yield Ne.next()).done;Ce=!1){const Ye=We.value;yield _e.ready,_e.write(Ye).catch(()=>{})}}catch(Ye){ke=!0,ze=Ye}finally{try{Ce&&null!=Ne.return&&(yield Ne.return())}finally{if(ke)throw ze}}yield _e.ready,be&&(yield _e.close()),xe()}catch(Ye){try{yield _e.abort(Ye),xe(Ye)}catch(wt){xe(wt)}}})).apply(this,arguments)}function Se(Te,u,xe){if(1===Te.length&&w(Te[0])&&(Te=Te[0]),Te.length<2)throw new q("streams");const be=new D,_e=be.signal,Ce=xe?.signal,ke=[];function ze(){Ut(new te)}let Ne,We,Ye;ae(Ce,"options.signal"),F=F||A(55830).addAbortListener,Ce&&(Ne=F(Ce,ze));const wt=[];let se,mt=0;function rt(De){Ut(De,0==--mt)}function Ut(De,Xe){var Ze;if(De&&(!We||"ERR_STREAM_PREMATURE_CLOSE"===We.code)&&(We=De),We||Xe){for(;wt.length;)wt.shift()(We);null===(Ze=Ne)||void 0===Ze||Ze[k](),be.abort(),Xe&&(We||ke.forEach(at=>at()),T.nextTick(u,We,Ye))}}for(let De=0;De<Te.length;De++){const Xe=Te[De],Ze=De<Te.length-1,at=De>0,Rt=Ze||!1!==xe?.end,Mt=De===Te.length-1;if(z(Xe)){let At=function(Wt){Wt&&"AbortError"!==Wt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Wt.code&&rt(Wt)};if(Rt){const{destroy:Wt,cleanup:Bt}=h(Xe,Ze,at);wt.push(Wt),ge(Xe)&&Mt&&ke.push(Bt)}Xe.on("error",At),ge(Xe)&&Mt&&ke.push(()=>{Xe.removeListener("error",At)})}if(0===De)if("function"==typeof Xe){if(se=Xe({signal:_e}),!me(se))throw new B("Iterable, AsyncIterable or Stream","source",se)}else se=me(Xe)||de(Xe)||d(Xe)?Xe:P.from(Xe);else if("function"==typeof Xe){var W;if(se=d(se)?J(null===(W=se)||void 0===W?void 0:W.readable):J(se),se=Xe(se,{signal:_e}),Ze){if(!me(se,!0))throw new B("AsyncIterable",`transform[${De-1}]`,se)}else{var Z;V||(V=A(70874));const At=new V({objectMode:!0}),Wt=null===(Z=se)||void 0===Z?void 0:Z.then;if("function"==typeof Wt)mt++,Wt.call(se,Hn=>{Ye=Hn,null!=Hn&&At.write(Hn),Rt&&At.end(),T.nextTick(rt)},Hn=>{At.destroy(Hn),T.nextTick(rt,Hn)});else if(me(se,!0))mt++,fe(se,At,rt,{end:Rt});else{if(!b(se)&&!d(se))throw new B("AsyncIterable or Promise","destination",se);mt++,fe(se.readable||se,At,rt,{end:Rt})}se=At;const{destroy:Bt,cleanup:nn}=h(se,!1,!0);wt.push(Bt),Mt&&ke.push(nn)}}else if(z(Xe)){if(de(se)){mt+=2;const At=He(se,Xe,rt,{end:Rt});ge(Xe)&&Mt&&ke.push(At)}else if(d(se)||b(se))mt++,fe(se.readable||se,Xe,rt,{end:Rt});else{if(!me(se))throw new G("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);mt++,fe(se,Xe,rt,{end:Rt})}se=Xe}else if(f(Xe)){if(de(se))mt++,Me(J(se),Xe,rt,{end:Rt});else if(b(se)||me(se))mt++,Me(se,Xe,rt,{end:Rt});else{if(!d(se))throw new G("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);mt++,Me(se.readable,Xe,rt,{end:Rt})}se=Xe}else se=P.from(Xe)}return(null!=_e&&_e.aborted||null!=Ce&&Ce.aborted)&&T.nextTick(ze),se}function He(Te,u,xe,{end:be}){let _e=!1;if(u.on("close",()=>{_e||xe(new Q)}),Te.pipe(u,{end:!1}),be){let ke=function(){_e=!0,u.end()};C(Te)?T.nextTick(ke):Te.once("end",ke)}else xe();return v(Te,{readable:!0,writable:!1},ke=>{const ze=Te._readableState;ke&&"ERR_STREAM_PREMATURE_CLOSE"===ke.code&&ze&&ze.ended&&!ze.errored&&!ze.errorEmitted?Te.once("end",xe).once("error",xe):xe(ke)}),v(u,{readable:!1,writable:!0},xe)}ye.exports={pipelineImpl:Se,pipeline:function Ee(...Te){return Se(Te,N(function g(Te){return ie(Te[Te.length-1],"streams[stream.length - 1]"),Te.pop()}(Te)))}}},29710:(ye,I,A)=>{var O=A(53344).default,$=A(42958).default;const U=A(40573),{ArrayPrototypeIndexOf:K,NumberIsInteger:y,NumberIsNaN:T,NumberParseInt:w,ObjectDefineProperties:x,ObjectKeys:R,ObjectSetPrototypeOf:k,Promise:v,SafeSet:N,SymbolAsyncDispose:M,SymbolAsyncIterator:P,Symbol:L}=A(43856);ye.exports=rt,rt.ReadableState=mt;const{EventEmitter:G}=A(44356),{Stream:B,prependListener:q}=A(2649),{Buffer:X}=A(89565),{addAbortSignal:Q}=A(24785),te=A(44268);let ie=A(55830).debuglog("stream",Be=>{ie=Be});const ae=A(58579),me=A(45078),{getHighWaterMark:ge,getDefaultHighWaterMark:de}=A(31081),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:d,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_OUT_OF_RANGE:b,ERR_STREAM_PUSH_AFTER_EOF:C,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:V}=A(65109),{validateObject:Y}=A(44323),F=L("kPaused"),{StringDecoder:h}=A(78454),g=A(24246);k(rt.prototype,B.prototype),k(rt,B);const J=()=>{},{errorOrDestroy:ee}=me,re=1,Le=16,Ee=32,Se=64,be=2048,_e=4096,Ne=65536;function wt(Be){return{enumerable:!1,get(){return!!(this.state&Be)},set(Ge){Ge?this.state|=Be:this.state&=~Be}}}function mt(Be,Ge,ht){"boolean"!=typeof ht&&(ht=Ge instanceof A(97464)),this.state=be|_e|Le|Ee,Be&&Be.objectMode&&(this.state|=re),ht&&Be&&Be.readableObjectMode&&(this.state|=re),this.highWaterMark=Be?ge(this,Be,"readableHighWaterMark",ht):de(!1),this.buffer=new ae,this.length=0,this.pipes=[],this.flowing=null,this[F]=null,Be&&!1===Be.emitClose&&(this.state&=~be),Be&&!1===Be.autoDestroy&&(this.state&=~_e),this.errored=null,this.defaultEncoding=Be&&Be.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Be&&Be.encoding&&(this.decoder=new h(Be.encoding),this.encoding=Be.encoding)}function rt(Be){if(!(this instanceof rt))return new rt(Be);const Ge=this instanceof A(97464);this._readableState=new mt(Be,this,Ge),Be&&("function"==typeof Be.read&&(this._read=Be.read),"function"==typeof Be.destroy&&(this._destroy=Be.destroy),"function"==typeof Be.construct&&(this._construct=Be.construct),Be.signal&&!Ge&&Q(Be.signal,this)),B.call(this,Be),me.construct(this,()=>{this._readableState.needReadable&&at(this,this._readableState)})}function Ut(Be,Ge,ht,et){ie("readableAddChunk",Ge);const ut=Be._readableState;let en;if(ut.state&re||("string"==typeof Ge?ut.encoding!==(ht=ht||ut.defaultEncoding)&&(et&&ut.encoding?Ge=X.from(Ge,ht).toString(ut.encoding):(Ge=X.from(Ge,ht),ht="")):Ge instanceof X?ht="":B._isUint8Array(Ge)?(Ge=B._uint8ArrayToBuffer(Ge),ht=""):null!=Ge&&(en=new d("chunk",["string","Buffer","Uint8Array"],Ge))),en)ee(Be,en);else if(null===Ge)ut.state&=-9,function De(Be,Ge){if(ie("onEofChunk"),!Ge.ended){if(Ge.decoder){const ht=Ge.decoder.end();ht&&ht.length&&(Ge.buffer.push(ht),Ge.length+=Ge.objectMode?1:ht.length)}Ge.ended=!0,Ge.sync?Xe(Be):(Ge.needReadable=!1,Ge.emittedReadable=!0,Ze(Be))}}(Be,ut);else if(ut.state&re||Ge&&Ge.length>0)if(et)if(4&ut.state)ee(Be,new D);else{if(ut.destroyed||ut.errored)return!1;se(Be,ut,Ge,!0)}else if(ut.ended)ee(Be,new C);else{if(ut.destroyed||ut.errored)return!1;ut.state&=-9,ut.decoder&&!ht?(Ge=ut.decoder.write(Ge),ut.objectMode||0!==Ge.length?se(Be,ut,Ge,!1):at(Be,ut)):se(Be,ut,Ge,!1)}else et||(ut.state&=-9,at(Be,ut));return!ut.ended&&(ut.length<ut.highWaterMark||0===ut.length)}function se(Be,Ge,ht,et){Ge.flowing&&0===Ge.length&&!Ge.sync&&Be.listenerCount("data")>0?(Ge.state&Ne?Ge.awaitDrainWriters.clear():Ge.awaitDrainWriters=null,Ge.dataEmitted=!0,Be.emit("data",ht)):(Ge.length+=Ge.objectMode?1:ht.length,et?Ge.buffer.unshift(ht):Ge.buffer.push(ht),Ge.state&Se&&Xe(Be)),at(Be,Ge)}function he(Be,Ge){return Be<=0||0===Ge.length&&Ge.ended?0:Ge.state&re?1:T(Be)?Ge.flowing&&Ge.length?Ge.buffer.first().length:Ge.length:Be<=Ge.length?Be:Ge.ended?Ge.length:0}function Xe(Be){const Ge=Be._readableState;ie("emitReadable",Ge.needReadable,Ge.emittedReadable),Ge.needReadable=!1,Ge.emittedReadable||(ie("emitReadable",Ge.flowing),Ge.emittedReadable=!0,U.nextTick(Ze,Be))}function Ze(Be){const Ge=Be._readableState;ie("emitReadable_",Ge.destroyed,Ge.length,Ge.ended),!Ge.destroyed&&!Ge.errored&&(Ge.length||Ge.ended)&&(Be.emit("readable"),Ge.emittedReadable=!1),Ge.needReadable=!Ge.flowing&&!Ge.ended&&Ge.length<=Ge.highWaterMark,Hn(Be)}function at(Be,Ge){!Ge.readingMore&&Ge.constructed&&(Ge.readingMore=!0,U.nextTick(Rt,Be,Ge))}function Rt(Be,Ge){for(;!Ge.reading&&!Ge.ended&&(Ge.length<Ge.highWaterMark||Ge.flowing&&0===Ge.length);){const ht=Ge.length;if(ie("maybeReadMore read 0"),Be.read(0),ht===Ge.length)break}Ge.readingMore=!1}function At(Be){const Ge=Be._readableState;Ge.readableListening=Be.listenerCount("readable")>0,Ge.resumeScheduled&&!1===Ge[F]?Ge.flowing=!0:Be.listenerCount("data")>0?Be.resume():Ge.readableListening||(Ge.flowing=null)}function Wt(Be){ie("readable nexttick read 0"),Be.read(0)}function nn(Be,Ge){ie("resume",Ge.reading),Ge.reading||Be.read(0),Ge.resumeScheduled=!1,Be.emit("resume"),Hn(Be),Ge.flowing&&!Ge.reading&&Be.read(0)}function Hn(Be){const Ge=Be._readableState;for(ie("flow",Ge.flowing);Ge.flowing&&null!==Be.read(););}function sn(Be,Ge){"function"!=typeof Be.read&&(Be=rt.wrap(Be,{objectMode:!0}));const ht=function an(Be,Ge){return kn.apply(this,arguments)}(Be,Ge);return ht.stream=Be,ht}function kn(){return(kn=$(function*(Be,Ge){let ut,ht=J;function et(It){this===Be?(ht(),ht=J):ht=It}Be.on("readable",et);const en=te(Be,{writable:!1},It=>{ut=It?z(ut,It):null,ht(),ht=J});try{for(;;){const It=Be.destroyed?null:Be.read();if(null!==It)yield It;else{if(ut)throw ut;if(null===ut)return;yield O(new v(et))}}}catch(It){throw ut=z(ut,It),ut}finally{!ut&&!1===Ge?.destroyOnReturn||void 0!==ut&&!Be._readableState.autoDestroy?(Be.off("readable",et),en()):me.destroyer(Be,null)}})).apply(this,arguments)}function Ve(Be,Ge){if(0===Ge.length)return null;let ht;return Ge.objectMode?ht=Ge.buffer.shift():!Be||Be>=Ge.length?(ht=Ge.decoder?Ge.buffer.join(""):1===Ge.buffer.length?Ge.buffer.first():Ge.buffer.concat(Ge.length),Ge.buffer.clear()):ht=Ge.buffer.consume(Be,Ge.decoder),ht}function st(Be){const Ge=Be._readableState;ie("endReadable",Ge.endEmitted),Ge.endEmitted||(Ge.ended=!0,U.nextTick(gt,Ge,Be))}function gt(Be,Ge){if(ie("endReadableNT",Be.endEmitted,Be.length),!Be.errored&&!Be.closeEmitted&&!Be.endEmitted&&0===Be.length)if(Be.endEmitted=!0,Ge.emit("end"),Ge.writable&&!1===Ge.allowHalfOpen)U.nextTick(dt,Ge);else if(Be.autoDestroy){const ht=Ge._writableState;(!ht||ht.autoDestroy&&(ht.finished||!1===ht.writable))&&Ge.destroy()}}function dt(Be){Be.writable&&!Be.writableEnded&&!Be.destroyed&&Be.end()}let yt;function ln(){return void 0===yt&&(yt={}),yt}x(mt.prototype,{objectMode:wt(re),ended:wt(2),endEmitted:wt(4),reading:wt(8),constructed:wt(Le),sync:wt(Ee),needReadable:wt(Se),emittedReadable:wt(128),readableListening:wt(256),resumeScheduled:wt(512),errorEmitted:wt(1024),emitClose:wt(be),autoDestroy:wt(_e),destroyed:wt(8192),closed:wt(16384),closeEmitted:wt(32768),multiAwaitDrain:wt(Ne),readingMore:wt(1<<17),dataEmitted:wt(1<<18)}),rt.prototype.destroy=me.destroy,rt.prototype._undestroy=me.undestroy,rt.prototype._destroy=function(Be,Ge){Ge(Be)},rt.prototype[G.captureRejectionSymbol]=function(Be){this.destroy(Be)},rt.prototype[M]=function(){let Be;return this.destroyed||(Be=this.readableEnded?null:new V,this.destroy(Be)),new v((Ge,ht)=>te(this,et=>et&&et!==Be?ht(et):Ge(null)))},rt.prototype.push=function(Be,Ge){return Ut(this,Be,Ge,!1)},rt.prototype.unshift=function(Be,Ge){return Ut(this,Be,Ge,!0)},rt.prototype.isPaused=function(){const Be=this._readableState;return!0===Be[F]||!1===Be.flowing},rt.prototype.setEncoding=function(Be){const Ge=new h(Be);this._readableState.decoder=Ge,this._readableState.encoding=this._readableState.decoder.encoding;const ht=this._readableState.buffer;let et="";for(const ut of ht)et+=Ge.write(ut);return ht.clear(),""!==et&&ht.push(et),this._readableState.length=et.length,this},rt.prototype.read=function(Be){ie("read",Be),void 0===Be?Be=NaN:y(Be)||(Be=w(Be,10));const Ge=this._readableState,ht=Be;if(Be>Ge.highWaterMark&&(Ge.highWaterMark=function Z(Be){if(Be>1073741824)throw new b("size","<= 1GiB",Be);return Be--,Be|=Be>>>1,Be|=Be>>>2,Be|=Be>>>4,Be|=Be>>>8,Be|=Be>>>16,++Be}(Be)),0!==Be&&(Ge.state&=-129),0===Be&&Ge.needReadable&&((0!==Ge.highWaterMark?Ge.length>=Ge.highWaterMark:Ge.length>0)||Ge.ended))return ie("read: emitReadable",Ge.length,Ge.ended),0===Ge.length&&Ge.ended?st(this):Xe(this),null;if(0===(Be=he(Be,Ge))&&Ge.ended)return 0===Ge.length&&st(this),null;let ut,et=!!(Ge.state&Se);if(ie("need readable",et),(0===Ge.length||Ge.length-Be<Ge.highWaterMark)&&(et=!0,ie("length less than watermark",et)),Ge.ended||Ge.reading||Ge.destroyed||Ge.errored||!Ge.constructed)et=!1,ie("reading, ended or constructing",et);else if(et){ie("do read"),Ge.state|=8|Ee,0===Ge.length&&(Ge.state|=Se);try{this._read(Ge.highWaterMark)}catch(en){ee(this,en)}Ge.state&=~Ee,Ge.reading||(Be=he(ht,Ge))}return ut=Be>0?Ve(Be,Ge):null,null===ut?(Ge.needReadable=Ge.length<=Ge.highWaterMark,Be=0):(Ge.length-=Be,Ge.multiAwaitDrain?Ge.awaitDrainWriters.clear():Ge.awaitDrainWriters=null),0===Ge.length&&(Ge.ended||(Ge.needReadable=!0),ht!==Be&&Ge.ended&&st(this)),null!==ut&&!Ge.errorEmitted&&!Ge.closeEmitted&&(Ge.dataEmitted=!0,this.emit("data",ut)),ut},rt.prototype._read=function(Be){throw new f("_read()")},rt.prototype.pipe=function(Be,Ge){const ht=this,et=this._readableState;1===et.pipes.length&&(et.multiAwaitDrain||(et.multiAwaitDrain=!0,et.awaitDrainWriters=new N(et.awaitDrainWriters?[et.awaitDrainWriters]:[]))),et.pipes.push(Be),ie("pipe count=%d opts=%j",et.pipes.length,Ge);const en=Ge&&!1===Ge.end||Be===U.stdout||Be===U.stderr?nr:qt;function qt(){ie("onend"),Be.end()}et.endEmitted?U.nextTick(en):ht.once("end",en),Be.on("unpipe",function It(tr,Xn){ie("onunpipe"),tr===ht&&Xn&&!1===Xn.hasUnpiped&&(Xn.hasUnpiped=!0,function cn(){ie("cleanup"),Be.removeListener("close",gr),Be.removeListener("finish",Vn),Fn&&Be.removeListener("drain",Fn),Be.removeListener("error",Bn),Be.removeListener("unpipe",It),ht.removeListener("end",qt),ht.removeListener("end",nr),ht.removeListener("data",jn),Vt=!0,Fn&&et.awaitDrainWriters&&(!Be._writableState||Be._writableState.needDrain)&&Fn()}())});let Fn,Vt=!1;function vr(){Vt||(1===et.pipes.length&&et.pipes[0]===Be?(ie("false write response, pause",0),et.awaitDrainWriters=Be,et.multiAwaitDrain=!1):et.pipes.length>1&&et.pipes.includes(Be)&&(ie("false write response, pause",et.awaitDrainWriters.size),et.awaitDrainWriters.add(Be)),ht.pause()),Fn||(Fn=function Mt(Be,Ge){return function(){const et=Be._readableState;et.awaitDrainWriters===Ge?(ie("pipeOnDrain",1),et.awaitDrainWriters=null):et.multiAwaitDrain&&(ie("pipeOnDrain",et.awaitDrainWriters.size),et.awaitDrainWriters.delete(Ge)),(!et.awaitDrainWriters||0===et.awaitDrainWriters.size)&&Be.listenerCount("data")&&Be.resume()}}(ht,Be),Be.on("drain",Fn))}function jn(tr){ie("ondata");const Xn=Be.write(tr);ie("dest.write",Xn),!1===Xn&&vr()}function Bn(tr){if(ie("onerror",tr),nr(),Be.removeListener("error",Bn),0===Be.listenerCount("error")){const Xn=Be._writableState||Be._readableState;Xn&&!Xn.errorEmitted?ee(Be,tr):Be.emit("error",tr)}}function gr(){Be.removeListener("finish",Vn),nr()}function Vn(){ie("onfinish"),Be.removeListener("close",gr),nr()}function nr(){ie("unpipe"),ht.unpipe(Be)}return ht.on("data",jn),q(Be,"error",Bn),Be.once("close",gr),Be.once("finish",Vn),Be.emit("pipe",ht),!0===Be.writableNeedDrain?vr():et.flowing||(ie("pipe resume"),ht.resume()),Be},rt.prototype.unpipe=function(Be){const Ge=this._readableState;if(0===Ge.pipes.length)return this;if(!Be){const ut=Ge.pipes;Ge.pipes=[],this.pause();for(let en=0;en<ut.length;en++)ut[en].emit("unpipe",this,{hasUnpiped:!1});return this}const et=K(Ge.pipes,Be);return-1===et||(Ge.pipes.splice(et,1),0===Ge.pipes.length&&this.pause(),Be.emit("unpipe",this,{hasUnpiped:!1})),this},rt.prototype.addListener=rt.prototype.on=function(Be,Ge){const ht=B.prototype.on.call(this,Be,Ge),et=this._readableState;return"data"===Be?(et.readableListening=this.listenerCount("readable")>0,!1!==et.flowing&&this.resume()):"readable"===Be&&!et.endEmitted&&!et.readableListening&&(et.readableListening=et.needReadable=!0,et.flowing=!1,et.emittedReadable=!1,ie("on readable",et.length,et.reading),et.length?Xe(this):et.reading||U.nextTick(Wt,this)),ht},rt.prototype.off=rt.prototype.removeListener=function(Be,Ge){const ht=B.prototype.removeListener.call(this,Be,Ge);return"readable"===Be&&U.nextTick(At,this),ht},rt.prototype.removeAllListeners=function(Be){const Ge=B.prototype.removeAllListeners.apply(this,arguments);return("readable"===Be||void 0===Be)&&U.nextTick(At,this),Ge},rt.prototype.resume=function(){const Be=this._readableState;return Be.flowing||(ie("resume"),Be.flowing=!Be.readableListening,function Bt(Be,Ge){Ge.resumeScheduled||(Ge.resumeScheduled=!0,U.nextTick(nn,Be,Ge))}(this,Be)),Be[F]=!1,this},rt.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[F]=!0,this},rt.prototype.wrap=function(Be){let Ge=!1;Be.on("data",et=>{!this.push(et)&&Be.pause&&(Ge=!0,Be.pause())}),Be.on("end",()=>{this.push(null)}),Be.on("error",et=>{ee(this,et)}),Be.on("close",()=>{this.destroy()}),Be.on("destroy",()=>{this.destroy()}),this._read=()=>{Ge&&Be.resume&&(Ge=!1,Be.resume())};const ht=R(Be);for(let et=1;et<ht.length;et++){const ut=ht[et];void 0===this[ut]&&"function"==typeof Be[ut]&&(this[ut]=Be[ut].bind(Be))}return this},rt.prototype[P]=function(){return sn(this)},rt.prototype.iterator=function(Be){return void 0!==Be&&Y(Be,"options"),sn(this,Be)},x(rt.prototype,{readable:{__proto__:null,get(){const Be=this._readableState;return!(!Be||!1===Be.readable||Be.destroyed||Be.errorEmitted||Be.endEmitted)},set(Be){this._readableState&&(this._readableState.readable=!!Be)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Be){this._readableState&&(this._readableState.flowing=Be)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(Be){this._readableState&&(this._readableState.destroyed=Be)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),x(mt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[F]},set(Be){this[F]=!!Be}}}),rt._fromList=Ve,rt.from=function(Be,Ge){return g(rt,Be,Ge)},rt.fromWeb=function(Be,Ge){return ln().newStreamReadableFromReadableStream(Be,Ge)},rt.toWeb=function(Be,Ge){return ln().newReadableStreamFromStreamReadable(Be,Ge)},rt.wrap=function(Be,Ge){var ht,et;return new rt({objectMode:null===(ht=null!==(et=Be.readableObjectMode)&&void 0!==et?et:Be.objectMode)||void 0===ht||ht,...Ge,destroy(ut,en){me.destroyer(Be,ut),en(ut)}}).wrap(Be)}},31081:(ye,I,A)=>{"use strict";const{MathFloor:O,NumberIsInteger:$}=A(43856),{validateInteger:U}=A(44323),{ERR_INVALID_ARG_VALUE:K}=A(65109).codes;let y=16384,T=16;function x(v){return v?T:y}ye.exports={getHighWaterMark:function k(v,N,M,P){const L=function w(v,N,M){return null!=v.highWaterMark?v.highWaterMark:N?v[M]:null}(N,P,M);if(null!=L){if(!$(L)||L<0)throw new K(P?`options.${M}`:"options.highWaterMark",L);return O(L)}return x(v.objectMode)},getDefaultHighWaterMark:x,setDefaultHighWaterMark:function R(v,N){U(N,"value",0),v?T=N:y=N}}},66344:(ye,I,A)=>{"use strict";const{ObjectSetPrototypeOf:O,Symbol:$}=A(43856);ye.exports=w;const{ERR_METHOD_NOT_IMPLEMENTED:U}=A(65109).codes,K=A(97464),{getHighWaterMark:y}=A(31081);O(w.prototype,K.prototype),O(w,K);const T=$("kCallback");function w(k){if(!(this instanceof w))return new w(k);const v=k?y(this,k,"readableHighWaterMark",!0):null;0===v&&(k={...k,highWaterMark:null,readableHighWaterMark:v,writableHighWaterMark:k.writableHighWaterMark||0}),K.call(this,k),this._readableState.sync=!1,this[T]=null,k&&("function"==typeof k.transform&&(this._transform=k.transform),"function"==typeof k.flush&&(this._flush=k.flush)),this.on("prefinish",R)}function x(k){"function"!=typeof this._flush||this.destroyed?(this.push(null),k&&k()):this._flush((v,N)=>{v?k?k(v):this.destroy(v):(null!=N&&this.push(N),this.push(null),k&&k())})}function R(){this._final!==x&&x.call(this)}w.prototype._final=x,w.prototype._transform=function(k,v,N){throw new U("_transform()")},w.prototype._write=function(k,v,N){const M=this._readableState,P=this._writableState,L=M.length;this._transform(k,v,(G,B)=>{G?N(G):(null!=B&&this.push(B),P.ended||L===M.length||M.length<M.highWaterMark?N():this[T]=N)})},w.prototype._read=function(){if(this[T]){const k=this[T];this[T]=null,k()}}},51233:(ye,I,A)=>{"use strict";const{SymbolAsyncIterator:O,SymbolIterator:$,SymbolFor:U}=A(43856),K=U("nodejs.stream.destroyed"),y=U("nodejs.stream.errored"),T=U("nodejs.stream.readable"),w=U("nodejs.stream.writable"),x=U("nodejs.stream.disturbed"),R=U("nodejs.webstream.isClosedPromise"),k=U("nodejs.webstream.controllerErrorFunction");function v(g,J=!1){var ee;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||J&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(ee=g._readableState)||void 0===ee?void 0:ee.readable)||g._writableState&&!g._readableState)}function N(g){var J;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(J=g._writableState)||void 0===J?void 0:J.writable))}function P(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function L(g){return!(!g||P(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function G(g){return!(!g||P(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function B(g){return!(!g||P(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function Q(g){if(!P(g))return null;const re=g._writableState||g._readableState;return!!(g.destroyed||g[K]||null!=re&&re.destroyed)}function te(g){if(!N(g))return null;if(!0===g.writableEnded)return!0;const J=g._writableState;return(null==J||!J.errored)&&("boolean"!=typeof J?.ended?null:J.ended)}function me(g,J){if(!v(g))return null;const ee=g._readableState;return(null==ee||!ee.errored)&&("boolean"!=typeof ee?.endEmitted?null:!!(ee.endEmitted||!1===J&&!0===ee.ended&&0===ee.length))}function ge(g){return g&&null!=g[T]?g[T]:"boolean"!=typeof g?.readable?null:!Q(g)&&v(g)&&g.readable&&!me(g)}function de(g){return g&&null!=g[w]?g[w]:"boolean"!=typeof g?.writable?null:!Q(g)&&N(g)&&g.writable&&!te(g)}function C(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function D(g){return"boolean"==typeof g._sent100&&C(g)}ye.exports={isDestroyed:Q,kIsDestroyed:K,isDisturbed:function F(g){var J;return!(!g||!(null!==(J=g[x])&&void 0!==J?J:g.readableDidRead||g.readableAborted))},kIsDisturbed:x,isErrored:function h(g){var J,ee,re,fe,Ae,Me,Le,Ee,Se,He;return!(!g||!(null!==(J=null!==(ee=null!==(re=null!==(fe=null!==(Ae=null!==(Me=g[y])&&void 0!==Me?Me:g.readableErrored)&&void 0!==Ae?Ae:g.writableErrored)&&void 0!==fe?fe:null===(Le=g._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==re?re:null===(Ee=g._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==ee?ee:null===(Se=g._readableState)||void 0===Se?void 0:Se.errored)&&void 0!==J?J:null!==(He=g._writableState)&&void 0!==He&&He.errored))},kIsErrored:y,isReadable:ge,kIsReadable:T,kIsClosedPromise:R,kControllerErrorFunction:k,kIsWritable:w,isClosed:function b(g){if(!P(g))return null;if("boolean"==typeof g.closed)return g.closed;const J=g._writableState,ee=g._readableState;return"boolean"==typeof J?.closed||"boolean"==typeof ee?.closed?J?.closed||ee?.closed:"boolean"==typeof g._closed&&C(g)?g._closed:null},isDuplexNodeStream:function M(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function z(g,J){return P(g)?!!Q(g)||!(!1!==J?.readable&&ge(g)||!1!==J?.writable&&de(g)):null},isIterable:function X(g,J){return null!=g&&(!0===J?"function"==typeof g[O]:!1===J?"function"==typeof g[$]:"function"==typeof g[O]||"function"==typeof g[$])},isReadableNodeStream:v,isReadableStream:L,isReadableEnded:function ae(g){if(!v(g))return null;if(!0===g.readableEnded)return!0;const J=g._readableState;return!(!J||J.errored)&&("boolean"!=typeof J?.ended?null:J.ended)},isReadableFinished:me,isReadableErrored:function f(g){var J,ee;return P(g)?g.readableErrored?g.readableErrored:null!==(J=null===(ee=g._readableState)||void 0===ee?void 0:ee.errored)&&void 0!==J?J:null:null},isNodeStream:P,isWebStream:function q(g){return L(g)||G(g)||B(g)},isWritable:de,isWritableNodeStream:N,isWritableStream:G,isWritableEnded:te,isWritableFinished:function ie(g,J){if(!N(g))return null;if(!0===g.writableFinished)return!0;const ee=g._writableState;return(null==ee||!ee.errored)&&("boolean"!=typeof ee?.finished?null:!!(ee.finished||!1===J&&!0===ee.ended&&0===ee.length))},isWritableErrored:function d(g){var J,ee;return P(g)?g.writableErrored?g.writableErrored:null!==(J=null===(ee=g._writableState)||void 0===ee?void 0:ee.errored)&&void 0!==J?J:null:null},isServerRequest:function V(g){var J;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(J=g.req)||void 0===J?void 0:J.upgradeOrConnect)},isServerResponse:D,willEmitClose:function Y(g){if(!P(g))return null;const re=g._writableState||g._readableState;return!re&&D(g)||!!(re&&re.autoDestroy&&re.emitClose&&!1===re.closed)},isTransformStream:B}},40258:(ye,I,A)=>{const O=A(40573),{ArrayPrototypeSlice:$,Error:U,FunctionPrototypeSymbolHasInstance:K,ObjectDefineProperty:y,ObjectDefineProperties:T,ObjectSetPrototypeOf:w,StringPrototypeToLowerCase:x,Symbol:R,SymbolHasInstance:k}=A(43856);ye.exports=D,D.WritableState=b;const{EventEmitter:v}=A(44356),N=A(2649).Stream,{Buffer:M}=A(89565),P=A(45078),{addAbortSignal:L}=A(24785),{getHighWaterMark:G,getDefaultHighWaterMark:B}=A(31081),{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:X,ERR_MULTIPLE_CALLBACK:Q,ERR_STREAM_CANNOT_PIPE:te,ERR_STREAM_DESTROYED:ie,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:me,ERR_STREAM_WRITE_AFTER_END:ge,ERR_UNKNOWN_ENCODING:de}=A(65109).codes,{errorOrDestroy:z}=P;function d(){}w(D.prototype,N.prototype),w(D,N);const f=R("kOnFinished");function b(xe,be,_e){"boolean"!=typeof _e&&(_e=be instanceof A(97464)),this.objectMode=!(!xe||!xe.objectMode),_e&&(this.objectMode=this.objectMode||!(!xe||!xe.writableObjectMode)),this.highWaterMark=xe?G(this,xe,"writableHighWaterMark",_e):B(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(xe&&!1===xe.decodeStrings),this.defaultEncoding=xe&&xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!xe||!1!==xe.emitClose,this.autoDestroy=!xe||!1!==xe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function C(xe){xe.buffered=[],xe.bufferedIndex=0,xe.allBuffers=!0,xe.allNoop=!0}function D(xe){const be=this instanceof A(97464);if(!be&&!K(D,this))return new D(xe);this._writableState=new b(xe,this,be),xe&&("function"==typeof xe.write&&(this._write=xe.write),"function"==typeof xe.writev&&(this._writev=xe.writev),"function"==typeof xe.destroy&&(this._destroy=xe.destroy),"function"==typeof xe.final&&(this._final=xe.final),"function"==typeof xe.construct&&(this._construct=xe.construct),xe.signal&&L(xe.signal,this)),N.call(this,xe),P.construct(this,()=>{const _e=this._writableState;_e.writing||fe(this,_e),Ee(this,_e)})}function V(xe,be,_e,Ce){const ke=xe._writableState;if("function"==typeof _e)Ce=_e,_e=ke.defaultEncoding;else{if(_e){if("buffer"!==_e&&!M.isEncoding(_e))throw new de(_e)}else _e=ke.defaultEncoding;"function"!=typeof Ce&&(Ce=d)}if(null===be)throw new me;if(!ke.objectMode)if("string"==typeof be)!1!==ke.decodeStrings&&(be=M.from(be,_e),_e="buffer");else if(be instanceof M)_e="buffer";else{if(!N._isUint8Array(be))throw new q("chunk",["string","Buffer","Uint8Array"],be);be=N._uint8ArrayToBuffer(be),_e="buffer"}let ze;return ke.ending?ze=new ge:ke.destroyed&&(ze=new ie("write")),ze?(O.nextTick(Ce,ze),z(xe,ze,!0),ze):(ke.pendingcb++,function Y(xe,be,_e,Ce,ke){const ze=be.objectMode?1:_e.length;be.length+=ze;const Ne=be.length<be.highWaterMark;return Ne||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:_e,encoding:Ce,callback:ke}),be.allBuffers&&"buffer"!==Ce&&(be.allBuffers=!1),be.allNoop&&ke!==d&&(be.allNoop=!1)):(be.writelen=ze,be.writecb=ke,be.writing=!0,be.sync=!0,xe._write(_e,Ce,be.onwrite),be.sync=!1),Ne&&!be.errored&&!be.destroyed}(xe,ke,be,_e,Ce))}function F(xe,be,_e,Ce,ke,ze,Ne){be.writelen=Ce,be.writecb=Ne,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ie("write")):_e?xe._writev(ke,be.onwrite):xe._write(ke,ze,be.onwrite),be.sync=!1}function h(xe,be,_e,Ce){--be.pendingcb,Ce(_e),re(be),z(xe,_e)}function g(xe,be){const _e=xe._writableState,Ce=_e.sync,ke=_e.writecb;"function"==typeof ke?(_e.writing=!1,_e.writecb=null,_e.length-=_e.writelen,_e.writelen=0,be?(_e.errored||(_e.errored=be),xe._readableState&&!xe._readableState.errored&&(xe._readableState.errored=be),Ce?O.nextTick(h,xe,_e,be,ke):h(xe,_e,be,ke)):(_e.buffered.length>_e.bufferedIndex&&fe(xe,_e),Ce?null!==_e.afterWriteTickInfo&&_e.afterWriteTickInfo.cb===ke?_e.afterWriteTickInfo.count++:(_e.afterWriteTickInfo={count:1,cb:ke,stream:xe,state:_e},O.nextTick(J,_e.afterWriteTickInfo)):ee(xe,_e,1,ke))):z(xe,new Q)}function J({stream:xe,state:be,count:_e,cb:Ce}){return be.afterWriteTickInfo=null,ee(xe,be,_e,Ce)}function ee(xe,be,_e,Ce){for(!be.ending&&!xe.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,xe.emit("drain"));_e-- >0;)be.pendingcb--,Ce();be.destroyed&&re(be),Ee(xe,be)}function re(xe){if(xe.writing)return;for(let ke=xe.bufferedIndex;ke<xe.buffered.length;++ke){var be;const{chunk:ze,callback:Ne}=xe.buffered[ke];xe.length-=xe.objectMode?1:ze.length,Ne(null!==(be=xe.errored)&&void 0!==be?be:new ie("write"))}const _e=xe[f].splice(0);for(let ke=0;ke<_e.length;ke++){var Ce;_e[ke](null!==(Ce=xe.errored)&&void 0!==Ce?Ce:new ie("end"))}C(xe)}function fe(xe,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:_e,bufferedIndex:Ce,objectMode:ke}=be,ze=_e.length-Ce;if(!ze)return;let Ne=Ce;if(be.bufferProcessing=!0,ze>1&&xe._writev){be.pendingcb-=ze-1;const We=be.allNoop?d:wt=>{for(let mt=Ne;mt<_e.length;++mt)_e[mt].callback(wt)},Ye=be.allNoop&&0===Ne?_e:$(_e,Ne);Ye.allBuffers=be.allBuffers,F(xe,be,!0,be.length,Ye,"",We),C(be)}else{do{const{chunk:We,encoding:Ye,callback:wt}=_e[Ne];_e[Ne++]=null,F(xe,be,!1,ke?1:We.length,We,Ye,wt)}while(Ne<_e.length&&!be.writing);Ne===_e.length?C(be):Ne>256?(_e.splice(0,Ne),be.bufferedIndex=0):be.bufferedIndex=Ne}be.bufferProcessing=!1}function Ae(xe){return xe.ending&&!xe.destroyed&&xe.constructed&&0===xe.length&&!xe.errored&&0===xe.buffered.length&&!xe.finished&&!xe.writing&&!xe.errorEmitted&&!xe.closeEmitted}function Ee(xe,be,_e){Ae(be)&&(function Le(xe,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof xe._final||be.destroyed?(be.prefinished=!0,xe.emit("prefinish")):(be.finalCalled=!0,function Me(xe,be){let _e=!1;function Ce(ke){if(_e)z(xe,ke??Q());else if(_e=!0,be.pendingcb--,ke){const ze=be[f].splice(0);for(let Ne=0;Ne<ze.length;Ne++)ze[Ne](ke);z(xe,ke,be.sync)}else Ae(be)&&(be.prefinished=!0,xe.emit("prefinish"),be.pendingcb++,O.nextTick(Se,xe,be))}be.sync=!0,be.pendingcb++;try{xe._final(Ce)}catch(ke){Ce(ke)}be.sync=!1}(xe,be)))}(xe,be),0===be.pendingcb&&(_e?(be.pendingcb++,O.nextTick((Ce,ke)=>{Ae(ke)?Se(Ce,ke):ke.pendingcb--},xe,be)):Ae(be)&&(be.pendingcb++,Se(xe,be))))}function Se(xe,be){be.pendingcb--,be.finished=!0;const _e=be[f].splice(0);for(let Ce=0;Ce<_e.length;Ce++)_e[Ce]();if(xe.emit("finish"),be.autoDestroy){const Ce=xe._readableState;(!Ce||Ce.autoDestroy&&(Ce.endEmitted||!1===Ce.readable))&&xe.destroy()}}b.prototype.getBuffer=function(){return $(this.buffered,this.bufferedIndex)},y(b.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),y(D,k,{__proto__:null,value:function(xe){return!!K(this,xe)||this===D&&xe&&xe._writableState instanceof b}}),D.prototype.pipe=function(){z(this,new te)},D.prototype.write=function(xe,be,_e){return!0===V(this,xe,be,_e)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){const xe=this._writableState;xe.corked&&(xe.corked--,xe.writing||fe(this,xe))},D.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=x(be)),!M.isEncoding(be))throw new de(be);return this._writableState.defaultEncoding=be,this},D.prototype._write=function(xe,be,_e){if(!this._writev)throw new X("_write()");this._writev([{chunk:xe,encoding:be}],_e)},D.prototype._writev=null,D.prototype.end=function(xe,be,_e){const Ce=this._writableState;let ke;if("function"==typeof xe?(_e=xe,xe=null,be=null):"function"==typeof be&&(_e=be,be=null),null!=xe){const ze=V(this,xe,be);ze instanceof U&&(ke=ze)}return Ce.corked&&(Ce.corked=1,this.uncork()),ke||(Ce.errored||Ce.ending?Ce.finished?ke=new ae("end"):Ce.destroyed&&(ke=new ie("end")):(Ce.ending=!0,Ee(this,Ce,!0),Ce.ended=!0)),"function"==typeof _e&&(ke||Ce.finished?O.nextTick(_e,ke):Ce[f].push(_e)),this},T(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(xe){this._writableState&&(this._writableState.destroyed=xe)}},writable:{__proto__:null,get(){const xe=this._writableState;return!(!xe||!1===xe.writable||xe.destroyed||xe.errored||xe.ending||xe.ended)},set(xe){this._writableState&&(this._writableState.writable=!!xe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const xe=this._writableState;return!!xe&&!xe.destroyed&&!xe.ending&&xe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=P.destroy;let Te;function u(){return void 0===Te&&(Te={}),Te}D.prototype.destroy=function(xe,be){const _e=this._writableState;return!_e.destroyed&&(_e.bufferedIndex<_e.buffered.length||_e[f].length)&&O.nextTick(re,_e),He.call(this,xe,be),this},D.prototype._undestroy=P.undestroy,D.prototype._destroy=function(xe,be){be(xe)},D.prototype[v.captureRejectionSymbol]=function(xe){this.destroy(xe)},D.fromWeb=function(xe,be){return u().newStreamWritableFromWritableStream(xe,be)},D.toWeb=function(xe){return u().newWritableStreamFromStreamWritable(xe)}},44323:(ye,I,A)=>{"use strict";const{ArrayIsArray:O,ArrayPrototypeIncludes:$,ArrayPrototypeJoin:U,ArrayPrototypeMap:K,NumberIsInteger:y,NumberIsNaN:T,NumberMAX_SAFE_INTEGER:w,NumberMIN_SAFE_INTEGER:x,NumberParseInt:R,ObjectPrototypeHasOwnProperty:k,RegExpPrototypeExec:v,String:N,StringPrototypeToUpperCase:M,StringPrototypeTrim:P}=A(43856),{hideStackFrames:L,codes:{ERR_SOCKET_BAD_PORT:G,ERR_INVALID_ARG_TYPE:B,ERR_INVALID_ARG_VALUE:q,ERR_OUT_OF_RANGE:X,ERR_UNKNOWN_SIGNAL:Q}}=A(65109),{normalizeEncoding:te}=A(55830),{isAsyncFunction:ie,isArrayBufferView:ae}=A(55830).types,me={},z=/^[0-7]+$/,b=L((Ne,We,Ye=x,wt=w)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);if(Ne<Ye||Ne>wt)throw new X(We,`>= ${Ye} && <= ${wt}`,Ne)}),C=L((Ne,We,Ye=-2147483648,wt=2147483647)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);if(Ne<Ye||Ne>wt)throw new X(We,`>= ${Ye} && <= ${wt}`,Ne)}),D=L((Ne,We,Ye=!1)=>{if("number"!=typeof Ne)throw new B(We,"number",Ne);if(!y(Ne))throw new X(We,"an integer",Ne);const wt=Ye?1:0,mt=4294967295;if(Ne<wt||Ne>mt)throw new X(We,`>= ${wt} && <= ${mt}`,Ne)});function V(Ne,We){if("string"!=typeof Ne)throw new B(We,"string",Ne)}const F=L((Ne,We,Ye)=>{if(!$(Ye,Ne)){const mt="must be one of: "+U(K(Ye,rt=>"string"==typeof rt?`'${rt}'`:N(rt)),", ");throw new q(We,Ne,mt)}});function h(Ne,We){if("boolean"!=typeof Ne)throw new B(We,"boolean",Ne)}function g(Ne,We,Ye){return null!=Ne&&k(Ne,We)?Ne[We]:Ye}const J=L((Ne,We,Ye=null)=>{const wt=g(Ye,"allowArray",!1),mt=g(Ye,"allowFunction",!1);if(!g(Ye,"nullable",!1)&&null===Ne||!wt&&O(Ne)||"object"!=typeof Ne&&(!mt||"function"!=typeof Ne))throw new B(We,"Object",Ne)}),ee=L((Ne,We)=>{if(null!=Ne&&"object"!=typeof Ne&&"function"!=typeof Ne)throw new B(We,"a dictionary",Ne)}),re=L((Ne,We,Ye=0)=>{if(!O(Ne))throw new B(We,"Array",Ne);if(Ne.length<Ye)throw new q(We,Ne,`must be longer than ${Ye}`)}),Ee=L((Ne,We="buffer")=>{if(!ae(Ne))throw new B(We,["Buffer","TypedArray","DataView"],Ne)}),Te=L((Ne,We)=>{if(void 0!==Ne&&(null===Ne||"object"!=typeof Ne||!("aborted"in Ne)))throw new B(We,"AbortSignal",Ne)}),u=L((Ne,We)=>{if("function"!=typeof Ne)throw new B(We,"Function",Ne)}),xe=L((Ne,We)=>{if("function"!=typeof Ne||ie(Ne))throw new B(We,"Function",Ne)}),be=L((Ne,We)=>{if(void 0!==Ne)throw new B(We,"undefined",Ne)}),Ce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ke(Ne,We){if(typeof Ne>"u"||!v(Ce,Ne))throw new q(We,Ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ye.exports={isInt32:function ge(Ne){return Ne===(0|Ne)},isUint32:function de(Ne){return Ne===Ne>>>0},parseFileMode:function f(Ne,We,Ye){if(typeof Ne>"u"&&(Ne=Ye),"string"==typeof Ne){if(null===v(z,Ne))throw new q(We,Ne,"must be a 32-bit unsigned integer or an octal string");Ne=R(Ne,8)}return D(Ne,We),Ne},validateArray:re,validateStringArray:function fe(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++)V(Ne[Ye],`${We}[${Ye}]`)},validateBooleanArray:function Ae(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++)h(Ne[Ye],`${We}[${Ye}]`)},validateAbortSignalArray:function Me(Ne,We){re(Ne,We);for(let Ye=0;Ye<Ne.length;Ye++){const wt=Ne[Ye],mt=`${We}[${Ye}]`;if(null==wt)throw new B(mt,"AbortSignal",wt);Te(wt,mt)}},validateBoolean:h,validateBuffer:Ee,validateDictionary:ee,validateEncoding:function Se(Ne,We){const Ye=te(We),wt=Ne.length;if("hex"===Ye&&wt%2!=0)throw new q("encoding",We,`is invalid for data of length ${wt}`)},validateFunction:u,validateInt32:C,validateInteger:b,validateNumber:function Y(Ne,We,Ye=void 0,wt){if("number"!=typeof Ne)throw new B(We,"number",Ne);if(null!=Ye&&Ne<Ye||null!=wt&&Ne>wt||(null!=Ye||null!=wt)&&T(Ne))throw new X(We,`${null!=Ye?`>= ${Ye}`:""}${null!=Ye&&null!=wt?" && ":""}${null!=wt?`<= ${wt}`:""}`,Ne)},validateObject:J,validateOneOf:F,validatePlainFunction:xe,validatePort:function He(Ne,We="Port",Ye=!0){if("number"!=typeof Ne&&"string"!=typeof Ne||"string"==typeof Ne&&0===P(Ne).length||+Ne!=+Ne>>>0||Ne>65535||0===Ne&&!Ye)throw new G(We,Ne,Ye);return 0|Ne},validateSignalName:function Le(Ne,We="signal"){if(V(Ne,We),void 0===me[Ne])throw void 0!==me[M(Ne)]?new Q(Ne+" (signals must use all capital letters)"):new Q(Ne)},validateString:V,validateUint32:D,validateUndefined:be,validateUnion:function _e(Ne,We,Ye){if(!$(Ye,Ne))throw new B(We,`('${U(Ye,"|")}')`,Ne)},validateAbortSignal:Te,validateLinkHeaderValue:function ze(Ne){if("string"==typeof Ne)return ke(Ne,"hints"),Ne;if(O(Ne)){const We=Ne.length;let Ye="";if(0===We)return Ye;for(let wt=0;wt<We;wt++){const mt=Ne[wt];ke(mt,"hints"),Ye+=mt,wt!==We-1&&(Ye+=", ")}return Ye}throw new q("hints",Ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(ye,I,A)=>{"use strict";const O=A(3052),$=A(19905),U=O.Readable.destroy;ye.exports=O.Readable,ye.exports._uint8ArrayToBuffer=O._uint8ArrayToBuffer,ye.exports._isUint8Array=O._isUint8Array,ye.exports.isDisturbed=O.isDisturbed,ye.exports.isErrored=O.isErrored,ye.exports.isReadable=O.isReadable,ye.exports.Readable=O.Readable,ye.exports.Writable=O.Writable,ye.exports.Duplex=O.Duplex,ye.exports.Transform=O.Transform,ye.exports.PassThrough=O.PassThrough,ye.exports.addAbortSignal=O.addAbortSignal,ye.exports.finished=O.finished,ye.exports.destroy=O.destroy,ye.exports.destroy=U,ye.exports.pipeline=O.pipeline,ye.exports.compose=O.compose,Object.defineProperty(O,"promises",{configurable:!0,enumerable:!0,get:()=>$}),ye.exports.Stream=O.Stream,ye.exports.default=ye.exports},65109:(ye,I,A)=>{"use strict";const{format:O,inspect:$,AggregateError:U}=A(55830),K=globalThis.AggregateError||U,y=Symbol("kIsNodeError"),T=["string","function","number","object","Function","Object","boolean","bigint","symbol"],w=/^([A-Z][a-z0-9]*)+$/,R={};function k(B,q){if(!B)throw new R.ERR_INTERNAL_ASSERTION(q)}function v(B){let q="",X=B.length;const Q="-"===B[0]?1:0;for(;X>=Q+4;X-=3)q=`_${B.slice(X-3,X)}${q}`;return`${B.slice(0,X)}${q}`}function M(B,q,X){X||(X=Error);class Q extends X{constructor(...ie){super(function N(B,q,X){if("function"==typeof q)return k(q.length<=X.length,`Code: ${B}; The provided arguments length (${X.length}) does not match the required ones (${q.length}).`),q(...X);const Q=(q.match(/%[dfijoOs]/g)||[]).length;return k(Q===X.length,`Code: ${B}; The provided arguments length (${X.length}) does not match the required ones (${Q}).`),0===X.length?q:O(q,...X)}(B,q,ie))}toString(){return`${this.name} [${B}]: ${this.message}`}}Object.defineProperties(Q.prototype,{name:{value:X.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${B}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Q.prototype.code=B,Q.prototype[y]=!0,R[B]=Q}function P(B){return Object.defineProperty(B,"name",{value:"__node_internal_"+B.name}),B}class G extends Error{constructor(q="The operation was aborted",X=void 0){if(void 0!==X&&"object"!=typeof X)throw new R.ERR_INVALID_ARG_TYPE("options","Object",X);super(q,X),this.code="ABORT_ERR",this.name="AbortError"}}M("ERR_ASSERTION","%s",Error),M("ERR_INVALID_ARG_TYPE",(B,q,X)=>{k("string"==typeof B,"'name' must be a string"),Array.isArray(q)||(q=[q]);let Q="The ";B.endsWith(" argument")?Q+=`${B} `:Q+=`"${B}" ${B.includes(".")?"property":"argument"} `,Q+="must be ";const te=[],ie=[],ae=[];for(const ge of q)k("string"==typeof ge,"All expected entries have to be of type string"),T.includes(ge)?te.push(ge.toLowerCase()):w.test(ge)?ie.push(ge):(k("object"!==ge,'The value "object" should be written as "Object"'),ae.push(ge));if(ie.length>0){const ge=te.indexOf("object");-1!==ge&&(te.splice(te,ge,1),ie.push("Object"))}if(te.length>0){switch(te.length){case 1:Q+=`of type ${te[0]}`;break;case 2:Q+=`one of type ${te[0]} or ${te[1]}`;break;default:{const ge=te.pop();Q+=`one of type ${te.join(", ")}, or ${ge}`}}(ie.length>0||ae.length>0)&&(Q+=" or ")}if(ie.length>0){switch(ie.length){case 1:Q+=`an instance of ${ie[0]}`;break;case 2:Q+=`an instance of ${ie[0]} or ${ie[1]}`;break;default:{const ge=ie.pop();Q+=`an instance of ${ie.join(", ")}, or ${ge}`}}ae.length>0&&(Q+=" or ")}switch(ae.length){case 0:break;case 1:ae[0].toLowerCase()!==ae[0]&&(Q+="an "),Q+=`${ae[0]}`;break;case 2:Q+=`one of ${ae[0]} or ${ae[1]}`;break;default:{const ge=ae.pop();Q+=`one of ${ae.join(", ")}, or ${ge}`}}if(null==X)Q+=`. Received ${X}`;else if("function"==typeof X&&X.name)Q+=`. Received function ${X.name}`;else if("object"==typeof X){var me;null!==(me=X.constructor)&&void 0!==me&&me.name?Q+=`. Received an instance of ${X.constructor.name}`:Q+=`. Received ${$(X,{depth:-1})}`}else{let ge=$(X,{colors:!1});ge.length>25&&(ge=`${ge.slice(0,25)}...`),Q+=`. Received type ${typeof X} (${ge})`}return Q},TypeError),M("ERR_INVALID_ARG_VALUE",(B,q,X="is invalid")=>{let Q=$(q);return Q.length>128&&(Q=Q.slice(0,128)+"..."),`The ${B.includes(".")?"property":"argument"} '${B}' ${X}. Received ${Q}`},TypeError),M("ERR_INVALID_RETURN_VALUE",(B,q,X)=>{var Q;return`Expected ${B} to be returned from the "${q}" function but got ${null!=X&&null!==(Q=X.constructor)&&void 0!==Q&&Q.name?`instance of ${X.constructor.name}`:"type "+typeof X}.`},TypeError),M("ERR_MISSING_ARGS",(...B)=>{let q;k(B.length>0,"At least one arg needs to be specified");const X=B.length;switch(B=(Array.isArray(B)?B:[B]).map(Q=>`"${Q}"`).join(" or "),X){case 1:q+=`The ${B[0]} argument`;break;case 2:q+=`The ${B[0]} and ${B[1]} arguments`;break;default:{const Q=B.pop();q+=`The ${B.join(", ")}, and ${Q} arguments`}}return`${q} must be specified`},TypeError),M("ERR_OUT_OF_RANGE",(B,q,X)=>{let Q;return k(q,'Missing "range" argument'),Number.isInteger(X)&&Math.abs(X)>2**32?Q=v(String(X)):"bigint"==typeof X?(Q=String(X),(X>2n**32n||X<-(2n**32n))&&(Q=v(Q)),Q+="n"):Q=$(X),`The value of "${B}" is out of range. It must be ${q}. Received ${Q}`},RangeError),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),M("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),M("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),M("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),M("ERR_STREAM_WRITE_AFTER_END","write after end",Error),M("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ye.exports={AbortError:G,aggregateTwoErrors:P(function L(B,q){if(B&&q&&B!==q){if(Array.isArray(q.errors))return q.errors.push(B),q;const X=new K([q,B],q.message);return X.code=q.code,X}return B||q}),hideStackFrames:P,codes:R}},43856:ye=>{"use strict";ye.exports={ArrayIsArray:I=>Array.isArray(I),ArrayPrototypeIncludes:(I,A)=>I.includes(A),ArrayPrototypeIndexOf:(I,A)=>I.indexOf(A),ArrayPrototypeJoin:(I,A)=>I.join(A),ArrayPrototypeMap:(I,A)=>I.map(A),ArrayPrototypePop:(I,A)=>I.pop(A),ArrayPrototypePush:(I,A)=>I.push(A),ArrayPrototypeSlice:(I,A,O)=>I.slice(A,O),Error,FunctionPrototypeCall:(I,A,...O)=>I.call(A,...O),FunctionPrototypeSymbolHasInstance:(I,A)=>Function.prototype[Symbol.hasInstance].call(I,A),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(I,A)=>Object.defineProperties(I,A),ObjectDefineProperty:(I,A,O)=>Object.defineProperty(I,A,O),ObjectGetOwnPropertyDescriptor:(I,A)=>Object.getOwnPropertyDescriptor(I,A),ObjectKeys:I=>Object.keys(I),ObjectSetPrototypeOf:(I,A)=>Object.setPrototypeOf(I,A),Promise,PromisePrototypeCatch:(I,A)=>I.catch(A),PromisePrototypeThen:(I,A,O)=>I.then(A,O),PromiseReject:I=>Promise.reject(I),PromiseResolve:I=>Promise.resolve(I),ReflectApply:Reflect.apply,RegExpPrototypeTest:(I,A)=>I.test(A),SafeSet:Set,String,StringPrototypeSlice:(I,A,O)=>I.slice(A,O),StringPrototypeToLowerCase:I=>I.toLowerCase(),StringPrototypeToUpperCase:I=>I.toUpperCase(),StringPrototypeTrim:I=>I.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(I,A,O)=>I.set(A,O),Boolean,Uint8Array}},55830:(ye,I,A)=>{"use strict";var O=A(29293).default;const $=A(89565),{kResistStopPropagation:U,SymbolDispose:K}=A(43856),y=globalThis.AbortSignal||A(9465).AbortSignal,T=globalThis.AbortController||A(9465).AbortController,w=Object.getPrototypeOf(O(function*(){})).constructor,x=globalThis.Blob||$.Blob,R=typeof x<"u"?function(P){return P instanceof x}:function(P){return!1},k=(M,P)=>{if(void 0!==M&&(null===M||"object"!=typeof M||!("aborted"in M)))throw new ERR_INVALID_ARG_TYPE(P,"AbortSignal",M)};class N extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let L="";for(let G=0;G<P.length;G++)L+=`    ${P[G].stack}\n`;super(L),this.name="AggregateError",this.errors=P}}ye.exports={AggregateError:N,kEmptyObject:Object.freeze({}),once(M){let P=!1;return function(...L){P||(P=!0,M.apply(this,L))}},createDeferredPromise:function(){let M,P;return{promise:new Promise((G,B)=>{M=G,P=B}),resolve:M,reject:P}},promisify:M=>new Promise((P,L)=>{M((G,...B)=>G?L(G):P(...B))}),debuglog:()=>function(){},format:(M,...P)=>M.replace(/%([sdifj])/g,function(...[L,G]){const B=P.shift();return"f"===G?B.toFixed(6):"j"===G?JSON.stringify(B):"s"===G&&"object"==typeof B?`${B.constructor!==Object?B.constructor.name:""} {}`.trim():B.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof w,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:R,deprecate:(M,P)=>M,addAbortListener:A(44356).addAbortListener||function(P,L){if(void 0===P)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",P);let G;return k(P,"signal"),(M=>{if("function"!=typeof M)throw new ERR_INVALID_ARG_TYPE("listener","Function",M)})(L),P.aborted?queueMicrotask(()=>L()):(P.addEventListener("abort",L,{__proto__:null,once:!0,[U]:!0}),G=()=>{P.removeEventListener("abort",L)}),{__proto__:null,[K](){var B;null===(B=G)||void 0===B||B()}}},AbortSignalAny:y.any||function(P){if(1===P.length)return P[0];const L=new T,G=()=>L.abort();return P.forEach(B=>{k(B,"signals"),B.addEventListener("abort",G,{once:!0})}),L.signal.addEventListener("abort",()=>{P.forEach(B=>B.removeEventListener("abort",G))},{once:!0}),L.signal}},ye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(ye,I,A)=>{const{Buffer:O}=A(89565),{ObjectDefineProperty:$,ObjectKeys:U,ReflectApply:K}=A(43856),{promisify:{custom:y}}=A(55830),{streamReturningOperators:T,promiseReturningOperators:w}=A(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:x}}=A(65109),R=A(5464),{setDefaultHighWaterMark:k,getDefaultHighWaterMark:v}=A(31081),{pipeline:N}=A(96208),{destroyer:M}=A(45078),P=A(44268),G=A(19905),B=A(51233),q=ye.exports=A(2649).Stream;q.isDestroyed=B.isDestroyed,q.isDisturbed=B.isDisturbed,q.isErrored=B.isErrored,q.isReadable=B.isReadable,q.isWritable=B.isWritable,q.Readable=A(29710);for(const te of U(T)){let ae=function(...me){if(new.target)throw x();return q.Readable.from(K(ie,this,me))};const ie=T[te];$(ae,"name",{__proto__:null,value:ie.name}),$(ae,"length",{__proto__:null,value:ie.length}),$(q.Readable.prototype,te,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const te of U(w)){let ae=function(...ge){if(new.target)throw x();return K(ie,this,ge)};const ie=w[te];$(ae,"name",{__proto__:null,value:ie.name}),$(ae,"length",{__proto__:null,value:ie.length}),$(q.Readable.prototype,te,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=A(40258),q.Duplex=A(97464),q.Transform=A(66344),q.PassThrough=A(70874),q.pipeline=N;const{addAbortSignal:X}=A(24785);q.addAbortSignal=X,q.finished=P,q.destroy=M,q.compose=R,q.setDefaultHighWaterMark=k,q.getDefaultHighWaterMark=v,$(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),$(N,y,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),$(P,y,{__proto__:null,enumerable:!0,get:()=>G.finished}),q.Stream=q,q._isUint8Array=function(ie){return ie instanceof Uint8Array},q._uint8ArrayToBuffer=function(ie){return O.from(ie.buffer,ie.byteOffset,ie.byteLength)}},19905:(ye,I,A)=>{"use strict";const{ArrayPrototypePop:O,Promise:$}=A(43856),{isIterable:U,isNodeStream:K,isWebStream:y}=A(51233),{pipelineImpl:T}=A(96208),{finished:w}=A(44268);A(3052),ye.exports={finished:w,pipeline:function x(...R){return new $((k,v)=>{let N,M;const P=R[R.length-1];if(P&&"object"==typeof P&&!K(P)&&!U(P)&&!y(P)){const L=O(R);N=L.signal,M=L.end}T(R,(L,G)=>{L?v(L):k(G)},{signal:N,end:M})})}}},9465:ye=>{"use strict";const{AbortController:I,AbortSignal:A}=typeof self<"u"?self:typeof window<"u"?window:void 0;ye.exports=I,ye.exports.AbortSignal=A,ye.exports.default=I},91463:(ye,I,A)=>{"use strict";const{fromCallback:O}=A(42381),$=A(61747),{getCallback:U,getOptions:K}=A(32856),y=Symbol("promise"),T=Symbol("status"),w=Symbol("operations"),x=Symbol("finishClose"),R=Symbol("closeCallbacks");I.AbstractChainedBatch=class k{constructor(N){if("object"!=typeof N||null===N)throw new TypeError("The first argument must be an abstract-level database, received "+(null===N?"null":typeof N));this[w]=[],this[R]=[],this[T]="open",this[x]=this[x].bind(this),this.db=N,this.db.attachResource(this),this.nextTick=N.nextTick}get length(){return this[w].length}put(N,M,P){if("open"!==this[T])throw new $("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const L=this.db._checkKey(N)||this.db._checkValue(M);if(L)throw L;const G=P&&null!=P.sublevel?P.sublevel:this.db,B=P,q=G.keyEncoding(P&&P.keyEncoding),X=G.valueEncoding(P&&P.valueEncoding),Q=q.format;P={...P,keyEncoding:Q,valueEncoding:X.format},G!==this.db&&(P.sublevel=null);const te=G.prefixKey(q.encode(N),Q),ie=X.encode(M);return this._put(te,ie,P),this[w].push({...B,type:"put",key:N,value:M}),this}_put(N,M,P){}del(N,M){if("open"!==this[T])throw new $("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const P=this.db._checkKey(N);if(P)throw P;const L=M&&null!=M.sublevel?M.sublevel:this.db,G=M,B=L.keyEncoding(M&&M.keyEncoding),q=B.format;return M={...M,keyEncoding:q},L!==this.db&&(M.sublevel=null),this._del(L.prefixKey(B.encode(N),q),M),this[w].push({...G,type:"del",key:N}),this}_del(N,M){}clear(){if("open"!==this[T])throw new $("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[w]=[],this}_clear(){}write(N,M){return M=U(N,M),M=O(M,y),N=K(N),"open"!==this[T]?this.nextTick(M,new $("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(M):(this[T]="writing",this._write(N,P=>{this[T]="closing",this[R].push(()=>M(P)),P||this.db.emit("batch",this[w]),this._close(this[x])})),M[y]}_write(N,M){}close(N){return N=O(N,y),"closing"===this[T]?this[R].push(N):"closed"===this[T]?this.nextTick(N):(this[R].push(N),"writing"!==this[T]&&(this[T]="closing",this._close(this[x]))),N[y]}_close(N){this.nextTick(N)}[x](){this[T]="closed",this.db.detachResource(this);const N=this[R];this[R]=[];for(const M of N)M()}}},63294:(ye,I,A)=>{"use strict";var O=A(53344).default,$=A(42958).default;const{fromCallback:U}=A(42381),K=A(61747),{getOptions:y,getCallback:T}=A(32856),w=Symbol("promise"),x=Symbol("callback"),R=Symbol("working"),k=Symbol("handleOne"),v=Symbol("handleMany"),N=Symbol("autoClose"),M=Symbol("finishWork"),P=Symbol("returnMany"),L=Symbol("closing"),G=Symbol("handleClose"),B=Symbol("closed"),q=Symbol("closeCallbacks"),X=Symbol("keyEncoding"),Q=Symbol("valueEncoding"),te=Symbol("abortOnClose"),ie=Symbol("legacy"),ae=Symbol("keys"),me=Symbol("values"),ge=Symbol("limit"),de=Symbol("count"),z=Object.freeze({}),d=()=>{};let f=!1;class b{constructor(h,g,J){if("object"!=typeof h||null===h)throw new TypeError("The first argument must be an abstract-level database, received "+(null===h?"null":typeof h));if("object"!=typeof g||null===g)throw new TypeError("The second argument must be an options object");this[B]=!1,this[q]=[],this[R]=!1,this[L]=!1,this[N]=!1,this[x]=null,this[k]=this[k].bind(this),this[v]=this[v].bind(this),this[G]=this[G].bind(this),this[X]=g[X],this[Q]=g[Q],this[ie]=J,this[ge]=Number.isInteger(g.limit)&&g.limit>=0?g.limit:1/0,this[de]=0,this[te]=!!g.abortOnClose,this.db=h,this.db.attachResource(this),this.nextTick=h.nextTick}get count(){return this[de]}get limit(){return this[ge]}next(h){let g;if(void 0===h)g=new Promise((J,ee)=>{h=(re,fe,Ae)=>{re?ee(re):this[ie]?void 0===fe&&void 0===Ae?J():J([fe,Ae]):J(fe)}});else if("function"!=typeof h)throw new TypeError("Callback must be a function");return this[L]?this.nextTick(h,new K("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(h,new K("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[x]=h,this[de]>=this[ge]?this.nextTick(this[k],null):this._next(this[k])),g}_next(h){this.nextTick(h)}nextv(h,g,J){return J=T(g,J),J=U(J,w),g=y(g,z),Number.isInteger(h)?(this[L]?this.nextTick(J,new K("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(J,new K("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(h<1&&(h=1),this[ge]<1/0&&(h=Math.min(h,this[ge]-this[de])),this[R]=!0,this[x]=J,h<=0?this.nextTick(this[v],null,[]):this._nextv(h,g,this[v])),J[w]):(this.nextTick(J,new TypeError("The first argument 'size' must be an integer")),J[w])}_nextv(h,g,J){const ee=[],re=(fe,Ae,Me)=>fe?J(fe):(this[ie]?void 0===Ae&&void 0===Me:void 0===Ae)?J(null,ee):(ee.push(this[ie]?[Ae,Me]:Ae),void(ee.length===h?J(null,ee):this._next(re)));this._next(re)}all(h,g){return g=T(h,g),g=U(g,w),h=y(h,z),this[L]?this.nextTick(g,new K("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(g,new K("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[x]=g,this[N]=!0,this[de]>=this[ge]?this.nextTick(this[v],null,[]):this._all(h,this[v])),g[w]}_all(h,g){let J=this[de];const ee=[],re=()=>{const Ae=this[ge]<1/0?Math.min(1e3,this[ge]-J):1e3;Ae<=0?this.nextTick(g,null,ee):this._nextv(Ae,z,fe)},fe=(Ae,Me)=>{Ae?g(Ae):0===Me.length?g(null,ee):(ee.push.apply(ee,Me),J+=Me.length,re())};re()}[M](){const h=this[x];return this[te]&&null===h?d:(this[R]=!1,this[x]=null,this[L]&&this._close(this[G]),h)}[P](h,g,J){this[N]?this.close(h.bind(null,g,J)):h(g,J)}seek(h,g){if(g=y(g,z),!this[L]){if(this[R])throw new K("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const J=this.db.keyEncoding(g.keyEncoding||this[X]),ee=J.format;g.keyEncoding!==ee&&(g={...g,keyEncoding:ee});const re=this.db.prefixKey(J.encode(h),ee);this._seek(re,g)}}}_seek(h,g){throw new K("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(h){return h=U(h,w),this[B]?this.nextTick(h):this[L]?this[q].push(h):(this[L]=!0,this[q].push(h),this[R]?this[te]&&this[M]()(new K("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[G])),h[w]}_close(h){this.nextTick(h)}[G](){this[B]=!0,this.db.detachResource(this);const h=this[q];this[q]=[];for(const g of h)g()}[Symbol.asyncIterator](){var h=this;return $(function*(){try{let g;for(;void 0!==(g=yield O(h.next()));)yield g}finally{h[B]||(yield O(h.close()))}})()}}class C extends b{constructor(h,g){super(h,g,!0),this[ae]=!1!==g.keys,this[me]=!1!==g.values}[k](h,g,J){const ee=this[M]();if(h)return ee(h);try{g=this[ae]&&void 0!==g?this[X].decode(g):void 0,J=this[me]&&void 0!==J?this[Q].decode(J):void 0}catch(re){return ee(new Y("entry",re))}void 0===g&&void 0===J||this[de]++,ee(null,g,J)}[v](h,g){const J=this[M]();if(h)return this[P](J,h);try{for(const ee of g){const re=ee[0],fe=ee[1];ee[0]=this[ae]&&void 0!==re?this[X].decode(re):void 0,ee[1]=this[me]&&void 0!==fe?this[Q].decode(fe):void 0}}catch(ee){return this[P](J,new Y("entries",ee))}this[de]+=g.length,this[P](J,null,g)}end(h){return!f&&typeof console<"u"&&(f=!0,console.warn(new K("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(h)}}class Y extends K{constructor(h,g){super(`Iterator could not decode ${h}`,{code:"LEVEL_DECODE_ERROR",cause:g})}}for(const F of["_ended property","_nexting property","_end method"])Object.defineProperty(C.prototype,F.split(" ")[0],{get(){throw new K(`The ${F} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new K(`The ${F} has been removed`,{code:"LEVEL_LEGACY"})}});C.keyEncoding=X,C.valueEncoding=Q,I.AbstractIterator=C,I.AbstractKeyIterator=class D extends b{constructor(h,g){super(h,g,!1)}[k](h,g){const J=this[M]();if(h)return J(h);try{g=void 0!==g?this[X].decode(g):void 0}catch(ee){return J(new Y("key",ee))}void 0!==g&&this[de]++,J(null,g)}[v](h,g){const J=this[M]();if(h)return this[P](J,h);try{for(let ee=0;ee<g.length;ee++){const re=g[ee];g[ee]=void 0!==re?this[X].decode(re):void 0}}catch(ee){return this[P](J,new Y("keys",ee))}this[de]+=g.length,this[P](J,null,g)}},I.AbstractValueIterator=class V extends b{constructor(h,g){super(h,g,!1)}[k](h,g){const J=this[M]();if(h)return J(h);try{g=void 0!==g?this[Q].decode(g):void 0}catch(ee){return J(new Y("value",ee))}void 0!==g&&this[de]++,J(null,g)}[v](h,g){const J=this[M]();if(h)return this[P](J,h);try{for(let ee=0;ee<g.length;ee++){const re=g[ee];g[ee]=void 0!==re?this[Q].decode(re):void 0}}catch(ee){return this[P](J,new Y("values",ee))}this[de]+=g.length,this[P](J,null,g)}}},83764:(ye,I,A)=>{"use strict";const{supports:O}=A(89061),{Transcoder:$}=A(25006),{EventEmitter:U}=A(44356),{fromCallback:K}=A(42381),y=A(61747),{AbstractIterator:T}=A(63294),{DefaultKeyIterator:w,DefaultValueIterator:x}=A(48335),{DeferredIterator:R,DeferredKeyIterator:k,DeferredValueIterator:v}=A(92745),{DefaultChainedBatch:N}=A(45776),{getCallback:M,getOptions:P}=A(32856),L=A(4287),G=Symbol("promise"),B=Symbol("landed"),q=Symbol("resources"),X=Symbol("closeResources"),Q=Symbol("operations"),te=Symbol("undefer"),ie=Symbol("deferOpen"),ae=Symbol("options"),me=Symbol("status"),ge=Symbol("defaultOptions"),de=Symbol("transcoder"),z=Symbol("keyEncoding"),d=Symbol("valueEncoding"),f=()=>{};class b extends U{constructor(F,h){if(super(),"object"!=typeof F||null===F)throw new TypeError("The first argument 'manifest' must be an object");h=P(h);const{keyEncoding:g,valueEncoding:J,passive:ee,...re}=h;this[q]=new Set,this[Q]=[],this[ie]=!0,this[ae]=re,this[me]="opening",this.supports=O(F,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==F.snapshots,permanence:!1!==F.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:F.encodings||{},events:Object.assign({},F.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[de]=new $(V(this)),this[z]=this[de].encoding(g||"utf8"),this[d]=this[de].encoding(J||"utf8");for(const fe of this[de].encodings())this.supports.encodings[fe.commonName]||(this.supports.encodings[fe.commonName]=!0);this[ge]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[z].commonName,valueEncoding:this[d].commonName}),key:Object.freeze({keyEncoding:this[z].commonName})},this.nextTick(()=>{this[ie]&&this.open({passive:!1},f)})}get status(){return this[me]}keyEncoding(F){return this[de].encoding(F??this[z])}valueEncoding(F){return this[de].encoding(F??this[d])}open(F,h){h=M(F,h),h=K(h,G),(F={...this[ae],...P(F)}).createIfMissing=!1!==F.createIfMissing,F.errorIfExists=!!F.errorIfExists;const g=J=>{"closing"===this[me]||"opening"===this[me]?this.once(B,J?()=>g(J):g):"open"!==this[me]?h(new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:J})):h()};return F.passive?"opening"===this[me]?this.once(B,g):this.nextTick(g):"closed"===this[me]||this[ie]?(this[ie]=!1,this[me]="opening",this.emit("opening"),this._open(F,J=>{if(J)return this[me]="closed",this[X](()=>{this.emit(B),g(J)}),void this[te]();this[me]="open",this[te](),this.emit(B),"open"===this[me]&&this.emit("open"),"open"===this[me]&&this.emit("ready"),g()})):"open"===this[me]?this.nextTick(g):this.once(B,()=>this.open(F,h)),h[G]}_open(F,h){this.nextTick(h)}close(F){F=K(F,G);const h=g=>{"opening"===this[me]||"closing"===this[me]?this.once(B,g?h(g):h):"closed"!==this[me]?F(new y("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:g})):F()};if("open"===this[me]){this[me]="closing",this.emit("closing");const g=J=>{this[me]="open",this[te](),this.emit(B),h(J)};this[X](()=>{this._close(J=>{if(J)return g(J);this[me]="closed",this[te](),this.emit(B),"closed"===this[me]&&this.emit("closed"),h()})})}else"closed"===this[me]?this.nextTick(h):this.once(B,()=>this.close(F));return F[G]}[X](F){if(0===this[q].size)return this.nextTick(F);let h=this[q].size,g=!0;const J=()=>{0==--h&&(g?this.nextTick(F):F())};for(const ee of this[q])ee.close(J);g=!1,this[q].clear()}_close(F){this.nextTick(F)}get(F,h,g){if(g=M(h,g),g=K(g,G),h=P(h,this[ge].entry),"opening"===this[me])return this.defer(()=>this.get(F,h,g)),g[G];if(D(this,g))return g[G];const J=this._checkKey(F);if(J)return this.nextTick(g,J),g[G];const ee=this.keyEncoding(h.keyEncoding),re=this.valueEncoding(h.valueEncoding),fe=ee.format,Ae=re.format;return(h.keyEncoding!==fe||h.valueEncoding!==Ae)&&(h=Object.assign({},h,{keyEncoding:fe,valueEncoding:Ae})),this._get(this.prefixKey(ee.encode(F),fe),h,(Me,Le)=>{if(Me)return("LEVEL_NOT_FOUND"===Me.code||Me.notFound||/NotFound/i.test(Me))&&(Me.code||(Me.code="LEVEL_NOT_FOUND"),Me.notFound||(Me.notFound=!0),Me.status||(Me.status=404)),g(Me);try{Le=re.decode(Le)}catch(Ee){return g(new y("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Ee}))}g(null,Le)}),g[G]}_get(F,h,g){this.nextTick(g,new Error("NotFound"))}getMany(F,h,g){if(g=M(h,g),g=K(g,G),h=P(h,this[ge].entry),"opening"===this[me])return this.defer(()=>this.getMany(F,h,g)),g[G];if(D(this,g))return g[G];if(!Array.isArray(F))return this.nextTick(g,new TypeError("The first argument 'keys' must be an array")),g[G];if(0===F.length)return this.nextTick(g,null,[]),g[G];const J=this.keyEncoding(h.keyEncoding),ee=this.valueEncoding(h.valueEncoding),re=J.format,fe=ee.format;(h.keyEncoding!==re||h.valueEncoding!==fe)&&(h=Object.assign({},h,{keyEncoding:re,valueEncoding:fe}));const Ae=new Array(F.length);for(let Me=0;Me<F.length;Me++){const Le=F[Me],Ee=this._checkKey(Le);if(Ee)return this.nextTick(g,Ee),g[G];Ae[Me]=this.prefixKey(J.encode(Le),re)}return this._getMany(Ae,h,(Me,Le)=>{if(Me)return g(Me);try{for(let Ee=0;Ee<Le.length;Ee++)void 0!==Le[Ee]&&(Le[Ee]=ee.decode(Le[Ee]))}catch(Ee){return g(new y(`Could not decode one or more of ${Le.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Ee}))}g(null,Le)}),g[G]}_getMany(F,h,g){this.nextTick(g,null,new Array(F.length).fill(void 0))}put(F,h,g,J){if(J=M(g,J),J=K(J,G),g=P(g,this[ge].entry),"opening"===this[me])return this.defer(()=>this.put(F,h,g,J)),J[G];if(D(this,J))return J[G];const ee=this._checkKey(F)||this._checkValue(h);if(ee)return this.nextTick(J,ee),J[G];const re=this.keyEncoding(g.keyEncoding),fe=this.valueEncoding(g.valueEncoding),Ae=re.format,Me=fe.format;(g.keyEncoding!==Ae||g.valueEncoding!==Me)&&(g=Object.assign({},g,{keyEncoding:Ae,valueEncoding:Me}));const Le=this.prefixKey(re.encode(F),Ae),Ee=fe.encode(h);return this._put(Le,Ee,g,Se=>{if(Se)return J(Se);this.emit("put",F,h),J()}),J[G]}_put(F,h,g,J){this.nextTick(J)}del(F,h,g){if(g=M(h,g),g=K(g,G),h=P(h,this[ge].key),"opening"===this[me])return this.defer(()=>this.del(F,h,g)),g[G];if(D(this,g))return g[G];const J=this._checkKey(F);if(J)return this.nextTick(g,J),g[G];const ee=this.keyEncoding(h.keyEncoding),re=ee.format;return h.keyEncoding!==re&&(h=Object.assign({},h,{keyEncoding:re})),this._del(this.prefixKey(ee.encode(F),re),h,fe=>{if(fe)return g(fe);this.emit("del",F),g()}),g[G]}_del(F,h,g){this.nextTick(g)}batch(F,h,g){if(!arguments.length){if("opening"===this[me])return new N(this);if("open"!==this[me])throw new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(g="function"==typeof F?F:M(h,g),g=K(g,G),h=P(h,this[ge].empty),"opening"===this[me])return this.defer(()=>this.batch(F,h,g)),g[G];if(D(this,g))return g[G];if(!Array.isArray(F))return this.nextTick(g,new TypeError("The first argument 'operations' must be an array")),g[G];if(0===F.length)return this.nextTick(g),g[G];const J=new Array(F.length),{keyEncoding:ee,valueEncoding:re,...fe}=h;for(let Ae=0;Ae<F.length;Ae++){if("object"!=typeof F[Ae]||null===F[Ae])return this.nextTick(g,new TypeError("A batch operation must be an object")),g[G];const Me=Object.assign({},F[Ae]);if("put"!==Me.type&&"del"!==Me.type)return this.nextTick(g,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),g[G];const Le=this._checkKey(Me.key);if(Le)return this.nextTick(g,Le),g[G];const Ee=null!=Me.sublevel?Me.sublevel:this,Se=Ee.keyEncoding(Me.keyEncoding||ee),He=Se.format;if(Me.key=Ee.prefixKey(Se.encode(Me.key),He),Me.keyEncoding=He,"put"===Me.type){const Te=this._checkValue(Me.value);if(Te)return this.nextTick(g,Te),g[G];const u=Ee.valueEncoding(Me.valueEncoding||re);Me.value=u.encode(Me.value),Me.valueEncoding=u.format}Ee!==this&&(Me.sublevel=null),J[Ae]=Me}return this._batch(J,fe,Ae=>{if(Ae)return g(Ae);this.emit("batch",F),g()}),g[G]}_batch(F,h,g){this.nextTick(g)}sublevel(F,h){return this._sublevel(F,C.defaults(h))}_sublevel(F,h){return new C(this,F,h)}prefixKey(F,h){return F}clear(F,h){if(h=M(F,h),h=K(h,G),F=P(F,this[ge].empty),"opening"===this[me])return this.defer(()=>this.clear(F,h)),h[G];if(D(this,h))return h[G];const g=F,J=this.keyEncoding(F.keyEncoding);return(F=L(F,J)).keyEncoding=J.format,0===F.limit?this.nextTick(h):this._clear(F,ee=>{if(ee)return h(ee);this.emit("clear",g),h()}),h[G]}_clear(F,h){this.nextTick(h)}iterator(F){const h=this.keyEncoding(F&&F.keyEncoding),g=this.valueEncoding(F&&F.valueEncoding);if((F=L(F,h)).keys=!1!==F.keys,F.values=!1!==F.values,F[T.keyEncoding]=h,F[T.valueEncoding]=g,F.keyEncoding=h.format,F.valueEncoding=g.format,"opening"===this[me])return new R(this,F);if("open"!==this[me])throw new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(F)}_iterator(F){return new T(this,F)}keys(F){const h=this.keyEncoding(F&&F.keyEncoding),g=this.valueEncoding(F&&F.valueEncoding);if((F=L(F,h))[T.keyEncoding]=h,F[T.valueEncoding]=g,F.keyEncoding=h.format,F.valueEncoding=g.format,"opening"===this[me])return new k(this,F);if("open"!==this[me])throw new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(F)}_keys(F){return new w(this,F)}values(F){const h=this.keyEncoding(F&&F.keyEncoding),g=this.valueEncoding(F&&F.valueEncoding);if((F=L(F,h))[T.keyEncoding]=h,F[T.valueEncoding]=g,F.keyEncoding=h.format,F.valueEncoding=g.format,"opening"===this[me])return new v(this,F);if("open"!==this[me])throw new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(F)}_values(F){return new x(this,F)}defer(F){if("function"!=typeof F)throw new TypeError("The first argument must be a function");this[Q].push(F)}[te](){if(0===this[Q].length)return;const F=this[Q];this[Q]=[];for(const h of F)h()}attachResource(F){if("object"!=typeof F||null===F||"function"!=typeof F.close)throw new TypeError("The first argument must be a resource object");this[q].add(F)}detachResource(F){this[q].delete(F)}_chainedBatch(){return new N(this)}_checkKey(F){if(null==F)return new y("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(F){if(null==F)return new y("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}b.prototype.nextTick=A(24585);const{AbstractSublevel:C}=A(25416)({AbstractLevel:b});I.AbstractLevel=b,I.AbstractSublevel=C;const D=function(Y,F){return"open"!==Y[me]&&(Y.nextTick(F,new y("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},V=function(Y){return Object.keys(Y.supports.encodings).filter(F=>!!Y.supports.encodings[F])}},75929:(ye,I,A)=>{"use strict";I.AbstractLevel=A(83764).AbstractLevel,I.AbstractSublevel=A(83764).AbstractSublevel,I.AbstractIterator=A(63294).AbstractIterator,I.AbstractKeyIterator=A(63294).AbstractKeyIterator,I.AbstractValueIterator=A(63294).AbstractValueIterator,I.AbstractChainedBatch=A(91463).AbstractChainedBatch},47519:(ye,I,A)=>{"use strict";const{AbstractIterator:O,AbstractKeyIterator:$,AbstractValueIterator:U}=A(63294),K=Symbol("unfix"),y=Symbol("iterator"),T=Symbol("handleOne"),w=Symbol("handleMany"),x=Symbol("callback");class R extends O{constructor(M,P,L,G){super(M,P),this[y]=L,this[K]=G,this[T]=this[T].bind(this),this[w]=this[w].bind(this),this[x]=null}[T](M,P,L){const G=this[x];if(M)return G(M);void 0!==P&&(P=this[K](P)),G(M,P,L)}[w](M,P){const L=this[x];if(M)return L(M);for(const G of P){const B=G[0];void 0!==B&&(G[0]=this[K](B))}L(M,P)}}class k extends ${constructor(M,P,L,G){super(M,P),this[y]=L,this[K]=G,this[T]=this[T].bind(this),this[w]=this[w].bind(this),this[x]=null}[T](M,P){const L=this[x];if(M)return L(M);void 0!==P&&(P=this[K](P)),L(M,P)}[w](M,P){const L=this[x];if(M)return L(M);for(let G=0;G<P.length;G++){const B=P[G];void 0!==B&&(P[G]=this[K](B))}L(M,P)}}class v extends U{constructor(M,P,L){super(M,P),this[y]=L}}for(const N of[R,k])N.prototype._next=function(M){this[x]=M,this[y].next(this[T])},N.prototype._nextv=function(M,P,L){this[x]=L,this[y].nextv(M,P,this[w])},N.prototype._all=function(M,P){this[x]=P,this[y].all(M,this[w])};for(const N of[v])N.prototype._next=function(M){this[y].next(M)},N.prototype._nextv=function(M,P,L){this[y].nextv(M,P,L)},N.prototype._all=function(M,P){this[y].all(M,P)};for(const N of[R,k,v])N.prototype._seek=function(M,P){this[y].seek(M,P)},N.prototype._close=function(M){this[y].close(M)};I.AbstractSublevelIterator=R,I.AbstractSublevelKeyIterator=k,I.AbstractSublevelValueIterator=v},25416:(ye,I,A)=>{"use strict";const O=A(61747),{Buffer:$}=A(1067)||{},{AbstractSublevelIterator:U,AbstractSublevelKeyIterator:K,AbstractSublevelValueIterator:y}=A(47519),T=Symbol("prefix"),w=Symbol("upperBound"),x=Symbol("prefixRange"),R=Symbol("parent"),k=Symbol("unfix"),v=new TextEncoder,N={separator:"!"};ye.exports=function({AbstractLevel:q}){class X extends q{static defaults(te){if("string"==typeof te)throw new O("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(te&&te.open)throw new O("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==te?N:te.separator?te:{...te,separator:"!"}}constructor(te,ie,ae){const{separator:me,manifest:ge,...de}=X.defaults(ae);ie=B(ie,me);const z=me.charCodeAt(0)+1,d=te[R]||te;if(!v.encode(ie).every(C=>C>z&&C<127))throw new O(`Prefix must use bytes > ${z} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(M(d,ge),de);const f=(te.prefix||"")+me+ie+me,b=f.slice(0,-1)+String.fromCharCode(z);this[R]=d,this[T]=new L(f),this[w]=new L(b),this[k]=new G,this.nextTick=d.nextTick}prefixKey(te,ie){if("utf8"===ie)return this[T].utf8+te;if(0===te.byteLength)return this[T][ie];if("view"===ie){const ae=this[T].view,me=new Uint8Array(ae.byteLength+te.byteLength);return me.set(ae,0),me.set(te,ae.byteLength),me}{const ae=this[T].buffer;return $.concat([ae,te],ae.byteLength+te.byteLength)}}[x](te,ie){void 0!==te.gte?te.gte=this.prefixKey(te.gte,ie):void 0!==te.gt?te.gt=this.prefixKey(te.gt,ie):te.gte=this[T][ie],void 0!==te.lte?te.lte=this.prefixKey(te.lte,ie):void 0!==te.lt?te.lt=this.prefixKey(te.lt,ie):te.lte=this[w][ie]}get prefix(){return this[T].utf8}get db(){return this[R]}_open(te,ie){this[R].open({passive:!0},ie)}_put(te,ie,ae,me){this[R].put(te,ie,ae,me)}_get(te,ie,ae){this[R].get(te,ie,ae)}_getMany(te,ie,ae){this[R].getMany(te,ie,ae)}_del(te,ie,ae){this[R].del(te,ie,ae)}_batch(te,ie,ae){this[R].batch(te,ie,ae)}_clear(te,ie){this[x](te,te.keyEncoding),this[R].clear(te,ie)}_iterator(te){this[x](te,te.keyEncoding);const ie=this[R].iterator(te),ae=this[k].get(this[T].utf8.length,te.keyEncoding);return new U(this,te,ie,ae)}_keys(te){this[x](te,te.keyEncoding);const ie=this[R].keys(te),ae=this[k].get(this[T].utf8.length,te.keyEncoding);return new K(this,te,ie,ae)}_values(te){this[x](te,te.keyEncoding);const ie=this[R].values(te);return new y(this,te,ie)}}return{AbstractSublevel:X}};const M=function(q,X){return{...q.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...X,encodings:{utf8:P(q,"utf8"),buffer:P(q,"buffer"),view:P(q,"view")}}},P=function(q,X){return!!q.supports.encodings[X]&&q.keyEncoding(X).name===X};class L{constructor(X){this.utf8=X,this.view=v.encode(X),this.buffer=$?$.from(this.view.buffer,0,this.view.byteLength):{}}}class G{constructor(){this.cache=new Map}get(X,Q){let te=this.cache.get(Q);return void 0===te&&(te="view"===Q?function(ie,ae){return ae.subarray(ie)}.bind(null,X):function(ie,ae){return ae.slice(ie)}.bind(null,X),this.cache.set(Q,te)),te}}const B=function(q,X){let Q=0,te=q.length;for(;Q<te&&q[Q]===X;)Q++;for(;te>Q&&q[te-1]===X;)te--;return q.slice(Q,te)}},32856:(ye,I)=>{"use strict";I.getCallback=function(A,O){return"function"==typeof A?A:O},I.getOptions=function(A,O){return"object"==typeof A&&null!==A?A:void 0!==O?O:{}}},45776:(ye,I,A)=>{"use strict";const{AbstractChainedBatch:O}=A(91463),$=A(61747),U=Symbol("encoded");I.DefaultChainedBatch=class K extends O{constructor(T){super(T),this[U]=[]}_put(T,w,x){this[U].push({...x,type:"put",key:T,value:w})}_del(T,w){this[U].push({...w,type:"del",key:T})}_clear(){this[U]=[]}_write(T,w){"opening"===this.db.status?this.db.defer(()=>this._write(T,w)):"open"===this.db.status?0===this[U].length?this.nextTick(w):this.db._batch(this[U],T,w):this.nextTick(w,new $("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(ye,I,A)=>{"use strict";const{AbstractKeyIterator:O,AbstractValueIterator:$}=A(63294),U=Symbol("iterator"),K=Symbol("callback"),y=Symbol("handleOne"),T=Symbol("handleMany");class w extends O{constructor(k,v){super(k,v),this[U]=k.iterator({...v,keys:!0,values:!1}),this[y]=this[y].bind(this),this[T]=this[T].bind(this)}}class x extends ${constructor(k,v){super(k,v),this[U]=k.iterator({...v,keys:!1,values:!0}),this[y]=this[y].bind(this),this[T]=this[T].bind(this)}}for(const R of[w,x]){const k=R===w,v=k?N=>N[0]:N=>N[1];R.prototype._next=function(N){this[K]=N,this[U].next(this[y])},R.prototype[y]=function(N,M,P){const L=this[K];N?L(N):L(null,k?M:P)},R.prototype._nextv=function(N,M,P){this[K]=P,this[U].nextv(N,M,this[T])},R.prototype._all=function(N,M){this[K]=M,this[U].all(N,this[T])},R.prototype[T]=function(N,M){const P=this[K];N?P(N):P(null,M.map(v))},R.prototype._seek=function(N,M){this[U].seek(N,M)},R.prototype._close=function(N){this[U].close(N)}}I.DefaultKeyIterator=w,I.DefaultValueIterator=x},92745:(ye,I,A)=>{"use strict";const{AbstractIterator:O,AbstractKeyIterator:$,AbstractValueIterator:U}=A(63294),K=A(61747),y=Symbol("nut"),T=Symbol("undefer"),w=Symbol("factory");class x extends O{constructor(N,M){super(N,M),this[y]=null,this[w]=()=>N.iterator(M),this.db.defer(()=>this[T]())}}class R extends ${constructor(N,M){super(N,M),this[y]=null,this[w]=()=>N.keys(M),this.db.defer(()=>this[T]())}}class k extends U{constructor(N,M){super(N,M),this[y]=null,this[w]=()=>N.values(M),this.db.defer(()=>this[T]())}}for(const v of[x,R,k])v.prototype[T]=function(){"open"===this.db.status&&(this[y]=this[w]())},v.prototype._next=function(N){null!==this[y]?this[y].next(N):"opening"===this.db.status?this.db.defer(()=>this._next(N)):this.nextTick(N,new K("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},v.prototype._nextv=function(N,M,P){null!==this[y]?this[y].nextv(N,M,P):"opening"===this.db.status?this.db.defer(()=>this._nextv(N,M,P)):this.nextTick(P,new K("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},v.prototype._all=function(N,M){null!==this[y]?this[y].all(M):"opening"===this.db.status?this.db.defer(()=>this._all(N,M)):this.nextTick(M,new K("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},v.prototype._seek=function(N,M){null!==this[y]?this[y]._seek(N,M):"opening"===this.db.status&&this.db.defer(()=>this._seek(N,M))},v.prototype._close=function(N){null!==this[y]?this[y].close(N):"opening"===this.db.status?this.db.defer(()=>this._close(N)):this.nextTick(N)};I.DeferredIterator=x,I.DeferredKeyIterator=R,I.DeferredValueIterator=k},24585:(ye,I,A)=>{"use strict";const O=A(24515);ye.exports=function($,...U){O(0===U.length?$:()=>$(...U))}},4287:(ye,I,A)=>{"use strict";const O=A(61747),$=Object.prototype.hasOwnProperty,U=new Set(["lt","lte","gt","gte"]);ye.exports=function(K,y){const T={};for(const w in K)if($.call(K,w)&&"keyEncoding"!==w&&"valueEncoding"!==w){if("start"===w||"end"===w)throw new O(`The legacy range option '${w}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===w)throw new O("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});T[w]=U.has(w)?y.encode(K[w]):K[w]}return T.reverse=!!T.reverse,T.limit=Number.isInteger(T.limit)&&T.limit>=0?T.limit:-1,T}},1067:(ye,I,A)=>{"use strict";const O=A(13981),$=A(22020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=w,I.SlowBuffer=function q(se){return+se!=se&&(se=0),w.alloc(+se)},I.INSPECT_MAX_BYTES=50;const K=2147483647;function T(se){if(se>K)throw new RangeError('The value "'+se+'" is invalid for option "size"');const W=new Uint8Array(se);return Object.setPrototypeOf(W,w.prototype),W}function w(se,W,Z){if("number"==typeof se){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(se)}return x(se,W,Z)}function x(se,W,Z){if("string"==typeof se)return function N(se,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!w.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const Z=0|X(se,W);let he=T(Z);const De=he.write(se,W);return De!==Z&&(he=he.slice(0,De)),he}(se,W);if(ArrayBuffer.isView(se))return function P(se){if(Ye(se,Uint8Array)){const W=new Uint8Array(se);return L(W.buffer,W.byteOffset,W.byteLength)}return M(se)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ye(se,ArrayBuffer)||se&&Ye(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(se,SharedArrayBuffer)||se&&Ye(se.buffer,SharedArrayBuffer)))return L(se,W,Z);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');const he=se.valueOf&&se.valueOf();if(null!=he&&he!==se)return w.from(he,W,Z);const De=function G(se){if(w.isBuffer(se)){const W=0|B(se.length),Z=T(W);return 0===Z.length||se.copy(Z,0,0,W),Z}return void 0!==se.length?"number"!=typeof se.length||wt(se.length)?T(0):M(se):"Buffer"===se.type&&Array.isArray(se.data)?M(se.data):void 0}(se);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return w.from(se[Symbol.toPrimitive]("string"),W,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function R(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function v(se){return R(se),T(se<0?0:0|B(se))}function M(se){const W=se.length<0?0:0|B(se.length),Z=T(W);for(let he=0;he<W;he+=1)Z[he]=255&se[he];return Z}function L(se,W,Z){if(W<0||se.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<W+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let he;return he=void 0===W&&void 0===Z?new Uint8Array(se):void 0===Z?new Uint8Array(se,W):new Uint8Array(se,W,Z),Object.setPrototypeOf(he,w.prototype),he}function B(se){if(se>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|se}function X(se,W){if(w.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ye(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===Z)return 0;let De=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Ne(se).length;default:if(De)return he?-1:Ce(se).length;W=(""+W).toLowerCase(),De=!0}}function Q(se,W,Z){let he=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===Z||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(W>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return F(this,W,Z);case"utf8":case"utf-8":return b(this,W,Z);case"ascii":return V(this,W,Z);case"latin1":case"binary":return Y(this,W,Z);case"base64":return f(this,W,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,W,Z);default:if(he)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),he=!0}}function te(se,W,Z){const he=se[W];se[W]=se[Z],se[Z]=he}function ie(se,W,Z,he,De){if(0===se.length)return-1;if("string"==typeof Z?(he=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),wt(Z=+Z)&&(Z=De?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(De)return-1;Z=se.length-1}else if(Z<0){if(!De)return-1;Z=0}if("string"==typeof W&&(W=w.from(W,he)),w.isBuffer(W))return 0===W.length?-1:ae(se,W,Z,he,De);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(se,W,Z):Uint8Array.prototype.lastIndexOf.call(se,W,Z):ae(se,[W],Z,he,De);throw new TypeError("val must be string, number or Buffer")}function ae(se,W,Z,he,De){let Mt,Xe=1,Ze=se.length,at=W.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(se.length<2||W.length<2)return-1;Xe=2,Ze/=2,at/=2,Z/=2}function Rt(At,Wt){return 1===Xe?At[Wt]:At.readUInt16BE(Wt*Xe)}if(De){let At=-1;for(Mt=Z;Mt<Ze;Mt++)if(Rt(se,Mt)===Rt(W,-1===At?0:Mt-At)){if(-1===At&&(At=Mt),Mt-At+1===at)return At*Xe}else-1!==At&&(Mt-=Mt-At),At=-1}else for(Z+at>Ze&&(Z=Ze-at),Mt=Z;Mt>=0;Mt--){let At=!0;for(let Wt=0;Wt<at;Wt++)if(Rt(se,Mt+Wt)!==Rt(W,Wt)){At=!1;break}if(At)return Mt}return-1}function me(se,W,Z,he){Z=Number(Z)||0;const De=se.length-Z;he?(he=Number(he))>De&&(he=De):he=De;const Xe=W.length;let Ze;for(he>Xe/2&&(he=Xe/2),Ze=0;Ze<he;++Ze){const at=parseInt(W.substr(2*Ze,2),16);if(wt(at))return Ze;se[Z+Ze]=at}return Ze}function ge(se,W,Z,he){return We(Ce(W,se.length-Z),se,Z,he)}function de(se,W,Z,he){return We(function ke(se){const W=[];for(let Z=0;Z<se.length;++Z)W.push(255&se.charCodeAt(Z));return W}(W),se,Z,he)}function z(se,W,Z,he){return We(Ne(W),se,Z,he)}function d(se,W,Z,he){return We(function ze(se,W){let Z,he,De;const Xe=[];for(let Ze=0;Ze<se.length&&!((W-=2)<0);++Ze)Z=se.charCodeAt(Ze),he=Z>>8,De=Z%256,Xe.push(De),Xe.push(he);return Xe}(W,se.length-Z),se,Z,he)}function f(se,W,Z){return O.fromByteArray(0===W&&Z===se.length?se:se.slice(W,Z))}function b(se,W,Z){Z=Math.min(se.length,Z);const he=[];let De=W;for(;De<Z;){const Xe=se[De];let Ze=null,at=Xe>239?4:Xe>223?3:Xe>191?2:1;if(De+at<=Z){let Rt,Mt,At,Wt;switch(at){case 1:Xe<128&&(Ze=Xe);break;case 2:Rt=se[De+1],128==(192&Rt)&&(Wt=(31&Xe)<<6|63&Rt,Wt>127&&(Ze=Wt));break;case 3:Rt=se[De+1],Mt=se[De+2],128==(192&Rt)&&128==(192&Mt)&&(Wt=(15&Xe)<<12|(63&Rt)<<6|63&Mt,Wt>2047&&(Wt<55296||Wt>57343)&&(Ze=Wt));break;case 4:Rt=se[De+1],Mt=se[De+2],At=se[De+3],128==(192&Rt)&&128==(192&Mt)&&128==(192&At)&&(Wt=(15&Xe)<<18|(63&Rt)<<12|(63&Mt)<<6|63&At,Wt>65535&&Wt<1114112&&(Ze=Wt))}}null===Ze?(Ze=65533,at=1):Ze>65535&&(Ze-=65536,he.push(Ze>>>10&1023|55296),Ze=56320|1023&Ze),he.push(Ze),De+=at}return function D(se){const W=se.length;if(W<=C)return String.fromCharCode.apply(String,se);let Z="",he=0;for(;he<W;)Z+=String.fromCharCode.apply(String,se.slice(he,he+=C));return Z}(he)}I.kMaxLength=K,!(w.TYPED_ARRAY_SUPPORT=function y(){try{const se=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(se,W),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(se,W,Z){return x(se,W,Z)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(se,W,Z){return function k(se,W,Z){return R(se),se<=0?T(se):void 0!==W?"string"==typeof Z?T(se).fill(W,Z):T(se).fill(W):T(se)}(se,W,Z)},w.allocUnsafe=function(se){return v(se)},w.allocUnsafeSlow=function(se){return v(se)},w.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==w.prototype},w.compare=function(W,Z){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),Ye(Z,Uint8Array)&&(Z=w.from(Z,Z.offset,Z.byteLength)),!w.isBuffer(W)||!w.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===Z)return 0;let he=W.length,De=Z.length;for(let Xe=0,Ze=Math.min(he,De);Xe<Ze;++Xe)if(W[Xe]!==Z[Xe]){he=W[Xe],De=Z[Xe];break}return he<De?-1:De<he?1:0},w.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(W,Z){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return w.alloc(0);let he;if(void 0===Z)for(Z=0,he=0;he<W.length;++he)Z+=W[he].length;const De=w.allocUnsafe(Z);let Xe=0;for(he=0;he<W.length;++he){let Ze=W[he];if(Ye(Ze,Uint8Array))Xe+Ze.length>De.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(De,Xe)):Uint8Array.prototype.set.call(De,Ze,Xe);else{if(!w.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy(De,Xe)}Xe+=Ze.length}return De},w.byteLength=X,w.prototype._isBuffer=!0,w.prototype.swap16=function(){const W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<W;Z+=2)te(this,Z,Z+1);return this},w.prototype.swap32=function(){const W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<W;Z+=4)te(this,Z,Z+3),te(this,Z+1,Z+2);return this},w.prototype.swap64=function(){const W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<W;Z+=8)te(this,Z,Z+7),te(this,Z+1,Z+6),te(this,Z+2,Z+5),te(this,Z+3,Z+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){const W=this.length;return 0===W?"":0===arguments.length?b(this,0,W):Q.apply(this,arguments)},w.prototype.equals=function(W){if(!w.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===w.compare(this,W)},w.prototype.inspect=function(){let W="";const Z=I.INSPECT_MAX_BYTES;return W=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(W+=" ... "),"<Buffer "+W+">"},U&&(w.prototype[U]=w.prototype.inspect),w.prototype.compare=function(W,Z,he,De,Xe){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),!w.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===Z&&(Z=0),void 0===he&&(he=W?W.length:0),void 0===De&&(De=0),void 0===Xe&&(Xe=this.length),Z<0||he>W.length||De<0||Xe>this.length)throw new RangeError("out of range index");if(De>=Xe&&Z>=he)return 0;if(De>=Xe)return-1;if(Z>=he)return 1;if(this===W)return 0;let Ze=(Xe>>>=0)-(De>>>=0),at=(he>>>=0)-(Z>>>=0);const Rt=Math.min(Ze,at),Mt=this.slice(De,Xe),At=W.slice(Z,he);for(let Wt=0;Wt<Rt;++Wt)if(Mt[Wt]!==At[Wt]){Ze=Mt[Wt],at=At[Wt];break}return Ze<at?-1:at<Ze?1:0},w.prototype.includes=function(W,Z,he){return-1!==this.indexOf(W,Z,he)},w.prototype.indexOf=function(W,Z,he){return ie(this,W,Z,he,!0)},w.prototype.lastIndexOf=function(W,Z,he){return ie(this,W,Z,he,!1)},w.prototype.write=function(W,Z,he,De){if(void 0===Z)De="utf8",he=this.length,Z=0;else if(void 0===he&&"string"==typeof Z)De=Z,he=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z>>>=0,isFinite(he)?(he>>>=0,void 0===De&&(De="utf8")):(De=he,he=void 0)}const Xe=this.length-Z;if((void 0===he||he>Xe)&&(he=Xe),W.length>0&&(he<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ze=!1;for(;;)switch(De){case"hex":return me(this,W,Z,he);case"utf8":case"utf-8":return ge(this,W,Z,he);case"ascii":case"latin1":case"binary":return de(this,W,Z,he);case"base64":return z(this,W,Z,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,W,Z,he);default:if(Ze)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function V(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(127&se[De]);return he}function Y(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(se[De]);return he}function F(se,W,Z){const he=se.length;(!W||W<0)&&(W=0),(!Z||Z<0||Z>he)&&(Z=he);let De="";for(let Xe=W;Xe<Z;++Xe)De+=mt[se[Xe]];return De}function h(se,W,Z){const he=se.slice(W,Z);let De="";for(let Xe=0;Xe<he.length-1;Xe+=2)De+=String.fromCharCode(he[Xe]+256*he[Xe+1]);return De}function g(se,W,Z){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+W>Z)throw new RangeError("Trying to access beyond buffer length")}function J(se,W,Z,he,De,Xe){if(!w.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>De||W<Xe)throw new RangeError('"value" argument is out of bounds');if(Z+he>se.length)throw new RangeError("Index out of range")}function ee(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Z}function re(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z+7]=Xe,Xe>>=8,se[Z+6]=Xe,Xe>>=8,se[Z+5]=Xe,Xe>>=8,se[Z+4]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z+3]=Ze,Ze>>=8,se[Z+2]=Ze,Ze>>=8,se[Z+1]=Ze,Ze>>=8,se[Z]=Ze,Z+8}function fe(se,W,Z,he,De,Xe){if(Z+he>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function Ae(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,4),$.write(se,W,Z,he,23,4),Z+4}function Me(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,8),$.write(se,W,Z,he,52,8),Z+8}w.prototype.slice=function(W,Z){const he=this.length;(W=~~W)<0?(W+=he)<0&&(W=0):W>he&&(W=he),(Z=void 0===Z?he:~~Z)<0?(Z+=he)<0&&(Z=0):Z>he&&(Z=he),Z<W&&(Z=W);const De=this.subarray(W,Z);return Object.setPrototypeOf(De,w.prototype),De},w.prototype.readUintLE=w.prototype.readUIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return De},w.prototype.readUintBE=w.prototype.readUIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W+--Z],Xe=1;for(;Z>0&&(Xe*=256);)De+=this[W+--Z]*Xe;return De},w.prototype.readUint8=w.prototype.readUInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),this[W]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]|this[W+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]<<8|this[W+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},w.prototype.readBigUInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z+256*this[++W]+65536*this[++W]+this[++W]*2**24,Xe=this[++W]+256*this[++W]+65536*this[++W]+he*2**24;return BigInt(De)+(BigInt(Xe)<<BigInt(32))}),w.prototype.readBigUInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z*2**24+65536*this[++W]+256*this[++W]+this[++W],Xe=this[++W]*2**24+65536*this[++W]+256*this[++W]+he;return(BigInt(De)<<BigInt(32))+BigInt(Xe)}),w.prototype.readIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return Xe*=128,De>=Xe&&(De-=Math.pow(2,8*Z)),De},w.prototype.readIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=Z,Xe=1,Ze=this[W+--De];for(;De>0&&(Xe*=256);)Ze+=this[W+--De]*Xe;return Xe*=128,Ze>=Xe&&(Ze-=Math.pow(2,8*Z)),Ze},w.prototype.readInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},w.prototype.readInt16LE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W]|this[W+1]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt16BE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W+1]|this[W]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},w.prototype.readInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},w.prototype.readBigInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];return(void 0===Z||void 0===he)&&xe(W,this.length-8),(BigInt(this[W+4]+256*this[W+5]+65536*this[W+6]+(he<<24))<<BigInt(32))+BigInt(Z+256*this[++W]+65536*this[++W]+this[++W]*2**24)}),w.prototype.readBigInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=(Z<<24)+65536*this[++W]+256*this[++W]+this[++W];return(BigInt(De)<<BigInt(32))+BigInt(this[++W]*2**24+65536*this[++W]+256*this[++W]+he)}),w.prototype.readFloatLE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!0,23,4)},w.prototype.readFloatBE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!1,23,4)},w.prototype.readDoubleLE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!0,52,8)},w.prototype.readDoubleBE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=1,Ze=0;for(this[Z]=255&W;++Ze<he&&(Xe*=256);)this[Z+Ze]=W/Xe&255;return Z+he},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=he-1,Ze=1;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)this[Z+Xe]=W/Ze&255;return Z+he},w.prototype.writeUint8=w.prototype.writeUInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,255,0),this[Z]=255&W,Z+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z+3]=W>>>24,this[Z+2]=W>>>16,this[Z+1]=W>>>8,this[Z]=255&W,Z+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigUInt64LE=rt(function(W,Z=0){return ee(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=rt(function(W,Z=0){return re(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=0,Ze=1,at=0;for(this[Z]=255&W;++Xe<he&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe-1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeIntBE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=he-1,Ze=1,at=0;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe+1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,127,-128),W<0&&(W=255+W+1),this[Z]=255&W,Z+1},w.prototype.writeInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),this[Z]=255&W,this[Z+1]=W>>>8,this[Z+2]=W>>>16,this[Z+3]=W>>>24,Z+4},w.prototype.writeInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigInt64LE=rt(function(W,Z=0){return ee(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=rt(function(W,Z=0){return re(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeFloatLE=function(W,Z,he){return Ae(this,W,Z,!0,he)},w.prototype.writeFloatBE=function(W,Z,he){return Ae(this,W,Z,!1,he)},w.prototype.writeDoubleLE=function(W,Z,he){return Me(this,W,Z,!0,he)},w.prototype.writeDoubleBE=function(W,Z,he){return Me(this,W,Z,!1,he)},w.prototype.copy=function(W,Z,he,De){if(!w.isBuffer(W))throw new TypeError("argument should be a Buffer");if(he||(he=0),!De&&0!==De&&(De=this.length),Z>=W.length&&(Z=W.length),Z||(Z=0),De>0&&De<he&&(De=he),De===he||0===W.length||0===this.length)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),W.length-Z<De-he&&(De=W.length-Z+he);const Xe=De-he;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Z,he,De):Uint8Array.prototype.set.call(W,this.subarray(he,De),Z),Xe},w.prototype.fill=function(W,Z,he,De){if("string"==typeof W){if("string"==typeof Z?(De=Z,Z=0,he=this.length):"string"==typeof he&&(De=he,he=this.length),void 0!==De&&"string"!=typeof De)throw new TypeError("encoding must be a string");if("string"==typeof De&&!w.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(1===W.length){const Ze=W.charCodeAt(0);("utf8"===De&&Ze<128||"latin1"===De)&&(W=Ze)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(Z<0||this.length<Z||this.length<he)throw new RangeError("Out of range index");if(he<=Z)return this;let Xe;if(Z>>>=0,he=void 0===he?this.length:he>>>0,W||(W=0),"number"==typeof W)for(Xe=Z;Xe<he;++Xe)this[Xe]=W;else{const Ze=w.isBuffer(W)?W:w.from(W,De),at=Ze.length;if(0===at)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Xe=0;Xe<he-Z;++Xe)this[Xe+Z]=Ze[Xe%at]}return this};const Le={};function Ee(se,W,Z){Le[se]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,delete this.name}get code(){return se}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}function Se(se){let W="",Z=se.length;const he="-"===se[0]?1:0;for(;Z>=he+4;Z-=3)W=`_${se.slice(Z-3,Z)}${W}`;return`${se.slice(0,Z)}${W}`}function Te(se,W,Z,he,De,Xe){if(se>Z||se<W){const Ze="bigint"==typeof W?"n":"";let at;throw at=Xe>3?0===W||W===BigInt(0)?`>= 0${Ze} and < 2${Ze} ** ${8*(Xe+1)}${Ze}`:`>= -(2${Ze} ** ${8*(Xe+1)-1}${Ze}) and < 2 ** ${8*(Xe+1)-1}${Ze}`:`>= ${W}${Ze} and <= ${Z}${Ze}`,new Le.ERR_OUT_OF_RANGE("value",at,se)}!function He(se,W,Z){u(W,"offset"),(void 0===se[W]||void 0===se[W+Z])&&xe(W,se.length-(Z+1))}(he,De,Xe)}function u(se,W){if("number"!=typeof se)throw new Le.ERR_INVALID_ARG_TYPE(W,"number",se)}function xe(se,W,Z){throw Math.floor(se)!==se?(u(se,Z),new Le.ERR_OUT_OF_RANGE(Z||"offset","an integer",se)):W<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${W}`,se)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(se,W){return`The "${se}" argument must be of type number. Received type ${typeof W}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(se,W,Z){let he=`The value of "${se}" is out of range.`,De=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?De=Se(String(Z)):"bigint"==typeof Z&&(De=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(De=Se(De)),De+="n"),he+=` It must be ${W}. Received ${De}`,he},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function Ce(se,W){let Z;W=W||1/0;const he=se.length;let De=null;const Xe=[];for(let Ze=0;Ze<he;++Ze){if(Z=se.charCodeAt(Ze),Z>55295&&Z<57344){if(!De){if(Z>56319){(W-=3)>-1&&Xe.push(239,191,189);continue}if(Ze+1===he){(W-=3)>-1&&Xe.push(239,191,189);continue}De=Z;continue}if(Z<56320){(W-=3)>-1&&Xe.push(239,191,189),De=Z;continue}Z=65536+(De-55296<<10|Z-56320)}else De&&(W-=3)>-1&&Xe.push(239,191,189);if(De=null,Z<128){if((W-=1)<0)break;Xe.push(Z)}else if(Z<2048){if((W-=2)<0)break;Xe.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((W-=3)<0)break;Xe.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Xe.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return Xe}function Ne(se){return O.toByteArray(function _e(se){if((se=(se=se.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function We(se,W,Z,he){let De;for(De=0;De<he&&!(De+Z>=W.length||De>=se.length);++De)W[De+Z]=se[De];return De}function Ye(se,W){return se instanceof W||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===W.name}function wt(se){return se!=se}const mt=function(){const se="0123456789abcdef",W=new Array(256);for(let Z=0;Z<16;++Z){const he=16*Z;for(let De=0;De<16;++De)W[he+De]=se[Z]+se[De]}return W}();function rt(se){return typeof BigInt>"u"?Ut:se}function Ut(){throw new Error("BigInt not supported")}},67719:(ye,I)=>{"use strict";function A(me,ge){return{validate:me,compare:ge}}Object.defineProperty(I,"__esModule",{value:!0}),I.formatNames=I.fastFormats=I.fullFormats=void 0,I.fullFormats={date:A(K,y),time:A(w,x),"date-time":A(function k(me){const ge=me.split(R);return 2===ge.length&&K(ge[0])&&w(ge[1],!0)},v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function P(me){return N.test(me)&&M.test(me)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function ae(me){if(ie.test(me))return!1;try{return new RegExp(me),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function G(me){return L.lastIndex=0,L.test(me)},int32:{type:"number",validate:function X(me){return Number.isInteger(me)&&me<=q&&me>=B}},int64:{type:"number",validate:function Q(me){return Number.isInteger(me)}},float:{type:"number",validate:te},double:{type:"number",validate:te},password:!0,binary:!0},I.fastFormats={...I.fullFormats,date:A(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,y),time:A(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,x),"date-time":A(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},I.formatNames=Object.keys(I.fullFormats);const $=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,U=[0,31,28,31,30,31,30,31,31,30,31,30,31];function K(me){const ge=$.exec(me);if(!ge)return!1;const z=+ge[2],d=+ge[3];return z>=1&&z<=12&&d>=1&&d<=(2===z&&function O(me){return me%4==0&&(me%100!=0||me%400==0)}(+ge[1])?29:U[z])}function y(me,ge){if(me&&ge)return me>ge?1:me<ge?-1:0}const T=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function w(me,ge){const de=T.exec(me);if(!de)return!1;const z=+de[1],d=+de[2],f=+de[3];return(z<=23&&d<=59&&f<=59||23===z&&59===d&&60===f)&&(!ge||""!==de[5])}function x(me,ge){if(!me||!ge)return;const de=T.exec(me),z=T.exec(ge);return de&&z?(me=de[1]+de[2]+de[3]+(de[4]||""))>(ge=z[1]+z[2]+z[3]+(z[4]||""))?1:me<ge?-1:0:void 0}const R=/t|\s/i;function v(me,ge){if(!me||!ge)return;const[de,z]=me.split(R),[d,f]=ge.split(R),b=y(de,d);return void 0!==b?b||x(z,f):void 0}const N=/\/|:/,M=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,L=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,B=-(2**31),q=2**31-1;function te(){return!0}const ie=/[^\\]\\Z/},57459:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(67719),$=A(8776),U=A(85432),K=new U.Name("fullFormats"),y=new U.Name("fastFormats"),T=(x,R={keywords:!0})=>{if(Array.isArray(R))return w(x,R,O.fullFormats,K),x;const[k,v]="fast"===R.mode?[O.fastFormats,y]:[O.fullFormats,K];return w(x,R.formats||O.formatNames,k,v),R.keywords&&$.default(x),x};function w(x,R,k,v){var N,M;null!==(N=(M=x.opts.code).formats)&&void 0!==N||(M.formats=U._`require("ajv-formats/dist/formats").${v}`);for(const P of R)x.addFormat(P,k[P])}T.get=(x,R="full")=>{const v=("fast"===R?O.fastFormats:O.fullFormats)[x];if(!v)throw new Error(`Unknown format "${x}"`);return v},ye.exports=I=T,Object.defineProperty(I,"__esModule",{value:!0}),I.default=T},8776:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.formatLimitDefinition=void 0;const O=A(39208),$=A(85432),U=$.operators,K={formatMaximum:{okStr:"<=",ok:U.LTE,fail:U.GT},formatMinimum:{okStr:">=",ok:U.GTE,fail:U.LT},formatExclusiveMaximum:{okStr:"<",ok:U.LT,fail:U.GTE},formatExclusiveMinimum:{okStr:">",ok:U.GT,fail:U.LTE}},y={message:({keyword:w,schemaCode:x})=>$.str`should be ${K[w].okStr} ${x}`,params:({keyword:w,schemaCode:x})=>$._`{comparison: ${K[w].okStr}, limit: ${x}}`};I.formatLimitDefinition={keyword:Object.keys(K),type:"string",schemaType:"string",$data:!0,error:y,code(w){const{gen:x,data:R,schemaCode:k,keyword:v,it:N}=w,{opts:M,self:P}=N;if(!M.validateFormats)return;const L=new O.KeywordCxt(N,P.RULES.all.format.definition,"format");function q(X){return $._`${X}.compare(${R}, ${k}) ${K[v].fail} 0`}L.$data?function G(){const X=x.scopeValue("formats",{ref:P.formats,code:M.code.formats}),Q=x.const("fmt",$._`${X}[${L.schemaCode}]`);w.fail$data($.or($._`typeof ${Q} != "object"`,$._`${Q} instanceof RegExp`,$._`typeof ${Q}.compare != "function"`,q(Q)))}():function B(){const X=L.schema,Q=P.formats[X];if(!Q||!0===Q)return;if("object"!=typeof Q||Q instanceof RegExp||"function"!=typeof Q.compare)throw new Error(`"${v}": format "${X}" does not define "compare" function`);const te=x.scopeValue("formats",{key:X,ref:Q,code:M.code.formats?$._`${M.code.formats}${$.getProperty(X)}`:void 0});w.fail$data(q(te))}()},dependencies:["format"]},I.default=w=>(w.addKeyword(I.formatLimitDefinition),w)},39208:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.MissingRefError=I.ValidationError=I.CodeGen=I.Name=I.nil=I.stringify=I.str=I._=I.KeywordCxt=I.Ajv=void 0;const O=A(2113),$=A(70457),U=A(78058),K=A(72079),y=["/properties"],T="http://json-schema.org/draft-07/schema";class w extends O.default{_addVocabularies(){super._addVocabularies(),$.default.forEach(M=>this.addVocabulary(M)),this.opts.discriminator&&this.addKeyword(U.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const M=this.opts.$data?this.$dataMetaSchema(K,y):K;this.addMetaSchema(M,T,!1),this.refs["http://json-schema.org/schema"]=T}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(T)?T:void 0)}}I.Ajv=w,ye.exports=I=w,ye.exports.Ajv=w,Object.defineProperty(I,"__esModule",{value:!0}),I.default=w;var x=A(87157);Object.defineProperty(I,"KeywordCxt",{enumerable:!0,get:function(){return x.KeywordCxt}});var R=A(85432);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return R.Name}}),Object.defineProperty(I,"CodeGen",{enumerable:!0,get:function(){return R.CodeGen}});var k=A(9857);Object.defineProperty(I,"ValidationError",{enumerable:!0,get:function(){return k.default}});var v=A(66606);Object.defineProperty(I,"MissingRefError",{enumerable:!0,get:function(){return v.default}})},43467:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.regexpCode=I.getEsmExportName=I.getProperty=I.safeStringify=I.stringify=I.strConcat=I.addCodeArg=I.str=I._=I.nil=I._Code=I.Name=I.IDENTIFIER=I._CodeOrName=void 0;class A{}I._CodeOrName=A,I.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class O extends A{constructor(B){if(super(),!I.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}I.Name=O;class $ extends A{constructor(B){super(),this._items="string"==typeof B?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return""===B||'""'===B}get str(){var B;return null!==(B=this._str)&&void 0!==B?B:this._str=this._items.reduce((q,X)=>`${q}${X}`,"")}get names(){var B;return null!==(B=this._names)&&void 0!==B?B:this._names=this._items.reduce((q,X)=>(X instanceof O&&(q[X.str]=(q[X.str]||0)+1),q),{})}}function U(G,...B){const q=[G[0]];let X=0;for(;X<B.length;)T(q,B[X]),q.push(G[++X]);return new $(q)}I._Code=$,I.nil=new $(""),I._=U;const K=new $("+");function y(G,...B){const q=[N(G[0])];let X=0;for(;X<B.length;)q.push(K),T(q,B[X]),q.push(K,N(G[++X]));return function w(G){let B=1;for(;B<G.length-1;){if(G[B]===K){const q=x(G[B-1],G[B+1]);if(void 0!==q){G.splice(B-1,3,q);continue}G[B++]="+"}B++}}(q),new $(q)}function T(G,B){B instanceof $?G.push(...B._items):G.push(B instanceof O?B:function k(G){return"number"==typeof G||"boolean"==typeof G||null===G?G:N(Array.isArray(G)?G.join(","):G)}(B))}function x(G,B){return'""'===B?G:'""'===G?B:"string"==typeof G?B instanceof O||'"'!==G[G.length-1]?void 0:"string"!=typeof B?`${G.slice(0,-1)}${B}"`:'"'===B[0]?G.slice(0,-1)+B.slice(1):void 0:"string"!=typeof B||'"'!==B[0]||G instanceof O?void 0:`"${G}${B.slice(1)}`}function N(G){return JSON.stringify(G).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}I.str=y,I.addCodeArg=T,I.strConcat=function R(G,B){return B.emptyStr()?G:G.emptyStr()?B:y`${G}${B}`},I.stringify=function v(G){return new $(N(G))},I.safeStringify=N,I.getProperty=function M(G){return"string"==typeof G&&I.IDENTIFIER.test(G)?new $(`.${G}`):U`[${G}]`},I.getEsmExportName=function P(G){if("string"==typeof G&&I.IDENTIFIER.test(G))return new $(`${G}`);throw new Error(`CodeGen: invalid export name: ${G}, use explicit $id name mapping`)},I.regexpCode=function L(G){return new $(G.toString())}},85432:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.or=I.and=I.not=I.CodeGen=I.operators=I.varKinds=I.ValueScopeName=I.ValueScope=I.Scope=I.Name=I.regexpCode=I.stringify=I.getProperty=I.nil=I.strConcat=I.str=I._=void 0;const O=A(43467),$=A(60240);var U=A(43467);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return U._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return U.str}}),Object.defineProperty(I,"strConcat",{enumerable:!0,get:function(){return U.strConcat}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return U.nil}}),Object.defineProperty(I,"getProperty",{enumerable:!0,get:function(){return U.getProperty}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return U.stringify}}),Object.defineProperty(I,"regexpCode",{enumerable:!0,get:function(){return U.regexpCode}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return U.Name}});var K=A(60240);Object.defineProperty(I,"Scope",{enumerable:!0,get:function(){return K.Scope}}),Object.defineProperty(I,"ValueScope",{enumerable:!0,get:function(){return K.ValueScope}}),Object.defineProperty(I,"ValueScopeName",{enumerable:!0,get:function(){return K.ValueScopeName}}),Object.defineProperty(I,"varKinds",{enumerable:!0,get:function(){return K.varKinds}}),I.operators={GT:new O._Code(">"),GTE:new O._Code(">="),LT:new O._Code("<"),LTE:new O._Code("<="),EQ:new O._Code("==="),NEQ:new O._Code("!=="),NOT:new O._Code("!"),OR:new O._Code("||"),AND:new O._Code("&&"),ADD:new O._Code("+")};class y{optimizeNodes(){return this}optimizeNames(re,fe){return this}}class T extends y{constructor(re,fe,Ae){super(),this.varKind=re,this.name=fe,this.rhs=Ae}render({es5:re,_n:fe}){return`${re?$.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+fe}optimizeNames(re,fe){if(re[this.name.str])return this.rhs&&(this.rhs=b(this.rhs,re,fe)),this}get names(){return this.rhs instanceof O._CodeOrName?this.rhs.names:{}}}class w extends y{constructor(re,fe,Ae){super(),this.lhs=re,this.rhs=fe,this.sideEffects=Ae}render({_n:re}){return`${this.lhs} = ${this.rhs};`+re}optimizeNames(re,fe){if(!(this.lhs instanceof O.Name)||re[this.lhs.str]||this.sideEffects)return this.rhs=b(this.rhs,re,fe),this}get names(){return f(this.lhs instanceof O.Name?{}:{...this.lhs.names},this.rhs)}}class x extends w{constructor(re,fe,Ae,Me){super(re,Ae,Me),this.op=fe}render({_n:re}){return`${this.lhs} ${this.op}= ${this.rhs};`+re}}class R extends y{constructor(re){super(),this.label=re,this.names={}}render({_n:re}){return`${this.label}:`+re}}class k extends y{constructor(re){super(),this.label=re,this.names={}}render({_n:re}){return`break${this.label?` ${this.label}`:""};`+re}}class v extends y{constructor(re){super(),this.error=re}render({_n:re}){return`throw ${this.error};`+re}get names(){return this.error.names}}class N extends y{constructor(re){super(),this.code=re}render({_n:re}){return`${this.code};`+re}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(re,fe){return this.code=b(this.code,re,fe),this}get names(){return this.code instanceof O._CodeOrName?this.code.names:{}}}class M extends y{constructor(re=[]){super(),this.nodes=re}render(re){return this.nodes.reduce((fe,Ae)=>fe+Ae.render(re),"")}optimizeNodes(){const{nodes:re}=this;let fe=re.length;for(;fe--;){const Ae=re[fe].optimizeNodes();Array.isArray(Ae)?re.splice(fe,1,...Ae):Ae?re[fe]=Ae:re.splice(fe,1)}return re.length>0?this:void 0}optimizeNames(re,fe){const{nodes:Ae}=this;let Me=Ae.length;for(;Me--;){const Le=Ae[Me];Le.optimizeNames(re,fe)||(C(re,Le.names),Ae.splice(Me,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((re,fe)=>d(re,fe.names),{})}}class P extends M{render(re){return"{"+re._n+super.render(re)+"}"+re._n}}class L extends M{}let G=(()=>{class ee extends P{}return ee.kind="else",ee})(),B=(()=>{class ee extends P{constructor(fe,Ae){super(Ae),this.condition=fe}render(fe){let Ae=`if(${this.condition})`+super.render(fe);return this.else&&(Ae+="else "+this.else.render(fe)),Ae}optimizeNodes(){super.optimizeNodes();const fe=this.condition;if(!0===fe)return this.nodes;let Ae=this.else;if(Ae){const Me=Ae.optimizeNodes();Ae=this.else=Array.isArray(Me)?new G(Me):Me}return Ae?!1===fe?Ae instanceof ee?Ae:Ae.nodes:this.nodes.length?this:new ee(D(fe),Ae instanceof ee?[Ae]:Ae.nodes):!1!==fe&&this.nodes.length?this:void 0}optimizeNames(fe,Ae){var Me;if(this.else=null===(Me=this.else)||void 0===Me?void 0:Me.optimizeNames(fe,Ae),super.optimizeNames(fe,Ae)||this.else)return this.condition=b(this.condition,fe,Ae),this}get names(){const fe=super.names;return f(fe,this.condition),this.else&&d(fe,this.else.names),fe}}return ee.kind="if",ee})(),q=(()=>{class ee extends P{}return ee.kind="for",ee})();class X extends q{constructor(re){super(),this.iteration=re}render(re){return`for(${this.iteration})`+super.render(re)}optimizeNames(re,fe){if(super.optimizeNames(re,fe))return this.iteration=b(this.iteration,re,fe),this}get names(){return d(super.names,this.iteration.names)}}class Q extends q{constructor(re,fe,Ae,Me){super(),this.varKind=re,this.name=fe,this.from=Ae,this.to=Me}render(re){const fe=re.es5?$.varKinds.var:this.varKind,{name:Ae,from:Me,to:Le}=this;return`for(${fe} ${Ae}=${Me}; ${Ae}<${Le}; ${Ae}++)`+super.render(re)}get names(){const re=f(super.names,this.from);return f(re,this.to)}}class te extends q{constructor(re,fe,Ae,Me){super(),this.loop=re,this.varKind=fe,this.name=Ae,this.iterable=Me}render(re){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(re)}optimizeNames(re,fe){if(super.optimizeNames(re,fe))return this.iterable=b(this.iterable,re,fe),this}get names(){return d(super.names,this.iterable.names)}}let ie=(()=>{class ee extends P{constructor(fe,Ae,Me){super(),this.name=fe,this.args=Ae,this.async=Me}render(fe){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(fe)}}return ee.kind="func",ee})(),ae=(()=>{class ee extends M{render(fe){return"return "+super.render(fe)}}return ee.kind="return",ee})();class me extends P{render(re){let fe="try"+super.render(re);return this.catch&&(fe+=this.catch.render(re)),this.finally&&(fe+=this.finally.render(re)),fe}optimizeNodes(){var re,fe;return super.optimizeNodes(),null===(re=this.catch)||void 0===re||re.optimizeNodes(),null===(fe=this.finally)||void 0===fe||fe.optimizeNodes(),this}optimizeNames(re,fe){var Ae,Me;return super.optimizeNames(re,fe),null===(Ae=this.catch)||void 0===Ae||Ae.optimizeNames(re,fe),null===(Me=this.finally)||void 0===Me||Me.optimizeNames(re,fe),this}get names(){const re=super.names;return this.catch&&d(re,this.catch.names),this.finally&&d(re,this.finally.names),re}}let ge=(()=>{class ee extends P{constructor(fe){super(),this.error=fe}render(fe){return`catch(${this.error})`+super.render(fe)}}return ee.kind="catch",ee})(),de=(()=>{class ee extends P{render(fe){return"finally"+super.render(fe)}}return ee.kind="finally",ee})();function d(ee,re){for(const fe in re)ee[fe]=(ee[fe]||0)+(re[fe]||0);return ee}function f(ee,re){return re instanceof O._CodeOrName?d(ee,re.names):ee}function b(ee,re,fe){return ee instanceof O.Name?Ae(ee):function Me(Le){return Le instanceof O._Code&&Le._items.some(Ee=>Ee instanceof O.Name&&1===re[Ee.str]&&void 0!==fe[Ee.str])}(ee)?new O._Code(ee._items.reduce((Le,Ee)=>(Ee instanceof O.Name&&(Ee=Ae(Ee)),Ee instanceof O._Code?Le.push(...Ee._items):Le.push(Ee),Le),[])):ee;function Ae(Le){const Ee=fe[Le.str];return void 0===Ee||1!==re[Le.str]?Le:(delete re[Le.str],Ee)}}function C(ee,re){for(const fe in re)ee[fe]=(ee[fe]||0)-(re[fe]||0)}function D(ee){return"boolean"==typeof ee||"number"==typeof ee||null===ee?!ee:O._`!${J(ee)}`}I.CodeGen=class z{constructor(re,fe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...fe,_n:fe.lines?"\n":""},this._extScope=re,this._scope=new $.Scope({parent:re}),this._nodes=[new L]}toString(){return this._root.render(this.opts)}name(re){return this._scope.name(re)}scopeName(re){return this._extScope.name(re)}scopeValue(re,fe){const Ae=this._extScope.value(re,fe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(re,fe){return this._extScope.getValue(re,fe)}scopeRefs(re){return this._extScope.scopeRefs(re,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(re,fe,Ae,Me){const Le=this._scope.toName(fe);return void 0!==Ae&&Me&&(this._constants[Le.str]=Ae),this._leafNode(new T(re,Le,Ae)),Le}const(re,fe,Ae){return this._def($.varKinds.const,re,fe,Ae)}let(re,fe,Ae){return this._def($.varKinds.let,re,fe,Ae)}var(re,fe,Ae){return this._def($.varKinds.var,re,fe,Ae)}assign(re,fe,Ae){return this._leafNode(new w(re,fe,Ae))}add(re,fe){return this._leafNode(new x(re,I.operators.ADD,fe))}code(re){return"function"==typeof re?re():re!==O.nil&&this._leafNode(new N(re)),this}object(...re){const fe=["{"];for(const[Ae,Me]of re)fe.length>1&&fe.push(","),fe.push(Ae),(Ae!==Me||this.opts.es5)&&(fe.push(":"),(0,O.addCodeArg)(fe,Me));return fe.push("}"),new O._Code(fe)}if(re,fe,Ae){if(this._blockNode(new B(re)),fe&&Ae)this.code(fe).else().code(Ae).endIf();else if(fe)this.code(fe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(re){return this._elseNode(new B(re))}else(){return this._elseNode(new G)}endIf(){return this._endBlockNode(B,G)}_for(re,fe){return this._blockNode(re),fe&&this.code(fe).endFor(),this}for(re,fe){return this._for(new X(re),fe)}forRange(re,fe,Ae,Me,Le=(this.opts.es5?$.varKinds.var:$.varKinds.let)){const Ee=this._scope.toName(re);return this._for(new Q(Le,Ee,fe,Ae),()=>Me(Ee))}forOf(re,fe,Ae,Me=$.varKinds.const){const Le=this._scope.toName(re);if(this.opts.es5){const Ee=fe instanceof O.Name?fe:this.var("_arr",fe);return this.forRange("_i",0,O._`${Ee}.length`,Se=>{this.var(Le,O._`${Ee}[${Se}]`),Ae(Le)})}return this._for(new te("of",Me,Le,fe),()=>Ae(Le))}forIn(re,fe,Ae,Me=(this.opts.es5?$.varKinds.var:$.varKinds.const)){if(this.opts.ownProperties)return this.forOf(re,O._`Object.keys(${fe})`,Ae);const Le=this._scope.toName(re);return this._for(new te("in",Me,Le,fe),()=>Ae(Le))}endFor(){return this._endBlockNode(q)}label(re){return this._leafNode(new R(re))}break(re){return this._leafNode(new k(re))}return(re){const fe=new ae;if(this._blockNode(fe),this.code(re),1!==fe.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ae)}try(re,fe,Ae){if(!fe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Me=new me;if(this._blockNode(Me),this.code(re),fe){const Le=this.name("e");this._currNode=Me.catch=new ge(Le),fe(Le)}return Ae&&(this._currNode=Me.finally=new de,this.code(Ae)),this._endBlockNode(ge,de)}throw(re){return this._leafNode(new v(re))}block(re,fe){return this._blockStarts.push(this._nodes.length),re&&this.code(re).endBlock(fe),this}endBlock(re){const fe=this._blockStarts.pop();if(void 0===fe)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-fe;if(Ae<0||void 0!==re&&Ae!==re)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${re} expected`);return this._nodes.length=fe,this}func(re,fe=O.nil,Ae,Me){return this._blockNode(new ie(re,fe,Ae)),Me&&this.code(Me).endFunc(),this}endFunc(){return this._endBlockNode(ie)}optimize(re=1){for(;re-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(re){return this._currNode.nodes.push(re),this}_blockNode(re){this._currNode.nodes.push(re),this._nodes.push(re)}_endBlockNode(re,fe){const Ae=this._currNode;if(Ae instanceof re||fe&&Ae instanceof fe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${fe?`${re.kind}/${fe.kind}`:re.kind}"`)}_elseNode(re){const fe=this._currNode;if(!(fe instanceof B))throw new Error('CodeGen: "else" without "if"');return this._currNode=fe.else=re,this}get _root(){return this._nodes[0]}get _currNode(){const re=this._nodes;return re[re.length-1]}set _currNode(re){const fe=this._nodes;fe[fe.length-1]=re}},I.not=D;const V=g(I.operators.AND);I.and=function Y(...ee){return ee.reduce(V)};const F=g(I.operators.OR);function g(ee){return(re,fe)=>re===O.nil?fe:fe===O.nil?re:O._`${J(re)} ${ee} ${J(fe)}`}function J(ee){return ee instanceof O.Name?ee:O._`(${ee})`}I.or=function h(...ee){return ee.reduce(F)}},60240:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ValueScope=I.ValueScopeName=I.Scope=I.varKinds=I.UsedValueState=void 0;const O=A(43467);class $ extends Error{constructor(R){super(`CodeGen: "code" for ${R} not defined`),this.value=R.value}}var U=function(x){return x[x.Started=0]="Started",x[x.Completed=1]="Completed",x}(U||(I.UsedValueState=U={}));I.varKinds={const:new O.Name("const"),let:new O.Name("let"),var:new O.Name("var")};class K{constructor({prefixes:R,parent:k}={}){this._names={},this._prefixes=R,this._parent=k}toName(R){return R instanceof O.Name?R:this.name(R)}name(R){return new O.Name(this._newName(R))}_newName(R){return`${R}${(this._names[R]||this._nameGroup(R)).index++}`}_nameGroup(R){var k,v;if(null!==(v=null===(k=this._parent)||void 0===k?void 0:k._prefixes)&&void 0!==v&&v.has(R)||this._prefixes&&!this._prefixes.has(R))throw new Error(`CodeGen: prefix "${R}" is not allowed in this scope`);return this._names[R]={prefix:R,index:0}}}I.Scope=K;class y extends O.Name{constructor(R,k){super(k),this.prefix=R}setValue(R,{property:k,itemIndex:v}){this.value=R,this.scopePath=O._`.${new O.Name(k)}[${v}]`}}I.ValueScopeName=y;const T=O._`\n`;I.ValueScope=class w extends K{constructor(R){super(R),this._values={},this._scope=R.scope,this.opts={...R,_n:R.lines?T:O.nil}}get(){return this._scope}name(R){return new y(R,this._newName(R))}value(R,k){var v;if(void 0===k.ref)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(R),{prefix:M}=N,P=null!==(v=k.key)&&void 0!==v?v:k.ref;let L=this._values[M];if(L){const q=L.get(P);if(q)return q}else L=this._values[M]=new Map;L.set(P,N);const G=this._scope[M]||(this._scope[M]=[]),B=G.length;return G[B]=k.ref,N.setValue(k,{property:M,itemIndex:B}),N}getValue(R,k){const v=this._values[R];if(v)return v.get(k)}scopeRefs(R,k=this._values){return this._reduceValues(k,v=>{if(void 0===v.scopePath)throw new Error(`CodeGen: name "${v}" has no value`);return O._`${R}${v.scopePath}`})}scopeCode(R=this._values,k,v){return this._reduceValues(R,N=>{if(void 0===N.value)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},k,v)}_reduceValues(R,k,v={},N){let M=O.nil;for(const P in R){const L=R[P];if(!L)continue;const G=v[P]=v[P]||new Map;L.forEach(B=>{if(G.has(B))return;G.set(B,U.Started);let q=k(B);if(q)M=O._`${M}${this.opts.es5?I.varKinds.var:I.varKinds.const} ${B} = ${q};${this.opts._n}`;else{if(!(q=N?.(B)))throw new $(B);M=O._`${M}${q}${this.opts._n}`}G.set(B,U.Completed)})}return M}}},37511:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.extendErrors=I.resetErrorsCount=I.reportExtraError=I.reportError=I.keyword$DataError=I.keywordError=void 0;const O=A(85432),$=A(87868),U=A(12682);function x(G,B){const q=G.const("err",B);G.if(O._`${U.default.vErrors} === null`,()=>G.assign(U.default.vErrors,O._`[${q}]`),O._`${U.default.vErrors}.push(${q})`),G.code(O._`${U.default.errors}++`)}function R(G,B){const{gen:q,validateName:X,schemaEnv:Q}=G;Q.$async?q.throw(O._`new ${G.ValidationError}(${B})`):(q.assign(O._`${X}.errors`,B),q.return(!1))}I.keywordError={message:({keyword:G})=>O.str`must pass "${G}" keyword validation`},I.keyword$DataError={message:({keyword:G,schemaType:B})=>B?O.str`"${G}" keyword must be ${B} ($data)`:O.str`"${G}" keyword is invalid ($data)`},I.reportError=function K(G,B=I.keywordError,q,X){const{it:Q}=G,{gen:te,compositeRule:ie,allErrors:ae}=Q,me=v(G,B,q);X??(ie||ae)?x(te,me):R(Q,O._`[${me}]`)},I.reportExtraError=function y(G,B=I.keywordError,q){const{it:X}=G,{gen:Q,compositeRule:te,allErrors:ie}=X;x(Q,v(G,B,q)),te||ie||R(X,U.default.vErrors)},I.resetErrorsCount=function T(G,B){G.assign(U.default.errors,B),G.if(O._`${U.default.vErrors} !== null`,()=>G.if(B,()=>G.assign(O._`${U.default.vErrors}.length`,B),()=>G.assign(U.default.vErrors,null)))},I.extendErrors=function w({gen:G,keyword:B,schemaValue:q,data:X,errsCount:Q,it:te}){if(void 0===Q)throw new Error("ajv implementation error");const ie=G.name("err");G.forRange("i",Q,U.default.errors,ae=>{G.const(ie,O._`${U.default.vErrors}[${ae}]`),G.if(O._`${ie}.instancePath === undefined`,()=>G.assign(O._`${ie}.instancePath`,(0,O.strConcat)(U.default.instancePath,te.errorPath))),G.assign(O._`${ie}.schemaPath`,O.str`${te.errSchemaPath}/${B}`),te.opts.verbose&&(G.assign(O._`${ie}.schema`,q),G.assign(O._`${ie}.data`,X))})};const k={keyword:new O.Name("keyword"),schemaPath:new O.Name("schemaPath"),params:new O.Name("params"),propertyName:new O.Name("propertyName"),message:new O.Name("message"),schema:new O.Name("schema"),parentSchema:new O.Name("parentSchema")};function v(G,B,q){const{createErrors:X}=G.it;return!1===X?O._`{}`:function N(G,B,q={}){const{gen:X,it:Q}=G,te=[M(Q,q),P(G,q)];return function L(G,{params:B,message:q},X){const{keyword:Q,data:te,schemaValue:ie,it:ae}=G,{opts:me,propertyName:ge,topSchemaRef:de,schemaPath:z}=ae;X.push([k.keyword,Q],[k.params,"function"==typeof B?B(G):B||O._`{}`]),me.messages&&X.push([k.message,"function"==typeof q?q(G):q]),me.verbose&&X.push([k.schema,ie],[k.parentSchema,O._`${de}${z}`],[U.default.data,te]),ge&&X.push([k.propertyName,ge])}(G,B,te),X.object(...te)}(G,B,q)}function M({errorPath:G},{instancePath:B}){const q=B?O.str`${G}${(0,$.getErrorPath)(B,$.Type.Str)}`:G;return[U.default.instancePath,(0,O.strConcat)(U.default.instancePath,q)]}function P({keyword:G,it:{errSchemaPath:B}},{schemaPath:q,parentSchema:X}){let Q=X?B:O.str`${B}/${G}`;return q&&(Q=O.str`${Q}${(0,$.getErrorPath)(q,$.Type.Str)}`),[k.schemaPath,Q]}},7762:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.resolveSchema=I.getCompilingSchema=I.resolveRef=I.compileSchema=I.SchemaEnv=void 0;const O=A(85432),$=A(9857),U=A(12682),K=A(28222),y=A(87868),T=A(87157);class w{constructor(q){var X;let Q;this.refs={},this.dynamicAnchors={},"object"==typeof q.schema&&(Q=q.schema),this.schema=q.schema,this.schemaId=q.schemaId,this.root=q.root||this,this.baseId=null!==(X=q.baseId)&&void 0!==X?X:(0,K.normalizeId)(Q?.[q.schemaId||"$id"]),this.schemaPath=q.schemaPath,this.localRefs=q.localRefs,this.meta=q.meta,this.$async=Q?.$async,this.refs={}}}function x(B){const q=v.call(this,B);if(q)return q;const X=(0,K.getFullPath)(this.opts.uriResolver,B.root.baseId),{es5:Q,lines:te}=this.opts.code,{ownProperties:ie}=this.opts,ae=new O.CodeGen(this.scope,{es5:Q,lines:te,ownProperties:ie});let me;B.$async&&(me=ae.scopeValue("Error",{ref:$.default,code:O._`require("ajv/dist/runtime/validation_error").default`}));const ge=ae.scopeName("validate");B.validateName=ge;const de={gen:ae,allErrors:this.opts.allErrors,data:U.default.data,parentData:U.default.parentData,parentDataProperty:U.default.parentDataProperty,dataNames:[U.default.data],dataPathArr:[O.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ae.scopeValue("schema",!0===this.opts.code.source?{ref:B.schema,code:(0,O.stringify)(B.schema)}:{ref:B.schema}),validateName:ge,ValidationError:me,schema:B.schema,schemaEnv:B,rootId:X,baseId:B.baseId||X,schemaPath:O.nil,errSchemaPath:B.schemaPath||(this.opts.jtd?"":"#"),errorPath:O._`""`,opts:this.opts,self:this};let z;try{this._compilations.add(B),(0,T.validateFunctionCode)(de),ae.optimize(this.opts.code.optimize);const d=ae.toString();z=`${ae.scopeRefs(U.default.scope)}return ${d}`,this.opts.code.process&&(z=this.opts.code.process(z,B));const b=new Function(`${U.default.self}`,`${U.default.scope}`,z)(this,this.scope.get());if(this.scope.value(ge,{ref:b}),b.errors=null,b.schema=B.schema,b.schemaEnv=B,B.$async&&(b.$async=!0),!0===this.opts.code.source&&(b.source={validateName:ge,validateCode:d,scopeValues:ae._values}),this.opts.unevaluated){const{props:C,items:D}=de;b.evaluated={props:C instanceof O.Name?void 0:C,items:D instanceof O.Name?void 0:D,dynamicProps:C instanceof O.Name,dynamicItems:D instanceof O.Name},b.source&&(b.source.evaluated=(0,O.stringify)(b.evaluated))}return B.validate=b,B}catch(d){throw delete B.validate,delete B.validateName,z&&this.logger.error("Error compiling schema, function code:",z),d}finally{this._compilations.delete(B)}}function k(B){return(0,K.inlineRef)(B.schema,this.opts.inlineRefs)?B.schema:B.validate?B:x.call(this,B)}function v(B){for(const q of this._compilations)if(N(q,B))return q}function N(B,q){return B.schema===q.schema&&B.root===q.root&&B.baseId===q.baseId}function M(B,q){let X;for(;"string"==typeof(X=this.refs[q]);)q=X;return X||this.schemas[q]||P.call(this,B,q)}function P(B,q){const X=this.opts.uriResolver.parse(q),Q=(0,K._getFullPath)(this.opts.uriResolver,X);let te=(0,K.getFullPath)(this.opts.uriResolver,B.baseId,void 0);if(Object.keys(B.schema).length>0&&Q===te)return G.call(this,X,B);const ie=(0,K.normalizeId)(Q),ae=this.refs[ie]||this.schemas[ie];if("string"==typeof ae){const me=P.call(this,B,ae);return"object"!=typeof me?.schema?void 0:G.call(this,X,me)}if("object"==typeof ae?.schema){if(ae.validate||x.call(this,ae),ie===(0,K.normalizeId)(q)){const{schema:me}=ae,{schemaId:ge}=this.opts,de=me[ge];return de&&(te=(0,K.resolveUrl)(this.opts.uriResolver,te,de)),new w({schema:me,schemaId:ge,root:B,baseId:te})}return G.call(this,X,ae)}}I.SchemaEnv=w,I.compileSchema=x,I.resolveRef=function R(B,q,X){var Q;X=(0,K.resolveUrl)(this.opts.uriResolver,q,X);const te=B.refs[X];if(te)return te;let ie=M.call(this,B,X);if(void 0===ie){const ae=null===(Q=B.localRefs)||void 0===Q?void 0:Q[X],{schemaId:me}=this.opts;ae&&(ie=new w({schema:ae,schemaId:me,root:B,baseId:q}))}return void 0!==ie?B.refs[X]=k.call(this,ie):void 0},I.getCompilingSchema=v,I.resolveSchema=P;const L=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function G(B,{baseId:q,schema:X,root:Q}){var te;if("/"!==(null===(te=B.fragment)||void 0===te?void 0:te[0]))return;for(const me of B.fragment.slice(1).split("/")){if("boolean"==typeof X)return;const ge=X[(0,y.unescapeFragment)(me)];if(void 0===ge)return;const de="object"==typeof(X=ge)&&X[this.opts.schemaId];!L.has(me)&&de&&(q=(0,K.resolveUrl)(this.opts.uriResolver,q,de))}let ie;if("boolean"!=typeof X&&X.$ref&&!(0,y.schemaHasRulesButRef)(X,this.RULES)){const me=(0,K.resolveUrl)(this.opts.uriResolver,q,X.$ref);ie=P.call(this,Q,me)}const{schemaId:ae}=this.opts;return ie=ie||new w({schema:X,schemaId:ae,root:Q,baseId:q}),ie.schema!==ie.root.schema?ie:void 0}},12682:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$={data:new O.Name("data"),valCxt:new O.Name("valCxt"),instancePath:new O.Name("instancePath"),parentData:new O.Name("parentData"),parentDataProperty:new O.Name("parentDataProperty"),rootData:new O.Name("rootData"),dynamicAnchors:new O.Name("dynamicAnchors"),vErrors:new O.Name("vErrors"),errors:new O.Name("errors"),this:new O.Name("this"),self:new O.Name("self"),scope:new O.Name("scope"),json:new O.Name("json"),jsonPos:new O.Name("jsonPos"),jsonLen:new O.Name("jsonLen"),jsonPart:new O.Name("jsonPart")};I.default=$},66606:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(28222);class $ extends Error{constructor(K,y,T,w){super(w||`can't resolve reference ${T} from id ${y}`),this.missingRef=(0,O.resolveUrl)(K,y,T),this.missingSchema=(0,O.normalizeId)((0,O.getFullPath)(K,this.missingRef))}}I.default=$},28222:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getSchemaRefs=I.resolveUrl=I.normalizeId=I._getFullPath=I.getFullPath=I.inlineRef=void 0;const O=A(87868),$=A(40362),U=A(44331),K=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);I.inlineRef=function y(G,B=!0){return"boolean"==typeof G||(!0===B?!w(G):!!B&&x(G)<=B)};const T=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function w(G){for(const B in G){if(T.has(B))return!0;const q=G[B];if(Array.isArray(q)&&q.some(w)||"object"==typeof q&&w(q))return!0}return!1}function x(G){let B=0;for(const q in G){if("$ref"===q)return 1/0;if(B++,!K.has(q)&&("object"==typeof G[q]&&(0,O.eachItem)(G[q],X=>B+=x(X)),B===1/0))return 1/0}return B}function R(G,B="",q){!1!==q&&(B=N(B));const X=G.parse(B);return k(G,X)}function k(G,B){return G.serialize(B).split("#")[0]+"#"}I.getFullPath=R,I._getFullPath=k;const v=/#\/?$/;function N(G){return G?G.replace(v,""):""}I.normalizeId=N,I.resolveUrl=function M(G,B,q){return q=N(q),G.resolve(B,q)};const P=/^[a-z_][-a-z0-9._]*$/i;I.getSchemaRefs=function L(G,B){if("boolean"==typeof G)return{};const{schemaId:q,uriResolver:X}=this.opts,Q=N(G[q]||B),te={"":Q},ie=R(X,Q,!1),ae={},me=new Set;return U(G,{allKeys:!0},(z,d,f,b)=>{if(void 0===b)return;const C=ie+d;let D=te[b];function V(F){if(F=N(D?(0,this.opts.uriResolver.resolve)(D,F):F),me.has(F))throw de(F);me.add(F);let g=this.refs[F];return"string"==typeof g&&(g=this.refs[g]),"object"==typeof g?ge(z,g.schema,F):F!==N(C)&&("#"===F[0]?(ge(z,ae[F],F),ae[F]=z):this.refs[F]=C),F}function Y(F){if("string"==typeof F){if(!P.test(F))throw new Error(`invalid anchor "${F}"`);V.call(this,`#${F}`)}}"string"==typeof z[q]&&(D=V.call(this,z[q])),Y.call(this,z.$anchor),Y.call(this,z.$dynamicAnchor),te[d]=D}),ae;function ge(z,d,f){if(void 0!==d&&!$(z,d))throw de(f)}function de(z){return new Error(`reference "${z}" resolves to more than one schema`)}}},66093:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getRules=I.isJSONType=void 0;const O=new Set(["string","number","integer","boolean","null","object","array"]);I.isJSONType=function $(K){return"string"==typeof K&&O.has(K)},I.getRules=function U(){const K={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...K,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},K.number,K.string,K.array,K.object],post:{rules:[]},all:{},keywords:{}}}},87868:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const O=A(85432),$=A(43467);function y(ie,ae=ie.schema){const{opts:me,self:ge}=ie;if(!me.strictSchema||"boolean"==typeof ae)return;const de=ge.RULES.keywords;for(const z in ae)de[z]||te(ie,`unknown keyword: "${z}"`)}function T(ie,ae){if("boolean"==typeof ie)return!ie;for(const me in ie)if(ae[me])return!0;return!1}function v(ie){return"number"==typeof ie?`${ie}`:ie.replace(/~/g,"~0").replace(/\//g,"~1")}function N(ie){return ie.replace(/~1/g,"/").replace(/~0/g,"~")}function P({mergeNames:ie,mergeToName:ae,mergeValues:me,resultToName:ge}){return(de,z,d,f)=>{const b=void 0===d?z:d instanceof O.Name?(z instanceof O.Name?ie(de,z,d):ae(de,z,d),d):z instanceof O.Name?(ae(de,d,z),z):me(z,d);return f!==O.Name||b instanceof O.Name?b:ge(de,b)}}function L(ie,ae){if(!0===ae)return ie.var("props",!0);const me=ie.var("props",O._`{}`);return void 0!==ae&&G(ie,me,ae),me}function G(ie,ae,me){Object.keys(me).forEach(ge=>ie.assign(O._`${ae}${(0,O.getProperty)(ge)}`,!0))}I.toHash=function U(ie){const ae={};for(const me of ie)ae[me]=!0;return ae},I.alwaysValidSchema=function K(ie,ae){return"boolean"==typeof ae?ae:0===Object.keys(ae).length||(y(ie,ae),!T(ae,ie.self.RULES.all))},I.checkUnknownRules=y,I.schemaHasRules=T,I.schemaHasRulesButRef=function w(ie,ae){if("boolean"==typeof ie)return!ie;for(const me in ie)if("$ref"!==me&&ae.all[me])return!0;return!1},I.schemaRefOrVal=function x({topSchemaRef:ie,schemaPath:ae},me,ge,de){if(!de){if("number"==typeof me||"boolean"==typeof me)return me;if("string"==typeof me)return O._`${me}`}return O._`${ie}${ae}${(0,O.getProperty)(ge)}`},I.unescapeFragment=function R(ie){return N(decodeURIComponent(ie))},I.escapeFragment=function k(ie){return encodeURIComponent(v(ie))},I.escapeJsonPointer=v,I.unescapeJsonPointer=N,I.eachItem=function M(ie,ae){if(Array.isArray(ie))for(const me of ie)ae(me);else ae(ie)},I.mergeEvaluated={props:P({mergeNames:(ie,ae,me)=>ie.if(O._`${me} !== true && ${ae} !== undefined`,()=>{ie.if(O._`${ae} === true`,()=>ie.assign(me,!0),()=>ie.assign(me,O._`${me} || {}`).code(O._`Object.assign(${me}, ${ae})`))}),mergeToName:(ie,ae,me)=>ie.if(O._`${me} !== true`,()=>{!0===ae?ie.assign(me,!0):(ie.assign(me,O._`${me} || {}`),G(ie,me,ae))}),mergeValues:(ie,ae)=>!0===ie||{...ie,...ae},resultToName:L}),items:P({mergeNames:(ie,ae,me)=>ie.if(O._`${me} !== true && ${ae} !== undefined`,()=>ie.assign(me,O._`${ae} === true ? true : ${me} > ${ae} ? ${me} : ${ae}`)),mergeToName:(ie,ae,me)=>ie.if(O._`${me} !== true`,()=>ie.assign(me,!0===ae||O._`${me} > ${ae} ? ${me} : ${ae}`)),mergeValues:(ie,ae)=>!0===ie||Math.max(ie,ae),resultToName:(ie,ae)=>ie.var("items",ae)})},I.evaluatedPropsToName=L,I.setEvaluated=G;const B={};I.useFunc=function q(ie,ae){return ie.scopeValue("func",{ref:ae,code:B[ae.code]||(B[ae.code]=new $._Code(ae.code))})};var X=function(ie){return ie[ie.Num=0]="Num",ie[ie.Str=1]="Str",ie}(X||(I.Type=X={}));function te(ie,ae,me=ie.opts.strictSchema){if(me){if(ae=`strict mode: ${ae}`,!0===me)throw new Error(ae);ie.self.logger.warn(ae)}}I.getErrorPath=function Q(ie,ae,me){if(ie instanceof O.Name){const ge=ae===X.Num;return me?ge?O._`"[" + ${ie} + "]"`:O._`"['" + ${ie} + "']"`:ge?O._`"/" + ${ie}`:O._`"/" + ${ie}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return me?(0,O.getProperty)(ie).toString():"/"+v(ie)},I.checkStrictMode=te},61064:(ye,I)=>{"use strict";function O(U,K){return K.rules.some(y=>$(U,y))}function $(U,K){var y;return void 0!==U[K.keyword]||(null===(y=K.definition.implements)||void 0===y?void 0:y.some(T=>void 0!==U[T]))}Object.defineProperty(I,"__esModule",{value:!0}),I.shouldUseRule=I.shouldUseGroup=I.schemaHasRulesForType=void 0,I.schemaHasRulesForType=function A({schema:U,self:K},y){const T=K.RULES.types[y];return T&&!0!==T&&O(U,T)},I.shouldUseGroup=O,I.shouldUseRule=$},89318:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.boolOrEmptySchema=I.topBoolOrEmptySchema=void 0;const O=A(37511),$=A(85432),U=A(12682),K={message:"boolean schema is false"};function w(x,R){const{gen:k,data:v}=x;(0,O.reportError)({gen:k,keyword:"false schema",data:v,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:x},K,void 0,R)}I.topBoolOrEmptySchema=function y(x){const{gen:R,schema:k,validateName:v}=x;!1===k?w(x,!1):"object"==typeof k&&!0===k.$async?R.return(U.default.data):(R.assign($._`${v}.errors`,null),R.return(!0))},I.boolOrEmptySchema=function T(x,R){const{gen:k,schema:v}=x;!1===v?(k.var(R,!1),w(x)):k.var(R,!0)}},15894:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.reportTypeError=I.checkDataTypes=I.checkDataType=I.coerceAndCheckDataType=I.getJSONTypes=I.getSchemaTypes=I.DataType=void 0;const O=A(66093),$=A(61064),U=A(37511),K=A(85432),y=A(87868);var T=function(X){return X[X.Correct=0]="Correct",X[X.Wrong=1]="Wrong",X}(T||(I.DataType=T={}));function x(X){const Q=Array.isArray(X)?X:X?[X]:[];if(Q.every(O.isJSONType))return Q;throw new Error("type must be JSONType or JSONType[]: "+Q.join(","))}I.getSchemaTypes=function w(X){const Q=x(X.type);if(Q.includes("null")){if(!1===X.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!Q.length&&void 0!==X.nullable)throw new Error('"nullable" cannot be used without "type"');!0===X.nullable&&Q.push("null")}return Q},I.getJSONTypes=x,I.coerceAndCheckDataType=function R(X,Q){const{gen:te,data:ie,opts:ae}=X,me=function v(X,Q){return Q?X.filter(te=>k.has(te)||"array"===Q&&"array"===te):[]}(Q,ae.coerceTypes),ge=Q.length>0&&!(0===me.length&&1===Q.length&&(0,$.schemaHasRulesForType)(X,Q[0]));if(ge){const de=L(Q,ie,ae.strictNumbers,T.Wrong);te.if(de,()=>{me.length?function N(X,Q,te){const{gen:ie,data:ae,opts:me}=X,ge=ie.let("dataType",K._`typeof ${ae}`),de=ie.let("coerced",K._`undefined`);"array"===me.coerceTypes&&ie.if(K._`${ge} == 'object' && Array.isArray(${ae}) && ${ae}.length == 1`,()=>ie.assign(ae,K._`${ae}[0]`).assign(ge,K._`typeof ${ae}`).if(L(Q,ae,me.strictNumbers),()=>ie.assign(de,ae))),ie.if(K._`${de} !== undefined`);for(const d of te)(k.has(d)||"array"===d&&"array"===me.coerceTypes)&&z(d);function z(d){switch(d){case"string":return void ie.elseIf(K._`${ge} == "number" || ${ge} == "boolean"`).assign(de,K._`"" + ${ae}`).elseIf(K._`${ae} === null`).assign(de,K._`""`);case"number":return void ie.elseIf(K._`${ge} == "boolean" || ${ae} === null
              || (${ge} == "string" && ${ae} && ${ae} == +${ae})`).assign(de,K._`+${ae}`);case"integer":return void ie.elseIf(K._`${ge} === "boolean" || ${ae} === null
              || (${ge} === "string" && ${ae} && ${ae} == +${ae} && !(${ae} % 1))`).assign(de,K._`+${ae}`);case"boolean":return void ie.elseIf(K._`${ae} === "false" || ${ae} === 0 || ${ae} === null`).assign(de,!1).elseIf(K._`${ae} === "true" || ${ae} === 1`).assign(de,!0);case"null":return ie.elseIf(K._`${ae} === "" || ${ae} === 0 || ${ae} === false`),void ie.assign(de,null);case"array":ie.elseIf(K._`${ge} === "string" || ${ge} === "number"
              || ${ge} === "boolean" || ${ae} === null`).assign(de,K._`[${ae}]`)}}ie.else(),B(X),ie.endIf(),ie.if(K._`${de} !== undefined`,()=>{ie.assign(ae,de),function M({gen:X,parentData:Q,parentDataProperty:te},ie){X.if(K._`${Q} !== undefined`,()=>X.assign(K._`${Q}[${te}]`,ie))}(X,de)})}(X,Q,me):B(X)})}return ge};const k=new Set(["string","number","integer","boolean","null"]);function P(X,Q,te,ie=T.Correct){const ae=ie===T.Correct?K.operators.EQ:K.operators.NEQ;let me;switch(X){case"null":return K._`${Q} ${ae} null`;case"array":me=K._`Array.isArray(${Q})`;break;case"object":me=K._`${Q} && typeof ${Q} == "object" && !Array.isArray(${Q})`;break;case"integer":me=ge(K._`!(${Q} % 1) && !isNaN(${Q})`);break;case"number":me=ge();break;default:return K._`typeof ${Q} ${ae} ${X}`}return ie===T.Correct?me:(0,K.not)(me);function ge(de=K.nil){return(0,K.and)(K._`typeof ${Q} == "number"`,de,te?K._`isFinite(${Q})`:K.nil)}}function L(X,Q,te,ie){if(1===X.length)return P(X[0],Q,te,ie);let ae;const me=(0,y.toHash)(X);if(me.array&&me.object){const ge=K._`typeof ${Q} != "object"`;ae=me.null?ge:K._`!${Q} || ${ge}`,delete me.null,delete me.array,delete me.object}else ae=K.nil;me.number&&delete me.integer;for(const ge in me)ae=(0,K.and)(ae,P(ge,Q,te,ie));return ae}I.checkDataType=P,I.checkDataTypes=L;const G={message:({schema:X})=>`must be ${X}`,params:({schema:X,schemaValue:Q})=>"string"==typeof X?K._`{type: ${X}}`:K._`{type: ${Q}}`};function B(X){const Q=function q(X){const{gen:Q,data:te,schema:ie}=X,ae=(0,y.schemaRefOrVal)(X,ie,"type");return{gen:Q,keyword:"type",data:te,schema:ie.type,schemaCode:ae,schemaValue:ae,parentSchema:ie,params:{},it:X}}(X);(0,U.reportError)(Q,G)}I.reportTypeError=B},13599:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.assignDefaults=void 0;const O=A(85432),$=A(87868);function K(y,T,w){const{gen:x,compositeRule:R,data:k,opts:v}=y;if(void 0===w)return;const N=O._`${k}${(0,O.getProperty)(T)}`;if(R)return void(0,$.checkStrictMode)(y,`default is ignored for: ${N}`);let M=O._`${N} === undefined`;"empty"===v.useDefaults&&(M=O._`${M} || ${N} === null || ${N} === ""`),x.if(M,O._`${N} = ${(0,O.stringify)(w)}`)}I.assignDefaults=function U(y,T){const{properties:w,items:x}=y.schema;if("object"===T&&w)for(const R in w)K(y,R,w[R].default);else"array"===T&&Array.isArray(x)&&x.forEach((R,k)=>K(y,k,R.default))}},87157:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getData=I.KeywordCxt=I.validateFunctionCode=void 0;const O=A(89318),$=A(15894),U=A(61064),K=A(15894),y=A(13599),T=A(40742),w=A(35924),x=A(85432),R=A(12682),k=A(28222),v=A(87868),N=A(37511);function P({gen:Te,validateName:u,schema:xe,schemaEnv:be,opts:_e},Ce){_e.code.es5?Te.func(u,x._`${R.default.data}, ${R.default.valCxt}`,be.$async,()=>{Te.code(x._`"use strict"; ${X(xe,_e)}`),function G(Te,u){Te.if(R.default.valCxt,()=>{Te.var(R.default.instancePath,x._`${R.default.valCxt}.${R.default.instancePath}`),Te.var(R.default.parentData,x._`${R.default.valCxt}.${R.default.parentData}`),Te.var(R.default.parentDataProperty,x._`${R.default.valCxt}.${R.default.parentDataProperty}`),Te.var(R.default.rootData,x._`${R.default.valCxt}.${R.default.rootData}`),u.dynamicRef&&Te.var(R.default.dynamicAnchors,x._`${R.default.valCxt}.${R.default.dynamicAnchors}`)},()=>{Te.var(R.default.instancePath,x._`""`),Te.var(R.default.parentData,x._`undefined`),Te.var(R.default.parentDataProperty,x._`undefined`),Te.var(R.default.rootData,R.default.data),u.dynamicRef&&Te.var(R.default.dynamicAnchors,x._`{}`)})}(Te,_e),Te.code(Ce)}):Te.func(u,x._`${R.default.data}, ${function L(Te){return x._`{${R.default.instancePath}="", ${R.default.parentData}, ${R.default.parentDataProperty}, ${R.default.rootData}=${R.default.data}${Te.dynamicRef?x._`, ${R.default.dynamicAnchors}={}`:x.nil}}={}`}(_e)}`,be.$async,()=>Te.code(X(xe,_e)).code(Ce))}function X(Te,u){const xe="object"==typeof Te&&Te[u.schemaId];return xe&&(u.code.source||u.code.process)?x._`/*# sourceURL=${xe} */`:x.nil}function te({schema:Te,self:u}){if("boolean"==typeof Te)return!Te;for(const xe in Te)if(u.RULES.all[xe])return!0;return!1}function ie(Te){return"boolean"!=typeof Te.schema}function me(Te){(0,v.checkUnknownRules)(Te),function de(Te){const{schema:u,errSchemaPath:xe,opts:be,self:_e}=Te;u.$ref&&be.ignoreKeywordsWithRef&&(0,v.schemaHasRulesButRef)(u,_e.RULES)&&_e.logger.warn(`$ref: keywords ignored in schema at path "${xe}"`)}(Te)}function ge(Te,u){if(Te.opts.jtd)return V(Te,[],!1,u);const xe=(0,$.getSchemaTypes)(Te.schema);V(Te,xe,!(0,$.coerceAndCheckDataType)(Te,xe),u)}function b({gen:Te,schemaEnv:u,schema:xe,errSchemaPath:be,opts:_e}){const Ce=xe.$comment;if(!0===_e.$comment)Te.code(x._`${R.default.self}.logger.log(${Ce})`);else if("function"==typeof _e.$comment){const ke=x.str`${be}/$comment`,ze=Te.scopeValue("root",{ref:u.root});Te.code(x._`${R.default.self}.opts.$comment(${Ce}, ${ke}, ${ze}.schema)`)}}function V(Te,u,xe,be){const{gen:_e,schema:Ce,data:ke,allErrors:ze,opts:Ne,self:We}=Te,{RULES:Ye}=We;function wt(mt){(0,U.shouldUseGroup)(Ce,mt)&&(mt.type?(_e.if((0,K.checkDataType)(mt.type,ke,Ne.strictNumbers)),Y(Te,mt),1===u.length&&u[0]===mt.type&&xe&&(_e.else(),(0,K.reportTypeError)(Te)),_e.endIf()):Y(Te,mt),ze||_e.if(x._`${R.default.errors} === ${be||0}`))}!Ce.$ref||!Ne.ignoreKeywordsWithRef&&(0,v.schemaHasRulesButRef)(Ce,Ye)?(Ne.jtd||function F(Te,u){Te.schemaEnv.meta||!Te.opts.strictTypes||(function h(Te,u){if(u.length){if(!Te.dataTypes.length)return void(Te.dataTypes=u);u.forEach(xe=>{re(Te.dataTypes,xe)||Ae(Te,`type "${xe}" not allowed by context "${Te.dataTypes.join(",")}"`)}),function fe(Te,u){const xe=[];for(const be of Te.dataTypes)re(u,be)?xe.push(be):u.includes("integer")&&"number"===be&&xe.push("integer");Te.dataTypes=xe}(Te,u)}}(Te,u),Te.opts.allowUnionTypes||function g(Te,u){u.length>1&&(2!==u.length||!u.includes("null"))&&Ae(Te,"use allowUnionTypes to allow union type keyword")}(Te,u),function J(Te,u){const xe=Te.self.RULES.all;for(const be in xe){const _e=xe[be];if("object"==typeof _e&&(0,U.shouldUseRule)(Te.schema,_e)){const{type:Ce}=_e.definition;Ce.length&&!Ce.some(ke=>ee(u,ke))&&Ae(Te,`missing type "${Ce.join(",")}" for keyword "${be}"`)}}}(Te,Te.dataTypes))}(Te,u),_e.block(()=>{for(const mt of Ye.rules)wt(mt);wt(Ye.post)})):_e.block(()=>Le(Te,"$ref",Ye.all.$ref.definition))}function Y(Te,u){const{gen:xe,schema:be,opts:{useDefaults:_e}}=Te;_e&&(0,y.assignDefaults)(Te,u.type),xe.block(()=>{for(const Ce of u.rules)(0,U.shouldUseRule)(be,Ce)&&Le(Te,Ce.keyword,Ce.definition,u.type)})}function ee(Te,u){return Te.includes(u)||"number"===u&&Te.includes("integer")}function re(Te,u){return Te.includes(u)||"integer"===u&&Te.includes("number")}function Ae(Te,u){(0,v.checkStrictMode)(Te,u+=` at "${Te.schemaEnv.baseId+Te.errSchemaPath}" (strictTypes)`,Te.opts.strictTypes)}I.validateFunctionCode=function M(Te){ie(Te)&&(me(Te),te(Te))?function B(Te){const{schema:u,opts:xe,gen:be}=Te;P(Te,()=>{xe.$comment&&u.$comment&&b(Te),function z(Te){const{schema:u,opts:xe}=Te;void 0!==u.default&&xe.useDefaults&&xe.strictSchema&&(0,v.checkStrictMode)(Te,"default is ignored in the schema root")}(Te),be.let(R.default.vErrors,null),be.let(R.default.errors,0),xe.unevaluated&&function q(Te){const{gen:u,validateName:xe}=Te;Te.evaluated=u.const("evaluated",x._`${xe}.evaluated`),u.if(x._`${Te.evaluated}.dynamicProps`,()=>u.assign(x._`${Te.evaluated}.props`,x._`undefined`)),u.if(x._`${Te.evaluated}.dynamicItems`,()=>u.assign(x._`${Te.evaluated}.items`,x._`undefined`))}(Te),ge(Te),function C(Te){const{gen:u,schemaEnv:xe,validateName:be,ValidationError:_e,opts:Ce}=Te;xe.$async?u.if(x._`${R.default.errors} === 0`,()=>u.return(R.default.data),()=>u.throw(x._`new ${_e}(${R.default.vErrors})`)):(u.assign(x._`${be}.errors`,R.default.vErrors),Ce.unevaluated&&function D({gen:Te,evaluated:u,props:xe,items:be}){xe instanceof x.Name&&Te.assign(x._`${u}.props`,xe),be instanceof x.Name&&Te.assign(x._`${u}.items`,be)}(Te),u.return(x._`${R.default.errors} === 0`))}(Te)})}(Te):P(Te,()=>(0,O.topBoolOrEmptySchema)(Te))};class Me{constructor(u,xe,be){if((0,T.validateKeywordUsage)(u,xe,be),this.gen=u.gen,this.allErrors=u.allErrors,this.keyword=be,this.data=u.data,this.schema=u.schema[be],this.$data=xe.$data&&u.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,v.schemaRefOrVal)(u,this.schema,be,this.$data),this.schemaType=xe.schemaType,this.parentSchema=u.schema,this.params={},this.it=u,this.def=xe,this.$data)this.schemaCode=u.gen.const("vSchema",He(this.$data,u));else if(this.schemaCode=this.schemaValue,!(0,T.validSchemaType)(this.schema,xe.schemaType,xe.allowUndefined))throw new Error(`${be} value must be ${JSON.stringify(xe.schemaType)}`);("code"in xe?xe.trackErrors:!1!==xe.errors)&&(this.errsCount=u.gen.const("_errs",R.default.errors))}result(u,xe,be){this.failResult((0,x.not)(u),xe,be)}failResult(u,xe,be){this.gen.if(u),be?be():this.error(),xe?(this.gen.else(),xe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(u,xe){this.failResult((0,x.not)(u),void 0,xe)}fail(u){if(void 0===u)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(u),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(u){if(!this.$data)return this.fail(u);const{schemaCode:xe}=this;this.fail(x._`${xe} !== undefined && (${(0,x.or)(this.invalid$data(),u)})`)}error(u,xe,be){if(xe)return this.setParams(xe),this._error(u,be),void this.setParams({});this._error(u,be)}_error(u,xe){(u?N.reportExtraError:N.reportError)(this,this.def.error,xe)}$dataError(){(0,N.reportError)(this,this.def.$dataError||N.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,N.resetErrorsCount)(this.gen,this.errsCount)}ok(u){this.allErrors||this.gen.if(u)}setParams(u,xe){xe?Object.assign(this.params,u):this.params=u}block$data(u,xe,be=x.nil){this.gen.block(()=>{this.check$data(u,be),xe()})}check$data(u=x.nil,xe=x.nil){if(!this.$data)return;const{gen:be,schemaCode:_e,schemaType:Ce,def:ke}=this;be.if((0,x.or)(x._`${_e} === undefined`,xe)),u!==x.nil&&be.assign(u,!0),(Ce.length||ke.validateSchema)&&(be.elseIf(this.invalid$data()),this.$dataError(),u!==x.nil&&be.assign(u,!1)),be.else()}invalid$data(){const{gen:u,schemaCode:xe,schemaType:be,def:_e,it:Ce}=this;return(0,x.or)(function ke(){if(be.length){if(!(xe instanceof x.Name))throw new Error("ajv implementation error");const Ne=Array.isArray(be)?be:[be];return x._`${(0,K.checkDataTypes)(Ne,xe,Ce.opts.strictNumbers,K.DataType.Wrong)}`}return x.nil}(),function ze(){if(_e.validateSchema){const Ne=u.scopeValue("validate$data",{ref:_e.validateSchema});return x._`!${Ne}(${xe})`}return x.nil}())}subschema(u,xe){const be=(0,w.getSubschema)(this.it,u);(0,w.extendSubschemaData)(be,this.it,u),(0,w.extendSubschemaMode)(be,u);const _e={...this.it,...be,items:void 0,props:void 0};return function Q(Te,u){ie(Te)&&(me(Te),te(Te))?function ae(Te,u){const{schema:xe,gen:be,opts:_e}=Te;_e.$comment&&xe.$comment&&b(Te),function d(Te){const u=Te.schema[Te.opts.schemaId];u&&(Te.baseId=(0,k.resolveUrl)(Te.opts.uriResolver,Te.baseId,u))}(Te),function f(Te){if(Te.schema.$async&&!Te.schemaEnv.$async)throw new Error("async schema in sync schema")}(Te);const Ce=be.const("_errs",R.default.errors);ge(Te,Ce),be.var(u,x._`${Ce} === ${R.default.errors}`)}(Te,u):(0,O.boolOrEmptySchema)(Te,u)}(_e,xe),_e}mergeEvaluated(u,xe){const{it:be,gen:_e}=this;be.opts.unevaluated&&(!0!==be.props&&void 0!==u.props&&(be.props=v.mergeEvaluated.props(_e,u.props,be.props,xe)),!0!==be.items&&void 0!==u.items&&(be.items=v.mergeEvaluated.items(_e,u.items,be.items,xe)))}mergeValidEvaluated(u,xe){const{it:be,gen:_e}=this;if(be.opts.unevaluated&&(!0!==be.props||!0!==be.items))return _e.if(xe,()=>this.mergeEvaluated(u,x.Name)),!0}}function Le(Te,u,xe,be){const _e=new Me(Te,xe,u);"code"in xe?xe.code(_e,be):_e.$data&&xe.validate?(0,T.funcKeywordCode)(_e,xe):"macro"in xe?(0,T.macroKeywordCode)(_e,xe):(xe.compile||xe.validate)&&(0,T.funcKeywordCode)(_e,xe)}I.KeywordCxt=Me;const Ee=/^\/(?:[^~]|~0|~1)*$/,Se=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function He(Te,{dataLevel:u,dataNames:xe,dataPathArr:be}){let _e,Ce;if(""===Te)return R.default.rootData;if("/"===Te[0]){if(!Ee.test(Te))throw new Error(`Invalid JSON-pointer: ${Te}`);_e=Te,Ce=R.default.rootData}else{const We=Se.exec(Te);if(!We)throw new Error(`Invalid JSON-pointer: ${Te}`);const Ye=+We[1];if(_e=We[2],"#"===_e){if(Ye>=u)throw new Error(Ne("property/index",Ye));return be[u-Ye]}if(Ye>u)throw new Error(Ne("data",Ye));if(Ce=xe[u-Ye],!_e)return Ce}let ke=Ce;const ze=_e.split("/");for(const We of ze)We&&(Ce=x._`${Ce}${(0,x.getProperty)((0,v.unescapeJsonPointer)(We))}`,ke=x._`${ke} && ${Ce}`);return ke;function Ne(We,Ye){return`Cannot access ${We} ${Ye} levels up, current level is ${u}`}}I.getData=He},40742:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateKeywordUsage=I.validSchemaType=I.funcKeywordCode=I.macroKeywordCode=void 0;const O=A(85432),$=A(12682),U=A(12240),K=A(37511);function w(M){const{gen:P,data:L,it:G}=M;P.if(G.parentData,()=>P.assign(L,O._`${G.parentData}[${G.parentDataProperty}]`))}function k(M,P,L){if(void 0===L)throw new Error(`keyword "${P}" failed to compile`);return M.scopeValue("keyword","function"==typeof L?{ref:L}:{ref:L,code:(0,O.stringify)(L)})}I.macroKeywordCode=function y(M,P){const{gen:L,keyword:G,schema:B,parentSchema:q,it:X}=M,Q=P.macro.call(X.self,B,q,X),te=k(L,G,Q);!1!==X.opts.validateSchema&&X.self.validateSchema(Q,!0);const ie=L.name("valid");M.subschema({schema:Q,schemaPath:O.nil,errSchemaPath:`${X.errSchemaPath}/${G}`,topSchemaRef:te,compositeRule:!0},ie),M.pass(ie,()=>M.error(!0))},I.funcKeywordCode=function T(M,P){var L;const{gen:G,keyword:B,schema:q,parentSchema:X,$data:Q,it:te}=M;!function R({schemaEnv:M},P){if(P.async&&!M.$async)throw new Error("async keyword in sync schema")}(te,P);const ie=!Q&&P.compile?P.compile.call(te.self,q,X,te):P.validate,ae=k(G,B,ie),me=G.let("valid");function d(b=(P.async?O._`await `:O.nil)){G.assign(me,O._`${b}${(0,U.callValidateCode)(M,ae,te.opts.passContext?$.default.this:$.default.self,!("compile"in P&&!Q||!1===P.schema))}`,P.modifying)}function f(b){var C;G.if((0,O.not)(null!==(C=P.valid)&&void 0!==C?C:me),b)}M.block$data(me,function ge(){if(!1===P.errors)d(),P.modifying&&w(M),f(()=>M.error());else{const b=P.async?function de(){const b=G.let("ruleErrs",null);return G.try(()=>d(O._`await `),C=>G.assign(me,!1).if(O._`${C} instanceof ${te.ValidationError}`,()=>G.assign(b,O._`${C}.errors`),()=>G.throw(C))),b}():function z(){const b=O._`${ae}.errors`;return G.assign(b,null),d(O.nil),b}();P.modifying&&w(M),f(()=>function x(M,P){const{gen:L}=M;L.if(O._`Array.isArray(${P})`,()=>{L.assign($.default.vErrors,O._`${$.default.vErrors} === null ? ${P} : ${$.default.vErrors}.concat(${P})`).assign($.default.errors,O._`${$.default.vErrors}.length`),(0,K.extendErrors)(M)},()=>M.error())}(M,b))}}),M.ok(null!==(L=P.valid)&&void 0!==L?L:me)},I.validSchemaType=function v(M,P,L=!1){return!P.length||P.some(G=>"array"===G?Array.isArray(M):"object"===G?M&&"object"==typeof M&&!Array.isArray(M):typeof M==G||L&&typeof M>"u")},I.validateKeywordUsage=function N({schema:M,opts:P,self:L,errSchemaPath:G},B,q){if(Array.isArray(B.keyword)?!B.keyword.includes(q):B.keyword!==q)throw new Error("ajv implementation error");const X=B.dependencies;if(X?.some(Q=>!Object.prototype.hasOwnProperty.call(M,Q)))throw new Error(`parent schema must have dependencies of ${q}: ${X.join(",")}`);if(B.validateSchema&&!B.validateSchema(M[q])){const te=`keyword "${q}" value is invalid at path "${G}": `+L.errorsText(B.validateSchema.errors);if("log"!==P.validateSchema)throw new Error(te);L.logger.error(te)}}},35924:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.extendSubschemaMode=I.extendSubschemaData=I.getSubschema=void 0;const O=A(85432),$=A(87868);I.getSubschema=function U(T,{keyword:w,schemaProp:x,schema:R,schemaPath:k,errSchemaPath:v,topSchemaRef:N}){if(void 0!==w&&void 0!==R)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==w){const M=T.schema[w];return void 0===x?{schema:M,schemaPath:O._`${T.schemaPath}${(0,O.getProperty)(w)}`,errSchemaPath:`${T.errSchemaPath}/${w}`}:{schema:M[x],schemaPath:O._`${T.schemaPath}${(0,O.getProperty)(w)}${(0,O.getProperty)(x)}`,errSchemaPath:`${T.errSchemaPath}/${w}/${(0,$.escapeFragment)(x)}`}}if(void 0!==R){if(void 0===k||void 0===v||void 0===N)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:R,schemaPath:k,topSchemaRef:N,errSchemaPath:v}}throw new Error('either "keyword" or "schema" must be passed')},I.extendSubschemaData=function K(T,w,{dataProp:x,dataPropType:R,data:k,dataTypes:v,propertyName:N}){if(void 0!==k&&void 0!==x)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:M}=w;if(void 0!==x){const{errorPath:L,dataPathArr:G,opts:B}=w;P(M.let("data",O._`${w.data}${(0,O.getProperty)(x)}`,!0)),T.errorPath=O.str`${L}${(0,$.getErrorPath)(x,R,B.jsPropertySyntax)}`,T.parentDataProperty=O._`${x}`,T.dataPathArr=[...G,T.parentDataProperty]}function P(L){T.data=L,T.dataLevel=w.dataLevel+1,T.dataTypes=[],w.definedProperties=new Set,T.parentData=w.data,T.dataNames=[...w.dataNames,L]}void 0!==k&&(P(k instanceof O.Name?k:M.let("data",k,!0)),void 0!==N&&(T.propertyName=N)),v&&(T.dataTypes=v)},I.extendSubschemaMode=function y(T,{jtdDiscriminator:w,jtdMetadata:x,compositeRule:R,createErrors:k,allErrors:v}){void 0!==R&&(T.compositeRule=R),void 0!==k&&(T.createErrors=k),void 0!==v&&(T.allErrors=v),T.jtdDiscriminator=w,T.jtdMetadata=x}},2113:(ye,I,A)=>{"use strict";var O=A(29293).default;Object.defineProperty(I,"__esModule",{value:!0}),I.CodeGen=I.Name=I.nil=I.stringify=I.str=I._=I.KeywordCxt=void 0;var $=A(87157);Object.defineProperty(I,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var U=A(85432);Object.defineProperty(I,"_",{enumerable:!0,get:function(){return U._}}),Object.defineProperty(I,"str",{enumerable:!0,get:function(){return U.str}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return U.stringify}}),Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return U.nil}}),Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return U.Name}}),Object.defineProperty(I,"CodeGen",{enumerable:!0,get:function(){return U.CodeGen}});const K=A(9857),y=A(66606),T=A(66093),w=A(7762),x=A(85432),R=A(28222),k=A(15894),v=A(87868),N=A(63837),M=A(12857),P=(g,J)=>new RegExp(g,J);P.code="new RegExp";const L=["removeAdditional","useDefaults","coerceTypes"],G=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),B={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},q={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function Q(g){var J,ee,re,fe,Ae,Me,Le,Ee,Se,He,Te,u,xe,be,_e,Ce,ke,ze,Ne,We,Ye,wt,mt,rt,Ut;const se=g.strict,W=null===(J=g.code)||void 0===J?void 0:J.optimize,Z=!0===W||void 0===W?1:W||0,he=null!==(re=null===(ee=g.code)||void 0===ee?void 0:ee.regExp)&&void 0!==re?re:P,De=null!==(fe=g.uriResolver)&&void 0!==fe?fe:M.default;return{strictSchema:null===(Me=null!==(Ae=g.strictSchema)&&void 0!==Ae?Ae:se)||void 0===Me||Me,strictNumbers:null===(Ee=null!==(Le=g.strictNumbers)&&void 0!==Le?Le:se)||void 0===Ee||Ee,strictTypes:null!==(He=null!==(Se=g.strictTypes)&&void 0!==Se?Se:se)&&void 0!==He?He:"log",strictTuples:null!==(u=null!==(Te=g.strictTuples)&&void 0!==Te?Te:se)&&void 0!==u?u:"log",strictRequired:null!==(be=null!==(xe=g.strictRequired)&&void 0!==xe?xe:se)&&void 0!==be&&be,code:g.code?{...g.code,optimize:Z,regExp:he}:{optimize:Z,regExp:he},loopRequired:null!==(_e=g.loopRequired)&&void 0!==_e?_e:200,loopEnum:null!==(Ce=g.loopEnum)&&void 0!==Ce?Ce:200,meta:null===(ke=g.meta)||void 0===ke||ke,messages:null===(ze=g.messages)||void 0===ze||ze,inlineRefs:null===(Ne=g.inlineRefs)||void 0===Ne||Ne,schemaId:null!==(We=g.schemaId)&&void 0!==We?We:"$id",addUsedSchema:null===(Ye=g.addUsedSchema)||void 0===Ye||Ye,validateSchema:null===(wt=g.validateSchema)||void 0===wt||wt,validateFormats:null===(mt=g.validateFormats)||void 0===mt||mt,unicodeRegExp:null===(rt=g.unicodeRegExp)||void 0===rt||rt,int32range:null===(Ut=g.int32range)||void 0===Ut||Ut,uriResolver:De}}class te{constructor(J={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,J=this.opts={...J,...Q(J)};const{es5:ee,lines:re}=this.opts.code;this.scope=new x.ValueScope({scope:{},prefixes:G,es5:ee,lines:re}),this.logger=function f(g){if(!1===g)return d;if(void 0===g)return console;if(g.log&&g.warn&&g.error)return g;throw new Error("logger must implement log, warn and error methods")}(J.logger);const fe=J.validateFormats;J.validateFormats=!1,this.RULES=(0,T.getRules)(),ie.call(this,B,J,"NOT SUPPORTED"),ie.call(this,q,J,"DEPRECATED","warn"),this._metaOpts=z.call(this),J.formats&&ge.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),J.keywords&&de.call(this,J.keywords),"object"==typeof J.meta&&this.addMetaSchema(J.meta),me.call(this),J.validateFormats=fe}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:J,meta:ee,schemaId:re}=this.opts;let fe=N;"id"===re&&(fe={...N},fe.id=fe.$id,delete fe.$id),ee&&J&&this.addMetaSchema(fe,fe[re],!1)}defaultMeta(){const{meta:J,schemaId:ee}=this.opts;return this.opts.defaultMeta="object"==typeof J?J[ee]||J:void 0}validate(J,ee){let re;if("string"==typeof J){if(re=this.getSchema(J),!re)throw new Error(`no schema with key or ref "${J}"`)}else re=this.compile(J);const fe=re(ee);return"$async"in re||(this.errors=re.errors),fe}compile(J,ee){const re=this._addSchema(J,ee);return re.validate||this._compileSchemaEnv(re)}compileAsync(J,ee){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:re}=this.opts;return fe.call(this,J,ee);function fe(_e,Ce){return Ae.apply(this,arguments)}function Ae(){return(Ae=O(function*(_e,Ce){yield Me.call(this,_e.$schema);const ke=this._addSchema(_e,Ce);return ke.validate||Ee.call(this,ke)})).apply(this,arguments)}function Me(_e){return Le.apply(this,arguments)}function Le(){return(Le=O(function*(_e){_e&&!this.getSchema(_e)&&(yield fe.call(this,{$ref:_e},!0))})).apply(this,arguments)}function Ee(_e){return Se.apply(this,arguments)}function Se(){return(Se=O(function*(_e){try{return this._compileSchemaEnv(_e)}catch(Ce){if(!(Ce instanceof y.default))throw Ce;return He.call(this,Ce),yield Te.call(this,Ce.missingSchema),Ee.call(this,_e)}})).apply(this,arguments)}function He({missingSchema:_e,missingRef:Ce}){if(this.refs[_e])throw new Error(`AnySchema ${_e} is loaded but ${Ce} cannot be resolved`)}function Te(_e){return u.apply(this,arguments)}function u(){return(u=O(function*(_e){const Ce=yield xe.call(this,_e);this.refs[_e]||(yield Me.call(this,Ce.$schema)),this.refs[_e]||this.addSchema(Ce,_e,ee)})).apply(this,arguments)}function xe(_e){return be.apply(this,arguments)}function be(){return(be=O(function*(_e){const Ce=this._loading[_e];if(Ce)return Ce;try{return yield this._loading[_e]=re(_e)}finally{delete this._loading[_e]}})).apply(this,arguments)}}addSchema(J,ee,re,fe=this.opts.validateSchema){if(Array.isArray(J)){for(const Me of J)this.addSchema(Me,void 0,re,fe);return this}let Ae;if("object"==typeof J){const{schemaId:Me}=this.opts;if(Ae=J[Me],void 0!==Ae&&"string"!=typeof Ae)throw new Error(`schema ${Me} must be string`)}return ee=(0,R.normalizeId)(ee||Ae),this._checkUnique(ee),this.schemas[ee]=this._addSchema(J,re,ee,fe,!0),this}addMetaSchema(J,ee,re=this.opts.validateSchema){return this.addSchema(J,ee,!0,re),this}validateSchema(J,ee){if("boolean"==typeof J)return!0;let re;if(re=J.$schema,void 0!==re&&"string"!=typeof re)throw new Error("$schema must be a string");if(re=re||this.opts.defaultMeta||this.defaultMeta(),!re)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const fe=this.validate(re,J);if(!fe&&ee){const Ae="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Ae);this.logger.error(Ae)}return fe}getSchema(J){let ee;for(;"string"==typeof(ee=ae.call(this,J));)J=ee;if(void 0===ee){const{schemaId:re}=this.opts,fe=new w.SchemaEnv({schema:{},schemaId:re});if(ee=w.resolveSchema.call(this,fe,J),!ee)return;this.refs[J]=ee}return ee.validate||this._compileSchemaEnv(ee)}removeSchema(J){if(J instanceof RegExp)return this._removeAllSchemas(this.schemas,J),this._removeAllSchemas(this.refs,J),this;switch(typeof J){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ee=ae.call(this,J);return"object"==typeof ee&&this._cache.delete(ee.schema),delete this.schemas[J],delete this.refs[J],this}case"object":{this._cache.delete(J);let re=J[this.opts.schemaId];return re&&(re=(0,R.normalizeId)(re),delete this.schemas[re],delete this.refs[re]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(J){for(const ee of J)this.addKeyword(ee);return this}addKeyword(J,ee){let re;if("string"==typeof J)re=J,"object"==typeof ee&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ee.keyword=re);else{if("object"!=typeof J||void 0!==ee)throw new Error("invalid addKeywords parameters");if(re=(ee=J).keyword,Array.isArray(re)&&!re.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(C.call(this,re,ee),!ee)return(0,v.eachItem)(re,Ae=>D.call(this,Ae)),this;Y.call(this,ee);const fe={...ee,type:(0,k.getJSONTypes)(ee.type),schemaType:(0,k.getJSONTypes)(ee.schemaType)};return(0,v.eachItem)(re,0===fe.type.length?Ae=>D.call(this,Ae,fe):Ae=>fe.type.forEach(Me=>D.call(this,Ae,fe,Me))),this}getKeyword(J){const ee=this.RULES.all[J];return"object"==typeof ee?ee.definition:!!ee}removeKeyword(J){const{RULES:ee}=this;delete ee.keywords[J],delete ee.all[J];for(const re of ee.rules){const fe=re.rules.findIndex(Ae=>Ae.keyword===J);fe>=0&&re.rules.splice(fe,1)}return this}addFormat(J,ee){return"string"==typeof ee&&(ee=new RegExp(ee)),this.formats[J]=ee,this}errorsText(J=this.errors,{separator:ee=", ",dataVar:re="data"}={}){return J&&0!==J.length?J.map(fe=>`${re}${fe.instancePath} ${fe.message}`).reduce((fe,Ae)=>fe+ee+Ae):"No errors"}$dataMetaSchema(J,ee){const re=this.RULES.all;J=JSON.parse(JSON.stringify(J));for(const fe of ee){const Ae=fe.split("/").slice(1);let Me=J;for(const Le of Ae)Me=Me[Le];for(const Le in re){const Ee=re[Le];if("object"!=typeof Ee)continue;const{$data:Se}=Ee.definition,He=Me[Le];Se&&He&&(Me[Le]=h(He))}}return J}_removeAllSchemas(J,ee){for(const re in J){const fe=J[re];(!ee||ee.test(re))&&("string"==typeof fe?delete J[re]:fe&&!fe.meta&&(this._cache.delete(fe.schema),delete J[re]))}}_addSchema(J,ee,re,fe=this.opts.validateSchema,Ae=this.opts.addUsedSchema){let Me;const{schemaId:Le}=this.opts;if("object"==typeof J)Me=J[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof J)throw new Error("schema must be object or boolean")}let Ee=this._cache.get(J);if(void 0!==Ee)return Ee;re=(0,R.normalizeId)(Me||re);const Se=R.getSchemaRefs.call(this,J,re);return Ee=new w.SchemaEnv({schema:J,schemaId:Le,meta:ee,baseId:re,localRefs:Se}),this._cache.set(Ee.schema,Ee),Ae&&!re.startsWith("#")&&(re&&this._checkUnique(re),this.refs[re]=Ee),fe&&this.validateSchema(J,!0),Ee}_checkUnique(J){if(this.schemas[J]||this.refs[J])throw new Error(`schema with key or id "${J}" already exists`)}_compileSchemaEnv(J){if(J.meta?this._compileMetaSchema(J):w.compileSchema.call(this,J),!J.validate)throw new Error("ajv implementation error");return J.validate}_compileMetaSchema(J){const ee=this.opts;this.opts=this._metaOpts;try{w.compileSchema.call(this,J)}finally{this.opts=ee}}}function ie(g,J,ee,re="error"){for(const fe in g)fe in J&&this.logger[re](`${ee}: option ${fe}. ${g[fe]}`)}function ae(g){return g=(0,R.normalizeId)(g),this.schemas[g]||this.refs[g]}function me(){const g=this.opts.schemas;if(g)if(Array.isArray(g))this.addSchema(g);else for(const J in g)this.addSchema(g[J],J)}function ge(){for(const g in this.opts.formats){const J=this.opts.formats[g];J&&this.addFormat(g,J)}}function de(g){if(Array.isArray(g))this.addVocabulary(g);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const J in g){const ee=g[J];ee.keyword||(ee.keyword=J),this.addKeyword(ee)}}}function z(){const g={...this.opts};for(const J of L)delete g[J];return g}te.ValidationError=K.default,te.MissingRefError=y.default,I.default=te;const d={log(){},warn(){},error(){}},b=/^[a-z_$][a-z0-9_$:-]*$/i;function C(g,J){const{RULES:ee}=this;if((0,v.eachItem)(g,re=>{if(ee.keywords[re])throw new Error(`Keyword ${re} is already defined`);if(!b.test(re))throw new Error(`Keyword ${re} has invalid name`)}),J&&J.$data&&!("code"in J)&&!("validate"in J))throw new Error('$data keyword must have "code" or "validate" function')}function D(g,J,ee){var re;const fe=J?.post;if(ee&&fe)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ae}=this;let Me=fe?Ae.post:Ae.rules.find(({type:Ee})=>Ee===ee);if(Me||(Me={type:ee,rules:[]},Ae.rules.push(Me)),Ae.keywords[g]=!0,!J)return;const Le={keyword:g,definition:{...J,type:(0,k.getJSONTypes)(J.type),schemaType:(0,k.getJSONTypes)(J.schemaType)}};J.before?V.call(this,Me,Le,J.before):Me.rules.push(Le),Ae.all[g]=Le,null===(re=J.implements)||void 0===re||re.forEach(Ee=>this.addKeyword(Ee))}function V(g,J,ee){const re=g.rules.findIndex(fe=>fe.keyword===ee);re>=0?g.rules.splice(re,0,J):(g.rules.push(J),this.logger.warn(`rule ${ee} is not defined`))}function Y(g){let{metaSchema:J}=g;void 0!==J&&(g.$data&&this.opts.$data&&(J=h(J)),g.validateSchema=this.compile(J,!0))}const F={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function h(g){return{anyOf:[g,F]}}},54195:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(40362);O.code='require("ajv/dist/runtime/equal").default',I.default=O},41506:(ye,I)=>{"use strict";function A(O){const $=O.length;let y,U=0,K=0;for(;K<$;)U++,y=O.charCodeAt(K++),y>=55296&&y<=56319&&K<$&&(y=O.charCodeAt(K),56320==(64512&y)&&K++);return U}Object.defineProperty(I,"__esModule",{value:!0}),I.default=A,A.code='require("ajv/dist/runtime/ucs2length").default'},12857:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(28280);O.code='require("ajv/dist/runtime/uri").default',I.default=O},9857:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});class A extends Error{constructor($){super("validation failed"),this.errors=$,this.ajv=this.validation=!0}}I.default=A},12676:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateAdditionalItems=void 0;const O=A(85432),$=A(87868),K={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:T}})=>O.str`must NOT have more than ${T} items`,params:({params:{len:T}})=>O._`{limit: ${T}}`},code(T){const{parentSchema:w,it:x}=T,{items:R}=w;Array.isArray(R)?y(T,R):(0,$.checkStrictMode)(x,'"additionalItems" is ignored when "items" is not an array of schemas')}};function y(T,w){const{gen:x,schema:R,data:k,keyword:v,it:N}=T;N.items=!0;const M=x.const("len",O._`${k}.length`);if(!1===R)T.setParams({len:w.length}),T.pass(O._`${M} <= ${w.length}`);else if("object"==typeof R&&!(0,$.alwaysValidSchema)(N,R)){const L=x.var("valid",O._`${M} <= ${w.length}`);x.if((0,O.not)(L),()=>function P(L){x.forRange("i",w.length,M,G=>{T.subschema({keyword:v,dataProp:G,dataPropType:$.Type.Num},L),N.allErrors||x.if((0,O.not)(L),()=>x.break())})}(L)),T.ok(L)}}I.validateAdditionalItems=y,I.default=K},84491:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(12240),$=A(85432),U=A(12682),K=A(87868);I.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:w})=>$._`{additionalProperty: ${w.additionalProperty}}`},code(w){const{gen:x,schema:R,parentSchema:k,data:v,errsCount:N,it:M}=w;if(!N)throw new Error("ajv implementation error");const{allErrors:P,opts:L}=M;if(M.props=!0,"all"!==L.removeAdditional&&(0,K.alwaysValidSchema)(M,R))return;const G=(0,O.allSchemaProperties)(k.properties),B=(0,O.allSchemaProperties)(k.patternProperties);function Q(ae){x.code($._`delete ${v}[${ae}]`)}function te(ae){if("all"===L.removeAdditional||L.removeAdditional&&!1===R)Q(ae);else{if(!1===R)return w.setParams({additionalProperty:ae}),w.error(),void(P||x.break());if("object"==typeof R&&!(0,K.alwaysValidSchema)(M,R)){const me=x.name("valid");"failing"===L.removeAdditional?(ie(ae,me,!1),x.if((0,$.not)(me),()=>{w.reset(),Q(ae)})):(ie(ae,me),P||x.if((0,$.not)(me),()=>x.break()))}}}function ie(ae,me,ge){const de={keyword:"additionalProperties",dataProp:ae,dataPropType:K.Type.Str};!1===ge&&Object.assign(de,{compositeRule:!0,createErrors:!1,allErrors:!1}),w.subschema(de,me)}(function q(){x.forIn("key",v,ae=>{G.length||B.length?x.if(function X(ae){let me;if(G.length>8){const ge=(0,K.schemaRefOrVal)(M,k.properties,"properties");me=(0,O.isOwnProperty)(x,ge,ae)}else me=G.length?(0,$.or)(...G.map(ge=>$._`${ae} === ${ge}`)):$.nil;return B.length&&(me=(0,$.or)(me,...B.map(ge=>$._`${(0,O.usePattern)(w,ge)}.test(${ae})`))),(0,$.not)(me)}(ae),()=>te(ae)):te(ae)})})(),w.ok($._`${N} === ${U.default.errors}`)}}},2937:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(87868);I.default={keyword:"allOf",schemaType:"array",code(U){const{gen:K,schema:y,it:T}=U;if(!Array.isArray(y))throw new Error("ajv implementation error");const w=K.name("valid");y.forEach((x,R)=>{if((0,O.alwaysValidSchema)(T,x))return;const k=U.subschema({keyword:"allOf",schemaProp:R},w);U.ok(w),U.mergeEvaluated(k)})}}},83968:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const $={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:A(12240).validateUnion,error:{message:"must match a schema in anyOf"}};I.default=$},66066:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868);I.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:y,max:T}})=>void 0===T?O.str`must contain at least ${y} valid item(s)`:O.str`must contain at least ${y} and no more than ${T} valid item(s)`,params:({params:{min:y,max:T}})=>void 0===T?O._`{minContains: ${y}}`:O._`{minContains: ${y}, maxContains: ${T}}`},code(y){const{gen:T,schema:w,parentSchema:x,data:R,it:k}=y;let v,N;const{minContains:M,maxContains:P}=x;k.opts.next?(v=void 0===M?1:M,N=P):v=1;const L=T.const("len",O._`${R}.length`);if(y.setParams({min:v,max:N}),void 0===N&&0===v)return void(0,$.checkStrictMode)(k,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==N&&v>N)return(0,$.checkStrictMode)(k,'"minContains" > "maxContains" is always invalid'),void y.fail();if((0,$.alwaysValidSchema)(k,w)){let Q=O._`${L} >= ${v}`;return void 0!==N&&(Q=O._`${Q} && ${L} <= ${N}`),void y.pass(Q)}k.items=!0;const G=T.name("valid");function B(){const Q=T.name("_valid"),te=T.let("count",0);q(Q,()=>T.if(Q,()=>function X(Q){T.code(O._`${Q}++`),void 0===N?T.if(O._`${Q} >= ${v}`,()=>T.assign(G,!0).break()):(T.if(O._`${Q} > ${N}`,()=>T.assign(G,!1).break()),1===v?T.assign(G,!0):T.if(O._`${Q} >= ${v}`,()=>T.assign(G,!0)))}(te)))}function q(Q,te){T.forRange("i",0,L,ie=>{y.subschema({keyword:"contains",dataProp:ie,dataPropType:$.Type.Num,compositeRule:!0},Q),te()})}void 0===N&&1===v?q(G,()=>T.if(G,()=>T.break())):0===v?(T.let(G,!0),void 0!==N&&T.if(O._`${R}.length > 0`,B)):(T.let(G,!1),B()),y.result(G,()=>y.reset())}}},99310:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateSchemaDeps=I.validatePropertyDeps=I.error=void 0;const O=A(85432),$=A(87868),U=A(12240);I.error={message:({params:{property:x,depsCount:R,deps:k}})=>O.str`must have ${1===R?"property":"properties"} ${k} when property ${x} is present`,params:({params:{property:x,depsCount:R,deps:k,missingProperty:v}})=>O._`{property: ${x},
    missingProperty: ${v},
    depsCount: ${R},
    deps: ${k}}`};const K={keyword:"dependencies",type:"object",schemaType:"object",error:I.error,code(x){const[R,k]=function y({schema:x}){const R={},k={};for(const v in x)"__proto__"!==v&&((Array.isArray(x[v])?R:k)[v]=x[v]);return[R,k]}(x);T(x,R),w(x,k)}};function T(x,R=x.schema){const{gen:k,data:v,it:N}=x;if(0===Object.keys(R).length)return;const M=k.let("missing");for(const P in R){const L=R[P];if(0===L.length)continue;const G=(0,U.propertyInData)(k,v,P,N.opts.ownProperties);x.setParams({property:P,depsCount:L.length,deps:L.join(", ")}),N.allErrors?k.if(G,()=>{for(const B of L)(0,U.checkReportMissingProp)(x,B)}):(k.if(O._`${G} && (${(0,U.checkMissingProp)(x,L,M)})`),(0,U.reportMissingProp)(x,M),k.else())}}function w(x,R=x.schema){const{gen:k,data:v,keyword:N,it:M}=x,P=k.name("valid");for(const L in R)(0,$.alwaysValidSchema)(M,R[L])||(k.if((0,U.propertyInData)(k,v,L,M.opts.ownProperties),()=>{const G=x.subschema({keyword:N,schemaProp:L},P);x.mergeValidEvaluated(G,P)},()=>k.var(P,!0)),x.ok(P))}I.validatePropertyDeps=T,I.validateSchemaDeps=w,I.default=K},13884:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868);function y(T,w){const x=T.schema[w];return void 0!==x&&!(0,$.alwaysValidSchema)(T,x)}I.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:T})=>O.str`must match "${T.ifClause}" schema`,params:({params:T})=>O._`{failingKeyword: ${T.ifClause}}`},code(T){const{gen:w,parentSchema:x,it:R}=T;void 0===x.then&&void 0===x.else&&(0,$.checkStrictMode)(R,'"if" without "then" and "else" is ignored');const k=y(R,"then"),v=y(R,"else");if(!k&&!v)return;const N=w.let("valid",!0),M=w.name("_valid");if(function P(){const G=T.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},M);T.mergeEvaluated(G)}(),T.reset(),k&&v){const G=w.let("ifClause");T.setParams({ifClause:G}),w.if(M,L("then",G),L("else",G))}else k?w.if(M,L("then")):w.if((0,O.not)(M),L("else"));function L(G,B){return()=>{const q=T.subschema({keyword:G},M);w.assign(N,M),T.mergeValidEvaluated(q,N),B?w.assign(B,O._`${G}`):T.setParams({ifClause:G})}}T.pass(N,()=>T.error(!0))}}},69795:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(12676),$=A(90207),U=A(23403),K=A(18555),y=A(66066),T=A(99310),w=A(62944),x=A(84491),R=A(48758),k=A(55852),v=A(6970),N=A(83968),M=A(2646),P=A(2937),L=A(13884),G=A(73337);I.default=function B(q=!1){const X=[v.default,N.default,M.default,P.default,L.default,G.default,w.default,x.default,T.default,R.default,k.default];return q?X.push($.default,K.default):X.push(O.default,U.default),X.push(y.default),X}},23403:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateTuple=void 0;const O=A(85432),$=A(87868),U=A(12240),K={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(T){const{schema:w,it:x}=T;if(Array.isArray(w))return y(T,"additionalItems",w);x.items=!0,!(0,$.alwaysValidSchema)(x,w)&&T.ok((0,U.validateArray)(T))}};function y(T,w,x=T.schema){const{gen:R,parentSchema:k,data:v,keyword:N,it:M}=T;(function G(B){const{opts:q,errSchemaPath:X}=M,Q=x.length;q.strictTuples&&!(Q===B.minItems&&(Q===B.maxItems||!1===B[w]))&&(0,$.checkStrictMode)(M,`"${N}" is ${Q}-tuple, but minItems or maxItems/${w} are not specified or different at path "${X}"`,q.strictTuples)})(k),M.opts.unevaluated&&x.length&&!0!==M.items&&(M.items=$.mergeEvaluated.items(R,x.length,M.items));const P=R.name("valid"),L=R.const("len",O._`${v}.length`);x.forEach((B,q)=>{(0,$.alwaysValidSchema)(M,B)||(R.if(O._`${L} > ${q}`,()=>T.subschema({keyword:N,schemaProp:q,dataProp:q},P)),T.ok(P))})}I.validateTuple=y,I.default=K},18555:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868),U=A(12240),K=A(12676);I.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:w}})=>O.str`must NOT have more than ${w} items`,params:({params:{len:w}})=>O._`{limit: ${w}}`},code(w){const{schema:x,parentSchema:R,it:k}=w,{prefixItems:v}=R;k.items=!0,!(0,$.alwaysValidSchema)(k,x)&&(v?(0,K.validateAdditionalItems)(w,v):w.ok((0,U.validateArray)(w)))}}},6970:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(87868);I.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(U){const{gen:K,schema:y,it:T}=U;if((0,O.alwaysValidSchema)(T,y))return void U.fail();const w=K.name("valid");U.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},w),U.failResult(w,()=>U.reset(),()=>U.error())},error:{message:"must NOT be valid"}}},2646:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868);I.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:y})=>O._`{passingSchemas: ${y.passing}}`},code(y){const{gen:T,schema:w,parentSchema:x,it:R}=y;if(!Array.isArray(w))throw new Error("ajv implementation error");if(R.opts.discriminator&&x.discriminator)return;const k=w,v=T.let("valid",!1),N=T.let("passing",null),M=T.name("_valid");y.setParams({passing:N}),T.block(function P(){k.forEach((L,G)=>{let B;(0,$.alwaysValidSchema)(R,L)?T.var(M,!0):B=y.subschema({keyword:"oneOf",schemaProp:G,compositeRule:!0},M),G>0&&T.if(O._`${M} && ${v}`).assign(v,!1).assign(N,O._`[${N}, ${G}]`).else(),T.if(M,()=>{T.assign(v,!0),T.assign(N,G),B&&y.mergeEvaluated(B,O.Name)})})}),y.result(v,()=>y.reset(),()=>y.error(!0))}}},55852:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(12240),$=A(85432),U=A(87868),K=A(87868);I.default={keyword:"patternProperties",type:"object",schemaType:"object",code(T){const{gen:w,schema:x,data:R,parentSchema:k,it:v}=T,{opts:N}=v,M=(0,O.allSchemaProperties)(x),P=M.filter(te=>(0,U.alwaysValidSchema)(v,x[te]));if(0===M.length||P.length===M.length&&(!v.opts.unevaluated||!0===v.props))return;const L=N.strictSchema&&!N.allowMatchingProperties&&k.properties,G=w.name("valid");!0!==v.props&&!(v.props instanceof $.Name)&&(v.props=(0,K.evaluatedPropsToName)(w,v.props));const{props:B}=v;function X(te){for(const ie in L)new RegExp(te).test(ie)&&(0,U.checkStrictMode)(v,`property ${ie} matches pattern ${te} (use allowMatchingProperties)`)}function Q(te){w.forIn("key",R,ie=>{w.if($._`${(0,O.usePattern)(T,te)}.test(${ie})`,()=>{const ae=P.includes(te);ae||T.subschema({keyword:"patternProperties",schemaProp:te,dataProp:ie,dataPropType:K.Type.Str},G),v.opts.unevaluated&&!0!==B?w.assign($._`${B}[${ie}]`,!0):!ae&&!v.allErrors&&w.if((0,$.not)(G),()=>w.break())})})}!function q(){for(const te of M)L&&X(te),v.allErrors?Q(te):(w.var(G,!0),Q(te),w.if(G))}()}}},90207:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(23403);I.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:U=>(0,O.validateTuple)(U,"items")}},48758:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(87157),$=A(12240),U=A(87868),K=A(84491);I.default={keyword:"properties",type:"object",schemaType:"object",code(T){const{gen:w,schema:x,parentSchema:R,data:k,it:v}=T;"all"===v.opts.removeAdditional&&void 0===R.additionalProperties&&K.default.code(new O.KeywordCxt(v,K.default,"additionalProperties"));const N=(0,$.allSchemaProperties)(x);for(const B of N)v.definedProperties.add(B);v.opts.unevaluated&&N.length&&!0!==v.props&&(v.props=U.mergeEvaluated.props(w,(0,U.toHash)(N),v.props));const M=N.filter(B=>!(0,U.alwaysValidSchema)(v,x[B]));if(0===M.length)return;const P=w.name("valid");for(const B of M)L(B)?G(B):(w.if((0,$.propertyInData)(w,k,B,v.opts.ownProperties)),G(B),v.allErrors||w.else().var(P,!0),w.endIf()),T.it.definedProperties.add(B),T.ok(P);function L(B){return v.opts.useDefaults&&!v.compositeRule&&void 0!==x[B].default}function G(B){T.subschema({keyword:"properties",schemaProp:B,dataProp:B},P)}}}},62944:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868);I.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:y})=>O._`{propertyName: ${y.propertyName}}`},code(y){const{gen:T,schema:w,data:x,it:R}=y;if((0,$.alwaysValidSchema)(R,w))return;const k=T.name("valid");T.forIn("key",x,v=>{y.setParams({propertyName:v}),y.subschema({keyword:"propertyNames",data:v,dataTypes:["string"],propertyName:v,compositeRule:!0},k),T.if((0,O.not)(k),()=>{y.error(!0),R.allErrors||T.break()})}),y.ok(k)}}},73337:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(87868);I.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:U,parentSchema:K,it:y}){void 0===K.if&&(0,O.checkStrictMode)(y,`"${U}" without "if" is ignored`)}}},12240:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.validateUnion=I.validateArray=I.usePattern=I.callValidateCode=I.schemaProperties=I.allSchemaProperties=I.noPropertyInData=I.propertyInData=I.isOwnProperty=I.hasPropFunc=I.reportMissingProp=I.checkMissingProp=I.checkReportMissingProp=void 0;const O=A(85432),$=A(87868),U=A(12682),K=A(87868);function x(X){return X.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:O._`Object.prototype.hasOwnProperty`})}function R(X,Q,te){return O._`${x(X)}.call(${Q}, ${te})`}function v(X,Q,te,ie){const ae=O._`${Q}${(0,O.getProperty)(te)} === undefined`;return ie?(0,O.or)(ae,(0,O.not)(R(X,Q,te))):ae}function N(X){return X?Object.keys(X).filter(Q=>"__proto__"!==Q):[]}I.checkReportMissingProp=function y(X,Q){const{gen:te,data:ie,it:ae}=X;te.if(v(te,ie,Q,ae.opts.ownProperties),()=>{X.setParams({missingProperty:O._`${Q}`},!0),X.error()})},I.checkMissingProp=function T({gen:X,data:Q,it:{opts:te}},ie,ae){return(0,O.or)(...ie.map(me=>(0,O.and)(v(X,Q,me,te.ownProperties),O._`${ae} = ${me}`)))},I.reportMissingProp=function w(X,Q){X.setParams({missingProperty:Q},!0),X.error()},I.hasPropFunc=x,I.isOwnProperty=R,I.propertyInData=function k(X,Q,te,ie){const ae=O._`${Q}${(0,O.getProperty)(te)} !== undefined`;return ie?O._`${ae} && ${R(X,Q,te)}`:ae},I.noPropertyInData=v,I.allSchemaProperties=N,I.schemaProperties=function M(X,Q){return N(Q).filter(te=>!(0,$.alwaysValidSchema)(X,Q[te]))},I.callValidateCode=function P({schemaCode:X,data:Q,it:{gen:te,topSchemaRef:ie,schemaPath:ae,errorPath:me},it:ge},de,z,d){const f=d?O._`${X}, ${Q}, ${ie}${ae}`:Q,b=[[U.default.instancePath,(0,O.strConcat)(U.default.instancePath,me)],[U.default.parentData,ge.parentData],[U.default.parentDataProperty,ge.parentDataProperty],[U.default.rootData,U.default.rootData]];ge.opts.dynamicRef&&b.push([U.default.dynamicAnchors,U.default.dynamicAnchors]);const C=O._`${f}, ${te.object(...b)}`;return z!==O.nil?O._`${de}.call(${z}, ${C})`:O._`${de}(${C})`};const L=O._`new RegExp`;I.usePattern=function G({gen:X,it:{opts:Q}},te){const ie=Q.unicodeRegExp?"u":"",{regExp:ae}=Q.code,me=ae(te,ie);return X.scopeValue("pattern",{key:me.toString(),ref:me,code:O._`${"new RegExp"===ae.code?L:(0,K.useFunc)(X,ae)}(${te}, ${ie})`})},I.validateArray=function B(X){const{gen:Q,data:te,keyword:ie,it:ae}=X,me=Q.name("valid");if(ae.allErrors){const de=Q.let("valid",!0);return ge(()=>Q.assign(de,!1)),de}return Q.var(me,!0),ge(()=>Q.break()),me;function ge(de){const z=Q.const("len",O._`${te}.length`);Q.forRange("i",0,z,d=>{X.subschema({keyword:ie,dataProp:d,dataPropType:$.Type.Num},me),Q.if((0,O.not)(me),de)})}},I.validateUnion=function q(X){const{gen:Q,schema:te,keyword:ie,it:ae}=X;if(!Array.isArray(te))throw new Error("ajv implementation error");if(te.some(z=>(0,$.alwaysValidSchema)(ae,z))&&!ae.opts.unevaluated)return;const ge=Q.let("valid",!1),de=Q.name("_valid");Q.block(()=>te.forEach((z,d)=>{const f=X.subschema({keyword:ie,schemaProp:d,compositeRule:!0},de);Q.assign(ge,O._`${ge} || ${de}`),X.mergeValidEvaluated(f,de)||Q.if((0,O.not)(ge))})),X.result(ge,()=>X.reset(),()=>X.error(!0))}},83260:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},16281:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(83260),$=A(81680);I.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",O.default,$.default]},81680:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.callRef=I.getValidate=void 0;const O=A(66606),$=A(12240),U=A(85432),K=A(12682),y=A(7762),T=A(87868),w={keyword:"$ref",schemaType:"string",code(k){const{gen:v,schema:N,it:M}=k,{baseId:P,schemaEnv:L,validateName:G,opts:B,self:q}=M,{root:X}=L;if(("#"===N||"#/"===N)&&P===X.baseId)return function te(){if(L===X)return R(k,G,L,L.$async);const me=v.scopeValue("root",{ref:X});return R(k,U._`${me}.validate`,X,X.$async)}();const Q=y.resolveRef.call(q,X,P,N);if(void 0===Q)throw new O.default(M.opts.uriResolver,P,N);return Q instanceof y.SchemaEnv?function ie(me){const ge=x(k,me);R(k,ge,me,me.$async)}(Q):function ae(me){const ge=v.scopeValue("schema",!0===B.code.source?{ref:me,code:(0,U.stringify)(me)}:{ref:me}),de=v.name("valid"),z=k.subschema({schema:me,dataTypes:[],schemaPath:U.nil,topSchemaRef:ge,errSchemaPath:N},de);k.mergeEvaluated(z),k.ok(de)}(Q)}};function x(k,v){const{gen:N}=k;return v.validate?N.scopeValue("validate",{ref:v.validate}):U._`${N.scopeValue("wrapper",{ref:v})}.validate`}function R(k,v,N,M){const{gen:P,it:L}=k,{allErrors:G,schemaEnv:B,opts:q}=L,X=q.passContext?K.default.this:U.nil;function ie(me){const ge=U._`${me}.errors`;P.assign(K.default.vErrors,U._`${K.default.vErrors} === null ? ${ge} : ${K.default.vErrors}.concat(${ge})`),P.assign(K.default.errors,U._`${K.default.vErrors}.length`)}function ae(me){var ge;if(!L.opts.unevaluated)return;const de=null===(ge=N?.validate)||void 0===ge?void 0:ge.evaluated;if(!0!==L.props)if(de&&!de.dynamicProps)void 0!==de.props&&(L.props=T.mergeEvaluated.props(P,de.props,L.props));else{const z=P.var("props",U._`${me}.evaluated.props`);L.props=T.mergeEvaluated.props(P,z,L.props,U.Name)}if(!0!==L.items)if(de&&!de.dynamicItems)void 0!==de.items&&(L.items=T.mergeEvaluated.items(P,de.items,L.items));else{const z=P.var("items",U._`${me}.evaluated.items`);L.items=T.mergeEvaluated.items(P,z,L.items,U.Name)}}M?function Q(){if(!B.$async)throw new Error("async schema referenced by sync schema");const me=P.let("valid");P.try(()=>{P.code(U._`await ${(0,$.callValidateCode)(k,v,X)}`),ae(v),G||P.assign(me,!0)},ge=>{P.if(U._`!(${ge} instanceof ${L.ValidationError})`,()=>P.throw(ge)),ie(ge),G||P.assign(me,!1)}),k.ok(me)}():function te(){k.result((0,$.callValidateCode)(k,v,X),()=>ae(v),()=>ie(v))}()}I.getValidate=x,I.callRef=R,I.default=w},78058:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(97543),U=A(7762),K=A(66606),y=A(87868);I.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:x,tagName:R}})=>x===$.DiscrError.Tag?`tag "${R}" must be string`:`value of tag "${R}" must be in oneOf`,params:({params:{discrError:x,tag:R,tagName:k}})=>O._`{error: ${x}, tag: ${k}, tagValue: ${R}}`},code(x){const{gen:R,data:k,schema:v,parentSchema:N,it:M}=x,{oneOf:P}=N;if(!M.opts.discriminator)throw new Error("discriminator: requires discriminator option");const L=v.propertyName;if("string"!=typeof L)throw new Error("discriminator: requires propertyName");if(v.mapping)throw new Error("discriminator: mapping is not supported");if(!P)throw new Error("discriminator: requires oneOf keyword");const G=R.let("valid",!1),B=R.const("tag",O._`${k}${(0,O.getProperty)(L)}`);function X(te){const ie=R.name("valid"),ae=x.subschema({keyword:"oneOf",schemaProp:te},ie);return x.mergeEvaluated(ae,O.Name),ie}R.if(O._`typeof ${B} == "string"`,()=>function q(){const te=function Q(){var te;const ie={},ae=ge(N);let me=!0;for(let d=0;d<P.length;d++){let f=P[d];if(f?.$ref&&!(0,y.schemaHasRulesButRef)(f,M.self.RULES)){const C=f.$ref;if(f=U.resolveRef.call(M.self,M.schemaEnv.root,M.baseId,C),f instanceof U.SchemaEnv&&(f=f.schema),void 0===f)throw new K.default(M.opts.uriResolver,M.baseId,C)}const b=null===(te=f?.properties)||void 0===te?void 0:te[L];if("object"!=typeof b)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${L}"`);me=me&&(ae||ge(f)),de(b,d)}if(!me)throw new Error(`discriminator: "${L}" must be required`);return ie;function ge({required:d}){return Array.isArray(d)&&d.includes(L)}function de(d,f){if(d.const)z(d.const,f);else{if(!d.enum)throw new Error(`discriminator: "properties/${L}" must have "const" or "enum"`);for(const b of d.enum)z(b,f)}}function z(d,f){if("string"!=typeof d||d in ie)throw new Error(`discriminator: "${L}" values must be unique strings`);ie[d]=f}}();R.if(!1);for(const ie in te)R.elseIf(O._`${B} === ${ie}`),R.assign(G,X(te[ie]));R.else(),x.error(!1,{discrError:$.DiscrError.Mapping,tag:B,tagName:L}),R.endIf()}(),()=>x.error(!1,{discrError:$.DiscrError.Tag,tag:B,tagName:L})),x.ok(G)}}},97543:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.DiscrError=void 0;var A=function(O){return O.Tag="tag",O.Mapping="mapping",O}(A||(I.DiscrError=A={}))},70457:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(16281),$=A(57085),U=A(69795),K=A(25309),y=A(33880),T=[O.default,$.default,(0,U.default)(),K.default,y.metadataVocabulary,y.contentVocabulary];I.default=T},30742:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432);I.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:K})=>O.str`must match format "${K}"`,params:({schemaCode:K})=>O._`{format: ${K}}`},code(K,y){const{gen:T,data:w,$data:x,schema:R,schemaCode:k,it:v}=K,{opts:N,errSchemaPath:M,schemaEnv:P,self:L}=v;N.validateFormats&&(x?function G(){const q=T.scopeValue("formats",{ref:L.formats,code:N.code.formats}),X=T.const("fDef",O._`${q}[${k}]`),Q=T.let("fType"),te=T.let("format");T.if(O._`typeof ${X} == "object" && !(${X} instanceof RegExp)`,()=>T.assign(Q,O._`${X}.type || "string"`).assign(te,O._`${X}.validate`),()=>T.assign(Q,O._`"string"`).assign(te,X)),K.fail$data((0,O.or)(function ie(){return!1===N.strictSchema?O.nil:O._`${k} && !${te}`}(),function ae(){const me=P.$async?O._`(${X}.async ? await ${te}(${w}) : ${te}(${w}))`:O._`${te}(${w})`,ge=O._`(typeof ${te} == "function" ? ${me} : ${te}.test(${w}))`;return O._`${te} && ${te} !== true && ${Q} === ${y} && !${ge}`}()))}():function B(){const q=L.formats[R];if(!q)return void function ie(){if(!1!==N.strictSchema)throw new Error(ge());function ge(){return`unknown format "${R}" ignored in schema at path "${M}"`}L.logger.warn(ge())}();if(!0===q)return;const[X,Q,te]=function ae(ge){const de=ge instanceof RegExp?(0,O.regexpCode)(ge):N.code.formats?O._`${N.code.formats}${(0,O.getProperty)(R)}`:void 0,z=T.scopeValue("formats",{key:R,ref:ge,code:de});return"object"!=typeof ge||ge instanceof RegExp?["string",ge,z]:[ge.type||"string",ge.validate,O._`${z}.validate`]}(q);X===y&&K.pass(function me(){if("object"==typeof q&&!(q instanceof RegExp)&&q.async){if(!P.$async)throw new Error("async format in sync schema");return O._`await ${te}(${w})`}return"function"==typeof Q?O._`${te}(${w})`:O._`${te}.test(${w})`}())}())}}},25309:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const $=[A(30742).default];I.default=$},33880:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.contentVocabulary=I.metadataVocabulary=void 0,I.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],I.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37438:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868),U=A(54195);I.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:T})=>O._`{allowedValue: ${T}}`},code(T){const{gen:w,data:x,$data:R,schemaCode:k,schema:v}=T;R||v&&"object"==typeof v?T.fail$data(O._`!${(0,$.useFunc)(w,U.default)}(${x}, ${k})`):T.fail(O._`${v} !== ${x}`)}}},37956:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868),U=A(54195);I.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:T})=>O._`{allowedValues: ${T}}`},code(T){const{gen:w,data:x,$data:R,schema:k,schemaCode:v,it:N}=T;if(!R&&0===k.length)throw new Error("enum must have non-empty array");let P;const L=()=>P??(P=(0,$.useFunc)(w,U.default));let G;if(k.length>=N.opts.loopEnum||R)G=w.let("valid"),T.block$data(G,function B(){w.assign(G,!1),w.forOf("v",v,X=>w.if(O._`${L()}(${x}, ${X})`,()=>w.assign(G,!0).break()))});else{if(!Array.isArray(k))throw new Error("ajv implementation error");const X=w.const("vSchema",v);G=(0,O.or)(...k.map((Q,te)=>function q(X,Q){const te=k[Q];return"object"==typeof te&&null!==te?O._`${L()}(${x}, ${X}[${Q}])`:O._`${x} === ${te}`}(X,te)))}T.pass(G)}}},57085:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(89807),$=A(60776),U=A(55854),K=A(98675),y=A(11379),T=A(64620),w=A(34812),x=A(13632),R=A(37438),k=A(37956);I.default=[O.default,$.default,U.default,K.default,y.default,T.default,w.default,x.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},R.default,k.default]},34812:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432);I.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:K,schemaCode:y})=>O.str`must NOT have ${"maxItems"===K?"more":"fewer"} than ${y} items`,params:({schemaCode:K})=>O._`{limit: ${K}}`},code(K){const{keyword:y,data:T,schemaCode:w}=K;K.fail$data(O._`${T}.length ${"maxItems"===y?O.operators.GT:O.operators.LT} ${w}`)}}},55854:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=A(87868),U=A(41506);I.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:T,schemaCode:w})=>O.str`must NOT have ${"maxLength"===T?"more":"fewer"} than ${w} characters`,params:({schemaCode:T})=>O._`{limit: ${T}}`},code(T){const{keyword:w,data:x,schemaCode:R,it:k}=T,v="maxLength"===w?O.operators.GT:O.operators.LT,N=!1===k.opts.unicode?O._`${x}.length`:O._`${(0,$.useFunc)(T.gen,U.default)}(${x})`;T.fail$data(O._`${N} ${v} ${R}`)}}},89807:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432),$=O.operators,U={maximum:{okStr:"<=",ok:$.LTE,fail:$.GT},minimum:{okStr:">=",ok:$.GTE,fail:$.LT},exclusiveMaximum:{okStr:"<",ok:$.LT,fail:$.GTE},exclusiveMinimum:{okStr:">",ok:$.GT,fail:$.LTE}},K={message:({keyword:T,schemaCode:w})=>O.str`must be ${U[T].okStr} ${w}`,params:({keyword:T,schemaCode:w})=>O._`{comparison: ${U[T].okStr}, limit: ${w}}`},y={keyword:Object.keys(U),type:"number",schemaType:"number",$data:!0,error:K,code(T){const{keyword:w,data:x,schemaCode:R}=T;T.fail$data(O._`${x} ${U[w].fail} ${R} || isNaN(${x})`)}};I.default=y},11379:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432);I.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:K,schemaCode:y})=>O.str`must NOT have ${"maxProperties"===K?"more":"fewer"} than ${y} properties`,params:({schemaCode:K})=>O._`{limit: ${K}}`},code(K){const{keyword:y,data:T,schemaCode:w}=K;K.fail$data(O._`Object.keys(${T}).length ${"maxProperties"===y?O.operators.GT:O.operators.LT} ${w}`)}}},60776:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(85432);I.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:K})=>O.str`must be multiple of ${K}`,params:({schemaCode:K})=>O._`{multipleOf: ${K}}`},code(K){const{gen:y,data:T,schemaCode:w,it:x}=K,R=x.opts.multipleOfPrecision,k=y.let("res"),v=R?O._`Math.abs(Math.round(${k}) - ${k}) > 1e-${R}`:O._`${k} !== parseInt(${k})`;K.fail$data(O._`(${w} === 0 || (${k} = ${T}/${w}, ${v}))`)}}},98675:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(12240),$=A(85432);I.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:y})=>$.str`must match pattern "${y}"`,params:({schemaCode:y})=>$._`{pattern: ${y}}`},code(y){const{data:T,$data:w,schema:x,schemaCode:R,it:k}=y,N=w?$._`(new RegExp(${R}, ${k.opts.unicodeRegExp?"u":""}))`:(0,O.usePattern)(y,x);y.fail$data($._`!${N}.test(${T})`)}}},64620:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(12240),$=A(85432),U=A(87868);I.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:T}})=>$.str`must have required property '${T}'`,params:({params:{missingProperty:T}})=>$._`{missingProperty: ${T}}`},code(T){const{gen:w,schema:x,schemaCode:R,data:k,$data:v,it:N}=T,{opts:M}=N;if(!v&&0===x.length)return;const P=x.length>=M.loopRequired;if(N.allErrors?function L(){if(P||v)T.block$data($.nil,B);else for(const X of x)(0,O.checkReportMissingProp)(T,X)}():function G(){const X=w.let("missing");if(P||v){const Q=w.let("valid",!0);T.block$data(Q,()=>function q(X,Q){T.setParams({missingProperty:X}),w.forOf(X,R,()=>{w.assign(Q,(0,O.propertyInData)(w,k,X,M.ownProperties)),w.if((0,$.not)(Q),()=>{T.error(),w.break()})},$.nil)}(X,Q)),T.ok(Q)}else w.if((0,O.checkMissingProp)(T,x,X)),(0,O.reportMissingProp)(T,X),w.else()}(),M.strictRequired){const X=T.parentSchema.properties,{definedProperties:Q}=T.it;for(const te of x)void 0!==X?.[te]||Q.has(te)||(0,U.checkStrictMode)(N,`required property "${te}" is not defined at "${N.schemaEnv.baseId+N.errSchemaPath}" (strictRequired)`,N.opts.strictRequired)}function B(){w.forOf("prop",R,X=>{T.setParams({missingProperty:X}),w.if((0,O.noPropertyInData)(w,k,X,M.ownProperties),()=>T.error())})}}}},13632:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});const O=A(15894),$=A(85432),U=A(87868),K=A(54195);I.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:w,j:x}})=>$.str`must NOT have duplicate items (items ## ${x} and ${w} are identical)`,params:({params:{i:w,j:x}})=>$._`{i: ${w}, j: ${x}}`},code(w){const{gen:x,data:R,$data:k,schema:v,parentSchema:N,schemaCode:M,it:P}=w;if(!k&&!v)return;const L=x.let("valid"),G=N.items?(0,O.getSchemaTypes)(N.items):[];function X(te,ie){const ae=x.name("item"),me=(0,O.checkDataTypes)(G,ae,P.opts.strictNumbers,O.DataType.Wrong),ge=x.const("indices",$._`{}`);x.for($._`;${te}--;`,()=>{x.let(ae,$._`${R}[${te}]`),x.if(me,$._`continue`),G.length>1&&x.if($._`typeof ${ae} == "string"`,$._`${ae} += "_"`),x.if($._`typeof ${ge}[${ae}] == "number"`,()=>{x.assign(ie,$._`${ge}[${ae}]`),w.error(),x.assign(L,!1).break()}).code($._`${ge}[${ae}] = ${te}`)})}function Q(te,ie){const ae=(0,U.useFunc)(x,K.default),me=x.name("outer");x.label(me).for($._`;${te}--;`,()=>x.for($._`${ie} = ${te}; ${ie}--;`,()=>x.if($._`${ae}(${R}[${te}], ${R}[${ie}])`,()=>{w.error(),x.assign(L,!1).break(me)})))}w.block$data(L,function B(){const te=x.let("i",$._`${R}.length`),ie=x.let("j");w.setParams({i:te,j:ie}),x.assign(L,!0),x.if($._`${te} > 1`,()=>(function q(){return G.length>0&&!G.some(te=>"object"===te||"array"===te)}()?X:Q)(te,ie))},$._`${M} === false`),w.ok(L)}}},49609:(ye,I,A)=>{var O=I;O.bignum=A(96867),O.define=A(16626).define,O.base=A(15066),O.constants=A(47740),O.decoders=A(91558),O.encoders=A(22714)},16626:(ye,I,A)=>{var O=A(49609),$=A(71993);function K(y,T){this.name=y,this.body=T,this.decoders={},this.encoders={}}I.define=function(T,w){return new K(T,w)},K.prototype._createNamed=function(T){var w;try{w=Object(function(){var R=new Error("Cannot find module 'vm'");throw R.code="MODULE_NOT_FOUND",R}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{w=function(R){this._initNamed(R)}}return $(w,T),w.prototype._initNamed=function(R){T.call(this,R)},new w(this)},K.prototype._getDecoder=function(T){return this.decoders.hasOwnProperty(T=T||"der")||(this.decoders[T]=this._createNamed(O.decoders[T])),this.decoders[T]},K.prototype.decode=function(T,w,x){return this._getDecoder(w).decode(T,x)},K.prototype._getEncoder=function(T){return this.encoders.hasOwnProperty(T=T||"der")||(this.encoders[T]=this._createNamed(O.encoders[T])),this.encoders[T]},K.prototype.encode=function(T,w,x){return this._getEncoder(w).encode(T,x)}},97290:(ye,I,A)=>{var O=A(71993),$=A(15066).Reporter,U=A(83838).Buffer;function K(T,w){$.call(this,w),U.isBuffer(T)?(this.base=T,this.offset=0,this.length=T.length):this.error("Input not Buffer")}function y(T,w){if(Array.isArray(T))this.length=0,this.value=T.map(function(x){return x instanceof y||(x=new y(x,w)),this.length+=x.length,x},this);else if("number"==typeof T){if(!(0<=T&&T<=255))return w.error("non-byte EncoderBuffer value");this.value=T,this.length=1}else if("string"==typeof T)this.value=T,this.length=U.byteLength(T);else{if(!U.isBuffer(T))return w.error("Unsupported type: "+typeof T);this.value=T,this.length=T.length}}O(K,$),I.t=K,K.prototype.save=function(){return{offset:this.offset,reporter:$.prototype.save.call(this)}},K.prototype.restore=function(w){var x=new K(this.base);return x.offset=w.offset,x.length=this.offset,this.offset=w.offset,$.prototype.restore.call(this,w.reporter),x},K.prototype.isEmpty=function(){return this.offset===this.length},K.prototype.readUInt8=function(w){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(w||"DecoderBuffer overrun")},K.prototype.skip=function(w,x){if(!(this.offset+w<=this.length))return this.error(x||"DecoderBuffer overrun");var R=new K(this.base);return R._reporterState=this._reporterState,R.offset=this.offset,R.length=this.offset+w,this.offset+=w,R},K.prototype.raw=function(w){return this.base.slice(w?w.offset:this.offset,this.length)},I.d=y,y.prototype.join=function(w,x){return w||(w=new U(this.length)),x||(x=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(R){R.join(w,x),x+=R.length}):("number"==typeof this.value?w[x]=this.value:"string"==typeof this.value?w.write(this.value,x):U.isBuffer(this.value)&&this.value.copy(w,x),x+=this.length)),w}},15066:(ye,I,A)=>{var O=I;O.Reporter=A(85697).a,O.DecoderBuffer=A(97290).t,O.EncoderBuffer=A(97290).d,O.Node=A(34320)},34320:(ye,I,A)=>{var O=A(15066).Reporter,$=A(15066).EncoderBuffer,U=A(15066).DecoderBuffer,K=A(39210),y=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],T=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(y);function x(k,v){var N={};this._baseState=N,N.enc=k,N.parent=v||null,N.children=null,N.tag=null,N.args=null,N.reverseArgs=null,N.choice=null,N.optional=!1,N.any=!1,N.obj=!1,N.use=null,N.useDecoder=null,N.key=null,N.default=null,N.explicit=null,N.implicit=null,N.contains=null,N.parent||(N.children=[],this._wrap())}ye.exports=x;var R=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];x.prototype.clone=function(){var v=this._baseState,N={};R.forEach(function(P){N[P]=v[P]});var M=new this.constructor(N.parent);return M._baseState=N,M},x.prototype._wrap=function(){var v=this._baseState;T.forEach(function(N){this[N]=function(){var P=new this.constructor(this);return v.children.push(P),P[N].apply(P,arguments)}},this)},x.prototype._init=function(v){var N=this._baseState;K(null===N.parent),v.call(this),N.children=N.children.filter(function(M){return M._baseState.parent===this},this),K.equal(N.children.length,1,"Root node can have only one child")},x.prototype._useArgs=function(v){var N=this._baseState,M=v.filter(function(P){return P instanceof this.constructor},this);v=v.filter(function(P){return!(P instanceof this.constructor)},this),0!==M.length&&(K(null===N.children),N.children=M,M.forEach(function(P){P._baseState.parent=this},this)),0!==v.length&&(K(null===N.args),N.args=v,N.reverseArgs=v.map(function(P){if("object"!=typeof P||P.constructor!==Object)return P;var L={};return Object.keys(P).forEach(function(G){G==(0|G)&&(G|=0),L[P[G]]=G}),L}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(k){x.prototype[k]=function(){throw new Error(k+" not implemented for encoding: "+this._baseState.enc)}}),y.forEach(function(k){x.prototype[k]=function(){var N=this._baseState,M=Array.prototype.slice.call(arguments);return K(null===N.tag),N.tag=k,this._useArgs(M),this}}),x.prototype.use=function(v){K(v);var N=this._baseState;return K(null===N.use),N.use=v,this},x.prototype.optional=function(){return this._baseState.optional=!0,this},x.prototype.def=function(v){var N=this._baseState;return K(null===N.default),N.default=v,N.optional=!0,this},x.prototype.explicit=function(v){var N=this._baseState;return K(null===N.explicit&&null===N.implicit),N.explicit=v,this},x.prototype.implicit=function(v){var N=this._baseState;return K(null===N.explicit&&null===N.implicit),N.implicit=v,this},x.prototype.obj=function(){var v=this._baseState,N=Array.prototype.slice.call(arguments);return v.obj=!0,0!==N.length&&this._useArgs(N),this},x.prototype.key=function(v){var N=this._baseState;return K(null===N.key),N.key=v,this},x.prototype.any=function(){return this._baseState.any=!0,this},x.prototype.choice=function(v){var N=this._baseState;return K(null===N.choice),N.choice=v,this._useArgs(Object.keys(v).map(function(M){return v[M]})),this},x.prototype.contains=function(v){var N=this._baseState;return K(null===N.use),N.contains=v,this},x.prototype._decode=function(v,N){var M=this._baseState;if(null===M.parent)return v.wrapResult(M.children[0]._decode(v,N));var X,P=M.default,L=!0,G=null;if(null!==M.key&&(G=v.enterKey(M.key)),M.optional){var B=null;if(null!==M.explicit?B=M.explicit:null!==M.implicit?B=M.implicit:null!==M.tag&&(B=M.tag),null!==B||M.any){if(L=this._peekTag(v,B,M.any),v.isError(L))return L}else{var q=v.save();try{null===M.choice?this._decodeGeneric(M.tag,v,N):this._decodeChoice(v,N),L=!0}catch{L=!1}v.restore(q)}}if(M.obj&&L&&(X=v.enterObject()),L){if(null!==M.explicit){var Q=this._decodeTag(v,M.explicit);if(v.isError(Q))return Q;v=Q}var te=v.offset;if(null===M.use&&null===M.choice){M.any&&(q=v.save());var ie=this._decodeTag(v,null!==M.implicit?M.implicit:M.tag,M.any);if(v.isError(ie))return ie;M.any?P=v.raw(q):v=ie}if(N&&N.track&&null!==M.tag&&N.track(v.path(),te,v.length,"tagged"),N&&N.track&&null!==M.tag&&N.track(v.path(),v.offset,v.length,"content"),M.any||(P=null===M.choice?this._decodeGeneric(M.tag,v,N):this._decodeChoice(v,N)),v.isError(P))return P;if(!M.any&&null===M.choice&&null!==M.children&&M.children.forEach(function(ge){ge._decode(v,N)}),M.contains&&("octstr"===M.tag||"bitstr"===M.tag)){var ae=new U(P);P=this._getUse(M.contains,v._reporterState.obj)._decode(ae,N)}}return M.obj&&L&&(P=v.leaveObject(X)),null===M.key||null===P&&!0!==L?null!==G&&v.exitKey(G):v.leaveKey(G,M.key,P),P},x.prototype._decodeGeneric=function(v,N,M){var P=this._baseState;return"seq"===v||"set"===v?null:"seqof"===v||"setof"===v?this._decodeList(N,v,P.args[0],M):/str$/.test(v)?this._decodeStr(N,v,M):"objid"===v&&P.args?this._decodeObjid(N,P.args[0],P.args[1],M):"objid"===v?this._decodeObjid(N,null,null,M):"gentime"===v||"utctime"===v?this._decodeTime(N,v,M):"null_"===v?this._decodeNull(N,M):"bool"===v?this._decodeBool(N,M):"objDesc"===v?this._decodeStr(N,v,M):"int"===v||"enum"===v?this._decodeInt(N,P.args&&P.args[0],M):null!==P.use?this._getUse(P.use,N._reporterState.obj)._decode(N,M):N.error("unknown tag: "+v)},x.prototype._getUse=function(v,N){var M=this._baseState;return M.useDecoder=this._use(v,N),K(null===M.useDecoder._baseState.parent),M.useDecoder=M.useDecoder._baseState.children[0],M.implicit!==M.useDecoder._baseState.implicit&&(M.useDecoder=M.useDecoder.clone(),M.useDecoder._baseState.implicit=M.implicit),M.useDecoder},x.prototype._decodeChoice=function(v,N){var M=this._baseState,P=null,L=!1;return Object.keys(M.choice).some(function(G){var B=v.save(),q=M.choice[G];try{var X=q._decode(v,N);if(v.isError(X))return!1;P={type:G,value:X},L=!0}catch{return v.restore(B),!1}return!0},this),L?P:v.error("Choice not matched")},x.prototype._createEncoderBuffer=function(v){return new $(v,this.reporter)},x.prototype._encode=function(v,N,M){var P=this._baseState;if(null===P.default||P.default!==v){var L=this._encodeValue(v,N,M);if(void 0!==L&&!this._skipDefault(L,N,M))return L}},x.prototype._encodeValue=function(v,N,M){var P=this._baseState;if(null===P.parent)return P.children[0]._encode(v,N||new O);var q=null;if(this.reporter=N,P.optional&&void 0===v){if(null===P.default)return;v=P.default}var L=null,G=!1;if(P.any)q=this._createEncoderBuffer(v);else if(P.choice)q=this._encodeChoice(v,N);else if(P.contains)L=this._getUse(P.contains,M)._encode(v,N),G=!0;else if(P.children)L=P.children.map(function(te){if("null_"===te._baseState.tag)return te._encode(null,N,v);if(null===te._baseState.key)return N.error("Child should have a key");var ie=N.enterKey(te._baseState.key);if("object"!=typeof v)return N.error("Child expected, but input is not object");var ae=te._encode(v[te._baseState.key],N,v);return N.leaveKey(ie),ae},this).filter(function(te){return te}),L=this._createEncoderBuffer(L);else if("seqof"===P.tag||"setof"===P.tag){if(!P.args||1!==P.args.length)return N.error("Too many args for : "+P.tag);if(!Array.isArray(v))return N.error("seqof/setof, but data is not Array");var B=this.clone();B._baseState.implicit=null,L=this._createEncoderBuffer(v.map(function(te){return this._getUse(this._baseState.args[0],v)._encode(te,N)},B))}else null!==P.use?q=this._getUse(P.use,M)._encode(v,N):(L=this._encodePrimitive(P.tag,v),G=!0);if(!P.any&&null===P.choice){var X=null!==P.implicit?P.implicit:P.tag,Q=null===P.implicit?"universal":"context";null===X?null===P.use&&N.error("Tag could be omitted only for .use()"):null===P.use&&(q=this._encodeComposite(X,G,Q,L))}return null!==P.explicit&&(q=this._encodeComposite(P.explicit,!1,"context",q)),q},x.prototype._encodeChoice=function(v,N){var M=this._baseState,P=M.choice[v.type];return P||K(!1,v.type+" not found in "+JSON.stringify(Object.keys(M.choice))),P._encode(v.value,N)},x.prototype._encodePrimitive=function(v,N){var M=this._baseState;if(/str$/.test(v))return this._encodeStr(N,v);if("objid"===v&&M.args)return this._encodeObjid(N,M.reverseArgs[0],M.args[1]);if("objid"===v)return this._encodeObjid(N,null,null);if("gentime"===v||"utctime"===v)return this._encodeTime(N,v);if("null_"===v)return this._encodeNull();if("int"===v||"enum"===v)return this._encodeInt(N,M.args&&M.reverseArgs[0]);if("bool"===v)return this._encodeBool(N);if("objDesc"===v)return this._encodeStr(N,v);throw new Error("Unsupported tag: "+v)},x.prototype._isNumstr=function(v){return/^[0-9 ]*$/.test(v)},x.prototype._isPrintstr=function(v){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(v)}},85697:(ye,I,A)=>{var O=A(71993);function $(K){this._reporterState={obj:null,path:[],options:K||{},errors:[]}}function U(K,y){this.path=K,this.rethrow(y)}I.a=$,$.prototype.isError=function(y){return y instanceof U},$.prototype.save=function(){var y=this._reporterState;return{obj:y.obj,pathLen:y.path.length}},$.prototype.restore=function(y){var T=this._reporterState;T.obj=y.obj,T.path=T.path.slice(0,y.pathLen)},$.prototype.enterKey=function(y){return this._reporterState.path.push(y)},$.prototype.exitKey=function(y){var T=this._reporterState;T.path=T.path.slice(0,y-1)},$.prototype.leaveKey=function(y,T,w){var x=this._reporterState;this.exitKey(y),null!==x.obj&&(x.obj[T]=w)},$.prototype.path=function(){return this._reporterState.path.join("/")},$.prototype.enterObject=function(){var y=this._reporterState,T=y.obj;return y.obj={},T},$.prototype.leaveObject=function(y){var T=this._reporterState,w=T.obj;return T.obj=y,w},$.prototype.error=function(y){var T,w=this._reporterState,x=y instanceof U;if(T=x?y:new U(w.path.map(function(R){return"["+JSON.stringify(R)+"]"}).join(""),y.message||y,y.stack),!w.options.partial)throw T;return x||w.errors.push(T),T},$.prototype.wrapResult=function(y){var T=this._reporterState;return T.options.partial?{result:this.isError(y)?null:y,errors:T.errors}:y},O(U,Error),U.prototype.rethrow=function(y){if(this.message=y+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,U),!this.stack)try{throw new Error(this.message)}catch(T){this.stack=T.stack}return this}},36283:(ye,I,A)=>{var O=A(47740);I.tagClass={0:"universal",1:"application",2:"context",3:"private"},I.tagClassByName=O._reverse(I.tagClass),I.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},I.tagByName=O._reverse(I.tag)},47740:(ye,I,A)=>{var O=I;O._reverse=function(U){var K={};return Object.keys(U).forEach(function(y){(0|y)==y&&(y|=0),K[U[y]]=y}),K},O.der=A(36283)},55941:(ye,I,A)=>{var O=A(71993),$=A(49609),U=$.base,K=$.bignum,y=$.constants.der;function T(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new w,this.tree._init(k.body)}function w(k){U.Node.call(this,"der",k)}function x(k,v){var N=k.readUInt8(v);if(k.isError(N))return N;var M=y.tagClass[N>>6],P=!(32&N);if(31&~N)N&=31;else{var L=N;for(N=0;!(128&~L);){if(L=k.readUInt8(v),k.isError(L))return L;N<<=7,N|=127&L}}return{cls:M,primitive:P,tag:N,tagStr:y.tag[N]}}function R(k,v,N){var M=k.readUInt8(N);if(k.isError(M))return M;if(!v&&128===M)return null;if(!(128&M))return M;var P=127&M;if(P>4)return k.error("length octect is too long");M=0;for(var L=0;L<P;L++){M<<=8;var G=k.readUInt8(N);if(k.isError(G))return G;M|=G}return M}ye.exports=T,T.prototype.decode=function(v,N){return v instanceof U.DecoderBuffer||(v=new U.DecoderBuffer(v,N)),this.tree._decode(v,N)},O(w,U.Node),w.prototype._peekTag=function(v,N,M){if(v.isEmpty())return!1;var P=v.save(),L=x(v,'Failed to peek tag: "'+N+'"');return v.isError(L)?L:(v.restore(P),L.tag===N||L.tagStr===N||L.tagStr+"of"===N||M)},w.prototype._decodeTag=function(v,N,M){var P=x(v,'Failed to decode tag of "'+N+'"');if(v.isError(P))return P;var L=R(v,P.primitive,'Failed to get length of "'+N+'"');if(v.isError(L))return L;if(!M&&P.tag!==N&&P.tagStr!==N&&P.tagStr+"of"!==N)return v.error('Failed to match tag: "'+N+'"');if(P.primitive||null!==L)return v.skip(L,'Failed to match body of: "'+N+'"');var G=v.save(),B=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError(B)?B:(L=v.offset-G.offset,v.restore(G),v.skip(L,'Failed to match body of: "'+N+'"'))},w.prototype._skipUntilEnd=function(v,N){for(;;){var M=x(v,N);if(v.isError(M))return M;var L,P=R(v,M.primitive,N);if(v.isError(P))return P;if(L=M.primitive||null!==P?v.skip(P):this._skipUntilEnd(v,N),v.isError(L))return L;if("end"===M.tagStr)break}},w.prototype._decodeList=function(v,N,M,P){for(var L=[];!v.isEmpty();){var G=this._peekTag(v,"end");if(v.isError(G))return G;var B=M.decode(v,"der",P);if(v.isError(B)&&G)break;L.push(B)}return L},w.prototype._decodeStr=function(v,N){if("bitstr"===N){var M=v.readUInt8();return v.isError(M)?M:{unused:M,data:v.raw()}}if("bmpstr"===N){var P=v.raw();if(P.length%2==1)return v.error("Decoding of string type: bmpstr length mismatch");for(var L="",G=0;G<P.length/2;G++)L+=String.fromCharCode(P.readUInt16BE(2*G));return L}if("numstr"===N){var B=v.raw().toString("ascii");return this._isNumstr(B)?B:v.error("Decoding of string type: numstr unsupported characters")}if("octstr"===N)return v.raw();if("objDesc"===N)return v.raw();if("printstr"===N){var q=v.raw().toString("ascii");return this._isPrintstr(q)?q:v.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(N)?v.raw().toString():v.error("Decoding of string type: "+N+" unsupported")},w.prototype._decodeObjid=function(v,N,M){for(var P,L=[],G=0;!v.isEmpty();){var B=v.readUInt8();G<<=7,G|=127&B,128&B||(L.push(G),G=0)}if(128&B&&L.push(G),P=M?L:[L[0]/40|0,L[0]%40].concat(L.slice(1)),N){var Q=N[P.join(" ")];void 0===Q&&(Q=N[P.join(".")]),void 0!==Q&&(P=Q)}return P},w.prototype._decodeTime=function(v,N){var M=v.raw().toString();if("gentime"===N)var P=0|M.slice(0,4),L=0|M.slice(4,6),G=0|M.slice(6,8),B=0|M.slice(8,10),q=0|M.slice(10,12),X=0|M.slice(12,14);else{if("utctime"!==N)return v.error("Decoding "+N+" time is not supported yet");P=0|M.slice(0,2),L=0|M.slice(2,4),G=0|M.slice(4,6),B=0|M.slice(6,8),q=0|M.slice(8,10),X=0|M.slice(10,12),P=P<70?2e3+P:1900+P}return Date.UTC(P,L-1,G,B,q,X,0)},w.prototype._decodeNull=function(v){return null},w.prototype._decodeBool=function(v){var N=v.readUInt8();return v.isError(N)?N:0!==N},w.prototype._decodeInt=function(v,N){var M=v.raw(),P=new K(M);return N&&(P=N[P.toString(10)]||P),P},w.prototype._use=function(v,N){return"function"==typeof v&&(v=v(N)),v._getDecoder("der").tree}},91558:(ye,I,A)=>{var O=I;O.der=A(55941),O.pem=A(59316)},59316:(ye,I,A)=>{var O=A(71993),$=A(83838).Buffer,U=A(55941);function K(y){U.call(this,y),this.enc="pem"}O(K,U),ye.exports=K,K.prototype.decode=function(T,w){for(var x=T.toString().split(/[\r\n]+/g),R=w.label.toUpperCase(),k=/^-----(BEGIN|END) ([^-]+)-----$/,v=-1,N=-1,M=0;M<x.length;M++){var P=x[M].match(k);if(null!==P&&P[2]===R){if(-1!==v){if("END"!==P[1])break;N=M;break}if("BEGIN"!==P[1])break;v=M}}if(-1===v||-1===N)throw new Error("PEM section not found for: "+R);var L=x.slice(v+1,N).join("");L.replace(/[^a-z0-9\+\/=]+/gi,"");var G=new $(L,"base64");return U.prototype.decode.call(this,G,w)}},72193:(ye,I,A)=>{var O=A(71993),$=A(83838).Buffer,U=A(49609),K=U.base,y=U.constants.der;function T(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new w,this.tree._init(k.body)}function w(k){K.Node.call(this,"der",k)}function x(k){return k<10?"0"+k:k}ye.exports=T,T.prototype.encode=function(v,N){return this.tree._encode(v,N).join()},O(w,K.Node),w.prototype._encodeComposite=function(v,N,M,P){var q,L=function R(k,v,N,M){var P;if("seqof"===k?k="seq":"setof"===k&&(k="set"),y.tagByName.hasOwnProperty(k))P=y.tagByName[k];else{if("number"!=typeof k||(0|k)!==k)return M.error("Unknown tag: "+k);P=k}return P>=31?M.error("Multi-octet tag encoding unsupported"):(v||(P|=32),P|=y.tagClassByName[N||"universal"]<<6)}(v,N,M,this.reporter);if(P.length<128)return(q=new $(2))[0]=L,q[1]=P.length,this._createEncoderBuffer([q,P]);for(var G=1,B=P.length;B>=256;B>>=8)G++;(q=new $(2+G))[0]=L,q[1]=128|G,B=1+G;for(var X=P.length;X>0;B--,X>>=8)q[B]=255&X;return this._createEncoderBuffer([q,P])},w.prototype._encodeStr=function(v,N){if("bitstr"===N)return this._createEncoderBuffer([0|v.unused,v.data]);if("bmpstr"===N){for(var M=new $(2*v.length),P=0;P<v.length;P++)M.writeUInt16BE(v.charCodeAt(P),2*P);return this._createEncoderBuffer(M)}return"numstr"===N?this._isNumstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===N?this._isPrintstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(N)||"objDesc"===N?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: "+N+" unsupported")},w.prototype._encodeObjid=function(v,N,M){if("string"==typeof v){if(!N)return this.reporter.error("string objid given, but no values map found");if(!N.hasOwnProperty(v))return this.reporter.error("objid not found in values map");v=N[v].split(/[\s\.]+/g);for(var P=0;P<v.length;P++)v[P]|=0}else if(Array.isArray(v))for(v=v.slice(),P=0;P<v.length;P++)v[P]|=0;if(!Array.isArray(v))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(v));if(!M){if(v[1]>=40)return this.reporter.error("Second objid identifier OOB");v.splice(0,2,40*v[0]+v[1])}var L=0;for(P=0;P<v.length;P++){var G=v[P];for(L++;G>=128;G>>=7)L++}var B=new $(L),q=B.length-1;for(P=v.length-1;P>=0;P--)for(B[q--]=127&(G=v[P]);(G>>=7)>0;)B[q--]=128|127&G;return this._createEncoderBuffer(B)},w.prototype._encodeTime=function(v,N){var M,P=new Date(v);return"gentime"===N?M=[x(P.getFullYear()),x(P.getUTCMonth()+1),x(P.getUTCDate()),x(P.getUTCHours()),x(P.getUTCMinutes()),x(P.getUTCSeconds()),"Z"].join(""):"utctime"===N?M=[x(P.getFullYear()%100),x(P.getUTCMonth()+1),x(P.getUTCDate()),x(P.getUTCHours()),x(P.getUTCMinutes()),x(P.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+N+" time is not supported yet"),this._encodeStr(M,"octstr")},w.prototype._encodeNull=function(){return this._createEncoderBuffer("")},w.prototype._encodeInt=function(v,N){if("string"==typeof v){if(!N)return this.reporter.error("String int or enum given, but no values map");if(!N.hasOwnProperty(v))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(v));v=N[v]}if("number"!=typeof v&&!$.isBuffer(v)){var M=v.toArray();!v.sign&&128&M[0]&&M.unshift(0),v=new $(M)}if($.isBuffer(v)){var P=v.length;0===v.length&&P++;var G=new $(P);return v.copy(G),0===v.length&&(G[0]=0),this._createEncoderBuffer(G)}if(v<128)return this._createEncoderBuffer(v);if(v<256)return this._createEncoderBuffer([0,v]);P=1;for(var L=v;L>=256;L>>=8)P++;for(L=(G=new Array(P)).length-1;L>=0;L--)G[L]=255&v,v>>=8;return 128&G[0]&&G.unshift(0),this._createEncoderBuffer(new $(G))},w.prototype._encodeBool=function(v){return this._createEncoderBuffer(v?255:0)},w.prototype._use=function(v,N){return"function"==typeof v&&(v=v(N)),v._getEncoder("der").tree},w.prototype._skipDefault=function(v,N,M){var L,P=this._baseState;if(null===P.default)return!1;var G=v.join();if(void 0===P.defaultBuffer&&(P.defaultBuffer=this._encodeValue(P.default,N,M).join()),G.length!==P.defaultBuffer.length)return!1;for(L=0;L<G.length;L++)if(G[L]!==P.defaultBuffer[L])return!1;return!0}},22714:(ye,I,A)=>{var O=I;O.der=A(72193),O.pem=A(24816)},24816:(ye,I,A)=>{var O=A(71993),$=A(72193);function U(K){$.call(this,K),this.enc="pem"}O(U,$),ye.exports=U,U.prototype.encode=function(y,T){for(var x=$.prototype.encode.call(this,y).toString("base64"),R=["-----BEGIN "+T.label+"-----"],k=0;k<x.length;k+=64)R.push(x.slice(k,k+64));return R.push("-----END "+T.label+"-----"),R.join("\n")}},96867:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(78982).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},13981:(ye,I)=>{"use strict";I.byteLength=function w(M){var P=T(M),G=P[1];return 3*(P[0]+G)/4-G},I.toByteArray=function R(M){var P,te,L=T(M),G=L[0],B=L[1],q=new $(function x(M,P,L){return 3*(P+L)/4-L}(0,G,B)),X=0,Q=B>0?G-4:G;for(te=0;te<Q;te+=4)P=O[M.charCodeAt(te)]<<18|O[M.charCodeAt(te+1)]<<12|O[M.charCodeAt(te+2)]<<6|O[M.charCodeAt(te+3)],q[X++]=P>>16&255,q[X++]=P>>8&255,q[X++]=255&P;return 2===B&&(P=O[M.charCodeAt(te)]<<2|O[M.charCodeAt(te+1)]>>4,q[X++]=255&P),1===B&&(P=O[M.charCodeAt(te)]<<10|O[M.charCodeAt(te+1)]<<4|O[M.charCodeAt(te+2)]>>2,q[X++]=P>>8&255,q[X++]=255&P),q},I.fromByteArray=function N(M){for(var P,L=M.length,G=L%3,B=[],q=16383,X=0,Q=L-G;X<Q;X+=q)B.push(v(M,X,X+q>Q?Q:X+q));return 1===G?B.push(A[(P=M[L-1])>>2]+A[P<<4&63]+"=="):2===G&&B.push(A[(P=(M[L-2]<<8)+M[L-1])>>10]+A[P>>4&63]+A[P<<2&63]+"="),B.join("")};for(var A=[],O=[],$=typeof Uint8Array<"u"?Uint8Array:Array,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=0;K<64;++K)A[K]=U[K],O[U.charCodeAt(K)]=K;function T(M){var P=M.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=M.indexOf("=");return-1===L&&(L=P),[L,L===P?0:4-L%4]}function k(M){return A[M>>18&63]+A[M>>12&63]+A[M>>6&63]+A[63&M]}function v(M,P,L){for(var B=[],q=P;q<L;q+=3)B.push(k((M[q]<<16&16711680)+(M[q+1]<<8&65280)+(255&M[q+2])));return B.join("")}O[45]=62,O[95]=63},917:function(ye,I,A){!function(O,$){"use strict";function U(b,C){if(!b)throw new Error(C||"Assertion failed")}function K(b,C){b.super_=C;var D=function(){};D.prototype=C.prototype,b.prototype=new D,b.prototype.constructor=b}function y(b,C,D){if(y.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,null!==b&&(("le"===C||"be"===C)&&(D=C,C=10),this._init(b||0,C||10,D||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(47790).Buffer}catch{}function w(b,C){var D=b.charCodeAt(C);return D>=48&&D<=57?D-48:D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:void U(!1,"Invalid character in "+b)}function x(b,C,D){var V=w(b,D);return D-1>=C&&(V|=w(b,D-1)<<4),V}function R(b,C,D,V){for(var Y=0,F=0,h=Math.min(b.length,D),g=C;g<h;g++){var J=b.charCodeAt(g)-48;Y*=V,F=J>=49?J-49+10:J>=17?J-17+10:J,U(J>=0&&F<V,"Invalid character"),Y+=F}return Y}function k(b,C){b.words=C.words,b.length=C.length,b.negative=C.negative,b.red=C.red}if(y.isBN=function(C){return C instanceof y||null!==C&&"object"==typeof C&&C.constructor.wordSize===y.wordSize&&Array.isArray(C.words)},y.max=function(C,D){return C.cmp(D)>0?C:D},y.min=function(C,D){return C.cmp(D)<0?C:D},y.prototype._init=function(C,D,V){if("number"==typeof C)return this._initNumber(C,D,V);if("object"==typeof C)return this._initArray(C,D,V);"hex"===D&&(D=16),U(D===(0|D)&&D>=2&&D<=36);var Y=0;"-"===(C=C.toString().replace(/\s+/g,""))[0]&&(Y++,this.negative=1),Y<C.length&&(16===D?this._parseHex(C,Y,V):(this._parseBase(C,D,Y),"le"===V&&this._initArray(this.toArray(),D,V)))},y.prototype._initNumber=function(C,D,V){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(U(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),"le"===V&&this._initArray(this.toArray(),D,V)},y.prototype._initArray=function(C,D,V){if(U("number"==typeof C.length),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var F,h,g=0;if("be"===V)for(Y=C.length-1,F=0;Y>=0;Y-=3)this.words[F]|=(h=C[Y]|C[Y-1]<<8|C[Y-2]<<16)<<g&67108863,this.words[F+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,F++);else if("le"===V)for(Y=0,F=0;Y<C.length;Y+=3)this.words[F]|=(h=C[Y]|C[Y+1]<<8|C[Y+2]<<16)<<g&67108863,this.words[F+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,F++);return this._strip()},y.prototype._parseHex=function(C,D,V){this.length=Math.ceil((C.length-D)/6),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var g,F=0,h=0;if("be"===V)for(Y=C.length-1;Y>=D;Y-=2)g=x(C,D,Y)<<F,this.words[h]|=67108863&g,F>=18?(F-=18,this.words[h+=1]|=g>>>26):F+=8;else for(Y=(C.length-D)%2==0?D+1:D;Y<C.length;Y+=2)g=x(C,D,Y)<<F,this.words[h]|=67108863&g,F>=18?(F-=18,this.words[h+=1]|=g>>>26):F+=8;this._strip()},y.prototype._parseBase=function(C,D,V){this.words=[0],this.length=1;for(var Y=0,F=1;F<=67108863;F*=D)Y++;Y--,F=F/D|0;for(var h=C.length-V,g=h%Y,J=Math.min(h,h-g)+V,ee=0,re=V;re<J;re+=Y)ee=R(C,re,re+Y,D),this.imuln(F),this.words[0]+ee<67108864?this.words[0]+=ee:this._iaddn(ee);if(0!==g){var fe=1;for(ee=R(C,re,C.length,D),re=0;re<g;re++)fe*=D;this.imuln(fe),this.words[0]+ee<67108864?this.words[0]+=ee:this._iaddn(ee)}this._strip()},y.prototype.copy=function(C){C.words=new Array(this.length);for(var D=0;D<this.length;D++)C.words[D]=this.words[D];C.length=this.length,C.negative=this.negative,C.red=this.red},y.prototype._move=function(C){k(C,this)},y.prototype.clone=function(){var C=new y(null);return this.copy(C),C},y.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},y.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{y.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{y.prototype.inspect=v}else y.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function B(b,C,D){D.negative=C.negative^b.negative;var V=b.length+C.length|0;D.length=V,V=V-1|0;var Y=0|b.words[0],F=0|C.words[0],h=Y*F,J=h/67108864|0;D.words[0]=67108863&h;for(var ee=1;ee<V;ee++){for(var re=J>>>26,fe=67108863&J,Ae=Math.min(ee,C.length-1),Me=Math.max(0,ee-b.length+1);Me<=Ae;Me++)re+=(h=(Y=0|b.words[ee-Me|0])*(F=0|C.words[Me])+fe)/67108864|0,fe=67108863&h;D.words[ee]=0|fe,J=0|re}return 0!==J?D.words[ee]=0|J:D.length--,D._strip()}y.prototype.toString=function(C,D){var V;if(D=0|D||1,16===(C=C||10)||"hex"===C){V="";for(var Y=0,F=0,h=0;h<this.length;h++){var g=this.words[h],J=(16777215&(g<<Y|F)).toString(16);F=g>>>24-Y&16777215,(Y+=2)>=26&&(Y-=26,h--),V=0!==F||h!==this.length-1?N[6-J.length]+J+V:J+V}for(0!==F&&(V=F.toString(16)+V);V.length%D!=0;)V="0"+V;return 0!==this.negative&&(V="-"+V),V}if(C===(0|C)&&C>=2&&C<=36){var ee=M[C],re=P[C];V="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var Ae=fe.modrn(re).toString(C);V=(fe=fe.idivn(re)).isZero()?Ae+V:N[ee-Ae.length]+Ae+V}for(this.isZero()&&(V="0"+V);V.length%D!=0;)V="0"+V;return 0!==this.negative&&(V="-"+V),V}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var C=this.words[0];return 2===this.length?C+=67108864*this.words[1]:3===this.length&&1===this.words[2]?C+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-C:C},y.prototype.toJSON=function(){return this.toString(16,2)},T&&(y.prototype.toBuffer=function(C,D){return this.toArrayLike(T,C,D)}),y.prototype.toArray=function(C,D){return this.toArrayLike(Array,C,D)},y.prototype.toArrayLike=function(C,D,V){this._strip();var Y=this.byteLength(),F=V||Math.max(1,Y);U(Y<=F,"byte array longer than desired length"),U(F>0,"Requested array length <= 0");var h=function(C,D){return C.allocUnsafe?C.allocUnsafe(D):new C(D)}(C,F);return this["_toArrayLike"+("le"===D?"LE":"BE")](h,Y),h},y.prototype._toArrayLikeLE=function(C,D){for(var V=0,Y=0,F=0,h=0;F<this.length;F++){var g=this.words[F]<<h|Y;C[V++]=255&g,V<C.length&&(C[V++]=g>>8&255),V<C.length&&(C[V++]=g>>16&255),6===h?(V<C.length&&(C[V++]=g>>24&255),Y=0,h=0):(Y=g>>>24,h+=2)}if(V<C.length)for(C[V++]=Y;V<C.length;)C[V++]=0},y.prototype._toArrayLikeBE=function(C,D){for(var V=C.length-1,Y=0,F=0,h=0;F<this.length;F++){var g=this.words[F]<<h|Y;C[V--]=255&g,V>=0&&(C[V--]=g>>8&255),V>=0&&(C[V--]=g>>16&255),6===h?(V>=0&&(C[V--]=g>>24&255),Y=0,h=0):(Y=g>>>24,h+=2)}if(V>=0)for(C[V--]=Y;V>=0;)C[V--]=0},y.prototype._countBits=Math.clz32?function(C){return 32-Math.clz32(C)}:function(C){var D=C,V=0;return D>=4096&&(V+=13,D>>>=13),D>=64&&(V+=7,D>>>=7),D>=8&&(V+=4,D>>>=4),D>=2&&(V+=2,D>>>=2),V+D},y.prototype._zeroBits=function(C){if(0===C)return 26;var D=C,V=0;return 8191&D||(V+=13,D>>>=13),127&D||(V+=7,D>>>=7),15&D||(V+=4,D>>>=4),3&D||(V+=2,D>>>=2),1&D||V++,V},y.prototype.bitLength=function(){var D=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+D},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,D=0;D<this.length;D++){var V=this._zeroBits(this.words[D]);if(C+=V,26!==V)break}return C},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(C){return 0!==this.negative?this.abs().inotn(C).iaddn(1):this.clone()},y.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var D=0;D<C.length;D++)this.words[D]=this.words[D]|C.words[D];return this._strip()},y.prototype.ior=function(C){return U(!(this.negative|C.negative)),this.iuor(C)},y.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},y.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},y.prototype.iuand=function(C){var D;D=this.length>C.length?C:this;for(var V=0;V<D.length;V++)this.words[V]=this.words[V]&C.words[V];return this.length=D.length,this._strip()},y.prototype.iand=function(C){return U(!(this.negative|C.negative)),this.iuand(C)},y.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},y.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},y.prototype.iuxor=function(C){var D,V;this.length>C.length?(D=this,V=C):(D=C,V=this);for(var Y=0;Y<V.length;Y++)this.words[Y]=D.words[Y]^V.words[Y];if(this!==D)for(;Y<D.length;Y++)this.words[Y]=D.words[Y];return this.length=D.length,this._strip()},y.prototype.ixor=function(C){return U(!(this.negative|C.negative)),this.iuxor(C)},y.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},y.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},y.prototype.inotn=function(C){U("number"==typeof C&&C>=0);var D=0|Math.ceil(C/26),V=C%26;this._expand(D),V>0&&D--;for(var Y=0;Y<D;Y++)this.words[Y]=67108863&~this.words[Y];return V>0&&(this.words[Y]=~this.words[Y]&67108863>>26-V),this._strip()},y.prototype.notn=function(C){return this.clone().inotn(C)},y.prototype.setn=function(C,D){U("number"==typeof C&&C>=0);var V=C/26|0,Y=C%26;return this._expand(V+1),this.words[V]=D?this.words[V]|1<<Y:this.words[V]&~(1<<Y),this._strip()},y.prototype.iadd=function(C){var D,V,Y;if(0!==this.negative&&0===C.negative)return this.negative=0,D=this.isub(C),this.negative^=1,this._normSign();if(0===this.negative&&0!==C.negative)return C.negative=0,D=this.isub(C),C.negative=1,D._normSign();this.length>C.length?(V=this,Y=C):(V=C,Y=this);for(var F=0,h=0;h<Y.length;h++)this.words[h]=67108863&(D=(0|V.words[h])+(0|Y.words[h])+F),F=D>>>26;for(;0!==F&&h<V.length;h++)this.words[h]=67108863&(D=(0|V.words[h])+F),F=D>>>26;if(this.length=V.length,0!==F)this.words[this.length]=F,this.length++;else if(V!==this)for(;h<V.length;h++)this.words[h]=V.words[h];return this},y.prototype.add=function(C){var D;return 0!==C.negative&&0===this.negative?(C.negative=0,D=this.sub(C),C.negative^=1,D):0===C.negative&&0!==this.negative?(this.negative=0,D=C.sub(this),this.negative=1,D):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},y.prototype.isub=function(C){if(0!==C.negative){C.negative=0;var D=this.iadd(C);return C.negative=1,D._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var Y,F,V=this.cmp(C);if(0===V)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(Y=this,F=C):(Y=C,F=this);for(var h=0,g=0;g<F.length;g++)h=(D=(0|Y.words[g])-(0|F.words[g])+h)>>26,this.words[g]=67108863&D;for(;0!==h&&g<Y.length;g++)h=(D=(0|Y.words[g])+h)>>26,this.words[g]=67108863&D;if(0===h&&g<Y.length&&Y!==this)for(;g<Y.length;g++)this.words[g]=Y.words[g];return this.length=Math.max(this.length,g),Y!==this&&(this.negative=1),this._strip()},y.prototype.sub=function(C){return this.clone().isub(C)};var q=function(C,D,V){var J,ee,re,Y=C.words,F=D.words,h=V.words,g=0,fe=0|Y[0],Ae=8191&fe,Me=fe>>>13,Le=0|Y[1],Ee=8191&Le,Se=Le>>>13,He=0|Y[2],Te=8191&He,u=He>>>13,xe=0|Y[3],be=8191&xe,_e=xe>>>13,Ce=0|Y[4],ke=8191&Ce,ze=Ce>>>13,Ne=0|Y[5],We=8191&Ne,Ye=Ne>>>13,wt=0|Y[6],mt=8191&wt,rt=wt>>>13,Ut=0|Y[7],se=8191&Ut,W=Ut>>>13,Z=0|Y[8],he=8191&Z,De=Z>>>13,Xe=0|Y[9],Ze=8191&Xe,at=Xe>>>13,Rt=0|F[0],Mt=8191&Rt,At=Rt>>>13,Wt=0|F[1],Bt=8191&Wt,nn=Wt>>>13,Hn=0|F[2],sn=8191&Hn,an=Hn>>>13,kn=0|F[3],Ve=8191&kn,st=kn>>>13,gt=0|F[4],dt=8191&gt,yt=gt>>>13,ln=0|F[5],Be=8191&ln,Ge=ln>>>13,ht=0|F[6],et=8191&ht,ut=ht>>>13,en=0|F[7],It=8191&en,qt=en>>>13,Fn=0|F[8],Vt=8191&Fn,cn=Fn>>>13,vr=0|F[9],jn=8191&vr,Bn=vr>>>13;V.negative=C.negative^D.negative,V.length=19;var gr=(g+(J=Math.imul(Ae,Mt))|0)+((8191&(ee=(ee=Math.imul(Ae,At))+Math.imul(Me,Mt)|0))<<13)|0;g=((re=Math.imul(Me,At))+(ee>>>13)|0)+(gr>>>26)|0,gr&=67108863,J=Math.imul(Ee,Mt),ee=(ee=Math.imul(Ee,At))+Math.imul(Se,Mt)|0,re=Math.imul(Se,At);var Vn=(g+(J=J+Math.imul(Ae,Bt)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0))<<13)|0;g=((re=re+Math.imul(Me,nn)|0)+(ee>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,J=Math.imul(Te,Mt),ee=(ee=Math.imul(Te,At))+Math.imul(u,Mt)|0,re=Math.imul(u,At),J=J+Math.imul(Ee,Bt)|0,ee=(ee=ee+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,re=re+Math.imul(Se,nn)|0;var nr=(g+(J=J+Math.imul(Ae,sn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0))<<13)|0;g=((re=re+Math.imul(Me,an)|0)+(ee>>>13)|0)+(nr>>>26)|0,nr&=67108863,J=Math.imul(be,Mt),ee=(ee=Math.imul(be,At))+Math.imul(_e,Mt)|0,re=Math.imul(_e,At),J=J+Math.imul(Te,Bt)|0,ee=(ee=ee+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,re=re+Math.imul(u,nn)|0,J=J+Math.imul(Ee,sn)|0,ee=(ee=ee+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,re=re+Math.imul(Se,an)|0;var tr=(g+(J=J+Math.imul(Ae,Ve)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0))<<13)|0;g=((re=re+Math.imul(Me,st)|0)+(ee>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(ke,Mt),ee=(ee=Math.imul(ke,At))+Math.imul(ze,Mt)|0,re=Math.imul(ze,At),J=J+Math.imul(be,Bt)|0,ee=(ee=ee+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,re=re+Math.imul(_e,nn)|0,J=J+Math.imul(Te,sn)|0,ee=(ee=ee+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,re=re+Math.imul(u,an)|0,J=J+Math.imul(Ee,Ve)|0,ee=(ee=ee+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,re=re+Math.imul(Se,st)|0;var Xn=(g+(J=J+Math.imul(Ae,dt)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0))<<13)|0;g=((re=re+Math.imul(Me,yt)|0)+(ee>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,J=Math.imul(We,Mt),ee=(ee=Math.imul(We,At))+Math.imul(Ye,Mt)|0,re=Math.imul(Ye,At),J=J+Math.imul(ke,Bt)|0,ee=(ee=ee+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,re=re+Math.imul(ze,nn)|0,J=J+Math.imul(be,sn)|0,ee=(ee=ee+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,re=re+Math.imul(_e,an)|0,J=J+Math.imul(Te,Ve)|0,ee=(ee=ee+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,re=re+Math.imul(u,st)|0,J=J+Math.imul(Ee,dt)|0,ee=(ee=ee+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,re=re+Math.imul(Se,yt)|0;var pi=(g+(J=J+Math.imul(Ae,Be)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0))<<13)|0;g=((re=re+Math.imul(Me,Ge)|0)+(ee>>>13)|0)+(pi>>>26)|0,pi&=67108863,J=Math.imul(mt,Mt),ee=(ee=Math.imul(mt,At))+Math.imul(rt,Mt)|0,re=Math.imul(rt,At),J=J+Math.imul(We,Bt)|0,ee=(ee=ee+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,re=re+Math.imul(Ye,nn)|0,J=J+Math.imul(ke,sn)|0,ee=(ee=ee+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,re=re+Math.imul(ze,an)|0,J=J+Math.imul(be,Ve)|0,ee=(ee=ee+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,re=re+Math.imul(_e,st)|0,J=J+Math.imul(Te,dt)|0,ee=(ee=ee+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,re=re+Math.imul(u,yt)|0,J=J+Math.imul(Ee,Be)|0,ee=(ee=ee+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,re=re+Math.imul(Se,Ge)|0;var Xr=(g+(J=J+Math.imul(Ae,et)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0))<<13)|0;g=((re=re+Math.imul(Me,ut)|0)+(ee>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,J=Math.imul(se,Mt),ee=(ee=Math.imul(se,At))+Math.imul(W,Mt)|0,re=Math.imul(W,At),J=J+Math.imul(mt,Bt)|0,ee=(ee=ee+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,re=re+Math.imul(rt,nn)|0,J=J+Math.imul(We,sn)|0,ee=(ee=ee+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,re=re+Math.imul(Ye,an)|0,J=J+Math.imul(ke,Ve)|0,ee=(ee=ee+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,re=re+Math.imul(ze,st)|0,J=J+Math.imul(be,dt)|0,ee=(ee=ee+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,re=re+Math.imul(_e,yt)|0,J=J+Math.imul(Te,Be)|0,ee=(ee=ee+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,re=re+Math.imul(u,Ge)|0,J=J+Math.imul(Ee,et)|0,ee=(ee=ee+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,re=re+Math.imul(Se,ut)|0;var Rr=(g+(J=J+Math.imul(Ae,It)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0))<<13)|0;g=((re=re+Math.imul(Me,qt)|0)+(ee>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,J=Math.imul(he,Mt),ee=(ee=Math.imul(he,At))+Math.imul(De,Mt)|0,re=Math.imul(De,At),J=J+Math.imul(se,Bt)|0,ee=(ee=ee+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,re=re+Math.imul(W,nn)|0,J=J+Math.imul(mt,sn)|0,ee=(ee=ee+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,re=re+Math.imul(rt,an)|0,J=J+Math.imul(We,Ve)|0,ee=(ee=ee+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,re=re+Math.imul(Ye,st)|0,J=J+Math.imul(ke,dt)|0,ee=(ee=ee+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,re=re+Math.imul(ze,yt)|0,J=J+Math.imul(be,Be)|0,ee=(ee=ee+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,re=re+Math.imul(_e,Ge)|0,J=J+Math.imul(Te,et)|0,ee=(ee=ee+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,re=re+Math.imul(u,ut)|0,J=J+Math.imul(Ee,It)|0,ee=(ee=ee+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,re=re+Math.imul(Se,qt)|0;var Un=(g+(J=J+Math.imul(Ae,Vt)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;g=((re=re+Math.imul(Me,cn)|0)+(ee>>>13)|0)+(Un>>>26)|0,Un&=67108863,J=Math.imul(Ze,Mt),ee=(ee=Math.imul(Ze,At))+Math.imul(at,Mt)|0,re=Math.imul(at,At),J=J+Math.imul(he,Bt)|0,ee=(ee=ee+Math.imul(he,nn)|0)+Math.imul(De,Bt)|0,re=re+Math.imul(De,nn)|0,J=J+Math.imul(se,sn)|0,ee=(ee=ee+Math.imul(se,an)|0)+Math.imul(W,sn)|0,re=re+Math.imul(W,an)|0,J=J+Math.imul(mt,Ve)|0,ee=(ee=ee+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,re=re+Math.imul(rt,st)|0,J=J+Math.imul(We,dt)|0,ee=(ee=ee+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,re=re+Math.imul(Ye,yt)|0,J=J+Math.imul(ke,Be)|0,ee=(ee=ee+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,re=re+Math.imul(ze,Ge)|0,J=J+Math.imul(be,et)|0,ee=(ee=ee+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,re=re+Math.imul(_e,ut)|0,J=J+Math.imul(Te,It)|0,ee=(ee=ee+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,re=re+Math.imul(u,qt)|0,J=J+Math.imul(Ee,Vt)|0,ee=(ee=ee+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0,re=re+Math.imul(Se,cn)|0;var Qn=(g+(J=J+Math.imul(Ae,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ae,Bn)|0)+Math.imul(Me,jn)|0))<<13)|0;g=((re=re+Math.imul(Me,Bn)|0)+(ee>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,J=Math.imul(Ze,Bt),ee=(ee=Math.imul(Ze,nn))+Math.imul(at,Bt)|0,re=Math.imul(at,nn),J=J+Math.imul(he,sn)|0,ee=(ee=ee+Math.imul(he,an)|0)+Math.imul(De,sn)|0,re=re+Math.imul(De,an)|0,J=J+Math.imul(se,Ve)|0,ee=(ee=ee+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,re=re+Math.imul(W,st)|0,J=J+Math.imul(mt,dt)|0,ee=(ee=ee+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,re=re+Math.imul(rt,yt)|0,J=J+Math.imul(We,Be)|0,ee=(ee=ee+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,re=re+Math.imul(Ye,Ge)|0,J=J+Math.imul(ke,et)|0,ee=(ee=ee+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,re=re+Math.imul(ze,ut)|0,J=J+Math.imul(be,It)|0,ee=(ee=ee+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,re=re+Math.imul(_e,qt)|0,J=J+Math.imul(Te,Vt)|0,ee=(ee=ee+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0,re=re+Math.imul(u,cn)|0;var Jr=(g+(J=J+Math.imul(Ee,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Ee,Bn)|0)+Math.imul(Se,jn)|0))<<13)|0;g=((re=re+Math.imul(Se,Bn)|0)+(ee>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,J=Math.imul(Ze,sn),ee=(ee=Math.imul(Ze,an))+Math.imul(at,sn)|0,re=Math.imul(at,an),J=J+Math.imul(he,Ve)|0,ee=(ee=ee+Math.imul(he,st)|0)+Math.imul(De,Ve)|0,re=re+Math.imul(De,st)|0,J=J+Math.imul(se,dt)|0,ee=(ee=ee+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,re=re+Math.imul(W,yt)|0,J=J+Math.imul(mt,Be)|0,ee=(ee=ee+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,re=re+Math.imul(rt,Ge)|0,J=J+Math.imul(We,et)|0,ee=(ee=ee+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,re=re+Math.imul(Ye,ut)|0,J=J+Math.imul(ke,It)|0,ee=(ee=ee+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,re=re+Math.imul(ze,qt)|0,J=J+Math.imul(be,Vt)|0,ee=(ee=ee+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0,re=re+Math.imul(_e,cn)|0;var Qr=(g+(J=J+Math.imul(Te,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(Te,Bn)|0)+Math.imul(u,jn)|0))<<13)|0;g=((re=re+Math.imul(u,Bn)|0)+(ee>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,J=Math.imul(Ze,Ve),ee=(ee=Math.imul(Ze,st))+Math.imul(at,Ve)|0,re=Math.imul(at,st),J=J+Math.imul(he,dt)|0,ee=(ee=ee+Math.imul(he,yt)|0)+Math.imul(De,dt)|0,re=re+Math.imul(De,yt)|0,J=J+Math.imul(se,Be)|0,ee=(ee=ee+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,re=re+Math.imul(W,Ge)|0,J=J+Math.imul(mt,et)|0,ee=(ee=ee+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,re=re+Math.imul(rt,ut)|0,J=J+Math.imul(We,It)|0,ee=(ee=ee+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,re=re+Math.imul(Ye,qt)|0,J=J+Math.imul(ke,Vt)|0,ee=(ee=ee+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0,re=re+Math.imul(ze,cn)|0;var Tr=(g+(J=J+Math.imul(be,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(be,Bn)|0)+Math.imul(_e,jn)|0))<<13)|0;g=((re=re+Math.imul(_e,Bn)|0)+(ee>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,J=Math.imul(Ze,dt),ee=(ee=Math.imul(Ze,yt))+Math.imul(at,dt)|0,re=Math.imul(at,yt),J=J+Math.imul(he,Be)|0,ee=(ee=ee+Math.imul(he,Ge)|0)+Math.imul(De,Be)|0,re=re+Math.imul(De,Ge)|0,J=J+Math.imul(se,et)|0,ee=(ee=ee+Math.imul(se,ut)|0)+Math.imul(W,et)|0,re=re+Math.imul(W,ut)|0,J=J+Math.imul(mt,It)|0,ee=(ee=ee+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,re=re+Math.imul(rt,qt)|0,J=J+Math.imul(We,Vt)|0,ee=(ee=ee+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0,re=re+Math.imul(Ye,cn)|0;var qn=(g+(J=J+Math.imul(ke,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(ke,Bn)|0)+Math.imul(ze,jn)|0))<<13)|0;g=((re=re+Math.imul(ze,Bn)|0)+(ee>>>13)|0)+(qn>>>26)|0,qn&=67108863,J=Math.imul(Ze,Be),ee=(ee=Math.imul(Ze,Ge))+Math.imul(at,Be)|0,re=Math.imul(at,Ge),J=J+Math.imul(he,et)|0,ee=(ee=ee+Math.imul(he,ut)|0)+Math.imul(De,et)|0,re=re+Math.imul(De,ut)|0,J=J+Math.imul(se,It)|0,ee=(ee=ee+Math.imul(se,qt)|0)+Math.imul(W,It)|0,re=re+Math.imul(W,qt)|0,J=J+Math.imul(mt,Vt)|0,ee=(ee=ee+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0,re=re+Math.imul(rt,cn)|0;var $r=(g+(J=J+Math.imul(We,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(We,Bn)|0)+Math.imul(Ye,jn)|0))<<13)|0;g=((re=re+Math.imul(Ye,Bn)|0)+(ee>>>13)|0)+($r>>>26)|0,$r&=67108863,J=Math.imul(Ze,et),ee=(ee=Math.imul(Ze,ut))+Math.imul(at,et)|0,re=Math.imul(at,ut),J=J+Math.imul(he,It)|0,ee=(ee=ee+Math.imul(he,qt)|0)+Math.imul(De,It)|0,re=re+Math.imul(De,qt)|0,J=J+Math.imul(se,Vt)|0,ee=(ee=ee+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0,re=re+Math.imul(W,cn)|0;var xi=(g+(J=J+Math.imul(mt,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(mt,Bn)|0)+Math.imul(rt,jn)|0))<<13)|0;g=((re=re+Math.imul(rt,Bn)|0)+(ee>>>13)|0)+(xi>>>26)|0,xi&=67108863,J=Math.imul(Ze,It),ee=(ee=Math.imul(Ze,qt))+Math.imul(at,It)|0,re=Math.imul(at,qt),J=J+Math.imul(he,Vt)|0,ee=(ee=ee+Math.imul(he,cn)|0)+Math.imul(De,Vt)|0,re=re+Math.imul(De,cn)|0;var Ti=(g+(J=J+Math.imul(se,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(se,Bn)|0)+Math.imul(W,jn)|0))<<13)|0;g=((re=re+Math.imul(W,Bn)|0)+(ee>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,J=Math.imul(Ze,Vt),ee=(ee=Math.imul(Ze,cn))+Math.imul(at,Vt)|0,re=Math.imul(at,cn);var qs=(g+(J=J+Math.imul(he,jn)|0)|0)+((8191&(ee=(ee=ee+Math.imul(he,Bn)|0)+Math.imul(De,jn)|0))<<13)|0;g=((re=re+Math.imul(De,Bn)|0)+(ee>>>13)|0)+(qs>>>26)|0,qs&=67108863;var vi=(g+(J=Math.imul(Ze,jn))|0)+((8191&(ee=(ee=Math.imul(Ze,Bn))+Math.imul(at,jn)|0))<<13)|0;return g=((re=Math.imul(at,Bn))+(ee>>>13)|0)+(vi>>>26)|0,vi&=67108863,h[0]=gr,h[1]=Vn,h[2]=nr,h[3]=tr,h[4]=Xn,h[5]=pi,h[6]=Xr,h[7]=Rr,h[8]=Un,h[9]=Qn,h[10]=Jr,h[11]=Qr,h[12]=Tr,h[13]=qn,h[14]=$r,h[15]=xi,h[16]=Ti,h[17]=qs,h[18]=vi,0!==g&&(h[19]=g,V.length++),V};function X(b,C,D){D.negative=C.negative^b.negative,D.length=b.length+C.length;for(var V=0,Y=0,F=0;F<D.length-1;F++){var h=Y;Y=0;for(var g=67108863&V,J=Math.min(F,C.length-1),ee=Math.max(0,F-b.length+1);ee<=J;ee++){var Me=(0|b.words[F-ee])*(0|C.words[ee]),Le=67108863&Me;g=67108863&(Le=Le+g|0),Y+=(h=(h=h+(Me/67108864|0)|0)+(Le>>>26)|0)>>>26,h&=67108863}D.words[F]=g,V=h,h=Y}return 0!==V?D.words[F]=V:D.length--,D._strip()}function Q(b,C,D){return X(b,C,D)}function te(b,C){this.x=b,this.y=C}Math.imul||(q=B),y.prototype.mulTo=function(C,D){var Y=this.length+C.length;return 10===this.length&&10===C.length?q(this,C,D):Y<63?B(this,C,D):Y<1024?X(this,C,D):Q(this,C,D)},te.prototype.makeRBT=function(C){for(var D=new Array(C),V=y.prototype._countBits(C)-1,Y=0;Y<C;Y++)D[Y]=this.revBin(Y,V,C);return D},te.prototype.revBin=function(C,D,V){if(0===C||C===V-1)return C;for(var Y=0,F=0;F<D;F++)Y|=(1&C)<<D-F-1,C>>=1;return Y},te.prototype.permute=function(C,D,V,Y,F,h){for(var g=0;g<h;g++)Y[g]=D[C[g]],F[g]=V[C[g]]},te.prototype.transform=function(C,D,V,Y,F,h){this.permute(h,C,D,V,Y,F);for(var g=1;g<F;g<<=1)for(var J=g<<1,ee=Math.cos(2*Math.PI/J),re=Math.sin(2*Math.PI/J),fe=0;fe<F;fe+=J)for(var Ae=ee,Me=re,Le=0;Le<g;Le++){var Ee=V[fe+Le],Se=Y[fe+Le],He=V[fe+Le+g],Te=Y[fe+Le+g],u=Ae*He-Me*Te;Te=Ae*Te+Me*He,V[fe+Le]=Ee+(He=u),Y[fe+Le]=Se+Te,V[fe+Le+g]=Ee-He,Y[fe+Le+g]=Se-Te,Le!==J&&(u=ee*Ae-re*Me,Me=ee*Me+re*Ae,Ae=u)}},te.prototype.guessLen13b=function(C,D){var V=1|Math.max(D,C),Y=1&V,F=0;for(V=V/2|0;V;V>>>=1)F++;return 1<<F+1+Y},te.prototype.conjugate=function(C,D,V){if(!(V<=1))for(var Y=0;Y<V/2;Y++){var F=C[Y];C[Y]=C[V-Y-1],C[V-Y-1]=F,F=D[Y],D[Y]=-D[V-Y-1],D[V-Y-1]=-F}},te.prototype.normalize13b=function(C,D){for(var V=0,Y=0;Y<D/2;Y++){var F=8192*Math.round(C[2*Y+1]/D)+Math.round(C[2*Y]/D)+V;C[Y]=67108863&F,V=F<67108864?0:F/67108864|0}return C},te.prototype.convert13b=function(C,D,V,Y){for(var F=0,h=0;h<D;h++)V[2*h]=8191&(F+=0|C[h]),V[2*h+1]=8191&(F>>>=13),F>>>=13;for(h=2*D;h<Y;++h)V[h]=0;U(0===F),U(!(-8192&F))},te.prototype.stub=function(C){for(var D=new Array(C),V=0;V<C;V++)D[V]=0;return D},te.prototype.mulp=function(C,D,V){var Y=2*this.guessLen13b(C.length,D.length),F=this.makeRBT(Y),h=this.stub(Y),g=new Array(Y),J=new Array(Y),ee=new Array(Y),re=new Array(Y),fe=new Array(Y),Ae=new Array(Y),Me=V.words;Me.length=Y,this.convert13b(C.words,C.length,g,Y),this.convert13b(D.words,D.length,re,Y),this.transform(g,h,J,ee,Y,F),this.transform(re,h,fe,Ae,Y,F);for(var Le=0;Le<Y;Le++){var Ee=J[Le]*fe[Le]-ee[Le]*Ae[Le];ee[Le]=J[Le]*Ae[Le]+ee[Le]*fe[Le],J[Le]=Ee}return this.conjugate(J,ee,Y),this.transform(J,ee,Me,h,Y,F),this.conjugate(Me,h,Y),this.normalize13b(Me,Y),V.negative=C.negative^D.negative,V.length=C.length+D.length,V._strip()},y.prototype.mul=function(C){var D=new y(null);return D.words=new Array(this.length+C.length),this.mulTo(C,D)},y.prototype.mulf=function(C){var D=new y(null);return D.words=new Array(this.length+C.length),Q(this,C,D)},y.prototype.imul=function(C){return this.clone().mulTo(C,this)},y.prototype.imuln=function(C){var D=C<0;D&&(C=-C),U("number"==typeof C),U(C<67108864);for(var V=0,Y=0;Y<this.length;Y++){var F=(0|this.words[Y])*C,h=(67108863&F)+(67108863&V);V>>=26,V+=F/67108864|0,V+=h>>>26,this.words[Y]=67108863&h}return 0!==V&&(this.words[Y]=V,this.length++),D?this.ineg():this},y.prototype.muln=function(C){return this.clone().imuln(C)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(C){var D=function G(b){for(var C=new Array(b.bitLength()),D=0;D<C.length;D++)C[D]=b.words[D/26|0]>>>D%26&1;return C}(C);if(0===D.length)return new y(1);for(var V=this,Y=0;Y<D.length&&0===D[Y];Y++,V=V.sqr());if(++Y<D.length)for(var F=V.sqr();Y<D.length;Y++,F=F.sqr())0!==D[Y]&&(V=V.mul(F));return V},y.prototype.iushln=function(C){U("number"==typeof C&&C>=0);var F,D=C%26,V=(C-D)/26,Y=67108863>>>26-D<<26-D;if(0!==D){var h=0;for(F=0;F<this.length;F++){var g=this.words[F]&Y;this.words[F]=(0|this.words[F])-g<<D|h,h=g>>>26-D}h&&(this.words[F]=h,this.length++)}if(0!==V){for(F=this.length-1;F>=0;F--)this.words[F+V]=this.words[F];for(F=0;F<V;F++)this.words[F]=0;this.length+=V}return this._strip()},y.prototype.ishln=function(C){return U(0===this.negative),this.iushln(C)},y.prototype.iushrn=function(C,D,V){var Y;U("number"==typeof C&&C>=0),Y=D?(D-D%26)/26:0;var F=C%26,h=Math.min((C-F)/26,this.length),g=67108863^67108863>>>F<<F,J=V;if(Y-=h,Y=Math.max(0,Y),J){for(var ee=0;ee<h;ee++)J.words[ee]=this.words[ee];J.length=h}if(0!==h)if(this.length>h)for(this.length-=h,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+h];else this.words[0]=0,this.length=1;var re=0;for(ee=this.length-1;ee>=0&&(0!==re||ee>=Y);ee--){var fe=0|this.words[ee];this.words[ee]=re<<26-F|fe>>>F,re=fe&g}return J&&0!==re&&(J.words[J.length++]=re),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},y.prototype.ishrn=function(C,D,V){return U(0===this.negative),this.iushrn(C,D,V)},y.prototype.shln=function(C){return this.clone().ishln(C)},y.prototype.ushln=function(C){return this.clone().iushln(C)},y.prototype.shrn=function(C){return this.clone().ishrn(C)},y.prototype.ushrn=function(C){return this.clone().iushrn(C)},y.prototype.testn=function(C){U("number"==typeof C&&C>=0);var D=C%26,V=(C-D)/26;return!(this.length<=V||!(this.words[V]&1<<D))},y.prototype.imaskn=function(C){U("number"==typeof C&&C>=0);var D=C%26,V=(C-D)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=V?this:(0!==D&&V++,this.length=Math.min(V,this.length),0!==D&&(this.words[this.length-1]&=67108863^67108863>>>D<<D),this._strip())},y.prototype.maskn=function(C){return this.clone().imaskn(C)},y.prototype.iaddn=function(C){return U("number"==typeof C),U(C<67108864),C<0?this.isubn(-C):0!==this.negative?1===this.length&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},y.prototype._iaddn=function(C){this.words[0]+=C;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},y.prototype.isubn=function(C){if(U("number"==typeof C),U(C<67108864),C<0)return this.iaddn(-C);if(0!==this.negative)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this._strip()},y.prototype.addn=function(C){return this.clone().iaddn(C)},y.prototype.subn=function(C){return this.clone().isubn(C)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(C,D,V){var F;this._expand(C.length+V);var h,g=0;for(F=0;F<C.length;F++){h=(0|this.words[F+V])+g;var J=(0|C.words[F])*D;g=((h-=67108863&J)>>26)-(J/67108864|0),this.words[F+V]=67108863&h}for(;F<this.length-V;F++)g=(h=(0|this.words[F+V])+g)>>26,this.words[F+V]=67108863&h;if(0===g)return this._strip();for(U(-1===g),g=0,F=0;F<this.length;F++)g=(h=-(0|this.words[F])+g)>>26,this.words[F]=67108863&h;return this.negative=1,this._strip()},y.prototype._wordDiv=function(C,D){var V,Y=this.clone(),F=C,h=0|F.words[F.length-1];0!=(V=26-this._countBits(h))&&(F=F.ushln(V),Y.iushln(V),h=0|F.words[F.length-1]);var ee,J=Y.length-F.length;if("mod"!==D){(ee=new y(null)).length=J+1,ee.words=new Array(ee.length);for(var re=0;re<ee.length;re++)ee.words[re]=0}var fe=Y.clone()._ishlnsubmul(F,1,J);0===fe.negative&&(Y=fe,ee&&(ee.words[J]=1));for(var Ae=J-1;Ae>=0;Ae--){var Me=67108864*(0|Y.words[F.length+Ae])+(0|Y.words[F.length+Ae-1]);for(Me=Math.min(Me/h|0,67108863),Y._ishlnsubmul(F,Me,Ae);0!==Y.negative;)Me--,Y.negative=0,Y._ishlnsubmul(F,1,Ae),Y.isZero()||(Y.negative^=1);ee&&(ee.words[Ae]=Me)}return ee&&ee._strip(),Y._strip(),"div"!==D&&0!==V&&Y.iushrn(V),{div:ee||null,mod:Y}},y.prototype.divmod=function(C,D,V){return U(!C.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===C.negative?(h=this.neg().divmod(C,D),"mod"!==D&&(Y=h.div.neg()),"div"!==D&&(F=h.mod.neg(),V&&0!==F.negative&&F.iadd(C)),{div:Y,mod:F}):0===this.negative&&0!==C.negative?(h=this.divmod(C.neg(),D),"mod"!==D&&(Y=h.div.neg()),{div:Y,mod:h.mod}):this.negative&C.negative?(h=this.neg().divmod(C.neg(),D),"div"!==D&&(F=h.mod.neg(),V&&0!==F.negative&&F.isub(C)),{div:h.div,mod:F}):C.length>this.length||this.cmp(C)<0?{div:new y(0),mod:this}:1===C.length?"div"===D?{div:this.divn(C.words[0]),mod:null}:"mod"===D?{div:null,mod:new y(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new y(this.modrn(C.words[0]))}:this._wordDiv(C,D);var Y,F,h},y.prototype.div=function(C){return this.divmod(C,"div",!1).div},y.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},y.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},y.prototype.divRound=function(C){var D=this.divmod(C);if(D.mod.isZero())return D.div;var V=0!==D.div.negative?D.mod.isub(C):D.mod,Y=C.ushrn(1),F=C.andln(1),h=V.cmp(Y);return h<0||1===F&&0===h?D.div:0!==D.div.negative?D.div.isubn(1):D.div.iaddn(1)},y.prototype.modrn=function(C){var D=C<0;D&&(C=-C),U(C<=67108863);for(var V=(1<<26)%C,Y=0,F=this.length-1;F>=0;F--)Y=(V*Y+(0|this.words[F]))%C;return D?-Y:Y},y.prototype.modn=function(C){return this.modrn(C)},y.prototype.idivn=function(C){var D=C<0;D&&(C=-C),U(C<=67108863);for(var V=0,Y=this.length-1;Y>=0;Y--){var F=(0|this.words[Y])+67108864*V;this.words[Y]=F/C|0,V=F%C}return this._strip(),D?this.ineg():this},y.prototype.divn=function(C){return this.clone().idivn(C)},y.prototype.egcd=function(C){U(0===C.negative),U(!C.isZero());var D=this,V=C.clone();D=0!==D.negative?D.umod(C):D.clone();for(var Y=new y(1),F=new y(0),h=new y(0),g=new y(1),J=0;D.isEven()&&V.isEven();)D.iushrn(1),V.iushrn(1),++J;for(var ee=V.clone(),re=D.clone();!D.isZero();){for(var fe=0,Ae=1;!(D.words[0]&Ae)&&fe<26;++fe,Ae<<=1);if(fe>0)for(D.iushrn(fe);fe-- >0;)(Y.isOdd()||F.isOdd())&&(Y.iadd(ee),F.isub(re)),Y.iushrn(1),F.iushrn(1);for(var Me=0,Le=1;!(V.words[0]&Le)&&Me<26;++Me,Le<<=1);if(Me>0)for(V.iushrn(Me);Me-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(ee),g.isub(re)),h.iushrn(1),g.iushrn(1);D.cmp(V)>=0?(D.isub(V),Y.isub(h),F.isub(g)):(V.isub(D),h.isub(Y),g.isub(F))}return{a:h,b:g,gcd:V.iushln(J)}},y.prototype._invmp=function(C){U(0===C.negative),U(!C.isZero());var fe,D=this,V=C.clone();D=0!==D.negative?D.umod(C):D.clone();for(var Y=new y(1),F=new y(0),h=V.clone();D.cmpn(1)>0&&V.cmpn(1)>0;){for(var g=0,J=1;!(D.words[0]&J)&&g<26;++g,J<<=1);if(g>0)for(D.iushrn(g);g-- >0;)Y.isOdd()&&Y.iadd(h),Y.iushrn(1);for(var ee=0,re=1;!(V.words[0]&re)&&ee<26;++ee,re<<=1);if(ee>0)for(V.iushrn(ee);ee-- >0;)F.isOdd()&&F.iadd(h),F.iushrn(1);D.cmp(V)>=0?(D.isub(V),Y.isub(F)):(V.isub(D),F.isub(Y))}return(fe=0===D.cmpn(1)?Y:F).cmpn(0)<0&&fe.iadd(C),fe},y.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var D=this.clone(),V=C.clone();D.negative=0,V.negative=0;for(var Y=0;D.isEven()&&V.isEven();Y++)D.iushrn(1),V.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;V.isEven();)V.iushrn(1);var F=D.cmp(V);if(F<0){var h=D;D=V,V=h}else if(0===F||0===V.cmpn(1))break;D.isub(V)}return V.iushln(Y)},y.prototype.invm=function(C){return this.egcd(C).a.umod(C)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(C){return this.words[0]&C},y.prototype.bincn=function(C){U("number"==typeof C);var D=C%26,V=(C-D)/26,Y=1<<D;if(this.length<=V)return this._expand(V+1),this.words[V]|=Y,this;for(var F=Y,h=V;0!==F&&h<this.length;h++){var g=0|this.words[h];F=(g+=F)>>>26,this.words[h]=g&=67108863}return 0!==F&&(this.words[h]=F,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(C){var V,D=C<0;if(0!==this.negative&&!D)return-1;if(0===this.negative&&D)return 1;if(this._strip(),this.length>1)V=1;else{D&&(C=-C),U(C<=67108863,"Number is too big");var Y=0|this.words[0];V=Y===C?0:Y<C?-1:1}return 0!==this.negative?0|-V:V},y.prototype.cmp=function(C){if(0!==this.negative&&0===C.negative)return-1;if(0===this.negative&&0!==C.negative)return 1;var D=this.ucmp(C);return 0!==this.negative?0|-D:D},y.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var D=0,V=this.length-1;V>=0;V--){var Y=0|this.words[V],F=0|C.words[V];if(Y!==F){Y<F?D=-1:Y>F&&(D=1);break}}return D},y.prototype.gtn=function(C){return 1===this.cmpn(C)},y.prototype.gt=function(C){return 1===this.cmp(C)},y.prototype.gten=function(C){return this.cmpn(C)>=0},y.prototype.gte=function(C){return this.cmp(C)>=0},y.prototype.ltn=function(C){return-1===this.cmpn(C)},y.prototype.lt=function(C){return-1===this.cmp(C)},y.prototype.lten=function(C){return this.cmpn(C)<=0},y.prototype.lte=function(C){return this.cmp(C)<=0},y.prototype.eqn=function(C){return 0===this.cmpn(C)},y.prototype.eq=function(C){return 0===this.cmp(C)},y.red=function(C){return new d(C)},y.prototype.toRed=function(C){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),C.convertTo(this)._forceRed(C)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(C){return this.red=C,this},y.prototype.forceRed=function(C){return U(!this.red,"Already a number in reduction context"),this._forceRed(C)},y.prototype.redAdd=function(C){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},y.prototype.redIAdd=function(C){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},y.prototype.redSub=function(C){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},y.prototype.redISub=function(C){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},y.prototype.redShl=function(C){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},y.prototype.redMul=function(C){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},y.prototype.redIMul=function(C){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(C){return U(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(b,C){this.name=b,this.p=new y(C,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function me(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ge(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function de(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function d(b){if("string"==typeof b){var C=y._prime(b);this.m=C.p,this.prime=C}else U(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}function f(b){d.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var C=new y(null);return C.words=new Array(Math.ceil(this.n/13)),C},ae.prototype.ireduce=function(C){var V,D=C;do{this.split(D,this.tmp),V=(D=(D=this.imulK(D)).iadd(this.tmp)).bitLength()}while(V>this.n);var Y=V<this.n?-1:D.ucmp(this.p);return 0===Y?(D.words[0]=0,D.length=1):Y>0?D.isub(this.p):void 0!==D.strip?D.strip():D._strip(),D},ae.prototype.split=function(C,D){C.iushrn(this.n,0,D)},ae.prototype.imulK=function(C){return C.imul(this.k)},K(me,ae),me.prototype.split=function(C,D){for(var V=4194303,Y=Math.min(C.length,9),F=0;F<Y;F++)D.words[F]=C.words[F];if(D.length=Y,C.length<=9)return C.words[0]=0,void(C.length=1);var h=C.words[9];for(D.words[D.length++]=h&V,F=10;F<C.length;F++){var g=0|C.words[F];C.words[F-10]=(g&V)<<4|h>>>22,h=g}C.words[F-10]=h>>>=22,C.length-=0===h&&C.length>10?10:9},me.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var D=0,V=0;V<C.length;V++){var Y=0|C.words[V];C.words[V]=67108863&(D+=977*Y),D=64*Y+(D/67108864|0)}return 0===C.words[C.length-1]&&(C.length--,0===C.words[C.length-1]&&C.length--),C},K(ge,ae),K(de,ae),K(z,ae),z.prototype.imulK=function(C){for(var D=0,V=0;V<C.length;V++){var Y=19*(0|C.words[V])+D,F=67108863&Y;Y>>>=26,C.words[V]=F,D=Y}return 0!==D&&(C.words[C.length++]=D),C},y._prime=function(C){if(ie[C])return ie[C];var D;if("k256"===C)D=new me;else if("p224"===C)D=new ge;else if("p192"===C)D=new de;else{if("p25519"!==C)throw new Error("Unknown prime "+C);D=new z}return ie[C]=D,D},d.prototype._verify1=function(C){U(0===C.negative,"red works only with positives"),U(C.red,"red works only with red numbers")},d.prototype._verify2=function(C,D){U(!(C.negative|D.negative),"red works only with positives"),U(C.red&&C.red===D.red,"red works only with red numbers")},d.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(k(C,C.umod(this.m)._forceRed(this)),C)},d.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},d.prototype.add=function(C,D){this._verify2(C,D);var V=C.add(D);return V.cmp(this.m)>=0&&V.isub(this.m),V._forceRed(this)},d.prototype.iadd=function(C,D){this._verify2(C,D);var V=C.iadd(D);return V.cmp(this.m)>=0&&V.isub(this.m),V},d.prototype.sub=function(C,D){this._verify2(C,D);var V=C.sub(D);return V.cmpn(0)<0&&V.iadd(this.m),V._forceRed(this)},d.prototype.isub=function(C,D){this._verify2(C,D);var V=C.isub(D);return V.cmpn(0)<0&&V.iadd(this.m),V},d.prototype.shl=function(C,D){return this._verify1(C),this.imod(C.ushln(D))},d.prototype.imul=function(C,D){return this._verify2(C,D),this.imod(C.imul(D))},d.prototype.mul=function(C,D){return this._verify2(C,D),this.imod(C.mul(D))},d.prototype.isqr=function(C){return this.imul(C,C.clone())},d.prototype.sqr=function(C){return this.mul(C,C)},d.prototype.sqrt=function(C){if(C.isZero())return C.clone();var D=this.m.andln(3);if(U(D%2==1),3===D){var V=this.m.add(new y(1)).iushrn(2);return this.pow(C,V)}for(var Y=this.m.subn(1),F=0;!Y.isZero()&&0===Y.andln(1);)F++,Y.iushrn(1);U(!Y.isZero());var h=new y(1).toRed(this),g=h.redNeg(),J=this.m.subn(1).iushrn(1),ee=this.m.bitLength();for(ee=new y(2*ee*ee).toRed(this);0!==this.pow(ee,J).cmp(g);)ee.redIAdd(g);for(var re=this.pow(ee,Y),fe=this.pow(C,Y.addn(1).iushrn(1)),Ae=this.pow(C,Y),Me=F;0!==Ae.cmp(h);){for(var Le=Ae,Ee=0;0!==Le.cmp(h);Ee++)Le=Le.redSqr();U(Ee<Me);var Se=this.pow(re,new y(1).iushln(Me-Ee-1));fe=fe.redMul(Se),re=Se.redSqr(),Ae=Ae.redMul(re),Me=Ee}return fe},d.prototype.invm=function(C){var D=C._invmp(this.m);return 0!==D.negative?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},d.prototype.pow=function(C,D){if(D.isZero())return new y(1).toRed(this);if(0===D.cmpn(1))return C.clone();var Y=new Array(16);Y[0]=new y(1).toRed(this),Y[1]=C;for(var F=2;F<Y.length;F++)Y[F]=this.mul(Y[F-1],C);var h=Y[0],g=0,J=0,ee=D.bitLength()%26;for(0===ee&&(ee=26),F=D.length-1;F>=0;F--){for(var re=D.words[F],fe=ee-1;fe>=0;fe--){var Ae=re>>fe&1;h!==Y[0]&&(h=this.sqr(h)),0!==Ae||0!==g?(g<<=1,g|=Ae,(4==++J||0===F&&0===fe)&&(h=this.mul(h,Y[g]),J=0,g=0)):J=0}ee=26}return h},d.prototype.convertTo=function(C){var D=C.umod(this.m);return D===C?D.clone():D},d.prototype.convertFrom=function(C){var D=C.clone();return D.red=null,D},y.mont=function(C){return new f(C)},K(f,d),f.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},f.prototype.convertFrom=function(C){var D=this.imod(C.mul(this.rinv));return D.red=null,D},f.prototype.imul=function(C,D){if(C.isZero()||D.isZero())return C.words[0]=0,C.length=1,C;var V=C.imul(D),Y=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=V.isub(Y).iushrn(this.shift),h=F;return F.cmp(this.m)>=0?h=F.isub(this.m):F.cmpn(0)<0&&(h=F.iadd(this.m)),h._forceRed(this)},f.prototype.mul=function(C,D){if(C.isZero()||D.isZero())return new y(0)._forceRed(this);var V=C.mul(D),Y=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=V.isub(Y).iushrn(this.shift),h=F;return F.cmp(this.m)>=0?h=F.isub(this.m):F.cmpn(0)<0&&(h=F.iadd(this.m)),h._forceRed(this)},f.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},35294:(ye,I,A)=>{var O;function $(K){this.rand=K}if(ye.exports=function(y){return O||(O=new $(null)),O.generate(y)},ye.exports.Rand=$,$.prototype.generate=function(y){return this._rand(y)},$.prototype._rand=function(y){if(this.rand.getBytes)return this.rand.getBytes(y);for(var T=new Uint8Array(y),w=0;w<T.length;w++)T[w]=this.rand.getByte();return T},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?$.prototype._rand=function(y){var T=new Uint8Array(y);return self.crypto.getRandomValues(T),T}:self.msCrypto&&self.msCrypto.getRandomValues?$.prototype._rand=function(y){var T=new Uint8Array(y);return self.msCrypto.getRandomValues(T),T}:"object"==typeof window&&($.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var U=A(73776);if("function"!=typeof U.randomBytes)throw new Error("Not supported");$.prototype._rand=function(y){return U.randomBytes(y)}}catch{}},23963:(ye,I,A)=>{"use strict";const{AbstractLevel:O}=A(75929),$=A(61747),U=A(81725),{fromCallback:K}=A(42381),{Iterator:y}=A(18229),T=A(97899),w=A(19857),x=A(57059),R="level-js-",k=Symbol("idb"),v=Symbol("namePrefix"),N=Symbol("location"),M=Symbol("version"),P=Symbol("store"),L=Symbol("onComplete"),G=Symbol("promise");I.BrowserLevel=(()=>{class q extends O{constructor(Q,te,ie){if("function"==typeof te||"function"==typeof ie)throw new $("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:ae,version:me,...ge}=te||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},ge),"string"!=typeof Q)throw new Error("constructor requires a location string argument");this[N]=Q,this[v]=ae??R,this[M]=parseInt(me||1,10),this[k]=null}get location(){return this[N]}get namePrefix(){return this[v]}get version(){return this[M]}get db(){return this[k]}get type(){return"browser-level"}_open(Q,te){const ie=indexedDB.open(this[v]+this[N],this[M]);ie.onerror=function(){te(ie.error||new Error("unknown error"))},ie.onsuccess=()=>{this[k]=ie.result,te()},ie.onupgradeneeded=ae=>{const me=ae.target.result;me.objectStoreNames.contains(this[N])||me.createObjectStore(this[N])}}[P](Q){return this[k].transaction([this[N]],Q).objectStore(this[N])}[L](Q,te){const ie=Q.transaction;ie.onabort=function(){te(ie.error||new Error("aborted by user"))},ie.oncomplete=function(){te(null,Q.result)}}_get(Q,te,ie){const ae=this[P]("readonly");let me;try{me=ae.get(Q)}catch(ge){return this.nextTick(ie,ge)}this[L](me,function(ge,de){return ge?ie(ge):void 0===de?ie(new $("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ie(null,T(de))})}_getMany(Q,te,ie){const ae=this[P]("readonly"),me=Q.map(ge=>de=>{let z;try{z=ae.get(ge)}catch(d){return de(d)}z.onsuccess=()=>{const d=z.result;de(null,void 0===d?d:T(d))},z.onerror=d=>{d.stopPropagation(),de(z.error)}});U(me,16,ie)}_del(Q,te,ie){const ae=this[P]("readwrite");let me;try{me=ae.delete(Q)}catch(ge){return this.nextTick(ie,ge)}this[L](me,ie)}_put(Q,te,ie,ae){const me=this[P]("readwrite");let ge;try{ge=me.put(te,Q)}catch(de){return this.nextTick(ae,de)}this[L](ge,ae)}_iterator(Q){return new y(this,this[N],Q)}_batch(Q,te,ie){const ae=this[P]("readwrite"),me=ae.transaction;let de,ge=0;me.onabort=function(){ie(de||me.error||new Error("aborted by user"))},me.oncomplete=function(){ie()},function z(){const d=Q[ge++],f=d.key;let b;try{b="del"===d.type?ae.delete(f):ae.put(d.value,f)}catch(C){return de=C,void me.abort()}ge<Q.length?b.onsuccess=z:"function"==typeof me.commit&&me.commit()}()}_clear(Q,te){let ie,ae;try{ie=x(Q)}catch{return this.nextTick(te)}if(Q.limit>=0)return w(this,this[N],ie,Q,te);try{const me=this[P]("readwrite");ae=ie?me.delete(ie):me.clear()}catch(me){return this.nextTick(te,me)}this[L](ae,te)}_close(Q){this[k].close(),this.nextTick(Q)}}return q.destroy=function(X,Q,te){"function"==typeof Q&&(te=Q,Q=R),te=K(te,G);const ie=indexedDB.deleteDatabase(Q+X);return ie.onsuccess=function(){te()},ie.onerror=function(ae){te(ae)},te[G]},q})()},18229:(ye,I,A)=>{"use strict";const{AbstractIterator:O}=A(75929),$=A(57059),U=A(97899),K=Symbol("cache"),y=Symbol("finished"),T=Symbol("options"),w=Symbol("currentOptions"),x=Symbol("position"),R=Symbol("location"),k=Symbol("first"),v={};function M(P){"function"==typeof P.commit&&P.commit()}I.Iterator=class N extends O{constructor(L,G,B){super(L,B),this[K]=[],this[y]=0===this.limit,this[T]=B,this[w]={...B},this[x]=void 0,this[R]=G,this[k]=!0}_nextv(L,G,B){if(this[k]=!1,this[y])return this.nextTick(B,null,[]);if(this[K].length>0)return L=Math.min(L,this[K].length),this.nextTick(B,null,this[K].splice(0,L));let q;void 0!==this[x]&&(this[T].reverse?(this[w].lt=this[x],this[w].lte=void 0):(this[w].gt=this[x],this[w].gte=void 0));try{q=$(this[w])}catch{return this[y]=!0,this.nextTick(B,null,[])}const X=this.db.db.transaction([this[R]],"readonly"),Q=X.objectStore(this[R]),te=[];if(this[T].reverse)Q[!this[T].values&&Q.openKeyCursor?"openKeyCursor":"openCursor"](q,"prev").onsuccess=ae=>{const me=ae.target.result;if(me){const{key:ge,value:de}=me;this[x]=ge,te.push([this[T].keys&&void 0!==ge?U(ge):void 0,this[T].values&&void 0!==de?U(de):void 0]),te.length<L?me.continue():M(X)}else this[y]=!0};else{let ie,ae;const me=()=>{if(void 0===ie||void 0===ae)return;const ge=Math.max(ie.length,ae.length);0===ge||L===1/0?this[y]=!0:this[x]=ie[ge-1],te.length=ge;for(let de=0;de<ge;de++){const z=ie[de],d=ae[de];te[de]=[this[T].keys&&void 0!==z?U(z):void 0,this[T].values&&void 0!==d?U(d):void 0]}M(X)};this[T].keys||L<1/0?Q.getAllKeys(q,L<1/0?L:void 0).onsuccess=ge=>{ie=ge.target.result,me()}:(ie=[],this.nextTick(me)),this[T].values?Q.getAll(q,L<1/0?L:void 0).onsuccess=ge=>{ae=ge.target.result,me()}:(ae=[],this.nextTick(me))}X.onabort=()=>{B(X.error||new Error("aborted by user")),B=null},X.oncomplete=()=>{B(null,te),B=null}}_next(L){if(this[K].length>0){const[G,B]=this[K].shift();this.nextTick(L,null,G,B)}else if(this[y])this.nextTick(L);else{let G=Math.min(100,this.limit-this.count);this[k]&&(this[k]=!1,G=1),this._nextv(G,v,(B,q)=>{if(B)return L(B);this[K]=q,this._next(L)})}}_all(L,G){this[k]=!1;const B=this[K].splice(0,this[K].length),q=this.limit-this.count-B.length;if(q<=0)return this.nextTick(G,null,B);this._nextv(q,v,(X,Q)=>{if(X)return G(X);B.length>0&&(Q=B.concat(Q)),G(null,Q)})}_seek(L,G){let B;this[k]=!0,this[K]=[],this[y]=!1,this[x]=void 0,this[w]={...this[T]};try{B=$(this[T])}catch{return void(this[y]=!0)}null===B||B.includes(L)?this[T].reverse?this[w].lte=L:this[w].gte=L:this[y]=!0}}},19857:ye=>{"use strict";ye.exports=function(A,O,$,U,K){if(0===U.limit)return A.nextTick(K);const y=A.db.transaction([O],"readwrite"),T=y.objectStore(O);let w=0;y.oncomplete=function(){K()},y.onabort=function(){K(y.error||new Error("aborted by user"))},T[T.openKeyCursor?"openKeyCursor":"openCursor"]($,U.reverse?"prev":"next").onsuccess=function(k){const v=k.target.result;v&&(T.delete(v.key).onsuccess=function(){(U.limit<=0||++w<U.limit)&&v.continue()})}}},97899:ye=>{"use strict";const I=new TextEncoder;ye.exports=function(A){return A instanceof Uint8Array?A:A instanceof ArrayBuffer?new Uint8Array(A):I.encode(A)}},57059:ye=>{"use strict";ye.exports=function(A){const O=void 0!==A.gte?A.gte:void 0!==A.gt?A.gt:void 0,$=void 0!==A.lte?A.lte:void 0!==A.lt?A.lt:void 0,U=void 0===A.gte,K=void 0===A.lte;return void 0!==O&&void 0!==$?IDBKeyRange.bound(O,$,U,K):void 0!==O?IDBKeyRange.lowerBound(O,U):void 0!==$?IDBKeyRange.upperBound($,K):null}},12375:(ye,I,A)=>{var O=A(27054).Buffer;function $(x){O.isBuffer(x)||(x=O.from(x));for(var R=x.length/4|0,k=new Array(R),v=0;v<R;v++)k[v]=x.readUInt32BE(4*v);return k}function U(x){for(;0<x.length;x++)x[0]=0}function K(x,R,k,v,N){for(var te,ie,ae,me,M=k[0],P=k[1],L=k[2],G=k[3],B=x[0]^R[0],q=x[1]^R[1],X=x[2]^R[2],Q=x[3]^R[3],ge=4,de=1;de<N;de++)te=M[B>>>24]^P[q>>>16&255]^L[X>>>8&255]^G[255&Q]^R[ge++],ie=M[q>>>24]^P[X>>>16&255]^L[Q>>>8&255]^G[255&B]^R[ge++],ae=M[X>>>24]^P[Q>>>16&255]^L[B>>>8&255]^G[255&q]^R[ge++],me=M[Q>>>24]^P[B>>>16&255]^L[q>>>8&255]^G[255&X]^R[ge++],B=te,q=ie,X=ae,Q=me;return te=(v[B>>>24]<<24|v[q>>>16&255]<<16|v[X>>>8&255]<<8|v[255&Q])^R[ge++],ie=(v[q>>>24]<<24|v[X>>>16&255]<<16|v[Q>>>8&255]<<8|v[255&B])^R[ge++],ae=(v[X>>>24]<<24|v[Q>>>16&255]<<16|v[B>>>8&255]<<8|v[255&q])^R[ge++],me=(v[Q>>>24]<<24|v[B>>>16&255]<<16|v[q>>>8&255]<<8|v[255&X])^R[ge++],[te>>>=0,ie>>>=0,ae>>>=0,me>>>=0]}var y=[0,1,2,4,8,16,32,64,128,27,54],T=function(){for(var x=new Array(256),R=0;R<256;R++)x[R]=R<128?R<<1:R<<1^283;for(var k=[],v=[],N=[[],[],[],[]],M=[[],[],[],[]],P=0,L=0,G=0;G<256;++G){var B=L^L<<1^L<<2^L<<3^L<<4;k[P]=B=B>>>8^255&B^99,v[B]=P;var q=x[P],X=x[q],Q=x[X],te=257*x[B]^16843008*B;N[0][P]=te<<24|te>>>8,N[1][P]=te<<16|te>>>16,N[2][P]=te<<8|te>>>24,N[3][P]=te,M[0][B]=(te=16843009*Q^65537*X^257*q^16843008*P)<<24|te>>>8,M[1][B]=te<<16|te>>>16,M[2][B]=te<<8|te>>>24,M[3][B]=te,0===P?P=L=1:(P=q^x[x[x[Q^q]]],L^=x[x[L]])}return{SBOX:k,INV_SBOX:v,SUB_MIX:N,INV_SUB_MIX:M}}();function w(x){this._key=$(x),this._reset()}w.blockSize=16,w.keySize=32,w.prototype.blockSize=w.blockSize,w.prototype.keySize=w.keySize,w.prototype._reset=function(){for(var x=this._key,R=x.length,k=R+6,v=4*(k+1),N=[],M=0;M<R;M++)N[M]=x[M];for(M=R;M<v;M++){var P=N[M-1];M%R==0?(P=T.SBOX[(P=P<<8|P>>>24)>>>24]<<24|T.SBOX[P>>>16&255]<<16|T.SBOX[P>>>8&255]<<8|T.SBOX[255&P],P^=y[M/R|0]<<24):R>6&&M%R==4&&(P=T.SBOX[P>>>24]<<24|T.SBOX[P>>>16&255]<<16|T.SBOX[P>>>8&255]<<8|T.SBOX[255&P]),N[M]=N[M-R]^P}for(var L=[],G=0;G<v;G++){var B=v-G,q=N[B-(G%4?0:4)];L[G]=G<4||B<=4?q:T.INV_SUB_MIX[0][T.SBOX[q>>>24]]^T.INV_SUB_MIX[1][T.SBOX[q>>>16&255]]^T.INV_SUB_MIX[2][T.SBOX[q>>>8&255]]^T.INV_SUB_MIX[3][T.SBOX[255&q]]}this._nRounds=k,this._keySchedule=N,this._invKeySchedule=L},w.prototype.encryptBlockRaw=function(x){return K(x=$(x),this._keySchedule,T.SUB_MIX,T.SBOX,this._nRounds)},w.prototype.encryptBlock=function(x){var R=this.encryptBlockRaw(x),k=O.allocUnsafe(16);return k.writeUInt32BE(R[0],0),k.writeUInt32BE(R[1],4),k.writeUInt32BE(R[2],8),k.writeUInt32BE(R[3],12),k},w.prototype.decryptBlock=function(x){var R=(x=$(x))[1];x[1]=x[3],x[3]=R;var k=K(x,this._invKeySchedule,T.INV_SUB_MIX,T.INV_SBOX,this._nRounds),v=O.allocUnsafe(16);return v.writeUInt32BE(k[0],0),v.writeUInt32BE(k[3],4),v.writeUInt32BE(k[2],8),v.writeUInt32BE(k[1],12),v},w.prototype.scrub=function(){U(this._keySchedule),U(this._invKeySchedule),U(this._key)},ye.exports.AES=w},19307:(ye,I,A)=>{var O=A(12375),$=A(27054).Buffer,U=A(3247),K=A(71993),y=A(85917),T=A(13546),w=A(95725);function k(v,N,M,P){U.call(this);var L=$.alloc(4,0);this._cipher=new O.AES(N);var G=this._cipher.encryptBlock(L);this._ghash=new y(G),M=function R(v,N,M){if(12===N.length)return v._finID=$.concat([N,$.from([0,0,0,1])]),$.concat([N,$.from([0,0,0,2])]);var P=new y(M),L=N.length,G=L%16;P.update(N),G&&P.update($.alloc(G=16-G,0)),P.update($.alloc(8,0));var B=8*L,q=$.alloc(8);q.writeUIntBE(B,0,8),P.update(q),v._finID=P.state;var X=$.from(v._finID);return w(X),X}(this,M,G),this._prev=$.from(M),this._cache=$.allocUnsafe(0),this._secCache=$.allocUnsafe(0),this._decrypt=P,this._alen=0,this._len=0,this._mode=v,this._authTag=null,this._called=!1}K(k,U),k.prototype._update=function(v){if(!this._called&&this._alen){var N=16-this._alen%16;N<16&&(N=$.alloc(N,0),this._ghash.update(N))}this._called=!0;var M=this._mode.encrypt(this,v);return this._ghash.update(this._decrypt?v:M),this._len+=v.length,M},k.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var v=T(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function x(v,N){var M=0;v.length!==N.length&&M++;for(var P=Math.min(v.length,N.length),L=0;L<P;++L)M+=v[L]^N[L];return M}(v,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=v,this._cipher.scrub()},k.prototype.getAuthTag=function(){if(this._decrypt||!$.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},k.prototype.setAuthTag=function(N){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=N},k.prototype.setAAD=function(N){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(N),this._alen+=N.length},ye.exports=k},43388:(ye,I,A)=>{var O=A(350),$=A(60102),U=A(3219);I.createCipher=I.Cipher=O.createCipher,I.createCipheriv=I.Cipheriv=O.createCipheriv,I.createDecipher=I.Decipher=$.createDecipher,I.createDecipheriv=I.Decipheriv=$.createDecipheriv,I.listCiphers=I.getCiphers=function K(){return Object.keys(U)}},60102:(ye,I,A)=>{var O=A(19307),$=A(27054).Buffer,U=A(60503),K=A(91821),y=A(3247),T=A(12375),w=A(18211);function R(P,L,G){y.call(this),this._cache=new k,this._last=void 0,this._cipher=new T.AES(L),this._prev=$.from(G),this._mode=P,this._autopadding=!0}function k(){this.cache=$.allocUnsafe(0)}function N(P,L,G){var B=U[P.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if("string"==typeof G&&(G=$.from(G)),"GCM"!==B.mode&&G.length!==B.iv)throw new TypeError("invalid iv length "+G.length);if("string"==typeof L&&(L=$.from(L)),L.length!==B.key/8)throw new TypeError("invalid key length "+L.length);return"stream"===B.type?new K(B.module,L,G,!0):"auth"===B.type?new O(B.module,L,G,!0):new R(B.module,L,G)}A(71993)(R,y),R.prototype._update=function(P){this._cache.add(P);for(var L,G,B=[];L=this._cache.get(this._autopadding);)G=this._mode.decrypt(this,L),B.push(G);return $.concat(B)},R.prototype._final=function(){var P=this._cache.flush();if(this._autopadding)return function v(P){var L=P[15];if(L<1||L>16)throw new Error("unable to decrypt data");for(var G=-1;++G<L;)if(P[G+(16-L)]!==L)throw new Error("unable to decrypt data");if(16!==L)return P.slice(0,16-L)}(this._mode.decrypt(this,P));if(P)throw new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(P){return this._autopadding=!!P,this},k.prototype.add=function(P){this.cache=$.concat([this.cache,P])},k.prototype.get=function(P){var L;if(P){if(this.cache.length>16)return L=this.cache.slice(0,16),this.cache=this.cache.slice(16),L}else if(this.cache.length>=16)return L=this.cache.slice(0,16),this.cache=this.cache.slice(16),L;return null},k.prototype.flush=function(){if(this.cache.length)return this.cache},I.createDecipher=function M(P,L){var G=U[P.toLowerCase()];if(!G)throw new TypeError("invalid suite type");var B=w(L,!1,G.key,G.iv);return N(P,B.key,B.iv)},I.createDecipheriv=N},350:(ye,I,A)=>{var O=A(60503),$=A(19307),U=A(27054).Buffer,K=A(91821),y=A(3247),T=A(12375),w=A(18211);function R(P,L,G){y.call(this),this._cache=new v,this._cipher=new T.AES(L),this._prev=U.from(G),this._mode=P,this._autopadding=!0}A(71993)(R,y),R.prototype._update=function(P){this._cache.add(P);for(var L,G,B=[];L=this._cache.get();)G=this._mode.encrypt(this,L),B.push(G);return U.concat(B)};var k=U.alloc(16,16);function v(){this.cache=U.allocUnsafe(0)}function N(P,L,G){var B=O[P.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if("string"==typeof L&&(L=U.from(L)),L.length!==B.key/8)throw new TypeError("invalid key length "+L.length);if("string"==typeof G&&(G=U.from(G)),"GCM"!==B.mode&&G.length!==B.iv)throw new TypeError("invalid iv length "+G.length);return"stream"===B.type?new K(B.module,L,G):"auth"===B.type?new $(B.module,L,G):new R(B.module,L,G)}R.prototype._final=function(){var P=this._cache.flush();if(this._autopadding)return P=this._mode.encrypt(this,P),this._cipher.scrub(),P;if(!P.equals(k))throw this._cipher.scrub(),new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(P){return this._autopadding=!!P,this},v.prototype.add=function(P){this.cache=U.concat([this.cache,P])},v.prototype.get=function(){if(this.cache.length>15){var P=this.cache.slice(0,16);return this.cache=this.cache.slice(16),P}return null},v.prototype.flush=function(){for(var P=16-this.cache.length,L=U.allocUnsafe(P),G=-1;++G<P;)L.writeUInt8(P,G);return U.concat([this.cache,L])},I.createCipheriv=N,I.createCipher=function M(P,L){var G=O[P.toLowerCase()];if(!G)throw new TypeError("invalid suite type");var B=w(L,!1,G.key,G.iv);return N(P,B.key,B.iv)}},85917:(ye,I,A)=>{var O=A(27054).Buffer,$=O.alloc(16,0);function K(T){var w=O.allocUnsafe(16);return w.writeUInt32BE(T[0]>>>0,0),w.writeUInt32BE(T[1]>>>0,4),w.writeUInt32BE(T[2]>>>0,8),w.writeUInt32BE(T[3]>>>0,12),w}function y(T){this.h=T,this.state=O.alloc(16,0),this.cache=O.allocUnsafe(0)}y.prototype.ghash=function(T){for(var w=-1;++w<T.length;)this.state[w]^=T[w];this._multiply()},y.prototype._multiply=function(){for(var x,k,T=function U(T){return[T.readUInt32BE(0),T.readUInt32BE(4),T.readUInt32BE(8),T.readUInt32BE(12)]}(this.h),w=[0,0,0,0],v=-1;++v<128;){for(!!(this.state[~~(v/8)]&1<<7-v%8)&&(w[0]^=T[0],w[1]^=T[1],w[2]^=T[2],w[3]^=T[3]),k=!!(1&T[3]),x=3;x>0;x--)T[x]=T[x]>>>1|(1&T[x-1])<<31;T[0]=T[0]>>>1,k&&(T[0]=T[0]^225<<24)}this.state=K(w)},y.prototype.update=function(T){this.cache=O.concat([this.cache,T]);for(var w;this.cache.length>=16;)w=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(w)},y.prototype.final=function(T,w){return this.cache.length&&this.ghash(O.concat([this.cache,$],16)),this.ghash(K([0,T,0,w])),this.state},ye.exports=y},95725:ye=>{ye.exports=function I(A){for(var $,O=A.length;O--;){if(255!==($=A.readUInt8(O))){$++,A.writeUInt8($,O);break}A.writeUInt8(0,O)}}},34133:(ye,I,A)=>{var O=A(13546);I.encrypt=function($,U){var K=O(U,$._prev);return $._prev=$._cipher.encryptBlock(K),$._prev},I.decrypt=function($,U){var K=$._prev;$._prev=U;var y=$._cipher.decryptBlock(U);return O(y,K)}},17090:(ye,I,A)=>{var O=A(27054).Buffer,$=A(13546);function U(K,y,T){var w=y.length,x=$(y,K._cache);return K._cache=K._cache.slice(w),K._prev=O.concat([K._prev,T?y:x]),x}I.encrypt=function(K,y,T){for(var x,w=O.allocUnsafe(0);y.length;){if(0===K._cache.length&&(K._cache=K._cipher.encryptBlock(K._prev),K._prev=O.allocUnsafe(0)),!(K._cache.length<=y.length)){w=O.concat([w,U(K,y,T)]);break}w=O.concat([w,U(K,y.slice(0,x=K._cache.length),T)]),y=y.slice(x)}return w}},71039:(ye,I,A)=>{var O=A(27054).Buffer;function $(K,y,T){for(var v,N,x=-1,k=0;++x<8;)k+=(128&(N=K._cipher.encryptBlock(K._prev)[0]^(v=y&1<<7-x?128:0)))>>x%8,K._prev=U(K._prev,T?v:N);return k}function U(K,y){var T=K.length,w=-1,x=O.allocUnsafe(K.length);for(K=O.concat([K,O.from([y])]);++w<T;)x[w]=K[w]<<1|K[w+1]>>7;return x}I.encrypt=function(K,y,T){for(var w=y.length,x=O.allocUnsafe(w),R=-1;++R<w;)x[R]=$(K,y[R],T);return x}},72576:(ye,I,A)=>{var O=A(27054).Buffer;function $(U,K,y){var w=U._cipher.encryptBlock(U._prev)[0]^K;return U._prev=O.concat([U._prev.slice(1),O.from([y?K:w])]),w}I.encrypt=function(U,K,y){for(var T=K.length,w=O.allocUnsafe(T),x=-1;++x<T;)w[x]=$(U,K[x],y);return w}},70336:(ye,I,A)=>{var O=A(13546),$=A(27054).Buffer,U=A(95725);function K(T){var w=T._cipher.encryptBlockRaw(T._prev);return U(T._prev),w}I.encrypt=function(T,w){var x=Math.ceil(w.length/16),R=T._cache.length;T._cache=$.concat([T._cache,$.allocUnsafe(16*x)]);for(var k=0;k<x;k++){var v=K(T),N=R+16*k;T._cache.writeUInt32BE(v[0],N+0),T._cache.writeUInt32BE(v[1],N+4),T._cache.writeUInt32BE(v[2],N+8),T._cache.writeUInt32BE(v[3],N+12)}var M=T._cache.slice(0,w.length);return T._cache=T._cache.slice(w.length),O(w,M)}},37513:(ye,I)=>{I.encrypt=function(A,O){return A._cipher.encryptBlock(O)},I.decrypt=function(A,O){return A._cipher.decryptBlock(O)}},60503:(ye,I,A)=>{var O={ECB:A(37513),CBC:A(34133),CFB:A(17090),CFB8:A(72576),CFB1:A(71039),OFB:A(46854),CTR:A(70336),GCM:A(70336)},$=A(3219);for(var U in $)$[U].module=O[$[U].mode];ye.exports=$},46854:(ye,I,A)=>{var O=A(13546);function $(U){return U._prev=U._cipher.encryptBlock(U._prev),U._prev}I.encrypt=function(U,K){for(;U._cache.length<K.length;)U._cache=Buffer.concat([U._cache,$(U)]);var y=U._cache.slice(0,K.length);return U._cache=U._cache.slice(K.length),O(K,y)}},91821:(ye,I,A)=>{var O=A(12375),$=A(27054).Buffer,U=A(3247);function y(T,w,x,R){U.call(this),this._cipher=new O.AES(w),this._prev=$.from(x),this._cache=$.allocUnsafe(0),this._secCache=$.allocUnsafe(0),this._decrypt=R,this._mode=T}A(71993)(y,U),y.prototype._update=function(T){return this._mode.encrypt(this,T,this._decrypt)},y.prototype._final=function(){this._cipher.scrub()},ye.exports=y},88862:(ye,I,A)=>{var O=A(39799),$=A(43388),U=A(60503),K=A(59571),y=A(18211);function x(v,N,M){if(v=v.toLowerCase(),U[v])return $.createCipheriv(v,N,M);if(K[v])return new O({key:N,iv:M,mode:v});throw new TypeError("invalid suite type")}function R(v,N,M){if(v=v.toLowerCase(),U[v])return $.createDecipheriv(v,N,M);if(K[v])return new O({key:N,iv:M,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}I.createCipher=I.Cipher=function T(v,N){var M,P;if(v=v.toLowerCase(),U[v])M=U[v].key,P=U[v].iv;else{if(!K[v])throw new TypeError("invalid suite type");M=8*K[v].key,P=K[v].iv}var L=y(N,!1,M,P);return x(v,L.key,L.iv)},I.createCipheriv=I.Cipheriv=x,I.createDecipher=I.Decipher=function w(v,N){var M,P;if(v=v.toLowerCase(),U[v])M=U[v].key,P=U[v].iv;else{if(!K[v])throw new TypeError("invalid suite type");M=8*K[v].key,P=K[v].iv}var L=y(N,!1,M,P);return R(v,L.key,L.iv)},I.createDecipheriv=I.Decipheriv=R,I.listCiphers=I.getCiphers=function k(){return Object.keys(K).concat($.getCiphers())}},39799:(ye,I,A)=>{var O=A(3247),$=A(71549),U=A(71993),K=A(27054).Buffer,y={"des-ede3-cbc":$.CBC.instantiate($.EDE),"des-ede3":$.EDE,"des-ede-cbc":$.CBC.instantiate($.EDE),"des-ede":$.EDE,"des-cbc":$.CBC.instantiate($.DES),"des-ecb":$.DES};function T(w){O.call(this);var k,x=w.mode.toLowerCase(),R=y[x];k=w.decrypt?"decrypt":"encrypt";var v=w.key;K.isBuffer(v)||(v=K.from(v)),("des-ede"===x||"des-ede-cbc"===x)&&(v=K.concat([v,v.slice(0,8)]));var N=w.iv;K.isBuffer(N)||(N=K.from(N)),this._des=R.create({key:v,iv:N,type:k})}y.des=y["des-cbc"],y.des3=y["des-ede3-cbc"],ye.exports=T,U(T,O),T.prototype._update=function(w){return K.from(this._des.update(w))},T.prototype._final=function(){return K.from(this._des.final())}},59571:(ye,I)=>{I["des-ecb"]={key:8,iv:0},I["des-cbc"]=I.des={key:8,iv:8},I["des-ede3-cbc"]=I.des3={key:24,iv:8},I["des-ede3"]={key:24,iv:0},I["des-ede-cbc"]={key:16,iv:8},I["des-ede"]={key:16,iv:0}},14105:(ye,I,A)=>{"use strict";var O=A(917),$=A(3342),U=A(27054).Buffer;function K(w){var R,x=w.modulus.byteLength();do{R=new O($(x))}while(R.cmp(w.modulus)>=0||!R.umod(w.prime1)||!R.umod(w.prime2));return R}function T(w,x){var R=function y(w){var x=K(w);return{blinder:x.toRed(O.mont(w.modulus)).redPow(new O(w.publicExponent)).fromRed(),unblinder:x.invm(w.modulus)}}(x),k=x.modulus.byteLength(),v=new O(w).mul(R.blinder).umod(x.modulus),N=v.toRed(O.mont(x.prime1)),M=v.toRed(O.mont(x.prime2)),P=x.coefficient,L=x.prime1,G=x.prime2,B=N.redPow(x.exponent1).fromRed(),q=M.redPow(x.exponent2).fromRed(),X=B.isub(q).imul(P).umod(L).imul(G);return q.iadd(X).imul(R.unblinder).umod(x.modulus).toArrayLike(U,"be",k)}T.getr=K,ye.exports=T},99560:(ye,I,A)=>{"use strict";ye.exports=A(62951)},79143:(ye,I,A)=>{"use strict";var O=A(27054).Buffer,$=A(67211),U=A(64670),K=A(71993),y=A(43150),T=A(74754),w=A(62951);function x(N){U.Writable.call(this);var M=w[N];if(!M)throw new Error("Unknown message digest");this._hashType=M.hash,this._hash=$(M.hash),this._tag=M.id,this._signType=M.sign}function R(N){U.Writable.call(this);var M=w[N];if(!M)throw new Error("Unknown message digest");this._hash=$(M.hash),this._tag=M.id,this._signType=M.sign}function k(N){return new x(N)}function v(N){return new R(N)}Object.keys(w).forEach(function(N){w[N].id=O.from(w[N].id,"hex"),w[N.toLowerCase()]=w[N]}),K(x,U.Writable),x.prototype._write=function(M,P,L){this._hash.update(M),L()},x.prototype.update=function(M,P){return this._hash.update("string"==typeof M?O.from(M,P):M),this},x.prototype.sign=function(M,P){this.end();var L=this._hash.digest(),G=y(L,M,this._hashType,this._signType,this._tag);return P?G.toString(P):G},K(R,U.Writable),R.prototype._write=function(M,P,L){this._hash.update(M),L()},R.prototype.update=function(M,P){return this._hash.update("string"==typeof M?O.from(M,P):M),this},R.prototype.verify=function(M,P,L){var G="string"==typeof P?O.from(P,L):P;this.end();var B=this._hash.digest();return T(G,B,M,this._signType,this._tag)},ye.exports={Sign:k,Verify:v,createSign:k,createVerify:v}},43150:(ye,I,A)=>{"use strict";var O=A(27054).Buffer,$=A(56432),U=A(14105),K=A(90518).ec,y=A(917),T=A(65667),w=A(64589);function M(q,X,Q,te){if((q=O.from(q.toArray())).length<X.byteLength()){var ie=O.alloc(X.byteLength()-q.length);q=O.concat([ie,q])}var ae=Q.length,me=function L(q,X){q=(q=P(q,X)).mod(X);var Q=O.from(q.toArray());if(Q.length<X.byteLength()){var te=O.alloc(X.byteLength()-Q.length);Q=O.concat([te,Q])}return Q}(Q,X),ge=O.alloc(ae);ge.fill(1);var de=O.alloc(ae);return de=$(te,de).update(ge).update(O.from([0])).update(q).update(me).digest(),ge=$(te,de).update(ge).digest(),{k:de=$(te,de).update(ge).update(O.from([1])).update(q).update(me).digest(),v:ge=$(te,de).update(ge).digest()}}function P(q,X){var Q=new y(q),te=(q.length<<3)-X.bitLength();return te>0&&Q.ishrn(te),Q}function G(q,X,Q){var te,ie;do{for(te=O.alloc(0);8*te.length<q.bitLength();)X.v=$(Q,X.k).update(X.v).digest(),te=O.concat([te,X.v]);ie=P(te,q),X.k=$(Q,X.k).update(X.v).update(O.from([0])).digest(),X.v=$(Q,X.k).update(X.v).digest()}while(-1!==ie.cmp(q));return ie}function B(q,X,Q,te){return q.toRed(y.mont(Q)).redPow(X).fromRed().mod(te)}ye.exports=function R(q,X,Q,te,ie){var ae=T(X);if(ae.curve){if("ecdsa"!==te&&"ecdsa/rsa"!==te)throw new Error("wrong private key type");return function k(q,X){var Q=w[X.curve.join(".")];if(!Q)throw new Error("unknown curve "+X.curve.join("."));var ae=new K(Q).keyFromPrivate(X.privateKey).sign(q);return O.from(ae.toDER())}(q,ae)}if("dsa"===ae.type){if("dsa"!==te)throw new Error("wrong private key type");return function v(q,X,Q){for(var de,te=X.params.priv_key,ie=X.params.p,ae=X.params.q,me=X.params.g,ge=new y(0),z=P(q,ae).mod(ae),d=!1,f=M(te,ae,q,Q);!1===d;)ge=B(me,de=G(ae,f,Q),ie,ae),0===(d=de.invm(ae).imul(z.add(te.mul(ge))).mod(ae)).cmpn(0)&&(d=!1,ge=new y(0));return function N(q,X){q=q.toArray(),X=X.toArray(),128&q[0]&&(q=[0].concat(q)),128&X[0]&&(X=[0].concat(X));var te=[48,q.length+X.length+4,2,q.length];return te=te.concat(q,[2,X.length],X),O.from(te)}(ge,d)}(q,ae,Q)}if("rsa"!==te&&"ecdsa/rsa"!==te)throw new Error("wrong private key type");if(void 0!==X.padding&&1!==X.padding)throw new Error("illegal or unsupported padding mode");q=O.concat([ie,q]);for(var me=ae.modulus.byteLength(),ge=[0,1];q.length+ge.length+1<me;)ge.push(255);ge.push(0);for(var de=-1;++de<q.length;)ge.push(q[de]);return U(ge,ae)},ye.exports.getKey=M,ye.exports.makeKey=G},74754:(ye,I,A)=>{"use strict";var O=A(27054).Buffer,$=A(917),U=A(90518).ec,K=A(65667),y=A(64589);function R(k,v){if(k.cmpn(0)<=0)throw new Error("invalid sig");if(k.cmp(v)>=0)throw new Error("invalid sig")}ye.exports=function T(k,v,N,M,P){var L=K(N);if("ec"===L.type){if("ecdsa"!==M&&"ecdsa/rsa"!==M)throw new Error("wrong public key type");return function w(k,v,N){var M=y[N.data.algorithm.curve.join(".")];if(!M)throw new Error("unknown curve "+N.data.algorithm.curve.join("."));return new U(M).verify(v,k,N.data.subjectPrivateKey.data)}(k,v,L)}if("dsa"===L.type){if("dsa"!==M)throw new Error("wrong public key type");return function x(k,v,N){var M=N.data.p,P=N.data.q,L=N.data.g,G=N.data.pub_key,B=K.signature.decode(k,"der"),q=B.s,X=B.r;R(q,P),R(X,P);var Q=$.mont(M),te=q.invm(P);return 0===L.toRed(Q).redPow(new $(v).mul(te).mod(P)).fromRed().mul(G.toRed(Q).redPow(X.mul(te).mod(P)).fromRed()).mod(M).mod(P).cmp(X)}(k,v,L)}if("rsa"!==M&&"ecdsa/rsa"!==M)throw new Error("wrong public key type");v=O.concat([P,v]);for(var G=L.modulus.byteLength(),B=[1],q=0;v.length+B.length+2<G;)B.push(255),q+=1;B.push(0);for(var X=-1;++X<v.length;)B.push(v[X]);B=O.from(B);var Q=$.mont(L.modulus);k=(k=new $(k).toRed(Q)).redPow(new $(L.publicExponent)),k=O.from(k.fromRed().toArray());var te=q<8?1:0;for(G=Math.min(k.length,B.length),k.length!==B.length&&(te=1),X=-1;++X<G;)te|=k[X]^B[X];return 0===te}},23827:(ye,I,A)=>{"use strict";var O=A(9656),$=Object.keys||function(N){var M=[];for(var P in N)M.push(P);return M};ye.exports=R;var U=Object.create(A(27637));U.inherits=A(71993);var K=A(81217),y=A(14817);U.inherits(R,K);for(var T=$(y.prototype),w=0;w<T.length;w++){var x=T[w];R.prototype[x]||(R.prototype[x]=y.prototype[x])}function R(N){if(!(this instanceof R))return new R(N);K.call(this,N),y.call(this,N),N&&!1===N.readable&&(this.readable=!1),N&&!1===N.writable&&(this.writable=!1),this.allowHalfOpen=!0,N&&!1===N.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",k)}function k(){this.allowHalfOpen||this._writableState.ended||O.nextTick(v,this)}function v(N){N.end()}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(R.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(N){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=N,this._writableState.destroyed=N)}}),R.prototype._destroy=function(N,M){this.push(null),this.end(),O.nextTick(M,N)}},75519:(ye,I,A)=>{"use strict";ye.exports=U;var O=A(93045),$=Object.create(A(27637));function U(K){if(!(this instanceof U))return new U(K);O.call(this,K)}$.inherits=A(71993),$.inherits(U,O),U.prototype._transform=function(K,y,T){T(null,K)}},81217:(ye,I,A)=>{"use strict";var O=A(40573),$=A(9656);ye.exports=te;var K,U=A(20053);te.ReadableState=Q,A(44356);var T=function(Se,He){return Se.listeners(He).length},w=A(62078),x=A(29783).Buffer,R=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},N=Object.create(A(27637));N.inherits=A(71993);var M=A(92668),P=void 0;P=M&&M.debuglog?M.debuglog("stream"):function(){};var B,L=A(10793),G=A(43357);N.inherits(te,w);var q=["error","close","destroy","pause","resume"];function Q(Se,He){var Te=He instanceof(K=K||A(23827));this.objectMode=!!(Se=Se||{}).objectMode,Te&&(this.objectMode=this.objectMode||!!Se.readableObjectMode);var u=Se.highWaterMark,xe=Se.readableHighWaterMark;this.highWaterMark=u||0===u?u:Te&&(xe||0===xe)?xe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new L,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Se.encoding&&(B||(B=A(72318).I),this.decoder=new B(Se.encoding),this.encoding=Se.encoding)}function te(Se){if(K=K||A(23827),!(this instanceof te))return new te(Se);this._readableState=new Q(Se,this),this.readable=!0,Se&&("function"==typeof Se.read&&(this._read=Se.read),"function"==typeof Se.destroy&&(this._destroy=Se.destroy)),w.call(this)}function ie(Se,He,Te,u,xe){var _e,be=Se._readableState;return null===He?(be.reading=!1,function f(Se,He){if(!He.ended){if(He.decoder){var Te=He.decoder.end();Te&&Te.length&&(He.buffer.push(Te),He.length+=He.objectMode?1:Te.length)}He.ended=!0,b(Se)}}(Se,be)):(xe||(_e=function me(Se,He){var Te;return!function v(Se){return x.isBuffer(Se)||Se instanceof R}(He)&&"string"!=typeof He&&void 0!==He&&!Se.objectMode&&(Te=new TypeError("Invalid non-string/buffer chunk")),Te}(be,He)),_e?Se.emit("error",_e):be.objectMode||He&&He.length>0?("string"!=typeof He&&!be.objectMode&&Object.getPrototypeOf(He)!==x.prototype&&(He=function k(Se){return x.from(Se)}(He)),u?be.endEmitted?Se.emit("error",new Error("stream.unshift() after end event")):ae(Se,be,He,!0):be.ended?Se.emit("error",new Error("stream.push() after EOF")):(be.reading=!1,be.decoder&&!Te?(He=be.decoder.write(He),be.objectMode||0!==He.length?ae(Se,be,He,!1):D(Se,be)):ae(Se,be,He,!1))):u||(be.reading=!1)),function ge(Se){return!Se.ended&&(Se.needReadable||Se.length<Se.highWaterMark||0===Se.length)}(be)}function ae(Se,He,Te,u){He.flowing&&0===He.length&&!He.sync?(Se.emit("data",Te),Se.read(0)):(He.length+=He.objectMode?1:Te.length,u?He.buffer.unshift(Te):He.buffer.push(Te),He.needReadable&&b(Se)),D(Se,He)}Object.defineProperty(te.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Se){this._readableState&&(this._readableState.destroyed=Se)}}),te.prototype.destroy=G.destroy,te.prototype._undestroy=G.undestroy,te.prototype._destroy=function(Se,He){this.push(null),He(Se)},te.prototype.push=function(Se,He){var u,Te=this._readableState;return Te.objectMode?u=!0:"string"==typeof Se&&((He=He||Te.defaultEncoding)!==Te.encoding&&(Se=x.from(Se,He),He=""),u=!0),ie(this,Se,He,!1,u)},te.prototype.unshift=function(Se){return ie(this,Se,null,!0,!1)},te.prototype.isPaused=function(){return!1===this._readableState.flowing},te.prototype.setEncoding=function(Se){return B||(B=A(72318).I),this._readableState.decoder=new B(Se),this._readableState.encoding=Se,this};function d(Se,He){return Se<=0||0===He.length&&He.ended?0:He.objectMode?1:Se!=Se?He.flowing&&He.length?He.buffer.head.data.length:He.length:(Se>He.highWaterMark&&(He.highWaterMark=function z(Se){return Se>=8388608?Se=8388608:(Se--,Se|=Se>>>1,Se|=Se>>>2,Se|=Se>>>4,Se|=Se>>>8,Se|=Se>>>16,Se++),Se}(Se)),Se<=He.length?Se:He.ended?He.length:(He.needReadable=!0,0))}function b(Se){var He=Se._readableState;He.needReadable=!1,He.emittedReadable||(P("emitReadable",He.flowing),He.emittedReadable=!0,He.sync?$.nextTick(C,Se):C(Se))}function C(Se){P("emit readable"),Se.emit("readable"),J(Se)}function D(Se,He){He.readingMore||(He.readingMore=!0,$.nextTick(V,Se,He))}function V(Se,He){for(var Te=He.length;!He.reading&&!He.flowing&&!He.ended&&He.length<He.highWaterMark&&(P("maybeReadMore read 0"),Se.read(0),Te!==He.length);)Te=He.length;He.readingMore=!1}function F(Se){P("readable nexttick read 0"),Se.read(0)}function g(Se,He){He.reading||(P("resume read 0"),Se.read(0)),He.resumeScheduled=!1,He.awaitDrain=0,Se.emit("resume"),J(Se),He.flowing&&!He.reading&&Se.read(0)}function J(Se){var He=Se._readableState;for(P("flow",He.flowing);He.flowing&&null!==Se.read(););}function ee(Se,He){return 0===He.length?null:(He.objectMode?Te=He.buffer.shift():!Se||Se>=He.length?(Te=He.decoder?He.buffer.join(""):1===He.buffer.length?He.buffer.head.data:He.buffer.concat(He.length),He.buffer.clear()):Te=function re(Se,He,Te){var u;return Se<He.head.data.length?(u=He.head.data.slice(0,Se),He.head.data=He.head.data.slice(Se)):u=Se===He.head.data.length?He.shift():Te?function fe(Se,He){var Te=He.head,u=1,xe=Te.data;for(Se-=xe.length;Te=Te.next;){var be=Te.data,_e=Se>be.length?be.length:Se;if(xe+=_e===be.length?be:be.slice(0,Se),0==(Se-=_e)){_e===be.length?(++u,He.head=Te.next?Te.next:He.tail=null):(He.head=Te,Te.data=be.slice(_e));break}++u}return He.length-=u,xe}(Se,He):function Ae(Se,He){var Te=x.allocUnsafe(Se),u=He.head,xe=1;for(u.data.copy(Te),Se-=u.data.length;u=u.next;){var be=u.data,_e=Se>be.length?be.length:Se;if(be.copy(Te,Te.length-Se,0,_e),0==(Se-=_e)){_e===be.length?(++xe,He.head=u.next?u.next:He.tail=null):(He.head=u,u.data=be.slice(_e));break}++xe}return He.length-=xe,Te}(Se,He),u}(Se,He.buffer,He.decoder),Te);var Te}function Me(Se){var He=Se._readableState;if(He.length>0)throw new Error('"endReadable()" called on non-empty stream');He.endEmitted||(He.ended=!0,$.nextTick(Le,He,Se))}function Le(Se,He){!Se.endEmitted&&0===Se.length&&(Se.endEmitted=!0,He.readable=!1,He.emit("end"))}function Ee(Se,He){for(var Te=0,u=Se.length;Te<u;Te++)if(Se[Te]===He)return Te;return-1}te.prototype.read=function(Se){P("read",Se),Se=parseInt(Se,10);var He=this._readableState,Te=Se;if(0!==Se&&(He.emittedReadable=!1),0===Se&&He.needReadable&&(He.length>=He.highWaterMark||He.ended))return P("read: emitReadable",He.length,He.ended),0===He.length&&He.ended?Me(this):b(this),null;if(0===(Se=d(Se,He))&&He.ended)return 0===He.length&&Me(this),null;var xe,u=He.needReadable;return P("need readable",u),(0===He.length||He.length-Se<He.highWaterMark)&&P("length less than watermark",u=!0),He.ended||He.reading?P("reading or ended",u=!1):u&&(P("do read"),He.reading=!0,He.sync=!0,0===He.length&&(He.needReadable=!0),this._read(He.highWaterMark),He.sync=!1,He.reading||(Se=d(Te,He))),null===(xe=Se>0?ee(Se,He):null)?(He.needReadable=!0,Se=0):He.length-=Se,0===He.length&&(He.ended||(He.needReadable=!0),Te!==Se&&He.ended&&Me(this)),null!==xe&&this.emit("data",xe),xe},te.prototype._read=function(Se){this.emit("error",new Error("_read() is not implemented"))},te.prototype.pipe=function(Se,He){var Te=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=Se;break;case 1:u.pipes=[u.pipes,Se];break;default:u.pipes.push(Se)}u.pipesCount+=1,P("pipe count=%d opts=%j",u.pipesCount,He);var be=He&&!1===He.end||Se===O.stdout||Se===O.stderr?Ut:Ce;function Ce(){P("onend"),Se.end()}u.endEmitted?$.nextTick(be):Te.once("end",be),Se.on("unpipe",function _e(se,W){P("onunpipe"),se===Te&&W&&!1===W.hasUnpiped&&(W.hasUnpiped=!0,function Ne(){P("cleanup"),Se.removeListener("close",mt),Se.removeListener("finish",rt),Se.removeListener("drain",ke),Se.removeListener("error",wt),Se.removeListener("unpipe",_e),Te.removeListener("end",Ce),Te.removeListener("end",Ut),Te.removeListener("data",Ye),ze=!0,u.awaitDrain&&(!Se._writableState||Se._writableState.needDrain)&&ke()}())});var ke=function Y(Se){return function(){var He=Se._readableState;P("pipeOnDrain",He.awaitDrain),He.awaitDrain&&He.awaitDrain--,0===He.awaitDrain&&T(Se,"data")&&(He.flowing=!0,J(Se))}}(Te);Se.on("drain",ke);var ze=!1,We=!1;function Ye(se){P("ondata"),We=!1,!1===Se.write(se)&&!We&&((1===u.pipesCount&&u.pipes===Se||u.pipesCount>1&&-1!==Ee(u.pipes,Se))&&!ze&&(P("false write response, pause",u.awaitDrain),u.awaitDrain++,We=!0),Te.pause())}function wt(se){P("onerror",se),Ut(),Se.removeListener("error",wt),0===T(Se,"error")&&Se.emit("error",se)}function mt(){Se.removeListener("finish",rt),Ut()}function rt(){P("onfinish"),Se.removeListener("close",mt),Ut()}function Ut(){P("unpipe"),Te.unpipe(Se)}return Te.on("data",Ye),function X(Se,He,Te){if("function"==typeof Se.prependListener)return Se.prependListener(He,Te);Se._events&&Se._events[He]?U(Se._events[He])?Se._events[He].unshift(Te):Se._events[He]=[Te,Se._events[He]]:Se.on(He,Te)}(Se,"error",wt),Se.once("close",mt),Se.once("finish",rt),Se.emit("pipe",Te),u.flowing||(P("pipe resume"),Te.resume()),Se},te.prototype.unpipe=function(Se){var He=this._readableState,Te={hasUnpiped:!1};if(0===He.pipesCount)return this;if(1===He.pipesCount)return Se&&Se!==He.pipes||(Se||(Se=He.pipes),He.pipes=null,He.pipesCount=0,He.flowing=!1,Se&&Se.emit("unpipe",this,Te)),this;if(!Se){var u=He.pipes,xe=He.pipesCount;He.pipes=null,He.pipesCount=0,He.flowing=!1;for(var be=0;be<xe;be++)u[be].emit("unpipe",this,{hasUnpiped:!1});return this}var _e=Ee(He.pipes,Se);return-1===_e||(He.pipes.splice(_e,1),He.pipesCount-=1,1===He.pipesCount&&(He.pipes=He.pipes[0]),Se.emit("unpipe",this,Te)),this},te.prototype.addListener=te.prototype.on=function(Se,He){var Te=w.prototype.on.call(this,Se,He);if("data"===Se)!1!==this._readableState.flowing&&this.resume();else if("readable"===Se){var u=this._readableState;!u.endEmitted&&!u.readableListening&&(u.readableListening=u.needReadable=!0,u.emittedReadable=!1,u.reading?u.length&&b(this):$.nextTick(F,this))}return Te},te.prototype.resume=function(){var Se=this._readableState;return Se.flowing||(P("resume"),Se.flowing=!0,function h(Se,He){He.resumeScheduled||(He.resumeScheduled=!0,$.nextTick(g,Se,He))}(this,Se)),this},te.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},te.prototype.wrap=function(Se){var He=this,Te=this._readableState,u=!1;for(var xe in Se.on("end",function(){if(P("wrapped end"),Te.decoder&&!Te.ended){var _e=Te.decoder.end();_e&&_e.length&&He.push(_e)}He.push(null)}),Se.on("data",function(_e){P("wrapped data"),Te.decoder&&(_e=Te.decoder.write(_e)),Te.objectMode&&null==_e||!(Te.objectMode||_e&&_e.length)||He.push(_e)||(u=!0,Se.pause())}),Se)void 0===this[xe]&&"function"==typeof Se[xe]&&(this[xe]=function(_e){return function(){return Se[_e].apply(Se,arguments)}}(xe));for(var be=0;be<q.length;be++)Se.on(q[be],this.emit.bind(this,q[be]));return this._read=function(_e){P("wrapped _read",_e),u&&(u=!1,Se.resume())},this},Object.defineProperty(te.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),te._fromList=ee},93045:(ye,I,A)=>{"use strict";ye.exports=K;var O=A(23827),$=Object.create(A(27637));function U(w,x){var R=this._transformState;R.transforming=!1;var k=R.writecb;if(!k)return this.emit("error",new Error("write callback called multiple times"));R.writechunk=null,R.writecb=null,null!=x&&this.push(x),k(w);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function K(w){if(!(this instanceof K))return new K(w);O.call(this,w),this._transformState={afterTransform:U.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,w&&("function"==typeof w.transform&&(this._transform=w.transform),"function"==typeof w.flush&&(this._flush=w.flush)),this.on("prefinish",y)}function y(){var w=this;"function"==typeof this._flush?this._flush(function(x,R){T(w,x,R)}):T(this,null,null)}function T(w,x,R){if(x)return w.emit("error",x);if(null!=R&&w.push(R),w._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(w._transformState.transforming)throw new Error("Calling transform done when still transforming");return w.push(null)}$.inherits=A(71993),$.inherits(K,O),K.prototype.push=function(w,x){return this._transformState.needTransform=!1,O.prototype.push.call(this,w,x)},K.prototype._transform=function(w,x,R){throw new Error("_transform() is not implemented")},K.prototype._write=function(w,x,R){var k=this._transformState;if(k.writecb=R,k.writechunk=w,k.writeencoding=x,!k.transforming){var v=this._readableState;(k.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},K.prototype._read=function(w){var x=this._transformState;null!==x.writechunk&&x.writecb&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},K.prototype._destroy=function(w,x){var R=this;O.prototype._destroy.call(this,w,function(k){x(k),R.emit("close")})}},14817:(ye,I,A)=>{"use strict";var O=A(40573),$=A(9656);function K(h){var g=this;this.next=null,this.entry=null,this.finish=function(){!function F(h,g,J){var ee=h.entry;for(h.entry=null;ee;){var re=ee.callback;g.pendingcb--,re(J),ee=ee.next}g.corkedRequestsFree.next=h}(g,h)}}ye.exports=q;var T,y=!O.browser&&["v0.10","v0.9."].indexOf(O.version.slice(0,5))>-1?setImmediate:$.nextTick;q.WritableState=G;var w=Object.create(A(27637));w.inherits=A(71993);var B,x={deprecate:A(3398)},R=A(62078),k=A(29783).Buffer,v=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},P=A(43357);function L(){}function G(h,g){T=T||A(23827);var J=g instanceof T;this.objectMode=!!(h=h||{}).objectMode,J&&(this.objectMode=this.objectMode||!!h.writableObjectMode);var ee=h.highWaterMark,re=h.writableHighWaterMark;this.highWaterMark=ee||0===ee?ee:J&&(re||0===re)?re:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===h.decodeStrings),this.defaultEncoding=h.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Me){!function de(h,g){var J=h._writableState,ee=J.sync,re=J.writecb;if(function ge(h){h.writing=!1,h.writecb=null,h.length-=h.writelen,h.writelen=0}(J),g)!function me(h,g,J,ee,re){--g.pendingcb,J?($.nextTick(re,ee),$.nextTick(V,h,g),h._writableState.errorEmitted=!0,h.emit("error",ee)):(re(ee),h._writableState.errorEmitted=!0,h.emit("error",ee),V(h,g))}(h,J,ee,g,re);else{var fe=b(J);!fe&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&f(h,J),ee?y(z,h,J,fe,re):z(h,J,fe,re)}}(g,Me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new K(this)}function q(h){if(T=T||A(23827),!(B.call(q,this)||this instanceof T))return new q(h);this._writableState=new G(h,this),this.writable=!0,h&&("function"==typeof h.write&&(this._write=h.write),"function"==typeof h.writev&&(this._writev=h.writev),"function"==typeof h.destroy&&(this._destroy=h.destroy),"function"==typeof h.final&&(this._final=h.final)),R.call(this)}function ae(h,g,J,ee,re,fe,Ae){g.writelen=ee,g.writecb=Ae,g.writing=!0,g.sync=!0,J?h._writev(re,g.onwrite):h._write(re,fe,g.onwrite),g.sync=!1}function z(h,g,J,ee){J||function d(h,g){0===g.length&&g.needDrain&&(g.needDrain=!1,h.emit("drain"))}(h,g),g.pendingcb--,ee(),V(h,g)}function f(h,g){g.bufferProcessing=!0;var J=g.bufferedRequest;if(h._writev&&J&&J.next){var re=new Array(g.bufferedRequestCount),fe=g.corkedRequestsFree;fe.entry=J;for(var Ae=0,Me=!0;J;)re[Ae]=J,J.isBuf||(Me=!1),J=J.next,Ae+=1;re.allBuffers=Me,ae(h,g,!0,g.length,re,"",fe.finish),g.pendingcb++,g.lastBufferedRequest=null,fe.next?(g.corkedRequestsFree=fe.next,fe.next=null):g.corkedRequestsFree=new K(g),g.bufferedRequestCount=0}else{for(;J;){var Le=J.chunk;if(ae(h,g,!1,g.objectMode?1:Le.length,Le,J.encoding,J.callback),J=J.next,g.bufferedRequestCount--,g.writing)break}null===J&&(g.lastBufferedRequest=null)}g.bufferedRequest=J,g.bufferProcessing=!1}function b(h){return h.ending&&0===h.length&&null===h.bufferedRequest&&!h.finished&&!h.writing}function C(h,g){h._final(function(J){g.pendingcb--,J&&h.emit("error",J),g.prefinished=!0,h.emit("prefinish"),V(h,g)})}function V(h,g){var J=b(g);return J&&(function D(h,g){!g.prefinished&&!g.finalCalled&&("function"==typeof h._final?(g.pendingcb++,g.finalCalled=!0,$.nextTick(C,h,g)):(g.prefinished=!0,h.emit("prefinish")))}(h,g),0===g.pendingcb&&(g.finished=!0,h.emit("finish"))),J}w.inherits(q,R),G.prototype.getBuffer=function(){for(var g=this.bufferedRequest,J=[];g;)J.push(g),g=g.next;return J},function(){try{Object.defineProperty(G.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(h){return!!B.call(this,h)||this===q&&h&&h._writableState instanceof G}})):B=function(h){return h instanceof this},q.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},q.prototype.write=function(h,g,J){var ee=this._writableState,re=!1,fe=!ee.objectMode&&function M(h){return k.isBuffer(h)||h instanceof v}(h);return fe&&!k.isBuffer(h)&&(h=function N(h){return k.from(h)}(h)),"function"==typeof g&&(J=g,g=null),fe?g="buffer":g||(g=ee.defaultEncoding),"function"!=typeof J&&(J=L),ee.ended?function X(h,g){var J=new Error("write after end");h.emit("error",J),$.nextTick(g,J)}(this,J):(fe||function Q(h,g,J,ee){var re=!0,fe=!1;return null===J?fe=new TypeError("May not write null values to stream"):"string"!=typeof J&&void 0!==J&&!g.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe&&(h.emit("error",fe),$.nextTick(ee,fe),re=!1),re}(this,ee,h,J))&&(ee.pendingcb++,re=function ie(h,g,J,ee,re,fe){if(!J){var Ae=function te(h,g,J){return!h.objectMode&&!1!==h.decodeStrings&&"string"==typeof g&&(g=k.from(g,J)),g}(g,ee,re);ee!==Ae&&(J=!0,re="buffer",ee=Ae)}var Me=g.objectMode?1:ee.length;g.length+=Me;var Le=g.length<g.highWaterMark;if(Le||(g.needDrain=!0),g.writing||g.corked){var Ee=g.lastBufferedRequest;g.lastBufferedRequest={chunk:ee,encoding:re,isBuf:J,callback:fe,next:null},Ee?Ee.next=g.lastBufferedRequest:g.bufferedRequest=g.lastBufferedRequest,g.bufferedRequestCount+=1}else ae(h,g,!1,Me,ee,re,fe);return Le}(this,ee,fe,h,g,J)),re},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var h=this._writableState;h.corked&&(h.corked--,!h.writing&&!h.corked&&!h.bufferProcessing&&h.bufferedRequest&&f(this,h))},q.prototype.setDefaultEncoding=function(g){if("string"==typeof g&&(g=g.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((g+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+g);return this._writableState.defaultEncoding=g,this},Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(h,g,J){J(new Error("_write() is not implemented"))},q.prototype._writev=null,q.prototype.end=function(h,g,J){var ee=this._writableState;"function"==typeof h?(J=h,h=null,g=null):"function"==typeof g&&(J=g,g=null),null!=h&&this.write(h,g),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||function Y(h,g,J){g.ending=!0,V(h,g),J&&(g.finished?$.nextTick(J):h.once("finish",J)),g.ended=!0,h.writable=!1}(this,ee,J)},Object.defineProperty(q.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(h){this._writableState&&(this._writableState.destroyed=h)}}),q.prototype.destroy=P.destroy,q.prototype._undestroy=P.undestroy,q.prototype._destroy=function(h,g){this.end(),g(h)}},10793:(ye,I,A)=>{"use strict";var $=A(29783).Buffer,U=A(21638);function K(y,T,w){y.copy(T,w)}ye.exports=function(){function y(){(function O(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")})(this,y),this.head=null,this.tail=null,this.length=0}return y.prototype.push=function(w){var x={data:w,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length},y.prototype.unshift=function(w){var x={data:w,next:this.head};0===this.length&&(this.tail=x),this.head=x,++this.length},y.prototype.shift=function(){if(0!==this.length){var w=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,w}},y.prototype.clear=function(){this.head=this.tail=null,this.length=0},y.prototype.join=function(w){if(0===this.length)return"";for(var x=this.head,R=""+x.data;x=x.next;)R+=w+x.data;return R},y.prototype.concat=function(w){if(0===this.length)return $.alloc(0);for(var x=$.allocUnsafe(w>>>0),R=this.head,k=0;R;)K(R.data,x,k),k+=R.data.length,R=R.next;return x},y}(),U&&U.inspect&&U.inspect.custom&&(ye.exports.prototype[U.inspect.custom]=function(){var y=U.inspect({length:this.length});return this.constructor.name+" "+y})},43357:(ye,I,A)=>{"use strict";var O=A(9656);function K(y,T){y.emit("error",T)}ye.exports={destroy:function $(y,T){var w=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(T?T(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,O.nextTick(K,this,y)):O.nextTick(K,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(k){!T&&k?w._writableState?w._writableState.errorEmitted||(w._writableState.errorEmitted=!0,O.nextTick(K,w,k)):O.nextTick(K,w,k):T&&T(k)}),this)},undestroy:function U(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(ye,I,A)=>{ye.exports=A(44356).EventEmitter},29783:(ye,I,A)=>{var O=A(83838),$=O.Buffer;function U(y,T){for(var w in y)T[w]=y[w]}function K(y,T,w){return $(y,T,w)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?ye.exports=O:(U(O,I),I.Buffer=K),U($,K),K.from=function(y,T,w){if("number"==typeof y)throw new TypeError("Argument must not be a number");return $(y,T,w)},K.alloc=function(y,T,w){if("number"!=typeof y)throw new TypeError("Argument must be a number");var x=$(y);return void 0!==T?"string"==typeof w?x.fill(T,w):x.fill(T):x.fill(0),x},K.allocUnsafe=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return $(y)},K.allocUnsafeSlow=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return O.SlowBuffer(y)}},64670:(ye,I,A)=>{(I=ye.exports=A(81217)).Stream=I,I.Readable=I,I.Writable=A(14817),I.Duplex=A(23827),I.Transform=A(93045),I.PassThrough=A(75519)},72318:(ye,I,A)=>{"use strict";var O=A(37656).Buffer,$=O.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function y(q){var X;switch(this.encoding=function K(q){var X=function U(q){if(!q)return"utf8";for(var X;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(X)return;q=(""+q).toLowerCase(),X=!0}}(q);if("string"!=typeof X&&(O.isEncoding===$||!$(q)))throw new Error("Unknown encoding: "+q);return X||q}(q),this.encoding){case"utf16le":this.text=N,this.end=M,X=4;break;case"utf8":this.fillLast=R,X=4;break;case"base64":this.text=P,this.end=L,X=3;break;default:return this.write=G,void(this.end=B)}this.lastNeed=0,this.lastTotal=0,this.lastChar=O.allocUnsafe(X)}function T(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function R(q){var X=this.lastTotal-this.lastNeed,Q=function x(q,X){if(128!=(192&X[0]))return q.lastNeed=0,"\ufffd";if(q.lastNeed>1&&X.length>1){if(128!=(192&X[1]))return q.lastNeed=1,"\ufffd";if(q.lastNeed>2&&X.length>2&&128!=(192&X[2]))return q.lastNeed=2,"\ufffd"}}(this,q);return void 0!==Q?Q:this.lastNeed<=q.length?(q.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,X,0,q.length),void(this.lastNeed-=q.length))}function N(q,X){if((q.length-X)%2==0){var Q=q.toString("utf16le",X);if(Q){var te=Q.charCodeAt(Q.length-1);if(te>=55296&&te<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",X,q.length-1)}function M(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):X}function P(q,X){var Q=(q.length-X)%3;return 0===Q?q.toString("base64",X):(this.lastNeed=3-Q,this.lastTotal=3,1===Q?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",X,q.length-Q))}function L(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function G(q){return q.toString(this.encoding)}function B(q){return q&&q.length?this.write(q):""}I.I=y,y.prototype.write=function(q){if(0===q.length)return"";var X,Q;if(this.lastNeed){if(void 0===(X=this.fillLast(q)))return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<q.length?X?X+this.text(q,Q):this.text(q,Q):X||""},y.prototype.end=function v(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+"\ufffd":X},y.prototype.text=function k(q,X){var Q=function w(q,X,Q){var te=X.length-1;if(te<Q)return 0;var ie=T(X[te]);return ie>=0?(ie>0&&(q.lastNeed=ie-1),ie):--te<Q||-2===ie?0:(ie=T(X[te]))>=0?(ie>0&&(q.lastNeed=ie-2),ie):--te<Q||-2===ie?0:(ie=T(X[te]))>=0?(ie>0&&(2===ie?ie=0:q.lastNeed=ie-3),ie):0}(this,q,X);if(!this.lastNeed)return q.toString("utf8",X);this.lastTotal=Q;var te=q.length-(Q-this.lastNeed);return q.copy(this.lastChar,0,te),q.toString("utf8",X,te)},y.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},37656:(ye,I,A)=>{var O=A(83838),$=O.Buffer;function U(y,T){for(var w in y)T[w]=y[w]}function K(y,T,w){return $(y,T,w)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?ye.exports=O:(U(O,I),I.Buffer=K),U($,K),K.from=function(y,T,w){if("number"==typeof y)throw new TypeError("Argument must not be a number");return $(y,T,w)},K.alloc=function(y,T,w){if("number"!=typeof y)throw new TypeError("Argument must be a number");var x=$(y);return void 0!==T?"string"==typeof w?x.fill(T,w):x.fill(T):x.fill(0),x},K.allocUnsafe=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return $(y)},K.allocUnsafeSlow=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return O.SlowBuffer(y)}},13546:ye=>{ye.exports=function(A,O){for(var $=Math.min(A.length,O.length),U=new Buffer($),K=0;K<$;++K)U[K]=A[K]^O[K];return U}},83838:(ye,I,A)=>{"use strict";var O=A(13981),$=A(22020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=w,I.SlowBuffer=function q(_e){return+_e!=_e&&(_e=0),w.alloc(+_e)},I.INSPECT_MAX_BYTES=50;var K=2147483647;function T(_e){if(_e>K)throw new RangeError('The value "'+_e+'" is invalid for option "size"');var Ce=new Uint8Array(_e);return Object.setPrototypeOf(Ce,w.prototype),Ce}function w(_e,Ce,ke){if("number"==typeof _e){if("string"==typeof Ce)throw new TypeError('The "string" argument must be of type string. Received type number');return v(_e)}return x(_e,Ce,ke)}function x(_e,Ce,ke){if("string"==typeof _e)return function N(_e,Ce){if(("string"!=typeof Ce||""===Ce)&&(Ce="utf8"),!w.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);var ke=0|X(_e,Ce),ze=T(ke),Ne=ze.write(_e,Ce);return Ne!==ke&&(ze=ze.slice(0,Ne)),ze}(_e,Ce);if(ArrayBuffer.isView(_e))return function P(_e){if(u(_e,Uint8Array)){var Ce=new Uint8Array(_e);return L(Ce.buffer,Ce.byteOffset,Ce.byteLength)}return M(_e)}(_e);if(null==_e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _e);if(u(_e,ArrayBuffer)||_e&&u(_e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(u(_e,SharedArrayBuffer)||_e&&u(_e.buffer,SharedArrayBuffer)))return L(_e,Ce,ke);if("number"==typeof _e)throw new TypeError('The "value" argument must not be of type number. Received type number');var ze=_e.valueOf&&_e.valueOf();if(null!=ze&&ze!==_e)return w.from(ze,Ce,ke);var Ne=function G(_e){if(w.isBuffer(_e)){var Ce=0|B(_e.length),ke=T(Ce);return 0===ke.length||_e.copy(ke,0,0,Ce),ke}return void 0!==_e.length?"number"!=typeof _e.length||xe(_e.length)?T(0):M(_e):"Buffer"===_e.type&&Array.isArray(_e.data)?M(_e.data):void 0}(_e);if(Ne)return Ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof _e[Symbol.toPrimitive])return w.from(_e[Symbol.toPrimitive]("string"),Ce,ke);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _e)}function R(_e){if("number"!=typeof _e)throw new TypeError('"size" argument must be of type number');if(_e<0)throw new RangeError('The value "'+_e+'" is invalid for option "size"')}function v(_e){return R(_e),T(_e<0?0:0|B(_e))}function M(_e){for(var Ce=_e.length<0?0:0|B(_e.length),ke=T(Ce),ze=0;ze<Ce;ze+=1)ke[ze]=255&_e[ze];return ke}function L(_e,Ce,ke){if(Ce<0||_e.byteLength<Ce)throw new RangeError('"offset" is outside of buffer bounds');if(_e.byteLength<Ce+(ke||0))throw new RangeError('"length" is outside of buffer bounds');var ze;return ze=void 0===Ce&&void 0===ke?new Uint8Array(_e):void 0===ke?new Uint8Array(_e,Ce):new Uint8Array(_e,Ce,ke),Object.setPrototypeOf(ze,w.prototype),ze}function B(_e){if(_e>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|_e}function X(_e,Ce){if(w.isBuffer(_e))return _e.length;if(ArrayBuffer.isView(_e)||u(_e,ArrayBuffer))return _e.byteLength;if("string"!=typeof _e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _e);var ke=_e.length,ze=arguments.length>2&&!0===arguments[2];if(!ze&&0===ke)return 0;for(var Ne=!1;;)switch(Ce){case"ascii":case"latin1":case"binary":return ke;case"utf8":case"utf-8":return Le(_e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ke;case"hex":return ke>>>1;case"base64":return He(_e).length;default:if(Ne)return ze?-1:Le(_e).length;Ce=(""+Ce).toLowerCase(),Ne=!0}}function Q(_e,Ce,ke){var ze=!1;if((void 0===Ce||Ce<0)&&(Ce=0),Ce>this.length||((void 0===ke||ke>this.length)&&(ke=this.length),ke<=0)||(ke>>>=0)<=(Ce>>>=0))return"";for(_e||(_e="utf8");;)switch(_e){case"hex":return F(this,Ce,ke);case"utf8":case"utf-8":return b(this,Ce,ke);case"ascii":return V(this,Ce,ke);case"latin1":case"binary":return Y(this,Ce,ke);case"base64":return f(this,Ce,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,Ce,ke);default:if(ze)throw new TypeError("Unknown encoding: "+_e);_e=(_e+"").toLowerCase(),ze=!0}}function te(_e,Ce,ke){var ze=_e[Ce];_e[Ce]=_e[ke],_e[ke]=ze}function ie(_e,Ce,ke,ze,Ne){if(0===_e.length)return-1;if("string"==typeof ke?(ze=ke,ke=0):ke>2147483647?ke=2147483647:ke<-2147483648&&(ke=-2147483648),xe(ke=+ke)&&(ke=Ne?0:_e.length-1),ke<0&&(ke=_e.length+ke),ke>=_e.length){if(Ne)return-1;ke=_e.length-1}else if(ke<0){if(!Ne)return-1;ke=0}if("string"==typeof Ce&&(Ce=w.from(Ce,ze)),w.isBuffer(Ce))return 0===Ce.length?-1:ae(_e,Ce,ke,ze,Ne);if("number"==typeof Ce)return Ce&=255,"function"==typeof Uint8Array.prototype.indexOf?Ne?Uint8Array.prototype.indexOf.call(_e,Ce,ke):Uint8Array.prototype.lastIndexOf.call(_e,Ce,ke):ae(_e,[Ce],ke,ze,Ne);throw new TypeError("val must be string, number or Buffer")}function ae(_e,Ce,ke,ze,Ne){var rt,We=1,Ye=_e.length,wt=Ce.length;if(void 0!==ze&&("ucs2"===(ze=String(ze).toLowerCase())||"ucs-2"===ze||"utf16le"===ze||"utf-16le"===ze)){if(_e.length<2||Ce.length<2)return-1;We=2,Ye/=2,wt/=2,ke/=2}function mt(Z,he){return 1===We?Z[he]:Z.readUInt16BE(he*We)}if(Ne){var Ut=-1;for(rt=ke;rt<Ye;rt++)if(mt(_e,rt)===mt(Ce,-1===Ut?0:rt-Ut)){if(-1===Ut&&(Ut=rt),rt-Ut+1===wt)return Ut*We}else-1!==Ut&&(rt-=rt-Ut),Ut=-1}else for(ke+wt>Ye&&(ke=Ye-wt),rt=ke;rt>=0;rt--){for(var se=!0,W=0;W<wt;W++)if(mt(_e,rt+W)!==mt(Ce,W)){se=!1;break}if(se)return rt}return-1}function me(_e,Ce,ke,ze){ke=Number(ke)||0;var Ne=_e.length-ke;ze?(ze=Number(ze))>Ne&&(ze=Ne):ze=Ne;var We=Ce.length;ze>We/2&&(ze=We/2);for(var Ye=0;Ye<ze;++Ye){var wt=parseInt(Ce.substr(2*Ye,2),16);if(xe(wt))return Ye;_e[ke+Ye]=wt}return Ye}function ge(_e,Ce,ke,ze){return Te(Le(Ce,_e.length-ke),_e,ke,ze)}function de(_e,Ce,ke,ze){return Te(function Ee(_e){for(var Ce=[],ke=0;ke<_e.length;++ke)Ce.push(255&_e.charCodeAt(ke));return Ce}(Ce),_e,ke,ze)}function z(_e,Ce,ke,ze){return Te(He(Ce),_e,ke,ze)}function d(_e,Ce,ke,ze){return Te(function Se(_e,Ce){for(var ke,ze,We=[],Ye=0;Ye<_e.length&&!((Ce-=2)<0);++Ye)ze=(ke=_e.charCodeAt(Ye))>>8,We.push(ke%256),We.push(ze);return We}(Ce,_e.length-ke),_e,ke,ze)}function f(_e,Ce,ke){return O.fromByteArray(0===Ce&&ke===_e.length?_e:_e.slice(Ce,ke))}function b(_e,Ce,ke){ke=Math.min(_e.length,ke);for(var ze=[],Ne=Ce;Ne<ke;){var mt,rt,Ut,se,We=_e[Ne],Ye=null,wt=We>239?4:We>223?3:We>191?2:1;if(Ne+wt<=ke)switch(wt){case 1:We<128&&(Ye=We);break;case 2:128==(192&(mt=_e[Ne+1]))&&(se=(31&We)<<6|63&mt)>127&&(Ye=se);break;case 3:rt=_e[Ne+2],128==(192&(mt=_e[Ne+1]))&&128==(192&rt)&&(se=(15&We)<<12|(63&mt)<<6|63&rt)>2047&&(se<55296||se>57343)&&(Ye=se);break;case 4:rt=_e[Ne+2],Ut=_e[Ne+3],128==(192&(mt=_e[Ne+1]))&&128==(192&rt)&&128==(192&Ut)&&(se=(15&We)<<18|(63&mt)<<12|(63&rt)<<6|63&Ut)>65535&&se<1114112&&(Ye=se)}null===Ye?(Ye=65533,wt=1):Ye>65535&&(ze.push((Ye-=65536)>>>10&1023|55296),Ye=56320|1023&Ye),ze.push(Ye),Ne+=wt}return function D(_e){var Ce=_e.length;if(Ce<=C)return String.fromCharCode.apply(String,_e);for(var ke="",ze=0;ze<Ce;)ke+=String.fromCharCode.apply(String,_e.slice(ze,ze+=C));return ke}(ze)}I.kMaxLength=K,!(w.TYPED_ARRAY_SUPPORT=function y(){try{var _e=new Uint8Array(1),Ce={foo:function(){return 42}};return Object.setPrototypeOf(Ce,Uint8Array.prototype),Object.setPrototypeOf(_e,Ce),42===_e.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(_e,Ce,ke){return x(_e,Ce,ke)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(_e,Ce,ke){return function k(_e,Ce,ke){return R(_e),_e<=0?T(_e):void 0!==Ce?"string"==typeof ke?T(_e).fill(Ce,ke):T(_e).fill(Ce):T(_e)}(_e,Ce,ke)},w.allocUnsafe=function(_e){return v(_e)},w.allocUnsafeSlow=function(_e){return v(_e)},w.isBuffer=function(Ce){return null!=Ce&&!0===Ce._isBuffer&&Ce!==w.prototype},w.compare=function(Ce,ke){if(u(Ce,Uint8Array)&&(Ce=w.from(Ce,Ce.offset,Ce.byteLength)),u(ke,Uint8Array)&&(ke=w.from(ke,ke.offset,ke.byteLength)),!w.isBuffer(Ce)||!w.isBuffer(ke))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ce===ke)return 0;for(var ze=Ce.length,Ne=ke.length,We=0,Ye=Math.min(ze,Ne);We<Ye;++We)if(Ce[We]!==ke[We]){ze=Ce[We],Ne=ke[We];break}return ze<Ne?-1:Ne<ze?1:0},w.isEncoding=function(Ce){switch(String(Ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(Ce,ke){if(!Array.isArray(Ce))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ce.length)return w.alloc(0);var ze;if(void 0===ke)for(ke=0,ze=0;ze<Ce.length;++ze)ke+=Ce[ze].length;var Ne=w.allocUnsafe(ke),We=0;for(ze=0;ze<Ce.length;++ze){var Ye=Ce[ze];if(u(Ye,Uint8Array))We+Ye.length>Ne.length?w.from(Ye).copy(Ne,We):Uint8Array.prototype.set.call(Ne,Ye,We);else{if(!w.isBuffer(Ye))throw new TypeError('"list" argument must be an Array of Buffers');Ye.copy(Ne,We)}We+=Ye.length}return Ne},w.byteLength=X,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var Ce=this.length;if(Ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ke=0;ke<Ce;ke+=2)te(this,ke,ke+1);return this},w.prototype.swap32=function(){var Ce=this.length;if(Ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ke=0;ke<Ce;ke+=4)te(this,ke,ke+3),te(this,ke+1,ke+2);return this},w.prototype.swap64=function(){var Ce=this.length;if(Ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ke=0;ke<Ce;ke+=8)te(this,ke,ke+7),te(this,ke+1,ke+6),te(this,ke+2,ke+5),te(this,ke+3,ke+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){var Ce=this.length;return 0===Ce?"":0===arguments.length?b(this,0,Ce):Q.apply(this,arguments)},w.prototype.equals=function(Ce){if(!w.isBuffer(Ce))throw new TypeError("Argument must be a Buffer");return this===Ce||0===w.compare(this,Ce)},w.prototype.inspect=function(){var Ce="",ke=I.INSPECT_MAX_BYTES;return Ce=this.toString("hex",0,ke).replace(/(.{2})/g,"$1 ").trim(),this.length>ke&&(Ce+=" ... "),"<Buffer "+Ce+">"},U&&(w.prototype[U]=w.prototype.inspect),w.prototype.compare=function(Ce,ke,ze,Ne,We){if(u(Ce,Uint8Array)&&(Ce=w.from(Ce,Ce.offset,Ce.byteLength)),!w.isBuffer(Ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ce);if(void 0===ke&&(ke=0),void 0===ze&&(ze=Ce?Ce.length:0),void 0===Ne&&(Ne=0),void 0===We&&(We=this.length),ke<0||ze>Ce.length||Ne<0||We>this.length)throw new RangeError("out of range index");if(Ne>=We&&ke>=ze)return 0;if(Ne>=We)return-1;if(ke>=ze)return 1;if(this===Ce)return 0;for(var Ye=(We>>>=0)-(Ne>>>=0),wt=(ze>>>=0)-(ke>>>=0),mt=Math.min(Ye,wt),rt=this.slice(Ne,We),Ut=Ce.slice(ke,ze),se=0;se<mt;++se)if(rt[se]!==Ut[se]){Ye=rt[se],wt=Ut[se];break}return Ye<wt?-1:wt<Ye?1:0},w.prototype.includes=function(Ce,ke,ze){return-1!==this.indexOf(Ce,ke,ze)},w.prototype.indexOf=function(Ce,ke,ze){return ie(this,Ce,ke,ze,!0)},w.prototype.lastIndexOf=function(Ce,ke,ze){return ie(this,Ce,ke,ze,!1)},w.prototype.write=function(Ce,ke,ze,Ne){if(void 0===ke)Ne="utf8",ze=this.length,ke=0;else if(void 0===ze&&"string"==typeof ke)Ne=ke,ze=this.length,ke=0;else{if(!isFinite(ke))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ke>>>=0,isFinite(ze)?(ze>>>=0,void 0===Ne&&(Ne="utf8")):(Ne=ze,ze=void 0)}var We=this.length-ke;if((void 0===ze||ze>We)&&(ze=We),Ce.length>0&&(ze<0||ke<0)||ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var Ye=!1;;)switch(Ne){case"hex":return me(this,Ce,ke,ze);case"utf8":case"utf-8":return ge(this,Ce,ke,ze);case"ascii":case"latin1":case"binary":return de(this,Ce,ke,ze);case"base64":return z(this,Ce,ke,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,Ce,ke,ze);default:if(Ye)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),Ye=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function V(_e,Ce,ke){var ze="";ke=Math.min(_e.length,ke);for(var Ne=Ce;Ne<ke;++Ne)ze+=String.fromCharCode(127&_e[Ne]);return ze}function Y(_e,Ce,ke){var ze="";ke=Math.min(_e.length,ke);for(var Ne=Ce;Ne<ke;++Ne)ze+=String.fromCharCode(_e[Ne]);return ze}function F(_e,Ce,ke){var ze=_e.length;(!Ce||Ce<0)&&(Ce=0),(!ke||ke<0||ke>ze)&&(ke=ze);for(var Ne="",We=Ce;We<ke;++We)Ne+=be[_e[We]];return Ne}function h(_e,Ce,ke){for(var ze=_e.slice(Ce,ke),Ne="",We=0;We<ze.length-1;We+=2)Ne+=String.fromCharCode(ze[We]+256*ze[We+1]);return Ne}function g(_e,Ce,ke){if(_e%1!=0||_e<0)throw new RangeError("offset is not uint");if(_e+Ce>ke)throw new RangeError("Trying to access beyond buffer length")}function J(_e,Ce,ke,ze,Ne,We){if(!w.isBuffer(_e))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ce>Ne||Ce<We)throw new RangeError('"value" argument is out of bounds');if(ke+ze>_e.length)throw new RangeError("Index out of range")}function ee(_e,Ce,ke,ze,Ne,We){if(ke+ze>_e.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("Index out of range")}function re(_e,Ce,ke,ze,Ne){return Ce=+Ce,ke>>>=0,Ne||ee(_e,0,ke,4),$.write(_e,Ce,ke,ze,23,4),ke+4}function fe(_e,Ce,ke,ze,Ne){return Ce=+Ce,ke>>>=0,Ne||ee(_e,0,ke,8),$.write(_e,Ce,ke,ze,52,8),ke+8}w.prototype.slice=function(Ce,ke){var ze=this.length;(Ce=~~Ce)<0?(Ce+=ze)<0&&(Ce=0):Ce>ze&&(Ce=ze),(ke=void 0===ke?ze:~~ke)<0?(ke+=ze)<0&&(ke=0):ke>ze&&(ke=ze),ke<Ce&&(ke=Ce);var Ne=this.subarray(Ce,ke);return Object.setPrototypeOf(Ne,w.prototype),Ne},w.prototype.readUintLE=w.prototype.readUIntLE=function(Ce,ke,ze){Ce>>>=0,ke>>>=0,ze||g(Ce,ke,this.length);for(var Ne=this[Ce],We=1,Ye=0;++Ye<ke&&(We*=256);)Ne+=this[Ce+Ye]*We;return Ne},w.prototype.readUintBE=w.prototype.readUIntBE=function(Ce,ke,ze){Ce>>>=0,ke>>>=0,ze||g(Ce,ke,this.length);for(var Ne=this[Ce+--ke],We=1;ke>0&&(We*=256);)Ne+=this[Ce+--ke]*We;return Ne},w.prototype.readUint8=w.prototype.readUInt8=function(Ce,ke){return Ce>>>=0,ke||g(Ce,1,this.length),this[Ce]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,2,this.length),this[Ce]|this[Ce+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,2,this.length),this[Ce]<<8|this[Ce+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),(this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16)+16777216*this[Ce+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),16777216*this[Ce]+(this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3])},w.prototype.readIntLE=function(Ce,ke,ze){Ce>>>=0,ke>>>=0,ze||g(Ce,ke,this.length);for(var Ne=this[Ce],We=1,Ye=0;++Ye<ke&&(We*=256);)Ne+=this[Ce+Ye]*We;return Ne>=(We*=128)&&(Ne-=Math.pow(2,8*ke)),Ne},w.prototype.readIntBE=function(Ce,ke,ze){Ce>>>=0,ke>>>=0,ze||g(Ce,ke,this.length);for(var Ne=ke,We=1,Ye=this[Ce+--Ne];Ne>0&&(We*=256);)Ye+=this[Ce+--Ne]*We;return Ye>=(We*=128)&&(Ye-=Math.pow(2,8*ke)),Ye},w.prototype.readInt8=function(Ce,ke){return Ce>>>=0,ke||g(Ce,1,this.length),128&this[Ce]?-1*(255-this[Ce]+1):this[Ce]},w.prototype.readInt16LE=function(Ce,ke){Ce>>>=0,ke||g(Ce,2,this.length);var ze=this[Ce]|this[Ce+1]<<8;return 32768&ze?4294901760|ze:ze},w.prototype.readInt16BE=function(Ce,ke){Ce>>>=0,ke||g(Ce,2,this.length);var ze=this[Ce+1]|this[Ce]<<8;return 32768&ze?4294901760|ze:ze},w.prototype.readInt32LE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16|this[Ce+3]<<24},w.prototype.readInt32BE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),this[Ce]<<24|this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3]},w.prototype.readFloatLE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),$.read(this,Ce,!0,23,4)},w.prototype.readFloatBE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,4,this.length),$.read(this,Ce,!1,23,4)},w.prototype.readDoubleLE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,8,this.length),$.read(this,Ce,!0,52,8)},w.prototype.readDoubleBE=function(Ce,ke){return Ce>>>=0,ke||g(Ce,8,this.length),$.read(this,Ce,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(Ce,ke,ze,Ne){Ce=+Ce,ke>>>=0,ze>>>=0,Ne||J(this,Ce,ke,ze,Math.pow(2,8*ze)-1,0);var Ye=1,wt=0;for(this[ke]=255&Ce;++wt<ze&&(Ye*=256);)this[ke+wt]=Ce/Ye&255;return ke+ze},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(Ce,ke,ze,Ne){Ce=+Ce,ke>>>=0,ze>>>=0,Ne||J(this,Ce,ke,ze,Math.pow(2,8*ze)-1,0);var Ye=ze-1,wt=1;for(this[ke+Ye]=255&Ce;--Ye>=0&&(wt*=256);)this[ke+Ye]=Ce/wt&255;return ke+ze},w.prototype.writeUint8=w.prototype.writeUInt8=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,1,255,0),this[ke]=255&Ce,ke+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,2,65535,0),this[ke]=255&Ce,this[ke+1]=Ce>>>8,ke+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,2,65535,0),this[ke]=Ce>>>8,this[ke+1]=255&Ce,ke+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,4,4294967295,0),this[ke+3]=Ce>>>24,this[ke+2]=Ce>>>16,this[ke+1]=Ce>>>8,this[ke]=255&Ce,ke+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,4,4294967295,0),this[ke]=Ce>>>24,this[ke+1]=Ce>>>16,this[ke+2]=Ce>>>8,this[ke+3]=255&Ce,ke+4},w.prototype.writeIntLE=function(Ce,ke,ze,Ne){if(Ce=+Ce,ke>>>=0,!Ne){var We=Math.pow(2,8*ze-1);J(this,Ce,ke,ze,We-1,-We)}var Ye=0,wt=1,mt=0;for(this[ke]=255&Ce;++Ye<ze&&(wt*=256);)Ce<0&&0===mt&&0!==this[ke+Ye-1]&&(mt=1),this[ke+Ye]=(Ce/wt|0)-mt&255;return ke+ze},w.prototype.writeIntBE=function(Ce,ke,ze,Ne){if(Ce=+Ce,ke>>>=0,!Ne){var We=Math.pow(2,8*ze-1);J(this,Ce,ke,ze,We-1,-We)}var Ye=ze-1,wt=1,mt=0;for(this[ke+Ye]=255&Ce;--Ye>=0&&(wt*=256);)Ce<0&&0===mt&&0!==this[ke+Ye+1]&&(mt=1),this[ke+Ye]=(Ce/wt|0)-mt&255;return ke+ze},w.prototype.writeInt8=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,1,127,-128),Ce<0&&(Ce=255+Ce+1),this[ke]=255&Ce,ke+1},w.prototype.writeInt16LE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,2,32767,-32768),this[ke]=255&Ce,this[ke+1]=Ce>>>8,ke+2},w.prototype.writeInt16BE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,2,32767,-32768),this[ke]=Ce>>>8,this[ke+1]=255&Ce,ke+2},w.prototype.writeInt32LE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,4,2147483647,-2147483648),this[ke]=255&Ce,this[ke+1]=Ce>>>8,this[ke+2]=Ce>>>16,this[ke+3]=Ce>>>24,ke+4},w.prototype.writeInt32BE=function(Ce,ke,ze){return Ce=+Ce,ke>>>=0,ze||J(this,Ce,ke,4,2147483647,-2147483648),Ce<0&&(Ce=4294967295+Ce+1),this[ke]=Ce>>>24,this[ke+1]=Ce>>>16,this[ke+2]=Ce>>>8,this[ke+3]=255&Ce,ke+4},w.prototype.writeFloatLE=function(Ce,ke,ze){return re(this,Ce,ke,!0,ze)},w.prototype.writeFloatBE=function(Ce,ke,ze){return re(this,Ce,ke,!1,ze)},w.prototype.writeDoubleLE=function(Ce,ke,ze){return fe(this,Ce,ke,!0,ze)},w.prototype.writeDoubleBE=function(Ce,ke,ze){return fe(this,Ce,ke,!1,ze)},w.prototype.copy=function(Ce,ke,ze,Ne){if(!w.isBuffer(Ce))throw new TypeError("argument should be a Buffer");if(ze||(ze=0),!Ne&&0!==Ne&&(Ne=this.length),ke>=Ce.length&&(ke=Ce.length),ke||(ke=0),Ne>0&&Ne<ze&&(Ne=ze),Ne===ze||0===Ce.length||0===this.length)return 0;if(ke<0)throw new RangeError("targetStart out of bounds");if(ze<0||ze>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),Ce.length-ke<Ne-ze&&(Ne=Ce.length-ke+ze);var We=Ne-ze;return this===Ce&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ke,ze,Ne):Uint8Array.prototype.set.call(Ce,this.subarray(ze,Ne),ke),We},w.prototype.fill=function(Ce,ke,ze,Ne){if("string"==typeof Ce){if("string"==typeof ke?(Ne=ke,ke=0,ze=this.length):"string"==typeof ze&&(Ne=ze,ze=this.length),void 0!==Ne&&"string"!=typeof Ne)throw new TypeError("encoding must be a string");if("string"==typeof Ne&&!w.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(1===Ce.length){var We=Ce.charCodeAt(0);("utf8"===Ne&&We<128||"latin1"===Ne)&&(Ce=We)}}else"number"==typeof Ce?Ce&=255:"boolean"==typeof Ce&&(Ce=Number(Ce));if(ke<0||this.length<ke||this.length<ze)throw new RangeError("Out of range index");if(ze<=ke)return this;var Ye;if(ke>>>=0,ze=void 0===ze?this.length:ze>>>0,Ce||(Ce=0),"number"==typeof Ce)for(Ye=ke;Ye<ze;++Ye)this[Ye]=Ce;else{var wt=w.isBuffer(Ce)?Ce:w.from(Ce,Ne),mt=wt.length;if(0===mt)throw new TypeError('The value "'+Ce+'" is invalid for argument "value"');for(Ye=0;Ye<ze-ke;++Ye)this[Ye+ke]=wt[Ye%mt]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function Le(_e,Ce){Ce=Ce||1/0;for(var ke,ze=_e.length,Ne=null,We=[],Ye=0;Ye<ze;++Ye){if((ke=_e.charCodeAt(Ye))>55295&&ke<57344){if(!Ne){if(ke>56319){(Ce-=3)>-1&&We.push(239,191,189);continue}if(Ye+1===ze){(Ce-=3)>-1&&We.push(239,191,189);continue}Ne=ke;continue}if(ke<56320){(Ce-=3)>-1&&We.push(239,191,189),Ne=ke;continue}ke=65536+(Ne-55296<<10|ke-56320)}else Ne&&(Ce-=3)>-1&&We.push(239,191,189);if(Ne=null,ke<128){if((Ce-=1)<0)break;We.push(ke)}else if(ke<2048){if((Ce-=2)<0)break;We.push(ke>>6|192,63&ke|128)}else if(ke<65536){if((Ce-=3)<0)break;We.push(ke>>12|224,ke>>6&63|128,63&ke|128)}else{if(!(ke<1114112))throw new Error("Invalid code point");if((Ce-=4)<0)break;We.push(ke>>18|240,ke>>12&63|128,ke>>6&63|128,63&ke|128)}}return We}function He(_e){return O.toByteArray(function Me(_e){if((_e=(_e=_e.split("=")[0]).trim().replace(Ae,"")).length<2)return"";for(;_e.length%4!=0;)_e+="=";return _e}(_e))}function Te(_e,Ce,ke,ze){for(var Ne=0;Ne<ze&&!(Ne+ke>=Ce.length||Ne>=_e.length);++Ne)Ce[Ne+ke]=_e[Ne];return Ne}function u(_e,Ce){return _e instanceof Ce||null!=_e&&null!=_e.constructor&&null!=_e.constructor.name&&_e.constructor.name===Ce.name}function xe(_e){return _e!=_e}var be=function(){for(var _e="0123456789abcdef",Ce=new Array(256),ke=0;ke<16;++ke)for(var ze=16*ke,Ne=0;Ne<16;++Ne)Ce[ze+Ne]=_e[ke]+_e[Ne];return Ce}()},23020:(ye,I,A)=>{"use strict";var O=A(90258),$=A(48128),U=$(O("String.prototype.indexOf"));ye.exports=function(y,T){var w=O(y,!!T);return"function"==typeof w&&U(y,".prototype.")>-1?$(w):w}},48128:(ye,I,A)=>{"use strict";var O=A(65992),$=A(90258),U=A(31358),K=A(46758),y=$("%Function.prototype.apply%"),T=$("%Function.prototype.call%"),w=$("%Reflect.apply%",!0)||O.call(T,y),x=A(4570),R=$("%Math.max%");ye.exports=function(N){if("function"!=typeof N)throw new K("a function is required");var M=w(O,T,arguments);return U(M,1+R(0,N.length-(arguments.length-1)),!0)};var k=function(){return w(O,y,arguments)};x?x(ye.exports,"apply",{value:k}):ye.exports.apply=k},28846:ye=>{"use strict";ye.exports=function I(A){if("number"==typeof A&&isNaN(A))throw new Error("NaN is not allowed");if("number"==typeof A&&!isFinite(A))throw new Error("Infinity is not allowed");return null===A||"object"!=typeof A?JSON.stringify(A):A.toJSON instanceof Function?I(A.toJSON()):Array.isArray(A)?`[${A.reduce((U,K,y)=>`${U}${0===y?"":","}${I(void 0===K||"symbol"==typeof K?null:K)}`,"")}]`:`{${Object.keys(A).sort().reduce(($,U)=>void 0===A[U]||"symbol"==typeof A[U]?$:`${$}${0===$.length?"":","}${I(U)}:${I(A[U])}`,"")}}`}},42381:(ye,I,A)=>{"use strict";var O=A(78341);I.fromCallback=function($,U){if(void 0===$){var K=new Promise(function(y,T){$=function(w,x){w?T(w):y(x)}});$[void 0!==U?U:"promise"]=K}else if("function"!=typeof $)throw new TypeError("Callback must be a function");return $},I.fromPromise=function($,U){if(void 0===U)return $;$.then(function(K){O(()=>U(null,K))}).catch(function(K){O(()=>U(K))})}},78341:ye=>{ye.exports="function"==typeof queueMicrotask?queueMicrotask:I=>Promise.resolve().then(I)},3247:(ye,I,A)=>{var O=A(27054).Buffer,$=A(14792).Transform,U=A(78454).StringDecoder;function y(T){$.call(this),this.hashMode="string"==typeof T,this.hashMode?this[T]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}A(71993)(y,$),y.prototype.update=function(T,w,x){"string"==typeof T&&(T=O.from(T,w));var R=this._update(T);return this.hashMode?this:(x&&(R=this._toString(R,x)),R)},y.prototype.setAutoPadding=function(){},y.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},y.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},y.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},y.prototype._transform=function(T,w,x){var R;try{this.hashMode?this._update(T):this.push(this._update(T))}catch(k){R=k}finally{x(R)}},y.prototype._flush=function(T){var w;try{this.push(this.__final())}catch(x){w=x}T(w)},y.prototype._finalOrDigest=function(T){var w=this.__final()||O.alloc(0);return T&&(w=this._toString(w,T,!0)),w},y.prototype._toString=function(T,w,x){if(this._decoder||(this._decoder=new U(w),this._encoding=w),this._encoding!==w)throw new Error("can't switch encodings");var R=this._decoder.write(T);return x&&(R+=this._decoder.end()),R},ye.exports=y},19532:ye=>{function I(O){if(O)return function A(O){return Object.assign(O,I.prototype),O._callbacks=new Map,O}(O);this._callbacks=new Map}I.prototype.on=function(O,$){const U=this._callbacks.get(O)??[];return U.push($),this._callbacks.set(O,U),this},I.prototype.once=function(O,$){const U=(...K)=>{this.off(O,U),$.apply(this,K)};return U.fn=$,this.on(O,U),this},I.prototype.off=function(O,$){if(void 0===O&&void 0===$)return this._callbacks.clear(),this;if(void 0===$)return this._callbacks.delete(O),this;const U=this._callbacks.get(O);if(U){for(const[K,y]of U.entries())if(y===$||y.fn===$){U.splice(K,1);break}0===U.length?this._callbacks.delete(O):this._callbacks.set(O,U)}return this},I.prototype.emit=function(O,...$){const U=this._callbacks.get(O);if(U){const K=[...U];for(const y of K)y.apply(this,$)}return this},I.prototype.listeners=function(O){return this._callbacks.get(O)??[]},I.prototype.listenerCount=function(O){if(O)return this.listeners(O).length;let $=0;for(const U of this._callbacks.values())$+=U.length;return $},I.prototype.hasListeners=function(O){return this.listenerCount(O)>0},I.prototype.addEventListener=I.prototype.on,I.prototype.removeListener=I.prototype.off,I.prototype.removeEventListener=I.prototype.off,I.prototype.removeAllListeners=I.prototype.off,ye.exports=I},27637:(ye,I,A)=>{function L(G){return Object.prototype.toString.call(G)}I.isArray=function O(G){return Array.isArray?Array.isArray(G):"[object Array]"===L(G)},I.isBoolean=function $(G){return"boolean"==typeof G},I.isNull=function U(G){return null===G},I.isNullOrUndefined=function K(G){return null==G},I.isNumber=function y(G){return"number"==typeof G},I.isString=function T(G){return"string"==typeof G},I.isSymbol=function w(G){return"symbol"==typeof G},I.isUndefined=function x(G){return void 0===G},I.isRegExp=function R(G){return"[object RegExp]"===L(G)},I.isObject=function k(G){return"object"==typeof G&&null!==G},I.isDate=function v(G){return"[object Date]"===L(G)},I.isError=function N(G){return"[object Error]"===L(G)||G instanceof Error},I.isFunction=function M(G){return"function"==typeof G},I.isPrimitive=function P(G){return null===G||"boolean"==typeof G||"number"==typeof G||"string"==typeof G||"symbol"==typeof G||typeof G>"u"},I.isBuffer=A(83838).Buffer.isBuffer},87303:(ye,I,A)=>{var O=A(90518),$=A(89606);ye.exports=function(w){return new K(w)};var U={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function K(T){this.curveType=U[T],this.curveType||(this.curveType={name:T}),this.curve=new O.ec(this.curveType.name),this.keys=void 0}function y(T,w,x){Array.isArray(T)||(T=T.toArray());var R=new Buffer(T);if(x&&R.length<x){var k=new Buffer(x-R.length);k.fill(0),R=Buffer.concat([k,R])}return w?R.toString(w):R}U.p224=U.secp224r1,U.p256=U.secp256r1=U.prime256v1,U.p192=U.secp192r1=U.prime192v1,U.p384=U.secp384r1,U.p521=U.secp521r1,K.prototype.generateKeys=function(T,w){return this.keys=this.curve.genKeyPair(),this.getPublicKey(T,w)},K.prototype.computeSecret=function(T,w,x){return w=w||"utf8",Buffer.isBuffer(T)||(T=new Buffer(T,w)),y(this.curve.keyFromPublic(T).getPublic().mul(this.keys.getPrivate()).getX(),x,this.curveType.byteLength)},K.prototype.getPublicKey=function(T,w){var x=this.keys.getPublic("compressed"===w,!0);return"hybrid"===w&&(x[0]=x[x.length-1]%2?7:6),y(x,T)},K.prototype.getPrivateKey=function(T){return y(this.keys.getPrivate(),T)},K.prototype.setPublicKey=function(T,w){return w=w||"utf8",Buffer.isBuffer(T)||(T=new Buffer(T,w)),this.keys._importPublic(T),this},K.prototype.setPrivateKey=function(T,w){w=w||"utf8",Buffer.isBuffer(T)||(T=new Buffer(T,w));var x=new $(T);return x=x.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(x),this}},89606:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(77965).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},67211:(ye,I,A)=>{"use strict";var O=A(71993),$=A(34725),U=A(36636),K=A(25443),y=A(3247);function T(w){y.call(this,"digest"),this._hash=w}O(T,y),T.prototype._update=function(w){this._hash.update(w)},T.prototype._final=function(){return this._hash.digest()},ye.exports=function(x){return"md5"===(x=x.toLowerCase())?new $:"rmd160"===x||"ripemd160"===x?new U:new T(K(x))}},83407:(ye,I,A)=>{var O=A(34725);ye.exports=function($){return(new O).update($).digest()}},56432:(ye,I,A)=>{"use strict";var O=A(71993),$=A(90509),U=A(3247),K=A(27054).Buffer,y=A(83407),T=A(36636),w=A(25443),x=K.alloc(128);function R(k,v){U.call(this,"digest"),"string"==typeof v&&(v=K.from(v));var N="sha512"===k||"sha384"===k?128:64;this._alg=k,this._key=v,v.length>N?v=("rmd160"===k?new T:w(k)).update(v).digest():v.length<N&&(v=K.concat([v,x],N));for(var P=this._ipad=K.allocUnsafe(N),L=this._opad=K.allocUnsafe(N),G=0;G<N;G++)P[G]=54^v[G],L[G]=92^v[G];this._hash="rmd160"===k?new T:w(k),this._hash.update(P)}O(R,U),R.prototype._update=function(k){this._hash.update(k)},R.prototype._final=function(){var k=this._hash.digest();return("rmd160"===this._alg?new T:w(this._alg)).update(this._opad).update(k).digest()},ye.exports=function(v,N){return"rmd160"===(v=v.toLowerCase())||"ripemd160"===v?new R("rmd160",N):"md5"===v?new $(y,N):new R(v,N)}},90509:(ye,I,A)=>{"use strict";var O=A(71993),$=A(27054).Buffer,U=A(3247),K=$.alloc(128),y=64;function T(w,x){U.call(this,"digest"),"string"==typeof x&&(x=$.from(x)),this._alg=w,this._key=x,x.length>y?x=w(x):x.length<y&&(x=$.concat([x,K],y));for(var R=this._ipad=$.allocUnsafe(y),k=this._opad=$.allocUnsafe(y),v=0;v<y;v++)R[v]=54^x[v],k[v]=92^x[v];this._hash=[R]}O(T,U),T.prototype._update=function(w){this._hash.push(w)},T.prototype._final=function(){var w=this._alg($.concat(this._hash));return this._alg($.concat([this._opad,w]))},ye.exports=T},91426:(ye,I,A)=>{"use strict";I.randomBytes=I.rng=I.pseudoRandomBytes=I.prng=A(3342),I.createHash=I.Hash=A(67211),I.createHmac=I.Hmac=A(56432);var O=A(99560),$=Object.keys(O),U=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat($);I.getHashes=function(){return U};var K=A(93397);I.pbkdf2=K.pbkdf2,I.pbkdf2Sync=K.pbkdf2Sync;var y=A(88862);I.Cipher=y.Cipher,I.createCipher=y.createCipher,I.Cipheriv=y.Cipheriv,I.createCipheriv=y.createCipheriv,I.Decipher=y.Decipher,I.createDecipher=y.createDecipher,I.Decipheriv=y.Decipheriv,I.createDecipheriv=y.createDecipheriv,I.getCiphers=y.getCiphers,I.listCiphers=y.listCiphers;var T=A(4377);I.DiffieHellmanGroup=T.DiffieHellmanGroup,I.createDiffieHellmanGroup=T.createDiffieHellmanGroup,I.getDiffieHellman=T.getDiffieHellman,I.createDiffieHellman=T.createDiffieHellman,I.DiffieHellman=T.DiffieHellman;var w=A(79143);I.createSign=w.createSign,I.Sign=w.Sign,I.createVerify=w.createVerify,I.Verify=w.Verify,I.createECDH=A(87303);var x=A(52965);I.publicEncrypt=x.publicEncrypt,I.privateEncrypt=x.privateEncrypt,I.publicDecrypt=x.publicDecrypt,I.privateDecrypt=x.privateDecrypt;var R=A(9682);I.randomFill=R.randomFill,I.randomFillSync=R.randomFillSync,I.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/browserify/crypto-browserify")},I.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},92736:(ye,I,A)=>{"use strict";var O=A(4570),$=A(58413),U=A(46758),K=A(83798);ye.exports=function(T,w,x){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new U("`obj` must be an object or a function`");if("string"!=typeof w&&"symbol"!=typeof w)throw new U("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new U("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new U("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new U("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new U("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,k=arguments.length>4?arguments[4]:null,v=arguments.length>5?arguments[5]:null,N=arguments.length>6&&arguments[6],M=!!K&&K(T,w);if(O)O(T,w,{configurable:null===v&&M?M.configurable:!v,enumerable:null===R&&M?M.enumerable:!R,value:x,writable:null===k&&M?M.writable:!k});else{if(!N&&(R||k||v))throw new $("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[w]=x}}},947:(ye,I,A)=>{"use strict";var O=A(44934),$="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),U=Object.prototype.toString,K=Array.prototype.concat,y=A(92736),w=A(35861)(),x=function(k,v,N,M){if(v in k)if(!0===M){if(k[v]===N)return}else if(!function(k){return"function"==typeof k&&"[object Function]"===U.call(k)}(M)||!M())return;w?y(k,v,N,!0):y(k,v,N)},R=function(k,v){var N=arguments.length>2?arguments[2]:{},M=O(v);$&&(M=K.call(M,Object.getOwnPropertySymbols(v)));for(var P=0;P<M.length;P+=1)x(k,M[P],v[M[P]],N[M[P]])};R.supportsDescriptors=!!w,ye.exports=R},71549:(ye,I,A)=>{"use strict";I.utils=A(85671),I.Cipher=A(10219),I.DES=A(64166),I.CBC=A(88800),I.EDE=A(62122)},88800:(ye,I,A)=>{"use strict";var O=A(39210),$=A(71993),U={};function K(T){O.equal(T.length,8,"Invalid IV length"),this.iv=new Array(8);for(var w=0;w<this.iv.length;w++)this.iv[w]=T[w]}I.instantiate=function y(T){function w(v){T.call(this,v),this._cbcInit()}$(w,T);for(var x=Object.keys(U),R=0;R<x.length;R++){var k=x[R];w.prototype[k]=U[k]}return w.create=function(N){return new w(N)},w},U._cbcInit=function(){var w=new K(this.options.iv);this._cbcState=w},U._update=function(w,x,R,k){var N=this.constructor.super_.prototype,M=this._cbcState.iv;if("encrypt"===this.type){for(var P=0;P<this.blockSize;P++)M[P]^=w[x+P];for(N._update.call(this,M,0,R,k),P=0;P<this.blockSize;P++)M[P]=R[k+P]}else{for(N._update.call(this,w,x,R,k),P=0;P<this.blockSize;P++)R[k+P]^=M[P];for(P=0;P<this.blockSize;P++)M[P]=w[x+P]}}},10219:(ye,I,A)=>{"use strict";var O=A(39210);function $(U){this.options=U,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==U.padding}ye.exports=$,$.prototype._init=function(){},$.prototype.update=function(K){return 0===K.length?[]:"decrypt"===this.type?this._updateDecrypt(K):this._updateEncrypt(K)},$.prototype._buffer=function(K,y){for(var T=Math.min(this.buffer.length-this.bufferOff,K.length-y),w=0;w<T;w++)this.buffer[this.bufferOff+w]=K[y+w];return this.bufferOff+=T,T},$.prototype._flushBuffer=function(K,y){return this._update(this.buffer,0,K,y),this.bufferOff=0,this.blockSize},$.prototype._updateEncrypt=function(K){var y=0,T=0,x=new Array(((this.bufferOff+K.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(y+=this._buffer(K,y),this.bufferOff===this.buffer.length&&(T+=this._flushBuffer(x,T)));for(var R=K.length-(K.length-y)%this.blockSize;y<R;y+=this.blockSize)this._update(K,y,x,T),T+=this.blockSize;for(;y<K.length;y++,this.bufferOff++)this.buffer[this.bufferOff]=K[y];return x},$.prototype._updateDecrypt=function(K){for(var y=0,T=0,w=Math.ceil((this.bufferOff+K.length)/this.blockSize)-1,x=new Array(w*this.blockSize);w>0;w--)y+=this._buffer(K,y),T+=this._flushBuffer(x,T);return y+=this._buffer(K,y),x},$.prototype.final=function(K){var y,T;return K&&(y=this.update(K)),T="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),y?y.concat(T):T},$.prototype._pad=function(K,y){if(0===y)return!1;for(;y<K.length;)K[y++]=0;return!0},$.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var K=new Array(this.blockSize);return this._update(this.buffer,0,K,0),K},$.prototype._unpad=function(K){return K},$.prototype._finalDecrypt=function(){O.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var K=new Array(this.blockSize);return this._flushBuffer(K,0),this._unpad(K)}},64166:(ye,I,A)=>{"use strict";var O=A(39210),$=A(71993),U=A(85671),K=A(10219);function y(){this.tmp=new Array(2),this.keys=null}function T(x){K.call(this,x);var R=new y;this._desState=R,this.deriveKeys(R,x.key)}$(T,K),ye.exports=T,T.create=function(R){return new T(R)};var w=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];T.prototype.deriveKeys=function(R,k){R.keys=new Array(32),O.equal(k.length,this.blockSize,"Invalid key length");var v=U.readUInt32BE(k,0),N=U.readUInt32BE(k,4);U.pc1(v,N,R.tmp,0),v=R.tmp[0],N=R.tmp[1];for(var M=0;M<R.keys.length;M+=2){var P=w[M>>>1];v=U.r28shl(v,P),N=U.r28shl(N,P),U.pc2(v,N,R.keys,M)}},T.prototype._update=function(R,k,v,N){var M=this._desState,P=U.readUInt32BE(R,k),L=U.readUInt32BE(R,k+4);U.ip(P,L,M.tmp,0),P=M.tmp[0],L=M.tmp[1],"encrypt"===this.type?this._encrypt(M,P,L,M.tmp,0):this._decrypt(M,P,L,M.tmp,0),L=M.tmp[1],U.writeUInt32BE(v,P=M.tmp[0],N),U.writeUInt32BE(v,L,N+4)},T.prototype._pad=function(R,k){if(!1===this.padding)return!1;for(var v=R.length-k,N=k;N<R.length;N++)R[N]=v;return!0},T.prototype._unpad=function(R){if(!1===this.padding)return R;for(var k=R[R.length-1],v=R.length-k;v<R.length;v++)O.equal(R[v],k);return R.slice(0,R.length-k)},T.prototype._encrypt=function(R,k,v,N,M){for(var P=k,L=v,G=0;G<R.keys.length;G+=2){var B=R.keys[G],q=R.keys[G+1];U.expand(L,R.tmp,0);var X=U.substitute(B^=R.tmp[0],q^=R.tmp[1]),te=L;L=(P^U.permute(X))>>>0,P=te}U.rip(L,P,N,M)},T.prototype._decrypt=function(R,k,v,N,M){for(var P=v,L=k,G=R.keys.length-2;G>=0;G-=2){var B=R.keys[G],q=R.keys[G+1];U.expand(P,R.tmp,0);var X=U.substitute(B^=R.tmp[0],q^=R.tmp[1]),te=P;P=(L^U.permute(X))>>>0,L=te}U.rip(P,L,N,M)}},62122:(ye,I,A)=>{"use strict";var O=A(39210),$=A(71993),U=A(10219),K=A(64166);function y(w,x){O.equal(x.length,24,"Invalid key length");var R=x.slice(0,8),k=x.slice(8,16),v=x.slice(16,24);this.ciphers="encrypt"===w?[K.create({type:"encrypt",key:R}),K.create({type:"decrypt",key:k}),K.create({type:"encrypt",key:v})]:[K.create({type:"decrypt",key:v}),K.create({type:"encrypt",key:k}),K.create({type:"decrypt",key:R})]}function T(w){U.call(this,w);var x=new y(this.type,this.options.key);this._edeState=x}$(T,U),ye.exports=T,T.create=function(x){return new T(x)},T.prototype._update=function(x,R,k,v){var N=this._edeState;N.ciphers[0]._update(x,R,k,v),N.ciphers[1]._update(k,v,k,v),N.ciphers[2]._update(k,v,k,v)},T.prototype._pad=K.prototype._pad,T.prototype._unpad=K.prototype._unpad},85671:(ye,I)=>{"use strict";I.readUInt32BE=function(K,y){return(K[0+y]<<24|K[1+y]<<16|K[2+y]<<8|K[3+y])>>>0},I.writeUInt32BE=function(K,y,T){K[0+T]=y>>>24,K[1+T]=y>>>16&255,K[2+T]=y>>>8&255,K[3+T]=255&y},I.ip=function(K,y,T,w){for(var x=0,R=0,k=6;k>=0;k-=2){for(var v=0;v<=24;v+=8)x<<=1,x|=y>>>v+k&1;for(v=0;v<=24;v+=8)x<<=1,x|=K>>>v+k&1}for(k=6;k>=0;k-=2){for(v=1;v<=25;v+=8)R<<=1,R|=y>>>v+k&1;for(v=1;v<=25;v+=8)R<<=1,R|=K>>>v+k&1}T[w+0]=x>>>0,T[w+1]=R>>>0},I.rip=function(K,y,T,w){for(var x=0,R=0,k=0;k<4;k++)for(var v=24;v>=0;v-=8)x<<=1,x|=y>>>v+k&1,x<<=1,x|=K>>>v+k&1;for(k=4;k<8;k++)for(v=24;v>=0;v-=8)R<<=1,R|=y>>>v+k&1,R<<=1,R|=K>>>v+k&1;T[w+0]=x>>>0,T[w+1]=R>>>0},I.pc1=function(K,y,T,w){for(var x=0,R=0,k=7;k>=5;k--){for(var v=0;v<=24;v+=8)x<<=1,x|=y>>v+k&1;for(v=0;v<=24;v+=8)x<<=1,x|=K>>v+k&1}for(v=0;v<=24;v+=8)x<<=1,x|=y>>v+k&1;for(k=1;k<=3;k++){for(v=0;v<=24;v+=8)R<<=1,R|=y>>v+k&1;for(v=0;v<=24;v+=8)R<<=1,R|=K>>v+k&1}for(v=0;v<=24;v+=8)R<<=1,R|=K>>v+k&1;T[w+0]=x>>>0,T[w+1]=R>>>0},I.r28shl=function(K,y){return K<<y&268435455|K>>>28-y};var A=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];I.pc2=function(K,y,T,w){for(var x=0,R=0,k=A.length>>>1,v=0;v<k;v++)x<<=1,x|=K>>>A[v]&1;for(v=k;v<A.length;v++)R<<=1,R|=y>>>A[v]&1;T[w+0]=x>>>0,T[w+1]=R>>>0},I.expand=function(K,y,T){var w=0,x=0;w=(1&K)<<5|K>>>27;for(var R=23;R>=15;R-=4)w<<=6,w|=K>>>R&63;for(R=11;R>=3;R-=4)x|=K>>>R&63,x<<=6;x|=(31&K)<<1|K>>>31,y[T+0]=w>>>0,y[T+1]=x>>>0};var O=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];I.substitute=function(K,y){for(var T=0,w=0;w<4;w++)T<<=4,T|=O[64*w+(K>>>18-6*w&63)];for(w=0;w<4;w++)T<<=4,T|=O[256+64*w+(y>>>18-6*w&63)];return T>>>0};var $=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];I.permute=function(K){for(var y=0,T=0;T<$.length;T++)y<<=1,y|=K>>>$[T]&1;return y>>>0},I.padSplit=function(K,y,T){for(var w=K.toString(2);w.length<y;)w="0"+w;for(var x=[],R=0;R<y;R+=T)x.push(w.slice(R,R+T));return x.join(" ")}},4377:(ye,I,A)=>{var O=A(12727),$=A(23241),U=A(94593),y={binary:!0,hex:!0,base64:!0};I.DiffieHellmanGroup=I.createDiffieHellmanGroup=I.getDiffieHellman=function K(w){var x=new Buffer($[w].prime,"hex"),R=new Buffer($[w].gen,"hex");return new U(x,R)},I.createDiffieHellman=I.DiffieHellman=function T(w,x,R,k){return Buffer.isBuffer(x)||void 0===y[x]?T(w,"binary",x,R):(x=x||"binary",k=k||"binary",R=R||new Buffer([2]),Buffer.isBuffer(R)||(R=new Buffer(R,k)),"number"==typeof w?new U(O(w,R),R,!0):(Buffer.isBuffer(w)||(w=new Buffer(w,x)),new U(w,R,!0)))}},94593:(ye,I,A)=>{var O=A(38280),U=new(A(53459)),K=new O(24),y=new O(11),T=new O(10),w=new O(3),x=new O(7),R=A(12727),k=A(3342);function v(B,q){return q=q||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,q)),this._pub=new O(B),this}function N(B,q){return q=q||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,q)),this._priv=new O(B),this}ye.exports=L;var M={};function L(B,q,X){this.setGenerator(q),this.__prime=new O(B),this._prime=O.mont(this.__prime),this._primeLen=B.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,X?(this.setPublicKey=v,this.setPrivateKey=N):this._primeCode=8}function G(B,q){var X=new Buffer(B.toArray());return q?X.toString(q):X}Object.defineProperty(L.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function P(B,q){var X=q.toString("hex"),Q=[X,B.toString(16)].join("_");if(Q in M)return M[Q];var ie,te=0;if(B.isEven()||!R.simpleSieve||!R.fermatTest(B)||!U.test(B))return te+=1,M[Q]=te+="02"===X||"05"===X?8:4,te;switch(U.test(B.shrn(1))||(te+=2),X){case"02":B.mod(K).cmp(y)&&(te+=8);break;case"05":(ie=B.mod(T)).cmp(w)&&ie.cmp(x)&&(te+=8);break;default:te+=4}return M[Q]=te,te}(this.__prime,this.__gen)),this._primeCode}}),L.prototype.generateKeys=function(){return this._priv||(this._priv=new O(k(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},L.prototype.computeSecret=function(B){var q=(B=(B=new O(B)).toRed(this._prime)).redPow(this._priv).fromRed(),X=new Buffer(q.toArray()),Q=this.getPrime();if(X.length<Q.length){var te=new Buffer(Q.length-X.length);te.fill(0),X=Buffer.concat([te,X])}return X},L.prototype.getPublicKey=function(q){return G(this._pub,q)},L.prototype.getPrivateKey=function(q){return G(this._priv,q)},L.prototype.getPrime=function(B){return G(this.__prime,B)},L.prototype.getGenerator=function(B){return G(this._gen,B)},L.prototype.setGenerator=function(B,q){return q=q||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,q)),this.__gen=B,this._gen=new O(B),this}},12727:(ye,I,A)=>{var O=A(3342);ye.exports=te,te.simpleSieve=X,te.fermatTest=Q;var $=A(38280),U=new $(24),y=new(A(53459)),T=new $(1),w=new $(2),x=new $(5),v=(new $(16),new $(8),new $(10)),N=new $(3),P=(new $(7),new $(11)),L=new $(4),B=(new $(12),null);function X(ie){for(var ae=function q(){if(null!==B)return B;var ae=[];ae[0]=2;for(var me=1,ge=3;ge<1048576;ge+=2){for(var de=Math.ceil(Math.sqrt(ge)),z=0;z<me&&ae[z]<=de&&ge%ae[z]!=0;z++);me!==z&&ae[z]<=de||(ae[me++]=ge)}return B=ae,ae}(),me=0;me<ae.length;me++)if(0===ie.modn(ae[me]))return 0===ie.cmpn(ae[me]);return!0}function Q(ie){var ae=$.mont(ie);return 0===w.toRed(ae).redPow(ie.subn(1)).fromRed().cmpn(1)}function te(ie,ae){if(ie<16)return new $(2===ae||5===ae?[140,123]:[140,39]);ae=new $(ae);for(var me,ge;;){for(me=new $(O(Math.ceil(ie/8)));me.bitLength()>ie;)me.ishrn(1);if(me.isEven()&&me.iadd(T),me.testn(1)||me.iadd(w),ae.cmp(w)){if(!ae.cmp(x))for(;me.mod(v).cmp(N);)me.iadd(L)}else for(;me.mod(U).cmp(P);)me.iadd(L);if(X(ge=me.shrn(1))&&X(me)&&Q(ge)&&Q(me)&&y.test(ge)&&y.test(me))return me}}},38280:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(66089).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},48967:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ephemeralKeySize=I.symmetricNonceLength=I.symmetricAlgorithm=I.isHkdfKeyCompressed=I.isEphemeralKeyCompressed=I.ellipticCurve=I.ECIES_CONFIG=void 0;var O=A(29277);I.ECIES_CONFIG=new(function(){return function R(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),I.ellipticCurve=function(){return I.ECIES_CONFIG.ellipticCurve},I.isEphemeralKeyCompressed=function(){return I.ECIES_CONFIG.isEphemeralKeyCompressed},I.isHkdfKeyCompressed=function(){return I.ECIES_CONFIG.isHkdfKeyCompressed},I.symmetricAlgorithm=function(){return I.ECIES_CONFIG.symmetricAlgorithm},I.symmetricNonceLength=function(){return I.ECIES_CONFIG.symmetricNonceLength},I.ephemeralKeySize=function(){var R={secp256k1:I.ECIES_CONFIG.isEphemeralKeyCompressed?O.COMPRESSED_PUBLIC_KEY_SIZE:O.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:O.CURVE25519_PUBLIC_KEY_SIZE,ed25519:O.CURVE25519_PUBLIC_KEY_SIZE};if(I.ECIES_CONFIG.ellipticCurve in R)return R[I.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.AEAD_TAG_LENGTH=I.XCHACHA20_NONCE_LENGTH=I.CURVE25519_PUBLIC_KEY_SIZE=I.ETH_PUBLIC_KEY_SIZE=I.UNCOMPRESSED_PUBLIC_KEY_SIZE=I.COMPRESSED_PUBLIC_KEY_SIZE=I.SECRET_KEY_LENGTH=void 0,I.SECRET_KEY_LENGTH=32,I.COMPRESSED_PUBLIC_KEY_SIZE=33,I.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,I.ETH_PUBLIC_KEY_SIZE=64,I.CURVE25519_PUBLIC_KEY_SIZE=32,I.XCHACHA20_NONCE_LENGTH=24,I.AEAD_TAG_LENGTH=16},63397:(ye,I,A)=>{"use strict";I.VV=I.Yc=I.w=void 0;var $=A(23790),U=A(48967),K=A(40774),y=A(77399);I.w=function T(k,v){var G,N=new K.PrivateKey,M=k instanceof Uint8Array?new K.PublicKey(k):K.PublicKey.fromHex(k),P=N.encapsulate(M),L=(0,y.aesEncrypt)(P,v);return G=(0,U.isEphemeralKeyCompressed)()?N.publicKey.compressed:N.publicKey.uncompressed,Buffer.from((0,$.concatBytes)(G,L))},I.Yc=function w(k,v){var N=k instanceof Uint8Array?new K.PrivateKey(k):K.PrivateKey.fromHex(k),M=(0,U.ephemeralKeySize)(),P=new K.PublicKey(v.subarray(0,M)),L=v.subarray(M),G=P.decapsulate(N);return Buffer.from((0,y.aesDecrypt)(G,L))};var x=A(48967);Object.defineProperty(I,"VV",{enumerable:!0,get:function(){return x.ECIES_CONFIG}});A(40774)},1210:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PrivateKey=void 0;var O=A(23790),$=A(48967),U=A(77399),K=A(40762),y=function(){function T(w){var x=void 0===w?(0,U.getValidSecret)():w;if(!(0,U.isValidPrivateKey)(x))throw new Error("Invalid private key");this.data=x,this.publicKey=new K.PublicKey((0,U.getPublicKey)(x))}return T.fromHex=function(w){return new T((0,U.decodeHex)(w))},Object.defineProperty(T.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),T.prototype.toHex=function(){return(0,O.bytesToHex)(this.data)},T.prototype.encapsulate=function(w){var x,R;return(0,$.isHkdfKeyCompressed)()?(x=this.publicKey.compressed,R=this.multiply(w,!0)):(x=this.publicKey.uncompressed,R=this.multiply(w,!1)),(0,U.getSharedKey)(x,R)},T.prototype.multiply=function(w,x){return void 0===x&&(x=!1),(0,U.getSharedPoint)(this.data,w.compressed,x)},T.prototype.equals=function(w){return(0,O.equalBytes)(this.data,w.data)},T}();I.PrivateKey=y},40762:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PublicKey=void 0;var O=A(23790),$=A(48967),U=A(77399),K=function(){function y(T){this.data=(0,U.convertPublicKeyFormat)(T,!0)}return y.fromHex=function(T){return new y((0,U.hexToPublicKey)(T))},Object.defineProperty(y.prototype,"uncompressed",{get:function(){return Buffer.from((0,U.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),y.prototype.toHex=function(T){return void 0===T&&(T=!0),(0,O.bytesToHex)(T?this.data:this.uncompressed)},y.prototype.decapsulate=function(T){var w,x;return(0,$.isHkdfKeyCompressed)()?(w=this.data,x=T.multiply(this,!0)):(w=this.uncompressed,x=T.multiply(this,!1)),(0,U.getSharedKey)(w,x)},y.prototype.equals=function(T){return(0,O.equalBytes)(this.data,T.data)},y}();I.PublicKey=K},40774:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PublicKey=I.PrivateKey=void 0;var O=A(1210);Object.defineProperty(I,"PrivateKey",{enumerable:!0,get:function(){return O.PrivateKey}});var $=A(40762);Object.defineProperty(I,"PublicKey",{enumerable:!0,get:function(){return $.PublicKey}})},1849:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.aes256gcm=void 0;var O=A(23790),$=A(91426),U=A(29277);I.aes256gcm=function K(y,T,w){return{tagLength:U.AEAD_TAG_LENGTH,encrypt:function(k){var v=(0,$.createCipheriv)("aes-256-gcm",y,T);w&&v.setAAD(w);var N=v.update(k),M=v.final();return(0,O.concatBytes)(N,M,v.getAuthTag())},decrypt:function(k){var v=k.subarray(0,k.length-U.AEAD_TAG_LENGTH),N=k.subarray(-U.AEAD_TAG_LENGTH),M=(0,$.createDecipheriv)("aes-256-gcm",y,T);w&&M.setAAD(w),M.setAuthTag(N);var P=M.update(v),L=M.final();return(0,O.concatBytes)(P,L)}}}},77553:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.hexToPublicKey=I.convertPublicKeyFormat=I.getSharedPoint=I.getSharedKey=I.getPublicKey=I.isValidPrivateKey=I.getValidSecret=void 0;var O=A(23790),$=A(42098),U=A(57340),K=A(91717),y=A(48967),T=A(29277),w=A(99666),x=A(63364);function k(B){return G(function(q){return q.utils.isValidPrivateKey(B)},function(){return!0},function(){return!0})}function G(B,q,X){if("secp256k1"===(0,y.ellipticCurve)())return B(K.secp256k1);if("x25519"===(0,y.ellipticCurve)())return q(U.x25519);if("ed25519"===(0,y.ellipticCurve)())return X(U.ed25519);throw new Error("Not implemented")}I.getValidSecret=function R(){var B;do{B=(0,$.randomBytes)(T.SECRET_KEY_LENGTH)}while(!k(B));return B},I.isValidPrivateKey=k,I.getPublicKey=function v(B){return G(function(q){return q.getPublicKey(B)},function(q){return q.getPublicKey(B)},function(q){return q.getPublicKey(B)})},I.getSharedKey=function N(B,q){return(0,x.deriveKey)((0,O.concatBytes)(B,q))},I.getSharedPoint=function M(B,q,X){return G(function(Q){return Q.getSharedSecret(B,q,X)},function(Q){return Q.getSharedSecret(B,q)},function(Q){var te=Q.utils.getExtendedPublicKey(B).scalar;return Q.ExtendedPoint.fromHex(q).multiply(te).toRawBytes()})},I.convertPublicKeyFormat=function P(B,q){return G(function(X){return X.getSharedSecret(BigInt(1),B,q)},function(){return B},function(){return B})},I.hexToPublicKey=function L(B){var q=(0,w.decodeHex)(B);return G(function(){if(q.length===T.ETH_PUBLIC_KEY_SIZE){var X=new Uint8Array(1+q.length);return X.set([4]),X.set(q,1),X}return q},function(){return q},function(){return q})}},99666:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.decodeHex=I.remove0x=void 0;var O=A(23790);function $(K){return K.startsWith("0x")||K.startsWith("0X")?K.slice(2):K}I.remove0x=$,I.decodeHex=function U(K){return(0,O.hexToBytes)($(K))}},77399:function(ye,I,A){"use strict";var O=this&&this.__createBinding||(Object.create?function(U,K,y,T){void 0===T&&(T=y);var w=Object.getOwnPropertyDescriptor(K,y);(!w||("get"in w?!K.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return K[y]}}),Object.defineProperty(U,T,w)}:function(U,K,y,T){void 0===T&&(T=y),U[T]=K[y]}),$=this&&this.__exportStar||function(U,K){for(var y in U)"default"!==y&&!Object.prototype.hasOwnProperty.call(K,y)&&O(K,U,y)};Object.defineProperty(I,"__esModule",{value:!0}),$(A(77553),I),$(A(99666),I),$(A(63364),I)},63364:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.deriveKey=I.aesDecrypt=I.aesEncrypt=void 0;var O=A(59219),$=A(23790),U=A(42098),K=A(57334),y=A(1806),T=A(48967),w=A(29277),x=A(1849);function N(L,G,B){var q=(0,T.symmetricAlgorithm)(),X=L?M:P;if("aes-256-gcm"===q)return X(x.aes256gcm,G,B,(0,T.symmetricNonceLength)());if("xchacha20"===q)return X(O.xchacha20poly1305,G,B,w.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function M(L,G,B,q){var X=(0,U.randomBytes)(q),te=L(G,X).encrypt(B),ie=te.subarray(0,te.length-w.AEAD_TAG_LENGTH),ae=te.subarray(-w.AEAD_TAG_LENGTH);return(0,$.concatBytes)(X,ae,ie)}function P(L,G,B,q){var X=q+w.AEAD_TAG_LENGTH,Q=B.subarray(0,q),te=B.subarray(q,X),ie=B.subarray(X),ae=L(G,Uint8Array.from(Q)),me=(0,$.concatBytes)(ie,te);return ae.decrypt(me)}I.aesEncrypt=function R(L,G){return N(!0,L,G)},I.aesDecrypt=function k(L,G){return N(!1,L,G)},I.deriveKey=function v(L){return(0,K.hkdf)(y.sha256,L,void 0,void 0,32)}},10475:(ye,I)=>{"use strict";function A(w){if(!Number.isSafeInteger(w)||w<0)throw new Error(`Wrong positive integer: ${w}`)}function O(w){if("boolean"!=typeof w)throw new Error(`Expected boolean, not ${w}`)}function $(w,...x){if(!(w instanceof Uint8Array))throw new Error("Expected Uint8Array");if(x.length>0&&!x.includes(w.length))throw new Error(`Expected Uint8Array of length ${x}, not of length=${w.length}`)}function U(w){if("function"!=typeof w||"function"!=typeof w.create)throw new Error("hash must be wrapped by utils.wrapConstructor");A(w.outputLen),A(w.blockLen)}function K(w,x=!0){if(w.destroyed)throw new Error("Hash instance has been destroyed");if(x&&w.finished)throw new Error("Hash#digest() has already been called")}function y(w,x){$(w);const R=x.outputLen;if(w.length<R)throw new Error(`digestInto() expects output buffer of length at least ${R}`)}Object.defineProperty(I,"__esModule",{value:!0}),I.output=I.exists=I.hash=I.bytes=I.bool=I.number=void 0,I.number=A,I.bool=O,I.bytes=$,I.hash=U,I.exists=K,I.output=y,I.default={number:A,bool:O,bytes:$,hash:U,exists:K,output:y}},17035:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.poly1305=I.wrapConstructorWithKey=void 0;const O=A(23790),$=A(10475),U=(T,w)=>255&T[w++]|(255&T[w++])<<8;class K{constructor(w){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,w=(0,O.toBytes)(w),(0,O.ensureBytes)(w,32);const x=U(w,0),R=U(w,2),k=U(w,4),v=U(w,6),N=U(w,8),M=U(w,10),P=U(w,12),L=U(w,14);this.r[0]=8191&x,this.r[1]=8191&(x>>>13|R<<3),this.r[2]=7939&(R>>>10|k<<6),this.r[3]=8191&(k>>>7|v<<9),this.r[4]=255&(v>>>4|N<<12),this.r[5]=N>>>1&8190,this.r[6]=8191&(N>>>14|M<<2),this.r[7]=8065&(M>>>11|P<<5),this.r[8]=8191&(P>>>8|L<<8),this.r[9]=L>>>5&127;for(let G=0;G<8;G++)this.pad[G]=U(w,16+2*G)}process(w,x,R=!1){const k=R?0:2048,{h:v,r:N}=this,M=N[0],P=N[1],L=N[2],G=N[3],B=N[4],q=N[5],X=N[6],Q=N[7],te=N[8],ie=N[9],ae=U(w,x+0),me=U(w,x+2),ge=U(w,x+4),de=U(w,x+6),z=U(w,x+8),d=U(w,x+10),f=U(w,x+12),b=U(w,x+14);let C=v[0]+(8191&ae),D=v[1]+(8191&(ae>>>13|me<<3)),V=v[2]+(8191&(me>>>10|ge<<6)),Y=v[3]+(8191&(ge>>>7|de<<9)),F=v[4]+(8191&(de>>>4|z<<12)),h=v[5]+(z>>>1&8191),g=v[6]+(8191&(z>>>14|d<<2)),J=v[7]+(8191&(d>>>11|f<<5)),ee=v[8]+(8191&(f>>>8|b<<8)),re=v[9]+(b>>>5|k),fe=0,Ae=fe+C*M+D*(5*ie)+V*(5*te)+Y*(5*Q)+F*(5*X);fe=Ae>>>13,Ae&=8191,Ae+=h*(5*q)+g*(5*B)+J*(5*G)+ee*(5*L)+re*(5*P),fe+=Ae>>>13,Ae&=8191;let Me=fe+C*P+D*M+V*(5*ie)+Y*(5*te)+F*(5*Q);fe=Me>>>13,Me&=8191,Me+=h*(5*X)+g*(5*q)+J*(5*B)+ee*(5*G)+re*(5*L),fe+=Me>>>13,Me&=8191;let Le=fe+C*L+D*P+V*M+Y*(5*ie)+F*(5*te);fe=Le>>>13,Le&=8191,Le+=h*(5*Q)+g*(5*X)+J*(5*q)+ee*(5*B)+re*(5*G),fe+=Le>>>13,Le&=8191;let Ee=fe+C*G+D*L+V*P+Y*M+F*(5*ie);fe=Ee>>>13,Ee&=8191,Ee+=h*(5*te)+g*(5*Q)+J*(5*X)+ee*(5*q)+re*(5*B),fe+=Ee>>>13,Ee&=8191;let Se=fe+C*B+D*G+V*L+Y*P+F*M;fe=Se>>>13,Se&=8191,Se+=h*(5*ie)+g*(5*te)+J*(5*Q)+ee*(5*X)+re*(5*q),fe+=Se>>>13,Se&=8191;let He=fe+C*q+D*B+V*G+Y*L+F*P;fe=He>>>13,He&=8191,He+=h*M+g*(5*ie)+J*(5*te)+ee*(5*Q)+re*(5*X),fe+=He>>>13,He&=8191;let Te=fe+C*X+D*q+V*B+Y*G+F*L;fe=Te>>>13,Te&=8191,Te+=h*P+g*M+J*(5*ie)+ee*(5*te)+re*(5*Q),fe+=Te>>>13,Te&=8191;let u=fe+C*Q+D*X+V*q+Y*B+F*G;fe=u>>>13,u&=8191,u+=h*L+g*P+J*M+ee*(5*ie)+re*(5*te),fe+=u>>>13,u&=8191;let xe=fe+C*te+D*Q+V*X+Y*q+F*B;fe=xe>>>13,xe&=8191,xe+=h*G+g*L+J*P+ee*M+re*(5*ie),fe+=xe>>>13,xe&=8191;let be=fe+C*ie+D*te+V*Q+Y*X+F*q;fe=be>>>13,be&=8191,be+=h*B+g*G+J*L+ee*P+re*M,fe+=be>>>13,be&=8191,fe=(fe<<2)+fe|0,fe=fe+Ae|0,Ae=8191&fe,fe>>>=13,Me+=fe,v[0]=Ae,v[1]=Me,v[2]=Le,v[3]=Ee,v[4]=Se,v[5]=He,v[6]=Te,v[7]=u,v[8]=xe,v[9]=be}finalize(){const{h:w,pad:x}=this,R=new Uint16Array(10);let k=w[1]>>>13;w[1]&=8191;for(let M=2;M<10;M++)w[M]+=k,k=w[M]>>>13,w[M]&=8191;w[0]+=5*k,k=w[0]>>>13,w[0]&=8191,w[1]+=k,k=w[1]>>>13,w[1]&=8191,w[2]+=k,R[0]=w[0]+5,k=R[0]>>>13,R[0]&=8191;for(let M=1;M<10;M++)R[M]=w[M]+k,k=R[M]>>>13,R[M]&=8191;R[9]-=8192;let v=(1^k)-1;for(let M=0;M<10;M++)R[M]&=v;v=~v;for(let M=0;M<10;M++)w[M]=w[M]&v|R[M];w[0]=65535&(w[0]|w[1]<<13),w[1]=65535&(w[1]>>>3|w[2]<<10),w[2]=65535&(w[2]>>>6|w[3]<<7),w[3]=65535&(w[3]>>>9|w[4]<<4),w[4]=65535&(w[4]>>>12|w[5]<<1|w[6]<<14),w[5]=65535&(w[6]>>>2|w[7]<<11),w[6]=65535&(w[7]>>>5|w[8]<<8),w[7]=65535&(w[8]>>>8|w[9]<<5);let N=w[0]+x[0];w[0]=65535&N;for(let M=1;M<8;M++)N=(w[M]+x[M]|0)+(N>>>16)|0,w[M]=65535&N}update(w){$.default.exists(this);const{buffer:x,blockLen:R}=this,k=(w=(0,O.toBytes)(w)).length;for(let v=0;v<k;){const N=Math.min(R-this.pos,k-v);if(N!==R)x.set(w.subarray(v,v+N),this.pos),this.pos+=N,v+=N,this.pos===R&&(this.process(x,0,!1),this.pos=0);else for(;R<=k-v;v+=R)this.process(w,v)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(w){$.default.exists(this),$.default.output(w,this),this.finished=!0;const{buffer:x,h:R}=this;let{pos:k}=this;if(k){for(x[k++]=1;k<16;k++)x[k]=0;this.process(x,0,!0)}this.finalize();let v=0;for(let N=0;N<8;N++)w[v++]=R[N]>>>0,w[v++]=R[N]>>>8;return w}digest(){const{buffer:w,outputLen:x}=this;this.digestInto(w);const R=w.slice(0,x);return this.destroy(),R}}function y(T){const w=(R,k)=>T(k).update((0,O.toBytes)(R)).digest(),x=T(new Uint8Array(32));return w.outputLen=x.outputLen,w.blockLen=x.blockLen,w.create=R=>T(R),w}I.wrapConstructorWithKey=y,I.poly1305=y(T=>new K(T))},70580:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.salsaBasic=void 0;const O=A(10475),$=A(23790),U=(0,$.utf8ToBytes)("expand 16-byte k"),K=(0,$.utf8ToBytes)("expand 32-byte k"),y=(0,$.u32)(U),T=(0,$.u32)(K),w=R=>!(R.byteOffset%4);I.salsaBasic=R=>{const{core:k,rounds:v,counterRight:N,counterLen:M,allow128bitKeys:P,extendNonceFn:L,blockLen:G}=(0,$.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},R);O.default.number(M),O.default.number(v),O.default.number(G),O.default.bool(N),O.default.bool(P);const B=G/4;if(G%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(q,X,Q,te,ie=0)=>{if(O.default.bytes(q),O.default.bytes(X),O.default.bytes(Q),te||(te=new Uint8Array(Q.length)),O.default.bytes(te),O.default.number(ie),ie<0||ie>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(te.length<Q.length)throw new Error(`Salsa/ChaCha: output (${te.length}) is shorter than data (${Q.length})`);const ae=[];let me,ge;if(32===q.length)w(q)?me=q:(me=q.slice(),ae.push(me)),ge=T;else{if(16!==q.length||!P)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${q.length}`);me=new Uint8Array(32),me.set(q),me.set(q,16),ge=y,ae.push(me)}if(w(X)||(X=X.slice(),ae.push(X)),L){if(X.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");me=L(ge,me,X.subarray(0,16),new Uint8Array(32)),ae.push(me),X=X.subarray(16)}const de=16-M;if(X.length!==de)throw new Error(`Salsa/ChaCha: nonce must be ${de} or 16 bytes`);if(12!==de){const Y=new Uint8Array(12);Y.set(X,N?0:12-X.length),ae.push(X=Y)}const z=new Uint8Array(G),d=(0,$.u32)(z),f=(0,$.u32)(me),b=(0,$.u32)(X),C=w(Q)&&(0,$.u32)(Q),D=w(te)&&(0,$.u32)(te);ae.push(d);const V=Q.length;for(let Y=0,F=ie;Y<V;F++){if(k(ge,f,b,d,F,v),F>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const h=Math.min(G,V-Y);if(h===G&&D&&C){const g=Y/4;if(Y%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let J=0;J<B;J++)D[g+J]=C[g+J]^d[J];Y+=G}else{for(let g=0;g<h;g++)te[Y+g]=Q[Y+g]^z[g];Y+=h}}for(let Y=0;Y<ae.length;Y++)ae[Y].fill(0);return te}}},59219:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.xchacha20poly1305=I.chacha20poly1305=I._poly1305_aead=I.chacha12=I.chacha8=I.xchacha20=I.chacha20=I.chacha20orig=I.hchacha=void 0;const O=A(23790),$=A(17035),U=A(70580),K=(v,N)=>v<<N|v>>>32-N;function y(v,N,M,P,L,G=20){let B=v[0],q=v[1],X=v[2],Q=v[3],te=N[0],ie=N[1],ae=N[2],me=N[3],ge=N[4],de=N[5],z=N[6],d=N[7],f=L,b=M[0],C=M[1],D=M[2],V=B,Y=q,F=X,h=Q,g=te,J=ie,ee=ae,re=me,fe=ge,Ae=de,Me=z,Le=d,Ee=f,Se=b,He=C,Te=D;for(let xe=0;xe<G;xe+=2)V=V+g|0,Ee=K(Ee^V,16),fe=fe+Ee|0,g=K(g^fe,12),V=V+g|0,Ee=K(Ee^V,8),fe=fe+Ee|0,g=K(g^fe,7),Y=Y+J|0,Se=K(Se^Y,16),Ae=Ae+Se|0,J=K(J^Ae,12),Y=Y+J|0,Se=K(Se^Y,8),Ae=Ae+Se|0,J=K(J^Ae,7),F=F+ee|0,He=K(He^F,16),Me=Me+He|0,ee=K(ee^Me,12),F=F+ee|0,He=K(He^F,8),Me=Me+He|0,ee=K(ee^Me,7),h=h+re|0,Te=K(Te^h,16),Le=Le+Te|0,re=K(re^Le,12),h=h+re|0,Te=K(Te^h,8),Le=Le+Te|0,re=K(re^Le,7),V=V+J|0,Te=K(Te^V,16),Me=Me+Te|0,J=K(J^Me,12),V=V+J|0,Te=K(Te^V,8),Me=Me+Te|0,J=K(J^Me,7),Y=Y+ee|0,Ee=K(Ee^Y,16),Le=Le+Ee|0,ee=K(ee^Le,12),Y=Y+ee|0,Ee=K(Ee^Y,8),Le=Le+Ee|0,ee=K(ee^Le,7),F=F+re|0,Se=K(Se^F,16),fe=fe+Se|0,re=K(re^fe,12),F=F+re|0,Se=K(Se^F,8),fe=fe+Se|0,re=K(re^fe,7),h=h+g|0,He=K(He^h,16),Ae=Ae+He|0,g=K(g^Ae,12),h=h+g|0,He=K(He^h,8),Ae=Ae+He|0,g=K(g^Ae,7);let u=0;P[u++]=B+V|0,P[u++]=q+Y|0,P[u++]=X+F|0,P[u++]=Q+h|0,P[u++]=te+g|0,P[u++]=ie+J|0,P[u++]=ae+ee|0,P[u++]=me+re|0,P[u++]=ge+fe|0,P[u++]=de+Ae|0,P[u++]=z+Me|0,P[u++]=d+Le|0,P[u++]=f+Ee|0,P[u++]=b+Se|0,P[u++]=C+He|0,P[u++]=D+Te|0}function T(v,N,M,P){const L=(0,O.u32)(N),G=(0,O.u32)(M),B=(0,O.u32)(P);let q=v[0],X=v[1],Q=v[2],te=v[3],ie=L[0],ae=L[1],me=L[2],ge=L[3],de=L[4],z=L[5],d=L[6],f=L[7],b=G[0],C=G[1],D=G[2],V=G[3];for(let Y=0;Y<20;Y+=2)q=q+ie|0,b=K(b^q,16),de=de+b|0,ie=K(ie^de,12),q=q+ie|0,b=K(b^q,8),de=de+b|0,ie=K(ie^de,7),X=X+ae|0,C=K(C^X,16),z=z+C|0,ae=K(ae^z,12),X=X+ae|0,C=K(C^X,8),z=z+C|0,ae=K(ae^z,7),Q=Q+me|0,D=K(D^Q,16),d=d+D|0,me=K(me^d,12),Q=Q+me|0,D=K(D^Q,8),d=d+D|0,me=K(me^d,7),te=te+ge|0,V=K(V^te,16),f=f+V|0,ge=K(ge^f,12),te=te+ge|0,V=K(V^te,8),f=f+V|0,ge=K(ge^f,7),q=q+ae|0,V=K(V^q,16),d=d+V|0,ae=K(ae^d,12),q=q+ae|0,V=K(V^q,8),d=d+V|0,ae=K(ae^d,7),X=X+me|0,b=K(b^X,16),f=f+b|0,me=K(me^f,12),X=X+me|0,b=K(b^X,8),f=f+b|0,me=K(me^f,7),Q=Q+ge|0,C=K(C^Q,16),de=de+C|0,ge=K(ge^de,12),Q=Q+ge|0,C=K(C^Q,8),de=de+C|0,ge=K(ge^de,7),te=te+ie|0,D=K(D^te,16),z=z+D|0,ie=K(ie^z,12),te=te+ie|0,D=K(D^te,8),z=z+D|0,ie=K(ie^z,7);return B[0]=q,B[1]=X,B[2]=Q,B[3]=te,B[4]=b,B[5]=C,B[6]=D,B[7]=V,P}I.hchacha=T,I.chacha20orig=(0,U.salsaBasic)({core:y,counterRight:!1,counterLen:8}),I.chacha20=(0,U.salsaBasic)({core:y,counterRight:!1,counterLen:4,allow128bitKeys:!1}),I.xchacha20=(0,U.salsaBasic)({core:y,counterRight:!1,counterLen:8,extendNonceFn:T,allow128bitKeys:!1}),I.chacha8=(0,U.salsaBasic)({core:y,counterRight:!1,counterLen:4,rounds:8}),I.chacha12=(0,U.salsaBasic)({core:y,counterRight:!1,counterLen:4,rounds:12});const w=new Uint8Array(16),x=(v,N)=>{v.update(N);const M=N.length%16;M&&v.update(w.subarray(M))},R=(v,N,M,P,L)=>{const G=v(N,M,new Uint8Array(32)),B=$.poly1305.create(G);L&&x(B,L),x(B,P);const q=new Uint8Array(16),X=(0,O.createView)(q);(0,O.setBigUint64)(X,0,BigInt(L?L.length:0),!0),(0,O.setBigUint64)(X,8,BigInt(P.length),!0),B.update(q);const Q=B.digest();return G.fill(0),Q};I._poly1305_aead=v=>(N,M,P)=>((0,O.ensureBytes)(N,32),(0,O.ensureBytes)(M),{tagLength:16,encrypt:(G,B)=>{const q=G.length,X=q+16;B?(0,O.ensureBytes)(B,X):B=new Uint8Array(X),v(N,M,G,B,1);const Q=R(v,N,M,B.subarray(0,-16),P);return B.set(Q,q),B},decrypt:(G,B)=>{const q=G.length,X=q-16;if(q<16)throw new Error("encrypted data must be at least 16 bytes");B?(0,O.ensureBytes)(B,X):B=new Uint8Array(X);const Q=G.subarray(0,-16),te=G.subarray(-16),ie=R(v,N,M,Q,P);if(!(0,O.equalBytes)(te,ie))throw new Error("invalid tag");return v(N,M,Q,B,1),B}}),I.chacha20poly1305=(0,I._poly1305_aead)(I.chacha20),I.xchacha20poly1305=(0,I._poly1305_aead)(I.xchacha20)},23790:(ye,I,A)=>{"use strict";var O=A(29293).default;Object.defineProperty(I,"__esModule",{value:!0}),I.setBigUint64=I.Hash=I.equalBytes=I.ensureBytes=I.checkOpts=I.concatBytes=I.toBytes=I.bytesToUtf8=I.utf8ToBytes=I.asyncLoop=I.nextTick=I.hexToBytes=I.bytesToHex=I.isLE=I.createView=I.u32=I.u16=I.u8=void 0;const $=ae=>ae instanceof Uint8Array;if(I.u8=ae=>new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength),I.u16=ae=>new Uint16Array(ae.buffer,ae.byteOffset,Math.floor(ae.byteLength/2)),I.u32=ae=>new Uint32Array(ae.buffer,ae.byteOffset,Math.floor(ae.byteLength/4)),I.createView=ae=>new DataView(ae.buffer,ae.byteOffset,ae.byteLength),I.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!I.isLE)throw new Error("Non little-endian hardware is not supported");const w=Array.from({length:256},(ae,me)=>me.toString(16).padStart(2,"0"));function N(){return(N=O(function*(ae,me,ge){let de=Date.now();for(let z=0;z<ae;z++){ge(z);const d=Date.now()-de;d>=0&&d<me||(yield(0,I.nextTick)(),de+=d)}})).apply(this,arguments)}function M(ae){if("string"!=typeof ae)throw new Error("utf8ToBytes expected string, got "+typeof ae);return new Uint8Array((new TextEncoder).encode(ae))}I.bytesToHex=function x(ae){if(!$(ae))throw new Error("Uint8Array expected");let me="";for(let ge=0;ge<ae.length;ge++)me+=w[ae[ge]];return me},I.hexToBytes=function R(ae){if("string"!=typeof ae)throw new Error("hex string expected, got "+typeof ae);const me=ae.length;if(me%2)throw new Error("padded hex string expected, got unpadded hex of length "+me);const ge=new Uint8Array(me/2);for(let de=0;de<ge.length;de++){const z=2*de,d=ae.slice(z,z+2),f=Number.parseInt(d,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");ge[de]=f}return ge},I.nextTick=function(){var ae=O(function*(){});return function(){return ae.apply(this,arguments)}}(),I.asyncLoop=function v(ae,me,ge){return N.apply(this,arguments)},I.utf8ToBytes=M,I.bytesToUtf8=function P(ae){return(new TextDecoder).decode(ae)},I.toBytes=function L(ae){if("string"==typeof ae&&(ae=M(ae)),!$(ae))throw new Error("expected Uint8Array, got "+typeof ae);return ae},I.concatBytes=function G(...ae){const me=new Uint8Array(ae.reduce((de,z)=>de+z.length,0));let ge=0;return ae.forEach(de=>{if(!$(de))throw new Error("Uint8Array expected");me.set(de,ge),ge+=de.length}),me},I.checkOpts=function q(ae,me){if(void 0!==me&&("object"!=typeof me||!(ae=>"[object Object]"===Object.prototype.toString.call(ae)&&ae.constructor===Object)(me)))throw new Error("options must be object or undefined");return Object.assign(ae,me)},I.ensureBytes=function X(ae,me){if(!(ae instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof me&&ae.length!==me)throw new Error(`Uint8Array length ${me} expected`)},I.equalBytes=function Q(ae,me){if(ae.length!==me.length)throw new Error("equalBytes: Different size of Uint8Arrays");let ge=!0;for(let de=0;de<ae.length;de++)ge&&(ge=ae[de]===me[de]);return ge},I.Hash=class te{},I.setBigUint64=function ie(ae,me,ge,de){if("function"==typeof ae.setBigUint64)return ae.setBigUint64(me,ge,de);const z=BigInt(32),d=BigInt(4294967295),f=Number(ge>>z&d),b=Number(ge&d),D=de?0:4;ae.setUint32(me+(de?4:0),f,de),ae.setUint32(me+D,b,de)}},89742:(ye,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.crypto=void 0,I.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(ye,I,A)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getWebcryptoSubtle=I.randomBytes=void 0;const O=A(89742);I.randomBytes=function $(K=32){if(O.crypto&&"function"==typeof O.crypto.getRandomValues)return O.crypto.getRandomValues(new Uint8Array(K));throw new Error("crypto.getRandomValues must be defined")},I.getWebcryptoSubtle=function U(){if(O.crypto&&"object"==typeof O.crypto.subtle&&null!=O.crypto.subtle)return O.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(ye,I,A)=>{"use strict";var O=I;O.version=A(1636).rE,O.utils=A(3136),O.rand=A(35294),O.curve=A(8729),O.curves=A(23401),O.ec=A(29042),O.eddsa=A(83045)},98828:(ye,I,A)=>{"use strict";var O=A(88723),$=A(3136),U=$.getNAF,K=$.getJSF,y=$.assert;function T(x,R){this.type=x,this.p=new O(R.p,16),this.red=R.prime?O.red(R.prime):O.mont(this.p),this.zero=new O(0).toRed(this.red),this.one=new O(1).toRed(this.red),this.two=new O(2).toRed(this.red),this.n=R.n&&new O(R.n,16),this.g=R.g&&this.pointFromJSON(R.g,R.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var k=this.n&&this.p.div(this.n);!k||k.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function w(x,R){this.curve=x,this.type=R,this.precomputed=null}ye.exports=T,T.prototype.point=function(){throw new Error("Not implemented")},T.prototype.validate=function(){throw new Error("Not implemented")},T.prototype._fixedNafMul=function(R,k){y(R.precomputed);var v=R._getDoubles(),N=U(k,1,this._bitLength),M=(1<<v.step+1)-(v.step%2==0?2:1);M/=3;var L,G,P=[];for(L=0;L<N.length;L+=v.step){G=0;for(var B=L+v.step-1;B>=L;B--)G=(G<<1)+N[B];P.push(G)}for(var q=this.jpoint(null,null,null),X=this.jpoint(null,null,null),Q=M;Q>0;Q--){for(L=0;L<P.length;L++)(G=P[L])===Q?X=X.mixedAdd(v.points[L]):G===-Q&&(X=X.mixedAdd(v.points[L].neg()));q=q.add(X)}return q.toP()},T.prototype._wnafMul=function(R,k){for(var v=4,N=R._getNAFPoints(v),M=N.points,P=U(k,v=N.wnd,this._bitLength),L=this.jpoint(null,null,null),G=P.length-1;G>=0;G--){for(var B=0;G>=0&&0===P[G];G--)B++;if(G>=0&&B++,L=L.dblp(B),G<0)break;var q=P[G];y(0!==q),L="affine"===R.type?L.mixedAdd(q>0?M[q-1>>1]:M[-q-1>>1].neg()):L.add(q>0?M[q-1>>1]:M[-q-1>>1].neg())}return"affine"===R.type?L.toP():L},T.prototype._wnafMulAdd=function(R,k,v,N,M){var q,X,Q,P=this._wnafT1,L=this._wnafT2,G=this._wnafT3,B=0;for(q=0;q<N;q++){var te=(Q=k[q])._getNAFPoints(R);P[q]=te.wnd,L[q]=te.points}for(q=N-1;q>=1;q-=2){var ie=q-1,ae=q;if(1===P[ie]&&1===P[ae]){var me=[k[ie],null,null,k[ae]];0===k[ie].y.cmp(k[ae].y)?(me[1]=k[ie].add(k[ae]),me[2]=k[ie].toJ().mixedAdd(k[ae].neg())):0===k[ie].y.cmp(k[ae].y.redNeg())?(me[1]=k[ie].toJ().mixedAdd(k[ae]),me[2]=k[ie].add(k[ae].neg())):(me[1]=k[ie].toJ().mixedAdd(k[ae]),me[2]=k[ie].toJ().mixedAdd(k[ae].neg()));var ge=[-3,-1,-5,-7,0,7,5,1,3],de=K(v[ie],v[ae]);for(B=Math.max(de[0].length,B),G[ie]=new Array(B),G[ae]=new Array(B),X=0;X<B;X++)G[ie][X]=ge[3*(1+(0|de[0][X]))+(1+(0|de[1][X]))],G[ae][X]=0,L[ie]=me}else G[ie]=U(v[ie],P[ie],this._bitLength),G[ae]=U(v[ae],P[ae],this._bitLength),B=Math.max(G[ie].length,B),B=Math.max(G[ae].length,B)}var f=this.jpoint(null,null,null),b=this._wnafT4;for(q=B;q>=0;q--){for(var C=0;q>=0;){var D=!0;for(X=0;X<N;X++)b[X]=0|G[X][q],0!==b[X]&&(D=!1);if(!D)break;C++,q--}if(q>=0&&C++,f=f.dblp(C),q<0)break;for(X=0;X<N;X++){var V=b[X];0!==V&&(V>0?Q=L[X][V-1>>1]:V<0&&(Q=L[X][-V-1>>1].neg()),f="affine"===Q.type?f.mixedAdd(Q):f.add(Q))}}for(q=0;q<N;q++)L[q]=null;return M?f:f.toP()},T.BasePoint=w,w.prototype.eq=function(){throw new Error("Not implemented")},w.prototype.validate=function(){return this.curve.validate(this)},T.prototype.decodePoint=function(R,k){R=$.toArray(R,k);var v=this.p.byteLength();if((4===R[0]||6===R[0]||7===R[0])&&R.length-1==2*v)return 6===R[0]?y(R[R.length-1]%2==0):7===R[0]&&y(R[R.length-1]%2==1),this.point(R.slice(1,1+v),R.slice(1+v,1+2*v));if((2===R[0]||3===R[0])&&R.length-1===v)return this.pointFromX(R.slice(1,1+v),3===R[0]);throw new Error("Unknown point format")},w.prototype.encodeCompressed=function(R){return this.encode(R,!0)},w.prototype._encode=function(R){var k=this.curve.p.byteLength(),v=this.getX().toArray("be",k);return R?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",k))},w.prototype.encode=function(R,k){return $.encode(this._encode(k),R)},w.prototype.precompute=function(R){if(this.precomputed)return this;var k={doubles:null,naf:null,beta:null};return k.naf=this._getNAFPoints(8),k.doubles=this._getDoubles(4,R),k.beta=this._getBeta(),this.precomputed=k,this},w.prototype._hasDoubles=function(R){if(!this.precomputed)return!1;var k=this.precomputed.doubles;return!!k&&k.points.length>=Math.ceil((R.bitLength()+1)/k.step)},w.prototype._getDoubles=function(R,k){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],N=this,M=0;M<k;M+=R){for(var P=0;P<R;P++)N=N.dbl();v.push(N)}return{step:R,points:v}},w.prototype._getNAFPoints=function(R){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var k=[this],v=(1<<R)-1,N=1===v?null:this.dbl(),M=1;M<v;M++)k[M]=k[M-1].add(N);return{wnd:R,points:k}},w.prototype._getBeta=function(){return null},w.prototype.dblp=function(R){for(var k=this,v=0;v<R;v++)k=k.dbl();return k}},55537:(ye,I,A)=>{"use strict";var O=A(3136),$=A(88723),U=A(71993),K=A(98828),y=O.assert;function T(x){this.twisted=1!=(0|x.a),this.mOneA=this.twisted&&-1==(0|x.a),this.extended=this.mOneA,K.call(this,"edwards",x),this.a=new $(x.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new $(x.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new $(x.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),y(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|x.c)}function w(x,R,k,v,N){K.BasePoint.call(this,x,"projective"),null===R&&null===k&&null===v?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new $(R,16),this.y=new $(k,16),this.z=v?new $(v,16):this.curve.one,this.t=N&&new $(N,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}U(T,K),ye.exports=T,T.prototype._mulA=function(R){return this.mOneA?R.redNeg():this.a.redMul(R)},T.prototype._mulC=function(R){return this.oneC?R:this.c.redMul(R)},T.prototype.jpoint=function(R,k,v,N){return this.point(R,k,v,N)},T.prototype.pointFromX=function(R,k){(R=new $(R,16)).red||(R=R.toRed(this.red));var v=R.redSqr(),N=this.c2.redSub(this.a.redMul(v)),M=this.one.redSub(this.c2.redMul(this.d).redMul(v)),P=N.redMul(M.redInvm()),L=P.redSqrt();if(0!==L.redSqr().redSub(P).cmp(this.zero))throw new Error("invalid point");var G=L.fromRed().isOdd();return(k&&!G||!k&&G)&&(L=L.redNeg()),this.point(R,L)},T.prototype.pointFromY=function(R,k){(R=new $(R,16)).red||(R=R.toRed(this.red));var v=R.redSqr(),N=v.redSub(this.c2),M=v.redMul(this.d).redMul(this.c2).redSub(this.a),P=N.redMul(M.redInvm());if(0===P.cmp(this.zero)){if(k)throw new Error("invalid point");return this.point(this.zero,R)}var L=P.redSqrt();if(0!==L.redSqr().redSub(P).cmp(this.zero))throw new Error("invalid point");return L.fromRed().isOdd()!==k&&(L=L.redNeg()),this.point(L,R)},T.prototype.validate=function(R){if(R.isInfinity())return!0;R.normalize();var k=R.x.redSqr(),v=R.y.redSqr(),N=k.redMul(this.a).redAdd(v),M=this.c2.redMul(this.one.redAdd(this.d.redMul(k).redMul(v)));return 0===N.cmp(M)},U(w,K.BasePoint),T.prototype.pointFromJSON=function(R){return w.fromJSON(this,R)},T.prototype.point=function(R,k,v,N){return new w(this,R,k,v,N)},w.fromJSON=function(R,k){return new w(R,k[0],k[1],k[2])},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},w.prototype._extDbl=function(){var R=this.x.redSqr(),k=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var N=this.curve._mulA(R),M=this.x.redAdd(this.y).redSqr().redISub(R).redISub(k),P=N.redAdd(k),L=P.redSub(v),G=N.redSub(k),B=M.redMul(L),q=P.redMul(G),X=M.redMul(G),Q=L.redMul(P);return this.curve.point(B,q,Q,X)},w.prototype._projDbl=function(){var N,M,P,L,G,B,R=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),v=this.y.redSqr();if(this.curve.twisted){var q=(L=this.curve._mulA(k)).redAdd(v);this.zOne?(N=R.redSub(k).redSub(v).redMul(q.redSub(this.curve.two)),M=q.redMul(L.redSub(v)),P=q.redSqr().redSub(q).redSub(q)):(G=this.z.redSqr(),B=q.redSub(G).redISub(G),N=R.redSub(k).redISub(v).redMul(B),M=q.redMul(L.redSub(v)),P=q.redMul(B))}else L=k.redAdd(v),G=this.curve._mulC(this.z).redSqr(),B=L.redSub(G).redSub(G),N=this.curve._mulC(R.redISub(L)).redMul(B),M=this.curve._mulC(L).redMul(k.redISub(v)),P=L.redMul(B);return this.curve.point(N,M,P)},w.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},w.prototype._extAdd=function(R){var k=this.y.redSub(this.x).redMul(R.y.redSub(R.x)),v=this.y.redAdd(this.x).redMul(R.y.redAdd(R.x)),N=this.t.redMul(this.curve.dd).redMul(R.t),M=this.z.redMul(R.z.redAdd(R.z)),P=v.redSub(k),L=M.redSub(N),G=M.redAdd(N),B=v.redAdd(k),q=P.redMul(L),X=G.redMul(B),Q=P.redMul(B),te=L.redMul(G);return this.curve.point(q,X,te,Q)},w.prototype._projAdd=function(R){var X,Q,k=this.z.redMul(R.z),v=k.redSqr(),N=this.x.redMul(R.x),M=this.y.redMul(R.y),P=this.curve.d.redMul(N).redMul(M),L=v.redSub(P),G=v.redAdd(P),B=this.x.redAdd(this.y).redMul(R.x.redAdd(R.y)).redISub(N).redISub(M),q=k.redMul(L).redMul(B);return this.curve.twisted?(X=k.redMul(G).redMul(M.redSub(this.curve._mulA(N))),Q=L.redMul(G)):(X=k.redMul(G).redMul(M.redSub(N)),Q=this.curve._mulC(L).redMul(G)),this.curve.point(q,X,Q)},w.prototype.add=function(R){return this.isInfinity()?R:R.isInfinity()?this:this.curve.extended?this._extAdd(R):this._projAdd(R)},w.prototype.mul=function(R){return this._hasDoubles(R)?this.curve._fixedNafMul(this,R):this.curve._wnafMul(this,R)},w.prototype.mulAdd=function(R,k,v){return this.curve._wnafMulAdd(1,[this,k],[R,v],2,!1)},w.prototype.jmulAdd=function(R,k,v){return this.curve._wnafMulAdd(1,[this,k],[R,v],2,!0)},w.prototype.normalize=function(){if(this.zOne)return this;var R=this.z.redInvm();return this.x=this.x.redMul(R),this.y=this.y.redMul(R),this.t&&(this.t=this.t.redMul(R)),this.z=this.curve.one,this.zOne=!0,this},w.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()},w.prototype.getY=function(){return this.normalize(),this.y.fromRed()},w.prototype.eq=function(R){return this===R||0===this.getX().cmp(R.getX())&&0===this.getY().cmp(R.getY())},w.prototype.eqXToP=function(R){var k=R.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(k))return!0;for(var v=R.clone(),N=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(N),0===this.x.cmp(k))return!0}},w.prototype.toP=w.prototype.normalize,w.prototype.mixedAdd=w.prototype.add},8729:(ye,I,A)=>{"use strict";var O=I;O.base=A(98828),O.short=A(68075),O.mont=A(64947),O.edwards=A(55537)},64947:(ye,I,A)=>{"use strict";var O=A(88723),$=A(71993),U=A(98828),K=A(3136);function y(w){U.call(this,"mont",w),this.a=new O(w.a,16).toRed(this.red),this.b=new O(w.b,16).toRed(this.red),this.i4=new O(4).toRed(this.red).redInvm(),this.two=new O(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function T(w,x,R){U.BasePoint.call(this,w,"projective"),null===x&&null===R?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new O(x,16),this.z=new O(R,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}$(y,U),ye.exports=y,y.prototype.validate=function(x){var R=x.normalize().x,k=R.redSqr(),v=k.redMul(R).redAdd(k.redMul(this.a)).redAdd(R);return 0===v.redSqrt().redSqr().cmp(v)},$(T,U.BasePoint),y.prototype.decodePoint=function(x,R){return this.point(K.toArray(x,R),1)},y.prototype.point=function(x,R){return new T(this,x,R)},y.prototype.pointFromJSON=function(x){return T.fromJSON(this,x)},T.prototype.precompute=function(){},T.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},T.fromJSON=function(x,R){return new T(x,R[0],R[1]||x.one)},T.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},T.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},T.prototype.dbl=function(){var R=this.x.redAdd(this.z).redSqr(),v=this.x.redSub(this.z).redSqr(),N=R.redSub(v),M=R.redMul(v),P=N.redMul(v.redAdd(this.curve.a24.redMul(N)));return this.curve.point(M,P)},T.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},T.prototype.diffAdd=function(x,R){var k=this.x.redAdd(this.z),v=this.x.redSub(this.z),N=x.x.redAdd(x.z),P=x.x.redSub(x.z).redMul(k),L=N.redMul(v),G=R.z.redMul(P.redAdd(L).redSqr()),B=R.x.redMul(P.redISub(L).redSqr());return this.curve.point(G,B)},T.prototype.mul=function(x){for(var R=x.clone(),k=this,v=this.curve.point(null,null),M=[];0!==R.cmpn(0);R.iushrn(1))M.push(R.andln(1));for(var P=M.length-1;P>=0;P--)0===M[P]?(k=k.diffAdd(v,this),v=v.dbl()):(v=k.diffAdd(v,this),k=k.dbl());return v},T.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},T.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},T.prototype.eq=function(x){return 0===this.getX().cmp(x.getX())},T.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},T.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(ye,I,A)=>{"use strict";var O=A(3136),$=A(88723),U=A(71993),K=A(98828),y=O.assert;function T(R){K.call(this,"short",R),this.a=new $(R.a,16).toRed(this.red),this.b=new $(R.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(R),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function w(R,k,v,N){K.BasePoint.call(this,R,"affine"),null===k&&null===v?(this.x=null,this.y=null,this.inf=!0):(this.x=new $(k,16),this.y=new $(v,16),N&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function x(R,k,v,N){K.BasePoint.call(this,R,"jacobian"),null===k&&null===v&&null===N?(this.x=this.curve.one,this.y=this.curve.one,this.z=new $(0)):(this.x=new $(k,16),this.y=new $(v,16),this.z=new $(N,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}U(T,K),ye.exports=T,T.prototype._getEndomorphism=function(k){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var v,N;if(k.beta)v=new $(k.beta,16).toRed(this.red);else{var M=this._getEndoRoots(this.p);v=(v=M[0].cmp(M[1])<0?M[0]:M[1]).toRed(this.red)}if(k.lambda)N=new $(k.lambda,16);else{var P=this._getEndoRoots(this.n);0===this.g.mul(P[0]).x.cmp(this.g.x.redMul(v))?N=P[0]:y(0===this.g.mul(N=P[1]).x.cmp(this.g.x.redMul(v)))}return{beta:v,lambda:N,basis:k.basis?k.basis.map(function(G){return{a:new $(G.a,16),b:new $(G.b,16)}}):this._getEndoBasis(N)}}},T.prototype._getEndoRoots=function(k){var v=k===this.p?this.red:$.mont(k),N=new $(2).toRed(v).redInvm(),M=N.redNeg(),P=new $(3).toRed(v).redNeg().redSqrt().redMul(N);return[M.redAdd(P).fromRed(),M.redSub(P).fromRed()]},T.prototype._getEndoBasis=function(k){for(var q,X,Q,te,ie,ae,me,de,z,v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),N=k,M=this.n.clone(),P=new $(1),L=new $(0),G=new $(0),B=new $(1),ge=0;0!==N.cmpn(0);){var d=M.div(N);de=M.sub(d.mul(N)),z=G.sub(d.mul(P));var f=B.sub(d.mul(L));if(!Q&&de.cmp(v)<0)q=me.neg(),X=P,Q=de.neg(),te=z;else if(Q&&2==++ge)break;me=de,M=N,N=de,G=P,P=z,B=L,L=f}ie=de.neg(),ae=z;var b=Q.sqr().add(te.sqr());return ie.sqr().add(ae.sqr()).cmp(b)>=0&&(ie=q,ae=X),Q.negative&&(Q=Q.neg(),te=te.neg()),ie.negative&&(ie=ie.neg(),ae=ae.neg()),[{a:Q,b:te},{a:ie,b:ae}]},T.prototype._endoSplit=function(k){var v=this.endo.basis,N=v[0],M=v[1],P=M.b.mul(k).divRound(this.n),L=N.b.neg().mul(k).divRound(this.n),G=P.mul(N.a),B=L.mul(M.a),q=P.mul(N.b),X=L.mul(M.b);return{k1:k.sub(G).sub(B),k2:q.add(X).neg()}},T.prototype.pointFromX=function(k,v){(k=new $(k,16)).red||(k=k.toRed(this.red));var N=k.redSqr().redMul(k).redIAdd(k.redMul(this.a)).redIAdd(this.b),M=N.redSqrt();if(0!==M.redSqr().redSub(N).cmp(this.zero))throw new Error("invalid point");var P=M.fromRed().isOdd();return(v&&!P||!v&&P)&&(M=M.redNeg()),this.point(k,M)},T.prototype.validate=function(k){if(k.inf)return!0;var v=k.x,N=k.y,M=this.a.redMul(v),P=v.redSqr().redMul(v).redIAdd(M).redIAdd(this.b);return 0===N.redSqr().redISub(P).cmpn(0)},T.prototype._endoWnafMulAdd=function(k,v,N){for(var M=this._endoWnafT1,P=this._endoWnafT2,L=0;L<k.length;L++){var G=this._endoSplit(v[L]),B=k[L],q=B._getBeta();G.k1.negative&&(G.k1.ineg(),B=B.neg(!0)),G.k2.negative&&(G.k2.ineg(),q=q.neg(!0)),M[2*L]=B,M[2*L+1]=q,P[2*L]=G.k1,P[2*L+1]=G.k2}for(var X=this._wnafMulAdd(1,M,P,2*L,N),Q=0;Q<2*L;Q++)M[Q]=null,P[Q]=null;return X},U(w,K.BasePoint),T.prototype.point=function(k,v,N){return new w(this,k,v,N)},T.prototype.pointFromJSON=function(k,v){return w.fromJSON(this,k,v)},w.prototype._getBeta=function(){if(this.curve.endo){var k=this.precomputed;if(k&&k.beta)return k.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(k){var N=this.curve,M=function(P){return N.point(P.x.redMul(N.endo.beta),P.y)};k.beta=v,v.precomputed={beta:null,naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(M)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(M)}}}return v}},w.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},w.fromJSON=function(k,v,N){"string"==typeof v&&(v=JSON.parse(v));var M=k.point(v[0],v[1],N);if(!v[2])return M;function P(G){return k.point(G[0],G[1],N)}var L=v[2];return M.precomputed={beta:null,doubles:L.doubles&&{step:L.doubles.step,points:[M].concat(L.doubles.points.map(P))},naf:L.naf&&{wnd:L.naf.wnd,points:[M].concat(L.naf.points.map(P))}},M},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.inf},w.prototype.add=function(k){if(this.inf)return k;if(k.inf)return this;if(this.eq(k))return this.dbl();if(this.neg().eq(k))return this.curve.point(null,null);if(0===this.x.cmp(k.x))return this.curve.point(null,null);var v=this.y.redSub(k.y);0!==v.cmpn(0)&&(v=v.redMul(this.x.redSub(k.x).redInvm()));var N=v.redSqr().redISub(this.x).redISub(k.x),M=v.redMul(this.x.redSub(N)).redISub(this.y);return this.curve.point(N,M)},w.prototype.dbl=function(){if(this.inf)return this;var k=this.y.redAdd(this.y);if(0===k.cmpn(0))return this.curve.point(null,null);var v=this.curve.a,N=this.x.redSqr(),M=k.redInvm(),P=N.redAdd(N).redIAdd(N).redIAdd(v).redMul(M),L=P.redSqr().redISub(this.x.redAdd(this.x)),G=P.redMul(this.x.redSub(L)).redISub(this.y);return this.curve.point(L,G)},w.prototype.getX=function(){return this.x.fromRed()},w.prototype.getY=function(){return this.y.fromRed()},w.prototype.mul=function(k){return k=new $(k,16),this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},w.prototype.mulAdd=function(k,v,N){var M=[this,v],P=[k,N];return this.curve.endo?this.curve._endoWnafMulAdd(M,P):this.curve._wnafMulAdd(1,M,P,2)},w.prototype.jmulAdd=function(k,v,N){var M=[this,v],P=[k,N];return this.curve.endo?this.curve._endoWnafMulAdd(M,P,!0):this.curve._wnafMulAdd(1,M,P,2,!0)},w.prototype.eq=function(k){return this===k||this.inf===k.inf&&(this.inf||0===this.x.cmp(k.x)&&0===this.y.cmp(k.y))},w.prototype.neg=function(k){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(k&&this.precomputed){var N=this.precomputed,M=function(P){return P.neg()};v.precomputed={naf:N.naf&&{wnd:N.naf.wnd,points:N.naf.points.map(M)},doubles:N.doubles&&{step:N.doubles.step,points:N.doubles.points.map(M)}}}return v},w.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},U(x,K.BasePoint),T.prototype.jpoint=function(k,v,N){return new x(this,k,v,N)},x.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var k=this.z.redInvm(),v=k.redSqr(),N=this.x.redMul(v),M=this.y.redMul(v).redMul(k);return this.curve.point(N,M)},x.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},x.prototype.add=function(k){if(this.isInfinity())return k;if(k.isInfinity())return this;var v=k.z.redSqr(),N=this.z.redSqr(),M=this.x.redMul(v),P=k.x.redMul(N),L=this.y.redMul(v.redMul(k.z)),G=k.y.redMul(N.redMul(this.z)),B=M.redSub(P),q=L.redSub(G);if(0===B.cmpn(0))return 0!==q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var X=B.redSqr(),Q=X.redMul(B),te=M.redMul(X),ie=q.redSqr().redIAdd(Q).redISub(te).redISub(te),ae=q.redMul(te.redISub(ie)).redISub(L.redMul(Q)),me=this.z.redMul(k.z).redMul(B);return this.curve.jpoint(ie,ae,me)},x.prototype.mixedAdd=function(k){if(this.isInfinity())return k.toJ();if(k.isInfinity())return this;var v=this.z.redSqr(),N=this.x,M=k.x.redMul(v),P=this.y,L=k.y.redMul(v).redMul(this.z),G=N.redSub(M),B=P.redSub(L);if(0===G.cmpn(0))return 0!==B.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var q=G.redSqr(),X=q.redMul(G),Q=N.redMul(q),te=B.redSqr().redIAdd(X).redISub(Q).redISub(Q),ie=B.redMul(Q.redISub(te)).redISub(P.redMul(X)),ae=this.z.redMul(G);return this.curve.jpoint(te,ie,ae)},x.prototype.dblp=function(k){if(0===k)return this;if(this.isInfinity())return this;if(!k)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var N=this;for(v=0;v<k;v++)N=N.dbl();return N}var M=this.curve.a,P=this.curve.tinv,L=this.x,G=this.y,B=this.z,q=B.redSqr().redSqr(),X=G.redAdd(G);for(v=0;v<k;v++){var Q=L.redSqr(),te=X.redSqr(),ie=te.redSqr(),ae=Q.redAdd(Q).redIAdd(Q).redIAdd(M.redMul(q)),me=L.redMul(te),ge=ae.redSqr().redISub(me.redAdd(me)),de=me.redISub(ge),z=ae.redMul(de);z=z.redIAdd(z).redISub(ie);var d=X.redMul(B);v+1<k&&(q=q.redMul(ie)),L=ge,B=d,X=z}return this.curve.jpoint(L,X.redMul(P),B)},x.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},x.prototype._zeroDbl=function(){var k,v,N;if(this.zOne){var M=this.x.redSqr(),P=this.y.redSqr(),L=P.redSqr(),G=this.x.redAdd(P).redSqr().redISub(M).redISub(L);G=G.redIAdd(G);var B=M.redAdd(M).redIAdd(M),q=B.redSqr().redISub(G).redISub(G),X=L.redIAdd(L);X=(X=X.redIAdd(X)).redIAdd(X),k=q,v=B.redMul(G.redISub(q)).redISub(X),N=this.y.redAdd(this.y)}else{var Q=this.x.redSqr(),te=this.y.redSqr(),ie=te.redSqr(),ae=this.x.redAdd(te).redSqr().redISub(Q).redISub(ie);ae=ae.redIAdd(ae);var me=Q.redAdd(Q).redIAdd(Q),ge=me.redSqr(),de=ie.redIAdd(ie);de=(de=de.redIAdd(de)).redIAdd(de),k=ge.redISub(ae).redISub(ae),v=me.redMul(ae.redISub(k)).redISub(de),N=(N=this.y.redMul(this.z)).redIAdd(N)}return this.curve.jpoint(k,v,N)},x.prototype._threeDbl=function(){var k,v,N;if(this.zOne){var M=this.x.redSqr(),P=this.y.redSqr(),L=P.redSqr(),G=this.x.redAdd(P).redSqr().redISub(M).redISub(L);G=G.redIAdd(G);var B=M.redAdd(M).redIAdd(M).redIAdd(this.curve.a),q=B.redSqr().redISub(G).redISub(G);k=q;var X=L.redIAdd(L);X=(X=X.redIAdd(X)).redIAdd(X),v=B.redMul(G.redISub(q)).redISub(X),N=this.y.redAdd(this.y)}else{var Q=this.z.redSqr(),te=this.y.redSqr(),ie=this.x.redMul(te),ae=this.x.redSub(Q).redMul(this.x.redAdd(Q));ae=ae.redAdd(ae).redIAdd(ae);var me=ie.redIAdd(ie),ge=(me=me.redIAdd(me)).redAdd(me);k=ae.redSqr().redISub(ge),N=this.y.redAdd(this.z).redSqr().redISub(te).redISub(Q);var de=te.redSqr();de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de),v=ae.redMul(me.redISub(k)).redISub(de)}return this.curve.jpoint(k,v,N)},x.prototype._dbl=function(){var k=this.curve.a,v=this.x,N=this.y,M=this.z,P=M.redSqr().redSqr(),L=v.redSqr(),G=N.redSqr(),B=L.redAdd(L).redIAdd(L).redIAdd(k.redMul(P)),q=v.redAdd(v),X=(q=q.redIAdd(q)).redMul(G),Q=B.redSqr().redISub(X.redAdd(X)),te=X.redISub(Q),ie=G.redSqr();ie=(ie=(ie=ie.redIAdd(ie)).redIAdd(ie)).redIAdd(ie);var ae=B.redMul(te).redISub(ie),me=N.redAdd(N).redMul(M);return this.curve.jpoint(Q,ae,me)},x.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var k=this.x.redSqr(),v=this.y.redSqr(),N=this.z.redSqr(),M=v.redSqr(),P=k.redAdd(k).redIAdd(k),L=P.redSqr(),G=this.x.redAdd(v).redSqr().redISub(k).redISub(M),B=(G=(G=(G=G.redIAdd(G)).redAdd(G).redIAdd(G)).redISub(L)).redSqr(),q=M.redIAdd(M);q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q);var X=P.redIAdd(G).redSqr().redISub(L).redISub(B).redISub(q),Q=v.redMul(X);Q=(Q=Q.redIAdd(Q)).redIAdd(Q);var te=this.x.redMul(B).redISub(Q);te=(te=te.redIAdd(te)).redIAdd(te);var ie=this.y.redMul(X.redMul(q.redISub(X)).redISub(G.redMul(B)));ie=(ie=(ie=ie.redIAdd(ie)).redIAdd(ie)).redIAdd(ie);var ae=this.z.redAdd(G).redSqr().redISub(N).redISub(B);return this.curve.jpoint(te,ie,ae)},x.prototype.mul=function(k,v){return k=new $(k,v),this.curve._wnafMul(this,k)},x.prototype.eq=function(k){if("affine"===k.type)return this.eq(k.toJ());if(this===k)return!0;var v=this.z.redSqr(),N=k.z.redSqr();if(0!==this.x.redMul(N).redISub(k.x.redMul(v)).cmpn(0))return!1;var M=v.redMul(this.z),P=N.redMul(k.z);return 0===this.y.redMul(P).redISub(k.y.redMul(M)).cmpn(0)},x.prototype.eqXToP=function(k){var v=this.z.redSqr(),N=k.toRed(this.curve.red).redMul(v);if(0===this.x.cmp(N))return!0;for(var M=k.clone(),P=this.curve.redN.redMul(v);;){if(M.iadd(this.curve.n),M.cmp(this.curve.p)>=0)return!1;if(N.redIAdd(P),0===this.x.cmp(N))return!0}},x.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},x.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(ye,I,A)=>{"use strict";var x,O=I,$=A(52529),U=A(8729),y=A(3136).assert;function T(R){this.curve="short"===R.type?new U.short(R):"edwards"===R.type?new U.edwards(R):new U.mont(R),this.g=this.curve.g,this.n=this.curve.n,this.hash=R.hash,y(this.g.validate(),"Invalid curve"),y(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function w(R,k){Object.defineProperty(O,R,{configurable:!0,enumerable:!0,get:function(){var v=new T(k);return Object.defineProperty(O,R,{configurable:!0,enumerable:!0,value:v}),v}})}O.PresetCurve=T,w("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),w("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),w("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),w("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),w("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),w("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["9"]}),w("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{x=A(51416)}catch{x=void 0}w("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",x]})},29042:(ye,I,A)=>{"use strict";var O=A(88723),$=A(33556),U=A(3136),K=A(23401),y=A(35294),T=U.assert,w=A(60541),x=A(40484);function R(k){if(!(this instanceof R))return new R(k);"string"==typeof k&&(T(Object.prototype.hasOwnProperty.call(K,k),"Unknown curve "+k),k=K[k]),k instanceof K.PresetCurve&&(k={curve:k}),this.curve=k.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=k.curve.g,this.g.precompute(k.curve.n.bitLength()+1),this.hash=k.hash||k.curve.hash}ye.exports=R,R.prototype.keyPair=function(v){return new w(this,v)},R.prototype.keyFromPrivate=function(v,N){return w.fromPrivate(this,v,N)},R.prototype.keyFromPublic=function(v,N){return w.fromPublic(this,v,N)},R.prototype.genKeyPair=function(v){v||(v={});for(var N=new $({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||y(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),M=this.n.byteLength(),P=this.n.sub(new O(2));;){var L=new O(N.generate(M));if(!(L.cmp(P)>0))return L.iaddn(1),this.keyFromPrivate(L)}},R.prototype._truncateToN=function(v,N,M){var P;if(O.isBN(v)||"number"==typeof v)P=(v=new O(v,16)).byteLength();else if("object"==typeof v)P=v.length,v=new O(v,16);else{var L=v.toString();P=L.length+1>>>1,v=new O(L,16)}"number"!=typeof M&&(M=8*P);var G=M-this.n.bitLength();return G>0&&(v=v.ushrn(G)),!N&&v.cmp(this.n)>=0?v.sub(this.n):v},R.prototype.sign=function(v,N,M,P){"object"==typeof M&&(P=M,M=null),P||(P={}),N=this.keyFromPrivate(N,M),v=this._truncateToN(v,!1,P.msgBitLength);for(var L=this.n.byteLength(),G=N.getPrivate().toArray("be",L),B=v.toArray("be",L),q=new $({hash:this.hash,entropy:G,nonce:B,pers:P.pers,persEnc:P.persEnc||"utf8"}),X=this.n.sub(new O(1)),Q=0;;Q++){var te=P.k?P.k(Q):new O(q.generate(this.n.byteLength()));if(!((te=this._truncateToN(te,!0)).cmpn(1)<=0||te.cmp(X)>=0)){var ie=this.g.mul(te);if(!ie.isInfinity()){var ae=ie.getX(),me=ae.umod(this.n);if(0!==me.cmpn(0)){var ge=te.invm(this.n).mul(me.mul(N.getPrivate()).iadd(v));if(0!==(ge=ge.umod(this.n)).cmpn(0)){var de=(ie.getY().isOdd()?1:0)|(0!==ae.cmp(me)?2:0);return P.canonical&&ge.cmp(this.nh)>0&&(ge=this.n.sub(ge),de^=1),new x({r:me,s:ge,recoveryParam:de})}}}}}},R.prototype.verify=function(v,N,M,P,L){L||(L={}),v=this._truncateToN(v,!1,L.msgBitLength),M=this.keyFromPublic(M,P);var G=(N=new x(N,"hex")).r,B=N.s;if(G.cmpn(1)<0||G.cmp(this.n)>=0||B.cmpn(1)<0||B.cmp(this.n)>=0)return!1;var te,q=B.invm(this.n),X=q.mul(v).umod(this.n),Q=q.mul(G).umod(this.n);return this.curve._maxwellTrick?!(te=this.g.jmulAdd(X,M.getPublic(),Q)).isInfinity()&&te.eqXToP(G):!(te=this.g.mulAdd(X,M.getPublic(),Q)).isInfinity()&&0===te.getX().umod(this.n).cmp(G)},R.prototype.recoverPubKey=function(k,v,N,M){T((3&N)===N,"The recovery param is more than two bits"),v=new x(v,M);var P=this.n,L=new O(k),G=v.r,B=v.s,q=1&N,X=N>>1;if(G.cmp(this.curve.p.umod(this.curve.n))>=0&&X)throw new Error("Unable to find sencond key candinate");G=this.curve.pointFromX(X?G.add(this.curve.n):G,q);var Q=v.r.invm(P),te=P.sub(L).mul(Q).umod(P),ie=B.mul(Q).umod(P);return this.g.mulAdd(te,G,ie)},R.prototype.getKeyRecoveryParam=function(k,v,N,M){if(null!==(v=new x(v,M)).recoveryParam)return v.recoveryParam;for(var P=0;P<4;P++){var L;try{L=this.recoverPubKey(k,v,P)}catch{continue}if(L.eq(N))return P}throw new Error("Unable to find valid recovery factor")}},60541:(ye,I,A)=>{"use strict";var O=A(88723),U=A(3136).assert;function K(y,T){this.ec=y,this.priv=null,this.pub=null,T.priv&&this._importPrivate(T.priv,T.privEnc),T.pub&&this._importPublic(T.pub,T.pubEnc)}ye.exports=K,K.fromPublic=function(T,w,x){return w instanceof K?w:new K(T,{pub:w,pubEnc:x})},K.fromPrivate=function(T,w,x){return w instanceof K?w:new K(T,{priv:w,privEnc:x})},K.prototype.validate=function(){var T=this.getPublic();return T.isInfinity()?{result:!1,reason:"Invalid public key"}:T.validate()?T.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},K.prototype.getPublic=function(T,w){return"string"==typeof T&&(w=T,T=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),w?this.pub.encode(w,T):this.pub},K.prototype.getPrivate=function(T){return"hex"===T?this.priv.toString(16,2):this.priv},K.prototype._importPrivate=function(T,w){this.priv=new O(T,w||16),this.priv=this.priv.umod(this.ec.curve.n)},K.prototype._importPublic=function(T,w){if(T.x||T.y)return"mont"===this.ec.curve.type?U(T.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&U(T.x&&T.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(T.x,T.y));this.pub=this.ec.curve.decodePoint(T,w)},K.prototype.derive=function(T){return T.validate()||U(T.validate(),"public point not validated"),T.mul(this.priv).getX()},K.prototype.sign=function(T,w,x){return this.ec.sign(T,this,w,x)},K.prototype.verify=function(T,w,x){return this.ec.verify(T,w,this,void 0,x)},K.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(ye,I,A)=>{"use strict";var O=A(88723),$=A(3136),U=$.assert;function K(R,k){if(R instanceof K)return R;this._importDER(R,k)||(U(R.r&&R.s,"Signature without r or s"),this.r=new O(R.r,16),this.s=new O(R.s,16),this.recoveryParam=void 0===R.recoveryParam?null:R.recoveryParam)}function y(){this.place=0}function T(R,k){var v=R[k.place++];if(!(128&v))return v;var N=15&v;if(0===N||N>4||0===R[k.place])return!1;for(var M=0,P=0,L=k.place;P<N;P++,L++)M<<=8,M|=R[L],M>>>=0;return!(M<=127)&&(k.place=L,M)}function w(R){for(var k=0,v=R.length-1;!R[k]&&!(128&R[k+1])&&k<v;)k++;return 0===k?R:R.slice(k)}function x(R,k){if(k<128)R.push(k);else{var v=1+(Math.log(k)/Math.LN2>>>3);for(R.push(128|v);--v;)R.push(k>>>(v<<3)&255);R.push(k)}}ye.exports=K,K.prototype._importDER=function(k,v){k=$.toArray(k,v);var N=new y;if(48!==k[N.place++])return!1;var M=T(k,N);if(!1===M||M+N.place!==k.length||2!==k[N.place++])return!1;var P=T(k,N);if(!1===P||128&k[N.place])return!1;var L=k.slice(N.place,P+N.place);if(N.place+=P,2!==k[N.place++])return!1;var G=T(k,N);if(!1===G||k.length!==G+N.place||128&k[N.place])return!1;var B=k.slice(N.place,G+N.place);if(0===L[0]){if(!(128&L[1]))return!1;L=L.slice(1)}if(0===B[0]){if(!(128&B[1]))return!1;B=B.slice(1)}return this.r=new O(L),this.s=new O(B),this.recoveryParam=null,!0},K.prototype.toDER=function(k){var v=this.r.toArray(),N=this.s.toArray();for(128&v[0]&&(v=[0].concat(v)),128&N[0]&&(N=[0].concat(N)),v=w(v),N=w(N);!(N[0]||128&N[1]);)N=N.slice(1);var M=[2];x(M,v.length),(M=M.concat(v)).push(2),x(M,N.length);var P=M.concat(N),L=[48];return x(L,P.length),L=L.concat(P),$.encode(L,k)}},83045:(ye,I,A)=>{"use strict";var O=A(52529),$=A(23401),U=A(3136),K=U.assert,y=U.parseBytes,T=A(87222),w=A(5451);function x(R){if(K("ed25519"===R,"only tested with ed25519 so far"),!(this instanceof x))return new x(R);this.curve=R=$[R].curve,this.g=R.g,this.g.precompute(R.n.bitLength()+1),this.pointClass=R.point().constructor,this.encodingLength=Math.ceil(R.n.bitLength()/8),this.hash=O.sha512}ye.exports=x,x.prototype.sign=function(k,v){k=y(k);var N=this.keyFromSecret(v),M=this.hashInt(N.messagePrefix(),k),P=this.g.mul(M),L=this.encodePoint(P),G=this.hashInt(L,N.pubBytes(),k).mul(N.priv()),B=M.add(G).umod(this.curve.n);return this.makeSignature({R:P,S:B,Rencoded:L})},x.prototype.verify=function(k,v,N){if(k=y(k),(v=this.makeSignature(v)).S().gte(v.eddsa.curve.n)||v.S().isNeg())return!1;var M=this.keyFromPublic(N),P=this.hashInt(v.Rencoded(),M.pubBytes(),k),L=this.g.mul(v.S());return v.R().add(M.pub().mul(P)).eq(L)},x.prototype.hashInt=function(){for(var k=this.hash(),v=0;v<arguments.length;v++)k.update(arguments[v]);return U.intFromLE(k.digest()).umod(this.curve.n)},x.prototype.keyFromPublic=function(k){return T.fromPublic(this,k)},x.prototype.keyFromSecret=function(k){return T.fromSecret(this,k)},x.prototype.makeSignature=function(k){return k instanceof w?k:new w(this,k)},x.prototype.encodePoint=function(k){var v=k.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=k.getX().isOdd()?128:0,v},x.prototype.decodePoint=function(k){var v=(k=U.parseBytes(k)).length-1,N=k.slice(0,v).concat(-129&k[v]),M=!!(128&k[v]),P=U.intFromLE(N);return this.curve.pointFromY(P,M)},x.prototype.encodeInt=function(k){return k.toArray("le",this.encodingLength)},x.prototype.decodeInt=function(k){return U.intFromLE(k)},x.prototype.isPoint=function(k){return k instanceof this.pointClass}},87222:(ye,I,A)=>{"use strict";var O=A(3136),$=O.assert,U=O.parseBytes,K=O.cachedProperty;function y(T,w){this.eddsa=T,this._secret=U(w.secret),T.isPoint(w.pub)?this._pub=w.pub:this._pubBytes=U(w.pub)}y.fromPublic=function(w,x){return x instanceof y?x:new y(w,{pub:x})},y.fromSecret=function(w,x){return x instanceof y?x:new y(w,{secret:x})},y.prototype.secret=function(){return this._secret},K(y,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),K(y,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),K(y,"privBytes",function(){var w=this.eddsa,x=this.hash(),R=w.encodingLength-1,k=x.slice(0,w.encodingLength);return k[0]&=248,k[R]&=127,k[R]|=64,k}),K(y,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),K(y,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),K(y,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),y.prototype.sign=function(w){return $(this._secret,"KeyPair can only verify"),this.eddsa.sign(w,this)},y.prototype.verify=function(w,x){return this.eddsa.verify(w,x,this)},y.prototype.getSecret=function(w){return $(this._secret,"KeyPair is public only"),O.encode(this.secret(),w)},y.prototype.getPublic=function(w){return O.encode(this.pubBytes(),w)},ye.exports=y},5451:(ye,I,A)=>{"use strict";var O=A(88723),$=A(3136),U=$.assert,K=$.cachedProperty,y=$.parseBytes;function T(w,x){this.eddsa=w,"object"!=typeof x&&(x=y(x)),Array.isArray(x)&&(U(x.length===2*w.encodingLength,"Signature has invalid size"),x={R:x.slice(0,w.encodingLength),S:x.slice(w.encodingLength)}),U(x.R&&x.S,"Signature without R or S"),w.isPoint(x.R)&&(this._R=x.R),x.S instanceof O&&(this._S=x.S),this._Rencoded=Array.isArray(x.R)?x.R:x.Rencoded,this._Sencoded=Array.isArray(x.S)?x.S:x.Sencoded}K(T,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),K(T,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),K(T,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),K(T,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),T.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},T.prototype.toHex=function(){return $.encode(this.toBytes(),"hex").toUpperCase()},ye.exports=T},51416:ye=>{ye.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(ye,I,A)=>{"use strict";var O=I,$=A(88723),U=A(39210),K=A(21832);O.assert=U,O.toArray=K.toArray,O.zero2=K.zero2,O.toHex=K.toHex,O.encode=K.encode,O.getNAF=function y(k,v,N){var P,M=new Array(Math.max(k.bitLength(),N)+1);for(P=0;P<M.length;P+=1)M[P]=0;var L=1<<v+1,G=k.clone();for(P=0;P<M.length;P++){var B,q=G.andln(L-1);G.isOdd()?G.isubn(B=q>(L>>1)-1?(L>>1)-q:q):B=0,M[P]=B,G.iushrn(1)}return M},O.getJSF=function T(k,v){var N=[[],[]];k=k.clone(),v=v.clone();for(var L,M=0,P=0;k.cmpn(-M)>0||v.cmpn(-P)>0;){var q,X,G=k.andln(3)+M&3,B=v.andln(3)+P&3;3===G&&(G=-1),3===B&&(B=-1),q=1&G?3!=(L=k.andln(7)+M&7)&&5!==L||2!==B?G:-G:0,N[0].push(q),X=1&B?3!=(L=v.andln(7)+P&7)&&5!==L||2!==G?B:-B:0,N[1].push(X),2*M===q+1&&(M=1-M),2*P===X+1&&(P=1-P),k.iushrn(1),v.iushrn(1)}return N},O.cachedProperty=function w(k,v,N){var M="_"+v;k.prototype[v]=function(){return void 0!==this[M]?this[M]:this[M]=N.call(this)}},O.parseBytes=function x(k){return"string"==typeof k?O.toArray(k,"hex"):k},O.intFromLE=function R(k){return new $(k,"hex","le")}},88723:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(79368).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},4570:(ye,I,A)=>{"use strict";var $=A(90258)("%Object.defineProperty%",!0)||!1;if($)try{$({},"a",{value:1})}catch{$=!1}ye.exports=$},1756:ye=>{"use strict";ye.exports=EvalError},37640:ye=>{"use strict";ye.exports=Error},77933:ye=>{"use strict";ye.exports=RangeError},6613:ye=>{"use strict";ye.exports=ReferenceError},58413:ye=>{"use strict";ye.exports=SyntaxError},46758:ye=>{"use strict";ye.exports=TypeError},5286:ye=>{"use strict";ye.exports=URIError},34813:(ye,I,A)=>{"use strict";var O=A(46758);ye.exports=function(U){if(null==U)throw new O(arguments.length>0&&arguments[1]||"Cannot call method on "+U);return U}},65240:(ye,I,A)=>{"use strict";var $=A(90258)("%Object.defineProperty%",!0),U=A(88779)(),K=A(78368),y=U?Symbol.toStringTag:null;ye.exports=function(w,x){y&&(arguments.length>2&&arguments[2]&&arguments[2].force||!K(w,y))&&($?$(w,y,{configurable:!0,enumerable:!1,value:x,writable:!1}):w[y]=x)}},31232:(ye,I,A)=>{"use strict";var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,$=A(20561),U=A(58239),K=A(94665),y=A(16827);ye.exports=function(R){if($(R))return R;var v,k="default";if(arguments.length>1&&(arguments[1]===String?k="string":arguments[1]===Number&&(k="number")),O&&(Symbol.toPrimitive?v=function(R,k){var v=R[k];if(null!==v&&typeof v<"u"){if(!U(v))throw new TypeError(v+" returned for property "+k+" of object "+R+" is not a function");return v}}(R,Symbol.toPrimitive):y(R)&&(v=Symbol.prototype.valueOf)),typeof v<"u"){var N=v.call(R,k);if($(N))return N;throw new TypeError("unable to convert exotic object to primitive")}return"default"===k&&(K(R)||y(R))&&(k="string"),function(R,k){if(typeof R>"u"||null===R)throw new TypeError("Cannot call method on "+R);if("string"!=typeof k||"number"!==k&&"string"!==k)throw new TypeError('hint must be "string" or "number"');var N,M,P,v="string"===k?["toString","valueOf"]:["valueOf","toString"];for(P=0;P<v.length;++P)if(U(N=R[v[P]])&&(M=N.call(R),$(M)))return M;throw new TypeError("No default value")}(R,"default"===k?"number":k)}},20561:ye=>{"use strict";ye.exports=function(A){return null===A||"function"!=typeof A&&"object"!=typeof A}},46096:(ye,I,A)=>{!function(){"use strict";var $,U,K,y,T,w,x,R,k,v,N,M,P,L,G,B,q,X,Q,te,ie,ae,me,ge;function f(Ve){return Wt.Statement.hasOwnProperty(Ve.type)}T=A(48038),w=A(3516),$=T.Syntax,K={"||":(U={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":U.LogicalAND,"|":U.BitwiseOR,"^":U.BitwiseXOR,"&":U.BitwiseAND,"==":U.Equality,"!=":U.Equality,"===":U.Equality,"!==":U.Equality,is:U.Equality,isnt:U.Equality,"<":U.Relational,">":U.Relational,"<=":U.Relational,">=":U.Relational,in:U.Relational,instanceof:U.Relational,"<<":U.BitwiseSHIFT,">>":U.BitwiseSHIFT,">>>":U.BitwiseSHIFT,"+":U.Additive,"-":U.Additive,"*":U.Multiplicative,"%":U.Multiplicative,"/":U.Multiplicative,"**":U.Exponentiation};var F=32;function Te(Ve,st){var gt="";for(st|=0;st>0;st>>>=1,Ve+=Ve)1&st&&(gt+=Ve);return gt}function xe(Ve){var st=Ve.length;return st&&w.code.isLineTerminator(Ve.charCodeAt(st-1))}function be(Ve,st){var gt;for(gt in st)st.hasOwnProperty(gt)&&(Ve[gt]=st[gt]);return Ve}function _e(Ve,st){var gt,dt;function yt(ln){return"object"==typeof ln&&ln instanceof Object&&!(ln instanceof RegExp)}for(gt in st)st.hasOwnProperty(gt)&&(yt(dt=st[gt])?yt(Ve[gt])?_e(Ve[gt],dt):Ve[gt]=_e({},dt):Ve[gt]=dt);return Ve}function ke(Ve,st){return 8232==(-2&Ve)?(st?"u":"\\u")+(8232===Ve?"2028":"2029"):10===Ve||13===Ve?(st?"":"\\")+(10===Ve?"n":"r"):String.fromCharCode(Ve)}function Ne(Ve,st){var gt;return 8===Ve?"\\b":12===Ve?"\\f":9===Ve?"\\t":(gt=Ve.toString(16).toUpperCase(),k||Ve>255?"\\u"+"0000".slice(gt.length)+gt:0!==Ve||w.code.isDecimalDigit(st)?11===Ve?"\\x0B":"\\x"+"00".slice(gt.length)+gt:"\\0")}function We(Ve){if(92===Ve)return"\\\\";if(10===Ve)return"\\n";if(13===Ve)return"\\r";if(8232===Ve)return"\\u2028";if(8233===Ve)return"\\u2029";throw new Error("Incorrectly classified character")}function mt(Ve){var st,gt,dt,yt="";for(st=0,gt=Ve.length;st<gt;++st)dt=Ve[st],yt+=Array.isArray(dt)?mt(dt):dt;return yt}function rt(Ve,st){if(!ae)return Array.isArray(Ve)?mt(Ve):Ve;if(null==st){if(Ve instanceof y)return Ve;st={}}return null==st.loc?new y(null,null,ae,Ve,st.name||null):new y(st.loc.start.line,st.loc.start.column,!0===ae?st.loc.source||null:ae,Ve,st.name||null)}function Ut(){return G||" "}function se(Ve,st){var gt,dt,yt,ln;return 0===(gt=rt(Ve).toString()).length?[st]:0===(dt=rt(st).toString()).length?[Ve]:(yt=gt.charCodeAt(gt.length-1),ln=dt.charCodeAt(0),(43===yt||45===yt)&&yt===ln||w.code.isIdentifierPartES5(yt)&&w.code.isIdentifierPartES5(ln)||47===yt&&105===ln?[Ve,Ut(),st]:w.code.isWhiteSpace(yt)||w.code.isLineTerminator(yt)||w.code.isWhiteSpace(ln)||w.code.isLineTerminator(ln)?[Ve,st]:[Ve,G,st])}function W(Ve){return[x,Ve]}function Z(Ve){var st;st=x,Ve(x+=R),x=st}function Xe(Ve,st){if("Line"===Ve.type){if(xe(Ve.value))return"//"+Ve.value;var gt="//"+Ve.value;return ge||(gt+="\n"),gt}return te.format.indent.adjustMultilineComment&&/[\n\r]/.test(Ve.value)?function De(Ve,st){var gt,dt,yt,ln,Be,Ge,ht,et;for(gt=Ve.split(/\r\n|[\r\n]/),Ge=Number.MAX_VALUE,dt=1,yt=gt.length;dt<yt;++dt){for(ln=gt[dt],Be=0;Be<ln.length&&w.code.isWhiteSpace(ln.charCodeAt(Be));)++Be;Ge>Be&&(Ge=Be)}for(typeof st<"u"?(ht=x,"*"===gt[1][Ge]&&(st+=" "),x=st):(1&Ge&&--Ge,ht=x),dt=1,yt=gt.length;dt<yt;++dt)et=rt(W(gt[dt].slice(Ge))),gt[dt]=ae?et.join(""):et;return x=ht,gt.join("\n")}("/*"+Ve.value+"*/",st):"/*"+Ve.value+"*/"}function Ze(Ve,st){var gt,dt,yt,ln,Be,Ge,ht,et,ut,en,It,Vt;if(Ve.leadingComments&&Ve.leadingComments.length>0){if(ln=st,ge){for(st=[],(Vt=((It=me.substring((et=(yt=Ve.leadingComments[0]).extendedRange)[0],(ut=yt.range)[0])).match(/\n/g)||[]).length)>0?(st.push(Te("\n",Vt)),st.push(W(Xe(yt)))):(st.push(It),st.push(Xe(yt))),en=ut,gt=1,dt=Ve.leadingComments.length;gt<dt;gt++)Vt=(me.substring(en[1],(ut=(yt=Ve.leadingComments[gt]).range)[0]).match(/\n/g)||[]).length,st.push(Te("\n",Vt)),st.push(W(Xe(yt))),en=ut;Vt=(me.substring(ut[1],et[1]).match(/\n/g)||[]).length,st.push(Te("\n",Vt))}else for(yt=Ve.leadingComments[0],st=[],X&&Ve.type===$.Program&&0===Ve.body.length&&st.push("\n"),st.push(Xe(yt)),xe(rt(st).toString())||st.push("\n"),gt=1,dt=Ve.leadingComments.length;gt<dt;++gt)xe(rt(ht=[Xe(yt=Ve.leadingComments[gt])]).toString())||ht.push("\n"),st.push(W(ht));st.push(W(ln))}if(Ve.trailingComments)if(ge)(Vt=((It=me.substring((et=(yt=Ve.trailingComments[0]).extendedRange)[0],(ut=yt.range)[0])).match(/\n/g)||[]).length)>0?(st.push(Te("\n",Vt)),st.push(W(Xe(yt)))):(st.push(It),st.push(Xe(yt)));else for(Be=!xe(rt(st).toString()),Ge=Te(" ",function he(Ve){var st;for(st=Ve.length-1;st>=0&&!w.code.isLineTerminator(Ve.charCodeAt(st));--st);return Ve.length-1-st}(rt([x,st,R]).toString())),gt=0,dt=Ve.trailingComments.length;gt<dt;++gt)yt=Ve.trailingComments[gt],Be?(st=0===gt?[st,R]:[st,Ge]).push(Xe(yt,Ge)):st=[st,W(Xe(yt))],gt!==dt-1&&!xe(rt(st).toString())&&(st=[st,"\n"]);return st}function at(Ve,st,gt){var dt,yt=0;for(dt=Ve;dt<st;dt++)"\n"===me[dt]&&yt++;for(dt=1;dt<yt;dt++)gt.push(L)}function Rt(Ve,st,gt){return st<gt?["(",Ve,")"]:Ve}function Mt(Ve){var st,gt,dt;for(st=1,gt=(dt=Ve.split(/\r\n|\n/)).length;st<gt;st++)dt[st]=L+x+dt[st];return dt}function Wt(){}function Bt(Ve){return rt(Ve.name,Ve)}function nn(Ve,st){return Ve.async?"async"+(st?Ut():G):""}function Hn(Ve){return Ve.generator&&!te.moz.starlessGenerator?"*"+G:""}function sn(Ve){var st=Ve.value,gt="";return st.async&&(gt+=nn(st,!Ve.computed)),st.generator&&(gt+=Hn(st)?"*":""),gt}Wt.prototype.maybeBlock=function(Ve,st){var gt,dt,yt=this;return dt=!te.comment||!Ve.leadingComments,Ve.type===$.BlockStatement&&dt?[G,this.generateStatement(Ve,st)]:Ve.type===$.EmptyStatement&&dt?";":(Z(function(){gt=[L,W(yt.generateStatement(Ve,st))]}),gt)},Wt.prototype.maybeBlockSuffix=function(Ve,st){var gt=xe(rt(st).toString());return Ve.type!==$.BlockStatement||te.comment&&Ve.leadingComments||gt?gt?[st,x]:[st,L,x]:[st,G]},Wt.prototype.generatePattern=function(Ve,st,gt){return Ve.type===$.Identifier?Bt(Ve):this.generateExpression(Ve,st,gt)},Wt.prototype.generateFunctionParams=function(Ve){var st,gt,dt,yt;if(yt=!1,Ve.type!==$.ArrowFunctionExpression||Ve.rest||Ve.defaults&&0!==Ve.defaults.length||1!==Ve.params.length||Ve.params[0].type!==$.Identifier){for((dt=Ve.type===$.ArrowFunctionExpression?[nn(Ve,!1)]:[]).push("("),Ve.defaults&&(yt=!0),st=0,gt=Ve.params.length;st<gt;++st)dt.push(yt&&Ve.defaults[st]?this.generateAssignment(Ve.params[st],Ve.defaults[st],"=",U.Assignment,7):this.generatePattern(Ve.params[st],U.Assignment,7)),st+1<gt&&dt.push(","+G);Ve.rest&&(Ve.params.length&&dt.push(","+G),dt.push("..."),dt.push(Bt(Ve.rest))),dt.push(")")}else dt=[nn(Ve,!0),Bt(Ve.params[0])];return dt},Wt.prototype.generateFunctionBody=function(Ve){var st,gt;return st=this.generateFunctionParams(Ve),Ve.type===$.ArrowFunctionExpression&&(st.push(G),st.push("=>")),Ve.expression?(st.push(G),"{"===(gt=this.generateExpression(Ve.body,U.Assignment,7)).toString().charAt(0)&&(gt=["(",gt,")"]),st.push(gt)):st.push(this.maybeBlock(Ve.body,9)),st},Wt.prototype.generateIterationForStatement=function(Ve,st,gt){var dt=["for"+(st.await?Ut()+"await":"")+G+"("],yt=this;return Z(function(){st.left.type===$.VariableDeclaration?Z(function(){dt.push(st.left.kind+Ut()),dt.push(yt.generateStatement(st.left.declarations[0],0))}):dt.push(yt.generateExpression(st.left,U.Call,7)),dt=se(dt,Ve),dt=[se(dt,yt.generateExpression(st.right,U.Assignment,7)),")"]}),dt.push(this.maybeBlock(st.body,gt)),dt},Wt.prototype.generatePropertyKey=function(Ve,st){var gt=[];return st&&gt.push("["),gt.push(this.generateExpression(Ve,U.Assignment,7)),st&&gt.push("]"),gt},Wt.prototype.generateAssignment=function(Ve,st,gt,dt,yt){return U.Assignment<dt&&(yt|=1),Rt([this.generateExpression(Ve,U.Call,yt),G+gt+G,this.generateExpression(st,U.Assignment,yt)],U.Assignment,dt)},Wt.prototype.semicolon=function(Ve){return!q&&Ve&F?"":";"},be(Wt.prototype,Wt.Statement={BlockStatement:function(Ve,st){var gt,dt,yt=["{",L],ln=this;return Z(function(){var Be,Ge,ht,et;for(0===Ve.body.length&&ge&&(gt=Ve.range)[1]-gt[0]>2&&("\n"===(dt=me.substring(gt[0]+1,gt[1]-1))[0]&&(yt=["{"]),yt.push(dt)),et=1,8&st&&(et|=16),Be=0,Ge=Ve.body.length;Be<Ge;++Be)ge&&(0===Be&&(Ve.body[0].leadingComments&&"\n"===(dt=me.substring((gt=Ve.body[0].leadingComments[0].extendedRange)[0],gt[1]))[0]&&(yt=["{"]),Ve.body[0].leadingComments||at(Ve.range[0],Ve.body[0].range[0],yt)),Be>0&&!Ve.body[Be-1].trailingComments&&!Ve.body[Be].leadingComments&&at(Ve.body[Be-1].range[1],Ve.body[Be].range[0],yt)),Be===Ge-1&&(et|=F),ht=Ve.body[Be].leadingComments&&ge?ln.generateStatement(Ve.body[Be],et):W(ln.generateStatement(Ve.body[Be],et)),yt.push(ht),xe(rt(ht).toString())||ge&&Be<Ge-1&&Ve.body[Be+1].leadingComments||yt.push(L),ge&&Be===Ge-1&&(Ve.body[Be].trailingComments||at(Ve.body[Be].range[1],Ve.range[1],yt))}),yt.push(W("}")),yt},BreakStatement:function(Ve,st){return Ve.label?"break "+Ve.label.name+this.semicolon(st):"break"+this.semicolon(st)},ContinueStatement:function(Ve,st){return Ve.label?"continue "+Ve.label.name+this.semicolon(st):"continue"+this.semicolon(st)},ClassBody:function(Ve,st){var gt=["{",L],dt=this;return Z(function(yt){var ln,Be;for(ln=0,Be=Ve.body.length;ln<Be;++ln)gt.push(yt),gt.push(dt.generateExpression(Ve.body[ln],U.Sequence,7)),ln+1<Be&&gt.push(L)}),xe(rt(gt).toString())||gt.push(L),gt.push(x),gt.push("}"),gt},ClassDeclaration:function(Ve,st){var gt,dt;return gt=["class"],Ve.id&&(gt=se(gt,this.generateExpression(Ve.id,U.Sequence,7))),Ve.superClass&&(dt=se("extends",this.generateExpression(Ve.superClass,U.Unary,7)),gt=se(gt,dt)),gt.push(G),gt.push(this.generateStatement(Ve.body,33)),gt},DirectiveStatement:function(Ve,st){return te.raw&&Ve.raw?Ve.raw+this.semicolon(st):function Ye(Ve){var st,gt,dt,yt;for(yt="double"===M?'"':"'",st=0,gt=Ve.length;st<gt;++st){if(39===(dt=Ve.charCodeAt(st))){yt='"';break}if(34===dt){yt="'";break}92===dt&&++st}return yt+Ve+yt}(Ve.directive)+this.semicolon(st)},DoWhileStatement:function(Ve,st){var gt=se("do",this.maybeBlock(Ve.body,1));return se(gt=this.maybeBlockSuffix(Ve.body,gt),["while"+G+"(",this.generateExpression(Ve.test,U.Sequence,7),")"+this.semicolon(st)])},CatchClause:function(Ve,st){var gt,dt=this;return Z(function(){var yt;Ve.param?(gt=["catch"+G+"(",dt.generateExpression(Ve.param,U.Sequence,7),")"],Ve.guard&&(yt=dt.generateExpression(Ve.guard,U.Sequence,7),gt.splice(2,0," if ",yt))):gt=["catch"]}),gt.push(this.maybeBlock(Ve.body,1)),gt},DebuggerStatement:function(Ve,st){return"debugger"+this.semicolon(st)},EmptyStatement:function(Ve,st){return";"},ExportDefaultDeclaration:function(Ve,st){var dt,gt=["export"];return dt=st&F?33:1,gt=se(gt,"default"),f(Ve.declaration)?se(gt,this.generateStatement(Ve.declaration,dt)):se(gt,this.generateExpression(Ve.declaration,U.Assignment,7)+this.semicolon(st))},ExportNamedDeclaration:function(Ve,st){var gt=["export"],yt=this;return Ve.declaration?se(gt,this.generateStatement(Ve.declaration,st&F?33:1)):(Ve.specifiers&&(0===Ve.specifiers.length?gt=se(gt,"{"+G+"}"):Ve.specifiers[0].type===$.ExportBatchSpecifier?gt=se(gt,this.generateExpression(Ve.specifiers[0],U.Sequence,7)):(gt=se(gt,"{"),Z(function(ln){var Be,Ge;for(gt.push(L),Be=0,Ge=Ve.specifiers.length;Be<Ge;++Be)gt.push(ln),gt.push(yt.generateExpression(Ve.specifiers[Be],U.Sequence,7)),Be+1<Ge&&gt.push(","+L)}),xe(rt(gt).toString())||gt.push(L),gt.push(x+"}")),Ve.source?gt=se(gt,["from"+G,this.generateExpression(Ve.source,U.Sequence,7),this.semicolon(st)]):gt.push(this.semicolon(st))),gt)},ExportAllDeclaration:function(Ve,st){return["export"+G,"*"+G,"from"+G,this.generateExpression(Ve.source,U.Sequence,7),this.semicolon(st)]},ExpressionStatement:function(Ve,st){var gt,dt;return 123===(dt=rt(gt=[this.generateExpression(Ve.expression,U.Sequence,7)]).toString()).charCodeAt(0)||function yt(Ge){var ht;return"class"===Ge.slice(0,5)&&(123===(ht=Ge.charCodeAt(5))||w.code.isWhiteSpace(ht)||w.code.isLineTerminator(ht))}(dt)||function ln(Ge){var ht;return"function"===Ge.slice(0,8)&&(40===(ht=Ge.charCodeAt(8))||w.code.isWhiteSpace(ht)||42===ht||w.code.isLineTerminator(ht))}(dt)||function Be(Ge){var ht,et,ut;if("async"!==Ge.slice(0,5)||!w.code.isWhiteSpace(Ge.charCodeAt(5)))return!1;for(et=6,ut=Ge.length;et<ut&&w.code.isWhiteSpace(Ge.charCodeAt(et));++et);return et!==ut&&"function"===Ge.slice(et,et+8)&&(40===(ht=Ge.charCodeAt(et+8))||w.code.isWhiteSpace(ht)||42===ht||w.code.isLineTerminator(ht))}(dt)||Q&&16&st&&Ve.expression.type===$.Literal&&"string"==typeof Ve.expression.value?gt=["(",gt,")"+this.semicolon(st)]:gt.push(this.semicolon(st)),gt},ImportDeclaration:function(Ve,st){var gt,dt,yt=this;return 0===Ve.specifiers.length?["import",G,this.generateExpression(Ve.source,U.Sequence,7),this.semicolon(st)]:(gt=["import"],Ve.specifiers[dt=0].type===$.ImportDefaultSpecifier&&(gt=se(gt,[this.generateExpression(Ve.specifiers[dt],U.Sequence,7)]),++dt),Ve.specifiers[dt]&&(0!==dt&&gt.push(","),Ve.specifiers[dt].type===$.ImportNamespaceSpecifier?gt=se(gt,[G,this.generateExpression(Ve.specifiers[dt],U.Sequence,7)]):(gt.push(G+"{"),Ve.specifiers.length-dt==1?(gt.push(G),gt.push(this.generateExpression(Ve.specifiers[dt],U.Sequence,7)),gt.push(G+"}"+G)):(Z(function(ln){var Be,Ge;for(gt.push(L),Be=dt,Ge=Ve.specifiers.length;Be<Ge;++Be)gt.push(ln),gt.push(yt.generateExpression(Ve.specifiers[Be],U.Sequence,7)),Be+1<Ge&&gt.push(","+L)}),xe(rt(gt).toString())||gt.push(L),gt.push(x+"}"+G)))),gt=se(gt,["from"+G,this.generateExpression(Ve.source,U.Sequence,7),this.semicolon(st)]))},VariableDeclarator:function(Ve,st){var gt=1&st?7:6;return Ve.init?[this.generateExpression(Ve.id,U.Assignment,gt),G,"=",G,this.generateExpression(Ve.init,U.Assignment,gt)]:this.generatePattern(Ve.id,U.Assignment,gt)},VariableDeclaration:function(Ve,st){var gt,dt,yt,ln,Be,Ge=this;function ht(){for(ln=Ve.declarations[0],te.comment&&ln.leadingComments?(gt.push("\n"),gt.push(W(Ge.generateStatement(ln,Be)))):(gt.push(Ut()),gt.push(Ge.generateStatement(ln,Be))),dt=1,yt=Ve.declarations.length;dt<yt;++dt)ln=Ve.declarations[dt],te.comment&&ln.leadingComments?(gt.push(","+L),gt.push(W(Ge.generateStatement(ln,Be)))):(gt.push(","+G),gt.push(Ge.generateStatement(ln,Be)))}return gt=[Ve.kind],Be=1&st?1:0,Ve.declarations.length>1?Z(ht):ht(),gt.push(this.semicolon(st)),gt},ThrowStatement:function(Ve,st){return[se("throw",this.generateExpression(Ve.argument,U.Sequence,7)),this.semicolon(st)]},TryStatement:function(Ve,st){var gt,dt,yt,ln;if(gt=["try",this.maybeBlock(Ve.block,1)],gt=this.maybeBlockSuffix(Ve.block,gt),Ve.handlers)for(dt=0,yt=Ve.handlers.length;dt<yt;++dt)gt=se(gt,this.generateStatement(Ve.handlers[dt],1)),(Ve.finalizer||dt+1!==yt)&&(gt=this.maybeBlockSuffix(Ve.handlers[dt].body,gt));else{for(dt=0,yt=(ln=Ve.guardedHandlers||[]).length;dt<yt;++dt)gt=se(gt,this.generateStatement(ln[dt],1)),(Ve.finalizer||dt+1!==yt)&&(gt=this.maybeBlockSuffix(ln[dt].body,gt));if(Ve.handler)if(Array.isArray(Ve.handler))for(dt=0,yt=Ve.handler.length;dt<yt;++dt)gt=se(gt,this.generateStatement(Ve.handler[dt],1)),(Ve.finalizer||dt+1!==yt)&&(gt=this.maybeBlockSuffix(Ve.handler[dt].body,gt));else gt=se(gt,this.generateStatement(Ve.handler,1)),Ve.finalizer&&(gt=this.maybeBlockSuffix(Ve.handler.body,gt))}return Ve.finalizer&&(gt=se(gt,["finally",this.maybeBlock(Ve.finalizer,1)])),gt},SwitchStatement:function(Ve,st){var gt,dt,yt,ln,Be,Ge=this;if(Z(function(){gt=["switch"+G+"(",Ge.generateExpression(Ve.discriminant,U.Sequence,7),")"+G+"{"+L]}),Ve.cases)for(Be=1,yt=0,ln=Ve.cases.length;yt<ln;++yt)yt===ln-1&&(Be|=F),dt=W(this.generateStatement(Ve.cases[yt],Be)),gt.push(dt),xe(rt(dt).toString())||gt.push(L);return gt.push(W("}")),gt},SwitchCase:function(Ve,st){var gt,dt,yt,ln,Be,Ge=this;return Z(function(){for(gt=Ve.test?[se("case",Ge.generateExpression(Ve.test,U.Sequence,7)),":"]:["default:"],yt=0,(ln=Ve.consequent.length)&&Ve.consequent[0].type===$.BlockStatement&&(dt=Ge.maybeBlock(Ve.consequent[0],1),gt.push(dt),yt=1),yt!==ln&&!xe(rt(gt).toString())&&gt.push(L),Be=1;yt<ln;++yt)yt===ln-1&&st&F&&(Be|=F),dt=W(Ge.generateStatement(Ve.consequent[yt],Be)),gt.push(dt),yt+1!==ln&&!xe(rt(dt).toString())&&gt.push(L)}),gt},IfStatement:function(Ve,st){var gt,dt,ln=this;return Z(function(){gt=["if"+G+"(",ln.generateExpression(Ve.test,U.Sequence,7),")"]}),dt=1,st&F&&(dt|=F),Ve.alternate?(gt.push(this.maybeBlock(Ve.consequent,1)),gt=se(gt=this.maybeBlockSuffix(Ve.consequent,gt),Ve.alternate.type===$.IfStatement?["else ",this.generateStatement(Ve.alternate,dt)]:se("else",this.maybeBlock(Ve.alternate,dt)))):gt.push(this.maybeBlock(Ve.consequent,dt)),gt},ForStatement:function(Ve,st){var gt,dt=this;return Z(function(){gt=["for"+G+"("],Ve.init?Ve.init.type===$.VariableDeclaration?gt.push(dt.generateStatement(Ve.init,0)):(gt.push(dt.generateExpression(Ve.init,U.Sequence,6)),gt.push(";")):gt.push(";"),Ve.test&&(gt.push(G),gt.push(dt.generateExpression(Ve.test,U.Sequence,7))),gt.push(";"),Ve.update&&(gt.push(G),gt.push(dt.generateExpression(Ve.update,U.Sequence,7))),gt.push(")")}),gt.push(this.maybeBlock(Ve.body,st&F?33:1)),gt},ForInStatement:function(Ve,st){return this.generateIterationForStatement("in",Ve,st&F?33:1)},ForOfStatement:function(Ve,st){return this.generateIterationForStatement("of",Ve,st&F?33:1)},LabeledStatement:function(Ve,st){return[Ve.label.name+":",this.maybeBlock(Ve.body,st&F?33:1)]},Program:function(Ve,st){var gt,dt,yt,ln,Be;for(ln=Ve.body.length,gt=[X&&ln>0?"\n":""],Be=17,yt=0;yt<ln;++yt)!X&&yt===ln-1&&(Be|=F),ge&&(0===yt&&(Ve.body[0].leadingComments||at(Ve.range[0],Ve.body[yt].range[0],gt)),yt>0&&!Ve.body[yt-1].trailingComments&&!Ve.body[yt].leadingComments&&at(Ve.body[yt-1].range[1],Ve.body[yt].range[0],gt)),dt=W(this.generateStatement(Ve.body[yt],Be)),gt.push(dt),yt+1<ln&&!xe(rt(dt).toString())&&(ge&&Ve.body[yt+1].leadingComments||gt.push(L)),ge&&yt===ln-1&&(Ve.body[yt].trailingComments||at(Ve.body[yt].range[1],Ve.range[1],gt));return gt},FunctionDeclaration:function(Ve,st){return[nn(Ve,!0),"function",Hn(Ve)||Ut(),Ve.id?Bt(Ve.id):"",this.generateFunctionBody(Ve)]},ReturnStatement:function(Ve,st){return Ve.argument?[se("return",this.generateExpression(Ve.argument,U.Sequence,7)),this.semicolon(st)]:["return"+this.semicolon(st)]},WhileStatement:function(Ve,st){var gt,dt=this;return Z(function(){gt=["while"+G+"(",dt.generateExpression(Ve.test,U.Sequence,7),")"]}),gt.push(this.maybeBlock(Ve.body,st&F?33:1)),gt},WithStatement:function(Ve,st){var gt,dt=this;return Z(function(){gt=["with"+G+"(",dt.generateExpression(Ve.object,U.Sequence,7),")"]}),gt.push(this.maybeBlock(Ve.body,st&F?33:1)),gt}}),be(Wt.prototype,Wt.Expression={SequenceExpression:function(Ve,st,gt){var dt,yt,ln;for(U.Sequence<st&&(gt|=1),dt=[],yt=0,ln=Ve.expressions.length;yt<ln;++yt)dt.push(this.generateExpression(Ve.expressions[yt],U.Assignment,gt)),yt+1<ln&&dt.push(","+G);return Rt(dt,U.Sequence,st)},AssignmentExpression:function(Ve,st,gt){return this.generateAssignment(Ve.left,Ve.right,Ve.operator,st,gt)},ArrowFunctionExpression:function(Ve,st,gt){return Rt(this.generateFunctionBody(Ve),U.ArrowFunction,st)},ConditionalExpression:function(Ve,st,gt){return U.Conditional<st&&(gt|=1),Rt([this.generateExpression(Ve.test,U.LogicalOR,gt),G+"?"+G,this.generateExpression(Ve.consequent,U.Assignment,gt),G+":"+G,this.generateExpression(Ve.alternate,U.Assignment,gt)],U.Conditional,st)},LogicalExpression:function(Ve,st,gt){return this.BinaryExpression(Ve,st,gt)},BinaryExpression:function(Ve,st,gt){var dt,ln,Be,Ge,ht;return Be=K[Ve.operator],ln="**"===Ve.operator?Be:Be+1,Be<st&&(gt|=1),dt=47===(ht=(Ge=this.generateExpression(Ve.left,"**"===Ve.operator?U.Postfix:Be,gt)).toString()).charCodeAt(ht.length-1)&&w.code.isIdentifierPartES5(Ve.operator.charCodeAt(0))?[Ge,Ut(),Ve.operator]:se(Ge,Ve.operator),Ge=this.generateExpression(Ve.right,ln,gt),"/"===Ve.operator&&"/"===Ge.toString().charAt(0)||"<"===Ve.operator.slice(-1)&&"!--"===Ge.toString().slice(0,3)?(dt.push(Ut()),dt.push(Ge)):dt=se(dt,Ge),"in"!==Ve.operator||1&gt?Rt(dt,Be,st):["(",dt,")"]},CallExpression:function(Ve,st,gt){var dt,yt,ln;for((dt=[this.generateExpression(Ve.callee,U.Call,3)]).push("("),yt=0,ln=Ve.arguments.length;yt<ln;++yt)dt.push(this.generateExpression(Ve.arguments[yt],U.Assignment,7)),yt+1<ln&&dt.push(","+G);return dt.push(")"),2&gt?Rt(dt,U.Call,st):["(",dt,")"]},NewExpression:function(Ve,st,gt){var dt,yt,ln,Be;if(yt=Ve.arguments.length,dt=se("new",this.generateExpression(Ve.callee,U.New,4&gt&&!B&&0===yt?5:1)),!(4&gt)||B||yt>0){for(dt.push("("),ln=0,Be=yt;ln<Be;++ln)dt.push(this.generateExpression(Ve.arguments[ln],U.Assignment,7)),ln+1<Be&&dt.push(","+G);dt.push(")")}return Rt(dt,U.New,st)},MemberExpression:function(Ve,st,gt){var dt,yt;return dt=[this.generateExpression(Ve.object,U.Call,2&gt?3:1)],Ve.computed?(dt.push("["),dt.push(this.generateExpression(Ve.property,U.Sequence,2&gt?7:5)),dt.push("]")):(Ve.object.type===$.Literal&&"number"==typeof Ve.object.value&&(yt=rt(dt).toString()).indexOf(".")<0&&!/[eExX]/.test(yt)&&w.code.isDecimalDigit(yt.charCodeAt(yt.length-1))&&!(yt.length>=2&&48===yt.charCodeAt(0))&&dt.push(" "),dt.push("."),dt.push(Bt(Ve.property))),Rt(dt,U.Member,st)},MetaProperty:function(Ve,st,gt){var dt;return(dt=[]).push("string"==typeof Ve.meta?Ve.meta:Bt(Ve.meta)),dt.push("."),dt.push("string"==typeof Ve.property?Ve.property:Bt(Ve.property)),Rt(dt,U.Member,st)},UnaryExpression:function(Ve,st,gt){var dt,yt,ln,Be,Ge;return yt=this.generateExpression(Ve.argument,U.Unary,7),""===G?dt=se(Ve.operator,yt):(dt=[Ve.operator],Ve.operator.length>2?dt=se(dt,yt):(Ge=(Be=rt(dt).toString()).charCodeAt(Be.length-1),ln=yt.toString().charCodeAt(0),((43===Ge||45===Ge)&&Ge===ln||w.code.isIdentifierPartES5(Ge)&&w.code.isIdentifierPartES5(ln))&&dt.push(Ut()),dt.push(yt))),Rt(dt,U.Unary,st)},YieldExpression:function(Ve,st,gt){var dt;return dt=Ve.delegate?"yield*":"yield",Ve.argument&&(dt=se(dt,this.generateExpression(Ve.argument,U.Yield,7))),Rt(dt,U.Yield,st)},AwaitExpression:function(Ve,st,gt){return Rt(se(Ve.all?"await*":"await",this.generateExpression(Ve.argument,U.Await,7)),U.Await,st)},UpdateExpression:function(Ve,st,gt){return Ve.prefix?Rt([Ve.operator,this.generateExpression(Ve.argument,U.Unary,7)],U.Unary,st):Rt([this.generateExpression(Ve.argument,U.Postfix,7),Ve.operator],U.Postfix,st)},FunctionExpression:function(Ve,st,gt){var dt=[nn(Ve,!0),"function"];return Ve.id?(dt.push(Hn(Ve)||Ut()),dt.push(Bt(Ve.id))):dt.push(Hn(Ve)||G),dt.push(this.generateFunctionBody(Ve)),dt},ArrayPattern:function(Ve,st,gt){return this.ArrayExpression(Ve,st,gt,!0)},ArrayExpression:function(Ve,st,gt,dt){var yt,ln,Be=this;return Ve.elements.length?(yt=["[",(ln=!dt&&Ve.elements.length>1)?L:""],Z(function(Ge){var ht,et;for(ht=0,et=Ve.elements.length;ht<et;++ht)Ve.elements[ht]?(yt.push(ln?Ge:""),yt.push(Be.generateExpression(Ve.elements[ht],U.Assignment,7))):(ln&&yt.push(Ge),ht+1===et&&yt.push(",")),ht+1<et&&yt.push(","+(ln?L:G))}),ln&&!xe(rt(yt).toString())&&yt.push(L),yt.push(ln?x:""),yt.push("]"),yt):"[]"},RestElement:function(Ve,st,gt){return"..."+this.generatePattern(Ve.argument)},ClassExpression:function(Ve,st,gt){var dt,yt;return dt=["class"],Ve.id&&(dt=se(dt,this.generateExpression(Ve.id,U.Sequence,7))),Ve.superClass&&(yt=se("extends",this.generateExpression(Ve.superClass,U.Unary,7)),dt=se(dt,yt)),dt.push(G),dt.push(this.generateStatement(Ve.body,33)),dt},MethodDefinition:function(Ve,st,gt){var dt,yt;return dt=Ve.static?["static"+G]:[],yt="get"===Ve.kind||"set"===Ve.kind?[se(Ve.kind,this.generatePropertyKey(Ve.key,Ve.computed)),this.generateFunctionBody(Ve.value)]:[sn(Ve),this.generatePropertyKey(Ve.key,Ve.computed),this.generateFunctionBody(Ve.value)],se(dt,yt)},Property:function(Ve,st,gt){return"get"===Ve.kind||"set"===Ve.kind?[Ve.kind,Ut(),this.generatePropertyKey(Ve.key,Ve.computed),this.generateFunctionBody(Ve.value)]:Ve.shorthand?"AssignmentPattern"===Ve.value.type?this.AssignmentPattern(Ve.value,U.Sequence,7):this.generatePropertyKey(Ve.key,Ve.computed):Ve.method?[sn(Ve),this.generatePropertyKey(Ve.key,Ve.computed),this.generateFunctionBody(Ve.value)]:[this.generatePropertyKey(Ve.key,Ve.computed),":"+G,this.generateExpression(Ve.value,U.Assignment,7)]},ObjectExpression:function(Ve,st,gt){var dt,yt,ln,Be=this;return Ve.properties.length?(dt=Ve.properties.length>1,Z(function(){ln=Be.generateExpression(Ve.properties[0],U.Sequence,7)}),dt||function u(Ve){return/[\r\n]/g.test(Ve)}(rt(ln).toString())?(Z(function(Ge){var ht,et;if(yt=["{",L,Ge,ln],dt)for(yt.push(","+L),ht=1,et=Ve.properties.length;ht<et;++ht)yt.push(Ge),yt.push(Be.generateExpression(Ve.properties[ht],U.Sequence,7)),ht+1<et&&yt.push(","+L)}),xe(rt(yt).toString())||yt.push(L),yt.push(x),yt.push("}"),yt):["{",G,ln,G,"}"]):"{}"},AssignmentPattern:function(Ve,st,gt){return this.generateAssignment(Ve.left,Ve.right,"=",st,gt)},ObjectPattern:function(Ve,st,gt){var dt,yt,ln,Be,Ge,ht=this;if(!Ve.properties.length)return"{}";if(Be=!1,1===Ve.properties.length)(Ge=Ve.properties[0]).type===$.Property&&Ge.value.type!==$.Identifier&&(Be=!0);else for(yt=0,ln=Ve.properties.length;yt<ln;++yt)if((Ge=Ve.properties[yt]).type===$.Property&&!Ge.shorthand){Be=!0;break}return dt=["{",Be?L:""],Z(function(et){var ut,en;for(ut=0,en=Ve.properties.length;ut<en;++ut)dt.push(Be?et:""),dt.push(ht.generateExpression(Ve.properties[ut],U.Sequence,7)),ut+1<en&&dt.push(","+(Be?L:G))}),Be&&!xe(rt(dt).toString())&&dt.push(L),dt.push(Be?x:""),dt.push("}"),dt},ThisExpression:function(Ve,st,gt){return"this"},Super:function(Ve,st,gt){return"super"},Identifier:function(Ve,st,gt){return Bt(Ve)},ImportDefaultSpecifier:function(Ve,st,gt){return Bt(Ve.id||Ve.local)},ImportNamespaceSpecifier:function(Ve,st,gt){var dt=["*"],yt=Ve.id||Ve.local;return yt&&dt.push(G+"as"+Ut()+Bt(yt)),dt},ImportSpecifier:function(Ve,st,gt){var dt=Ve.imported,yt=[dt.name],ln=Ve.local;return ln&&ln.name!==dt.name&&yt.push(Ut()+"as"+Ut()+Bt(ln)),yt},ExportSpecifier:function(Ve,st,gt){var dt=Ve.local,yt=[dt.name],ln=Ve.exported;return ln&&ln.name!==dt.name&&yt.push(Ut()+"as"+Ut()+Bt(ln)),yt},Literal:function(Ve,st,gt){var dt;if(Ve.hasOwnProperty("raw")&&ie&&te.raw)try{if((dt=ie(Ve.raw).body[0].expression).type===$.Literal&&dt.value===Ve.value)return Ve.raw}catch{}return Ve.regex?"/"+Ve.regex.pattern+"/"+Ve.regex.flags:null===Ve.value?"null":"string"==typeof Ve.value?function wt(Ve){var gt,dt,yt,Ge,ht,st="",ln=0,Be=0;for(gt=0,dt=Ve.length;gt<dt;++gt){if(39===(yt=Ve.charCodeAt(gt)))++ln;else if(34===yt)++Be;else if(47===yt&&k)st+="\\";else{if(w.code.isLineTerminator(yt)||92===yt){st+=We(yt);continue}if(!w.code.isIdentifierPartES5(yt)&&(k&&yt<32||!k&&!P&&(yt<32||yt>126))){st+=Ne(yt,Ve.charCodeAt(gt+1));continue}}st+=String.fromCharCode(yt)}if(ht=(Ge=!("double"===M||"auto"===M&&Be<ln))?"'":'"',!(Ge?ln:Be))return ht+st+ht;for(Ve=st,st=ht,gt=0,dt=Ve.length;gt<dt;++gt)(39===(yt=Ve.charCodeAt(gt))&&Ge||34===yt&&!Ge)&&(st+="\\"),st+=String.fromCharCode(yt);return st+ht}(Ve.value):"number"==typeof Ve.value?function Ce(Ve){var st,gt,dt,yt,ln;if(Ve!=Ve)throw new Error("Numeric literal whose value is NaN");if(Ve<0||0===Ve&&1/Ve<0)throw new Error("Numeric literal whose value is negative");if(Ve===1/0)return k?"null":v?"1e400":"1e+400";if(st=""+Ve,!v||st.length<3)return st;for(gt=st.indexOf("."),!k&&48===st.charCodeAt(0)&&1===gt&&(gt=0,st=st.slice(1)),dt=st,st=st.replace("e+","e"),yt=0,(ln=dt.indexOf("e"))>0&&(yt=+dt.slice(ln+1),dt=dt.slice(0,ln)),gt>=0&&(yt-=dt.length-gt-1,dt=+(dt.slice(0,gt)+dt.slice(gt+1))+""),ln=0;48===dt.charCodeAt(dt.length+ln-1);)--ln;return 0!==ln&&(yt-=ln,dt=dt.slice(0,ln)),0!==yt&&(dt+="e"+yt),(dt.length<st.length||N&&Ve>1e12&&Math.floor(Ve)===Ve&&(dt="0x"+Ve.toString(16)).length<st.length)&&+dt===Ve&&(st=dt),st}(Ve.value):"boolean"==typeof Ve.value?Ve.value?"true":"false":function ze(Ve){var st,gt,dt,yt,ln,Be,Ge,ht;if(gt=Ve.toString(),Ve.source){if(!(st=gt.match(/\/([^/]*)$/)))return gt;for(dt=st[1],gt="",Ge=!1,ht=!1,yt=0,ln=Ve.source.length;yt<ln;++yt)Be=Ve.source.charCodeAt(yt),ht?(gt+=ke(Be,ht),ht=!1):(Ge?93===Be&&(Ge=!1):47===Be?gt+="\\":91===Be&&(Ge=!0),gt+=ke(Be,ht),ht=92===Be);return"/"+gt+"/"+dt}return gt}(Ve.value)},GeneratorExpression:function(Ve,st,gt){return this.ComprehensionExpression(Ve,st,gt)},ComprehensionExpression:function(Ve,st,gt){var dt,yt,ln,Be,Ge=this;return dt=Ve.type===$.GeneratorExpression?["("]:["["],te.moz.comprehensionExpressionStartsWithAssignment&&(Be=this.generateExpression(Ve.body,U.Assignment,7),dt.push(Be)),Ve.blocks&&Z(function(){for(yt=0,ln=Ve.blocks.length;yt<ln;++yt)Be=Ge.generateExpression(Ve.blocks[yt],U.Sequence,7),yt>0||te.moz.comprehensionExpressionStartsWithAssignment?dt=se(dt,Be):dt.push(Be)}),Ve.filter&&(dt=se(dt,"if"+G),Be=this.generateExpression(Ve.filter,U.Sequence,7),dt=se(dt,["(",Be,")"])),te.moz.comprehensionExpressionStartsWithAssignment||(Be=this.generateExpression(Ve.body,U.Assignment,7),dt=se(dt,Be)),dt.push(Ve.type===$.GeneratorExpression?")":"]"),dt},ComprehensionBlock:function(Ve,st,gt){var dt;return dt=se(dt=Ve.left.type===$.VariableDeclaration?[Ve.left.kind,Ut(),this.generateStatement(Ve.left.declarations[0],0)]:this.generateExpression(Ve.left,U.Call,7),Ve.of?"of":"in"),dt=se(dt,this.generateExpression(Ve.right,U.Sequence,7)),["for"+G+"(",dt,")"]},SpreadElement:function(Ve,st,gt){return["...",this.generateExpression(Ve.argument,U.Assignment,7)]},TaggedTemplateExpression:function(Ve,st,gt){var dt=3;return 2&gt||(dt=1),Rt([this.generateExpression(Ve.tag,U.Call,dt),this.generateExpression(Ve.quasi,U.Primary,4)],U.TaggedTemplate,st)},TemplateElement:function(Ve,st,gt){return Ve.value.raw},TemplateLiteral:function(Ve,st,gt){var dt,yt,ln;for(dt=["`"],yt=0,ln=Ve.quasis.length;yt<ln;++yt)dt.push(this.generateExpression(Ve.quasis[yt],U.Primary,7)),yt+1<ln&&(dt.push("${"+G),dt.push(this.generateExpression(Ve.expressions[yt],U.Sequence,7)),dt.push(G+"}"));return dt.push("`"),dt},ModuleSpecifier:function(Ve,st,gt){return this.Literal(Ve,st,gt)},ImportExpression:function(Ve,st,gt){return Rt(["import(",this.generateExpression(Ve.source,U.Assignment,7),")"],U.Call,st)}}),Wt.prototype.generateExpression=function(Ve,st,gt){var dt,yt;return yt=Ve.type||$.Property,te.verbatim&&Ve.hasOwnProperty(te.verbatim)?function At(Ve,st){var gt;return rt("string"==typeof(gt=Ve[te.verbatim])?Rt(Mt(gt),U.Sequence,st):Rt(Mt(gt.content),null!=gt.precedence?gt.precedence:U.Sequence,st),Ve)}(Ve,st):(dt=this[yt](Ve,st,gt),te.comment&&(dt=Ze(Ve,dt)),rt(dt,Ve))},Wt.prototype.generateStatement=function(Ve,st){var gt,dt;return gt=this[Ve.type](Ve,st),te.comment&&(gt=Ze(Ve,gt)),dt=rt(gt).toString(),Ve.type===$.Program&&!X&&""===L&&"\n"===dt.charAt(dt.length-1)&&(gt=ae?rt(gt).replaceRight(/\s+$/,""):dt.replace(/\s+$/,"")),rt(gt,Ve)},A(84777),I.cM=function kn(Ve,st){var dt,yt,gt={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=st?("string"==typeof st.indent&&(gt.format.indent.style=st.indent),"number"==typeof st.base&&(gt.format.indent.base=st.base),st=_e(gt,st),R=st.format.indent.style,x="string"==typeof st.base?st.base:Te(R,st.format.indent.base)):x=Te(R=(st=gt).format.indent.style,st.format.indent.base),v=st.format.renumber,N=!(k=st.format.json)&&st.format.hexadecimal,M=k?"double":st.format.quotes,P=st.format.escapeless,L=st.format.newline,G=st.format.space,st.format.compact&&(L=G=R=x=""),B=st.format.parentheses,q=st.format.semicolons,X=st.format.safeConcatenation,Q=st.directive,ie=k?null:st.parse,me=st.sourceCode,ge=st.format.preserveBlankLines&&null!==me,te=st,(ae=st.sourceMap)&&(y=I.T?globalThis.sourceMap.SourceNode:A(89877).SourceNode),dt=function an(Ve){var st;if(st=new Wt,f(Ve))return st.generateStatement(Ve,1);if(function d(Ve){return Wt.Expression.hasOwnProperty(Ve.type)}(Ve))return st.generateExpression(Ve,U.Sequence,7);throw new Error("Unknown node type: "+Ve.type)}(Ve),ae?(yt=dt.toStringWithSourceMap({file:st.file,sourceRoot:st.sourceMapRoot}),st.sourceContent&&yt.map.setSourceContent(st.sourceMap,st.sourceContent),st.sourceMapWithCode?yt:yt.map.toString()):(yt={code:dt.toString(),map:null},st.sourceMapWithCode?yt:yt.code)},_e({},U),I.T=!1}()},24683:(ye,I,A)=>{var O=A(75775),$=Object.prototype.hasOwnProperty,U=typeof Map<"u";function K(){this._array=[],this._set=U?new Map:Object.create(null)}K.fromArray=function(T,w){for(var x=new K,R=0,k=T.length;R<k;R++)x.add(T[R],w);return x},K.prototype.size=function(){return U?this._set.size:Object.getOwnPropertyNames(this._set).length},K.prototype.add=function(T,w){var x=U?T:O.toSetString(T),R=U?this.has(T):$.call(this._set,x),k=this._array.length;(!R||w)&&this._array.push(T),R||(U?this._set.set(T,k):this._set[x]=k)},K.prototype.has=function(T){if(U)return this._set.has(T);var w=O.toSetString(T);return $.call(this._set,w)},K.prototype.indexOf=function(T){if(U){var w=this._set.get(T);if(w>=0)return w}else{var x=O.toSetString(T);if($.call(this._set,x))return this._set[x]}throw new Error('"'+T+'" is not in the set.')},K.prototype.at=function(T){if(T>=0&&T<this._array.length)return this._array[T];throw new Error("No element indexed by "+T)},K.prototype.toArray=function(){return this._array.slice()},I.C=K},59344:(ye,I,A)=>{var O=A(57312);I.encode=function(R){var v,k="",N=function T(x){return x<0?1+(-x<<1):0+(x<<1)}(R);do{v=31&N,(N>>>=5)>0&&(v|=32),k+=O.encode(v)}while(N>0);return k},I.decode=function(R,k,v){var L,G,N=R.length,M=0,P=0;do{if(k>=N)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(G=O.decode(R.charCodeAt(k++))))throw new Error("Invalid base64 digit: "+R.charAt(k-1));L=!!(32&G),M+=(G&=31)<<P,P+=5}while(L);v.value=function w(x){var k=x>>1;return 1&~x?k:-k}(M),v.rest=k}},57312:(ye,I)=>{var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");I.encode=function(O){if(0<=O&&O<A.length)return A[O];throw new TypeError("Must be between 0 and 63: "+O)},I.decode=function(O){return 65<=O&&O<=90?O-65:97<=O&&O<=122?O-97+26:48<=O&&O<=57?O-48+52:43==O?62:47==O?63:-1}},36295:(ye,I)=>{function A(O,$,U,K,y,T){var w=Math.floor(($-O)/2)+O,x=y(U,K[w],!0);return 0===x?w:x>0?$-w>1?A(w,$,U,K,y,T):T==I.LEAST_UPPER_BOUND?$<K.length?$:-1:w:w-O>1?A(O,w,U,K,y,T):T==I.LEAST_UPPER_BOUND?w:O<0?-1:O}I.GREATEST_LOWER_BOUND=1,I.LEAST_UPPER_BOUND=2,I.search=function($,U,K,y){if(0===U.length)return-1;var T=A(-1,U.length,$,U,K,y||I.GREATEST_LOWER_BOUND);if(T<0)return-1;for(;T-1>=0&&0===K(U[T],U[T-1],!0);)--T;return T}},94242:(ye,I,A)=>{var O=A(75775);function U(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}U.prototype.unsortedForEach=function(y,T){this._array.forEach(y,T)},U.prototype.add=function(y){!function $(K,y){var T=K.generatedLine,w=y.generatedLine;return w>T||w==T&&y.generatedColumn>=K.generatedColumn||O.compareByGeneratedPositionsInflated(K,y)<=0}(this._last,y)?(this._sorted=!1,this._array.push(y)):(this._last=y,this._array.push(y))},U.prototype.toArray=function(){return this._sorted||(this._array.sort(O.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},I.P=U},14421:(ye,I)=>{function A(U,K,y){var T=U[K];U[K]=U[y],U[y]=T}function $(U,K,y,T){if(y<T){var w=function O(U,K){return Math.round(U+Math.random()*(K-U))}(y,T),x=y-1;A(U,w,T);for(var R=U[T],k=y;k<T;k++)K(U[k],R)<=0&&A(U,x+=1,k);A(U,x+1,k);var v=x+1;$(U,K,y,v-1),$(U,K,v+1,T)}}I.g=function(U,K){$(U,K,0,U.length-1)}},2818:(ye,I,A)=>{var $=A(75775),U=A(36295),K=A(24683).C,y=A(59344),T=A(14421).g;function w(v,N){var M=v;return"string"==typeof v&&(M=$.parseSourceMapInput(v)),null!=M.sections?new k(M,N):new x(M,N)}function x(v,N){var M=v;"string"==typeof v&&(M=$.parseSourceMapInput(v));var P=$.getArg(M,"version"),L=$.getArg(M,"sources"),G=$.getArg(M,"names",[]),B=$.getArg(M,"sourceRoot",null),q=$.getArg(M,"sourcesContent",null),X=$.getArg(M,"mappings"),Q=$.getArg(M,"file",null);if(P!=this._version)throw new Error("Unsupported version: "+P);B&&(B=$.normalize(B)),L=L.map(String).map($.normalize).map(function(te){return B&&$.isAbsolute(B)&&$.isAbsolute(te)?$.relative(B,te):te}),this._names=K.fromArray(G.map(String),!0),this._sources=K.fromArray(L,!0),this._absoluteSources=this._sources.toArray().map(function(te){return $.computeSourceURL(B,te,N)}),this.sourceRoot=B,this.sourcesContent=q,this._mappings=X,this._sourceMapURL=N,this.file=Q}function R(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function k(v,N){var M=v;"string"==typeof v&&(M=$.parseSourceMapInput(v));var P=$.getArg(M,"version"),L=$.getArg(M,"sections");if(P!=this._version)throw new Error("Unsupported version: "+P);this._sources=new K,this._names=new K;var G={line:-1,column:0};this._sections=L.map(function(B){if(B.url)throw new Error("Support for url field in sections not implemented.");var q=$.getArg(B,"offset"),X=$.getArg(q,"line"),Q=$.getArg(q,"column");if(X<G.line||X===G.line&&Q<G.column)throw new Error("Section offsets must be ordered and non-overlapping.");return G=q,{generatedOffset:{generatedLine:X+1,generatedColumn:Q+1},consumer:new w($.getArg(B,"map"),N)}})}w.fromSourceMap=function(v,N){return x.fromSourceMap(v,N)},w.prototype._version=3,w.prototype.__generatedMappings=null,Object.defineProperty(w.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),w.prototype.__originalMappings=null,Object.defineProperty(w.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),w.prototype._charIsMappingSeparator=function(N,M){var P=N.charAt(M);return";"===P||","===P},w.prototype._parseMappings=function(N,M){throw new Error("Subclasses must implement _parseMappings")},w.GENERATED_ORDER=1,w.ORIGINAL_ORDER=2,w.GREATEST_LOWER_BOUND=1,w.LEAST_UPPER_BOUND=2,w.prototype.eachMapping=function(N,M,P){var B,L=M||null;switch(P||w.GENERATED_ORDER){case w.GENERATED_ORDER:B=this._generatedMappings;break;case w.ORIGINAL_ORDER:B=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var q=this.sourceRoot;B.map(function(X){var Q=null===X.source?null:this._sources.at(X.source);return{source:Q=$.computeSourceURL(q,Q,this._sourceMapURL),generatedLine:X.generatedLine,generatedColumn:X.generatedColumn,originalLine:X.originalLine,originalColumn:X.originalColumn,name:null===X.name?null:this._names.at(X.name)}},this).forEach(N,L)},w.prototype.allGeneratedPositionsFor=function(N){var M=$.getArg(N,"line"),P={source:$.getArg(N,"source"),originalLine:M,originalColumn:$.getArg(N,"column",0)};if(P.source=this._findSourceIndex(P.source),P.source<0)return[];var L=[],G=this._findMapping(P,this._originalMappings,"originalLine","originalColumn",$.compareByOriginalPositions,U.LEAST_UPPER_BOUND);if(G>=0){var B=this._originalMappings[G];if(void 0===N.column)for(var q=B.originalLine;B&&B.originalLine===q;)L.push({line:$.getArg(B,"generatedLine",null),column:$.getArg(B,"generatedColumn",null),lastColumn:$.getArg(B,"lastGeneratedColumn",null)}),B=this._originalMappings[++G];else for(var X=B.originalColumn;B&&B.originalLine===M&&B.originalColumn==X;)L.push({line:$.getArg(B,"generatedLine",null),column:$.getArg(B,"generatedColumn",null),lastColumn:$.getArg(B,"lastGeneratedColumn",null)}),B=this._originalMappings[++G]}return L},(x.prototype=Object.create(w.prototype)).consumer=w,x.prototype._findSourceIndex=function(v){var M,N=v;if(null!=this.sourceRoot&&(N=$.relative(this.sourceRoot,N)),this._sources.has(N))return this._sources.indexOf(N);for(M=0;M<this._absoluteSources.length;++M)if(this._absoluteSources[M]==v)return M;return-1},x.fromSourceMap=function(N,M){var P=Object.create(x.prototype),L=P._names=K.fromArray(N._names.toArray(),!0),G=P._sources=K.fromArray(N._sources.toArray(),!0);P.sourceRoot=N._sourceRoot,P.sourcesContent=N._generateSourcesContent(P._sources.toArray(),P.sourceRoot),P.file=N._file,P._sourceMapURL=M,P._absoluteSources=P._sources.toArray().map(function(me){return $.computeSourceURL(P.sourceRoot,me,M)});for(var B=N._mappings.toArray().slice(),q=P.__generatedMappings=[],X=P.__originalMappings=[],Q=0,te=B.length;Q<te;Q++){var ie=B[Q],ae=new R;ae.generatedLine=ie.generatedLine,ae.generatedColumn=ie.generatedColumn,ie.source&&(ae.source=G.indexOf(ie.source),ae.originalLine=ie.originalLine,ae.originalColumn=ie.originalColumn,ie.name&&(ae.name=L.indexOf(ie.name)),X.push(ae)),q.push(ae)}return T(P.__originalMappings,$.compareByOriginalPositions),P},x.prototype._version=3,Object.defineProperty(x.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),x.prototype._parseMappings=function(N,M){for(var de,z,d,f,P=1,L=0,G=0,B=0,q=0,X=0,Q=N.length,te=0,ie={},ae={},me=[],ge=[];te<Q;)if(";"===N.charAt(te))P++,te++,L=0;else if(","===N.charAt(te))te++;else{for((de=new R).generatedLine=P,f=te;f<Q&&!this._charIsMappingSeparator(N,f);f++);if(d=ie[z=N.slice(te,f)])te+=z.length;else{for(d=[];te<f;)y.decode(N,te,ae),te=ae.rest,d.push(ae.value);if(2===d.length)throw new Error("Found a source, but no line and column");if(3===d.length)throw new Error("Found a source and line, but no column");ie[z]=d}de.generatedColumn=L+d[0],L=de.generatedColumn,d.length>1&&(de.source=q+d[1],q+=d[1],de.originalLine=G+d[2],G=de.originalLine,de.originalLine+=1,de.originalColumn=B+d[3],B=de.originalColumn,d.length>4&&(de.name=X+d[4],X+=d[4])),ge.push(de),"number"==typeof de.originalLine&&me.push(de)}T(ge,$.compareByGeneratedPositionsDeflated),this.__generatedMappings=ge,T(me,$.compareByOriginalPositions),this.__originalMappings=me},x.prototype._findMapping=function(N,M,P,L,G,B){if(N[P]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+N[P]);if(N[L]<0)throw new TypeError("Column must be greater than or equal to 0, got "+N[L]);return U.search(N,M,G,B)},x.prototype.computeColumnSpans=function(){for(var N=0;N<this._generatedMappings.length;++N){var M=this._generatedMappings[N];if(N+1<this._generatedMappings.length){var P=this._generatedMappings[N+1];if(M.generatedLine===P.generatedLine){M.lastGeneratedColumn=P.generatedColumn-1;continue}}M.lastGeneratedColumn=1/0}},x.prototype.originalPositionFor=function(N){var M={generatedLine:$.getArg(N,"line"),generatedColumn:$.getArg(N,"column")},P=this._findMapping(M,this._generatedMappings,"generatedLine","generatedColumn",$.compareByGeneratedPositionsDeflated,$.getArg(N,"bias",w.GREATEST_LOWER_BOUND));if(P>=0){var L=this._generatedMappings[P];if(L.generatedLine===M.generatedLine){var G=$.getArg(L,"source",null);null!==G&&(G=this._sources.at(G),G=$.computeSourceURL(this.sourceRoot,G,this._sourceMapURL));var B=$.getArg(L,"name",null);return null!==B&&(B=this._names.at(B)),{source:G,line:$.getArg(L,"originalLine",null),column:$.getArg(L,"originalColumn",null),name:B}}}return{source:null,line:null,column:null,name:null}},x.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(N){return null==N})},x.prototype.sourceContentFor=function(N,M){if(!this.sourcesContent)return null;var P=this._findSourceIndex(N);if(P>=0)return this.sourcesContent[P];var G,L=N;if(null!=this.sourceRoot&&(L=$.relative(this.sourceRoot,L)),null!=this.sourceRoot&&(G=$.urlParse(this.sourceRoot))){var B=L.replace(/^file:\/\//,"");if("file"==G.scheme&&this._sources.has(B))return this.sourcesContent[this._sources.indexOf(B)];if((!G.path||"/"==G.path)&&this._sources.has("/"+L))return this.sourcesContent[this._sources.indexOf("/"+L)]}if(M)return null;throw new Error('"'+L+'" is not in the SourceMap.')},x.prototype.generatedPositionFor=function(N){var M=$.getArg(N,"source");if((M=this._findSourceIndex(M))<0)return{line:null,column:null,lastColumn:null};var P={source:M,originalLine:$.getArg(N,"line"),originalColumn:$.getArg(N,"column")},L=this._findMapping(P,this._originalMappings,"originalLine","originalColumn",$.compareByOriginalPositions,$.getArg(N,"bias",w.GREATEST_LOWER_BOUND));if(L>=0){var G=this._originalMappings[L];if(G.source===P.source)return{line:$.getArg(G,"generatedLine",null),column:$.getArg(G,"generatedColumn",null),lastColumn:$.getArg(G,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},(k.prototype=Object.create(w.prototype)).constructor=w,k.prototype._version=3,Object.defineProperty(k.prototype,"sources",{get:function(){for(var v=[],N=0;N<this._sections.length;N++)for(var M=0;M<this._sections[N].consumer.sources.length;M++)v.push(this._sections[N].consumer.sources[M]);return v}}),k.prototype.originalPositionFor=function(N){var M={generatedLine:$.getArg(N,"line"),generatedColumn:$.getArg(N,"column")},P=U.search(M,this._sections,function(G,B){return G.generatedLine-B.generatedOffset.generatedLine||G.generatedColumn-B.generatedOffset.generatedColumn}),L=this._sections[P];return L?L.consumer.originalPositionFor({line:M.generatedLine-(L.generatedOffset.generatedLine-1),column:M.generatedColumn-(L.generatedOffset.generatedLine===M.generatedLine?L.generatedOffset.generatedColumn-1:0),bias:N.bias}):{source:null,line:null,column:null,name:null}},k.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(N){return N.consumer.hasContentsOfAllSources()})},k.prototype.sourceContentFor=function(N,M){for(var P=0;P<this._sections.length;P++){var G=this._sections[P].consumer.sourceContentFor(N,!0);if(G)return G}if(M)return null;throw new Error('"'+N+'" is not in the SourceMap.')},k.prototype.generatedPositionFor=function(N){for(var M=0;M<this._sections.length;M++){var P=this._sections[M];if(-1!==P.consumer._findSourceIndex($.getArg(N,"source"))){var L=P.consumer.generatedPositionFor(N);if(L)return{line:L.line+(P.generatedOffset.generatedLine-1),column:L.column+(P.generatedOffset.generatedLine===L.line?P.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},k.prototype._parseMappings=function(N,M){this.__generatedMappings=[],this.__originalMappings=[];for(var P=0;P<this._sections.length;P++)for(var L=this._sections[P],G=L.consumer._generatedMappings,B=0;B<G.length;B++){var q=G[B],X=L.consumer._sources.at(q.source);X=$.computeSourceURL(L.consumer.sourceRoot,X,this._sourceMapURL),this._sources.add(X),X=this._sources.indexOf(X);var Q=null;q.name&&(Q=L.consumer._names.at(q.name),this._names.add(Q),Q=this._names.indexOf(Q));var te={source:X,generatedLine:q.generatedLine+(L.generatedOffset.generatedLine-1),generatedColumn:q.generatedColumn+(L.generatedOffset.generatedLine===q.generatedLine?L.generatedOffset.generatedColumn-1:0),originalLine:q.originalLine,originalColumn:q.originalColumn,name:Q};this.__generatedMappings.push(te),"number"==typeof te.originalLine&&this.__originalMappings.push(te)}T(this.__generatedMappings,$.compareByGeneratedPositionsDeflated),T(this.__originalMappings,$.compareByOriginalPositions)}},63429:(ye,I,A)=>{var O=A(59344),$=A(75775),U=A(24683).C,K=A(94242).P;function y(T){T||(T={}),this._file=$.getArg(T,"file",null),this._sourceRoot=$.getArg(T,"sourceRoot",null),this._skipValidation=$.getArg(T,"skipValidation",!1),this._sources=new U,this._names=new U,this._mappings=new K,this._sourcesContents=null}y.prototype._version=3,y.fromSourceMap=function(w){var x=w.sourceRoot,R=new y({file:w.file,sourceRoot:x});return w.eachMapping(function(k){var v={generated:{line:k.generatedLine,column:k.generatedColumn}};null!=k.source&&(v.source=k.source,null!=x&&(v.source=$.relative(x,v.source)),v.original={line:k.originalLine,column:k.originalColumn},null!=k.name&&(v.name=k.name)),R.addMapping(v)}),w.sources.forEach(function(k){var v=k;null!==x&&(v=$.relative(x,k)),R._sources.has(v)||R._sources.add(v);var N=w.sourceContentFor(k);null!=N&&R.setSourceContent(k,N)}),R},y.prototype.addMapping=function(w){var x=$.getArg(w,"generated"),R=$.getArg(w,"original",null),k=$.getArg(w,"source",null),v=$.getArg(w,"name",null);this._skipValidation||this._validateMapping(x,R,k,v),null!=k&&(k=String(k),this._sources.has(k)||this._sources.add(k)),null!=v&&(v=String(v),this._names.has(v)||this._names.add(v)),this._mappings.add({generatedLine:x.line,generatedColumn:x.column,originalLine:null!=R&&R.line,originalColumn:null!=R&&R.column,source:k,name:v})},y.prototype.setSourceContent=function(w,x){var R=w;null!=this._sourceRoot&&(R=$.relative(this._sourceRoot,R)),null!=x?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[$.toSetString(R)]=x):this._sourcesContents&&(delete this._sourcesContents[$.toSetString(R)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},y.prototype.applySourceMap=function(w,x,R){var k=x;if(null==x){if(null==w.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');k=w.file}var v=this._sourceRoot;null!=v&&(k=$.relative(v,k));var N=new U,M=new U;this._mappings.unsortedForEach(function(P){if(P.source===k&&null!=P.originalLine){var L=w.originalPositionFor({line:P.originalLine,column:P.originalColumn});null!=L.source&&(P.source=L.source,null!=R&&(P.source=$.join(R,P.source)),null!=v&&(P.source=$.relative(v,P.source)),P.originalLine=L.line,P.originalColumn=L.column,null!=L.name&&(P.name=L.name))}var G=P.source;null!=G&&!N.has(G)&&N.add(G);var B=P.name;null!=B&&!M.has(B)&&M.add(B)},this),this._sources=N,this._names=M,w.sources.forEach(function(P){var L=w.sourceContentFor(P);null!=L&&(null!=R&&(P=$.join(R,P)),null!=v&&(P=$.relative(v,P)),this.setSourceContent(P,L))},this)},y.prototype._validateMapping=function(w,x,R,k){if(x&&"number"!=typeof x.line&&"number"!=typeof x.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(w&&"line"in w&&"column"in w&&w.line>0&&w.column>=0)||x||R||k){if(w&&"line"in w&&"column"in w&&x&&"line"in x&&"column"in x&&w.line>0&&w.column>=0&&x.line>0&&x.column>=0&&R)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:w,source:R,original:x,name:k}))}},y.prototype._serializeMappings=function(){for(var P,L,G,B,w=0,x=1,R=0,k=0,v=0,N=0,M="",q=this._mappings.toArray(),X=0,Q=q.length;X<Q;X++){if(P="",(L=q[X]).generatedLine!==x)for(w=0;L.generatedLine!==x;)P+=";",x++;else if(X>0){if(!$.compareByGeneratedPositionsInflated(L,q[X-1]))continue;P+=","}P+=O.encode(L.generatedColumn-w),w=L.generatedColumn,null!=L.source&&(B=this._sources.indexOf(L.source),P+=O.encode(B-N),N=B,P+=O.encode(L.originalLine-1-k),k=L.originalLine-1,P+=O.encode(L.originalColumn-R),R=L.originalColumn,null!=L.name&&(G=this._names.indexOf(L.name),P+=O.encode(G-v),v=G)),M+=P}return M},y.prototype._generateSourcesContent=function(w,x){return w.map(function(R){if(!this._sourcesContents)return null;null!=x&&(R=$.relative(x,R));var k=$.toSetString(R);return Object.prototype.hasOwnProperty.call(this._sourcesContents,k)?this._sourcesContents[k]:null},this)},y.prototype.toJSON=function(){var w={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(w.file=this._file),null!=this._sourceRoot&&(w.sourceRoot=this._sourceRoot),this._sourcesContents&&(w.sourcesContent=this._generateSourcesContent(w.sources,w.sourceRoot)),w},y.prototype.toString=function(){return JSON.stringify(this.toJSON())},I.x=y},72071:(ye,I,A)=>{var O=A(63429).x,$=A(75775),U=/(\r?\n)/,y="$$$isSourceNode$$$";function T(w,x,R,k,v){this.children=[],this.sourceContents={},this.line=w??null,this.column=x??null,this.source=R??null,this.name=v??null,this[y]=!0,null!=k&&this.add(k)}T.fromStringWithSourceMap=function(x,R,k){var v=new T,N=x.split(U),M=0,P=function(){return te()+(te()||"");function te(){return M<N.length?N[M++]:void 0}},L=1,G=0,B=null;return R.eachMapping(function(X){if(null!==B){if(!(L<X.generatedLine)){var te=(Q=N[M]||"").substr(0,X.generatedColumn-G);return N[M]=Q.substr(X.generatedColumn-G),G=X.generatedColumn,q(B,te),void(B=X)}q(B,P()),L++,G=0}for(;L<X.generatedLine;)v.add(P()),L++;var Q;G<X.generatedColumn&&(v.add((Q=N[M]||"").substr(0,X.generatedColumn)),N[M]=Q.substr(X.generatedColumn),G=X.generatedColumn),B=X},this),M<N.length&&(B&&q(B,P()),v.add(N.splice(M).join(""))),R.sources.forEach(function(X){var Q=R.sourceContentFor(X);null!=Q&&(null!=k&&(X=$.join(k,X)),v.setSourceContent(X,Q))}),v;function q(X,Q){if(null===X||void 0===X.source)v.add(Q);else{var te=k?$.join(k,X.source):X.source;v.add(new T(X.originalLine,X.originalColumn,te,Q,X.name))}}},T.prototype.add=function(x){if(Array.isArray(x))x.forEach(function(R){this.add(R)},this);else{if(!x[y]&&"string"!=typeof x)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+x);x&&this.children.push(x)}return this},T.prototype.prepend=function(x){if(Array.isArray(x))for(var R=x.length-1;R>=0;R--)this.prepend(x[R]);else{if(!x[y]&&"string"!=typeof x)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+x);this.children.unshift(x)}return this},T.prototype.walk=function(x){for(var R,k=0,v=this.children.length;k<v;k++)(R=this.children[k])[y]?R.walk(x):""!==R&&x(R,{source:this.source,line:this.line,column:this.column,name:this.name})},T.prototype.join=function(x){var R,k,v=this.children.length;if(v>0){for(R=[],k=0;k<v-1;k++)R.push(this.children[k]),R.push(x);R.push(this.children[k]),this.children=R}return this},T.prototype.replaceRight=function(x,R){var k=this.children[this.children.length-1];return k[y]?k.replaceRight(x,R):"string"==typeof k?this.children[this.children.length-1]=k.replace(x,R):this.children.push("".replace(x,R)),this},T.prototype.setSourceContent=function(x,R){this.sourceContents[$.toSetString(x)]=R},T.prototype.walkSourceContents=function(x){for(var R=0,k=this.children.length;R<k;R++)this.children[R][y]&&this.children[R].walkSourceContents(x);var v=Object.keys(this.sourceContents);for(R=0,k=v.length;R<k;R++)x($.fromSetString(v[R]),this.sourceContents[v[R]])},T.prototype.toString=function(){var x="";return this.walk(function(R){x+=R}),x},T.prototype.toStringWithSourceMap=function(x){var R={code:"",line:1,column:0},k=new O(x),v=!1,N=null,M=null,P=null,L=null;return this.walk(function(G,B){R.code+=G,null!==B.source&&null!==B.line&&null!==B.column?((N!==B.source||M!==B.line||P!==B.column||L!==B.name)&&k.addMapping({source:B.source,original:{line:B.line,column:B.column},generated:{line:R.line,column:R.column},name:B.name}),N=B.source,M=B.line,P=B.column,L=B.name,v=!0):v&&(k.addMapping({generated:{line:R.line,column:R.column}}),N=null,v=!1);for(var q=0,X=G.length;q<X;q++)10===G.charCodeAt(q)?(R.line++,R.column=0,q+1===X?(N=null,v=!1):v&&k.addMapping({source:B.source,original:{line:B.line,column:B.column},generated:{line:R.line,column:R.column},name:B.name})):R.column++}),this.walkSourceContents(function(G,B){k.setSourceContent(G,B)}),{code:R.code,map:k}},I.SourceNode=T},75775:(ye,I)=>{I.getArg=function A(X,Q,te){if(Q in X)return X[Q];if(3===arguments.length)return te;throw new Error('"'+Q+'" is a required argument.')};var O=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,$=/^data:.+\,.+$/;function U(X){var Q=X.match(O);return Q?{scheme:Q[1],auth:Q[2],host:Q[3],port:Q[4],path:Q[5]}:null}function K(X){var Q="";return X.scheme&&(Q+=X.scheme+":"),Q+="//",X.auth&&(Q+=X.auth+"@"),X.host&&(Q+=X.host),X.port&&(Q+=":"+X.port),X.path&&(Q+=X.path),Q}function y(X){var Q=X,te=U(X);if(te){if(!te.path)return X;Q=te.path}for(var me,ie=I.isAbsolute(Q),ae=Q.split(/\/+/),ge=0,de=ae.length-1;de>=0;de--)"."===(me=ae[de])?ae.splice(de,1):".."===me?ge++:ge>0&&(""===me?(ae.splice(de+1,ge),ge=0):(ae.splice(de,2),ge--));return""===(Q=ae.join("/"))&&(Q=ie?"/":"."),te?(te.path=Q,K(te)):Q}function T(X,Q){""===X&&(X="."),""===Q&&(Q=".");var te=U(Q),ie=U(X);if(ie&&(X=ie.path||"/"),te&&!te.scheme)return ie&&(te.scheme=ie.scheme),K(te);if(te||Q.match($))return Q;if(ie&&!ie.host&&!ie.path)return ie.host=Q,K(ie);var ae="/"===Q.charAt(0)?Q:y(X.replace(/\/+$/,"")+"/"+Q);return ie?(ie.path=ae,K(ie)):ae}I.urlParse=U,I.urlGenerate=K,I.normalize=y,I.join=T,I.isAbsolute=function(X){return"/"===X.charAt(0)||O.test(X)},I.relative=function w(X,Q){""===X&&(X="."),X=X.replace(/\/$/,"");for(var te=0;0!==Q.indexOf(X+"/");){var ie=X.lastIndexOf("/");if(ie<0||(X=X.slice(0,ie)).match(/^([^\/]+:\/)?\/*$/))return Q;++te}return Array(te+1).join("../")+Q.substr(X.length+1)};var x=!("__proto__"in Object.create(null));function R(X){return X}function N(X){if(!X)return!1;var Q=X.length;if(Q<9||95!==X.charCodeAt(Q-1)||95!==X.charCodeAt(Q-2)||111!==X.charCodeAt(Q-3)||116!==X.charCodeAt(Q-4)||111!==X.charCodeAt(Q-5)||114!==X.charCodeAt(Q-6)||112!==X.charCodeAt(Q-7)||95!==X.charCodeAt(Q-8)||95!==X.charCodeAt(Q-9))return!1;for(var te=Q-10;te>=0;te--)if(36!==X.charCodeAt(te))return!1;return!0}function L(X,Q){return X===Q?0:null===X?1:null===Q?-1:X>Q?1:-1}I.toSetString=x?R:function k(X){return N(X)?"$"+X:X},I.fromSetString=x?R:function v(X){return N(X)?X.slice(1):X},I.compareByOriginalPositions=function M(X,Q,te){var ie=L(X.source,Q.source);return 0!==ie||0!=(ie=X.originalLine-Q.originalLine)||0!=(ie=X.originalColumn-Q.originalColumn)||te||0!=(ie=X.generatedColumn-Q.generatedColumn)||0!=(ie=X.generatedLine-Q.generatedLine)?ie:L(X.name,Q.name)},I.compareByGeneratedPositionsDeflated=function P(X,Q,te){var ie=X.generatedLine-Q.generatedLine;return 0!==ie||0!=(ie=X.generatedColumn-Q.generatedColumn)||te||0!==(ie=L(X.source,Q.source))||0!=(ie=X.originalLine-Q.originalLine)||0!=(ie=X.originalColumn-Q.originalColumn)?ie:L(X.name,Q.name)},I.compareByGeneratedPositionsInflated=function G(X,Q){var te=X.generatedLine-Q.generatedLine;return 0!==te||0!=(te=X.generatedColumn-Q.generatedColumn)||0!==(te=L(X.source,Q.source))||0!=(te=X.originalLine-Q.originalLine)||0!=(te=X.originalColumn-Q.originalColumn)?te:L(X.name,Q.name)},I.parseSourceMapInput=function B(X){return JSON.parse(X.replace(/^\)]}'[^\n]*\n/,""))},I.computeSourceURL=function q(X,Q,te){if(Q=Q||"",X&&("/"!==X[X.length-1]&&"/"!==Q[0]&&(X+="/"),Q=X+Q),te){var ie=U(te);if(!ie)throw new Error("sourceMapURL could not be parsed");if(ie.path){var ae=ie.path.lastIndexOf("/");ae>=0&&(ie.path=ie.path.substring(0,ae+1))}Q=T(K(ie),Q)}return y(Q)}},89877:(ye,I,A)=>{A(63429),A(2818),I.SourceNode=A(72071).SourceNode},48038:(ye,I,A)=>{!function O($){"use strict";var U,K,y,T,w,x;function R(Q){var ie,ae,te={};for(ie in Q)Q.hasOwnProperty(ie)&&(te[ie]="object"==typeof(ae=Q[ie])&&null!==ae?R(ae):ae);return te}function v(Q,te){this.parent=Q,this.key=te}function N(Q,te,ie,ae){this.node=Q,this.path=te,this.wrap=ie,this.ref=ae}function M(){}function P(Q){return null!=Q&&"object"==typeof Q&&"string"==typeof Q.type}function L(Q,te){return(Q===U.ObjectExpression||Q===U.ObjectPattern)&&"properties"===te}function G(Q,te){return(new M).traverse(Q,te)}function q(Q,te){var ie;return ie=function k(Q,te){var ie,ae,me,ge;for(ae=Q.length,me=0;ae;)te(Q[ge=me+(ie=ae>>>1)])?ae=ie:(me=ge+1,ae-=ie+1);return me}(te,function(me){return me.range[0]>Q.range[0]}),Q.extendedRange=[Q.range[0],Q.range[1]],ie!==te.length&&(Q.extendedRange[1]=te[ie].range[0]),(ie-=1)>=0&&(Q.extendedRange[0]=te[ie].range[1]),Q}return U={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},y={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},K={Break:T={},Skip:w={},Remove:x={}},v.prototype.replace=function(te){this.parent[this.key]=te},v.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},M.prototype.path=function(){var te,ie,ae,me,ge;function z(d,f){if(Array.isArray(f))for(ae=0,me=f.length;ae<me;++ae)d.push(f[ae]);else d.push(f)}if(!this.__current.path)return null;for(ge=[],te=2,ie=this.__leavelist.length;te<ie;++te)z(ge,this.__leavelist[te].path);return z(ge,this.__current.path),ge},M.prototype.type=function(){return this.current().type||this.__current.wrap},M.prototype.parents=function(){var te,ie,ae;for(ae=[],te=1,ie=this.__leavelist.length;te<ie;++te)ae.push(this.__leavelist[te].node);return ae},M.prototype.current=function(){return this.__current.node},M.prototype.__execute=function(te,ie){var ae,me;return me=void 0,ae=this.__current,this.__current=ie,this.__state=null,te&&(me=te.call(this,ie.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=ae,me},M.prototype.notify=function(te){this.__state=te},M.prototype.skip=function(){this.notify(w)},M.prototype.break=function(){this.notify(T)},M.prototype.remove=function(){this.notify(x)},M.prototype.__initialize=function(Q,te){this.visitor=te,this.root=Q,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===te.fallback?this.__fallback=Object.keys:"function"==typeof te.fallback&&(this.__fallback=te.fallback),this.__keys=y,te.keys&&(this.__keys=Object.assign(Object.create(this.__keys),te.keys))},M.prototype.traverse=function(te,ie){var ae,me,ge,de,z,d,f,b,C,D,V,Y;for(this.__initialize(te,ie),Y={},me=this.__leavelist,(ae=this.__worklist).push(new N(te,null,null,null)),me.push(new N(null,null,null,null));ae.length;)if((ge=ae.pop())!==Y){if(ge.node){if(d=this.__execute(ie.enter,ge),this.__state===T||d===T)return;if(ae.push(Y),me.push(ge),this.__state===w||d===w)continue;if(!(D=this.__keys[z=(de=ge.node).type||ge.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+z+".");D=this.__fallback(de)}for(b=D.length;(b-=1)>=0;)if(V=de[f=D[b]])if(Array.isArray(V)){for(C=V.length;(C-=1)>=0;)if(V[C]){if(L(z,D[b]))ge=new N(V[C],[f,C],"Property",null);else{if(!P(V[C]))continue;ge=new N(V[C],[f,C],null,null)}ae.push(ge)}}else P(V)&&ae.push(new N(V,f,null,null))}}else if(ge=me.pop(),d=this.__execute(ie.leave,ge),this.__state===T||d===T)return},M.prototype.replace=function(te,ie){var ae,me,ge,de,z,d,f,b,C,D,V,Y,F;function h(g){var J,ee,re,fe;if(g.ref.remove())for(ee=g.ref.key,fe=g.ref.parent,J=ae.length;J--;)if((re=ae[J]).ref&&re.ref.parent===fe){if(re.ref.key<ee)break;--re.ref.key}}for(this.__initialize(te,ie),V={},ae=this.__worklist,me=this.__leavelist,d=new N(te,null,null,new v(Y={root:te},"root")),ae.push(d),me.push(d);ae.length;)if((d=ae.pop())!==V){if(void 0!==(z=this.__execute(ie.enter,d))&&z!==T&&z!==w&&z!==x&&(d.ref.replace(z),d.node=z),(this.__state===x||z===x)&&(h(d),d.node=null),this.__state===T||z===T)return Y.root;if((ge=d.node)&&(ae.push(V),me.push(d),this.__state!==w&&z!==w)){if(!(C=this.__keys[de=ge.type||d.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+de+".");C=this.__fallback(ge)}for(f=C.length;(f-=1)>=0;)if(D=ge[F=C[f]])if(Array.isArray(D)){for(b=D.length;(b-=1)>=0;)if(D[b]){if(L(de,C[f]))d=new N(D[b],[F,b],"Property",new v(D,b));else{if(!P(D[b]))continue;d=new N(D[b],[F,b],null,new v(D,b))}ae.push(d)}}else P(D)&&ae.push(new N(D,F,null,new v(ge,F)))}}else if(d=me.pop(),void 0!==(z=this.__execute(ie.leave,d))&&z!==T&&z!==w&&z!==x&&d.ref.replace(z),(this.__state===x||z===x)&&h(d),this.__state===T||z===T)return Y.root;return Y.root},$.version=A(99600).rE,$.Syntax=U,$.traverse=G,$.replace=function B(Q,te){return(new M).replace(Q,te)},$.attachComments=function X(Q,te,ie){var me,ge,de,z,ae=[];if(!Q.range)throw new Error("attachComments needs range information");if(!ie.length){if(te.length){for(de=0,ge=te.length;de<ge;de+=1)(me=R(te[de])).extendedRange=[0,Q.range[0]],ae.push(me);Q.leadingComments=ae}return Q}for(de=0,ge=te.length;de<ge;de+=1)ae.push(q(R(te[de]),ie));return z=0,G(Q,{enter:function(d){for(var f;z<ae.length&&!((f=ae[z]).extendedRange[1]>d.range[0]);)f.extendedRange[1]===d.range[0]?(d.leadingComments||(d.leadingComments=[]),d.leadingComments.push(f),ae.splice(z,1)):z+=1;return z===ae.length?K.Break:ae[z].extendedRange[0]>d.range[1]?K.Skip:void 0}}),z=0,G(Q,{leave:function(d){for(var f;z<ae.length&&!(d.range[1]<(f=ae[z]).extendedRange[0]);)d.range[1]===f.extendedRange[0]?(d.trailingComments||(d.trailingComments=[]),d.trailingComments.push(f),ae.splice(z,1)):z+=1;return z===ae.length?K.Break:ae[z].extendedRange[0]>d.range[1]?K.Skip:void 0}}),Q},$.VisitorKeys=y,$.VisitorOption=K,$.Controller=M,$.cloneEnvironment=function(){return O({})},$}(I)},40569:ye=>{!function(){"use strict";function O(y){if(null==y)return!1;switch(y.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function U(y){switch(y.type){case"IfStatement":return null!=y.alternate?y.alternate:y.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return y.body}return null}ye.exports={isExpression:function I(y){if(null==y)return!1;switch(y.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:O,isIterationStatement:function A(y){if(null==y)return!1;switch(y.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function $(y){return O(y)||null!=y&&"FunctionDeclaration"===y.type},isProblematicIfStatement:function K(y){var T;if("IfStatement"!==y.type||null==y.alternate)return!1;T=y.consequent;do{if("IfStatement"===T.type&&null==T.alternate)return!0;T=U(T)}while(T);return!1},trailingStatement:U}}()},45444:ye=>{!function(){"use strict";var I,A,O,$,U,K;function k(L){return L<=65535?String.fromCharCode(L):String.fromCharCode(Math.floor((L-65536)/1024)+55296)+String.fromCharCode((L-65536)%1024+56320)}for(A={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},I={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},O=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],$=new Array(128),K=0;K<128;++K)$[K]=K>=97&&K<=122||K>=65&&K<=90||36===K||95===K;for(U=new Array(128),K=0;K<128;++K)U[K]=K>=97&&K<=122||K>=65&&K<=90||K>=48&&K<=57||36===K||95===K;ye.exports={isDecimalDigit:function y(L){return 48<=L&&L<=57},isHexDigit:function T(L){return 48<=L&&L<=57||97<=L&&L<=102||65<=L&&L<=70},isOctalDigit:function w(L){return L>=48&&L<=55},isWhiteSpace:function x(L){return 32===L||9===L||11===L||12===L||160===L||L>=5760&&O.indexOf(L)>=0},isLineTerminator:function R(L){return 10===L||13===L||8232===L||8233===L},isIdentifierStartES5:function v(L){return L<128?$[L]:A.NonAsciiIdentifierStart.test(k(L))},isIdentifierPartES5:function N(L){return L<128?U[L]:A.NonAsciiIdentifierPart.test(k(L))},isIdentifierStartES6:function M(L){return L<128?$[L]:I.NonAsciiIdentifierStart.test(k(L))},isIdentifierPartES6:function P(L){return L<128?U[L]:I.NonAsciiIdentifierPart.test(k(L))}}}()},99050:(ye,I,A)=>{!function(){"use strict";var O=A(45444);function U(M,P){return!(!P&&"yield"===M)&&K(M,P)}function K(M,P){if(P&&function $(M){switch(M){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(M))return!0;switch(M.length){case 2:return"if"===M||"in"===M||"do"===M;case 3:return"var"===M||"for"===M||"new"===M||"try"===M;case 4:return"this"===M||"else"===M||"case"===M||"void"===M||"with"===M||"enum"===M;case 5:return"while"===M||"break"===M||"catch"===M||"throw"===M||"const"===M||"yield"===M||"class"===M||"super"===M;case 6:return"return"===M||"typeof"===M||"delete"===M||"switch"===M||"export"===M||"import"===M;case 7:return"default"===M||"finally"===M||"extends"===M;case 8:return"function"===M||"continue"===M||"debugger"===M;case 10:return"instanceof"===M;default:return!1}}function y(M,P){return"null"===M||"true"===M||"false"===M||U(M,P)}function T(M,P){return"null"===M||"true"===M||"false"===M||K(M,P)}function x(M){var P,L,G;if(0===M.length||(G=M.charCodeAt(0),!O.isIdentifierStartES5(G)))return!1;for(P=1,L=M.length;P<L;++P)if(G=M.charCodeAt(P),!O.isIdentifierPartES5(G))return!1;return!0}function R(M,P){return 1024*(M-55296)+(P-56320)+65536}function k(M){var P,L,G,B,q;if(0===M.length)return!1;for(q=O.isIdentifierStartES6,P=0,L=M.length;P<L;++P){if(55296<=(G=M.charCodeAt(P))&&G<=56319){if(++P>=L||!(56320<=(B=M.charCodeAt(P))&&B<=57343))return!1;G=R(G,B)}if(!q(G))return!1;q=O.isIdentifierPartES6}return!0}ye.exports={isKeywordES5:U,isKeywordES6:K,isReservedWordES5:y,isReservedWordES6:T,isRestrictedWord:function w(M){return"eval"===M||"arguments"===M},isIdentifierNameES5:x,isIdentifierNameES6:k,isIdentifierES5:function v(M,P){return x(M)&&!y(M,P)},isIdentifierES6:function N(M,P){return k(M)&&!T(M,P)}}}()},3516:(ye,I,A)=>{!function(){"use strict";I.ast=A(40569),I.code=A(45444),I.keyword=A(99050)}()},44356:ye=>{"use strict";var O,I="object"==typeof Reflect?Reflect:null,A=I&&"function"==typeof I.apply?I.apply:function(Q,te,ie){return Function.prototype.apply.call(Q,te,ie)};O=I&&"function"==typeof I.ownKeys?I.ownKeys:Object.getOwnPropertySymbols?function(Q){return Object.getOwnPropertyNames(Q).concat(Object.getOwnPropertySymbols(Q))}:function(Q){return Object.getOwnPropertyNames(Q)};var U=Number.isNaN||function(Q){return Q!=Q};function K(){K.init.call(this)}ye.exports=K,ye.exports.once=function G(X,Q){return new Promise(function(te,ie){function ae(ge){X.removeListener(Q,me),ie(ge)}function me(){"function"==typeof X.removeListener&&X.removeListener("error",ae),te([].slice.call(arguments))}q(X,Q,me,{once:!0}),"error"!==Q&&function B(X,Q,te){"function"==typeof X.on&&q(X,"error",Q,te)}(X,ae,{once:!0})})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var y=10;function T(X){if("function"!=typeof X)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}function w(X){return void 0===X._maxListeners?K.defaultMaxListeners:X._maxListeners}function x(X,Q,te,ie){var ae,me,ge;if(T(te),void 0===(me=X._events)?(me=X._events=Object.create(null),X._eventsCount=0):(void 0!==me.newListener&&(X.emit("newListener",Q,te.listener?te.listener:te),me=X._events),ge=me[Q]),void 0===ge)ge=me[Q]=te,++X._eventsCount;else if("function"==typeof ge?ge=me[Q]=ie?[te,ge]:[ge,te]:ie?ge.unshift(te):ge.push(te),(ae=w(X))>0&&ge.length>ae&&!ge.warned){ge.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+ge.length+" "+String(Q)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=X,de.type=Q,de.count=ge.length,function $(X){console&&console.warn&&console.warn(X)}(de)}return X}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(X,Q,te){var ie={fired:!1,wrapFn:void 0,target:X,type:Q,listener:te},ae=R.bind(ie);return ae.listener=te,ie.wrapFn=ae,ae}function v(X,Q,te){var ie=X._events;if(void 0===ie)return[];var ae=ie[Q];return void 0===ae?[]:"function"==typeof ae?te?[ae.listener||ae]:[ae]:te?function L(X){for(var Q=new Array(X.length),te=0;te<Q.length;++te)Q[te]=X[te].listener||X[te];return Q}(ae):M(ae,ae.length)}function N(X){var Q=this._events;if(void 0!==Q){var te=Q[X];if("function"==typeof te)return 1;if(void 0!==te)return te.length}return 0}function M(X,Q){for(var te=new Array(Q),ie=0;ie<Q;++ie)te[ie]=X[ie];return te}function q(X,Q,te,ie){if("function"==typeof X.on)ie.once?X.once(Q,te):X.on(Q,te);else{if("function"!=typeof X.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X);X.addEventListener(Q,function ae(me){ie.once&&X.removeEventListener(Q,ae),te(me)})}}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(X){if("number"!=typeof X||X<0||U(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");y=X}}),K.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(Q){if("number"!=typeof Q||Q<0||U(Q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Q+".");return this._maxListeners=Q,this},K.prototype.getMaxListeners=function(){return w(this)},K.prototype.emit=function(Q){for(var te=[],ie=1;ie<arguments.length;ie++)te.push(arguments[ie]);var ae="error"===Q,me=this._events;if(void 0!==me)ae=ae&&void 0===me.error;else if(!ae)return!1;if(ae){var ge;if(te.length>0&&(ge=te[0]),ge instanceof Error)throw ge;var de=new Error("Unhandled error."+(ge?" ("+ge.message+")":""));throw de.context=ge,de}var z=me[Q];if(void 0===z)return!1;if("function"==typeof z)A(z,this,te);else{var d=z.length,f=M(z,d);for(ie=0;ie<d;++ie)A(f[ie],this,te)}return!0},K.prototype.on=K.prototype.addListener=function(Q,te){return x(this,Q,te,!1)},K.prototype.prependListener=function(Q,te){return x(this,Q,te,!0)},K.prototype.once=function(Q,te){return T(te),this.on(Q,k(this,Q,te)),this},K.prototype.prependOnceListener=function(Q,te){return T(te),this.prependListener(Q,k(this,Q,te)),this},K.prototype.off=K.prototype.removeListener=function(Q,te){var ie,ae,me,ge,de;if(T(te),void 0===(ae=this._events))return this;if(void 0===(ie=ae[Q]))return this;if(ie===te||ie.listener===te)0==--this._eventsCount?this._events=Object.create(null):(delete ae[Q],ae.removeListener&&this.emit("removeListener",Q,ie.listener||te));else if("function"!=typeof ie){for(me=-1,ge=ie.length-1;ge>=0;ge--)if(ie[ge]===te||ie[ge].listener===te){de=ie[ge].listener,me=ge;break}if(me<0)return this;0===me?ie.shift():function P(X,Q){for(;Q+1<X.length;Q++)X[Q]=X[Q+1];X.pop()}(ie,me),1===ie.length&&(ae[Q]=ie[0]),void 0!==ae.removeListener&&this.emit("removeListener",Q,de||te)}return this},K.prototype.removeAllListeners=function(Q){var te,ie,ae;if(void 0===(ie=this._events))return this;if(void 0===ie.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ie[Q]&&(0==--this._eventsCount?this._events=Object.create(null):delete ie[Q]),this;if(0===arguments.length){var ge,me=Object.keys(ie);for(ae=0;ae<me.length;++ae)"removeListener"!==(ge=me[ae])&&this.removeAllListeners(ge);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(te=ie[Q]))this.removeListener(Q,te);else if(void 0!==te)for(ae=te.length-1;ae>=0;ae--)this.removeListener(Q,te[ae]);return this},K.prototype.listeners=function(Q){return v(this,Q,!0)},K.prototype.rawListeners=function(Q){return v(this,Q,!1)},K.listenerCount=function(X,Q){return"function"==typeof X.listenerCount?X.listenerCount(Q):N.call(X,Q)},K.prototype.listenerCount=N,K.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]}},18211:(ye,I,A)=>{var O=A(27054).Buffer,$=A(34725);ye.exports=function U(K,y,T,w){if(O.isBuffer(K)||(K=O.from(K,"binary")),y&&(O.isBuffer(y)||(y=O.from(y,"binary")),8!==y.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var x=T/8,R=O.alloc(x),k=O.alloc(w||0),v=O.alloc(0);x>0||w>0;){var N=new $;N.update(v),N.update(K),y&&N.update(y),v=N.digest();var M=0;if(x>0){var P=R.length-x;M=Math.min(x,v.length),v.copy(R,P,0,M),x-=M}if(M<v.length&&w>0){var L=k.length-w,G=Math.min(w,v.length-M);v.copy(k,L,M,M+G),w-=G}}return v.fill(0),{key:R,iv:k}}},40362:ye=>{"use strict";ye.exports=function I(A,O){if(A===O)return!0;if(A&&O&&"object"==typeof A&&"object"==typeof O){if(A.constructor!==O.constructor)return!1;var $,U,K;if(Array.isArray(A)){if(($=A.length)!=O.length)return!1;for(U=$;0!=U--;)if(!I(A[U],O[U]))return!1;return!0}if(A.constructor===RegExp)return A.source===O.source&&A.flags===O.flags;if(A.valueOf!==Object.prototype.valueOf)return A.valueOf()===O.valueOf();if(A.toString!==Object.prototype.toString)return A.toString()===O.toString();if(($=(K=Object.keys(A)).length)!==Object.keys(O).length)return!1;for(U=$;0!=U--;)if(!Object.prototype.hasOwnProperty.call(O,K[U]))return!1;for(U=$;0!=U--;){var y=K[U];if(!I(A[y],O[y]))return!1}return!0}return A!=A&&O!=O}},49132:ye=>{"use strict";var A=Object.prototype.toString,O=Math.max,U=function(w,x){for(var R=[],k=0;k<w.length;k+=1)R[k]=w[k];for(var v=0;v<x.length;v+=1)R[v+w.length]=x[v];return R};ye.exports=function(w){var x=this;if("function"!=typeof x||"[object Function]"!==A.apply(x))throw new TypeError("Function.prototype.bind called on incompatible "+x);for(var k,R=function(w){for(var R=[],k=1,v=0;k<w.length;k+=1,v+=1)R[v]=w[k];return R}(arguments),N=O(0,x.length-R.length),M=[],P=0;P<N;P++)M[P]="$"+P;if(k=Function("binder","return function ("+function(T){for(var x="",R=0;R<T.length;R+=1)x+=T[R],R+1<T.length&&(x+=",");return x}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof k){var G=x.apply(this,U(R,arguments));return Object(G)===G?G:this}return x.apply(w,U(R,arguments))}),x.prototype){var L=function(){};L.prototype=x.prototype,k.prototype=new L,L.prototype=null}return k}},65992:(ye,I,A)=>{"use strict";var O=A(49132);ye.exports=Function.prototype.bind||O},64003:ye=>{"use strict";var I=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}I.functionsHaveConfigurableNames=function(){if(!I()||!A)return!1;var U=A(function(){},"name");return!!U&&!!U.configurable};var O=Function.prototype.bind;I.boundFunctionsHaveNames=function(){return I()&&"function"==typeof O&&""!==function(){}.bind().name},ye.exports=I},90258:(ye,I,A)=>{"use strict";var O,$=A(37640),U=A(1756),K=A(77933),y=A(6613),T=A(58413),w=A(46758),x=A(5286),R=Function,k=function(Y){try{return R('"use strict"; return ('+Y+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var N=function(){throw new w},M=v?function(){try{return N}catch{try{return v(arguments,"callee").get}catch{return N}}}():N,P=A(19900)(),L=A(62119)(),G=Object.getPrototypeOf||(L?function(Y){return Y.__proto__}:null),B={},q=typeof Uint8Array>"u"||!G?O:G(Uint8Array),X={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?O:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?O:ArrayBuffer,"%ArrayIteratorPrototype%":P&&G?G([][Symbol.iterator]()):O,"%AsyncFromSyncIteratorPrototype%":O,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?O:Atomics,"%BigInt%":typeof BigInt>"u"?O:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?O:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?O:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?O:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$,"%eval%":eval,"%EvalError%":U,"%Float32Array%":typeof Float32Array>"u"?O:Float32Array,"%Float64Array%":typeof Float64Array>"u"?O:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?O:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?O:Int8Array,"%Int16Array%":typeof Int16Array>"u"?O:Int16Array,"%Int32Array%":typeof Int32Array>"u"?O:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&G?G(G([][Symbol.iterator]())):O,"%JSON%":"object"==typeof JSON?JSON:O,"%Map%":typeof Map>"u"?O:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!G?O:G((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?O:Promise,"%Proxy%":typeof Proxy>"u"?O:Proxy,"%RangeError%":K,"%ReferenceError%":y,"%Reflect%":typeof Reflect>"u"?O:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?O:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!G?O:G((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?O:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&G?G(""[Symbol.iterator]()):O,"%Symbol%":P?Symbol:O,"%SyntaxError%":T,"%ThrowTypeError%":M,"%TypedArray%":q,"%TypeError%":w,"%Uint8Array%":typeof Uint8Array>"u"?O:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?O:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?O:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?O:Uint32Array,"%URIError%":x,"%WeakMap%":typeof WeakMap>"u"?O:WeakMap,"%WeakRef%":typeof WeakRef>"u"?O:WeakRef,"%WeakSet%":typeof WeakSet>"u"?O:WeakSet};if(G)try{null.error}catch(Y){var Q=G(G(Y));X["%Error.prototype%"]=Q}var te=function Y(F){var h;if("%AsyncFunction%"===F)h=k("async function () {}");else if("%GeneratorFunction%"===F)h=k("function* () {}");else if("%AsyncGeneratorFunction%"===F)h=k("async function* () {}");else if("%AsyncGenerator%"===F){var g=Y("%AsyncGeneratorFunction%");g&&(h=g.prototype)}else if("%AsyncIteratorPrototype%"===F){var J=Y("%AsyncGenerator%");J&&G&&(h=G(J.prototype))}return X[F]=h,h},ie={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ae=A(65992),me=A(78368),ge=ae.call(Function.call,Array.prototype.concat),de=ae.call(Function.apply,Array.prototype.splice),z=ae.call(Function.call,String.prototype.replace),d=ae.call(Function.call,String.prototype.slice),f=ae.call(Function.call,RegExp.prototype.exec),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,V=function(F,h){var J,g=F;if(me(ie,g)&&(g="%"+(J=ie[g])[0]+"%"),me(X,g)){var ee=X[g];if(ee===B&&(ee=te(g)),typeof ee>"u"&&!h)throw new w("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:J,name:g,value:ee}}throw new T("intrinsic "+F+" does not exist!")};ye.exports=function(F,h){if("string"!=typeof F||0===F.length)throw new w("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof h)throw new w('"allowMissing" argument must be a boolean');if(null===f(/^%?[^%]*%?$/,F))throw new T("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var g=function(F){var h=d(F,0,1),g=d(F,-1);if("%"===h&&"%"!==g)throw new T("invalid intrinsic syntax, expected closing `%`");if("%"===g&&"%"!==h)throw new T("invalid intrinsic syntax, expected opening `%`");var J=[];return z(F,b,function(ee,re,fe,Ae){J[J.length]=fe?z(Ae,C,"$1"):re||ee}),J}(F),J=g.length>0?g[0]:"",ee=V("%"+J+"%",h),re=ee.name,fe=ee.value,Ae=!1,Me=ee.alias;Me&&(J=Me[0],de(g,ge([0,1],Me)));for(var Le=1,Ee=!0;Le<g.length;Le+=1){var Se=g[Le],He=d(Se,0,1),Te=d(Se,-1);if(('"'===He||"'"===He||"`"===He||'"'===Te||"'"===Te||"`"===Te)&&He!==Te)throw new T("property names with quotes must have matching quotes");if(("constructor"===Se||!Ee)&&(Ae=!0),me(X,re="%"+(J+="."+Se)+"%"))fe=X[re];else if(null!=fe){if(!(Se in fe)){if(!h)throw new w("base intrinsic for "+F+" exists, but the property is not available.");return}if(v&&Le+1>=g.length){var u=v(fe,Se);fe=(Ee=!!u)&&"get"in u&&!("originalValue"in u.get)?u.get:fe[Se]}else Ee=me(fe,Se),fe=fe[Se];Ee&&!Ae&&(X[re]=fe)}}return fe}},83798:(ye,I,A)=>{"use strict";var $=A(90258)("%Object.getOwnPropertyDescriptor%",!0);if($)try{$([],"length")}catch{$=null}ye.exports=$},35861:(ye,I,A)=>{"use strict";var O=A(4570),$=function(){return!!O};$.hasArrayLengthDefineBug=function(){if(!O)return null;try{return 1!==O([],"length",{value:1}).length}catch{return!0}},ye.exports=$},62119:ye=>{"use strict";var I={__proto__:null,foo:{}},A=Object;ye.exports=function(){return{__proto__:I}.foo===I.foo&&!(I instanceof A)}},19900:(ye,I,A)=>{"use strict";var O=typeof Symbol<"u"&&Symbol,$=A(45310);ye.exports=function(){return"function"==typeof O&&"function"==typeof Symbol&&"symbol"==typeof O("foo")&&"symbol"==typeof Symbol("bar")&&$()}},45310:ye=>{"use strict";ye.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},O=Symbol("test"),$=Object(O);if("string"==typeof O||"[object Symbol]"!==Object.prototype.toString.call(O)||"[object Symbol]"!==Object.prototype.toString.call($))return!1;for(O in A[O]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var K=Object.getOwnPropertySymbols(A);if(1!==K.length||K[0]!==O||!Object.prototype.propertyIsEnumerable.call(A,O))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var y=Object.getOwnPropertyDescriptor(A,O);if(42!==y.value||!0!==y.enumerable)return!1}return!0}},88779:(ye,I,A)=>{"use strict";var O=A(45310);ye.exports=function(){return O()&&!!Symbol.toStringTag}},13686:(ye,I,A)=>{"use strict";var O=A(27054).Buffer,$=A(14792).Transform;function y(T){$.call(this),this._block=O.allocUnsafe(T),this._blockSize=T,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}A(71993)(y,$),y.prototype._transform=function(T,w,x){var R=null;try{this.update(T,w)}catch(k){R=k}x(R)},y.prototype._flush=function(T){var w=null;try{this.push(this.digest())}catch(x){w=x}T(w)},y.prototype.update=function(T,w){if(function K(T,w){if(!O.isBuffer(T)&&"string"!=typeof T)throw new TypeError(w+" must be a string or a buffer")}(T,"Data"),this._finalized)throw new Error("Digest already called");O.isBuffer(T)||(T=O.from(T,w));for(var x=this._block,R=0;this._blockOffset+T.length-R>=this._blockSize;){for(var k=this._blockOffset;k<this._blockSize;)x[k++]=T[R++];this._update(),this._blockOffset=0}for(;R<T.length;)x[this._blockOffset++]=T[R++];for(var v=0,N=8*T.length;N>0;++v)this._length[v]+=N,(N=this._length[v]/4294967296|0)>0&&(this._length[v]-=4294967296*N);return this},y.prototype._update=function(){throw new Error("_update is not implemented")},y.prototype.digest=function(T){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var w=this._digest();void 0!==T&&(w=w.toString(T)),this._block.fill(0),this._blockOffset=0;for(var x=0;x<4;++x)this._length[x]=0;return w},y.prototype._digest=function(){throw new Error("_digest is not implemented")},ye.exports=y},52529:(ye,I,A)=>{var O=I;O.utils=A(68283),O.common=A(12901),O.sha=A(78528),O.ripemd=A(15283),O.hmac=A(37163),O.sha1=O.sha.sha1,O.sha256=O.sha.sha256,O.sha224=O.sha.sha224,O.sha384=O.sha.sha384,O.sha512=O.sha.sha512,O.ripemd160=O.ripemd.ripemd160},12901:(ye,I,A)=>{"use strict";var O=A(68283),$=A(39210);function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}I.BlockHash=U,U.prototype.update=function(y,T){if(y=O.toArray(y,T),this.pending=this.pending?this.pending.concat(y):y,this.pendingTotal+=y.length,this.pending.length>=this._delta8){var w=(y=this.pending).length%this._delta8;this.pending=y.slice(y.length-w,y.length),0===this.pending.length&&(this.pending=null),y=O.join32(y,0,y.length-w,this.endian);for(var x=0;x<y.length;x+=this._delta32)this._update(y,x,x+this._delta32)}return this},U.prototype.digest=function(y){return this.update(this._pad()),$(null===this.pending),this._digest(y)},U.prototype._pad=function(){var y=this.pendingTotal,T=this._delta8,w=T-(y+this.padLength)%T,x=new Array(w+this.padLength);x[0]=128;for(var R=1;R<w;R++)x[R]=0;if(y<<=3,"big"===this.endian){for(var k=8;k<this.padLength;k++)x[R++]=0;x[R++]=0,x[R++]=0,x[R++]=0,x[R++]=0,x[R++]=y>>>24&255,x[R++]=y>>>16&255,x[R++]=y>>>8&255,x[R++]=255&y}else for(x[R++]=255&y,x[R++]=y>>>8&255,x[R++]=y>>>16&255,x[R++]=y>>>24&255,x[R++]=0,x[R++]=0,x[R++]=0,x[R++]=0,k=8;k<this.padLength;k++)x[R++]=0;return x}},37163:(ye,I,A)=>{"use strict";var O=A(68283),$=A(39210);function U(K,y,T){if(!(this instanceof U))return new U(K,y,T);this.Hash=K,this.blockSize=K.blockSize/8,this.outSize=K.outSize/8,this.inner=null,this.outer=null,this._init(O.toArray(y,T))}ye.exports=U,U.prototype._init=function(y){y.length>this.blockSize&&(y=(new this.Hash).update(y).digest()),$(y.length<=this.blockSize);for(var T=y.length;T<this.blockSize;T++)y.push(0);for(T=0;T<y.length;T++)y[T]^=54;for(this.inner=(new this.Hash).update(y),T=0;T<y.length;T++)y[T]^=106;this.outer=(new this.Hash).update(y)},U.prototype.update=function(y,T){return this.inner.update(y,T),this},U.prototype.digest=function(y){return this.outer.update(this.inner.digest()),this.outer.digest(y)}},15283:(ye,I,A)=>{"use strict";var O=A(68283),$=A(12901),U=O.rotl32,K=O.sum32,y=O.sum32_3,T=O.sum32_4,w=$.BlockHash;function x(){if(!(this instanceof x))return new x;w.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function R(G,B,q,X){return G<=15?B^q^X:G<=31?B&q|~B&X:G<=47?(B|~q)^X:G<=63?B&X|q&~X:B^(q|~X)}function v(G){return G<=15?1352829926:G<=31?1548603684:G<=47?1836072691:G<=63?2053994217:0}O.inherits(x,w),I.ripemd160=x,x.blockSize=512,x.outSize=160,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(B,q){for(var X=this.h[0],Q=this.h[1],te=this.h[2],ie=this.h[3],ae=this.h[4],me=X,ge=Q,de=te,z=ie,d=ae,f=0;f<80;f++){var b=K(U(T(X,R(f,Q,te,ie),B[N[f]+q],(G=f)<=15?0:G<=31?1518500249:G<=47?1859775393:G<=63?2400959708:2840853838),P[f]),ae);X=ae,ae=ie,ie=U(te,10),te=Q,Q=b,b=K(U(T(me,R(79-f,ge,de,z),B[M[f]+q],v(f)),L[f]),d),me=d,d=z,z=U(de,10),de=ge,ge=b}var G;b=y(this.h[1],te,z),this.h[1]=y(this.h[2],ie,d),this.h[2]=y(this.h[3],ae,me),this.h[3]=y(this.h[4],X,ge),this.h[4]=y(this.h[0],Q,de),this.h[0]=b},x.prototype._digest=function(B){return"hex"===B?O.toHex32(this.h,"little"):O.split32(this.h,"little")};var N=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],P=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],L=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(ye,I,A)=>{"use strict";I.sha1=A(33468),I.sha224=A(5563),I.sha256=A(27138),I.sha384=A(93898),I.sha512=A(10827)},33468:(ye,I,A)=>{"use strict";var O=A(68283),$=A(12901),U=A(95542),K=O.rotl32,y=O.sum32,T=O.sum32_5,w=U.ft_1,x=$.BlockHash,R=[1518500249,1859775393,2400959708,3395469782];function k(){if(!(this instanceof k))return new k;x.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}O.inherits(k,x),ye.exports=k,k.blockSize=512,k.outSize=160,k.hmacStrength=80,k.padLength=64,k.prototype._update=function(N,M){for(var P=this.W,L=0;L<16;L++)P[L]=N[M+L];for(;L<P.length;L++)P[L]=K(P[L-3]^P[L-8]^P[L-14]^P[L-16],1);var G=this.h[0],B=this.h[1],q=this.h[2],X=this.h[3],Q=this.h[4];for(L=0;L<P.length;L++){var te=~~(L/20),ie=T(K(G,5),w(te,B,q,X),Q,P[L],R[te]);Q=X,X=q,q=K(B,30),B=G,G=ie}this.h[0]=y(this.h[0],G),this.h[1]=y(this.h[1],B),this.h[2]=y(this.h[2],q),this.h[3]=y(this.h[3],X),this.h[4]=y(this.h[4],Q)},k.prototype._digest=function(N){return"hex"===N?O.toHex32(this.h,"big"):O.split32(this.h,"big")}},5563:(ye,I,A)=>{"use strict";var O=A(68283),$=A(27138);function U(){if(!(this instanceof U))return new U;$.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}O.inherits(U,$),ye.exports=U,U.blockSize=512,U.outSize=224,U.hmacStrength=192,U.padLength=64,U.prototype._digest=function(y){return"hex"===y?O.toHex32(this.h.slice(0,7),"big"):O.split32(this.h.slice(0,7),"big")}},27138:(ye,I,A)=>{"use strict";var O=A(68283),$=A(12901),U=A(95542),K=A(39210),y=O.sum32,T=O.sum32_4,w=O.sum32_5,x=U.ch32,R=U.maj32,k=U.s0_256,v=U.s1_256,N=U.g0_256,M=U.g1_256,P=$.BlockHash,L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function G(){if(!(this instanceof G))return new G;P.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=L,this.W=new Array(64)}O.inherits(G,P),ye.exports=G,G.blockSize=512,G.outSize=256,G.hmacStrength=192,G.padLength=64,G.prototype._update=function(q,X){for(var Q=this.W,te=0;te<16;te++)Q[te]=q[X+te];for(;te<Q.length;te++)Q[te]=T(M(Q[te-2]),Q[te-7],N(Q[te-15]),Q[te-16]);var ie=this.h[0],ae=this.h[1],me=this.h[2],ge=this.h[3],de=this.h[4],z=this.h[5],d=this.h[6],f=this.h[7];for(K(this.k.length===Q.length),te=0;te<Q.length;te++){var b=w(f,v(de),x(de,z,d),this.k[te],Q[te]),C=y(k(ie),R(ie,ae,me));f=d,d=z,z=de,de=y(ge,b),ge=me,me=ae,ae=ie,ie=y(b,C)}this.h[0]=y(this.h[0],ie),this.h[1]=y(this.h[1],ae),this.h[2]=y(this.h[2],me),this.h[3]=y(this.h[3],ge),this.h[4]=y(this.h[4],de),this.h[5]=y(this.h[5],z),this.h[6]=y(this.h[6],d),this.h[7]=y(this.h[7],f)},G.prototype._digest=function(q){return"hex"===q?O.toHex32(this.h,"big"):O.split32(this.h,"big")}},93898:(ye,I,A)=>{"use strict";var O=A(68283),$=A(10827);function U(){if(!(this instanceof U))return new U;$.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}O.inherits(U,$),ye.exports=U,U.blockSize=1024,U.outSize=384,U.hmacStrength=192,U.padLength=128,U.prototype._digest=function(y){return"hex"===y?O.toHex32(this.h.slice(0,12),"big"):O.split32(this.h.slice(0,12),"big")}},10827:(ye,I,A)=>{"use strict";var O=A(68283),$=A(12901),U=A(39210),K=O.rotr64_hi,y=O.rotr64_lo,T=O.shr64_hi,w=O.shr64_lo,x=O.sum64,R=O.sum64_hi,k=O.sum64_lo,v=O.sum64_4_hi,N=O.sum64_4_lo,M=O.sum64_5_hi,P=O.sum64_5_lo,L=$.BlockHash,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function B(){if(!(this instanceof B))return new B;L.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=G,this.W=new Array(160)}function q(b,C,D,V,Y){var F=b&D^~b&Y;return F<0&&(F+=4294967296),F}function X(b,C,D,V,Y,F){var h=C&V^~C&F;return h<0&&(h+=4294967296),h}function Q(b,C,D,V,Y){var F=b&D^b&Y^D&Y;return F<0&&(F+=4294967296),F}function te(b,C,D,V,Y,F){var h=C&V^C&F^V&F;return h<0&&(h+=4294967296),h}function ie(b,C){var F=K(b,C,28)^K(C,b,2)^K(C,b,7);return F<0&&(F+=4294967296),F}function ae(b,C){var F=y(b,C,28)^y(C,b,2)^y(C,b,7);return F<0&&(F+=4294967296),F}function me(b,C){var F=K(b,C,14)^K(b,C,18)^K(C,b,9);return F<0&&(F+=4294967296),F}function ge(b,C){var F=y(b,C,14)^y(b,C,18)^y(C,b,9);return F<0&&(F+=4294967296),F}function de(b,C){var F=K(b,C,1)^K(b,C,8)^T(b,C,7);return F<0&&(F+=4294967296),F}function z(b,C){var F=y(b,C,1)^y(b,C,8)^w(b,C,7);return F<0&&(F+=4294967296),F}function d(b,C){var F=K(b,C,19)^K(C,b,29)^T(b,C,6);return F<0&&(F+=4294967296),F}function f(b,C){var F=y(b,C,19)^y(C,b,29)^w(b,C,6);return F<0&&(F+=4294967296),F}O.inherits(B,L),ye.exports=B,B.blockSize=1024,B.outSize=512,B.hmacStrength=192,B.padLength=128,B.prototype._prepareBlock=function(C,D){for(var V=this.W,Y=0;Y<32;Y++)V[Y]=C[D+Y];for(;Y<V.length;Y+=2){var F=d(V[Y-4],V[Y-3]),h=f(V[Y-4],V[Y-3]),g=V[Y-14],J=V[Y-13],ee=de(V[Y-30],V[Y-29]),re=z(V[Y-30],V[Y-29]),fe=V[Y-32],Ae=V[Y-31];V[Y]=v(F,h,g,J,ee,re,fe,Ae),V[Y+1]=N(F,h,g,J,ee,re,fe,Ae)}},B.prototype._update=function(C,D){this._prepareBlock(C,D);var V=this.W,Y=this.h[0],F=this.h[1],h=this.h[2],g=this.h[3],J=this.h[4],ee=this.h[5],re=this.h[6],fe=this.h[7],Ae=this.h[8],Me=this.h[9],Le=this.h[10],Ee=this.h[11],Se=this.h[12],He=this.h[13],Te=this.h[14],u=this.h[15];U(this.k.length===V.length);for(var xe=0;xe<V.length;xe+=2){var be=Te,_e=u,Ce=me(Ae,Me),ke=ge(Ae,Me),ze=q(Ae,0,Le,0,Se),Ne=X(0,Me,0,Ee,0,He),We=this.k[xe],Ye=this.k[xe+1],wt=V[xe],mt=V[xe+1],rt=M(be,_e,Ce,ke,ze,Ne,We,Ye,wt,mt),Ut=P(be,_e,Ce,ke,ze,Ne,We,Ye,wt,mt);be=ie(Y,F),_e=ae(Y,F),Ce=Q(Y,0,h,0,J),ke=te(0,F,0,g,0,ee);var se=R(be,_e,Ce,ke),W=k(be,_e,Ce,ke);Te=Se,u=He,Se=Le,He=Ee,Le=Ae,Ee=Me,Ae=R(re,fe,rt,Ut),Me=k(fe,fe,rt,Ut),re=J,fe=ee,J=h,ee=g,h=Y,g=F,Y=R(rt,Ut,se,W),F=k(rt,Ut,se,W)}x(this.h,0,Y,F),x(this.h,2,h,g),x(this.h,4,J,ee),x(this.h,6,re,fe),x(this.h,8,Ae,Me),x(this.h,10,Le,Ee),x(this.h,12,Se,He),x(this.h,14,Te,u)},B.prototype._digest=function(C){return"hex"===C?O.toHex32(this.h,"big"):O.split32(this.h,"big")}},95542:(ye,I,A)=>{"use strict";var $=A(68283).rotr32;function K(v,N,M){return v&N^~v&M}function y(v,N,M){return v&N^v&M^N&M}function T(v,N,M){return v^N^M}I.ft_1=function U(v,N,M,P){return 0===v?K(N,M,P):1===v||3===v?T(N,M,P):2===v?y(N,M,P):void 0},I.ch32=K,I.maj32=y,I.p32=T,I.s0_256=function w(v){return $(v,2)^$(v,13)^$(v,22)},I.s1_256=function x(v){return $(v,6)^$(v,11)^$(v,25)},I.g0_256=function R(v){return $(v,7)^$(v,18)^v>>>3},I.g1_256=function k(v){return $(v,17)^$(v,19)^v>>>10}},68283:(ye,I,A)=>{"use strict";var O=A(39210),$=A(71993);function U(f,b){return!(55296!=(64512&f.charCodeAt(b))||b<0||b+1>=f.length)&&56320==(64512&f.charCodeAt(b+1))}function T(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function x(f){return 1===f.length?"0"+f:f}function R(f){return 7===f.length?"0"+f:6===f.length?"00"+f:5===f.length?"000"+f:4===f.length?"0000"+f:3===f.length?"00000"+f:2===f.length?"000000"+f:1===f.length?"0000000"+f:f}I.inherits=$,I.toArray=function K(f,b){if(Array.isArray(f))return f.slice();if(!f)return[];var C=[];if("string"==typeof f)if(b){if("hex"===b)for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),V=0;V<f.length;V+=2)C.push(parseInt(f[V]+f[V+1],16))}else for(var D=0,V=0;V<f.length;V++){var Y=f.charCodeAt(V);Y<128?C[D++]=Y:Y<2048?(C[D++]=Y>>6|192,C[D++]=63&Y|128):U(f,V)?(Y=65536+((1023&Y)<<10)+(1023&f.charCodeAt(++V)),C[D++]=Y>>18|240,C[D++]=Y>>12&63|128,C[D++]=Y>>6&63|128,C[D++]=63&Y|128):(C[D++]=Y>>12|224,C[D++]=Y>>6&63|128,C[D++]=63&Y|128)}else for(V=0;V<f.length;V++)C[V]=0|f[V];return C},I.toHex=function y(f){for(var b="",C=0;C<f.length;C++)b+=x(f[C].toString(16));return b},I.htonl=T,I.toHex32=function w(f,b){for(var C="",D=0;D<f.length;D++){var V=f[D];"little"===b&&(V=T(V)),C+=R(V.toString(16))}return C},I.zero2=x,I.zero8=R,I.join32=function k(f,b,C,D){var V=C-b;O(V%4==0);for(var Y=new Array(V/4),F=0,h=b;F<Y.length;F++,h+=4)Y[F]=("big"===D?f[h]<<24|f[h+1]<<16|f[h+2]<<8|f[h+3]:f[h+3]<<24|f[h+2]<<16|f[h+1]<<8|f[h])>>>0;return Y},I.split32=function v(f,b){for(var C=new Array(4*f.length),D=0,V=0;D<f.length;D++,V+=4){var Y=f[D];"big"===b?(C[V]=Y>>>24,C[V+1]=Y>>>16&255,C[V+2]=Y>>>8&255,C[V+3]=255&Y):(C[V+3]=Y>>>24,C[V+2]=Y>>>16&255,C[V+1]=Y>>>8&255,C[V]=255&Y)}return C},I.rotr32=function N(f,b){return f>>>b|f<<32-b},I.rotl32=function M(f,b){return f<<b|f>>>32-b},I.sum32=function P(f,b){return f+b>>>0},I.sum32_3=function L(f,b,C){return f+b+C>>>0},I.sum32_4=function G(f,b,C,D){return f+b+C+D>>>0},I.sum32_5=function B(f,b,C,D,V){return f+b+C+D+V>>>0},I.sum64=function q(f,b,C,D){var F=D+f[b+1]>>>0;f[b]=(F<D?1:0)+C+f[b]>>>0,f[b+1]=F},I.sum64_hi=function X(f,b,C,D){return(b+D>>>0<b?1:0)+f+C>>>0},I.sum64_lo=function Q(f,b,C,D){return b+D>>>0},I.sum64_4_hi=function te(f,b,C,D,V,Y,F,h){var g=0,J=b;return g+=(J=J+D>>>0)<b?1:0,g+=(J=J+Y>>>0)<Y?1:0,f+C+V+F+(g+=(J=J+h>>>0)<h?1:0)>>>0},I.sum64_4_lo=function ie(f,b,C,D,V,Y,F,h){return b+D+Y+h>>>0},I.sum64_5_hi=function ae(f,b,C,D,V,Y,F,h,g,J){var ee=0,re=b;return ee+=(re=re+D>>>0)<b?1:0,ee+=(re=re+Y>>>0)<Y?1:0,ee+=(re=re+h>>>0)<h?1:0,f+C+V+F+g+(ee+=(re=re+J>>>0)<J?1:0)>>>0},I.sum64_5_lo=function me(f,b,C,D,V,Y,F,h,g,J){return b+D+Y+h+J>>>0},I.rotr64_hi=function ge(f,b,C){return(b<<32-C|f>>>C)>>>0},I.rotr64_lo=function de(f,b,C){return(f<<32-C|b>>>C)>>>0},I.shr64_hi=function z(f,b,C){return f>>>C},I.shr64_lo=function d(f,b,C){return(f<<32-C|b>>>C)>>>0}},78368:(ye,I,A)=>{"use strict";var O=Function.prototype.call,$=Object.prototype.hasOwnProperty,U=A(65992);ye.exports=U.call(O,$)},33556:(ye,I,A)=>{"use strict";var O=A(52529),$=A(21832),U=A(39210);function K(y){if(!(this instanceof K))return new K(y);this.hash=y.hash,this.predResist=!!y.predResist,this.outLen=this.hash.outSize,this.minEntropy=y.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var T=$.toArray(y.entropy,y.entropyEnc||"hex"),w=$.toArray(y.nonce,y.nonceEnc||"hex"),x=$.toArray(y.pers,y.persEnc||"hex");U(T.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(T,w,x)}ye.exports=K,K.prototype._init=function(T,w,x){var R=T.concat(w).concat(x);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var k=0;k<this.V.length;k++)this.K[k]=0,this.V[k]=1;this._update(R),this._reseed=1,this.reseedInterval=281474976710656},K.prototype._hmac=function(){return new O.hmac(this.hash,this.K)},K.prototype._update=function(T){var w=this._hmac().update(this.V).update([0]);T&&(w=w.update(T)),this.K=w.digest(),this.V=this._hmac().update(this.V).digest(),T&&(this.K=this._hmac().update(this.V).update([1]).update(T).digest(),this.V=this._hmac().update(this.V).digest())},K.prototype.reseed=function(T,w,x,R){"string"!=typeof w&&(R=x,x=w,w=null),T=$.toArray(T,w),x=$.toArray(x,R),U(T.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(T.concat(x||[])),this._reseed=1},K.prototype.generate=function(T,w,x,R){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof w&&(R=x,x=w,w=null),x&&(x=$.toArray(x,R||"hex"),this._update(x));for(var k=[];k.length<T;)this.V=this._hmac().update(this.V).digest(),k=k.concat(this.V);var v=k.slice(0,T);return this._update(x),this._reseed++,$.encode(v,w)}},22020:(ye,I)=>{I.read=function(A,O,$,U,K){var y,T,w=8*K-U-1,x=(1<<w)-1,R=x>>1,k=-7,v=$?K-1:0,N=$?-1:1,M=A[O+v];for(v+=N,y=M&(1<<-k)-1,M>>=-k,k+=w;k>0;y=256*y+A[O+v],v+=N,k-=8);for(T=y&(1<<-k)-1,y>>=-k,k+=U;k>0;T=256*T+A[O+v],v+=N,k-=8);if(0===y)y=1-R;else{if(y===x)return T?NaN:1/0*(M?-1:1);T+=Math.pow(2,U),y-=R}return(M?-1:1)*T*Math.pow(2,y-U)},I.write=function(A,O,$,U,K,y){var T,w,x,R=8*y-K-1,k=(1<<R)-1,v=k>>1,N=23===K?Math.pow(2,-24)-Math.pow(2,-77):0,M=U?0:y-1,P=U?1:-1,L=O<0||0===O&&1/O<0?1:0;for(O=Math.abs(O),isNaN(O)||O===1/0?(w=isNaN(O)?1:0,T=k):(T=Math.floor(Math.log(O)/Math.LN2),O*(x=Math.pow(2,-T))<1&&(T--,x*=2),(O+=T+v>=1?N/x:N*Math.pow(2,1-v))*x>=2&&(T++,x/=2),T+v>=k?(w=0,T=k):T+v>=1?(w=(O*x-1)*Math.pow(2,K),T+=v):(w=O*Math.pow(2,v-1)*Math.pow(2,K),T=0));K>=8;A[$+M]=255&w,M+=P,w/=256,K-=8);for(T=T<<K|w,R+=K;R>0;A[$+M]=255&T,M+=P,T/=256,R-=8);A[$+M-P]|=128*L}},71993:ye=>{ye.exports="function"==typeof Object.create?function(A,O){O&&(A.super_=O,A.prototype=Object.create(O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:function(A,O){if(O){A.super_=O;var $=function(){};$.prototype=O.prototype,A.prototype=new $,A.prototype.constructor=A}}},53720:(ye,I,A)=>{"use strict";var O=A(78368),$=A(3541)(),U=A(46758),K={assert:function(y,T){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new U("`O` is not an object");if("string"!=typeof T)throw new U("`slot` must be a string");if($.assert(y),!K.has(y,T))throw new U("`"+T+"` is not present on `O`")},get:function(y,T){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new U("`O` is not an object");if("string"!=typeof T)throw new U("`slot` must be a string");var w=$.get(y);return w&&w["$"+T]},has:function(y,T){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new U("`O` is not an object");if("string"!=typeof T)throw new U("`slot` must be a string");var w=$.get(y);return!!w&&O(w,"$"+T)},set:function(y,T,w){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new U("`O` is not an object");if("string"!=typeof T)throw new U("`slot` must be a string");var x=$.get(y);x||$.set(y,x={}),x["$"+T]=w}};Object.freeze&&Object.freeze(K),ye.exports=K},42853:ye=>{"use strict";function I(O,$){for(const U in $)Object.defineProperty(O,U,{value:$[U],enumerable:!0,configurable:!0});return O}ye.exports=function A(O,$,U){if(!O||"string"==typeof O)throw new TypeError("Please pass an Error to err-code");U||(U={}),"object"==typeof $&&(U=$,$=""),$&&(U.code=$);try{return I(O,U)}catch{U.message=O.message,U.stack=O.stack;const y=function(){};return y.prototype=Object.create(Object.getPrototypeOf(O)),I(new y,U)}}},5014:ye=>{"use strict";function I(O,$){for(const U in $)Object.defineProperty(O,U,{value:$[U],enumerable:!0,configurable:!0});return O}ye.exports=function A(O,$,U){if(!O||"string"==typeof O)throw new TypeError("Please pass an Error to err-code");U||(U={}),"object"==typeof $&&(U=$,$=""),$&&(U.code=$);try{return I(O,U)}catch{U.message=O.message,U.stack=O.stack;const y=function(){};return y.prototype=Object.create(Object.getPrototypeOf(O)),I(new y,U)}}},58239:ye=>{"use strict";var O,$,I=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{O=Object.defineProperty({},"length",{get:function(){throw $}}),$={},A(function(){throw 42},null,O)}catch(B){B!==$&&(A=null)}else A=null;var U=/^\s*class\b/,K=function(q){try{var X=I.call(q);return U.test(X)}catch{return!1}},y=function(q){try{return!K(q)&&(I.call(q),!0)}catch{return!1}},T=Object.prototype.toString,M="function"==typeof Symbol&&!!Symbol.toStringTag,P=!(0 in[,]),L=function(){return!1};if("object"==typeof document){var G=document.all;T.call(G)===T.call(document.all)&&(L=function(q){if((P||!q)&&(typeof q>"u"||"object"==typeof q))try{var X=T.call(q);return("[object HTMLAllCollection]"===X||"[object HTML document.all class]"===X||"[object HTMLCollection]"===X||"[object Object]"===X)&&null==q("")}catch{}return!1})}ye.exports=A?function(q){if(L(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;try{A(q,null,O)}catch(X){if(X!==$)return!1}return!K(q)&&y(q)}:function(q){if(L(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;if(M)return y(q);if(K(q))return!1;var X=T.call(q);return!("[object Function]"!==X&&"[object GeneratorFunction]"!==X&&!/^\[object HTML/.test(X))&&y(q)}},94665:(ye,I,A)=>{"use strict";var O=Date.prototype.getDay,U=Object.prototype.toString,y=A(88779)();ye.exports=function(w){return"object"==typeof w&&null!==w&&(y?function(w){try{return O.call(w),!0}catch{return!1}}(w):"[object Date]"===U.call(w))}},53290:(ye,I,A)=>{"use strict";var U,K,y,T,O=A(23020),$=A(88779)();if($){U=O("Object.prototype.hasOwnProperty"),K=O("RegExp.prototype.exec"),y={};var w=function(){throw y};T={toString:w,valueOf:w},"symbol"==typeof Symbol.toPrimitive&&(T[Symbol.toPrimitive]=w)}var x=O("Object.prototype.toString"),R=Object.getOwnPropertyDescriptor;ye.exports=$?function(N){if(!N||"object"!=typeof N)return!1;var M=R(N,"lastIndex");if(!M||!U(M,"value"))return!1;try{K(N,T)}catch(L){return L===y}}:function(N){return!(!N||"object"!=typeof N&&"function"!=typeof N)&&"[object RegExp]"===x(N)}},16827:(ye,I,A)=>{"use strict";var O=Object.prototype.toString;if(A(19900)()){var U=Symbol.prototype.toString,K=/^Symbol\(.*\)$/;ye.exports=function(w){if("symbol"==typeof w)return!0;if("[object Symbol]"!==O.call(w))return!1;try{return function(w){return"symbol"==typeof w.valueOf()&&K.test(U.call(w))}(w)}catch{return!1}}}else ye.exports=function(w){return!1}},20053:ye=>{var I={}.toString;ye.exports=Array.isArray||function(A){return"[object Array]"==I.call(A)}},12398:function(ye){typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"&&globalThis,ye.exports=function(){"use strict";var ee,I="3.7.7",A=I,O="function"==typeof Buffer,$="function"==typeof TextDecoder?new TextDecoder:void 0,U="function"==typeof TextEncoder?new TextEncoder:void 0,y=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),T=(ee={},y.forEach(function(re,fe){return ee[re]=fe}),ee),w=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,x=String.fromCharCode.bind(String),R="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(J){return new Uint8Array(Array.prototype.slice.call(J,0))},k=function(J){return J.replace(/=/g,"").replace(/[+\/]/g,function(ee){return"+"==ee?"-":"_"})},v=function(J){return J.replace(/[^A-Za-z0-9\+\/]/g,"")},N=function(J){for(var ee,re,fe,Ae,Me="",Le=J.length%3,Ee=0;Ee<J.length;){if((re=J.charCodeAt(Ee++))>255||(fe=J.charCodeAt(Ee++))>255||(Ae=J.charCodeAt(Ee++))>255)throw new TypeError("invalid character found");Me+=y[(ee=re<<16|fe<<8|Ae)>>18&63]+y[ee>>12&63]+y[ee>>6&63]+y[63&ee]}return Le?Me.slice(0,Le-3)+"===".substring(Le):Me},M="function"==typeof btoa?function(J){return btoa(J)}:O?function(J){return Buffer.from(J,"binary").toString("base64")}:N,P=O?function(J){return Buffer.from(J).toString("base64")}:function(J){for(var re=[],fe=0,Ae=J.length;fe<Ae;fe+=4096)re.push(x.apply(null,J.subarray(fe,fe+4096)));return M(re.join(""))},L=function(J,ee){return void 0===ee&&(ee=!1),ee?k(P(J)):P(J)},G=function(J){if(J.length<2)return(ee=J.charCodeAt(0))<128?J:ee<2048?x(192|ee>>>6)+x(128|63&ee):x(224|ee>>>12&15)+x(128|ee>>>6&63)+x(128|63&ee);var ee=65536+1024*(J.charCodeAt(0)-55296)+(J.charCodeAt(1)-56320);return x(240|ee>>>18&7)+x(128|ee>>>12&63)+x(128|ee>>>6&63)+x(128|63&ee)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,q=function(J){return J.replace(B,G)},X=O?function(J){return Buffer.from(J,"utf8").toString("base64")}:U?function(J){return P(U.encode(J))}:function(J){return M(q(J))},Q=function(J,ee){return void 0===ee&&(ee=!1),ee?k(X(J)):X(J)},te=function(J){return Q(J,!0)},ie=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ae=function(J){switch(J.length){case 4:var re=((7&J.charCodeAt(0))<<18|(63&J.charCodeAt(1))<<12|(63&J.charCodeAt(2))<<6|63&J.charCodeAt(3))-65536;return x(55296+(re>>>10))+x(56320+(1023&re));case 3:return x((15&J.charCodeAt(0))<<12|(63&J.charCodeAt(1))<<6|63&J.charCodeAt(2));default:return x((31&J.charCodeAt(0))<<6|63&J.charCodeAt(1))}},me=function(J){return J.replace(ie,ae)},ge=function(J){if(J=J.replace(/\s+/g,""),!w.test(J))throw new TypeError("malformed base64.");J+="==".slice(2-(3&J.length));for(var ee,fe,Ae,re="",Me=0;Me<J.length;)ee=T[J.charAt(Me++)]<<18|T[J.charAt(Me++)]<<12|(fe=T[J.charAt(Me++)])<<6|(Ae=T[J.charAt(Me++)]),re+=64===fe?x(ee>>16&255):64===Ae?x(ee>>16&255,ee>>8&255):x(ee>>16&255,ee>>8&255,255&ee);return re},de="function"==typeof atob?function(J){return atob(v(J))}:O?function(J){return Buffer.from(J,"base64").toString("binary")}:ge,z=O?function(J){return R(Buffer.from(J,"base64"))}:function(J){return R(de(J).split("").map(function(ee){return ee.charCodeAt(0)}))},d=function(J){return z(b(J))},f=O?function(J){return Buffer.from(J,"base64").toString("utf8")}:$?function(J){return $.decode(z(J))}:function(J){return me(de(J))},b=function(J){return v(J.replace(/[-_]/g,function(ee){return"-"==ee?"+":"/"}))},C=function(J){return f(b(J))},V=function(J){return{value:J,enumerable:!1,writable:!0,configurable:!0}},Y=function(){var J=function(ee,re){return Object.defineProperty(String.prototype,ee,V(re))};J("fromBase64",function(){return C(this)}),J("toBase64",function(ee){return Q(this,ee)}),J("toBase64URI",function(){return Q(this,!0)}),J("toBase64URL",function(){return Q(this,!0)}),J("toUint8Array",function(){return d(this)})},F=function(){var J=function(ee,re){return Object.defineProperty(Uint8Array.prototype,ee,V(re))};J("toBase64",function(ee){return L(this,ee)}),J("toBase64URI",function(){return L(this,!0)}),J("toBase64URL",function(){return L(this,!0)})},g={version:I,VERSION:A,atob:de,atobPolyfill:ge,btoa:M,btoaPolyfill:N,fromBase64:C,toBase64:Q,encode:Q,encodeURI:te,encodeURL:te,utob:q,btou:me,decode:C,isValid:function(J){if("string"!=typeof J)return!1;var ee=J.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(ee)||!/[^\s0-9a-zA-Z\-_]/.test(ee)},fromUint8Array:L,toUint8Array:d,extendString:Y,extendUint8Array:F,extendBuiltins:function(){Y(),F()},Base64:{}};return Object.keys(g).forEach(function(J){return g.Base64[J]=g[J]}),g}()},89994:function(ye){ye.exports=function(){"use strict";var I=Math.imul,A=Math.clz32;function O(ae){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me})(ae)}function U(ae,me){for(var ge,de=0;de<me.length;de++)(ge=me[de]).enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ae,ge.key,ge)}function T(ae){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(me){return me.__proto__||Object.getPrototypeOf(me)})(ae)}function w(ae,me){return(w=Object.setPrototypeOf||function(ge,de){return ge.__proto__=de,ge})(ae,me)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(){return(R=x()?Reflect.construct:function(ae,me,ge){var de=[null];de.push.apply(de,me);var d=new(Function.bind.apply(ae,de));return ge&&w(d,ge.prototype),d}).apply(null,arguments)}function v(ae){var me="function"==typeof Map?new Map:void 0;return v=function(ge){function de(){return R(ge,arguments,T(this).constructor)}if(null===ge||!function k(ae){return-1!==Function.toString.call(ae).indexOf("[native code]")}(ge))return ge;if("function"!=typeof ge)throw new TypeError("Super expression must either be null or a function");if(typeof me<"u"){if(me.has(ge))return me.get(ge);me.set(ge,de)}return de.prototype=Object.create(ge.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),w(de,ge)},v(ae)}function N(ae){if(void 0===ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function P(ae){var me=x();return function(){var ge,de=T(ae);if(me){var z=T(this).constructor;ge=Reflect.construct(de,arguments,z)}else ge=de.apply(this,arguments);return function M(ae,me){if(me&&("object"==typeof me||"function"==typeof me))return me;if(void 0!==me)throw new TypeError("Derived constructors may only return object or undefined");return N(ae)}(this,ge)}}function L(ae,me){return function G(ae){if(Array.isArray(ae))return ae}(ae)||function B(ae,me){var ge=null==ae?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(null!=ge){var de,z,d=[],f=!0,b=!1;try{for(ge=ge.call(ae);!(f=(de=ge.next()).done)&&(d.push(de.value),!me||d.length!==me);f=!0);}catch(C){b=!0,z=C}finally{try{f||null==ge.return||ge.return()}finally{if(b)throw z}}return d}}(ae,me)||q(ae,me)||function Q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(ae,me){if(ae){if("string"==typeof ae)return X(ae,me);var ge=Object.prototype.toString.call(ae).slice(8,-1);return"Object"===ge&&ae.constructor&&(ge=ae.constructor.name),"Map"===ge||"Set"===ge?Array.from(ae):"Arguments"===ge||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge)?X(ae,me):void 0}}function X(ae,me){(null==me||me>ae.length)&&(me=ae.length);for(var ge=0,de=Array(me);ge<me;ge++)de[ge]=ae[ge];return de}var ie=function(ae){var me=Math.abs,ge=Math.max,de=Math.floor;function z(f,b){var C;if(function $(ae,me){if(!(ae instanceof me))throw new TypeError("Cannot call a class as a function")}(this,z),(C=d.call(this,f)).sign=b,Object.setPrototypeOf(N(C),z.prototype),f>z.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return C}!function y(ae,me){if("function"!=typeof me&&null!==me)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(me&&me.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),Object.defineProperty(ae,"prototype",{writable:!1}),me&&w(ae,me)}(z,ae);var d=P(z);return function K(ae,me,ge){return me&&U(ae.prototype,me),ge&&U(ae,ge),Object.defineProperty(ae,"prototype",{writable:!1}),ae}(z,[{key:"toDebugString",value:function(){var f,b=["BigInt["],C=function te(ae,me){var ge=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(!ge){if(Array.isArray(ae)||(ge=q(ae))||me&&ae&&"number"==typeof ae.length){ge&&(ae=ge);var de=0,z=function(){};return{s:z,n:function(){return de>=ae.length?{done:!0}:{done:!1,value:ae[de++]}},e:function(C){throw C},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,b=!1;return{s:function(){ge=ge.call(ae)},n:function(){var C=ge.next();return f=C.done,C},e:function(C){b=!0,d=C},f:function(){try{f||null==ge.return||ge.return()}finally{if(b)throw d}}}}(this);try{for(C.s();!(f=C.n()).done;){var D=f.value;b.push((D&&(D>>>0).toString(16))+", ")}}catch(V){C.e(V)}finally{C.f()}return b.push("]"),b.join("")}},{key:"toString",value:function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>f||36<f)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":f&f-1?z.__toStringGeneric(this,f,!1):z.__toStringBasePowerOfTwo(this,f)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var f=new z(this.length,this.sign),b=0;b<this.length;b++)f[b]=this[b];return f}},{key:"__trim",value:function(){for(var f=this.length,b=this[f-1];0===b;)b=this[--f-1],this.pop();return 0===f&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var f=0;f<this.length;f++)this[f]=0}},{key:"__clzmsd",value:function(){return z.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(f,b,C){C>this.length&&(C=this.length);for(var D=32767&f,V=f>>>15,Y=0,F=b,h=0;h<C;h++){var g=this.__digit(h),J=32767&g,ee=g>>>15,re=z.__imul(J,D),fe=z.__imul(J,V),Ae=z.__imul(ee,D),Le=F+re+Y;Y=Le>>>30,Le&=1073741823,Y+=(Le+=((32767&fe)<<15)+((32767&Ae)<<15))>>>30,F=z.__imul(ee,V)+(fe>>>15)+(Ae>>>15),this.__setDigit(h,1073741823&Le)}if(0!==Y||0!==F)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(f,b,C){for(var D,V=0,Y=0;Y<C;Y++)V=(D=this.__halfDigit(b+Y)+f.__halfDigit(Y)+V)>>>15,this.__setHalfDigit(b+Y,32767&D);return V}},{key:"__inplaceSub",value:function(f,b,C){var D=0;if(1&b){for(var V=this.__digit(b>>=1),Y=32767&V,F=0;F<C-1>>>1;F++){var h=f.__digit(F),g=(V>>>15)-(32767&h)-D;D=1&g>>>15,this.__setDigit(b+F,(32767&g)<<15|32767&Y),D=1&(Y=(32767&(V=this.__digit(b+F+1)))-(h>>>15)-D)>>>15}var J=f.__digit(F),ee=(V>>>15)-(32767&J)-D;if(D=1&ee>>>15,this.__setDigit(b+F,(32767&ee)<<15|32767&Y),b+F+1>=this.length)throw new RangeError("out of bounds");!(1&C)&&(D=1&(Y=(32767&(V=this.__digit(b+F+1)))-(J>>>15)-D)>>>15,this.__setDigit(b+f.length,1073709056&V|32767&Y))}else{b>>=1;for(var re=0;re<f.length-1;re++){var fe=this.__digit(b+re),Ae=f.__digit(re),Me=(32767&fe)-(32767&Ae)-D,Le=(fe>>>15)-(Ae>>>15)-(D=1&Me>>>15);D=1&Le>>>15,this.__setDigit(b+re,(32767&Le)<<15|32767&Me)}var Ee=this.__digit(b+re),Se=f.__digit(re),He=(32767&Ee)-(32767&Se)-D;D=1&He>>>15;var Te=0;!(1&C)&&(D=1&(Te=(Ee>>>15)-(Se>>>15)-D)>>>15),this.__setDigit(b+re,(32767&Te)<<15|32767&He)}return D}},{key:"__inplaceRightShift",value:function(f){if(0!==f){for(var b,C=this.__digit(0)>>>f,D=this.length-1,V=0;V<D;V++)b=this.__digit(V+1),this.__setDigit(V,1073741823&b<<30-f|C),C=b>>>f;this.__setDigit(D,C)}}},{key:"__digit",value:function(f){return this[f]}},{key:"__unsignedDigit",value:function(f){return this[f]>>>0}},{key:"__setDigit",value:function(f,b){this[f]=0|b}},{key:"__setDigitGrow",value:function(f,b){this[f]=0|b}},{key:"__halfDigitLength",value:function(){var f=this.length;return 32767>=this.__unsignedDigit(f-1)?2*f-1:2*f}},{key:"__halfDigit",value:function(f){return 32767&this[f>>>1]>>>15*(1&f)}},{key:"__setHalfDigit",value:function(f,b){var C=f>>>1,D=this.__digit(C);this.__setDigit(C,1&f?32767&D|b<<15:1073709056&D|32767&b)}}],[{key:"BigInt",value:function(f){var b=Number.isFinite;if("number"==typeof f){if(0===f)return z.__zero();if(z.__isOneDigitInt(f))return 0>f?z.__oneDigit(-f,!0):z.__oneDigit(f,!1);if(!b(f)||de(f)!==f)throw new RangeError("The number "+f+" cannot be converted to BigInt because it is not an integer");return z.__fromDouble(f)}if("string"==typeof f){var C=z.__fromString(f);if(null===C)throw new SyntaxError("Cannot convert "+f+" to a BigInt");return C}if("boolean"==typeof f)return!0===f?z.__oneDigit(1,!1):z.__zero();if("object"===O(f)){if(f.constructor===z)return f;var D=z.__toPrimitive(f);return z.BigInt(D)}throw new TypeError("Cannot convert "+f+" to a BigInt")}},{key:"toNumber",value:function(f){var b=f.length;if(0===b)return 0;if(1===b){var C=f.__unsignedDigit(0);return f.sign?-C:C}var D=f.__digit(b-1),V=z.__clz30(D),Y=30*b-V;if(1024<Y)return f.sign?-1/0:1/0;var F=Y-1,h=D,g=b-1,J=V+3,ee=32===J?0:h<<J;ee>>>=12;var re=J-12,fe=12<=J?0:h<<20+J,Ae=20+J;for(0<re&&0<g&&(g--,ee|=(h=f.__digit(g))>>>30-re,fe=h<<re+2,Ae=re+2);0<Ae&&0<g;)g--,h=f.__digit(g),fe|=30<=Ae?h<<Ae-30:h>>>30-Ae,Ae-=30;var Me=z.__decideRounding(f,Ae,g,h);return 1!==Me&&(0!==Me||1&~fe)||0!=(fe=fe+1>>>0)||!(++ee>>>20!=0&&(ee=0,1023<++F))?(z.__kBitConversionInts[1]=(f.sign?-2147483648:0)|(F=F+1023<<20)|ee,z.__kBitConversionInts[0]=fe,z.__kBitConversionDouble[0]):f.sign?-1/0:1/0}},{key:"unaryMinus",value:function(f){if(0===f.length)return f;var b=f.__copy();return b.sign=!f.sign,b}},{key:"bitwiseNot",value:function(f){return f.sign?z.__absoluteSubOne(f).__trim():z.__absoluteAddOne(f,!0)}},{key:"exponentiate",value:function(f,b){if(b.sign)throw new RangeError("Exponent must be positive");if(0===b.length)return z.__oneDigit(1,!1);if(0===f.length)return f;if(1===f.length&&1===f.__digit(0))return!f.sign||1&b.__digit(0)?f:z.unaryMinus(f);if(1<b.length)throw new RangeError("BigInt too big");var C=b.__unsignedDigit(0);if(1===C)return f;if(C>=z.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===f.length&&2===f.__digit(0)){var D=1+(0|C/30),Y=new z(D,f.sign&&!!(1&C));return Y.__initializeDigits(),Y.__setDigit(D-1,1<<C%30),Y}var h=null,g=f;for(1&C&&(h=f),C>>=1;0!==C;C>>=1)g=z.multiply(g,g),1&C&&(h=null===h?g:z.multiply(h,g));return h}},{key:"multiply",value:function(f,b){if(0===f.length)return f;if(0===b.length)return b;var C=f.length+b.length;30<=f.__clzmsd()+b.__clzmsd()&&C--;var D=new z(C,f.sign!==b.sign);D.__initializeDigits();for(var V=0;V<f.length;V++)z.__multiplyAccumulate(b,f.__digit(V),D,V);return D.__trim()}},{key:"divide",value:function(f,b){if(0===b.length)throw new RangeError("Division by zero");if(0>z.__absoluteCompare(f,b))return z.__zero();var C,D=f.sign!==b.sign,V=b.__unsignedDigit(0);if(1===b.length&&32767>=V){if(1===V)return D===f.sign?f:z.unaryMinus(f);C=z.__absoluteDivSmall(f,V,null)}else C=z.__absoluteDivLarge(f,b,!0,!1);return C.sign=D,C.__trim()}},{key:"remainder",value:function(b,C){if(0===C.length)throw new RangeError("Division by zero");if(0>z.__absoluteCompare(b,C))return b;var D=C.__unsignedDigit(0);if(1===C.length&&32767>=D){if(1===D)return z.__zero();var V=z.__absoluteModSmall(b,D);return 0===V?z.__zero():z.__oneDigit(V,b.sign)}var Y=z.__absoluteDivLarge(b,C,!1,!0);return Y.sign=b.sign,Y.__trim()}},{key:"add",value:function(f,b){var C=f.sign;return C===b.sign?z.__absoluteAdd(f,b,C):0<=z.__absoluteCompare(f,b)?z.__absoluteSub(f,b,C):z.__absoluteSub(b,f,!C)}},{key:"subtract",value:function(f,b){var C=f.sign;return C===b.sign?0<=z.__absoluteCompare(f,b)?z.__absoluteSub(f,b,C):z.__absoluteSub(b,f,!C):z.__absoluteAdd(f,b,C)}},{key:"leftShift",value:function(f,b){return 0===b.length||0===f.length?f:b.sign?z.__rightShiftByAbsolute(f,b):z.__leftShiftByAbsolute(f,b)}},{key:"signedRightShift",value:function(f,b){return 0===b.length||0===f.length?f:b.sign?z.__leftShiftByAbsolute(f,b):z.__rightShiftByAbsolute(f,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(f,b){return 0>z.__compareToBigInt(f,b)}},{key:"lessThanOrEqual",value:function(f,b){return 0>=z.__compareToBigInt(f,b)}},{key:"greaterThan",value:function(f,b){return 0<z.__compareToBigInt(f,b)}},{key:"greaterThanOrEqual",value:function(f,b){return 0<=z.__compareToBigInt(f,b)}},{key:"equal",value:function(f,b){if(f.sign!==b.sign||f.length!==b.length)return!1;for(var C=0;C<f.length;C++)if(f.__digit(C)!==b.__digit(C))return!1;return!0}},{key:"notEqual",value:function(f,b){return!z.equal(f,b)}},{key:"bitwiseAnd",value:function(f,b){if(!f.sign&&!b.sign)return z.__absoluteAnd(f,b).__trim();if(f.sign&&b.sign){var C=ge(f.length,b.length)+1,D=z.__absoluteSubOne(f,C),V=z.__absoluteSubOne(b);return D=z.__absoluteOr(D,V,D),z.__absoluteAddOne(D,!0,D).__trim()}if(f.sign){var Y=[b,f];f=Y[0],b=Y[1]}return z.__absoluteAndNot(f,z.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(f,b){if(!f.sign&&!b.sign)return z.__absoluteXor(f,b).__trim();if(f.sign&&b.sign){var C=ge(f.length,b.length),D=z.__absoluteSubOne(f,C),V=z.__absoluteSubOne(b);return z.__absoluteXor(D,V,D).__trim()}var Y=ge(f.length,b.length)+1;if(f.sign){var F=[b,f];f=F[0],b=F[1]}var h=z.__absoluteSubOne(b,Y);return h=z.__absoluteXor(h,f,h),z.__absoluteAddOne(h,!0,h).__trim()}},{key:"bitwiseOr",value:function(f,b){var C=ge(f.length,b.length);if(!f.sign&&!b.sign)return z.__absoluteOr(f,b).__trim();if(f.sign&&b.sign){var D=z.__absoluteSubOne(f,C),V=z.__absoluteSubOne(b);return D=z.__absoluteAnd(D,V,D),z.__absoluteAddOne(D,!0,D).__trim()}if(f.sign){var Y=[b,f];f=Y[0],b=Y[1]}var F=z.__absoluteSubOne(b,C);return F=z.__absoluteAndNot(F,f,F),z.__absoluteAddOne(F,!0,F).__trim()}},{key:"asIntN",value:function(f,b){if(0===b.length)return b;if(0>(f=de(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return z.__zero();if(f>=z.__kMaxLengthBits)return b;var C=0|(f+29)/30;if(b.length<C)return b;var D=b.__unsignedDigit(C-1),V=1<<(f-1)%30;if(b.length===C&&D<V)return b;if((D&V)!==V)return z.__truncateToNBits(f,b);if(!b.sign)return z.__truncateAndSubFromPowerOfTwo(f,b,!0);if(!(D&V-1)){for(var Y=C-2;0<=Y;Y--)if(0!==b.__digit(Y))return z.__truncateAndSubFromPowerOfTwo(f,b,!1);return b.length===C&&D===V?b:z.__truncateToNBits(f,b)}return z.__truncateAndSubFromPowerOfTwo(f,b,!1)}},{key:"asUintN",value:function(f,b){if(0===b.length)return b;if(0>(f=de(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return z.__zero();if(b.sign){if(f>z.__kMaxLengthBits)throw new RangeError("BigInt too big");return z.__truncateAndSubFromPowerOfTwo(f,b,!1)}if(f>=z.__kMaxLengthBits)return b;var C=0|(f+29)/30;if(b.length<C)return b;var D=f%30;if(b.length==C){if(0===D)return b;if(!(b.__digit(C-1)>>>D))return b}return z.__truncateToNBits(f,b)}},{key:"ADD",value:function(f,b){if(f=z.__toPrimitive(f),b=z.__toPrimitive(b),"string"==typeof f)return"string"!=typeof b&&(b=b.toString()),f+b;if("string"==typeof b)return f.toString()+b;if(f=z.__toNumeric(f),b=z.__toNumeric(b),z.__isBigInt(f)&&z.__isBigInt(b))return z.add(f,b);if("number"==typeof f&&"number"==typeof b)return f+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(f,b){return z.__compare(f,b,0)}},{key:"LE",value:function(f,b){return z.__compare(f,b,1)}},{key:"GT",value:function(f,b){return z.__compare(f,b,2)}},{key:"GE",value:function(f,b){return z.__compare(f,b,3)}},{key:"EQ",value:function(f,b){for(;;){if(z.__isBigInt(f))return z.__isBigInt(b)?z.equal(f,b):z.EQ(b,f);if("number"==typeof f){if(z.__isBigInt(b))return z.__equalToNumber(b,f);if("object"!==O(b))return f==b;b=z.__toPrimitive(b)}else if("string"==typeof f){if(z.__isBigInt(b))return null!==(f=z.__fromString(f))&&z.equal(f,b);if("object"!==O(b))return f==b;b=z.__toPrimitive(b)}else if("boolean"==typeof f){if(z.__isBigInt(b))return z.__equalToNumber(b,+f);if("object"!==O(b))return f==b;b=z.__toPrimitive(b)}else if("symbol"===O(f)){if(z.__isBigInt(b))return!1;if("object"!==O(b))return f==b;b=z.__toPrimitive(b)}else{if("object"!==O(f))return f==b;if("object"===O(b)&&b.constructor!==z)return f==b;f=z.__toPrimitive(f)}}}},{key:"NE",value:function(f,b){return!z.EQ(f,b)}},{key:"DataViewGetBigInt64",value:function(f,b){return z.asIntN(64,z.DataViewGetBigUint64(f,b,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]&&arguments[2],V=L(C?[4,0]:[0,4],2),F=V[1],h=f.getUint32(b+V[0],C),g=f.getUint32(b+F,C),J=new z(3,!1);return J.__setDigit(0,1073741823&g),J.__setDigit(1,(268435455&h)<<2|g>>>30),J.__setDigit(2,h>>>28),J.__trim()}},{key:"DataViewSetBigInt64",value:function(f,b,C){z.DataViewSetBigUint64(f,b,C,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(f,b,C){var D=3<arguments.length&&void 0!==arguments[3]&&arguments[3],V=0,Y=0;if(0<(C=z.asUintN(64,C)).length&&(Y=C.__digit(0),1<C.length)){var F=C.__digit(1);Y|=F<<30,V=F>>>2,2<C.length&&(V|=C.__digit(2)<<28)}var g=L(D?[4,0]:[0,4],2),ee=g[1];f.setUint32(b+g[0],V,D),f.setUint32(b+ee,Y,D)}},{key:"__zero",value:function(){return new z(0,!1)}},{key:"__oneDigit",value:function(f,b){var C=new z(1,b);return C.__setDigit(0,f),C}},{key:"__decideRounding",value:function(f,b,C,D){if(0<b)return-1;var V;if(0>b)V=-b-1;else{if(0===C)return-1;C--,D=f.__digit(C),V=29}var Y=1<<V;if(!(D&Y))return-1;if(D&(Y-=1))return 1;for(;0<C;)if(C--,0!==f.__digit(C))return 1;return 0}},{key:"__fromDouble",value:function(f){z.__kBitConversionDouble[0]=f;var b,D=(2047&z.__kBitConversionInts[1]>>>20)-1023,V=1+(0|D/30),Y=new z(V,0>f),F=1048575&z.__kBitConversionInts[1]|1048576,h=z.__kBitConversionInts[0],J=D%30,ee=0;if(J<20){var re=20-J;ee=re+32,b=F>>>re,F=F<<32-re|h>>>re,h<<=32-re}else if(20===J)ee=32,b=F,F=h,h=0;else{var fe=J-20;ee=32-fe,b=F<<fe|h>>>32-fe,F=h<<fe,h=0}Y.__setDigit(V-1,b);for(var Ae=V-2;0<=Ae;Ae--)0<ee?(ee-=30,b=F>>>2,F=F<<30|h>>>2,h<<=30):b=0,Y.__setDigit(Ae,b);return Y.__trim()}},{key:"__isWhitespace",value:function(f){return 13>=f&&9<=f||(159>=f?32==f:131071>=f?160==f||5760==f:196607>=f?10>=(f&=131071)||40==f||41==f||47==f||95==f||4096==f:65279==f)}},{key:"__fromString",value:function(f){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,C=0,D=f.length,V=0;if(V===D)return z.__zero();for(var Y=f.charCodeAt(V);z.__isWhitespace(Y);){if(++V===D)return z.__zero();Y=f.charCodeAt(V)}if(43===Y){if(++V===D)return null;Y=f.charCodeAt(V),C=1}else if(45===Y){if(++V===D)return null;Y=f.charCodeAt(V),C=-1}if(0===b){if(b=10,48===Y){if(++V===D)return z.__zero();if(88===(Y=f.charCodeAt(V))||120===Y){if(b=16,++V===D)return null;Y=f.charCodeAt(V)}else if(79===Y||111===Y){if(b=8,++V===D)return null;Y=f.charCodeAt(V)}else if(66===Y||98===Y){if(b=2,++V===D)return null;Y=f.charCodeAt(V)}}}else if(16===b&&48===Y){if(++V===D)return z.__zero();if(88===(Y=f.charCodeAt(V))||120===Y){if(++V===D)return null;Y=f.charCodeAt(V)}}if(0!==C&&10!==b)return null;for(;48===Y;){if(++V===D)return z.__zero();Y=f.charCodeAt(V)}var F=D-V,h=z.__kMaxBitsPerChar[b],g=z.__kBitsPerCharTableMultiplier-1;if(F>1073741824/h)return null;var ee=new z(0|(29+(h*F+g>>>z.__kBitsPerCharTableShift))/30,!1),re=10>b?b:10,fe=10<b?b-10:0;if(b&b-1){ee.__initializeDigits();var Te=!1,u=0;do{for(var xe,be=0,_e=1;;){if(xe=void 0,Y-48>>>0<re)xe=Y-48;else{if(!((32|Y)-97>>>0<fe)){Te=!0;break}xe=(32|Y)-87}var Ce=_e*b;if(1073741823<Ce)break;if(_e=Ce,be=be*b+xe,u++,++V===D){Te=!0;break}Y=f.charCodeAt(V)}ee.__inplaceMultiplyAdd(_e,be,0|(h*u+(g=30*z.__kBitsPerCharTableMultiplier-1)>>>z.__kBitsPerCharTableShift)/30)}while(!Te)}else{h>>=z.__kBitsPerCharTableShift;var Ae=[],Me=[],Le=!1;do{for(var Ee,Se=0,He=0;;){if(Ee=void 0,Y-48>>>0<re)Ee=Y-48;else{if(!((32|Y)-97>>>0<fe)){Le=!0;break}Ee=(32|Y)-87}if(He+=h,Se=Se<<h|Ee,++V===D){Le=!0;break}if(Y=f.charCodeAt(V),30<He+h)break}Ae.push(Se),Me.push(He)}while(!Le);z.__fillFromParts(ee,Ae,Me)}if(V!==D){if(!z.__isWhitespace(Y))return null;for(V++;V<D;V++)if(Y=f.charCodeAt(V),!z.__isWhitespace(Y))return null}return ee.sign=-1===C,ee.__trim()}},{key:"__fillFromParts",value:function(f,b,C){for(var D=0,V=0,Y=0,F=b.length-1;0<=F;F--){var h=b[F],g=C[F];V|=h<<Y,30===(Y+=g)?(f.__setDigit(D++,V),Y=0,V=0):30<Y&&(f.__setDigit(D++,1073741823&V),V=h>>>g-(Y-=30))}if(0!==V){if(D>=f.length)throw new Error("implementation bug");f.__setDigit(D++,V)}for(;D<f.length;D++)f.__setDigit(D,0)}},{key:"__toStringBasePowerOfTwo",value:function(f,b){var C=f.length,D=b-1,V=D=(15&(D=(51&(D=(85&D>>>1)+(85&D))>>>2)+(51&D))>>>4)+(15&D),Y=b-1,F=f.__digit(C-1),g=0|(30*C-z.__clz30(F)+V-1)/V;if(f.sign&&g++,268435456<g)throw new Error("string too long");for(var J=Array(g),ee=g-1,re=0,fe=0,Ae=0;Ae<C-1;Ae++){var Me=f.__digit(Ae);J[ee--]=z.__kConversionChars[(re|Me<<fe)&Y];var Ee=V-fe;for(re=Me>>>Ee,fe=30-Ee;fe>=V;)J[ee--]=z.__kConversionChars[re&Y],re>>>=V,fe-=V}for(J[ee--]=z.__kConversionChars[(re|F<<fe)&Y],re=F>>>V-fe;0!==re;)J[ee--]=z.__kConversionChars[re&Y],re>>>=V;if(f.sign&&(J[ee--]="-"),-1!==ee)throw new Error("implementation bug");return J.join("")}},{key:"__toStringGeneric",value:function(f,b,C){var D=f.length;if(0===D)return"";if(1===D){var V=f.__unsignedDigit(0).toString(b);return!1===C&&f.sign&&(V="-"+V),V}var J,ee,Y=30*D-z.__clz30(f.__digit(D-1)),h=z.__kMaxBitsPerChar[b]-1,g=Y*z.__kBitsPerCharTableMultiplier,re=1+(g=0|(g+=h-1)/h)>>1,fe=z.exponentiate(z.__oneDigit(b,!1),z.__oneDigit(re,!1)),Ae=fe.__unsignedDigit(0);if(1===fe.length&&32767>=Ae){(J=new z(f.length,!1)).__initializeDigits();for(var Me,Le=0,Ee=2*f.length-1;0<=Ee;Ee--)Me=Le<<15|f.__halfDigit(Ee),J.__setHalfDigit(Ee,0|Me/Ae),Le=0|Me%Ae;ee=Le.toString(b)}else{var Se=z.__absoluteDivLarge(f,fe,!0,!0);J=Se.quotient;var He=Se.remainder.__trim();ee=z.__toStringGeneric(He,b,!0)}J.__trim();for(var Te=z.__toStringGeneric(J,b,!0);ee.length<re;)ee="0"+ee;return!1===C&&f.sign&&(Te="-"+Te),Te+ee}},{key:"__unequalSign",value:function(f){return f?-1:1}},{key:"__absoluteGreater",value:function(f){return f?-1:1}},{key:"__absoluteLess",value:function(f){return f?1:-1}},{key:"__compareToBigInt",value:function(f,b){var C=f.sign;if(C!==b.sign)return z.__unequalSign(C);var D=z.__absoluteCompare(f,b);return 0<D?z.__absoluteGreater(C):0>D?z.__absoluteLess(C):0}},{key:"__compareToNumber",value:function(f,b){if(z.__isOneDigitInt(b)){var C=f.sign,D=0>b;if(C!==D)return z.__unequalSign(C);if(0===f.length){if(D)throw new Error("implementation bug");return 0===b?0:-1}if(1<f.length)return z.__absoluteGreater(C);var V=me(b),Y=f.__unsignedDigit(0);return Y>V?z.__absoluteGreater(C):Y<V?z.__absoluteLess(C):0}return z.__compareToDouble(f,b)}},{key:"__compareToDouble",value:function(f,b){if(b!=b)return b;if(b===1/0)return-1;if(b===-1/0)return 1;var C=f.sign;if(C!==0>b)return z.__unequalSign(C);if(0===b)throw new Error("implementation bug: should be handled elsewhere");if(0===f.length)return-1;z.__kBitConversionDouble[0]=b;var D=2047&z.__kBitConversionInts[1]>>>20;if(2047==D)throw new Error("implementation bug: handled elsewhere");var V=D-1023;if(0>V)return z.__absoluteGreater(C);var Y=f.length,F=f.__digit(Y-1),h=z.__clz30(F),g=30*Y-h,J=V+1;if(g<J)return z.__absoluteLess(C);if(g>J)return z.__absoluteGreater(C);var ee=1048576|1048575&z.__kBitConversionInts[1],re=z.__kBitConversionInts[0],Ae=29-h;if(Ae!==(0|(g-1)%30))throw new Error("implementation bug");var Me,Le=0;if(Ae<20){var Ee=20-Ae;Le=Ee+32,Me=ee>>>Ee,ee=ee<<32-Ee|re>>>Ee,re<<=32-Ee}else if(20===Ae)Le=32,Me=ee,ee=re,re=0;else{var Se=Ae-20;Le=32-Se,Me=ee<<Se|re>>>32-Se,ee=re<<Se,re=0}if((F>>>=0)>(Me>>>=0))return z.__absoluteGreater(C);if(F<Me)return z.__absoluteLess(C);for(var He=Y-2;0<=He;He--){0<Le?(Le-=30,Me=ee>>>2,ee=ee<<30|re>>>2,re<<=30):Me=0;var Te=f.__unsignedDigit(He);if(Te>Me)return z.__absoluteGreater(C);if(Te<Me)return z.__absoluteLess(C)}if(0!==ee||0!==re){if(0===Le)throw new Error("implementation bug");return z.__absoluteLess(C)}return 0}},{key:"__equalToNumber",value:function(f,b){return z.__isOneDigitInt(b)?0===b?0===f.length:1===f.length&&f.sign===0>b&&f.__unsignedDigit(0)===me(b):0===z.__compareToDouble(f,b)}},{key:"__comparisonResultToBool",value:function(f,b){return 0===b?0>f:1===b?0>=f:2===b?0<f:3===b?0<=f:void 0}},{key:"__compare",value:function(f,b,C){if(f=z.__toPrimitive(f),b=z.__toPrimitive(b),"string"==typeof f&&"string"==typeof b)switch(C){case 0:return f<b;case 1:return f<=b;case 2:return f>b;case 3:return f>=b}if(z.__isBigInt(f)&&"string"==typeof b)return null!==(b=z.__fromString(b))&&z.__comparisonResultToBool(z.__compareToBigInt(f,b),C);if("string"==typeof f&&z.__isBigInt(b))return null!==(f=z.__fromString(f))&&z.__comparisonResultToBool(z.__compareToBigInt(f,b),C);if(f=z.__toNumeric(f),b=z.__toNumeric(b),z.__isBigInt(f)){if(z.__isBigInt(b))return z.__comparisonResultToBool(z.__compareToBigInt(f,b),C);if("number"!=typeof b)throw new Error("implementation bug");return z.__comparisonResultToBool(z.__compareToNumber(f,b),C)}if("number"!=typeof f)throw new Error("implementation bug");if(z.__isBigInt(b))return z.__comparisonResultToBool(z.__compareToNumber(b,f),2^C);if("number"!=typeof b)throw new Error("implementation bug");return 0===C?f<b:1===C?f<=b:2===C?f>b:3===C?f>=b:void 0}},{key:"__absoluteAdd",value:function(f,b,C){if(f.length<b.length)return z.__absoluteAdd(b,f,C);if(0===f.length)return f;if(0===b.length)return f.sign===C?f:z.unaryMinus(f);var D=f.length;(0===f.__clzmsd()||b.length===f.length&&0===b.__clzmsd())&&D++;for(var V,Y=new z(D,C),F=0,h=0;h<b.length;h++)F=(V=f.__digit(h)+b.__digit(h)+F)>>>30,Y.__setDigit(h,1073741823&V);for(;h<f.length;h++){var g=f.__digit(h)+F;F=g>>>30,Y.__setDigit(h,1073741823&g)}return h<Y.length&&Y.__setDigit(h,F),Y.__trim()}},{key:"__absoluteSub",value:function(f,b,C){if(0===f.length)return f;if(0===b.length)return f.sign===C?f:z.unaryMinus(f);for(var D,V=new z(f.length,C),Y=0,F=0;F<b.length;F++)Y=1&(D=f.__digit(F)-b.__digit(F)-Y)>>>30,V.__setDigit(F,1073741823&D);for(;F<f.length;F++){var h=f.__digit(F)-Y;Y=1&h>>>30,V.__setDigit(F,1073741823&h)}return V.__trim()}},{key:"__absoluteAddOne",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length;null===C?C=new z(D,b):C.sign=b;for(var V,Y=1,F=0;F<D;F++)Y=(V=f.__digit(F)+Y)>>>30,C.__setDigit(F,1073741823&V);return 0!==Y&&C.__setDigitGrow(D,1),C}},{key:"__absoluteSubOne",value:function(f,b){for(var D,C=f.length,V=new z(b=b||C,!1),Y=1,F=0;F<C;F++)Y=1&(D=f.__digit(F)-Y)>>>30,V.__setDigit(F,1073741823&D);if(0!==Y)throw new Error("implementation bug");for(var h=C;h<b;h++)V.__setDigit(h,0);return V}},{key:"__absoluteAnd",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,V=b.length,Y=V;if(D<V){Y=D;var F=f,h=D;f=b,D=V,b=F,V=h}var g=Y;null===C?C=new z(g,!1):g=C.length;for(var J=0;J<Y;J++)C.__setDigit(J,f.__digit(J)&b.__digit(J));for(;J<g;J++)C.__setDigit(J,0);return C}},{key:"__absoluteAndNot",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,V=b.length,Y=V;D<V&&(Y=D);var F=D;null===C?C=new z(F,!1):F=C.length;for(var h=0;h<Y;h++)C.__setDigit(h,f.__digit(h)&~b.__digit(h));for(;h<D;h++)C.__setDigit(h,f.__digit(h));for(;h<F;h++)C.__setDigit(h,0);return C}},{key:"__absoluteOr",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,V=b.length,Y=V;if(D<V){Y=D;var F=f,h=D;f=b,D=V,b=F,V=h}var g=D;null===C?C=new z(g,!1):g=C.length;for(var J=0;J<Y;J++)C.__setDigit(J,f.__digit(J)|b.__digit(J));for(;J<D;J++)C.__setDigit(J,f.__digit(J));for(;J<g;J++)C.__setDigit(J,0);return C}},{key:"__absoluteXor",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,V=b.length,Y=V;if(D<V){Y=D;var F=f,h=D;f=b,D=V,b=F,V=h}var g=D;null===C?C=new z(g,!1):g=C.length;for(var J=0;J<Y;J++)C.__setDigit(J,f.__digit(J)^b.__digit(J));for(;J<D;J++)C.__setDigit(J,f.__digit(J));for(;J<g;J++)C.__setDigit(J,0);return C}},{key:"__absoluteCompare",value:function(f,b){var C=f.length-b.length;if(0!=C)return C;for(var D=f.length-1;0<=D&&f.__digit(D)===b.__digit(D);)D--;return 0>D?0:f.__unsignedDigit(D)>b.__unsignedDigit(D)?1:-1}},{key:"__multiplyAccumulate",value:function(f,b,C,D){if(0!==b){for(var V=32767&b,Y=b>>>15,F=0,h=0,g=0;g<f.length;g++,D++){var J=C.__digit(D),ee=f.__digit(g),re=32767&ee,fe=ee>>>15,Ae=z.__imul(re,V),Me=z.__imul(re,Y),Le=z.__imul(fe,V);F=(J+=h+Ae+F)>>>30,J&=1073741823,F+=(J+=((32767&Me)<<15)+((32767&Le)<<15))>>>30,h=z.__imul(fe,Y)+(Me>>>15)+(Le>>>15),C.__setDigit(D,1073741823&J)}for(;0!==F||0!==h;D++){var Se=C.__digit(D);Se+=F+h,h=0,F=Se>>>30,C.__setDigit(D,1073741823&Se)}}}},{key:"__internalMultiplyAdd",value:function(f,b,C,D,V){for(var Y=C,F=0,h=0;h<D;h++){var g=f.__digit(h),J=z.__imul(32767&g,b),ee=z.__imul(g>>>15,b),re=J+((32767&ee)<<15)+F+Y;Y=re>>>30,F=ee>>>15,V.__setDigit(h,1073741823&re)}if(V.length>D)for(V.__setDigit(D++,Y+F);D<V.length;)V.__setDigit(D++,0);else if(Y+F!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(f,b){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===C&&(C=new z(f.length,!1));for(var D=0,V=2*f.length-1;0<=V;V-=2){var Y=(D<<15|f.__halfDigit(V))>>>0,F=0|Y/b;D=0|(Y=((D=0|Y%b)<<15|f.__halfDigit(V-1))>>>0)%b,C.__setDigit(V>>>1,F<<15|Y/b)}return C}},{key:"__absoluteModSmall",value:function(f,b){for(var D=0,V=2*f.length-1;0<=V;V--)D=0|((D<<15|f.__halfDigit(V))>>>0)%b;return D}},{key:"__absoluteDivLarge",value:function(f,b,C,D){var V=b.__halfDigitLength(),Y=b.length,F=f.__halfDigitLength()-V,h=null;C&&(h=new z(F+2>>>1,!1)).__initializeDigits();var g=new z(V+2>>>1,!1);g.__initializeDigits();var J=z.__clz15(b.__halfDigit(V-1));0<J&&(b=z.__specialLeftShift(b,J,0));for(var ee=z.__specialLeftShift(f,J,1),re=b.__halfDigit(V-1),fe=0,Ae=F;0<=Ae;Ae--){var Me=32767,Le=ee.__halfDigit(Ae+V);if(Le!==re){var Ee=(Le<<15|ee.__halfDigit(Ae+V-1))>>>0;Me=0|Ee/re;for(var Se=0|Ee%re,He=b.__halfDigit(V-2),Te=ee.__halfDigit(Ae+V-2);z.__imul(Me,He)>>>0>(Se<<16|Te)>>>0&&(Me--,!(32767<(Se+=re))););}z.__internalMultiplyAdd(b,Me,0,Y,g);var u=ee.__inplaceSub(g,Ae,V+1);0!==u&&(u=ee.__inplaceAdd(b,Ae,V),ee.__setHalfDigit(Ae+V,32767&ee.__halfDigit(Ae+V)+u),Me--),C&&(1&Ae?fe=Me<<15:h.__setDigit(Ae>>>1,fe|Me))}if(D)return ee.__inplaceRightShift(J),C?{quotient:h,remainder:ee}:ee;if(C)return h;throw new Error("unreachable")}},{key:"__clz15",value:function(f){return z.__clz30(f)-15}},{key:"__specialLeftShift",value:function(f,b,C){var D=f.length,V=new z(D+C,!1);if(0===b){for(var Y=0;Y<D;Y++)V.__setDigit(Y,f.__digit(Y));return 0<C&&V.__setDigit(D,0),V}for(var F,h=0,g=0;g<D;g++)F=f.__digit(g),V.__setDigit(g,1073741823&F<<b|h),h=F>>>30-b;return 0<C&&V.__setDigit(D,h),V}},{key:"__leftShiftByAbsolute",value:function(f,b){var C=z.__toShiftAmount(b);if(0>C)throw new RangeError("BigInt too big");var D=0|C/30,V=C%30,Y=f.length,F=0!==V&&f.__digit(Y-1)>>>30-V!=0,h=Y+D+(F?1:0),g=new z(h,f.sign);if(0===V){for(var J=0;J<D;J++)g.__setDigit(J,0);for(;J<h;J++)g.__setDigit(J,f.__digit(J-D))}else{for(var ee=0,re=0;re<D;re++)g.__setDigit(re,0);for(var fe,Ae=0;Ae<Y;Ae++)fe=f.__digit(Ae),g.__setDigit(Ae+D,1073741823&fe<<V|ee),ee=fe>>>30-V;if(F)g.__setDigit(Y+D,ee);else if(0!==ee)throw new Error("implementation bug")}return g.__trim()}},{key:"__rightShiftByAbsolute",value:function(f,b){var C=f.length,D=f.sign,V=z.__toShiftAmount(b);if(0>V)return z.__rightShiftByMaximum(D);var Y=0|V/30,F=V%30,h=C-Y;if(0>=h)return z.__rightShiftByMaximum(D);var g=!1;if(D)if(f.__digit(Y)&(1<<F)-1)g=!0;else for(var J=0;J<Y;J++)if(0!==f.__digit(J)){g=!0;break}g&&0===F&&!~f.__digit(C-1)&&h++;var re=new z(h,D);if(0===F){re.__setDigit(h-1,0);for(var fe=Y;fe<C;fe++)re.__setDigit(fe-Y,f.__digit(fe))}else{for(var Ae,Me=f.__digit(Y)>>>F,Le=C-Y-1,Ee=0;Ee<Le;Ee++)Ae=f.__digit(Ee+Y+1),re.__setDigit(Ee,1073741823&Ae<<30-F|Me),Me=Ae>>>F;re.__setDigit(Le,Me)}return g&&(re=z.__absoluteAddOne(re,!0,re)),re.__trim()}},{key:"__rightShiftByMaximum",value:function(f){return f?z.__oneDigit(1,!0):z.__zero()}},{key:"__toShiftAmount",value:function(f){if(1<f.length)return-1;var b=f.__unsignedDigit(0);return b>z.__kMaxLengthBits?-1:b}},{key:"__toPrimitive",value:function(f){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==O(f)||f.constructor===z)return f;if(typeof Symbol<"u"&&"symbol"===O(Symbol.toPrimitive)){var C=f[Symbol.toPrimitive];if(C){var D=C(b);if("object"!==O(D))return D;throw new TypeError("Cannot convert object to primitive value")}}var V=f.valueOf;if(V){var Y=V.call(f);if("object"!==O(Y))return Y}var F=f.toString;if(F){var h=F.call(f);if("object"!==O(h))return h}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(f){return z.__isBigInt(f)?f:+f}},{key:"__isBigInt",value:function(f){return"object"===O(f)&&null!==f&&f.constructor===z}},{key:"__truncateToNBits",value:function(f,b){for(var C=0|(f+29)/30,D=new z(C,b.sign),V=C-1,Y=0;Y<V;Y++)D.__setDigit(Y,b.__digit(Y));var F=b.__digit(V);if(f%30!=0){var h=32-f%30;F=F<<h>>>h}return D.__setDigit(V,F),D.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(f,b,C){for(var V,D=Math.min,Y=0|(f+29)/30,F=new z(Y,C),h=0,g=Y-1,J=0,ee=D(g,b.length);h<ee;h++)J=1&(V=0-b.__digit(h)-J)>>>30,F.__setDigit(h,1073741823&V);for(;h<g;h++)F.__setDigit(h,1073741823&-J);var re,fe=g<b.length?b.__digit(g):0,Ae=f%30;if(0===Ae)re=0-fe-J,re&=1073741823;else{var Me=32-Ae,Le=1<<32-Me;re=Le-(fe=fe<<Me>>>Me)-J,re&=Le-1}return F.__setDigit(g,re),F.__trim()}},{key:"__digitPow",value:function(f,b){for(var C=1;0<b;)1&b&&(C*=f),b>>>=1,f*=f;return C}},{key:"__isOneDigitInt",value:function(f){return(1073741823&f)===f}}]),z}(v(Array));return ie.__kMaxLength=33554432,ie.__kMaxLengthBits=ie.__kMaxLength<<5,ie.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ie.__kBitsPerCharTableShift=5,ie.__kBitsPerCharTableMultiplier=1<<ie.__kBitsPerCharTableShift,ie.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ie.__kBitConversionBuffer=new ArrayBuffer(8),ie.__kBitConversionDouble=new Float64Array(ie.__kBitConversionBuffer),ie.__kBitConversionInts=new Int32Array(ie.__kBitConversionBuffer),ie.__clz30=A?function(ae){return A(ae)-2}:function(ae){var me=Math.LN2,ge=Math.log;return 0===ae?30:0|29-(0|ge(ae>>>0)/me)},ie.__imul=I||function(ae,me){return 0|ae*me},ie}()},44331:ye=>{"use strict";var I=ye.exports=function($,U,K){"function"==typeof U&&(K=U,U={}),A(U,"function"==typeof(K=U.cb||K)?K:K.pre||function(){},K.post||function(){},$,"",$)};function A($,U,K,y,T,w,x,R,k,v){if(y&&"object"==typeof y&&!Array.isArray(y)){for(var N in U(y,T,w,x,R,k,v),y){var M=y[N];if(Array.isArray(M)){if(N in I.arrayKeywords)for(var P=0;P<M.length;P++)A($,U,K,M[P],T+"/"+N+"/"+P,w,T,N,y,P)}else if(N in I.propsKeywords){if(M&&"object"==typeof M)for(var L in M)A($,U,K,M[L],T+"/"+N+"/"+O(L),w,T,N,y,L)}else(N in I.keywords||$.allKeys&&!(N in I.skipKeywords))&&A($,U,K,M,T+"/"+N,w,T,N,y)}K(y,T,w,x,R,k,v)}}function O($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}I.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},I.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},I.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},I.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},88437:(ye,I,A)=>{"use strict";var O=A(58584),$=O.ValidatorResult,U=O.SchemaError,K={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},y=K.validators={};function T(v,N,M,P,L){var G=N.throwError,B=N.throwAll;N.throwError=!1,N.throwAll=!1;var q=this.validateSchema(v,L,N,M);return N.throwError=G,N.throwAll=B,!q.valid&&P instanceof Function&&P(q),q.valid}function w(v,N){if(Object.hasOwnProperty.call(v,N))return v[N];if(N in v)for(;v=Object.getPrototypeOf(v);)if(Object.propertyIsEnumerable.call(v,N))return v[N]}function x(v,N,M,P,L,G){if(this.types.object(v)&&(!N.properties||void 0===N.properties[L]))if(!1===N.additionalProperties)G.addError({name:"additionalProperties",argument:L,message:"is not allowed to have the additional property "+JSON.stringify(L)});else{var B=N.additionalProperties||{};"function"==typeof M.preValidateProperty&&M.preValidateProperty(v,L,B,M,P);var q=this.validateSchema(v[L],B,M,P.makeChild(B,L));q.instance!==G.instance[L]&&(G.instance[L]=q.instance),G.importErrors(q)}}y.type=function(N,M,P,L){if(void 0===N)return null;var G=new $(N,M,P,L),B=Array.isArray(M.type)?M.type:[M.type];if(!B.some(this.testType.bind(this,N,M,P,L))){var q=B.map(function(X){if(X){var Q=X.$id||X.id;return Q?"<"+Q+">":X+""}});G.addError({name:"type",argument:q,message:"is not of a type(s) "+q})}return G},y.anyOf=function(N,M,P,L){if(void 0===N)return null;var G=new $(N,M,P,L),B=new $(N,M,P,L);if(!Array.isArray(M.anyOf))throw new U("anyOf must be an array");if(!M.anyOf.some(T.bind(this,N,P,L,function(X){B.importErrors(X)}))){var q=M.anyOf.map(function(X,Q){var te=X.$id||X.id;return te?"<"+te+">":X.title&&JSON.stringify(X.title)||X.$ref&&"<"+X.$ref+">"||"[subschema "+Q+"]"});P.nestedErrors&&G.importErrors(B),G.addError({name:"anyOf",argument:q,message:"is not any of "+q.join(",")})}return G},y.allOf=function(N,M,P,L){if(void 0===N)return null;if(!Array.isArray(M.allOf))throw new U("allOf must be an array");var G=new $(N,M,P,L),B=this;return M.allOf.forEach(function(q,X){var Q=B.validateSchema(N,q,P,L);if(!Q.valid){var ie=q.$id||q.id||q.title&&JSON.stringify(q.title)||q.$ref&&"<"+q.$ref+">"||"[subschema "+X+"]";G.addError({name:"allOf",argument:{id:ie,length:Q.errors.length,valid:Q},message:"does not match allOf schema "+ie+" with "+Q.errors.length+" error[s]:"}),G.importErrors(Q)}}),G},y.oneOf=function(N,M,P,L){if(void 0===N)return null;if(!Array.isArray(M.oneOf))throw new U("oneOf must be an array");var G=new $(N,M,P,L),B=new $(N,M,P,L),q=M.oneOf.filter(T.bind(this,N,P,L,function(Q){B.importErrors(Q)})).length,X=M.oneOf.map(function(Q,te){return Q.$id||Q.id||Q.title&&JSON.stringify(Q.title)||Q.$ref&&"<"+Q.$ref+">"||"[subschema "+te+"]"});return 1!==q&&(P.nestedErrors&&G.importErrors(B),G.addError({name:"oneOf",argument:X,message:"is not exactly one from "+X.join(",")})),G},y.if=function(N,M,P,L){if(void 0===N)return null;if(!O.isSchema(M.if))throw new Error('Expected "if" keyword to be a schema');var q,G=T.call(this,N,P,L,null,M.if),B=new $(N,M,P,L);if(G){if(void 0===M.then)return;if(!O.isSchema(M.then))throw new Error('Expected "then" keyword to be a schema');q=this.validateSchema(N,M.then,P,L.makeChild(M.then)),B.importErrors(q)}else{if(void 0===M.else)return;if(!O.isSchema(M.else))throw new Error('Expected "else" keyword to be a schema');q=this.validateSchema(N,M.else,P,L.makeChild(M.else)),B.importErrors(q)}return B},y.propertyNames=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L),B=void 0!==M.propertyNames?M.propertyNames:{};if(!O.isSchema(B))throw new U('Expected "propertyNames" to be a schema (object or boolean)');for(var q in N)if(void 0!==w(N,q)){var X=this.validateSchema(q,B,P,L.makeChild(B));G.importErrors(X)}return G}},y.properties=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L),B=M.properties||{};for(var q in B){var X=B[q];if(void 0!==X){if(null===X)throw new U('Unexpected null, expected schema in "properties"');"function"==typeof P.preValidateProperty&&P.preValidateProperty(N,q,X,P,L);var Q=w(N,q),te=this.validateSchema(Q,X,P,L.makeChild(X,q));te.instance!==G.instance[q]&&(G.instance[q]=te.instance),G.importErrors(te)}}return G}},y.patternProperties=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L),B=M.patternProperties||{};for(var q in N){var X=!0;for(var Q in B){var te=B[Q];if(void 0!==te){if(null===te)throw new U('Unexpected null, expected schema in "patternProperties"');try{var ie=new RegExp(Q,"u")}catch{ie=new RegExp(Q)}if(ie.test(q)){X=!1,"function"==typeof P.preValidateProperty&&P.preValidateProperty(N,q,te,P,L);var ae=this.validateSchema(N[q],te,P,L.makeChild(te,q));ae.instance!==G.instance[q]&&(G.instance[q]=ae.instance),G.importErrors(ae)}}}X&&x.call(this,N,M,P,L,q,G)}return G}},y.additionalProperties=function(N,M,P,L){if(this.types.object(N)){if(M.patternProperties)return null;var G=new $(N,M,P,L);for(var B in N)x.call(this,N,M,P,L,B,G);return G}},y.minProperties=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L);return Object.keys(N).length>=M.minProperties||G.addError({name:"minProperties",argument:M.minProperties,message:"does not meet minimum property length of "+M.minProperties}),G}},y.maxProperties=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L);return Object.keys(N).length<=M.maxProperties||G.addError({name:"maxProperties",argument:M.maxProperties,message:"does not meet maximum property length of "+M.maxProperties}),G}},y.items=function(N,M,P,L){var G=this;if(this.types.array(N)&&void 0!==M.items){var B=new $(N,M,P,L);return N.every(function(q,X){if(Array.isArray(M.items))var Q=void 0===M.items[X]?M.additionalItems:M.items[X];else Q=M.items;if(void 0===Q)return!0;if(!1===Q)return B.addError({name:"items",message:"additionalItems not permitted"}),!1;var te=G.validateSchema(q,Q,P,L.makeChild(Q,X));return te.instance!==B.instance[X]&&(B.instance[X]=te.instance),B.importErrors(te),!0}),B}},y.contains=function(N,M,P,L){var G=this;if(this.types.array(N)&&void 0!==M.contains){if(!O.isSchema(M.contains))throw new Error('Expected "contains" keyword to be a schema');var B=new $(N,M,P,L);return!1===N.some(function(X,Q){return 0===G.validateSchema(X,M.contains,P,L.makeChild(M.contains,Q)).errors.length})&&B.addError({name:"contains",argument:M.contains,message:"must contain an item matching given schema"}),B}},y.minimum=function(N,M,P,L){if(this.types.number(N)){var G=new $(N,M,P,L);return M.exclusiveMinimum&&!0===M.exclusiveMinimum?N>M.minimum||G.addError({name:"minimum",argument:M.minimum,message:"must be greater than "+M.minimum}):N>=M.minimum||G.addError({name:"minimum",argument:M.minimum,message:"must be greater than or equal to "+M.minimum}),G}},y.maximum=function(N,M,P,L){if(this.types.number(N)){var G=new $(N,M,P,L);return M.exclusiveMaximum&&!0===M.exclusiveMaximum?N<M.maximum||G.addError({name:"maximum",argument:M.maximum,message:"must be less than "+M.maximum}):N<=M.maximum||G.addError({name:"maximum",argument:M.maximum,message:"must be less than or equal to "+M.maximum}),G}},y.exclusiveMinimum=function(N,M,P,L){if("boolean"!=typeof M.exclusiveMinimum&&this.types.number(N)){var G=new $(N,M,P,L);return N>M.exclusiveMinimum||G.addError({name:"exclusiveMinimum",argument:M.exclusiveMinimum,message:"must be strictly greater than "+M.exclusiveMinimum}),G}},y.exclusiveMaximum=function(N,M,P,L){if("boolean"!=typeof M.exclusiveMaximum&&this.types.number(N)){var G=new $(N,M,P,L);return N<M.exclusiveMaximum||G.addError({name:"exclusiveMaximum",argument:M.exclusiveMaximum,message:"must be strictly less than "+M.exclusiveMaximum}),G}};var R=function(N,M,P,L,G,B){if(this.types.number(N)){var q=M[G];if(0==q)throw new U(G+" cannot be zero");var X=new $(N,M,P,L),Q=O.getDecimalPlaces(N),te=O.getDecimalPlaces(q),ie=Math.max(Q,te),ae=Math.pow(10,ie);return Math.round(N*ae)%Math.round(q*ae)!=0&&X.addError({name:G,argument:q,message:B+JSON.stringify(q)}),X}};function k(v,N,M){var P,L=M.length;for(P=N+1;P<L;P++)if(O.deepCompareStrict(v,M[P]))return!1;return!0}y.multipleOf=function(N,M,P,L){return R.call(this,N,M,P,L,"multipleOf","is not a multiple of (divisible by) ")},y.divisibleBy=function(N,M,P,L){return R.call(this,N,M,P,L,"divisibleBy","is not divisible by (multiple of) ")},y.required=function(N,M,P,L){var G=new $(N,M,P,L);return void 0===N&&!0===M.required?G.addError({name:"required",message:"is required"}):this.types.object(N)&&Array.isArray(M.required)&&M.required.forEach(function(B){void 0===w(N,B)&&G.addError({name:"required",argument:B,message:"requires property "+JSON.stringify(B)})}),G},y.pattern=function(N,M,P,L){if(this.types.string(N)){var G=new $(N,M,P,L),B=M.pattern;try{var q=new RegExp(B,"u")}catch{q=new RegExp(B)}return N.match(q)||G.addError({name:"pattern",argument:M.pattern,message:"does not match pattern "+JSON.stringify(M.pattern.toString())}),G}},y.format=function(N,M,P,L){if(void 0!==N){var G=new $(N,M,P,L);return!G.disableFormat&&!O.isFormat(N,M.format,this)&&G.addError({name:"format",argument:M.format,message:"does not conform to the "+JSON.stringify(M.format)+" format"}),G}},y.minLength=function(N,M,P,L){if(this.types.string(N)){var G=new $(N,M,P,L),B=N.match(/[\uDC00-\uDFFF]/g);return N.length-(B?B.length:0)>=M.minLength||G.addError({name:"minLength",argument:M.minLength,message:"does not meet minimum length of "+M.minLength}),G}},y.maxLength=function(N,M,P,L){if(this.types.string(N)){var G=new $(N,M,P,L),B=N.match(/[\uDC00-\uDFFF]/g);return N.length-(B?B.length:0)<=M.maxLength||G.addError({name:"maxLength",argument:M.maxLength,message:"does not meet maximum length of "+M.maxLength}),G}},y.minItems=function(N,M,P,L){if(this.types.array(N)){var G=new $(N,M,P,L);return N.length>=M.minItems||G.addError({name:"minItems",argument:M.minItems,message:"does not meet minimum length of "+M.minItems}),G}},y.maxItems=function(N,M,P,L){if(this.types.array(N)){var G=new $(N,M,P,L);return N.length<=M.maxItems||G.addError({name:"maxItems",argument:M.maxItems,message:"does not meet maximum length of "+M.maxItems}),G}},y.uniqueItems=function(N,M,P,L){if(!0===M.uniqueItems&&this.types.array(N)){var G=new $(N,M,P,L);return N.every(k)||G.addError({name:"uniqueItems",message:"contains duplicate item"}),G}},y.dependencies=function(N,M,P,L){if(this.types.object(N)){var G=new $(N,M,P,L);for(var B in M.dependencies)if(void 0!==N[B]){var q=M.dependencies[B],X=L.makeChild(q,B);if("string"==typeof q&&(q=[q]),Array.isArray(q))q.forEach(function(te){void 0===N[te]&&G.addError({name:"dependencies",argument:X.propertyPath,message:"property "+te+" not found, required by "+X.propertyPath})});else{var Q=this.validateSchema(N,q,P,X);G.instance!==Q.instance&&(G.instance=Q.instance),Q&&Q.errors.length&&(G.addError({name:"dependencies",argument:X.propertyPath,message:"does not meet dependency required by "+X.propertyPath}),G.importErrors(Q))}}return G}},y.enum=function(N,M,P,L){if(void 0===N)return null;if(!Array.isArray(M.enum))throw new U("enum expects an array",M);var G=new $(N,M,P,L);return M.enum.some(O.deepCompareStrict.bind(null,N))||G.addError({name:"enum",argument:M.enum,message:"is not one of enum values: "+M.enum.map(String).join(",")}),G},y.const=function(N,M,P,L){if(void 0===N)return null;var G=new $(N,M,P,L);return O.deepCompareStrict(M.const,N)||G.addError({name:"const",argument:M.const,message:"does not exactly match expected constant: "+M.const}),G},y.not=y.disallow=function(N,M,P,L){var G=this;if(void 0===N)return null;var B=new $(N,M,P,L),q=M.not||M.disallow;return q?(Array.isArray(q)||(q=[q]),q.forEach(function(X){if(G.testType(N,M,P,L,X)){var te=X&&(X.$id||X.id)||X;B.addError({name:"not",argument:te,message:"is of prohibited type "+te})}}),B):null},ye.exports=K},58584:(ye,I,A)=>{"use strict";var O=A(52797),$=I.ValidationError=function(G,B,q,X,Q,te){Array.isArray(X)?(this.path=X,this.property=X.reduce(function(ae,me){return ae+R(me)},"instance")):void 0!==X&&(this.property=X),G&&(this.message=G),q&&(this.schema=q.$id||q.id||q),void 0!==B&&(this.instance=B),this.name=Q,this.argument=te,this.stack=this.toString()};$.prototype.toString=function(){return this.property+" "+this.message};var U=I.ValidatorResult=function(G,B,q,X){this.instance=G,this.schema=B,this.options=q,this.path=X.path,this.propertyPath=X.propertyPath,this.errors=[],this.throwError=q&&q.throwError,this.throwFirst=q&&q.throwFirst,this.throwAll=q&&q.throwAll,this.disableFormat=q&&!0===q.disableFormat};function K(L,G){return G+": "+L.toString()+"\n"}function y(L){Error.captureStackTrace&&Error.captureStackTrace(this,y),this.instance=L.instance,this.schema=L.schema,this.options=L.options,this.errors=L.errors}U.prototype.addError=function(G){var B;if("string"==typeof G)B=new $(G,this.instance,this.schema,this.path);else{if(!G)throw new Error("Missing error detail");if(!G.message)throw new Error("Missing error message");if(!G.name)throw new Error("Missing validator type");B=new $(G.message,this.instance,this.schema,this.path,G.name,G.argument)}if(this.errors.push(B),this.throwFirst)throw new y(this);if(this.throwError)throw B;return B},U.prototype.importErrors=function(G){"string"==typeof G||G&&G.validatorType?this.addError(G):G&&G.errors&&(this.errors=this.errors.concat(G.errors))},U.prototype.toString=function(G){return this.errors.map(K).join("")},Object.defineProperty(U.prototype,"valid",{get:function(){return!this.errors.length}}),ye.exports.ValidatorResultError=y,(y.prototype=new Error).constructor=y,y.prototype.name="Validation Error";var T=I.SchemaError=function L(G,B){this.message=G,this.schema=B,Error.call(this,G),Error.captureStackTrace(this,L)};T.prototype=Object.create(Error.prototype,{constructor:{value:T,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var w=I.SchemaContext=function(G,B,q,X,Q){this.schema=G,this.options=B,Array.isArray(q)?(this.path=q,this.propertyPath=q.reduce(function(te,ie){return te+R(ie)},"instance")):this.propertyPath=q,this.base=X,this.schemas=Q};w.prototype.resolve=function(G){return O.resolve(this.base,G)},w.prototype.makeChild=function(G,B){var q=void 0===B?this.path:this.path.concat([B]),X=G.$id||G.id,Q=O.resolve(this.base,X||""),te=new w(G,this.options,q,Q,Object.create(this.schemas));return X&&!te.schemas[Q]&&(te.schemas[Q]=G),te};var x=I.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(L){return"string"==typeof L&&parseFloat(L)===parseInt(L,10)&&!isNaN(L)},regex:function(L){var G=!0;try{new RegExp(L)}catch{G=!1}return G},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};x.regexp=x.regex,x.pattern=x.regex,x.ipv4=x["ip-address"],I.isFormat=function(G,B,q){if("string"==typeof G&&void 0!==x[B]){if(x[B]instanceof RegExp)return x[B].test(G);if("function"==typeof x[B])return x[B](G)}else if(q&&q.customFormats&&"function"==typeof q.customFormats[B])return q.customFormats[B](G);return!0};var R=I.makeSuffix=function(G){return(G=G.toString()).match(/[.\s\[\]]/)||G.match(/^[\d]/)?G.match(/^\d+$/)?"["+G+"]":"["+JSON.stringify(G)+"]":"."+G};function k(L,G,B,q){"object"==typeof B?G[q]=M(L[q],B):-1===L.indexOf(B)&&G.push(B)}function v(L,G,B){G[B]=L[B]}function N(L,G,B,q){B[q]="object"==typeof G[q]&&G[q]&&L[q]?M(L[q],G[q]):G[q]}function M(L,G){var B=Array.isArray(G),q=B&&[]||{};return B?(q=q.concat(L=L||[]),G.forEach(k.bind(null,L,q))):(L&&"object"==typeof L&&Object.keys(L).forEach(v.bind(null,L,q)),Object.keys(G).forEach(N.bind(null,L,G,q))),q}function P(L){return"/"+encodeURIComponent(L).replace(/~/g,"%7E")}I.deepCompareStrict=function L(G,B){if(typeof G!=typeof B)return!1;if(Array.isArray(G))return!(!Array.isArray(B)||G.length!==B.length)&&G.every(function(Q,te){return L(G[te],B[te])});if("object"==typeof G){if(!G||!B)return G===B;var q=Object.keys(G),X=Object.keys(B);return q.length===X.length&&q.every(function(Q){return L(G[Q],B[Q])})}return G===B},ye.exports.deepMerge=M,I.objectGetPath=function(G,B){for(var X,q=B.split("/").slice(1);"string"==typeof(X=q.shift());){var Q=decodeURIComponent(X.replace(/~0/,"~").replace(/~1/g,"/"));if(!(Q in G))return;G=G[Q]}return G},I.encodePath=function(G){return G.map(P).join("")},I.getDecimalPlaces=function(G){var B=0;if(isNaN(G))return B;"number"!=typeof G&&(G=Number(G));var q=G.toString().split("e");if(2===q.length){if("-"!==q[1][0])return B;B=Number(q[1].slice(1))}var X=q[0].split(".");return 2===X.length&&(B+=X[1].length),B},I.isSchema=function(G){return"object"==typeof G&&G||"boolean"==typeof G}},18813:(ye,I,A)=>{"use strict";ye.exports.Validator=A(36099);A(58584),A(58584),A(58584),A(58584),A(74176),A(74176)},74176:(ye,I,A)=>{"use strict";var $=A(52797),U=A(58584);function K(y,T){this.id=y,this.ref=T}ye.exports.S=function(T,w){function x(M,P){if(P&&"object"==typeof P){if(P.$ref){var L=$.resolve(M,P.$ref);return void(N[L]=N[L]?N[L]+1:0)}var G=P.$id||P.id,B=G?$.resolve(M,G):M;if(B){if(B.indexOf("#")<0&&(B+="#"),v[B]){if(!U.deepCompareStrict(v[B],P))throw new Error("Schema <"+B+"> already exists with different definition");return v[B]}v[B]=P,"#"==B[B.length-1]&&(v[B.substring(0,B.length-1)]=P)}R(B+"/items",Array.isArray(P.items)?P.items:[P.items]),R(B+"/extends",Array.isArray(P.extends)?P.extends:[P.extends]),x(B+"/additionalItems",P.additionalItems),k(B+"/properties",P.properties),x(B+"/additionalProperties",P.additionalProperties),k(B+"/definitions",P.definitions),k(B+"/patternProperties",P.patternProperties),k(B+"/dependencies",P.dependencies),R(B+"/disallow",P.disallow),R(B+"/allOf",P.allOf),R(B+"/anyOf",P.anyOf),R(B+"/oneOf",P.oneOf),x(B+"/not",P.not)}}function R(M,P){if(Array.isArray(P))for(var L=0;L<P.length;L++)x(M+"/"+L,P[L])}function k(M,P){if(P&&"object"==typeof P)for(var L in P)x(M+"/"+L,P[L])}var v={},N={};return x(T,w),new K(v,N)}},36099:(ye,I,A)=>{"use strict";var O=A(52797),$=A(88437),U=A(58584),K=A(74176).S,y=U.ValidatorResult,T=U.ValidatorResultError,w=U.SchemaError,x=U.SchemaContext,k=function M(){this.customFormats=Object.create(M.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(N),this.attributes=Object.create($.validators)};function v(M){var P="string"==typeof M?M:M.$ref;return"string"==typeof P&&P}k.prototype.customFormats={},k.prototype.schemas=null,k.prototype.types=null,k.prototype.attributes=null,k.prototype.unresolvedRefs=null,k.prototype.addSchema=function(P,L){var G=this;if(!P)return null;var B=K(L||"/",P),q=L||P.$id||P.id;for(var X in B.id)this.schemas[X]=B.id[X];for(var X in B.ref)this.unresolvedRefs.push(X);return this.unresolvedRefs=this.unresolvedRefs.filter(function(Q){return typeof G.schemas[Q]>"u"}),this.schemas[q]},k.prototype.addSubSchemaArray=function(P,L){if(Array.isArray(L))for(var G=0;G<L.length;G++)this.addSubSchema(P,L[G])},k.prototype.addSubSchemaObject=function(P,L){if(L&&"object"==typeof L)for(var G in L)this.addSubSchema(P,L[G])},k.prototype.setSchemas=function(P){this.schemas=P},k.prototype.getSchema=function(P){return this.schemas[P]},k.prototype.validate=function(P,L,G,B){if("boolean"!=typeof L&&"object"!=typeof L||null===L)throw new w("Expected `schema` to be an object or boolean");G||(G={});var ae,X=O.resolve(G.base||"/",L.$id||L.id||"");if(!B){(B=new x(L,G,[],X,Object.create(this.schemas))).schemas[X]||(B.schemas[X]=L);var Q=K(X,L);for(var te in Q.id)B.schemas[te]=Q.id[te]}if(G.required&&void 0===P)return(ae=new y(P,L,G,B)).addError("is required, but is undefined"),ae;if(!(ae=this.validateSchema(P,L,G,B)))throw new Error("Result undefined");if(G.throwAll&&ae.errors.length)throw new T(ae);return ae},k.prototype.validateSchema=function(P,L,G,B){var q=new y(P,L,G,B);if("boolean"==typeof L)!0===L?L={}:!1===L&&(L={type:[]});else if(!L)throw new Error("schema is undefined");if(L.extends)if(Array.isArray(L.extends)){var X={schema:L,ctx:B};L.extends.forEach(this.schemaTraverser.bind(this,X)),L=X.schema,X.schema=null,X.ctx=null,X=null}else L=U.deepMerge(L,this.superResolve(L.extends,B));var Q=v(L);if(Q){var te=this.resolve(L,Q,B),ie=new x(te.subschema,G,B.path,te.switchSchema,B.schemas);return this.validateSchema(P,te.subschema,G,ie)}var ae=G&&G.skipAttributes||[];for(var me in L)if(!$.ignoreProperties[me]&&ae.indexOf(me)<0){var ge=null,de=this.attributes[me];if(de)ge=de.call(this,P,L,G,B);else if(!1===G.allowUnknownAttributes)throw new w("Unsupported attribute: "+me,L);ge&&q.importErrors(ge)}if("function"==typeof G.rewrite){var z=G.rewrite.call(this,P,L,G,B);q.instance=z}return q},k.prototype.schemaTraverser=function(P,L){P.schema=U.deepMerge(P.schema,this.superResolve(L,P.ctx))},k.prototype.superResolve=function(P,L){var G=v(P);return G?this.resolve(P,G,L).subschema:P},k.prototype.resolve=function(P,L,G){if(L=G.resolve(L),G.schemas[L])return{subschema:G.schemas[L],switchSchema:L};var B=O.parse(L),q=B&&B.hash,X=q&&q.length&&L.substr(0,L.length-q.length);if(!X||!G.schemas[X])throw new w("no such schema <"+L+">",P);var Q=U.objectGetPath(G.schemas[X],q.substr(1));if(void 0===Q)throw new w("no such schema "+q+" located in <"+X+">",P);return{subschema:Q,switchSchema:L}},k.prototype.testType=function(P,L,G,B,q){if(void 0!==q){if(null===q)throw new w('Unexpected null in "type" keyword');if("function"==typeof this.types[q])return this.types[q].call(this,P);if(q&&"object"==typeof q){var X=this.validateSchema(P,q,G,B);return void 0===X||!(X&&X.errors.length)}return!0}};var N=k.prototype.types={};N.string=function(P){return"string"==typeof P},N.number=function(P){return"number"==typeof P&&isFinite(P)},N.integer=function(P){return"number"==typeof P&&P%1==0},N.boolean=function(P){return"boolean"==typeof P},N.array=function(P){return Array.isArray(P)},N.null=function(P){return null===P},N.date=function(P){return P instanceof Date},N.any=function(P){return!0},N.object=function(P){return P&&"object"==typeof P&&!Array.isArray(P)&&!(P instanceof Date)},ye.exports=k},89061:(ye,I)=>{"use strict";I.supports=function(...O){const $=O.reduce((U,K)=>Object.assign(U,K),{});return Object.assign($,{snapshots:$.snapshots||!1,permanence:$.permanence||!1,seek:$.seek||!1,clear:$.clear||!1,getMany:$.getMany||!1,keyIterator:$.keyIterator||!1,valueIterator:$.valueIterator||!1,iteratorNextv:$.iteratorNextv||!1,iteratorAll:$.iteratorAll||!1,status:$.status||!1,createIfMissing:$.createIfMissing||!1,errorIfExists:$.errorIfExists||!1,deferredOpen:$.deferredOpen||!1,promises:$.promises||!1,streams:$.streams||!1,encodings:Object.assign({},$.encodings),events:Object.assign({},$.events),additionalMethods:Object.assign({},$.additionalMethods)})}},25006:(ye,I,A)=>{"use strict";const O=A(61747),$=A(40080),{Encoding:U}=A(15045),{BufferFormat:K,ViewFormat:y,UTF8Format:T}=A(48262),w=Symbol("formats"),x=Symbol("encodings"),R=new Set(["buffer","view","utf8"]);I.Transcoder=class k{constructor(B){if(!Array.isArray(B))throw new TypeError("The first argument 'formats' must be an array");if(!B.every(q=>R.has(q)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[x]=new Map,this[w]=new Set(B);for(const q in $)try{this.encoding(q)}catch(X){if("LEVEL_ENCODING_NOT_SUPPORTED"!==X.code)throw X}}encodings(){return Array.from(new Set(this[x].values()))}encoding(B){let q=this[x].get(B);if(void 0===q){if("string"==typeof B&&""!==B){if(q=P[B],!q)throw new O(`Encoding '${B}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof B||null===B)throw new TypeError("First argument 'encoding' must be a string or object");q=function v(G){if(G instanceof U)return G;const q=G.name||("type"in G&&"string"==typeof G.type?G.type:void 0)||"anonymous-"+L++;switch(function N(G){return"format"in G&&void 0!==G.format?G.format:"buffer"in G&&"boolean"==typeof G.buffer?G.buffer?"buffer":"utf8":"code"in G&&Number.isInteger(G.code)?"view":"buffer"}(G)){case"view":return new y({...G,name:q});case"utf8":return new T({...G,name:q});case"buffer":return new K({...G,name:q});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(B)}const{name:X,format:Q}=q;if(!this[w].has(Q))if(this[w].has("view"))q=q.createViewTranscoder();else if(this[w].has("buffer"))q=q.createBufferTranscoder();else{if(!this[w].has("utf8"))throw new O(`Encoding '${X}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});q=q.createUTF8Transcoder()}for(const te of[B,X,q.name,q.commonName])this[x].set(te,q)}return q}};const M={binary:$.buffer,"utf-8":$.utf8},P={...$,...M};let L=0},15045:(ye,I,A)=>{"use strict";const O=A(61747),$=new Set(["buffer","view","utf8"]);I.Encoding=class U{constructor(y){if(this.encode=y.encode||this.encode,this.decode=y.decode||this.decode,this.name=y.name||this.name,this.format=y.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!$.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");y.createViewTranscoder&&(this.createViewTranscoder=y.createViewTranscoder),y.createBufferTranscoder&&(this.createBufferTranscoder=y.createBufferTranscoder),y.createUTF8Transcoder&&(this.createUTF8Transcoder=y.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new O(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new O(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new O(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(ye,I,A)=>{"use strict";const{Buffer:O}=A(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:$,textDecoder:U}=A(33619)(),{BufferFormat:K,ViewFormat:y,UTF8Format:T}=A(48262),w=x=>x;I.utf8=new T({encode:function(x){return O.isBuffer(x)?x.toString("utf8"):ArrayBuffer.isView(x)?U.decode(x):String(x)},decode:w,name:"utf8",createViewTranscoder(){return new y({encode:function(x){return ArrayBuffer.isView(x)?x:$.encode(x)},decode:function(x){return U.decode(x)},name:`${this.name}+view`})},createBufferTranscoder(){return new K({encode:function(x){return O.isBuffer(x)?x:ArrayBuffer.isView(x)?O.from(x.buffer,x.byteOffset,x.byteLength):O.from(String(x),"utf8")},decode:function(x){return x.toString("utf8")},name:`${this.name}+buffer`})}}),I.json=new T({encode:JSON.stringify,decode:JSON.parse,name:"json"}),I.buffer=new K({encode:function(x){return O.isBuffer(x)?x:ArrayBuffer.isView(x)?O.from(x.buffer,x.byteOffset,x.byteLength):O.from(String(x),"utf8")},decode:w,name:"buffer",createViewTranscoder(){return new y({encode:function(x){return ArrayBuffer.isView(x)?x:O.from(String(x),"utf8")},decode:function(x){return O.from(x.buffer,x.byteOffset,x.byteLength)},name:`${this.name}+view`})}}),I.view=new y({encode:function(x){return ArrayBuffer.isView(x)?x:$.encode(x)},decode:w,name:"view",createBufferTranscoder(){return new K({encode:function(x){return O.isBuffer(x)?x:ArrayBuffer.isView(x)?O.from(x.buffer,x.byteOffset,x.byteLength):O.from(String(x),"utf8")},decode:w,name:`${this.name}+buffer`})}}),I.hex=new K({encode:function(x){return O.isBuffer(x)?x:O.from(String(x),"hex")},decode:function(x){return x.toString("hex")},name:"hex"}),I.base64=new K({encode:function(x){return O.isBuffer(x)?x:O.from(String(x),"base64")},decode:function(x){return x.toString("base64")},name:"base64"})},48262:(ye,I,A)=>{"use strict";const{Buffer:O}=A(484)||{},{Encoding:$}=A(15045),U=A(33619);class K extends ${constructor(x){super({...x,format:"buffer"})}createViewTranscoder(){return new y({encode:this.encode,decode:x=>this.decode(O.from(x.buffer,x.byteOffset,x.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class y extends ${constructor(x){super({...x,format:"view"})}createBufferTranscoder(){return new K({encode:x=>{const R=this.encode(x);return O.from(R.buffer,R.byteOffset,R.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}I.BufferFormat=K,I.ViewFormat=y,I.UTF8Format=class T extends ${constructor(x){super({...x,format:"utf8"})}createBufferTranscoder(){return new K({encode:x=>O.from(this.encode(x),"utf8"),decode:x=>this.decode(x.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:x,textDecoder:R}=U();return new y({encode:k=>x.encode(this.encode(k)),decode:k=>this.decode(R.decode(k)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:ye=>{"use strict";let I=null;ye.exports=function(){return null===I&&(I={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),I}},484:(ye,I,A)=>{"use strict";const O=A(13981),$=A(22020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=w,I.SlowBuffer=function q(se){return+se!=se&&(se=0),w.alloc(+se)},I.INSPECT_MAX_BYTES=50;const K=2147483647;function T(se){if(se>K)throw new RangeError('The value "'+se+'" is invalid for option "size"');const W=new Uint8Array(se);return Object.setPrototypeOf(W,w.prototype),W}function w(se,W,Z){if("number"==typeof se){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(se)}return x(se,W,Z)}function x(se,W,Z){if("string"==typeof se)return function N(se,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!w.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const Z=0|X(se,W);let he=T(Z);const De=he.write(se,W);return De!==Z&&(he=he.slice(0,De)),he}(se,W);if(ArrayBuffer.isView(se))return function P(se){if(Ye(se,Uint8Array)){const W=new Uint8Array(se);return L(W.buffer,W.byteOffset,W.byteLength)}return M(se)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ye(se,ArrayBuffer)||se&&Ye(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(se,SharedArrayBuffer)||se&&Ye(se.buffer,SharedArrayBuffer)))return L(se,W,Z);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');const he=se.valueOf&&se.valueOf();if(null!=he&&he!==se)return w.from(he,W,Z);const De=function G(se){if(w.isBuffer(se)){const W=0|B(se.length),Z=T(W);return 0===Z.length||se.copy(Z,0,0,W),Z}return void 0!==se.length?"number"!=typeof se.length||wt(se.length)?T(0):M(se):"Buffer"===se.type&&Array.isArray(se.data)?M(se.data):void 0}(se);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return w.from(se[Symbol.toPrimitive]("string"),W,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function R(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function v(se){return R(se),T(se<0?0:0|B(se))}function M(se){const W=se.length<0?0:0|B(se.length),Z=T(W);for(let he=0;he<W;he+=1)Z[he]=255&se[he];return Z}function L(se,W,Z){if(W<0||se.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<W+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let he;return he=void 0===W&&void 0===Z?new Uint8Array(se):void 0===Z?new Uint8Array(se,W):new Uint8Array(se,W,Z),Object.setPrototypeOf(he,w.prototype),he}function B(se){if(se>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|se}function X(se,W){if(w.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ye(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===Z)return 0;let De=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Ne(se).length;default:if(De)return he?-1:Ce(se).length;W=(""+W).toLowerCase(),De=!0}}function Q(se,W,Z){let he=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===Z||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(W>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return F(this,W,Z);case"utf8":case"utf-8":return b(this,W,Z);case"ascii":return V(this,W,Z);case"latin1":case"binary":return Y(this,W,Z);case"base64":return f(this,W,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,W,Z);default:if(he)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),he=!0}}function te(se,W,Z){const he=se[W];se[W]=se[Z],se[Z]=he}function ie(se,W,Z,he,De){if(0===se.length)return-1;if("string"==typeof Z?(he=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),wt(Z=+Z)&&(Z=De?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(De)return-1;Z=se.length-1}else if(Z<0){if(!De)return-1;Z=0}if("string"==typeof W&&(W=w.from(W,he)),w.isBuffer(W))return 0===W.length?-1:ae(se,W,Z,he,De);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(se,W,Z):Uint8Array.prototype.lastIndexOf.call(se,W,Z):ae(se,[W],Z,he,De);throw new TypeError("val must be string, number or Buffer")}function ae(se,W,Z,he,De){let Mt,Xe=1,Ze=se.length,at=W.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(se.length<2||W.length<2)return-1;Xe=2,Ze/=2,at/=2,Z/=2}function Rt(At,Wt){return 1===Xe?At[Wt]:At.readUInt16BE(Wt*Xe)}if(De){let At=-1;for(Mt=Z;Mt<Ze;Mt++)if(Rt(se,Mt)===Rt(W,-1===At?0:Mt-At)){if(-1===At&&(At=Mt),Mt-At+1===at)return At*Xe}else-1!==At&&(Mt-=Mt-At),At=-1}else for(Z+at>Ze&&(Z=Ze-at),Mt=Z;Mt>=0;Mt--){let At=!0;for(let Wt=0;Wt<at;Wt++)if(Rt(se,Mt+Wt)!==Rt(W,Wt)){At=!1;break}if(At)return Mt}return-1}function me(se,W,Z,he){Z=Number(Z)||0;const De=se.length-Z;he?(he=Number(he))>De&&(he=De):he=De;const Xe=W.length;let Ze;for(he>Xe/2&&(he=Xe/2),Ze=0;Ze<he;++Ze){const at=parseInt(W.substr(2*Ze,2),16);if(wt(at))return Ze;se[Z+Ze]=at}return Ze}function ge(se,W,Z,he){return We(Ce(W,se.length-Z),se,Z,he)}function de(se,W,Z,he){return We(function ke(se){const W=[];for(let Z=0;Z<se.length;++Z)W.push(255&se.charCodeAt(Z));return W}(W),se,Z,he)}function z(se,W,Z,he){return We(Ne(W),se,Z,he)}function d(se,W,Z,he){return We(function ze(se,W){let Z,he,De;const Xe=[];for(let Ze=0;Ze<se.length&&!((W-=2)<0);++Ze)Z=se.charCodeAt(Ze),he=Z>>8,De=Z%256,Xe.push(De),Xe.push(he);return Xe}(W,se.length-Z),se,Z,he)}function f(se,W,Z){return O.fromByteArray(0===W&&Z===se.length?se:se.slice(W,Z))}function b(se,W,Z){Z=Math.min(se.length,Z);const he=[];let De=W;for(;De<Z;){const Xe=se[De];let Ze=null,at=Xe>239?4:Xe>223?3:Xe>191?2:1;if(De+at<=Z){let Rt,Mt,At,Wt;switch(at){case 1:Xe<128&&(Ze=Xe);break;case 2:Rt=se[De+1],128==(192&Rt)&&(Wt=(31&Xe)<<6|63&Rt,Wt>127&&(Ze=Wt));break;case 3:Rt=se[De+1],Mt=se[De+2],128==(192&Rt)&&128==(192&Mt)&&(Wt=(15&Xe)<<12|(63&Rt)<<6|63&Mt,Wt>2047&&(Wt<55296||Wt>57343)&&(Ze=Wt));break;case 4:Rt=se[De+1],Mt=se[De+2],At=se[De+3],128==(192&Rt)&&128==(192&Mt)&&128==(192&At)&&(Wt=(15&Xe)<<18|(63&Rt)<<12|(63&Mt)<<6|63&At,Wt>65535&&Wt<1114112&&(Ze=Wt))}}null===Ze?(Ze=65533,at=1):Ze>65535&&(Ze-=65536,he.push(Ze>>>10&1023|55296),Ze=56320|1023&Ze),he.push(Ze),De+=at}return function D(se){const W=se.length;if(W<=C)return String.fromCharCode.apply(String,se);let Z="",he=0;for(;he<W;)Z+=String.fromCharCode.apply(String,se.slice(he,he+=C));return Z}(he)}I.kMaxLength=K,!(w.TYPED_ARRAY_SUPPORT=function y(){try{const se=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(se,W),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(se,W,Z){return x(se,W,Z)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(se,W,Z){return function k(se,W,Z){return R(se),se<=0?T(se):void 0!==W?"string"==typeof Z?T(se).fill(W,Z):T(se).fill(W):T(se)}(se,W,Z)},w.allocUnsafe=function(se){return v(se)},w.allocUnsafeSlow=function(se){return v(se)},w.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==w.prototype},w.compare=function(W,Z){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),Ye(Z,Uint8Array)&&(Z=w.from(Z,Z.offset,Z.byteLength)),!w.isBuffer(W)||!w.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===Z)return 0;let he=W.length,De=Z.length;for(let Xe=0,Ze=Math.min(he,De);Xe<Ze;++Xe)if(W[Xe]!==Z[Xe]){he=W[Xe],De=Z[Xe];break}return he<De?-1:De<he?1:0},w.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(W,Z){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return w.alloc(0);let he;if(void 0===Z)for(Z=0,he=0;he<W.length;++he)Z+=W[he].length;const De=w.allocUnsafe(Z);let Xe=0;for(he=0;he<W.length;++he){let Ze=W[he];if(Ye(Ze,Uint8Array))Xe+Ze.length>De.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(De,Xe)):Uint8Array.prototype.set.call(De,Ze,Xe);else{if(!w.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy(De,Xe)}Xe+=Ze.length}return De},w.byteLength=X,w.prototype._isBuffer=!0,w.prototype.swap16=function(){const W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<W;Z+=2)te(this,Z,Z+1);return this},w.prototype.swap32=function(){const W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<W;Z+=4)te(this,Z,Z+3),te(this,Z+1,Z+2);return this},w.prototype.swap64=function(){const W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<W;Z+=8)te(this,Z,Z+7),te(this,Z+1,Z+6),te(this,Z+2,Z+5),te(this,Z+3,Z+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){const W=this.length;return 0===W?"":0===arguments.length?b(this,0,W):Q.apply(this,arguments)},w.prototype.equals=function(W){if(!w.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===w.compare(this,W)},w.prototype.inspect=function(){let W="";const Z=I.INSPECT_MAX_BYTES;return W=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(W+=" ... "),"<Buffer "+W+">"},U&&(w.prototype[U]=w.prototype.inspect),w.prototype.compare=function(W,Z,he,De,Xe){if(Ye(W,Uint8Array)&&(W=w.from(W,W.offset,W.byteLength)),!w.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===Z&&(Z=0),void 0===he&&(he=W?W.length:0),void 0===De&&(De=0),void 0===Xe&&(Xe=this.length),Z<0||he>W.length||De<0||Xe>this.length)throw new RangeError("out of range index");if(De>=Xe&&Z>=he)return 0;if(De>=Xe)return-1;if(Z>=he)return 1;if(this===W)return 0;let Ze=(Xe>>>=0)-(De>>>=0),at=(he>>>=0)-(Z>>>=0);const Rt=Math.min(Ze,at),Mt=this.slice(De,Xe),At=W.slice(Z,he);for(let Wt=0;Wt<Rt;++Wt)if(Mt[Wt]!==At[Wt]){Ze=Mt[Wt],at=At[Wt];break}return Ze<at?-1:at<Ze?1:0},w.prototype.includes=function(W,Z,he){return-1!==this.indexOf(W,Z,he)},w.prototype.indexOf=function(W,Z,he){return ie(this,W,Z,he,!0)},w.prototype.lastIndexOf=function(W,Z,he){return ie(this,W,Z,he,!1)},w.prototype.write=function(W,Z,he,De){if(void 0===Z)De="utf8",he=this.length,Z=0;else if(void 0===he&&"string"==typeof Z)De=Z,he=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z>>>=0,isFinite(he)?(he>>>=0,void 0===De&&(De="utf8")):(De=he,he=void 0)}const Xe=this.length-Z;if((void 0===he||he>Xe)&&(he=Xe),W.length>0&&(he<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ze=!1;for(;;)switch(De){case"hex":return me(this,W,Z,he);case"utf8":case"utf-8":return ge(this,W,Z,he);case"ascii":case"latin1":case"binary":return de(this,W,Z,he);case"base64":return z(this,W,Z,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,W,Z,he);default:if(Ze)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function V(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(127&se[De]);return he}function Y(se,W,Z){let he="";Z=Math.min(se.length,Z);for(let De=W;De<Z;++De)he+=String.fromCharCode(se[De]);return he}function F(se,W,Z){const he=se.length;(!W||W<0)&&(W=0),(!Z||Z<0||Z>he)&&(Z=he);let De="";for(let Xe=W;Xe<Z;++Xe)De+=mt[se[Xe]];return De}function h(se,W,Z){const he=se.slice(W,Z);let De="";for(let Xe=0;Xe<he.length-1;Xe+=2)De+=String.fromCharCode(he[Xe]+256*he[Xe+1]);return De}function g(se,W,Z){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+W>Z)throw new RangeError("Trying to access beyond buffer length")}function J(se,W,Z,he,De,Xe){if(!w.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>De||W<Xe)throw new RangeError('"value" argument is out of bounds');if(Z+he>se.length)throw new RangeError("Index out of range")}function ee(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe,Xe>>=8,se[Z++]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Ze>>=8,se[Z++]=Ze,Z}function re(se,W,Z,he,De){Te(W,he,De,se,Z,7);let Xe=Number(W&BigInt(4294967295));se[Z+7]=Xe,Xe>>=8,se[Z+6]=Xe,Xe>>=8,se[Z+5]=Xe,Xe>>=8,se[Z+4]=Xe;let Ze=Number(W>>BigInt(32)&BigInt(4294967295));return se[Z+3]=Ze,Ze>>=8,se[Z+2]=Ze,Ze>>=8,se[Z+1]=Ze,Ze>>=8,se[Z]=Ze,Z+8}function fe(se,W,Z,he,De,Xe){if(Z+he>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function Ae(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,4),$.write(se,W,Z,he,23,4),Z+4}function Me(se,W,Z,he,De){return W=+W,Z>>>=0,De||fe(se,0,Z,8),$.write(se,W,Z,he,52,8),Z+8}w.prototype.slice=function(W,Z){const he=this.length;(W=~~W)<0?(W+=he)<0&&(W=0):W>he&&(W=he),(Z=void 0===Z?he:~~Z)<0?(Z+=he)<0&&(Z=0):Z>he&&(Z=he),Z<W&&(Z=W);const De=this.subarray(W,Z);return Object.setPrototypeOf(De,w.prototype),De},w.prototype.readUintLE=w.prototype.readUIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return De},w.prototype.readUintBE=w.prototype.readUIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W+--Z],Xe=1;for(;Z>0&&(Xe*=256);)De+=this[W+--Z]*Xe;return De},w.prototype.readUint8=w.prototype.readUInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),this[W]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]|this[W+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(W,Z){return W>>>=0,Z||g(W,2,this.length),this[W]<<8|this[W+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},w.prototype.readBigUInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z+256*this[++W]+65536*this[++W]+this[++W]*2**24,Xe=this[++W]+256*this[++W]+65536*this[++W]+he*2**24;return BigInt(De)+(BigInt(Xe)<<BigInt(32))}),w.prototype.readBigUInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=Z*2**24+65536*this[++W]+256*this[++W]+this[++W],Xe=this[++W]*2**24+65536*this[++W]+256*this[++W]+he;return(BigInt(De)<<BigInt(32))+BigInt(Xe)}),w.prototype.readIntLE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=this[W],Xe=1,Ze=0;for(;++Ze<Z&&(Xe*=256);)De+=this[W+Ze]*Xe;return Xe*=128,De>=Xe&&(De-=Math.pow(2,8*Z)),De},w.prototype.readIntBE=function(W,Z,he){W>>>=0,Z>>>=0,he||g(W,Z,this.length);let De=Z,Xe=1,Ze=this[W+--De];for(;De>0&&(Xe*=256);)Ze+=this[W+--De]*Xe;return Xe*=128,Ze>=Xe&&(Ze-=Math.pow(2,8*Z)),Ze},w.prototype.readInt8=function(W,Z){return W>>>=0,Z||g(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},w.prototype.readInt16LE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W]|this[W+1]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt16BE=function(W,Z){W>>>=0,Z||g(W,2,this.length);const he=this[W+1]|this[W]<<8;return 32768&he?4294901760|he:he},w.prototype.readInt32LE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},w.prototype.readInt32BE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},w.prototype.readBigInt64LE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];return(void 0===Z||void 0===he)&&xe(W,this.length-8),(BigInt(this[W+4]+256*this[W+5]+65536*this[W+6]+(he<<24))<<BigInt(32))+BigInt(Z+256*this[++W]+65536*this[++W]+this[++W]*2**24)}),w.prototype.readBigInt64BE=rt(function(W){u(W>>>=0,"offset");const Z=this[W],he=this[W+7];(void 0===Z||void 0===he)&&xe(W,this.length-8);const De=(Z<<24)+65536*this[++W]+256*this[++W]+this[++W];return(BigInt(De)<<BigInt(32))+BigInt(this[++W]*2**24+65536*this[++W]+256*this[++W]+he)}),w.prototype.readFloatLE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!0,23,4)},w.prototype.readFloatBE=function(W,Z){return W>>>=0,Z||g(W,4,this.length),$.read(this,W,!1,23,4)},w.prototype.readDoubleLE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!0,52,8)},w.prototype.readDoubleBE=function(W,Z){return W>>>=0,Z||g(W,8,this.length),$.read(this,W,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=1,Ze=0;for(this[Z]=255&W;++Ze<he&&(Xe*=256);)this[Z+Ze]=W/Xe&255;return Z+he},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(W,Z,he,De){W=+W,Z>>>=0,he>>>=0,De||J(this,W,Z,he,Math.pow(2,8*he)-1,0);let Xe=he-1,Ze=1;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)this[Z+Xe]=W/Ze&255;return Z+he},w.prototype.writeUint8=w.prototype.writeUInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,255,0),this[Z]=255&W,Z+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,65535,0),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z+3]=W>>>24,this[Z+2]=W>>>16,this[Z+1]=W>>>8,this[Z]=255&W,Z+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,4294967295,0),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigUInt64LE=rt(function(W,Z=0){return ee(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=rt(function(W,Z=0){return re(this,W,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=0,Ze=1,at=0;for(this[Z]=255&W;++Xe<he&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe-1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeIntBE=function(W,Z,he,De){if(W=+W,Z>>>=0,!De){const Rt=Math.pow(2,8*he-1);J(this,W,Z,he,Rt-1,-Rt)}let Xe=he-1,Ze=1,at=0;for(this[Z+Xe]=255&W;--Xe>=0&&(Ze*=256);)W<0&&0===at&&0!==this[Z+Xe+1]&&(at=1),this[Z+Xe]=(W/Ze|0)-at&255;return Z+he},w.prototype.writeInt8=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,1,127,-128),W<0&&(W=255+W+1),this[Z]=255&W,Z+1},w.prototype.writeInt16LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=255&W,this[Z+1]=W>>>8,Z+2},w.prototype.writeInt16BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,2,32767,-32768),this[Z]=W>>>8,this[Z+1]=255&W,Z+2},w.prototype.writeInt32LE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),this[Z]=255&W,this[Z+1]=W>>>8,this[Z+2]=W>>>16,this[Z+3]=W>>>24,Z+4},w.prototype.writeInt32BE=function(W,Z,he){return W=+W,Z>>>=0,he||J(this,W,Z,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[Z]=W>>>24,this[Z+1]=W>>>16,this[Z+2]=W>>>8,this[Z+3]=255&W,Z+4},w.prototype.writeBigInt64LE=rt(function(W,Z=0){return ee(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=rt(function(W,Z=0){return re(this,W,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeFloatLE=function(W,Z,he){return Ae(this,W,Z,!0,he)},w.prototype.writeFloatBE=function(W,Z,he){return Ae(this,W,Z,!1,he)},w.prototype.writeDoubleLE=function(W,Z,he){return Me(this,W,Z,!0,he)},w.prototype.writeDoubleBE=function(W,Z,he){return Me(this,W,Z,!1,he)},w.prototype.copy=function(W,Z,he,De){if(!w.isBuffer(W))throw new TypeError("argument should be a Buffer");if(he||(he=0),!De&&0!==De&&(De=this.length),Z>=W.length&&(Z=W.length),Z||(Z=0),De>0&&De<he&&(De=he),De===he||0===W.length||0===this.length)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),W.length-Z<De-he&&(De=W.length-Z+he);const Xe=De-he;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Z,he,De):Uint8Array.prototype.set.call(W,this.subarray(he,De),Z),Xe},w.prototype.fill=function(W,Z,he,De){if("string"==typeof W){if("string"==typeof Z?(De=Z,Z=0,he=this.length):"string"==typeof he&&(De=he,he=this.length),void 0!==De&&"string"!=typeof De)throw new TypeError("encoding must be a string");if("string"==typeof De&&!w.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(1===W.length){const Ze=W.charCodeAt(0);("utf8"===De&&Ze<128||"latin1"===De)&&(W=Ze)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(Z<0||this.length<Z||this.length<he)throw new RangeError("Out of range index");if(he<=Z)return this;let Xe;if(Z>>>=0,he=void 0===he?this.length:he>>>0,W||(W=0),"number"==typeof W)for(Xe=Z;Xe<he;++Xe)this[Xe]=W;else{const Ze=w.isBuffer(W)?W:w.from(W,De),at=Ze.length;if(0===at)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Xe=0;Xe<he-Z;++Xe)this[Xe+Z]=Ze[Xe%at]}return this};const Le={};function Ee(se,W,Z){Le[se]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,delete this.name}get code(){return se}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}function Se(se){let W="",Z=se.length;const he="-"===se[0]?1:0;for(;Z>=he+4;Z-=3)W=`_${se.slice(Z-3,Z)}${W}`;return`${se.slice(0,Z)}${W}`}function Te(se,W,Z,he,De,Xe){if(se>Z||se<W){const Ze="bigint"==typeof W?"n":"";let at;throw at=Xe>3?0===W||W===BigInt(0)?`>= 0${Ze} and < 2${Ze} ** ${8*(Xe+1)}${Ze}`:`>= -(2${Ze} ** ${8*(Xe+1)-1}${Ze}) and < 2 ** ${8*(Xe+1)-1}${Ze}`:`>= ${W}${Ze} and <= ${Z}${Ze}`,new Le.ERR_OUT_OF_RANGE("value",at,se)}!function He(se,W,Z){u(W,"offset"),(void 0===se[W]||void 0===se[W+Z])&&xe(W,se.length-(Z+1))}(he,De,Xe)}function u(se,W){if("number"!=typeof se)throw new Le.ERR_INVALID_ARG_TYPE(W,"number",se)}function xe(se,W,Z){throw Math.floor(se)!==se?(u(se,Z),new Le.ERR_OUT_OF_RANGE(Z||"offset","an integer",se)):W<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${W}`,se)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(se,W){return`The "${se}" argument must be of type number. Received type ${typeof W}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(se,W,Z){let he=`The value of "${se}" is out of range.`,De=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?De=Se(String(Z)):"bigint"==typeof Z&&(De=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(De=Se(De)),De+="n"),he+=` It must be ${W}. Received ${De}`,he},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function Ce(se,W){let Z;W=W||1/0;const he=se.length;let De=null;const Xe=[];for(let Ze=0;Ze<he;++Ze){if(Z=se.charCodeAt(Ze),Z>55295&&Z<57344){if(!De){if(Z>56319){(W-=3)>-1&&Xe.push(239,191,189);continue}if(Ze+1===he){(W-=3)>-1&&Xe.push(239,191,189);continue}De=Z;continue}if(Z<56320){(W-=3)>-1&&Xe.push(239,191,189),De=Z;continue}Z=65536+(De-55296<<10|Z-56320)}else De&&(W-=3)>-1&&Xe.push(239,191,189);if(De=null,Z<128){if((W-=1)<0)break;Xe.push(Z)}else if(Z<2048){if((W-=2)<0)break;Xe.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((W-=3)<0)break;Xe.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Xe.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return Xe}function Ne(se){return O.toByteArray(function _e(se){if((se=(se=se.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function We(se,W,Z,he){let De;for(De=0;De<he&&!(De+Z>=W.length||De>=se.length);++De)W[De+Z]=se[De];return De}function Ye(se,W){return se instanceof W||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===W.name}function wt(se){return se!=se}const mt=function(){const se="0123456789abcdef",W=new Array(256);for(let Z=0;Z<16;++Z){const he=16*Z;for(let De=0;De<16;++De)W[he+De]=se[Z]+se[De]}return W}();function rt(se){return typeof BigInt>"u"?Ut:se}function Ut(){throw new Error("BigInt not supported")}},54626:(ye,I,A)=>{I.Level=A(23963).BrowserLevel},8516:(ye,I,A)=>{var O=A(81464);ye.exports=O.Symbol},61057:(ye,I,A)=>{var O=A(8516),$=A(8488),U=A(53327),T=O?O.toStringTag:void 0;ye.exports=function w(x){return null==x?void 0===x?"[object Undefined]":"[object Null]":T&&T in Object(x)?$(x):U(x)}},78657:ye=>{var I="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;ye.exports=I},46902:(ye,I,A)=>{var $=A(72852)(Object.getPrototypeOf,Object);ye.exports=$},8488:(ye,I,A)=>{var O=A(8516),$=Object.prototype,U=$.hasOwnProperty,K=$.toString,y=O?O.toStringTag:void 0;ye.exports=function T(w){var x=U.call(w,y),R=w[y];try{w[y]=void 0;var k=!0}catch{}var v=K.call(w);return k&&(x?w[y]=R:delete w[y]),v}},53327:ye=>{var A=Object.prototype.toString;ye.exports=function O($){return A.call($)}},72852:ye=>{ye.exports=function I(A,O){return function($){return A(O($))}}},81464:(ye,I,A)=>{var O=A(78657),$="object"==typeof self&&self&&self.Object===Object&&self,U=O||$||Function("return this")();ye.exports=U},57433:ye=>{ye.exports=function I(A){return null!=A&&"object"==typeof A}},49970:(ye,I,A)=>{var O=A(61057),$=A(46902),U=A(57433),w=Function.prototype.toString,x=Object.prototype.hasOwnProperty,R=w.call(Object);ye.exports=function k(v){if(!U(v)||"[object Object]"!=O(v))return!1;var N=$(v);if(null===N)return!0;var M=x.call(N,"constructor")&&N.constructor;return"function"==typeof M&&M instanceof M&&w.call(M)==R}},34725:(ye,I,A)=>{"use strict";var O=A(71993),$=A(13686),U=A(27054).Buffer,K=new Array(16);function y(){$.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function T(v,N){return v<<N|v>>>32-N}function w(v,N,M,P,L,G,B){return T(v+(N&M|~N&P)+L+G|0,B)+N|0}function x(v,N,M,P,L,G,B){return T(v+(N&P|M&~P)+L+G|0,B)+N|0}function R(v,N,M,P,L,G,B){return T(v+(N^M^P)+L+G|0,B)+N|0}function k(v,N,M,P,L,G,B){return T(v+(M^(N|~P))+L+G|0,B)+N|0}O(y,$),y.prototype._update=function(){for(var v=K,N=0;N<16;++N)v[N]=this._block.readInt32LE(4*N);var M=this._a,P=this._b,L=this._c,G=this._d;M=w(M,P,L,G,v[0],3614090360,7),G=w(G,M,P,L,v[1],3905402710,12),L=w(L,G,M,P,v[2],606105819,17),P=w(P,L,G,M,v[3],3250441966,22),M=w(M,P,L,G,v[4],4118548399,7),G=w(G,M,P,L,v[5],1200080426,12),L=w(L,G,M,P,v[6],2821735955,17),P=w(P,L,G,M,v[7],4249261313,22),M=w(M,P,L,G,v[8],1770035416,7),G=w(G,M,P,L,v[9],2336552879,12),L=w(L,G,M,P,v[10],4294925233,17),P=w(P,L,G,M,v[11],2304563134,22),M=w(M,P,L,G,v[12],1804603682,7),G=w(G,M,P,L,v[13],4254626195,12),L=w(L,G,M,P,v[14],2792965006,17),M=x(M,P=w(P,L,G,M,v[15],1236535329,22),L,G,v[1],4129170786,5),G=x(G,M,P,L,v[6],3225465664,9),L=x(L,G,M,P,v[11],643717713,14),P=x(P,L,G,M,v[0],3921069994,20),M=x(M,P,L,G,v[5],3593408605,5),G=x(G,M,P,L,v[10],38016083,9),L=x(L,G,M,P,v[15],3634488961,14),P=x(P,L,G,M,v[4],3889429448,20),M=x(M,P,L,G,v[9],568446438,5),G=x(G,M,P,L,v[14],3275163606,9),L=x(L,G,M,P,v[3],4107603335,14),P=x(P,L,G,M,v[8],1163531501,20),M=x(M,P,L,G,v[13],2850285829,5),G=x(G,M,P,L,v[2],4243563512,9),L=x(L,G,M,P,v[7],1735328473,14),M=R(M,P=x(P,L,G,M,v[12],2368359562,20),L,G,v[5],4294588738,4),G=R(G,M,P,L,v[8],2272392833,11),L=R(L,G,M,P,v[11],1839030562,16),P=R(P,L,G,M,v[14],4259657740,23),M=R(M,P,L,G,v[1],2763975236,4),G=R(G,M,P,L,v[4],1272893353,11),L=R(L,G,M,P,v[7],4139469664,16),P=R(P,L,G,M,v[10],3200236656,23),M=R(M,P,L,G,v[13],681279174,4),G=R(G,M,P,L,v[0],3936430074,11),L=R(L,G,M,P,v[3],3572445317,16),P=R(P,L,G,M,v[6],76029189,23),M=R(M,P,L,G,v[9],3654602809,4),G=R(G,M,P,L,v[12],3873151461,11),L=R(L,G,M,P,v[15],530742520,16),M=k(M,P=R(P,L,G,M,v[2],3299628645,23),L,G,v[0],4096336452,6),G=k(G,M,P,L,v[7],1126891415,10),L=k(L,G,M,P,v[14],2878612391,15),P=k(P,L,G,M,v[5],4237533241,21),M=k(M,P,L,G,v[12],1700485571,6),G=k(G,M,P,L,v[3],2399980690,10),L=k(L,G,M,P,v[10],4293915773,15),P=k(P,L,G,M,v[1],2240044497,21),M=k(M,P,L,G,v[8],1873313359,6),G=k(G,M,P,L,v[15],4264355552,10),L=k(L,G,M,P,v[6],2734768916,15),P=k(P,L,G,M,v[13],1309151649,21),M=k(M,P,L,G,v[4],4149444226,6),G=k(G,M,P,L,v[11],3174756917,10),L=k(L,G,M,P,v[2],718787259,15),P=k(P,L,G,M,v[9],3951481745,21),this._a=this._a+M|0,this._b=this._b+P|0,this._c=this._c+L|0,this._d=this._d+G|0},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=U.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},ye.exports=y},53459:(ye,I,A)=>{var O=A(57223),$=A(35294);function U(K){this.rand=K||new $.Rand}ye.exports=U,U.create=function(y){return new U(y)},U.prototype._randbelow=function(y){var T=y.bitLength(),w=Math.ceil(T/8);do{var x=new O(this.rand.generate(w))}while(x.cmp(y)>=0);return x},U.prototype._randrange=function(y,T){var w=T.sub(y);return y.add(this._randbelow(w))},U.prototype.test=function(y,T,w){var x=y.bitLength(),R=O.mont(y),k=new O(1).toRed(R);T||(T=Math.max(1,x/48|0));for(var v=y.subn(1),N=0;!v.testn(N);N++);for(var M=y.shrn(N),P=v.toRed(R);T>0;T--){var G=this._randrange(new O(2),v);w&&w(G);var B=G.toRed(R).redPow(M);if(0!==B.cmp(k)&&0!==B.cmp(P)){for(var q=1;q<N;q++){if(0===(B=B.redSqr()).cmp(k))return!1;if(0===B.cmp(P))break}if(q===N)return!1}}return!0},U.prototype.getDivisor=function(y,T){var w=y.bitLength(),x=O.mont(y),R=new O(1).toRed(x);T||(T=Math.max(1,w/48|0));for(var k=y.subn(1),v=0;!k.testn(v);v++);for(var N=y.shrn(v),M=k.toRed(x);T>0;T--){var P=this._randrange(new O(2),k),L=y.gcd(P);if(0!==L.cmpn(1))return L;var G=P.toRed(x).redPow(N);if(0!==G.cmp(R)&&0!==G.cmp(M)){for(var B=1;B<v;B++){if(0===(G=G.redSqr()).cmp(R))return G.fromRed().subn(1).gcd(y);if(0===G.cmp(M))break}if(B===v)return(G=G.redSqr()).fromRed().subn(1).gcd(y)}}return!1}},57223:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(64688).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},39210:ye=>{function I(A,O){if(!A)throw new Error(O||"Assertion failed")}ye.exports=I,I.equal=function(O,$,U){if(O!=$)throw new Error(U||"Assertion failed: "+O+" != "+$)}},21832:(ye,I)=>{"use strict";var A=I;function $(K){return 1===K.length?"0"+K:K}function U(K){for(var y="",T=0;T<K.length;T++)y+=$(K[T].toString(16));return y}A.toArray=function O(K,y){if(Array.isArray(K))return K.slice();if(!K)return[];var T=[];if("string"!=typeof K){for(var w=0;w<K.length;w++)T[w]=0|K[w];return T}if("hex"===y)for((K=K.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(K="0"+K),w=0;w<K.length;w+=2)T.push(parseInt(K[w]+K[w+1],16));else for(w=0;w<K.length;w++){var x=K.charCodeAt(w),R=x>>8,k=255&x;R?T.push(R,k):T.push(k)}return T},A.zero2=$,A.toHex=U,A.encode=function(y,T){return"hex"===T?U(y):y}},61747:ye=>{"use strict";ye.exports=class extends Error{constructor(A,O){super(A||""),"object"==typeof O&&null!==O&&(O.code&&(this.code=String(O.code)),O.expected&&(this.expected=!0),O.transient&&(this.transient=!0),O.cause&&(this.cause=O.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},63244:ye=>{var I=1e3,A=60*I,O=60*A,$=24*O,U=7*$;function x(R,k,v,N){var M=k>=1.5*v;return Math.round(R/v)+" "+N+(M?"s":"")}ye.exports=function(R,k){k=k||{};var v=typeof R;if("string"===v&&R.length>0)return function y(R){if(!((R=String(R)).length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(k){var v=parseFloat(k[1]);switch((k[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*v;case"weeks":case"week":case"w":return v*U;case"days":case"day":case"d":return v*$;case"hours":case"hour":case"hrs":case"hr":case"h":return v*O;case"minutes":case"minute":case"mins":case"min":case"m":return v*A;case"seconds":case"second":case"secs":case"sec":case"s":return v*I;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}(R);if("number"===v&&isFinite(R))return k.long?function w(R){var k=Math.abs(R);return k>=$?x(R,k,$,"day"):k>=O?x(R,k,O,"hour"):k>=A?x(R,k,A,"minute"):k>=I?x(R,k,I,"second"):R+" ms"}(R):function T(R){var k=Math.abs(R);return k>=$?Math.round(R/$)+"d":k>=O?Math.round(R/O)+"h":k>=A?Math.round(R/A)+"m":k>=I?Math.round(R/I)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},13026:(ye,I,A)=>{ye.exports=A(3116)},3116:function(ye,I){!function(A,O){"use strict";var $={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function U(M){if(!Array.isArray(M)&&!ArrayBuffer.isView(M))return!1;for(var P=0;P<M.length;P++)if(!Number.isInteger(M[P])||M[P]<0||M[P]>255)return!1;return!0}function K(M,P){return(65535&M)*P+(((M>>>16)*P&65535)<<16)}function y(M,P){return M<<P|M>>>32-P}function T(M){return M=K(M^=M>>>16,2246822507),(M=K(M^=M>>>13,3266489909))^M>>>16}function w(M,P){var L=[0,0,0,0];return L[3]+=(M=[M[0]>>>16,65535&M[0],M[1]>>>16,65535&M[1]])[3]+(P=[P[0]>>>16,65535&P[0],P[1]>>>16,65535&P[1]])[3],L[2]+=L[3]>>>16,L[3]&=65535,L[2]+=M[2]+P[2],L[1]+=L[2]>>>16,L[2]&=65535,L[1]+=M[1]+P[1],L[0]+=L[1]>>>16,L[1]&=65535,L[0]+=M[0]+P[0],L[0]&=65535,[L[0]<<16|L[1],L[2]<<16|L[3]]}function x(M,P){var L=[0,0,0,0];return L[3]+=(M=[M[0]>>>16,65535&M[0],M[1]>>>16,65535&M[1]])[3]*(P=[P[0]>>>16,65535&P[0],P[1]>>>16,65535&P[1]])[3],L[2]+=L[3]>>>16,L[3]&=65535,L[2]+=M[2]*P[3],L[1]+=L[2]>>>16,L[2]&=65535,L[2]+=M[3]*P[2],L[1]+=L[2]>>>16,L[2]&=65535,L[1]+=M[1]*P[3],L[0]+=L[1]>>>16,L[1]&=65535,L[1]+=M[2]*P[2],L[0]+=L[1]>>>16,L[1]&=65535,L[1]+=M[3]*P[1],L[0]+=L[1]>>>16,L[1]&=65535,L[0]+=M[0]*P[3]+M[1]*P[2]+M[2]*P[1]+M[3]*P[0],L[0]&=65535,[L[0]<<16|L[1],L[2]<<16|L[3]]}function R(M,P){return 32==(P%=64)?[M[1],M[0]]:P<32?[M[0]<<P|M[1]>>>32-P,M[1]<<P|M[0]>>>32-P]:[M[1]<<(P-=32)|M[0]>>>32-P,M[0]<<P|M[1]>>>32-P]}function k(M,P){return 0==(P%=64)?M:P<32?[M[0]<<P|M[1]>>>32-P,M[1]<<P]:[M[1]<<P-32,0]}function v(M,P){return[M[0]^P[0],M[1]^P[1]]}function N(M){return M=v(M,[0,M[0]>>>1]),M=v(M=x(M,[4283543511,3981806797]),[0,M[0]>>>1]),v(M=x(M,[3301882366,444984403]),[0,M[0]>>>1])}$.x86.hash32=function(M,P){if($.inputValidation&&!U(M))return O;for(var L=M.length%4,G=M.length-L,B=P=P||0,q=0,X=3432918353,Q=461845907,te=0;te<G;te+=4)q=K(q=M[te]|M[te+1]<<8|M[te+2]<<16|M[te+3]<<24,X),q=K(q=y(q,15),Q),B=K(B=y(B^=q,13),5)+3864292196;switch(q=0,L){case 3:q^=M[te+2]<<16;case 2:q^=M[te+1]<<8;case 1:q=K(q^=M[te],X),B^=q=K(q=y(q,15),Q)}return(B=T(B^=M.length))>>>0},$.x86.hash128=function(M,P){if($.inputValidation&&!U(M))return O;for(var L=M.length%16,G=M.length-L,B=P=P||0,q=P,X=P,Q=P,te=0,ie=0,ae=0,me=0,ge=597399067,de=2869860233,z=951274213,d=2716044179,f=0;f<G;f+=16)ie=M[f+4]|M[f+5]<<8|M[f+6]<<16|M[f+7]<<24,ae=M[f+8]|M[f+9]<<8|M[f+10]<<16|M[f+11]<<24,me=M[f+12]|M[f+13]<<8|M[f+14]<<16|M[f+15]<<24,te=y(te=K(te=M[f]|M[f+1]<<8|M[f+2]<<16|M[f+3]<<24,ge),15),B=y(B^=te=K(te,de),19),B=K(B+=q,5)+1444728091,ie=y(ie=K(ie,de),16),q=y(q^=ie=K(ie,z),17),q=K(q+=X,5)+197830471,ae=y(ae=K(ae,z),17),X=y(X^=ae=K(ae,d),15),X=K(X+=Q,5)+2530024501,me=y(me=K(me,d),18),Q=y(Q^=me=K(me,ge),13),Q=K(Q+=B,5)+850148119;switch(te=0,ie=0,ae=0,me=0,L){case 15:me^=M[f+14]<<16;case 14:me^=M[f+13]<<8;case 13:me=K(me^=M[f+12],d),Q^=me=K(me=y(me,18),ge);case 12:ae^=M[f+11]<<24;case 11:ae^=M[f+10]<<16;case 10:ae^=M[f+9]<<8;case 9:ae=K(ae^=M[f+8],z),X^=ae=K(ae=y(ae,17),d);case 8:ie^=M[f+7]<<24;case 7:ie^=M[f+6]<<16;case 6:ie^=M[f+5]<<8;case 5:ie=K(ie^=M[f+4],de),q^=ie=K(ie=y(ie,16),z);case 4:te^=M[f+3]<<24;case 3:te^=M[f+2]<<16;case 2:te^=M[f+1]<<8;case 1:te=K(te^=M[f],ge),B^=te=K(te=y(te,15),de)}return B^=M.length,B+=q^=M.length,B+=X^=M.length,q+=B+=Q^=M.length,X+=B,Q+=B,B=T(B),B+=q=T(q),B+=X=T(X),q+=B+=Q=T(Q),X+=B,Q+=B,("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(q>>>0).toString(16)).slice(-8)+("00000000"+(X>>>0).toString(16)).slice(-8)+("00000000"+(Q>>>0).toString(16)).slice(-8)},$.x64.hash128=function(M,P){if($.inputValidation&&!U(M))return O;for(var L=M.length%16,G=M.length-L,B=[0,P=P||0],q=[0,P],X=[0,0],Q=[0,0],te=[2277735313,289559509],ie=[1291169091,658871167],ae=0;ae<G;ae+=16)Q=[M[ae+12]|M[ae+13]<<8|M[ae+14]<<16|M[ae+15]<<24,M[ae+8]|M[ae+9]<<8|M[ae+10]<<16|M[ae+11]<<24],X=R(X=x(X=[M[ae+4]|M[ae+5]<<8|M[ae+6]<<16|M[ae+7]<<24,M[ae]|M[ae+1]<<8|M[ae+2]<<16|M[ae+3]<<24],te),31),B=w(B=R(B=v(B,X=x(X,ie)),27),q),B=w(x(B,[0,5]),[0,1390208809]),Q=R(Q=x(Q,ie),33),q=w(q=R(q=v(q,Q=x(Q,te)),31),B),q=w(x(q,[0,5]),[0,944331445]);switch(X=[0,0],Q=[0,0],L){case 15:Q=v(Q,k([0,M[ae+14]],48));case 14:Q=v(Q,k([0,M[ae+13]],40));case 13:Q=v(Q,k([0,M[ae+12]],32));case 12:Q=v(Q,k([0,M[ae+11]],24));case 11:Q=v(Q,k([0,M[ae+10]],16));case 10:Q=v(Q,k([0,M[ae+9]],8));case 9:Q=x(Q=v(Q,[0,M[ae+8]]),ie),q=v(q,Q=x(Q=R(Q,33),te));case 8:X=v(X,k([0,M[ae+7]],56));case 7:X=v(X,k([0,M[ae+6]],48));case 6:X=v(X,k([0,M[ae+5]],40));case 5:X=v(X,k([0,M[ae+4]],32));case 4:X=v(X,k([0,M[ae+3]],24));case 3:X=v(X,k([0,M[ae+2]],16));case 2:X=v(X,k([0,M[ae+1]],8));case 1:X=x(X=v(X,[0,M[ae]]),te),B=v(B,X=x(X=R(X,31),ie))}return B=w(B=v(B,[0,M.length]),q=v(q,[0,M.length])),q=w(q,B),B=w(B=N(B),q=N(q)),q=w(q,B),("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)+("00000000"+(q[0]>>>0).toString(16)).slice(-8)+("00000000"+(q[1]>>>0).toString(16)).slice(-8)},ye.exports&&(I=ye.exports=$),I.murmurHash3=$}()},89150:(ye,I,A)=>{var O="function"==typeof Map&&Map.prototype,$=Object.getOwnPropertyDescriptor&&O?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,U=O&&$&&"function"==typeof $.get?$.get:null,K=O&&Map.prototype.forEach,y="function"==typeof Set&&Set.prototype,T=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,w=y&&T&&"function"==typeof T.get?T.get:null,x=y&&Set.prototype.forEach,k="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,N="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,P="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,L=Boolean.prototype.valueOf,G=Object.prototype.toString,B=Function.prototype.toString,q=String.prototype.match,X=String.prototype.slice,Q=String.prototype.replace,te=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,ae=RegExp.prototype.test,me=Array.prototype.concat,ge=Array.prototype.join,de=Array.prototype.slice,z=Math.floor,d="function"==typeof BigInt?BigInt.prototype.valueOf:null,f=Object.getOwnPropertySymbols,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,V=Object.prototype.propertyIsEnumerable,Y=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(at){return at.__proto__}:null);function F(at,Rt){if(at===1/0||at===-1/0||at!=at||at&&at>-1e3&&at<1e3||ae.call(/e/,Rt))return Rt;var Mt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof at){var At=at<0?-z(-at):z(at);if(At!==at){var Wt=String(At),Bt=X.call(Rt,Wt.length+1);return Q.call(Wt,Mt,"$&_")+"."+Q.call(Q.call(Bt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Q.call(Rt,Mt,"$&_")}var h=A(42634),g=h.custom,J=Te(g)?g:null;function ee(at,Rt,Mt){var At="double"===(Mt.quoteStyle||Rt)?'"':"'";return At+at+At}function re(at){return Q.call(String(at),/"/g,"&quot;")}function fe(at){return!("[object Array]"!==_e(at)||D&&"object"==typeof at&&D in at)}function Me(at){return!("[object RegExp]"!==_e(at)||D&&"object"==typeof at&&D in at)}function Te(at){if(C)return at&&"object"==typeof at&&at instanceof Symbol;if("symbol"==typeof at)return!0;if(!at||"object"!=typeof at||!b)return!1;try{return b.call(at),!0}catch{}return!1}ye.exports=function at(Rt,Mt,At,Wt){var Bt=Mt||{};if(be(Bt,"quoteStyle")&&"single"!==Bt.quoteStyle&&"double"!==Bt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(be(Bt,"maxStringLength")&&("number"==typeof Bt.maxStringLength?Bt.maxStringLength<0&&Bt.maxStringLength!==1/0:null!==Bt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var nn=!be(Bt,"customInspect")||Bt.customInspect;if("boolean"!=typeof nn&&"symbol"!==nn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(be(Bt,"indent")&&null!==Bt.indent&&"\t"!==Bt.indent&&!(parseInt(Bt.indent,10)===Bt.indent&&Bt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(be(Bt,"numericSeparator")&&"boolean"!=typeof Bt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Hn=Bt.numericSeparator;if(typeof Rt>"u")return"undefined";if(null===Rt)return"null";if("boolean"==typeof Rt)return Rt?"true":"false";if("string"==typeof Rt)return rt(Rt,Bt);if("number"==typeof Rt){if(0===Rt)return 1/0/Rt>0?"0":"-0";var sn=String(Rt);return Hn?F(Rt,sn):sn}if("bigint"==typeof Rt){var an=String(Rt)+"n";return Hn?F(Rt,an):an}var kn=typeof Bt.depth>"u"?5:Bt.depth;if(typeof At>"u"&&(At=0),At>=kn&&kn>0&&"object"==typeof Rt)return fe(Rt)?"[Array]":"[Object]";var Ve=function De(at,Rt){var Mt;if("\t"===at.indent)Mt="\t";else{if(!("number"==typeof at.indent&&at.indent>0))return null;Mt=ge.call(Array(at.indent+1)," ")}return{base:Mt,prev:ge.call(Array(Rt+1),Mt)}}(Bt,At);if(typeof Wt>"u")Wt=[];else if(ke(Wt,Rt)>=0)return"[Circular]";function st(jn,Bn,gr){if(Bn&&(Wt=de.call(Wt)).push(Bn),gr){var Vn={depth:Bt.depth};return be(Bt,"quoteStyle")&&(Vn.quoteStyle=Bt.quoteStyle),at(jn,Vn,At+1,Wt)}return at(jn,Bt,At+1,Wt)}if("function"==typeof Rt&&!Me(Rt)){var gt=function Ce(at){if(at.name)return at.name;var Rt=q.call(B.call(at),/^function\s*([\w$]+)/);return Rt?Rt[1]:null}(Rt),dt=Ze(Rt,st);return"[Function"+(gt?": "+gt:" (anonymous)")+"]"+(dt.length>0?" { "+ge.call(dt,", ")+" }":"")}if(Te(Rt)){var yt=C?Q.call(String(Rt),/^(Symbol\(.*\))_[^)]*$/,"$1"):b.call(Rt);return"object"!=typeof Rt||C?yt:se(yt)}if(function mt(at){return!(!at||"object"!=typeof at)&&(typeof HTMLElement<"u"&&at instanceof HTMLElement||"string"==typeof at.nodeName&&"function"==typeof at.getAttribute)}(Rt)){for(var ln="<"+ie.call(String(Rt.nodeName)),Be=Rt.attributes||[],Ge=0;Ge<Be.length;Ge++)ln+=" "+Be[Ge].name+"="+ee(re(Be[Ge].value),"double",Bt);return ln+=">",Rt.childNodes&&Rt.childNodes.length&&(ln+="..."),ln+"</"+ie.call(String(Rt.nodeName))+">"}if(fe(Rt)){if(0===Rt.length)return"[]";var ht=Ze(Rt,st);return Ve&&!function he(at){for(var Rt=0;Rt<at.length;Rt++)if(ke(at[Rt],"\n")>=0)return!1;return!0}(ht)?"["+Xe(ht,Ve)+"]":"[ "+ge.call(ht,", ")+" ]"}if(function Le(at){return!("[object Error]"!==_e(at)||D&&"object"==typeof at&&D in at)}(Rt)){var et=Ze(Rt,st);return"cause"in Error.prototype||!("cause"in Rt)||V.call(Rt,"cause")?0===et.length?"["+String(Rt)+"]":"{ ["+String(Rt)+"] "+ge.call(et,", ")+" }":"{ ["+String(Rt)+"] "+ge.call(me.call("[cause]: "+st(Rt.cause),et),", ")+" }"}if("object"==typeof Rt&&nn){if(J&&"function"==typeof Rt[J]&&h)return h(Rt,{depth:kn-At});if("symbol"!==nn&&"function"==typeof Rt.inspect)return Rt.inspect()}if(function ze(at){if(!U||!at||"object"!=typeof at)return!1;try{U.call(at);try{w.call(at)}catch{return!0}return at instanceof Map}catch{}return!1}(Rt)){var ut=[];return K&&K.call(Rt,function(jn,Bn){ut.push(st(Bn,Rt,!0)+" => "+st(jn,Rt))}),Z("Map",U.call(Rt),ut,Ve)}if(function Ye(at){if(!w||!at||"object"!=typeof at)return!1;try{w.call(at);try{U.call(at)}catch{return!0}return at instanceof Set}catch{}return!1}(Rt)){var en=[];return x&&x.call(Rt,function(jn){en.push(st(jn,Rt))}),Z("Set",w.call(Rt),en,Ve)}if(function Ne(at){if(!k||!at||"object"!=typeof at)return!1;try{k.call(at,k);try{N.call(at,N)}catch{return!0}return at instanceof WeakMap}catch{}return!1}(Rt))return W("WeakMap");if(function wt(at){if(!N||!at||"object"!=typeof at)return!1;try{N.call(at,N);try{k.call(at,k)}catch{return!0}return at instanceof WeakSet}catch{}return!1}(Rt))return W("WeakSet");if(function We(at){if(!P||!at||"object"!=typeof at)return!1;try{return P.call(at),!0}catch{}return!1}(Rt))return W("WeakRef");if(function Se(at){return!("[object Number]"!==_e(at)||D&&"object"==typeof at&&D in at)}(Rt))return se(st(Number(Rt)));if(function u(at){if(!at||"object"!=typeof at||!d)return!1;try{return d.call(at),!0}catch{}return!1}(Rt))return se(st(d.call(Rt)));if(function He(at){return!("[object Boolean]"!==_e(at)||D&&"object"==typeof at&&D in at)}(Rt))return se(L.call(Rt));if(function Ee(at){return!("[object String]"!==_e(at)||D&&"object"==typeof at&&D in at)}(Rt))return se(st(String(Rt)));if(typeof window<"u"&&Rt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Rt===globalThis||typeof globalThis<"u"&&Rt===globalThis)return"{ [object globalThis] }";if(!function Ae(at){return!("[object Date]"!==_e(at)||D&&"object"==typeof at&&D in at)}(Rt)&&!Me(Rt)){var It=Ze(Rt,st),qt=Y?Y(Rt)===Object.prototype:Rt instanceof Object||Rt.constructor===Object,Fn=Rt instanceof Object?"":"null prototype",Vt=!qt&&D&&Object(Rt)===Rt&&D in Rt?X.call(_e(Rt),8,-1):Fn?"Object":"",vr=(qt||"function"!=typeof Rt.constructor?"":Rt.constructor.name?Rt.constructor.name+" ":"")+(Vt||Fn?"["+ge.call(me.call([],Vt||[],Fn||[]),": ")+"] ":"");return 0===It.length?vr+"{}":Ve?vr+"{"+Xe(It,Ve)+"}":vr+"{ "+ge.call(It,", ")+" }"}return String(Rt)};var xe=Object.prototype.hasOwnProperty||function(at){return at in this};function be(at,Rt){return xe.call(at,Rt)}function _e(at){return G.call(at)}function ke(at,Rt){if(at.indexOf)return at.indexOf(Rt);for(var Mt=0,At=at.length;Mt<At;Mt++)if(at[Mt]===Rt)return Mt;return-1}function rt(at,Rt){if(at.length>Rt.maxStringLength){var Mt=at.length-Rt.maxStringLength,At="... "+Mt+" more character"+(Mt>1?"s":"");return rt(X.call(at,0,Rt.maxStringLength),Rt)+At}return ee(Q.call(Q.call(at,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ut),"single",Rt)}function Ut(at){var Rt=at.charCodeAt(0),Mt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Rt];return Mt?"\\"+Mt:"\\x"+(Rt<16?"0":"")+te.call(Rt.toString(16))}function se(at){return"Object("+at+")"}function W(at){return at+" { ? }"}function Z(at,Rt,Mt,At){return at+" ("+Rt+") {"+(At?Xe(Mt,At):ge.call(Mt,", "))+"}"}function Xe(at,Rt){if(0===at.length)return"";var Mt="\n"+Rt.prev+Rt.base;return Mt+ge.call(at,","+Mt)+"\n"+Rt.prev}function Ze(at,Rt){var Mt=fe(at),At=[];if(Mt){At.length=at.length;for(var Wt=0;Wt<at.length;Wt++)At[Wt]=be(at,Wt)?Rt(at[Wt],at):""}var nn,Bt="function"==typeof f?f(at):[];if(C){nn={};for(var Hn=0;Hn<Bt.length;Hn++)nn["$"+Bt[Hn]]=Bt[Hn]}for(var sn in at)be(at,sn)&&(Mt&&String(Number(sn))===sn&&sn<at.length||C&&nn["$"+sn]instanceof Symbol||(ae.call(/[^\w$]/,sn)?At.push(Rt(sn,at)+": "+Rt(at[sn],at)):At.push(sn+": "+Rt(at[sn],at))));if("function"==typeof f)for(var an=0;an<Bt.length;an++)V.call(at,Bt[an])&&At.push("["+Rt(Bt[an])+"]: "+Rt(at[Bt[an]],at));return At}},50366:(ye,I,A)=>{"use strict";var O;if(!Object.keys){var $=Object.prototype.hasOwnProperty,U=Object.prototype.toString,K=A(21050),y=Object.prototype.propertyIsEnumerable,T=!y.call({toString:null},"toString"),w=y.call(function(){},"prototype"),x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],R=function(M){var P=M.constructor;return P&&P.prototype===M},k={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},v=function(){if(typeof window>"u")return!1;for(var M in window)try{if(!k["$"+M]&&$.call(window,M)&&null!==window[M]&&"object"==typeof window[M])try{R(window[M])}catch{return!0}}catch{return!0}return!1}();O=function(P){var L=null!==P&&"object"==typeof P,G="[object Function]"===U.call(P),B=K(P),q=L&&"[object String]"===U.call(P),X=[];if(!L&&!G&&!B)throw new TypeError("Object.keys called on a non-object");var Q=w&&G;if(q&&P.length>0&&!$.call(P,0))for(var te=0;te<P.length;++te)X.push(String(te));if(B&&P.length>0)for(var ie=0;ie<P.length;++ie)X.push(String(ie));else for(var ae in P)(!Q||"prototype"!==ae)&&$.call(P,ae)&&X.push(String(ae));if(T)for(var me=function(M){if(typeof window>"u"||!v)return R(M);try{return R(M)}catch{return!1}}(P),ge=0;ge<x.length;++ge)(!me||"constructor"!==x[ge])&&$.call(P,x[ge])&&X.push(x[ge]);return X}}ye.exports=O},44934:(ye,I,A)=>{"use strict";var O=Array.prototype.slice,$=A(21050),U=Object.keys,K=U?function(w){return U(w)}:A(50366),y=Object.keys;K.shim=function(){if(Object.keys){var w=function(){var x=Object.keys(arguments);return x&&x.length===arguments.length}(1,2);w||(Object.keys=function(R){return $(R)?y(O.call(R)):y(R)})}else Object.keys=K;return Object.keys||K},ye.exports=K},21050:ye=>{"use strict";var I=Object.prototype.toString;ye.exports=function(O){var $=I.call(O),U="[object Arguments]"===$;return U||(U="[object Array]"!==$&&null!==O&&"object"==typeof O&&"number"==typeof O.length&&O.length>=0&&"[object Function]"===I.call(O.callee)),U}},50233:ye=>{"use strict";var I=Object.prototype.hasOwnProperty,A="~";function O(){}function $(T,w,x){this.fn=T,this.context=w,this.once=x||!1}function U(T,w,x,R,k){if("function"!=typeof x)throw new TypeError("The listener must be a function");var v=new $(x,R||T,k),N=A?A+w:w;return T._events[N]?T._events[N].fn?T._events[N]=[T._events[N],v]:T._events[N].push(v):(T._events[N]=v,T._eventsCount++),T}function K(T,w){0==--T._eventsCount?T._events=new O:delete T._events[w]}function y(){this._events=new O,this._eventsCount=0}Object.create&&(O.prototype=Object.create(null),(new O).__proto__||(A=!1)),y.prototype.eventNames=function(){var x,R,w=[];if(0===this._eventsCount)return w;for(R in x=this._events)I.call(x,R)&&w.push(A?R.slice(1):R);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(x)):w},y.prototype.listeners=function(w){var R=this._events[A?A+w:w];if(!R)return[];if(R.fn)return[R.fn];for(var k=0,v=R.length,N=new Array(v);k<v;k++)N[k]=R[k].fn;return N},y.prototype.listenerCount=function(w){var R=this._events[A?A+w:w];return R?R.fn?1:R.length:0},y.prototype.emit=function(w,x,R,k,v,N){var M=A?A+w:w;if(!this._events[M])return!1;var G,B,P=this._events[M],L=arguments.length;if(P.fn){switch(P.once&&this.removeListener(w,P.fn,void 0,!0),L){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,x),!0;case 3:return P.fn.call(P.context,x,R),!0;case 4:return P.fn.call(P.context,x,R,k),!0;case 5:return P.fn.call(P.context,x,R,k,v),!0;case 6:return P.fn.call(P.context,x,R,k,v,N),!0}for(B=1,G=new Array(L-1);B<L;B++)G[B-1]=arguments[B];P.fn.apply(P.context,G)}else{var X,q=P.length;for(B=0;B<q;B++)switch(P[B].once&&this.removeListener(w,P[B].fn,void 0,!0),L){case 1:P[B].fn.call(P[B].context);break;case 2:P[B].fn.call(P[B].context,x);break;case 3:P[B].fn.call(P[B].context,x,R);break;case 4:P[B].fn.call(P[B].context,x,R,k);break;default:if(!G)for(X=1,G=new Array(L-1);X<L;X++)G[X-1]=arguments[X];P[B].fn.apply(P[B].context,G)}}return!0},y.prototype.on=function(w,x,R){return U(this,w,x,R,!1)},y.prototype.once=function(w,x,R){return U(this,w,x,R,!0)},y.prototype.removeListener=function(w,x,R,k){var v=A?A+w:w;if(!this._events[v])return this;if(!x)return K(this,v),this;var N=this._events[v];if(N.fn)N.fn===x&&(!k||N.once)&&(!R||N.context===R)&&K(this,v);else{for(var M=0,P=[],L=N.length;M<L;M++)(N[M].fn!==x||k&&!N[M].once||R&&N[M].context!==R)&&P.push(N[M]);P.length?this._events[v]=1===P.length?P[0]:P:K(this,v)}return this},y.prototype.removeAllListeners=function(w){var x;return w?this._events[x=A?A+w:w]&&K(this,x):(this._events=new O,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=A,y.EventEmitter=y,ye.exports=y},83138:(ye,I,A)=>{"use strict";var O=A(49609);I.certificate=A(94772);var $=O.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});I.RSAPrivateKey=$;var U=O.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});I.RSAPublicKey=U;var K=O.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),y=O.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(K),this.key("subjectPublicKey").bitstr())});I.PublicKey=y;var T=O.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(K),this.key("subjectPrivateKey").octstr())});I.PrivateKey=T;var w=O.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});I.EncryptedPrivateKey=w;var x=O.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});I.DSAPrivateKey=x,I.DSAparam=O.define("DSAparam",function(){this.int()});var R=O.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),k=O.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(R),this.key("publicKey").optional().explicit(1).bitstr())});I.ECPrivateKey=k,I.signature=O.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(ye,I,A)=>{"use strict";var O=A(49609),$=O.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),U=O.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),K=O.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),y=O.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(K),this.key("subjectPublicKey").bitstr())}),T=O.define("RelativeDistinguishedName",function(){this.setof(U)}),w=O.define("RDNSequence",function(){this.seqof(T)}),x=O.define("Name",function(){this.choice({rdnSequence:this.use(w)})}),R=O.define("Validity",function(){this.seq().obj(this.key("notBefore").use($),this.key("notAfter").use($))}),k=O.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=O.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(K),this.key("issuer").use(x),this.key("validity").use(R),this.key("subject").use(x),this.key("subjectPublicKeyInfo").use(y),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(k).optional())}),N=O.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(K),this.key("signatureValue").bitstr())});ye.exports=N},89472:(ye,I,A)=>{"use strict";var O=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,$=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,U=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,K=A(18211),y=A(43388),T=A(27054).Buffer;ye.exports=function(w,x){var v,R=w.toString(),k=R.match(O);if(k){var M="aes"+k[1],P=T.from(k[2],"hex"),L=T.from(k[3].replace(/[\r\n]/g,""),"base64"),G=K(x,P.slice(0,8),parseInt(k[1],10)).key,B=[],q=y.createDecipheriv(M,G,P);B.push(q.update(L)),B.push(q.final()),v=T.concat(B)}else{var N=R.match(U);v=T.from(N[2].replace(/[\r\n]/g,""),"base64")}return{tag:R.match($)[1],data:v}}},65667:(ye,I,A)=>{"use strict";var O=A(83138),$=A(15579),U=A(89472),K=A(43388),y=A(93397),T=A(27054).Buffer;function x(R){var k;"object"==typeof R&&!T.isBuffer(R)&&(k=R.passphrase,R=R.key),"string"==typeof R&&(R=T.from(R));var P,L,v=U(R,k),N=v.tag,M=v.data;switch(N){case"CERTIFICATE":L=O.certificate.decode(M,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(L||(L=O.PublicKey.decode(M,"der")),P=L.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return O.RSAPublicKey.decode(L.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return L.subjectPrivateKey=L.subjectPublicKey,{type:"ec",data:L};case"1.2.840.10040.4.1":return L.algorithm.params.pub_key=O.DSAparam.decode(L.subjectPublicKey.data,"der"),{type:"dsa",data:L.algorithm.params};default:throw new Error("unknown key id "+P)}case"ENCRYPTED PRIVATE KEY":M=function w(R,k){var v=R.algorithm.decrypt.kde.kdeparams.salt,N=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),M=$[R.algorithm.decrypt.cipher.algo.join(".")],P=R.algorithm.decrypt.cipher.iv,L=R.subjectPrivateKey,G=parseInt(M.split("-")[1],10)/8,B=y.pbkdf2Sync(k,v,N,G,"sha1"),q=K.createDecipheriv(M,B,P),X=[];return X.push(q.update(L)),X.push(q.final()),T.concat(X)}(M=O.EncryptedPrivateKey.decode(M,"der"),k);case"PRIVATE KEY":switch(P=(L=O.PrivateKey.decode(M,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return O.RSAPrivateKey.decode(L.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:L.algorithm.curve,privateKey:O.ECPrivateKey.decode(L.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return L.algorithm.params.priv_key=O.DSAparam.decode(L.subjectPrivateKey,"der"),{type:"dsa",params:L.algorithm.params};default:throw new Error("unknown key id "+P)}case"RSA PUBLIC KEY":return O.RSAPublicKey.decode(M,"der");case"RSA PRIVATE KEY":return O.RSAPrivateKey.decode(M,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:O.DSAPrivateKey.decode(M,"der")};case"EC PRIVATE KEY":return{curve:(M=O.ECPrivateKey.decode(M,"der")).parameters.value,privateKey:M.privateKey};default:throw new Error("unknown key type "+N)}}x.signature=O.signature,ye.exports=x},93397:(ye,I,A)=>{I.pbkdf2=A(82685),I.pbkdf2Sync=A(59111)},82685:(ye,I,A)=>{var T,v,O=A(27054).Buffer,$=A(86111),U=A(45392),K=A(59111),y=A(76643),w=globalThis.crypto&&globalThis.crypto.subtle,x={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},R=[];function N(){return v||(v=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function M(L,G,B,q,X){return w.importKey("raw",L,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Q){return w.deriveBits({name:"PBKDF2",salt:G,iterations:B,hash:{name:X}},Q,q<<3)}).then(function(Q){return O.from(Q)})}ye.exports=function(L,G,B,q,X,Q){"function"==typeof X&&(Q=X,X=void 0);var te=x[(X=X||"sha1").toLowerCase()];if(te&&"function"==typeof globalThis.Promise){if($(B,q),L=y(L,U,"Password"),G=y(G,U,"Salt"),"function"!=typeof Q)throw new Error("No callback provided to pbkdf2");!function P(L,G){L.then(function(B){N()(function(){G(null,B)})},function(B){N()(function(){G(B)})})}(function k(L){if(globalThis.process&&!globalThis.process.browser||!w||!w.importKey||!w.deriveBits)return Promise.resolve(!1);if(void 0!==R[L])return R[L];var G=M(T=T||O.alloc(8),T,10,128,L).then(function(){return!0}).catch(function(){return!1});return R[L]=G,G}(te).then(function(ie){return ie?M(L,G,B,q,te):K(L,G,B,q,X)}),Q)}else N()(function(){var ie;try{ie=K(L,G,B,q,X)}catch(ae){return Q(ae)}Q(null,ie)})}},45392:(ye,I,A)=>{var $,O=A(40573);$=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(O.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",ye.exports=$},86111:ye=>{var I=Math.pow(2,30)-1;ye.exports=function(A,O){if("number"!=typeof A)throw new TypeError("Iterations not a number");if(A<0)throw new TypeError("Bad iterations");if("number"!=typeof O)throw new TypeError("Key length not a number");if(O<0||O>I||O!=O)throw new TypeError("Bad key length")}},59111:(ye,I,A)=>{var O=A(83407),$=A(36636),U=A(25443),K=A(27054).Buffer,y=A(86111),T=A(45392),w=A(76643),x=K.alloc(128),R={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function k(M,P,L){var G=function v(M){return"rmd160"===M||"ripemd160"===M?function L(G){return(new $).update(G).digest()}:"md5"===M?O:function P(G){return U(M).update(G).digest()}}(M),B="sha512"===M||"sha384"===M?128:64;P.length>B?P=G(P):P.length<B&&(P=K.concat([P,x],B));for(var q=K.allocUnsafe(B+R[M]),X=K.allocUnsafe(B+R[M]),Q=0;Q<B;Q++)q[Q]=54^P[Q],X[Q]=92^P[Q];var te=K.allocUnsafe(B+L+4);q.copy(te,0,0,B),this.ipad1=te,this.ipad2=q,this.opad=X,this.alg=M,this.blocksize=B,this.hash=G,this.size=R[M]}k.prototype.run=function(M,P){return M.copy(P,this.blocksize),this.hash(P).copy(this.opad,this.blocksize),this.hash(this.opad)},ye.exports=function N(M,P,L,G,B){y(L,G);var q=new k(B=B||"sha1",M=w(M,T,"Password"),(P=w(P,T,"Salt")).length),X=K.allocUnsafe(G),Q=K.allocUnsafe(P.length+4);P.copy(Q,0,0,P.length);for(var te=0,ie=R[B],ae=Math.ceil(G/ie),me=1;me<=ae;me++){Q.writeUInt32BE(me,P.length);for(var ge=q.run(Q,q.ipad1),de=ge,z=1;z<L;z++){de=q.run(de,q.ipad2);for(var d=0;d<ie;d++)ge[d]^=de[d]}ge.copy(X,te),te+=ie}return X}},76643:(ye,I,A)=>{var O=A(27054).Buffer;ye.exports=function($,U,K){if(O.isBuffer($))return $;if("string"==typeof $)return O.from($,U);if(ArrayBuffer.isView($))return O.from($.buffer);throw new TypeError(K+" must be a string, a Buffer, a typed array or a DataView")}},9656:(ye,I,A)=>{"use strict";var O=A(40573);ye.exports=typeof O>"u"||!O.version||0===O.version.indexOf("v0.")||0===O.version.indexOf("v1.")&&0!==O.version.indexOf("v1.8.")?{nextTick:function $(U,K,y,T){if("function"!=typeof U)throw new TypeError('"callback" argument must be a function');var x,R,w=arguments.length;switch(w){case 0:case 1:return O.nextTick(U);case 2:return O.nextTick(function(){U.call(null,K)});case 3:return O.nextTick(function(){U.call(null,K,y)});case 4:return O.nextTick(function(){U.call(null,K,y,T)});default:for(x=new Array(w-1),R=0;R<x.length;)x[R++]=arguments[R];return O.nextTick(function(){U.apply(null,x)})}}}:O},40573:ye=>{var A,O,I=ye.exports={};function $(){throw new Error("setTimeout has not been defined")}function U(){throw new Error("clearTimeout has not been defined")}function K(P){if(A===setTimeout)return setTimeout(P,0);if((A===$||!A)&&setTimeout)return A=setTimeout,setTimeout(P,0);try{return A(P,0)}catch{try{return A.call(null,P,0)}catch{return A.call(this,P,0)}}}!function(){try{A="function"==typeof setTimeout?setTimeout:$}catch{A=$}try{O="function"==typeof clearTimeout?clearTimeout:U}catch{O=U}}();var x,T=[],w=!1,R=-1;function k(){!w||!x||(w=!1,x.length?T=x.concat(T):R=-1,T.length&&v())}function v(){if(!w){var P=K(k);w=!0;for(var L=T.length;L;){for(x=T,T=[];++R<L;)x&&x[R].run();R=-1,L=T.length}x=null,w=!1,function y(P){if(O===clearTimeout)return clearTimeout(P);if((O===U||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(P);try{return O(P)}catch{try{return O.call(null,P)}catch{return O.call(this,P)}}}(P)}}function N(P,L){this.fun=P,this.array=L}function M(){}I.nextTick=function(P){var L=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)L[G-1]=arguments[G];T.push(new N(P,L)),1===T.length&&!w&&K(v)},N.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=M,I.addListener=M,I.once=M,I.off=M,I.removeListener=M,I.removeAllListeners=M,I.emit=M,I.prependListener=M,I.prependOnceListener=M,I.listeners=function(P){return[]},I.binding=function(P){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(P){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},52965:(ye,I,A)=>{I.publicEncrypt=A(87267),I.privateDecrypt=A(98613),I.privateEncrypt=function($,U){return I.publicEncrypt($,U,!0)},I.publicDecrypt=function($,U){return I.privateDecrypt($,U,!0)}},30715:(ye,I,A)=>{var O=A(67211),$=A(27054).Buffer;function U(K){var y=$.allocUnsafe(4);return y.writeUInt32BE(K,0),y}ye.exports=function(K,y){for(var x,T=$.alloc(0),w=0;T.length<y;)x=U(w++),T=$.concat([T,O("sha1").update(K).update(x).digest()]);return T.slice(0,y)}},16508:function(ye,I,A){!function(O,$){"use strict";function U(z,d){if(!z)throw new Error(d||"Assertion failed")}function K(z,d){z.super_=d;var f=function(){};f.prototype=d.prototype,z.prototype=new f,z.prototype.constructor=z}function y(z,d,f){if(y.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&(("le"===d||"be"===d)&&(f=d,d=10),this._init(z||0,d||10,f||"be"))}var T;"object"==typeof O?O.exports=y:$.BN=y,y.BN=y,y.wordSize=26;try{T=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(51069).Buffer}catch{}function w(z,d){var f=z.charCodeAt(d);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function x(z,d,f){var b=w(z,f);return f-1>=d&&(b|=w(z,f-1)<<4),b}function R(z,d,f,b){for(var C=0,D=Math.min(z.length,f),V=d;V<D;V++){var Y=z.charCodeAt(V)-48;C*=b,C+=Y>=49?Y-49+10:Y>=17?Y-17+10:Y}return C}y.isBN=function(d){return d instanceof y||null!==d&&"object"==typeof d&&d.constructor.wordSize===y.wordSize&&Array.isArray(d.words)},y.max=function(d,f){return d.cmp(f)>0?d:f},y.min=function(d,f){return d.cmp(f)<0?d:f},y.prototype._init=function(d,f,b){if("number"==typeof d)return this._initNumber(d,f,b);if("object"==typeof d)return this._initArray(d,f,b);"hex"===f&&(f=16),U(f===(0|f)&&f>=2&&f<=36);var C=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&(C++,this.negative=1),C<d.length&&(16===f?this._parseHex(d,C,b):(this._parseBase(d,f,C),"le"===b&&this._initArray(this.toArray(),f,b)))},y.prototype._initNumber=function(d,f,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(U(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),f,b)},y.prototype._initArray=function(d,f,b){if(U("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,V,Y=0;if("be"===b)for(C=d.length-1,D=0;C>=0;C-=3)this.words[D]|=(V=d[C]|d[C-1]<<8|d[C-2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);else if("le"===b)for(C=0,D=0;C<d.length;C+=3)this.words[D]|=(V=d[C]|d[C+1]<<8|d[C+2]<<16)<<Y&67108863,this.words[D+1]=V>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,D++);return this.strip()},y.prototype._parseHex=function(d,f,b){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var Y,D=0,V=0;if("be"===b)for(C=d.length-1;C>=f;C-=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;else for(C=(d.length-f)%2==0?f+1:f;C<d.length;C+=2)Y=x(d,f,C)<<D,this.words[V]|=67108863&Y,D>=18?(D-=18,this.words[V+=1]|=Y>>>26):D+=8;this.strip()},y.prototype._parseBase=function(d,f,b){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=f)C++;C--,D=D/f|0;for(var V=d.length-b,Y=V%C,F=Math.min(V,V-Y)+b,h=0,g=b;g<F;g+=C)h=R(d,g,g+C,f),this.imuln(D),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==Y){var J=1;for(h=R(d,g,d.length,f),g=0;g<Y;g++)J*=f;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},y.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red},y.prototype.clone=function(){var d=new y(null);return this.copy(d),d},y.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function P(z,d,f){f.negative=d.negative^z.negative;var b=z.length+d.length|0;f.length=b,b=b-1|0;var C=0|z.words[0],D=0|d.words[0],V=C*D,F=V/67108864|0;f.words[0]=67108863&V;for(var h=1;h<b;h++){for(var g=F>>>26,J=67108863&F,ee=Math.min(h,d.length-1),re=Math.max(0,h-z.length+1);re<=ee;re++)g+=(V=(C=0|z.words[h-re|0])*(D=0|d.words[re])+J)/67108864|0,J=67108863&V;f.words[h]=0|J,F=0|g}return 0!==F?f.words[h]=0|F:f.length--,f.strip()}y.prototype.toString=function(d,f){var b;if(f=0|f||1,16===(d=d||10)||"hex"===d){b="";for(var C=0,D=0,V=0;V<this.length;V++){var Y=this.words[V],F=(16777215&(Y<<C|D)).toString(16);b=0!=(D=Y>>>24-C&16777215)||V!==this.length-1?k[6-F.length]+F+b:F+b,(C+=2)>=26&&(C-=26,V--)}for(0!==D&&(b=D.toString(16)+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(d===(0|d)&&d>=2&&d<=36){var h=v[d],g=N[d];b="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(g).toString(d);b=(J=J.idivn(g)).isZero()?ee+b:k[h-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%f!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}U(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&U(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(d,f){return U(typeof T<"u"),this.toArrayLike(T,d,f)},y.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)},y.prototype.toArrayLike=function(d,f,b){var C=this.byteLength(),D=b||Math.max(1,C);U(C<=D,"byte array longer than desired length"),U(D>0,"Requested array length <= 0"),this.strip();var F,h,V="le"===f,Y=new d(D),g=this.clone();if(V){for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[h]=F;for(;h<D;h++)Y[h]=0}else{for(h=0;h<D-C;h++)Y[h]=0;for(h=0;!g.isZero();h++)F=g.andln(255),g.iushrn(8),Y[D-h-1]=F}return Y},y.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var f=d,b=0;return f>=4096&&(b+=13,f>>>=13),f>=64&&(b+=7,f>>>=7),f>=8&&(b+=4,f>>>=4),f>=2&&(b+=2,f>>>=2),b+f},y.prototype._zeroBits=function(d){if(0===d)return 26;var f=d,b=0;return 8191&f||(b+=13,f>>>=13),127&f||(b+=7,f>>>=7),15&f||(b+=4,f>>>=4),3&f||(b+=2,f>>>=2),1&f||b++,b},y.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var b=this._zeroBits(this.words[f]);if(d+=b,26!==b)break}return d},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},y.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this.strip()},y.prototype.ior=function(d){return U(!(this.negative|d.negative)),this.iuor(d)},y.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},y.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},y.prototype.iuand=function(d){var f;f=this.length>d.length?d:this;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=f.length,this.strip()},y.prototype.iand=function(d){return U(!(this.negative|d.negative)),this.iuand(d)},y.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},y.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},y.prototype.iuxor=function(d){var f,b;this.length>d.length?(f=this,b=d):(f=d,b=this);for(var C=0;C<b.length;C++)this.words[C]=f.words[C]^b.words[C];if(this!==f)for(;C<f.length;C++)this.words[C]=f.words[C];return this.length=f.length,this.strip()},y.prototype.ixor=function(d){return U(!(this.negative|d.negative)),this.iuxor(d)},y.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},y.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},y.prototype.inotn=function(d){U("number"==typeof d&&d>=0);var f=0|Math.ceil(d/26),b=d%26;this._expand(f),b>0&&f--;for(var C=0;C<f;C++)this.words[C]=67108863&~this.words[C];return b>0&&(this.words[C]=~this.words[C]&67108863>>26-b),this.strip()},y.prototype.notn=function(d){return this.clone().inotn(d)},y.prototype.setn=function(d,f){U("number"==typeof d&&d>=0);var b=d/26|0,C=d%26;return this._expand(b+1),this.words[b]=f?this.words[b]|1<<C:this.words[b]&~(1<<C),this.strip()},y.prototype.iadd=function(d){var f,b,C;if(0!==this.negative&&0===d.negative)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();this.length>d.length?(b=this,C=d):(b=d,C=this);for(var D=0,V=0;V<C.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+(0|C.words[V])+D),D=f>>>26;for(;0!==D&&V<b.length;V++)this.words[V]=67108863&(f=(0|b.words[V])+D),D=f>>>26;if(this.length=b.length,0!==D)this.words[this.length]=D,this.length++;else if(b!==this)for(;V<b.length;V++)this.words[V]=b.words[V];return this},y.prototype.add=function(d){var f;return 0!==d.negative&&0===this.negative?(d.negative=0,f=this.sub(d),d.negative^=1,f):0===d.negative&&0!==this.negative?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},y.prototype.isub=function(d){if(0!==d.negative){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var C,D,b=this.cmp(d);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(C=this,D=d):(C=d,D=this);for(var V=0,Y=0;Y<D.length;Y++)V=(f=(0|C.words[Y])-(0|D.words[Y])+V)>>26,this.words[Y]=67108863&f;for(;0!==V&&Y<C.length;Y++)V=(f=(0|C.words[Y])+V)>>26,this.words[Y]=67108863&f;if(0===V&&Y<C.length&&C!==this)for(;Y<C.length;Y++)this.words[Y]=C.words[Y];return this.length=Math.max(this.length,Y),C!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(d){return this.clone().isub(d)};var L=function(d,f,b){var F,h,g,C=d.words,D=f.words,V=b.words,Y=0,J=0|C[0],ee=8191&J,re=J>>>13,fe=0|C[1],Ae=8191&fe,Me=fe>>>13,Le=0|C[2],Ee=8191&Le,Se=Le>>>13,He=0|C[3],Te=8191&He,u=He>>>13,xe=0|C[4],be=8191&xe,_e=xe>>>13,Ce=0|C[5],ke=8191&Ce,ze=Ce>>>13,Ne=0|C[6],We=8191&Ne,Ye=Ne>>>13,wt=0|C[7],mt=8191&wt,rt=wt>>>13,Ut=0|C[8],se=8191&Ut,W=Ut>>>13,Z=0|C[9],he=8191&Z,De=Z>>>13,Xe=0|D[0],Ze=8191&Xe,at=Xe>>>13,Rt=0|D[1],Mt=8191&Rt,At=Rt>>>13,Wt=0|D[2],Bt=8191&Wt,nn=Wt>>>13,Hn=0|D[3],sn=8191&Hn,an=Hn>>>13,kn=0|D[4],Ve=8191&kn,st=kn>>>13,gt=0|D[5],dt=8191&gt,yt=gt>>>13,ln=0|D[6],Be=8191&ln,Ge=ln>>>13,ht=0|D[7],et=8191&ht,ut=ht>>>13,en=0|D[8],It=8191&en,qt=en>>>13,Fn=0|D[9],Vt=8191&Fn,cn=Fn>>>13;b.negative=d.negative^f.negative,b.length=19;var vr=(Y+(F=Math.imul(ee,Ze))|0)+((8191&(h=(h=Math.imul(ee,at))+Math.imul(re,Ze)|0))<<13)|0;Y=((g=Math.imul(re,at))+(h>>>13)|0)+(vr>>>26)|0,vr&=67108863,F=Math.imul(Ae,Ze),h=(h=Math.imul(Ae,at))+Math.imul(Me,Ze)|0,g=Math.imul(Me,at);var jn=(Y+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,At)|0)+Math.imul(re,Mt)|0))<<13)|0;Y=((g=g+Math.imul(re,At)|0)+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(Ee,Ze),h=(h=Math.imul(Ee,at))+Math.imul(Se,Ze)|0,g=Math.imul(Se,at),F=F+Math.imul(Ae,Mt)|0,h=(h=h+Math.imul(Ae,At)|0)+Math.imul(Me,Mt)|0,g=g+Math.imul(Me,At)|0;var Bn=(Y+(F=F+Math.imul(ee,Bt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,nn)|0)+Math.imul(re,Bt)|0))<<13)|0;Y=((g=g+Math.imul(re,nn)|0)+(h>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,F=Math.imul(Te,Ze),h=(h=Math.imul(Te,at))+Math.imul(u,Ze)|0,g=Math.imul(u,at),F=F+Math.imul(Ee,Mt)|0,h=(h=h+Math.imul(Ee,At)|0)+Math.imul(Se,Mt)|0,g=g+Math.imul(Se,At)|0,F=F+Math.imul(Ae,Bt)|0,h=(h=h+Math.imul(Ae,nn)|0)+Math.imul(Me,Bt)|0,g=g+Math.imul(Me,nn)|0;var gr=(Y+(F=F+Math.imul(ee,sn)|0)|0)+((8191&(h=(h=h+Math.imul(ee,an)|0)+Math.imul(re,sn)|0))<<13)|0;Y=((g=g+Math.imul(re,an)|0)+(h>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(be,Ze),h=(h=Math.imul(be,at))+Math.imul(_e,Ze)|0,g=Math.imul(_e,at),F=F+Math.imul(Te,Mt)|0,h=(h=h+Math.imul(Te,At)|0)+Math.imul(u,Mt)|0,g=g+Math.imul(u,At)|0,F=F+Math.imul(Ee,Bt)|0,h=(h=h+Math.imul(Ee,nn)|0)+Math.imul(Se,Bt)|0,g=g+Math.imul(Se,nn)|0,F=F+Math.imul(Ae,sn)|0,h=(h=h+Math.imul(Ae,an)|0)+Math.imul(Me,sn)|0,g=g+Math.imul(Me,an)|0;var Vn=(Y+(F=F+Math.imul(ee,Ve)|0)|0)+((8191&(h=(h=h+Math.imul(ee,st)|0)+Math.imul(re,Ve)|0))<<13)|0;Y=((g=g+Math.imul(re,st)|0)+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,F=Math.imul(ke,Ze),h=(h=Math.imul(ke,at))+Math.imul(ze,Ze)|0,g=Math.imul(ze,at),F=F+Math.imul(be,Mt)|0,h=(h=h+Math.imul(be,At)|0)+Math.imul(_e,Mt)|0,g=g+Math.imul(_e,At)|0,F=F+Math.imul(Te,Bt)|0,h=(h=h+Math.imul(Te,nn)|0)+Math.imul(u,Bt)|0,g=g+Math.imul(u,nn)|0,F=F+Math.imul(Ee,sn)|0,h=(h=h+Math.imul(Ee,an)|0)+Math.imul(Se,sn)|0,g=g+Math.imul(Se,an)|0,F=F+Math.imul(Ae,Ve)|0,h=(h=h+Math.imul(Ae,st)|0)+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,st)|0;var nr=(Y+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,yt)|0)+Math.imul(re,dt)|0))<<13)|0;Y=((g=g+Math.imul(re,yt)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,F=Math.imul(We,Ze),h=(h=Math.imul(We,at))+Math.imul(Ye,Ze)|0,g=Math.imul(Ye,at),F=F+Math.imul(ke,Mt)|0,h=(h=h+Math.imul(ke,At)|0)+Math.imul(ze,Mt)|0,g=g+Math.imul(ze,At)|0,F=F+Math.imul(be,Bt)|0,h=(h=h+Math.imul(be,nn)|0)+Math.imul(_e,Bt)|0,g=g+Math.imul(_e,nn)|0,F=F+Math.imul(Te,sn)|0,h=(h=h+Math.imul(Te,an)|0)+Math.imul(u,sn)|0,g=g+Math.imul(u,an)|0,F=F+Math.imul(Ee,Ve)|0,h=(h=h+Math.imul(Ee,st)|0)+Math.imul(Se,Ve)|0,g=g+Math.imul(Se,st)|0,F=F+Math.imul(Ae,dt)|0,h=(h=h+Math.imul(Ae,yt)|0)+Math.imul(Me,dt)|0,g=g+Math.imul(Me,yt)|0;var tr=(Y+(F=F+Math.imul(ee,Be)|0)|0)+((8191&(h=(h=h+Math.imul(ee,Ge)|0)+Math.imul(re,Be)|0))<<13)|0;Y=((g=g+Math.imul(re,Ge)|0)+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(mt,Ze),h=(h=Math.imul(mt,at))+Math.imul(rt,Ze)|0,g=Math.imul(rt,at),F=F+Math.imul(We,Mt)|0,h=(h=h+Math.imul(We,At)|0)+Math.imul(Ye,Mt)|0,g=g+Math.imul(Ye,At)|0,F=F+Math.imul(ke,Bt)|0,h=(h=h+Math.imul(ke,nn)|0)+Math.imul(ze,Bt)|0,g=g+Math.imul(ze,nn)|0,F=F+Math.imul(be,sn)|0,h=(h=h+Math.imul(be,an)|0)+Math.imul(_e,sn)|0,g=g+Math.imul(_e,an)|0,F=F+Math.imul(Te,Ve)|0,h=(h=h+Math.imul(Te,st)|0)+Math.imul(u,Ve)|0,g=g+Math.imul(u,st)|0,F=F+Math.imul(Ee,dt)|0,h=(h=h+Math.imul(Ee,yt)|0)+Math.imul(Se,dt)|0,g=g+Math.imul(Se,yt)|0,F=F+Math.imul(Ae,Be)|0,h=(h=h+Math.imul(Ae,Ge)|0)+Math.imul(Me,Be)|0,g=g+Math.imul(Me,Ge)|0;var Xn=(Y+(F=F+Math.imul(ee,et)|0)|0)+((8191&(h=(h=h+Math.imul(ee,ut)|0)+Math.imul(re,et)|0))<<13)|0;Y=((g=g+Math.imul(re,ut)|0)+(h>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,F=Math.imul(se,Ze),h=(h=Math.imul(se,at))+Math.imul(W,Ze)|0,g=Math.imul(W,at),F=F+Math.imul(mt,Mt)|0,h=(h=h+Math.imul(mt,At)|0)+Math.imul(rt,Mt)|0,g=g+Math.imul(rt,At)|0,F=F+Math.imul(We,Bt)|0,h=(h=h+Math.imul(We,nn)|0)+Math.imul(Ye,Bt)|0,g=g+Math.imul(Ye,nn)|0,F=F+Math.imul(ke,sn)|0,h=(h=h+Math.imul(ke,an)|0)+Math.imul(ze,sn)|0,g=g+Math.imul(ze,an)|0,F=F+Math.imul(be,Ve)|0,h=(h=h+Math.imul(be,st)|0)+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,st)|0,F=F+Math.imul(Te,dt)|0,h=(h=h+Math.imul(Te,yt)|0)+Math.imul(u,dt)|0,g=g+Math.imul(u,yt)|0,F=F+Math.imul(Ee,Be)|0,h=(h=h+Math.imul(Ee,Ge)|0)+Math.imul(Se,Be)|0,g=g+Math.imul(Se,Ge)|0,F=F+Math.imul(Ae,et)|0,h=(h=h+Math.imul(Ae,ut)|0)+Math.imul(Me,et)|0,g=g+Math.imul(Me,ut)|0;var pi=(Y+(F=F+Math.imul(ee,It)|0)|0)+((8191&(h=(h=h+Math.imul(ee,qt)|0)+Math.imul(re,It)|0))<<13)|0;Y=((g=g+Math.imul(re,qt)|0)+(h>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(he,Ze),h=(h=Math.imul(he,at))+Math.imul(De,Ze)|0,g=Math.imul(De,at),F=F+Math.imul(se,Mt)|0,h=(h=h+Math.imul(se,At)|0)+Math.imul(W,Mt)|0,g=g+Math.imul(W,At)|0,F=F+Math.imul(mt,Bt)|0,h=(h=h+Math.imul(mt,nn)|0)+Math.imul(rt,Bt)|0,g=g+Math.imul(rt,nn)|0,F=F+Math.imul(We,sn)|0,h=(h=h+Math.imul(We,an)|0)+Math.imul(Ye,sn)|0,g=g+Math.imul(Ye,an)|0,F=F+Math.imul(ke,Ve)|0,h=(h=h+Math.imul(ke,st)|0)+Math.imul(ze,Ve)|0,g=g+Math.imul(ze,st)|0,F=F+Math.imul(be,dt)|0,h=(h=h+Math.imul(be,yt)|0)+Math.imul(_e,dt)|0,g=g+Math.imul(_e,yt)|0,F=F+Math.imul(Te,Be)|0,h=(h=h+Math.imul(Te,Ge)|0)+Math.imul(u,Be)|0,g=g+Math.imul(u,Ge)|0,F=F+Math.imul(Ee,et)|0,h=(h=h+Math.imul(Ee,ut)|0)+Math.imul(Se,et)|0,g=g+Math.imul(Se,ut)|0,F=F+Math.imul(Ae,It)|0,h=(h=h+Math.imul(Ae,qt)|0)+Math.imul(Me,It)|0,g=g+Math.imul(Me,qt)|0;var Xr=(Y+(F=F+Math.imul(ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ee,cn)|0)+Math.imul(re,Vt)|0))<<13)|0;Y=((g=g+Math.imul(re,cn)|0)+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,F=Math.imul(he,Mt),h=(h=Math.imul(he,At))+Math.imul(De,Mt)|0,g=Math.imul(De,At),F=F+Math.imul(se,Bt)|0,h=(h=h+Math.imul(se,nn)|0)+Math.imul(W,Bt)|0,g=g+Math.imul(W,nn)|0,F=F+Math.imul(mt,sn)|0,h=(h=h+Math.imul(mt,an)|0)+Math.imul(rt,sn)|0,g=g+Math.imul(rt,an)|0,F=F+Math.imul(We,Ve)|0,h=(h=h+Math.imul(We,st)|0)+Math.imul(Ye,Ve)|0,g=g+Math.imul(Ye,st)|0,F=F+Math.imul(ke,dt)|0,h=(h=h+Math.imul(ke,yt)|0)+Math.imul(ze,dt)|0,g=g+Math.imul(ze,yt)|0,F=F+Math.imul(be,Be)|0,h=(h=h+Math.imul(be,Ge)|0)+Math.imul(_e,Be)|0,g=g+Math.imul(_e,Ge)|0,F=F+Math.imul(Te,et)|0,h=(h=h+Math.imul(Te,ut)|0)+Math.imul(u,et)|0,g=g+Math.imul(u,ut)|0,F=F+Math.imul(Ee,It)|0,h=(h=h+Math.imul(Ee,qt)|0)+Math.imul(Se,It)|0,g=g+Math.imul(Se,qt)|0;var Rr=(Y+(F=F+Math.imul(Ae,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ae,cn)|0)+Math.imul(Me,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Me,cn)|0)+(h>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,F=Math.imul(he,Bt),h=(h=Math.imul(he,nn))+Math.imul(De,Bt)|0,g=Math.imul(De,nn),F=F+Math.imul(se,sn)|0,h=(h=h+Math.imul(se,an)|0)+Math.imul(W,sn)|0,g=g+Math.imul(W,an)|0,F=F+Math.imul(mt,Ve)|0,h=(h=h+Math.imul(mt,st)|0)+Math.imul(rt,Ve)|0,g=g+Math.imul(rt,st)|0,F=F+Math.imul(We,dt)|0,h=(h=h+Math.imul(We,yt)|0)+Math.imul(Ye,dt)|0,g=g+Math.imul(Ye,yt)|0,F=F+Math.imul(ke,Be)|0,h=(h=h+Math.imul(ke,Ge)|0)+Math.imul(ze,Be)|0,g=g+Math.imul(ze,Ge)|0,F=F+Math.imul(be,et)|0,h=(h=h+Math.imul(be,ut)|0)+Math.imul(_e,et)|0,g=g+Math.imul(_e,ut)|0,F=F+Math.imul(Te,It)|0,h=(h=h+Math.imul(Te,qt)|0)+Math.imul(u,It)|0,g=g+Math.imul(u,qt)|0;var Un=(Y+(F=F+Math.imul(Ee,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Ee,cn)|0)+Math.imul(Se,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Se,cn)|0)+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,F=Math.imul(he,sn),h=(h=Math.imul(he,an))+Math.imul(De,sn)|0,g=Math.imul(De,an),F=F+Math.imul(se,Ve)|0,h=(h=h+Math.imul(se,st)|0)+Math.imul(W,Ve)|0,g=g+Math.imul(W,st)|0,F=F+Math.imul(mt,dt)|0,h=(h=h+Math.imul(mt,yt)|0)+Math.imul(rt,dt)|0,g=g+Math.imul(rt,yt)|0,F=F+Math.imul(We,Be)|0,h=(h=h+Math.imul(We,Ge)|0)+Math.imul(Ye,Be)|0,g=g+Math.imul(Ye,Ge)|0,F=F+Math.imul(ke,et)|0,h=(h=h+Math.imul(ke,ut)|0)+Math.imul(ze,et)|0,g=g+Math.imul(ze,ut)|0,F=F+Math.imul(be,It)|0,h=(h=h+Math.imul(be,qt)|0)+Math.imul(_e,It)|0,g=g+Math.imul(_e,qt)|0;var Qn=(Y+(F=F+Math.imul(Te,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(Te,cn)|0)+Math.imul(u,Vt)|0))<<13)|0;Y=((g=g+Math.imul(u,cn)|0)+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,F=Math.imul(he,Ve),h=(h=Math.imul(he,st))+Math.imul(De,Ve)|0,g=Math.imul(De,st),F=F+Math.imul(se,dt)|0,h=(h=h+Math.imul(se,yt)|0)+Math.imul(W,dt)|0,g=g+Math.imul(W,yt)|0,F=F+Math.imul(mt,Be)|0,h=(h=h+Math.imul(mt,Ge)|0)+Math.imul(rt,Be)|0,g=g+Math.imul(rt,Ge)|0,F=F+Math.imul(We,et)|0,h=(h=h+Math.imul(We,ut)|0)+Math.imul(Ye,et)|0,g=g+Math.imul(Ye,ut)|0,F=F+Math.imul(ke,It)|0,h=(h=h+Math.imul(ke,qt)|0)+Math.imul(ze,It)|0,g=g+Math.imul(ze,qt)|0;var Jr=(Y+(F=F+Math.imul(be,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(be,cn)|0)+Math.imul(_e,Vt)|0))<<13)|0;Y=((g=g+Math.imul(_e,cn)|0)+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,F=Math.imul(he,dt),h=(h=Math.imul(he,yt))+Math.imul(De,dt)|0,g=Math.imul(De,yt),F=F+Math.imul(se,Be)|0,h=(h=h+Math.imul(se,Ge)|0)+Math.imul(W,Be)|0,g=g+Math.imul(W,Ge)|0,F=F+Math.imul(mt,et)|0,h=(h=h+Math.imul(mt,ut)|0)+Math.imul(rt,et)|0,g=g+Math.imul(rt,ut)|0,F=F+Math.imul(We,It)|0,h=(h=h+Math.imul(We,qt)|0)+Math.imul(Ye,It)|0,g=g+Math.imul(Ye,qt)|0;var Qr=(Y+(F=F+Math.imul(ke,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(ke,cn)|0)+Math.imul(ze,Vt)|0))<<13)|0;Y=((g=g+Math.imul(ze,cn)|0)+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,F=Math.imul(he,Be),h=(h=Math.imul(he,Ge))+Math.imul(De,Be)|0,g=Math.imul(De,Ge),F=F+Math.imul(se,et)|0,h=(h=h+Math.imul(se,ut)|0)+Math.imul(W,et)|0,g=g+Math.imul(W,ut)|0,F=F+Math.imul(mt,It)|0,h=(h=h+Math.imul(mt,qt)|0)+Math.imul(rt,It)|0,g=g+Math.imul(rt,qt)|0;var Tr=(Y+(F=F+Math.imul(We,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(We,cn)|0)+Math.imul(Ye,Vt)|0))<<13)|0;Y=((g=g+Math.imul(Ye,cn)|0)+(h>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,F=Math.imul(he,et),h=(h=Math.imul(he,ut))+Math.imul(De,et)|0,g=Math.imul(De,ut),F=F+Math.imul(se,It)|0,h=(h=h+Math.imul(se,qt)|0)+Math.imul(W,It)|0,g=g+Math.imul(W,qt)|0;var qn=(Y+(F=F+Math.imul(mt,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(mt,cn)|0)+Math.imul(rt,Vt)|0))<<13)|0;Y=((g=g+Math.imul(rt,cn)|0)+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,F=Math.imul(he,It),h=(h=Math.imul(he,qt))+Math.imul(De,It)|0,g=Math.imul(De,qt);var $r=(Y+(F=F+Math.imul(se,Vt)|0)|0)+((8191&(h=(h=h+Math.imul(se,cn)|0)+Math.imul(W,Vt)|0))<<13)|0;Y=((g=g+Math.imul(W,cn)|0)+(h>>>13)|0)+($r>>>26)|0,$r&=67108863;var xi=(Y+(F=Math.imul(he,Vt))|0)+((8191&(h=(h=Math.imul(he,cn))+Math.imul(De,Vt)|0))<<13)|0;return Y=((g=Math.imul(De,cn))+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,V[0]=vr,V[1]=jn,V[2]=Bn,V[3]=gr,V[4]=Vn,V[5]=nr,V[6]=tr,V[7]=Xn,V[8]=pi,V[9]=Xr,V[10]=Rr,V[11]=Un,V[12]=Qn,V[13]=Jr,V[14]=Qr,V[15]=Tr,V[16]=qn,V[17]=$r,V[18]=xi,0!==Y&&(V[19]=Y,b.length++),b};function B(z,d,f){return(new q).mulp(z,d,f)}function q(z,d){this.x=z,this.y=d}Math.imul||(L=P),y.prototype.mulTo=function(d,f){var b,C=this.length+d.length;return b=10===this.length&&10===d.length?L(this,d,f):C<63?P(this,d,f):C<1024?function G(z,d,f){f.negative=d.negative^z.negative,f.length=z.length+d.length;for(var b=0,C=0,D=0;D<f.length-1;D++){var V=C;C=0;for(var Y=67108863&b,F=Math.min(D,d.length-1),h=Math.max(0,D-z.length+1);h<=F;h++){var re=(0|z.words[D-h])*(0|d.words[h]),fe=67108863&re;Y=67108863&(fe=fe+Y|0),C+=(V=(V=V+(re/67108864|0)|0)+(fe>>>26)|0)>>>26,V&=67108863}f.words[D]=Y,b=V,V=C}return 0!==b?f.words[D]=b:f.length--,f.strip()}(this,d,f):B(this,d,f),b},q.prototype.makeRBT=function(d){for(var f=new Array(d),b=y.prototype._countBits(d)-1,C=0;C<d;C++)f[C]=this.revBin(C,b,d);return f},q.prototype.revBin=function(d,f,b){if(0===d||d===b-1)return d;for(var C=0,D=0;D<f;D++)C|=(1&d)<<f-D-1,d>>=1;return C},q.prototype.permute=function(d,f,b,C,D,V){for(var Y=0;Y<V;Y++)C[Y]=f[d[Y]],D[Y]=b[d[Y]]},q.prototype.transform=function(d,f,b,C,D,V){this.permute(V,d,f,b,C,D);for(var Y=1;Y<D;Y<<=1)for(var F=Y<<1,h=Math.cos(2*Math.PI/F),g=Math.sin(2*Math.PI/F),J=0;J<D;J+=F)for(var ee=h,re=g,fe=0;fe<Y;fe++){var Ae=b[J+fe],Me=C[J+fe],Le=b[J+fe+Y],Ee=C[J+fe+Y],Se=ee*Le-re*Ee;Ee=ee*Ee+re*Le,b[J+fe]=Ae+(Le=Se),C[J+fe]=Me+Ee,b[J+fe+Y]=Ae-Le,C[J+fe+Y]=Me-Ee,fe!==F&&(Se=h*ee-g*re,re=h*re+g*ee,ee=Se)}},q.prototype.guessLen13b=function(d,f){var b=1|Math.max(f,d),C=1&b,D=0;for(b=b/2|0;b;b>>>=1)D++;return 1<<D+1+C},q.prototype.conjugate=function(d,f,b){if(!(b<=1))for(var C=0;C<b/2;C++){var D=d[C];d[C]=d[b-C-1],d[b-C-1]=D,D=f[C],f[C]=-f[b-C-1],f[b-C-1]=-D}},q.prototype.normalize13b=function(d,f){for(var b=0,C=0;C<f/2;C++){var D=8192*Math.round(d[2*C+1]/f)+Math.round(d[2*C]/f)+b;d[C]=67108863&D,b=D<67108864?0:D/67108864|0}return d},q.prototype.convert13b=function(d,f,b,C){for(var D=0,V=0;V<f;V++)b[2*V]=8191&(D+=0|d[V]),b[2*V+1]=8191&(D>>>=13),D>>>=13;for(V=2*f;V<C;++V)b[V]=0;U(0===D),U(!(-8192&D))},q.prototype.stub=function(d){for(var f=new Array(d),b=0;b<d;b++)f[b]=0;return f},q.prototype.mulp=function(d,f,b){var C=2*this.guessLen13b(d.length,f.length),D=this.makeRBT(C),V=this.stub(C),Y=new Array(C),F=new Array(C),h=new Array(C),g=new Array(C),J=new Array(C),ee=new Array(C),re=b.words;re.length=C,this.convert13b(d.words,d.length,Y,C),this.convert13b(f.words,f.length,g,C),this.transform(Y,V,F,h,C,D),this.transform(g,V,J,ee,C,D);for(var fe=0;fe<C;fe++){var Ae=F[fe]*J[fe]-h[fe]*ee[fe];h[fe]=F[fe]*ee[fe]+h[fe]*J[fe],F[fe]=Ae}return this.conjugate(F,h,C),this.transform(F,h,re,V,C,D),this.conjugate(re,V,C),this.normalize13b(re,C),b.negative=d.negative^f.negative,b.length=d.length+f.length,b.strip()},y.prototype.mul=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},y.prototype.mulf=function(d){var f=new y(null);return f.words=new Array(this.length+d.length),B(this,d,f)},y.prototype.imul=function(d){return this.clone().mulTo(d,this)},y.prototype.imuln=function(d){U("number"==typeof d),U(d<67108864);for(var f=0,b=0;b<this.length;b++){var C=(0|this.words[b])*d,D=(67108863&C)+(67108863&f);f>>=26,f+=C/67108864|0,f+=D>>>26,this.words[b]=67108863&D}return 0!==f&&(this.words[b]=f,this.length++),this},y.prototype.muln=function(d){return this.clone().imuln(d)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(d){var f=function M(z){for(var d=new Array(z.bitLength()),f=0;f<d.length;f++){var C=f%26;d[f]=(z.words[f/26|0]&1<<C)>>>C}return d}(d);if(0===f.length)return new y(1);for(var b=this,C=0;C<f.length&&0===f[C];C++,b=b.sqr());if(++C<f.length)for(var D=b.sqr();C<f.length;C++,D=D.sqr())0!==f[C]&&(b=b.mul(D));return b},y.prototype.iushln=function(d){U("number"==typeof d&&d>=0);var D,f=d%26,b=(d-f)/26,C=67108863>>>26-f<<26-f;if(0!==f){var V=0;for(D=0;D<this.length;D++){var Y=this.words[D]&C;this.words[D]=(0|this.words[D])-Y<<f|V,V=Y>>>26-f}V&&(this.words[D]=V,this.length++)}if(0!==b){for(D=this.length-1;D>=0;D--)this.words[D+b]=this.words[D];for(D=0;D<b;D++)this.words[D]=0;this.length+=b}return this.strip()},y.prototype.ishln=function(d){return U(0===this.negative),this.iushln(d)},y.prototype.iushrn=function(d,f,b){var C;U("number"==typeof d&&d>=0),C=f?(f-f%26)/26:0;var D=d%26,V=Math.min((d-D)/26,this.length),Y=67108863^67108863>>>D<<D,F=b;if(C-=V,C=Math.max(0,C),F){for(var h=0;h<V;h++)F.words[h]=this.words[h];F.length=V}if(0!==V)if(this.length>V)for(this.length-=V,h=0;h<this.length;h++)this.words[h]=this.words[h+V];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(0!==g||h>=C);h--){var J=0|this.words[h];this.words[h]=g<<26-D|J>>>D,g=J&Y}return F&&0!==g&&(F.words[F.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(d,f,b){return U(0===this.negative),this.iushrn(d,f,b)},y.prototype.shln=function(d){return this.clone().ishln(d)},y.prototype.ushln=function(d){return this.clone().iushln(d)},y.prototype.shrn=function(d){return this.clone().ishrn(d)},y.prototype.ushrn=function(d){return this.clone().iushrn(d)},y.prototype.testn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return!(this.length<=b||!(this.words[b]&1<<f))},y.prototype.imaskn=function(d){U("number"==typeof d&&d>=0);var f=d%26,b=(d-f)/26;return U(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==f&&b++,this.length=Math.min(b,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},y.prototype.maskn=function(d){return this.clone().imaskn(d)},y.prototype.iaddn=function(d){return U("number"==typeof d),U(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},y.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},y.prototype.isubn=function(d){if(U("number"==typeof d),U(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},y.prototype.addn=function(d){return this.clone().iaddn(d)},y.prototype.subn=function(d){return this.clone().isubn(d)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(d,f,b){var D;this._expand(d.length+b);var V,Y=0;for(D=0;D<d.length;D++){V=(0|this.words[D+b])+Y;var F=(0|d.words[D])*f;Y=((V-=67108863&F)>>26)-(F/67108864|0),this.words[D+b]=67108863&V}for(;D<this.length-b;D++)Y=(V=(0|this.words[D+b])+Y)>>26,this.words[D+b]=67108863&V;if(0===Y)return this.strip();for(U(-1===Y),Y=0,D=0;D<this.length;D++)Y=(V=-(0|this.words[D])+Y)>>26,this.words[D]=67108863&V;return this.negative=1,this.strip()},y.prototype._wordDiv=function(d,f){var b,C=this.clone(),D=d,V=0|D.words[D.length-1];0!=(b=26-this._countBits(V))&&(D=D.ushln(b),C.iushln(b),V=0|D.words[D.length-1]);var h,F=C.length-D.length;if("mod"!==f){(h=new y(null)).length=F+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var J=C.clone()._ishlnsubmul(D,1,F);0===J.negative&&(C=J,h&&(h.words[F]=1));for(var ee=F-1;ee>=0;ee--){var re=67108864*(0|C.words[D.length+ee])+(0|C.words[D.length+ee-1]);for(re=Math.min(re/V|0,67108863),C._ishlnsubmul(D,re,ee);0!==C.negative;)re--,C.negative=0,C._ishlnsubmul(D,1,ee),C.isZero()||(C.negative^=1);h&&(h.words[ee]=re)}return h&&h.strip(),C.strip(),"div"!==f&&0!==b&&C.iushrn(b),{div:h||null,mod:C}},y.prototype.divmod=function(d,f,b){return U(!d.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===d.negative?(V=this.neg().divmod(d,f),"mod"!==f&&(C=V.div.neg()),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.iadd(d)),{div:C,mod:D}):0===this.negative&&0!==d.negative?(V=this.divmod(d.neg(),f),"mod"!==f&&(C=V.div.neg()),{div:C,mod:V.mod}):this.negative&d.negative?(V=this.neg().divmod(d.neg(),f),"div"!==f&&(D=V.mod.neg(),b&&0!==D.negative&&D.isub(d)),{div:V.div,mod:D}):d.length>this.length||this.cmp(d)<0?{div:new y(0),mod:this}:1===d.length?"div"===f?{div:this.divn(d.words[0]),mod:null}:"mod"===f?{div:null,mod:new y(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new y(this.modn(d.words[0]))}:this._wordDiv(d,f);var C,D,V},y.prototype.div=function(d){return this.divmod(d,"div",!1).div},y.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},y.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},y.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var b=0!==f.div.negative?f.mod.isub(d):f.mod,C=d.ushrn(1),D=d.andln(1),V=b.cmp(C);return V<0||1===D&&0===V?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},y.prototype.modn=function(d){U(d<=67108863);for(var f=(1<<26)%d,b=0,C=this.length-1;C>=0;C--)b=(f*b+(0|this.words[C]))%d;return b},y.prototype.idivn=function(d){U(d<=67108863);for(var f=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*f;this.words[b]=C/d|0,f=C%d}return this.strip()},y.prototype.divn=function(d){return this.clone().idivn(d)},y.prototype.egcd=function(d){U(0===d.negative),U(!d.isZero());var f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=new y(0),Y=new y(1),F=0;f.isEven()&&b.isEven();)f.iushrn(1),b.iushrn(1),++F;for(var h=b.clone(),g=f.clone();!f.isZero();){for(var J=0,ee=1;!(f.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(f.iushrn(J);J-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(h),D.isub(g)),C.iushrn(1),D.iushrn(1);for(var re=0,fe=1;!(b.words[0]&fe)&&re<26;++re,fe<<=1);if(re>0)for(b.iushrn(re);re-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(h),Y.isub(g)),V.iushrn(1),Y.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(V),D.isub(Y)):(b.isub(f),V.isub(C),Y.isub(D))}return{a:V,b:Y,gcd:b.iushln(F)}},y.prototype._invmp=function(d){U(0===d.negative),U(!d.isZero());var J,f=this,b=d.clone();f=0!==f.negative?f.umod(d):f.clone();for(var C=new y(1),D=new y(0),V=b.clone();f.cmpn(1)>0&&b.cmpn(1)>0;){for(var Y=0,F=1;!(f.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(f.iushrn(Y);Y-- >0;)C.isOdd()&&C.iadd(V),C.iushrn(1);for(var h=0,g=1;!(b.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(b.iushrn(h);h-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);f.cmp(b)>=0?(f.isub(b),C.isub(D)):(b.isub(f),D.isub(C))}return(J=0===f.cmpn(1)?C:D).cmpn(0)<0&&J.iadd(d),J},y.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),b=d.clone();f.negative=0,b.negative=0;for(var C=0;f.isEven()&&b.isEven();C++)f.iushrn(1),b.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;b.isEven();)b.iushrn(1);var D=f.cmp(b);if(D<0){var V=f;f=b,b=V}else if(0===D||0===b.cmpn(1))break;f.isub(b)}return b.iushln(C)},y.prototype.invm=function(d){return this.egcd(d).a.umod(d)},y.prototype.isEven=function(){return!(1&this.words[0])},y.prototype.isOdd=function(){return!(1&~this.words[0])},y.prototype.andln=function(d){return this.words[0]&d},y.prototype.bincn=function(d){U("number"==typeof d);var f=d%26,b=(d-f)/26,C=1<<f;if(this.length<=b)return this._expand(b+1),this.words[b]|=C,this;for(var D=C,V=b;0!==D&&V<this.length;V++){var Y=0|this.words[V];D=(Y+=D)>>>26,this.words[V]=Y&=67108863}return 0!==D&&(this.words[V]=D,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(d){var b,f=d<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)b=1;else{f&&(d=-d),U(d<=67108863,"Number is too big");var C=0|this.words[0];b=C===d?0:C<d?-1:1}return 0!==this.negative?0|-b:b},y.prototype.cmp=function(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var f=this.ucmp(d);return 0!==this.negative?0|-f:f},y.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,b=this.length-1;b>=0;b--){var C=0|this.words[b],D=0|d.words[b];if(C!==D){C<D?f=-1:C>D&&(f=1);break}}return f},y.prototype.gtn=function(d){return 1===this.cmpn(d)},y.prototype.gt=function(d){return 1===this.cmp(d)},y.prototype.gten=function(d){return this.cmpn(d)>=0},y.prototype.gte=function(d){return this.cmp(d)>=0},y.prototype.ltn=function(d){return-1===this.cmpn(d)},y.prototype.lt=function(d){return-1===this.cmp(d)},y.prototype.lten=function(d){return this.cmpn(d)<=0},y.prototype.lte=function(d){return this.cmp(d)<=0},y.prototype.eqn=function(d){return 0===this.cmpn(d)},y.prototype.eq=function(d){return 0===this.cmp(d)},y.red=function(d){return new ge(d)},y.prototype.toRed=function(d){return U(!this.red,"Already a number in reduction context"),U(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},y.prototype.fromRed=function(){return U(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(d){return this.red=d,this},y.prototype.forceRed=function(d){return U(!this.red,"Already a number in reduction context"),this._forceRed(d)},y.prototype.redAdd=function(d){return U(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},y.prototype.redIAdd=function(d){return U(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},y.prototype.redSub=function(d){return U(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},y.prototype.redISub=function(d){return U(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},y.prototype.redShl=function(d){return U(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},y.prototype.redMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},y.prototype.redIMul=function(d){return U(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},y.prototype.redSqr=function(){return U(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return U(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return U(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return U(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return U(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(d){return U(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var X={k256:null,p224:null,p192:null,p25519:null};function Q(z,d){this.name=z,this.p=new y(d,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function te(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ie(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function me(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ge(z){if("string"==typeof z){var d=y._prime(z);this.m=d.p,this.prime=d}else U(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function de(z){ge.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var d=new y(null);return d.words=new Array(Math.ceil(this.n/13)),d},Q.prototype.ireduce=function(d){var b,f=d;do{this.split(f,this.tmp),b=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(b>this.n);var C=b<this.n?-1:f.ucmp(this.p);return 0===C?(f.words[0]=0,f.length=1):C>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},Q.prototype.split=function(d,f){d.iushrn(this.n,0,f)},Q.prototype.imulK=function(d){return d.imul(this.k)},K(te,Q),te.prototype.split=function(d,f){for(var b=4194303,C=Math.min(d.length,9),D=0;D<C;D++)f.words[D]=d.words[D];if(f.length=C,d.length<=9)return d.words[0]=0,void(d.length=1);var V=d.words[9];for(f.words[f.length++]=V&b,D=10;D<d.length;D++){var Y=0|d.words[D];d.words[D-10]=(Y&b)<<4|V>>>22,V=Y}d.words[D-10]=V>>>=22,d.length-=0===V&&d.length>10?10:9},te.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,b=0;b<d.length;b++){var C=0|d.words[b];d.words[b]=67108863&(f+=977*C),f=64*C+(f/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},K(ie,Q),K(ae,Q),K(me,Q),me.prototype.imulK=function(d){for(var f=0,b=0;b<d.length;b++){var C=19*(0|d.words[b])+f,D=67108863&C;C>>>=26,d.words[b]=D,f=C}return 0!==f&&(d.words[d.length++]=f),d},y._prime=function(d){if(X[d])return X[d];var f;if("k256"===d)f=new te;else if("p224"===d)f=new ie;else if("p192"===d)f=new ae;else{if("p25519"!==d)throw new Error("Unknown prime "+d);f=new me}return X[d]=f,f},ge.prototype._verify1=function(d){U(0===d.negative,"red works only with positives"),U(d.red,"red works only with red numbers")},ge.prototype._verify2=function(d,f){U(!(d.negative|f.negative),"red works only with positives"),U(d.red&&d.red===f.red,"red works only with red numbers")},ge.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},ge.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ge.prototype.add=function(d,f){this._verify2(d,f);var b=d.add(f);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ge.prototype.iadd=function(d,f){this._verify2(d,f);var b=d.iadd(f);return b.cmp(this.m)>=0&&b.isub(this.m),b},ge.prototype.sub=function(d,f){this._verify2(d,f);var b=d.sub(f);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ge.prototype.isub=function(d,f){this._verify2(d,f);var b=d.isub(f);return b.cmpn(0)<0&&b.iadd(this.m),b},ge.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},ge.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},ge.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},ge.prototype.isqr=function(d){return this.imul(d,d.clone())},ge.prototype.sqr=function(d){return this.mul(d,d)},ge.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(U(f%2==1),3===f){var b=this.m.add(new y(1)).iushrn(2);return this.pow(d,b)}for(var C=this.m.subn(1),D=0;!C.isZero()&&0===C.andln(1);)D++,C.iushrn(1);U(!C.isZero());var V=new y(1).toRed(this),Y=V.redNeg(),F=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new y(2*h*h).toRed(this);0!==this.pow(h,F).cmp(Y);)h.redIAdd(Y);for(var g=this.pow(h,C),J=this.pow(d,C.addn(1).iushrn(1)),ee=this.pow(d,C),re=D;0!==ee.cmp(V);){for(var fe=ee,Ae=0;0!==fe.cmp(V);Ae++)fe=fe.redSqr();U(Ae<re);var Me=this.pow(g,new y(1).iushln(re-Ae-1));J=J.redMul(Me),g=Me.redSqr(),ee=ee.redMul(g),re=Ae}return J},ge.prototype.invm=function(d){var f=d._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ge.prototype.pow=function(d,f){if(f.isZero())return new y(1).toRed(this);if(0===f.cmpn(1))return d.clone();var C=new Array(16);C[0]=new y(1).toRed(this),C[1]=d;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],d);var V=C[0],Y=0,F=0,h=f.bitLength()%26;for(0===h&&(h=26),D=f.length-1;D>=0;D--){for(var g=f.words[D],J=h-1;J>=0;J--){var ee=g>>J&1;V!==C[0]&&(V=this.sqr(V)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++F||0===D&&0===J)&&(V=this.mul(V,C[Y]),F=0,Y=0)):F=0}h=26}return V},ge.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},ge.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},y.mont=function(d){return new de(d)},K(de,ge),de.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},de.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},de.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new y(0)._forceRed(this);var b=d.mul(f),C=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=b.isub(C).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},de.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(ye=A.nmd(ye),this)},98613:(ye,I,A)=>{var O=A(65667),$=A(30715),U=A(37196),K=A(16508),y=A(14105),T=A(67211),w=A(10568),x=A(27054).Buffer;ye.exports=function(M,P,L){var G;G=M.padding?M.padding:L?1:4;var X,B=O(M),q=B.modulus.byteLength();if(P.length>q||new K(P).cmp(B.modulus)>=0)throw new Error("decryption error");X=L?w(new K(P),B):y(P,B);var Q=x.alloc(q-X.length);if(X=x.concat([Q,X],q),4===G)return function R(N,M){var P=N.modulus.byteLength(),L=T("sha1").update(x.alloc(0)).digest(),G=L.length;if(0!==M[0])throw new Error("decryption error");var B=M.slice(1,G+1),q=M.slice(G+1),X=U(B,$(q,G)),Q=U(q,$(X,P-G-1));if(function v(N,M){N=x.from(N),M=x.from(M);var P=0,L=N.length;N.length!==M.length&&(P++,L=Math.min(N.length,M.length));for(var G=-1;++G<L;)P+=N[G]^M[G];return P}(L,Q.slice(0,G)))throw new Error("decryption error");for(var te=G;0===Q[te];)te++;if(1!==Q[te++])throw new Error("decryption error");return Q.slice(te)}(B,X);if(1===G)return function k(N,M,P){for(var L=M.slice(0,2),G=2,B=0;0!==M[G++];)if(G>=M.length){B++;break}var q=M.slice(2,G-1);if(("0002"!==L.toString("hex")&&!P||"0001"!==L.toString("hex")&&P)&&B++,q.length<8&&B++,B)throw new Error("decryption error");return M.slice(G)}(0,X,L);if(3===G)return X;throw new Error("unknown padding")}},87267:(ye,I,A)=>{var O=A(65667),$=A(3342),U=A(67211),K=A(30715),y=A(37196),T=A(16508),w=A(10568),x=A(14105),R=A(27054).Buffer;ye.exports=function(P,L,G){var B;B=P.padding?P.padding:G?1:4;var X,q=O(P);if(4===B)X=function k(M,P){var L=M.modulus.byteLength(),G=P.length,B=U("sha1").update(R.alloc(0)).digest(),q=B.length,X=2*q;if(G>L-X-2)throw new Error("message too long");var Q=R.alloc(L-G-X-2),te=L-q-1,ie=$(q),ae=y(R.concat([B,Q,R.alloc(1,1),P],te),K(ie,te)),me=y(ie,K(ae,q));return new T(R.concat([R.alloc(1),me,ae],L))}(q,L);else if(1===B)X=function v(M,P,L){var q,G=P.length,B=M.modulus.byteLength();if(G>B-11)throw new Error("message too long");return q=L?R.alloc(B-G-3,255):function N(M){for(var q,P=R.allocUnsafe(M),L=0,G=$(2*M),B=0;L<M;)B===G.length&&(G=$(2*M),B=0),(q=G[B++])&&(P[L++]=q);return P}(B-G-3),new T(R.concat([R.from([0,L?1:2]),q,R.alloc(1),P],B))}(q,L,G);else{if(3!==B)throw new Error("unknown padding");if((X=new T(L)).cmp(q.modulus)>=0)throw new Error("data too long for modulus")}return G?x(X,q):w(X,q)}},10568:(ye,I,A)=>{var O=A(16508),$=A(27054).Buffer;ye.exports=function U(K,y){return $.from(K.toRed(O.mont(y.modulus)).redPow(new O(y.publicExponent)).fromRed().toArray())}},37196:ye=>{ye.exports=function(A,O){for(var $=A.length,U=-1;++U<$;)A[U]^=O[U];return A}},24515:ye=>{let I;ye.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):A=>(I||(I=Promise.resolve())).then(A).catch(O=>setTimeout(()=>{throw O},0))},3342:(ye,I,A)=>{"use strict";var O=A(40573),$=65536,y=A(27054).Buffer,T=globalThis.crypto||globalThis.msCrypto;ye.exports=T&&T.getRandomValues?function w(x,R){if(x>4294967295)throw new RangeError("requested too many random bytes");var k=y.allocUnsafe(x);if(x>0)if(x>$)for(var v=0;v<x;v+=$)T.getRandomValues(k.slice(v,v+$));else T.getRandomValues(k);return"function"==typeof R?O.nextTick(function(){R(null,k)}):k}:function K(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(ye,I,A)=>{"use strict";var O=A(40573);function $(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var U=A(27054),K=A(3342),y=U.Buffer,T=U.kMaxLength,w=globalThis.crypto||globalThis.msCrypto,x=Math.pow(2,32)-1;function R(P,L){if("number"!=typeof P||P!=P)throw new TypeError("offset must be a number");if(P>x||P<0)throw new TypeError("offset must be a uint32");if(P>T||P>L)throw new RangeError("offset out of range")}function k(P,L,G){if("number"!=typeof P||P!=P)throw new TypeError("size must be a number");if(P>x||P<0)throw new TypeError("size must be a uint32");if(P+L>G||P>T)throw new RangeError("buffer too small")}function N(P,L,G,B){if(O.browser){var X=new Uint8Array(P.buffer,L,G);return w.getRandomValues(X),B?void O.nextTick(function(){B(null,P)}):P}if(!B)return K(G).copy(P,L),P;K(G,function(te,ie){if(te)return B(te);ie.copy(P,L),B(null,P)})}w&&w.getRandomValues||!O.browser?(I.randomFill=function v(P,L,G,B){if(!(y.isBuffer(P)||P instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof L)B=L,L=0,G=P.length;else if("function"==typeof G)B=G,G=P.length-L;else if("function"!=typeof B)throw new TypeError('"cb" argument must be a function');return R(L,P.length),k(G,L,P.length),N(P,L,G,B)},I.randomFillSync=function M(P,L,G){if(typeof L>"u"&&(L=0),!(y.isBuffer(P)||P instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return R(L,P.length),void 0===G&&(G=P.length-L),k(G,L,P.length),N(P,L,G)}):(I.randomFill=$,I.randomFillSync=$)},26113:ye=>{"use strict";var A={};function O(T,w,x){x||(x=Error);var k=function(v){function N(M,P,L){return v.call(this,function R(v,N,M){return"string"==typeof w?w:w(v,N,M)}(M,P,L))||this}return function I(T,w){T.prototype=Object.create(w.prototype),T.prototype.constructor=T,T.__proto__=w}(N,v),N}(x);k.prototype.name=x.name,k.prototype.code=T,A[T]=k}function $(T,w){if(Array.isArray(T)){var x=T.length;return T=T.map(function(R){return String(R)}),x>2?"one of ".concat(w," ").concat(T.slice(0,x-1).join(", "),", or ")+T[x-1]:2===x?"one of ".concat(w," ").concat(T[0]," or ").concat(T[1]):"of ".concat(w," ").concat(T[0])}return"of ".concat(w," ").concat(String(T))}O("ERR_INVALID_OPT_VALUE",function(T,w){return'The value "'+w+'" is invalid for option "'+T+'"'},TypeError),O("ERR_INVALID_ARG_TYPE",function(T,w,x){var R,k;if("string"==typeof w&&function U(T,w,x){return T.substr(!x||x<0?0:+x,w.length)===w}(w,"not ")?(R="must not be",w=w.replace(/^not /,"")):R="must be",function K(T,w,x){return(void 0===x||x>T.length)&&(x=T.length),T.substring(x-w.length,x)===w}(T," argument"))k="The ".concat(T," ").concat(R," ").concat($(w,"type"));else{var v=function y(T,w,x){return"number"!=typeof x&&(x=0),!(x+w.length>T.length)&&-1!==T.indexOf(w,x)}(T,".")?"property":"argument";k='The "'.concat(T,'" ').concat(v," ").concat(R," ").concat($(w,"type"))}return k+". Received type ".concat(typeof x)},TypeError),O("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),O("ERR_METHOD_NOT_IMPLEMENTED",function(T){return"The "+T+" method is not implemented"}),O("ERR_STREAM_PREMATURE_CLOSE","Premature close"),O("ERR_STREAM_DESTROYED",function(T){return"Cannot call "+T+" after a stream was destroyed"}),O("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),O("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),O("ERR_STREAM_WRITE_AFTER_END","write after end"),O("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),O("ERR_UNKNOWN_ENCODING",function(T){return"Unknown encoding: "+T},TypeError),O("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ye.exports.F=A},74075:(ye,I,A)=>{"use strict";var O=A(40573),$=Object.keys||function(v){var N=[];for(var M in v)N.push(M);return N};ye.exports=x;var U=A(19609),K=A(47849);A(71993)(x,U);for(var y=$(K.prototype),T=0;T<y.length;T++){var w=y[T];x.prototype[w]||(x.prototype[w]=K.prototype[w])}function x(v){if(!(this instanceof x))return new x(v);U.call(this,v),K.call(this,v),this.allowHalfOpen=!0,v&&(!1===v.readable&&(this.readable=!1),!1===v.writable&&(this.writable=!1),!1===v.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",R)))}function R(){this._writableState.ended||O.nextTick(k,this)}function k(v){v.end()}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(N){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=N,this._writableState.destroyed=N)}})},18823:(ye,I,A)=>{"use strict";ye.exports=$;var O=A(2909);function $(U){if(!(this instanceof $))return new $(U);O.call(this,U)}A(71993)($,O),$.prototype._transform=function(U,K,y){y(null,U)}},19609:(ye,I,A)=>{"use strict";var $,O=A(40573);ye.exports=d,d.ReadableState=z,A(44356);var v,K=function(be,_e){return be.listeners(_e).length},y=A(18342),T=A(83838).Buffer,w=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},k=A(79838);v=k&&k.debuglog?k.debuglog("stream"):function(){};var te,ie,ae,N=A(19588),M=A(21509),L=A(42934).getHighWaterMark,G=A(26113).F,B=G.ERR_INVALID_ARG_TYPE,q=G.ERR_STREAM_PUSH_AFTER_EOF,X=G.ERR_METHOD_NOT_IMPLEMENTED,Q=G.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;A(71993)(d,y);var me=M.errorOrDestroy,ge=["error","close","destroy","pause","resume"];function z(xe,be,_e){$=$||A(74075),"boolean"!=typeof _e&&(_e=be instanceof $),this.objectMode=!!(xe=xe||{}).objectMode,_e&&(this.objectMode=this.objectMode||!!xe.readableObjectMode),this.highWaterMark=L(this,xe,"readableHighWaterMark",_e),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==xe.emitClose,this.autoDestroy=!!xe.autoDestroy,this.destroyed=!1,this.defaultEncoding=xe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,xe.encoding&&(te||(te=A(78454).StringDecoder),this.decoder=new te(xe.encoding),this.encoding=xe.encoding)}function d(xe){if($=$||A(74075),!(this instanceof d))return new d(xe);this._readableState=new z(xe,this,this instanceof $),this.readable=!0,xe&&("function"==typeof xe.read&&(this._read=xe.read),"function"==typeof xe.destroy&&(this._destroy=xe.destroy)),y.call(this)}function f(xe,be,_e,Ce,ke){v("readableAddChunk",be);var Ne,ze=xe._readableState;if(null===be)ze.reading=!1,function F(xe,be){if(v("onEofChunk"),!be.ended){if(be.decoder){var _e=be.decoder.end();_e&&_e.length&&(be.buffer.push(_e),be.length+=be.objectMode?1:_e.length)}be.ended=!0,be.sync?h(xe):(be.needReadable=!1,be.emittedReadable||(be.emittedReadable=!0,g(xe)))}}(xe,ze);else if(ke||(Ne=function C(xe,be){var _e;return!function R(xe){return T.isBuffer(xe)||xe instanceof w}(be)&&"string"!=typeof be&&void 0!==be&&!xe.objectMode&&(_e=new B("chunk",["string","Buffer","Uint8Array"],be)),_e}(ze,be)),Ne)me(xe,Ne);else if(ze.objectMode||be&&be.length>0)if("string"!=typeof be&&!ze.objectMode&&Object.getPrototypeOf(be)!==T.prototype&&(be=function x(xe){return T.from(xe)}(be)),Ce)ze.endEmitted?me(xe,new Q):b(xe,ze,be,!0);else if(ze.ended)me(xe,new q);else{if(ze.destroyed)return!1;ze.reading=!1,ze.decoder&&!_e?(be=ze.decoder.write(be),ze.objectMode||0!==be.length?b(xe,ze,be,!1):J(xe,ze)):b(xe,ze,be,!1)}else Ce||(ze.reading=!1,J(xe,ze));return!ze.ended&&(ze.length<ze.highWaterMark||0===ze.length)}function b(xe,be,_e,Ce){be.flowing&&0===be.length&&!be.sync?(be.awaitDrain=0,xe.emit("data",_e)):(be.length+=be.objectMode?1:_e.length,Ce?be.buffer.unshift(_e):be.buffer.push(_e),be.needReadable&&h(xe)),J(xe,be)}Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),d.prototype.destroy=M.destroy,d.prototype._undestroy=M.undestroy,d.prototype._destroy=function(xe,be){be(xe)},d.prototype.push=function(xe,be){var Ce,_e=this._readableState;return _e.objectMode?Ce=!0:"string"==typeof xe&&((be=be||_e.defaultEncoding)!==_e.encoding&&(xe=T.from(xe,be),be=""),Ce=!0),f(this,xe,be,!1,Ce)},d.prototype.unshift=function(xe){return f(this,xe,null,!0,!1)},d.prototype.isPaused=function(){return!1===this._readableState.flowing},d.prototype.setEncoding=function(xe){te||(te=A(78454).StringDecoder);var be=new te(xe);this._readableState.decoder=be,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,Ce="";null!==_e;)Ce+=be.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),""!==Ce&&this._readableState.buffer.push(Ce),this._readableState.length=Ce.length,this};var D=1073741824;function Y(xe,be){return xe<=0||0===be.length&&be.ended?0:be.objectMode?1:xe!=xe?be.flowing&&be.length?be.buffer.head.data.length:be.length:(xe>be.highWaterMark&&(be.highWaterMark=function V(xe){return xe>=D?xe=D:(xe--,xe|=xe>>>1,xe|=xe>>>2,xe|=xe>>>4,xe|=xe>>>8,xe|=xe>>>16,xe++),xe}(xe)),xe<=be.length?xe:be.ended?be.length:(be.needReadable=!0,0))}function h(xe){var be=xe._readableState;v("emitReadable",be.needReadable,be.emittedReadable),be.needReadable=!1,be.emittedReadable||(v("emitReadable",be.flowing),be.emittedReadable=!0,O.nextTick(g,xe))}function g(xe){var be=xe._readableState;v("emitReadable_",be.destroyed,be.length,be.ended),!be.destroyed&&(be.length||be.ended)&&(xe.emit("readable"),be.emittedReadable=!1),be.needReadable=!be.flowing&&!be.ended&&be.length<=be.highWaterMark,Ee(xe)}function J(xe,be){be.readingMore||(be.readingMore=!0,O.nextTick(ee,xe,be))}function ee(xe,be){for(;!be.reading&&!be.ended&&(be.length<be.highWaterMark||be.flowing&&0===be.length);){var _e=be.length;if(v("maybeReadMore read 0"),xe.read(0),_e===be.length)break}be.readingMore=!1}function fe(xe){var be=xe._readableState;be.readableListening=xe.listenerCount("readable")>0,be.resumeScheduled&&!be.paused?be.flowing=!0:xe.listenerCount("data")>0&&xe.resume()}function Ae(xe){v("readable nexttick read 0"),xe.read(0)}function Le(xe,be){v("resume",be.reading),be.reading||xe.read(0),be.resumeScheduled=!1,xe.emit("resume"),Ee(xe),be.flowing&&!be.reading&&xe.read(0)}function Ee(xe){var be=xe._readableState;for(v("flow",be.flowing);be.flowing&&null!==xe.read(););}function Se(xe,be){return 0===be.length?null:(be.objectMode?_e=be.buffer.shift():!xe||xe>=be.length?(_e=be.decoder?be.buffer.join(""):1===be.buffer.length?be.buffer.first():be.buffer.concat(be.length),be.buffer.clear()):_e=be.buffer.consume(xe,be.decoder),_e);var _e}function He(xe){var be=xe._readableState;v("endReadable",be.endEmitted),be.endEmitted||(be.ended=!0,O.nextTick(Te,be,xe))}function Te(xe,be){if(v("endReadableNT",xe.endEmitted,xe.length),!xe.endEmitted&&0===xe.length&&(xe.endEmitted=!0,be.readable=!1,be.emit("end"),xe.autoDestroy)){var _e=be._writableState;(!_e||_e.autoDestroy&&_e.finished)&&be.destroy()}}function u(xe,be){for(var _e=0,Ce=xe.length;_e<Ce;_e++)if(xe[_e]===be)return _e;return-1}d.prototype.read=function(xe){v("read",xe),xe=parseInt(xe,10);var be=this._readableState,_e=xe;if(0!==xe&&(be.emittedReadable=!1),0===xe&&be.needReadable&&((0!==be.highWaterMark?be.length>=be.highWaterMark:be.length>0)||be.ended))return v("read: emitReadable",be.length,be.ended),0===be.length&&be.ended?He(this):h(this),null;if(0===(xe=Y(xe,be))&&be.ended)return 0===be.length&&He(this),null;var ke,Ce=be.needReadable;return v("need readable",Ce),(0===be.length||be.length-xe<be.highWaterMark)&&v("length less than watermark",Ce=!0),be.ended||be.reading?v("reading or ended",Ce=!1):Ce&&(v("do read"),be.reading=!0,be.sync=!0,0===be.length&&(be.needReadable=!0),this._read(be.highWaterMark),be.sync=!1,be.reading||(xe=Y(_e,be))),null===(ke=xe>0?Se(xe,be):null)?(be.needReadable=be.length<=be.highWaterMark,xe=0):(be.length-=xe,be.awaitDrain=0),0===be.length&&(be.ended||(be.needReadable=!0),_e!==xe&&be.ended&&He(this)),null!==ke&&this.emit("data",ke),ke},d.prototype._read=function(xe){me(this,new X("_read()"))},d.prototype.pipe=function(xe,be){var _e=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=xe;break;case 1:Ce.pipes=[Ce.pipes,xe];break;default:Ce.pipes.push(xe)}Ce.pipesCount+=1,v("pipe count=%d opts=%j",Ce.pipesCount,be);var ze=be&&!1===be.end||xe===O.stdout||xe===O.stderr?Z:We;function We(){v("onend"),xe.end()}Ce.endEmitted?O.nextTick(ze):_e.once("end",ze),xe.on("unpipe",function Ne(he,De){v("onunpipe"),he===_e&&De&&!1===De.hasUnpiped&&(De.hasUnpiped=!0,function mt(){v("cleanup"),xe.removeListener("close",se),xe.removeListener("finish",W),xe.removeListener("drain",Ye),xe.removeListener("error",Ut),xe.removeListener("unpipe",Ne),_e.removeListener("end",We),_e.removeListener("end",Z),_e.removeListener("data",rt),wt=!0,Ce.awaitDrain&&(!xe._writableState||xe._writableState.needDrain)&&Ye()}())});var Ye=function re(xe){return function(){var _e=xe._readableState;v("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,0===_e.awaitDrain&&K(xe,"data")&&(_e.flowing=!0,Ee(xe))}}(_e);xe.on("drain",Ye);var wt=!1;function rt(he){v("ondata");var De=xe.write(he);v("dest.write",De),!1===De&&((1===Ce.pipesCount&&Ce.pipes===xe||Ce.pipesCount>1&&-1!==u(Ce.pipes,xe))&&!wt&&(v("false write response, pause",Ce.awaitDrain),Ce.awaitDrain++),_e.pause())}function Ut(he){v("onerror",he),Z(),xe.removeListener("error",Ut),0===K(xe,"error")&&me(xe,he)}function se(){xe.removeListener("finish",W),Z()}function W(){v("onfinish"),xe.removeListener("close",se),Z()}function Z(){v("unpipe"),_e.unpipe(xe)}return _e.on("data",rt),function de(xe,be,_e){if("function"==typeof xe.prependListener)return xe.prependListener(be,_e);xe._events&&xe._events[be]?Array.isArray(xe._events[be])?xe._events[be].unshift(_e):xe._events[be]=[_e,xe._events[be]]:xe.on(be,_e)}(xe,"error",Ut),xe.once("close",se),xe.once("finish",W),xe.emit("pipe",_e),Ce.flowing||(v("pipe resume"),_e.resume()),xe},d.prototype.unpipe=function(xe){var be=this._readableState,_e={hasUnpiped:!1};if(0===be.pipesCount)return this;if(1===be.pipesCount)return xe&&xe!==be.pipes||(xe||(xe=be.pipes),be.pipes=null,be.pipesCount=0,be.flowing=!1,xe&&xe.emit("unpipe",this,_e)),this;if(!xe){var Ce=be.pipes,ke=be.pipesCount;be.pipes=null,be.pipesCount=0,be.flowing=!1;for(var ze=0;ze<ke;ze++)Ce[ze].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=u(be.pipes,xe);return-1===Ne||(be.pipes.splice(Ne,1),be.pipesCount-=1,1===be.pipesCount&&(be.pipes=be.pipes[0]),xe.emit("unpipe",this,_e)),this},d.prototype.addListener=d.prototype.on=function(xe,be){var _e=y.prototype.on.call(this,xe,be),Ce=this._readableState;return"data"===xe?(Ce.readableListening=this.listenerCount("readable")>0,!1!==Ce.flowing&&this.resume()):"readable"===xe&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,v("on readable",Ce.length,Ce.reading),Ce.length?h(this):Ce.reading||O.nextTick(Ae,this)),_e},d.prototype.removeListener=function(xe,be){var _e=y.prototype.removeListener.call(this,xe,be);return"readable"===xe&&O.nextTick(fe,this),_e},d.prototype.removeAllListeners=function(xe){var be=y.prototype.removeAllListeners.apply(this,arguments);return("readable"===xe||void 0===xe)&&O.nextTick(fe,this),be},d.prototype.resume=function(){var xe=this._readableState;return xe.flowing||(v("resume"),xe.flowing=!xe.readableListening,function Me(xe,be){be.resumeScheduled||(be.resumeScheduled=!0,O.nextTick(Le,xe,be))}(this,xe)),xe.paused=!1,this},d.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},d.prototype.wrap=function(xe){var be=this,_e=this._readableState,Ce=!1;for(var ke in xe.on("end",function(){if(v("wrapped end"),_e.decoder&&!_e.ended){var Ne=_e.decoder.end();Ne&&Ne.length&&be.push(Ne)}be.push(null)}),xe.on("data",function(Ne){v("wrapped data"),_e.decoder&&(Ne=_e.decoder.write(Ne)),_e.objectMode&&null==Ne||!(_e.objectMode||Ne&&Ne.length)||be.push(Ne)||(Ce=!0,xe.pause())}),xe)void 0===this[ke]&&"function"==typeof xe[ke]&&(this[ke]=function(We){return function(){return xe[We].apply(xe,arguments)}}(ke));for(var ze=0;ze<ge.length;ze++)xe.on(ge[ze],this.emit.bind(this,ge[ze]));return this._read=function(Ne){v("wrapped _read",Ne),Ce&&(Ce=!1,xe.resume())},this},"function"==typeof Symbol&&(d.prototype[Symbol.asyncIterator]=function(){return void 0===ie&&(ie=A(6320)),ie(this)}),Object.defineProperty(d.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(d.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(d.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(be){this._readableState&&(this._readableState.flowing=be)}}),d._fromList=Se,Object.defineProperty(d.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(d.from=function(xe,be){return void 0===ae&&(ae=A(87654)),ae(d,xe,be)})},2909:(ye,I,A)=>{"use strict";ye.exports=x;var O=A(26113).F,$=O.ERR_METHOD_NOT_IMPLEMENTED,U=O.ERR_MULTIPLE_CALLBACK,K=O.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=O.ERR_TRANSFORM_WITH_LENGTH_0,T=A(74075);function w(v,N){var M=this._transformState;M.transforming=!1;var P=M.writecb;if(null===P)return this.emit("error",new U);M.writechunk=null,M.writecb=null,null!=N&&this.push(N),P(v);var L=this._readableState;L.reading=!1,(L.needReadable||L.length<L.highWaterMark)&&this._read(L.highWaterMark)}function x(v){if(!(this instanceof x))return new x(v);T.call(this,v),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&("function"==typeof v.transform&&(this._transform=v.transform),"function"==typeof v.flush&&(this._flush=v.flush)),this.on("prefinish",R)}function R(){var v=this;"function"!=typeof this._flush||this._readableState.destroyed?k(this,null,null):this._flush(function(N,M){k(v,N,M)})}function k(v,N,M){if(N)return v.emit("error",N);if(null!=M&&v.push(M),v._writableState.length)throw new y;if(v._transformState.transforming)throw new K;return v.push(null)}A(71993)(x,T),x.prototype.push=function(v,N){return this._transformState.needTransform=!1,T.prototype.push.call(this,v,N)},x.prototype._transform=function(v,N,M){M(new $("_transform()"))},x.prototype._write=function(v,N,M){var P=this._transformState;if(P.writecb=M,P.writechunk=v,P.writeencoding=N,!P.transforming){var L=this._readableState;(P.needTransform||L.needReadable||L.length<L.highWaterMark)&&this._read(L.highWaterMark)}},x.prototype._read=function(v){var N=this._transformState;null===N.writechunk||N.transforming?N.needTransform=!0:(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform))},x.prototype._destroy=function(v,N){T.prototype._destroy.call(this,v,function(M){N(M)})}},47849:(ye,I,A)=>{"use strict";var K,O=A(40573);function U(Ee){var Se=this;this.next=null,this.entry=null,this.finish=function(){!function Le(Ee,Se,He){var Te=Ee.entry;for(Ee.entry=null;Te;){var u=Te.callback;Se.pendingcb--,u(He),Te=Te.next}Se.corkedRequestsFree.next=Ee}(Se,Ee)}}ye.exports=z,z.WritableState=ge;var de,y={deprecate:A(3398)},T=A(18342),w=A(83838).Buffer,x=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v=A(21509),M=A(42934).getHighWaterMark,P=A(26113).F,L=P.ERR_INVALID_ARG_TYPE,G=P.ERR_METHOD_NOT_IMPLEMENTED,B=P.ERR_MULTIPLE_CALLBACK,q=P.ERR_STREAM_CANNOT_PIPE,X=P.ERR_STREAM_DESTROYED,Q=P.ERR_STREAM_NULL_VALUES,te=P.ERR_STREAM_WRITE_AFTER_END,ie=P.ERR_UNKNOWN_ENCODING,ae=v.errorOrDestroy;function me(){}function ge(Ee,Se,He){K=K||A(74075),"boolean"!=typeof He&&(He=Se instanceof K),this.objectMode=!!(Ee=Ee||{}).objectMode,He&&(this.objectMode=this.objectMode||!!Ee.writableObjectMode),this.highWaterMark=M(this,Ee,"writableHighWaterMark",He),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ee.decodeStrings),this.defaultEncoding=Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){!function F(Ee,Se){var He=Ee._writableState,Te=He.sync,u=He.writecb;if("function"!=typeof u)throw new B;if(function Y(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}(He),Se)!function V(Ee,Se,He,Te,u){--Se.pendingcb,He?(O.nextTick(u,Te),O.nextTick(Ae,Ee,Se),Ee._writableState.errorEmitted=!0,ae(Ee,Te)):(u(Te),Ee._writableState.errorEmitted=!0,ae(Ee,Te),Ae(Ee,Se))}(Ee,He,Te,Se,u);else{var xe=ee(He)||Ee.destroyed;!xe&&!He.corked&&!He.bufferProcessing&&He.bufferedRequest&&J(Ee,He),Te?O.nextTick(h,Ee,He,xe,u):h(Ee,He,xe,u)}}(Se,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ee.emitClose,this.autoDestroy=!!Ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new U(this)}function z(Ee){var Se=this instanceof(K=K||A(74075));if(!Se&&!de.call(z,this))return new z(Ee);this._writableState=new ge(Ee,this,Se),this.writable=!0,Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final)),T.call(this)}function D(Ee,Se,He,Te,u,xe,be){Se.writelen=Te,Se.writecb=be,Se.writing=!0,Se.sync=!0,Se.destroyed?Se.onwrite(new X("write")):He?Ee._writev(u,Se.onwrite):Ee._write(u,xe,Se.onwrite),Se.sync=!1}function h(Ee,Se,He,Te){He||function g(Ee,Se){0===Se.length&&Se.needDrain&&(Se.needDrain=!1,Ee.emit("drain"))}(Ee,Se),Se.pendingcb--,Te(),Ae(Ee,Se)}function J(Ee,Se){Se.bufferProcessing=!0;var He=Se.bufferedRequest;if(Ee._writev&&He&&He.next){var u=new Array(Se.bufferedRequestCount),xe=Se.corkedRequestsFree;xe.entry=He;for(var be=0,_e=!0;He;)u[be]=He,He.isBuf||(_e=!1),He=He.next,be+=1;u.allBuffers=_e,D(Ee,Se,!0,Se.length,u,"",xe.finish),Se.pendingcb++,Se.lastBufferedRequest=null,xe.next?(Se.corkedRequestsFree=xe.next,xe.next=null):Se.corkedRequestsFree=new U(Se),Se.bufferedRequestCount=0}else{for(;He;){var Ce=He.chunk;if(D(Ee,Se,!1,Se.objectMode?1:Ce.length,Ce,He.encoding,He.callback),He=He.next,Se.bufferedRequestCount--,Se.writing)break}null===He&&(Se.lastBufferedRequest=null)}Se.bufferedRequest=He,Se.bufferProcessing=!1}function ee(Ee){return Ee.ending&&0===Ee.length&&null===Ee.bufferedRequest&&!Ee.finished&&!Ee.writing}function re(Ee,Se){Ee._final(function(He){Se.pendingcb--,He&&ae(Ee,He),Se.prefinished=!0,Ee.emit("prefinish"),Ae(Ee,Se)})}function Ae(Ee,Se){var He=ee(Se);if(He&&(function fe(Ee,Se){!Se.prefinished&&!Se.finalCalled&&("function"!=typeof Ee._final||Se.destroyed?(Se.prefinished=!0,Ee.emit("prefinish")):(Se.pendingcb++,Se.finalCalled=!0,O.nextTick(re,Ee,Se)))}(Ee,Se),0===Se.pendingcb&&(Se.finished=!0,Ee.emit("finish"),Se.autoDestroy))){var Te=Ee._readableState;(!Te||Te.autoDestroy&&Te.endEmitted)&&Ee.destroy()}return He}A(71993)(z,T),ge.prototype.getBuffer=function(){for(var Se=this.bufferedRequest,He=[];Se;)He.push(Se),Se=Se.next;return He},function(){try{Object.defineProperty(ge.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(de=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(Se){return!!de.call(this,Se)||this===z&&Se&&Se._writableState instanceof ge}})):de=function(Se){return Se instanceof this},z.prototype.pipe=function(){ae(this,new q)},z.prototype.write=function(Ee,Se,He){var Te=this._writableState,u=!1,xe=!Te.objectMode&&function k(Ee){return w.isBuffer(Ee)||Ee instanceof x}(Ee);return xe&&!w.isBuffer(Ee)&&(Ee=function R(Ee){return w.from(Ee)}(Ee)),"function"==typeof Se&&(He=Se,Se=null),xe?Se="buffer":Se||(Se=Te.defaultEncoding),"function"!=typeof He&&(He=me),Te.ending?function d(Ee,Se){var He=new te;ae(Ee,He),O.nextTick(Se,He)}(this,He):(xe||function f(Ee,Se,He,Te){var u;return null===He?u=new Q:"string"!=typeof He&&!Se.objectMode&&(u=new L("chunk",["string","Buffer"],He)),!u||(ae(Ee,u),O.nextTick(Te,u),!1)}(this,Te,Ee,He))&&(Te.pendingcb++,u=function C(Ee,Se,He,Te,u,xe){if(!He){var be=function b(Ee,Se,He){return!Ee.objectMode&&!1!==Ee.decodeStrings&&"string"==typeof Se&&(Se=w.from(Se,He)),Se}(Se,Te,u);Te!==be&&(He=!0,u="buffer",Te=be)}var _e=Se.objectMode?1:Te.length;Se.length+=_e;var Ce=Se.length<Se.highWaterMark;if(Ce||(Se.needDrain=!0),Se.writing||Se.corked){var ke=Se.lastBufferedRequest;Se.lastBufferedRequest={chunk:Te,encoding:u,isBuf:He,callback:xe,next:null},ke?ke.next=Se.lastBufferedRequest:Se.bufferedRequest=Se.lastBufferedRequest,Se.bufferedRequestCount+=1}else D(Ee,Se,!1,_e,Te,u,xe);return Ce}(this,Te,xe,Ee,Se,He)),u},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var Ee=this._writableState;Ee.corked&&(Ee.corked--,!Ee.writing&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&J(this,Ee))},z.prototype.setDefaultEncoding=function(Se){if("string"==typeof Se&&(Se=Se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Se+"").toLowerCase())>-1))throw new ie(Se);return this._writableState.defaultEncoding=Se,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(Ee,Se,He){He(new G("_write()"))},z.prototype._writev=null,z.prototype.end=function(Ee,Se,He){var Te=this._writableState;return"function"==typeof Ee?(He=Ee,Ee=null,Se=null):"function"==typeof Se&&(He=Se,Se=null),null!=Ee&&this.write(Ee,Se),Te.corked&&(Te.corked=1,this.uncork()),Te.ending||function Me(Ee,Se,He){Se.ending=!0,Ae(Ee,Se),He&&(Se.finished?O.nextTick(He):Ee.once("finish",He)),Se.ended=!0,Ee.writable=!1}(this,Te,He),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Se){this._writableState&&(this._writableState.destroyed=Se)}}),z.prototype.destroy=v.destroy,z.prototype._undestroy=v.undestroy,z.prototype._destroy=function(Ee,Se){Se(Ee)}},6320:(ye,I,A)=>{"use strict";var $,O=A(40573);function U(te,ie,ae){return ie=function K(te){var ie=function y(te,ie){if("object"!=typeof te||null===te)return te;var ae=te[Symbol.toPrimitive];if(void 0!==ae){var me=ae.call(te,ie||"default");if("object"!=typeof me)return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ie?String:Number)(te)}(te,"string");return"symbol"==typeof ie?ie:String(ie)}(ie),ie in te?Object.defineProperty(te,ie,{value:ae,enumerable:!0,configurable:!0,writable:!0}):te[ie]=ae,te}var T=A(33139),w=Symbol("lastResolve"),x=Symbol("lastReject"),R=Symbol("error"),k=Symbol("ended"),v=Symbol("lastPromise"),N=Symbol("handlePromise"),M=Symbol("stream");function P(te,ie){return{value:te,done:ie}}function L(te){var ie=te[w];if(null!==ie){var ae=te[M].read();null!==ae&&(te[v]=null,te[w]=null,te[x]=null,ie(P(ae,!1)))}}function G(te){O.nextTick(L,te)}var q=Object.getPrototypeOf(function(){}),X=Object.setPrototypeOf((U($={get stream(){return this[M]},next:function(){var ie=this,ae=this[R];if(null!==ae)return Promise.reject(ae);if(this[k])return Promise.resolve(P(void 0,!0));if(this[M].destroyed)return new Promise(function(z,d){O.nextTick(function(){ie[R]?d(ie[R]):z(P(void 0,!0))})});var ge,me=this[v];if(me)ge=new Promise(function B(te,ie){return function(ae,me){te.then(function(){ie[k]?ae(P(void 0,!0)):ie[N](ae,me)},me)}}(me,this));else{var de=this[M].read();if(null!==de)return Promise.resolve(P(de,!1));ge=new Promise(this[N])}return this[v]=ge,ge}},Symbol.asyncIterator,function(){return this}),U($,"return",function(){var ie=this;return new Promise(function(ae,me){ie[M].destroy(null,function(ge){ge?me(ge):ae(P(void 0,!0))})})}),$),q);ye.exports=function(ie){var ae,me=Object.create(X,(U(ae={},M,{value:ie,writable:!0}),U(ae,w,{value:null,writable:!0}),U(ae,x,{value:null,writable:!0}),U(ae,R,{value:null,writable:!0}),U(ae,k,{value:ie._readableState.endEmitted,writable:!0}),U(ae,N,{value:function(de,z){var d=me[M].read();d?(me[v]=null,me[w]=null,me[x]=null,de(P(d,!1))):(me[w]=de,me[x]=z)},writable:!0}),ae));return me[v]=null,T(ie,function(ge){if(ge&&"ERR_STREAM_PREMATURE_CLOSE"!==ge.code){var de=me[x];return null!==de&&(me[v]=null,me[w]=null,me[x]=null,de(ge)),void(me[R]=ge)}var z=me[w];null!==z&&(me[v]=null,me[w]=null,me[x]=null,z(P(void 0,!0))),me[k]=!0}),ie.on("readable",G.bind(null,me)),me}},19588:(ye,I,A)=>{"use strict";function O(L,G){var B=Object.keys(L);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(L);G&&(q=q.filter(function(X){return Object.getOwnPropertyDescriptor(L,X).enumerable})),B.push.apply(B,q)}return B}function $(L){for(var G=1;G<arguments.length;G++){var B=null!=arguments[G]?arguments[G]:{};G%2?O(Object(B),!0).forEach(function(q){U(L,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(B)):O(Object(B)).forEach(function(q){Object.defineProperty(L,q,Object.getOwnPropertyDescriptor(B,q))})}return L}function U(L,G,B){return(G=w(G))in L?Object.defineProperty(L,G,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[G]=B,L}function y(L,G){for(var B=0;B<G.length;B++){var q=G[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(L,w(q.key),q)}}function w(L){var G=function x(L,G){if("object"!=typeof L||null===L)return L;var B=L[Symbol.toPrimitive];if(void 0!==B){var q=B.call(L,G||"default");if("object"!=typeof q)return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===G?String:Number)(L)}(L,"string");return"symbol"==typeof G?G:String(G)}var k=A(83838).Buffer,N=A(15340).inspect,M=N&&N.custom||"inspect";function P(L,G,B){k.prototype.copy.call(L,G,B)}ye.exports=function(){function L(){(function K(L,G){if(!(L instanceof G))throw new TypeError("Cannot call a class as a function")})(this,L),this.head=null,this.tail=null,this.length=0}return function T(L,G,B){G&&y(L.prototype,G),B&&y(L,B),Object.defineProperty(L,"prototype",{writable:!1})}(L,[{key:"push",value:function(B){var q={data:B,next:null};this.length>0?this.tail.next=q:this.head=q,this.tail=q,++this.length}},{key:"unshift",value:function(B){var q={data:B,next:this.head};0===this.length&&(this.tail=q),this.head=q,++this.length}},{key:"shift",value:function(){if(0!==this.length){var B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(B){if(0===this.length)return"";for(var q=this.head,X=""+q.data;q=q.next;)X+=B+q.data;return X}},{key:"concat",value:function(B){if(0===this.length)return k.alloc(0);for(var q=k.allocUnsafe(B>>>0),X=this.head,Q=0;X;)P(X.data,q,Q),Q+=X.data.length,X=X.next;return q}},{key:"consume",value:function(B,q){var X;return B<this.head.data.length?(X=this.head.data.slice(0,B),this.head.data=this.head.data.slice(B)):X=B===this.head.data.length?this.shift():q?this._getString(B):this._getBuffer(B),X}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(B){var q=this.head,X=1,Q=q.data;for(B-=Q.length;q=q.next;){var te=q.data,ie=B>te.length?te.length:B;if(Q+=ie===te.length?te:te.slice(0,B),0==(B-=ie)){ie===te.length?(++X,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=te.slice(ie));break}++X}return this.length-=X,Q}},{key:"_getBuffer",value:function(B){var q=k.allocUnsafe(B),X=this.head,Q=1;for(X.data.copy(q),B-=X.data.length;X=X.next;){var te=X.data,ie=B>te.length?te.length:B;if(te.copy(q,q.length-B,0,ie),0==(B-=ie)){ie===te.length?(++Q,this.head=X.next?X.next:this.tail=null):(this.head=X,X.data=te.slice(ie));break}++Q}return this.length-=Q,q}},{key:M,value:function(B,q){return N(this,$($({},q),{},{depth:0,customInspect:!1}))}}]),L}()},21509:(ye,I,A)=>{"use strict";var O=A(40573);function U(x,R){T(x,R),K(x)}function K(x){x._writableState&&!x._writableState.emitClose||x._readableState&&!x._readableState.emitClose||x.emit("close")}function T(x,R){x.emit("error",R)}ye.exports={destroy:function $(x,R){var k=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,O.nextTick(T,this,x)):O.nextTick(T,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(M){!R&&M?k._writableState?k._writableState.errorEmitted?O.nextTick(K,k):(k._writableState.errorEmitted=!0,O.nextTick(U,k,M)):O.nextTick(U,k,M):R?(O.nextTick(K,k),R(M)):O.nextTick(K,k)}),this)},undestroy:function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function w(x,R){var k=x._readableState,v=x._writableState;k&&k.autoDestroy||v&&v.autoDestroy?x.destroy(R):x.emit("error",R)}}},33139:(ye,I,A)=>{"use strict";var O=A(26113).F.ERR_STREAM_PREMATURE_CLOSE;function U(){}ye.exports=function y(T,w,x){if("function"==typeof w)return y(T,null,w);w||(w={}),x=function $(T){var w=!1;return function(){if(!w){w=!0;for(var x=arguments.length,R=new Array(x),k=0;k<x;k++)R[k]=arguments[k];T.apply(this,R)}}}(x||U);var R=w.readable||!1!==w.readable&&T.readable,k=w.writable||!1!==w.writable&&T.writable,v=function(){T.writable||M()},N=T._writableState&&T._writableState.finished,M=function(){k=!1,N=!0,R||x.call(T)},P=T._readableState&&T._readableState.endEmitted,L=function(){R=!1,P=!0,k||x.call(T)},G=function(Q){x.call(T,Q)},B=function(){var Q;return R&&!P?((!T._readableState||!T._readableState.ended)&&(Q=new O),x.call(T,Q)):k&&!N?((!T._writableState||!T._writableState.ended)&&(Q=new O),x.call(T,Q)):void 0},q=function(){T.req.on("finish",M)};return function K(T){return T.setHeader&&"function"==typeof T.abort}(T)?(T.on("complete",M),T.on("abort",B),T.req?q():T.on("request",q)):k&&!T._writableState&&(T.on("end",v),T.on("close",v)),T.on("end",L),T.on("finish",M),!1!==w.error&&T.on("error",G),T.on("close",B),function(){T.removeListener("complete",M),T.removeListener("abort",B),T.removeListener("request",q),T.req&&T.req.removeListener("finish",M),T.removeListener("end",v),T.removeListener("close",v),T.removeListener("finish",M),T.removeListener("end",L),T.removeListener("error",G),T.removeListener("close",B)}}},87654:ye=>{ye.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(ye,I,A)=>{"use strict";var O,U=A(26113).F,K=U.ERR_MISSING_ARGS,y=U.ERR_STREAM_DESTROYED;function T(M){if(M)throw M}function R(M){M()}function k(M,P){return M.pipe(P)}ye.exports=function N(){for(var M=arguments.length,P=new Array(M),L=0;L<M;L++)P[L]=arguments[L];var G=function v(M){return M.length&&"function"==typeof M[M.length-1]?M.pop():T}(P);if(Array.isArray(P[0])&&(P=P[0]),P.length<2)throw new K("streams");var B,q=P.map(function(X,Q){var te=Q<P.length-1;return function x(M,P,L,G){G=function $(M){var P=!1;return function(){P||(P=!0,M.apply(void 0,arguments))}}(G);var B=!1;M.on("close",function(){B=!0}),void 0===O&&(O=A(33139)),O(M,{readable:P,writable:L},function(X){if(X)return G(X);B=!0,G()});var q=!1;return function(X){if(!B&&!q){if(q=!0,function w(M){return M.setHeader&&"function"==typeof M.abort}(M))return M.abort();if("function"==typeof M.destroy)return M.destroy();G(X||new y("pipe"))}}}(X,te,Q>0,function(ae){B||(B=ae),ae&&q.forEach(R),!te&&(q.forEach(R),G(B))})});return P.reduce(k)}},42934:(ye,I,A)=>{"use strict";var O=A(26113).F.ERR_INVALID_OPT_VALUE;ye.exports={getHighWaterMark:function U(K,y,T,w){var x=function $(K,y,T){return null!=K.highWaterMark?K.highWaterMark:y?K[T]:null}(y,w,T);if(null!=x){if(!isFinite(x)||Math.floor(x)!==x||x<0)throw new O(w?T:"highWaterMark",x);return Math.floor(x)}return K.objectMode?16:16384}}},18342:(ye,I,A)=>{ye.exports=A(44356).EventEmitter},5942:(ye,I,A)=>{(I=ye.exports=A(19609)).Stream=I,I.Readable=I,I.Writable=A(47849),I.Duplex=A(74075),I.Transform=A(2909),I.PassThrough=A(18823),I.finished=A(33139),I.pipeline=A(96249)},85493:(ye,I,A)=>{"use strict";var $=A(29293).default;I.s=void 0;const U=A(5942);I.s=class K extends U.Readable{constructor(T){super(),this.bytesRead=0,this.released=!1,this.reader=T.getReader()}_read(){var T=this;return $(function*(){if(T.released)return void T.push(null);T.pendingRead=T.reader.read();const w=yield T.pendingRead;delete T.pendingRead,w.done||T.released?T.push(null):(T.bytesRead+=w.value.length,T.push(w.value))})()}waitForReadToComplete(){var T=this;return $(function*(){T.pendingRead&&(yield T.pendingRead)})()}close(){var T=this;return $(function*(){yield T.syncAndRelease()})()}syncAndRelease(){var T=this;return $(function*(){T.released=!0,yield T.waitForReadToComplete(),yield T.reader.releaseLock()})()}}},62364:(ye,I,A)=>{"use strict";var O=A(56469),$=A(46758),U=Object;ye.exports=O(function(){if(null==this||this!==U(this))throw new $("RegExp.prototype.flags getter called on non-object");var y="";return this.hasIndices&&(y+="d"),this.global&&(y+="g"),this.ignoreCase&&(y+="i"),this.multiline&&(y+="m"),this.dotAll&&(y+="s"),this.unicode&&(y+="u"),this.unicodeSets&&(y+="v"),this.sticky&&(y+="y"),y},"get flags",!0)},55864:(ye,I,A)=>{"use strict";var O=A(947),$=A(48128),U=A(62364),K=A(35209),y=A(88871),T=$(K());O(T,{getPolyfill:K,implementation:U,shim:y}),ye.exports=T},35209:(ye,I,A)=>{"use strict";var O=A(62364),$=A(947).supportsDescriptors,U=Object.getOwnPropertyDescriptor;ye.exports=function(){if($&&"gim"===/a/gim.flags){var y=U(RegExp.prototype,"flags");if(y&&"function"==typeof y.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var T="",w={};if(Object.defineProperty(w,"hasIndices",{get:function(){T+="d"}}),Object.defineProperty(w,"sticky",{get:function(){T+="y"}}),y.get.call(w),"dy"===T)return y.get}}return O}},88871:(ye,I,A)=>{"use strict";var O=A(947).supportsDescriptors,$=A(35209),U=Object.getOwnPropertyDescriptor,K=Object.defineProperty,y=TypeError,T=Object.getPrototypeOf,w=/a/;ye.exports=function(){if(!O||!T)throw new y("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var R=$(),k=T(w),v=U(k,"flags");return(!v||v.get!==R)&&K(k,"flags",{configurable:!0,enumerable:!1,get:R}),R}},76021:ye=>{"use strict";function I($){return $ instanceof Buffer?Buffer.from($):new $.constructor($.buffer.slice(),$.byteOffset,$.length)}ye.exports=function A($){if(($=$||{}).circles)return function O($){const U=[],K=[],y=new Map;if(y.set(Date,k=>new Date(k)),y.set(Map,(k,v)=>new Map(w(Array.from(k),v))),y.set(Set,(k,v)=>new Set(w(Array.from(k),v))),$.constructorHandlers)for(const k of $.constructorHandlers)y.set(k[0],k[1]);let T=null;return $.proto?function R(k){if("object"!=typeof k||null===k)return k;if(Array.isArray(k))return w(k,R);if(k.constructor!==Object&&(T=y.get(k.constructor)))return T(k,R);const v={};U.push(k),K.push(v);for(const N in k){const M=k[N];if("object"!=typeof M||null===M)v[N]=M;else if(M.constructor!==Object&&(T=y.get(M.constructor)))v[N]=T(M,R);else if(ArrayBuffer.isView(M))v[N]=I(M);else{const P=U.indexOf(M);v[N]=-1!==P?K[P]:R(M)}}return U.pop(),K.pop(),v}:function x(k){if("object"!=typeof k||null===k)return k;if(Array.isArray(k))return w(k,x);if(k.constructor!==Object&&(T=y.get(k.constructor)))return T(k,x);const v={};U.push(k),K.push(v);for(const N in k){if(!1===Object.hasOwnProperty.call(k,N))continue;const M=k[N];if("object"!=typeof M||null===M)v[N]=M;else if(M.constructor!==Object&&(T=y.get(M.constructor)))v[N]=T(M,x);else if(ArrayBuffer.isView(M))v[N]=I(M);else{const P=U.indexOf(M);v[N]=-1!==P?K[P]:x(M)}}return U.pop(),K.pop(),v};function w(k,v){const N=Object.keys(k),M=new Array(N.length);for(let P=0;P<N.length;P++){const L=N[P],G=k[L];if("object"!=typeof G||null===G)M[L]=G;else if(G.constructor!==Object&&(T=y.get(G.constructor)))M[L]=T(G,v);else if(ArrayBuffer.isView(G))M[L]=I(G);else{const B=U.indexOf(G);M[L]=-1!==B?K[B]:v(G)}}return M}}($);const U=new Map;if(U.set(Date,x=>new Date(x)),U.set(Map,(x,R)=>new Map(y(Array.from(x),R))),U.set(Set,(x,R)=>new Set(y(Array.from(x),R))),$.constructorHandlers)for(const x of $.constructorHandlers)U.set(x[0],x[1]);let K=null;return $.proto?function w(x){if("object"!=typeof x||null===x)return x;if(Array.isArray(x))return y(x,w);if(x.constructor!==Object&&(K=U.get(x.constructor)))return K(x,w);const R={};for(const k in x){const v=x[k];R[k]="object"!=typeof v||null===v?v:v.constructor!==Object&&(K=U.get(v.constructor))?K(v,w):ArrayBuffer.isView(v)?I(v):w(v)}return R}:function T(x){if("object"!=typeof x||null===x)return x;if(Array.isArray(x))return y(x,T);if(x.constructor!==Object&&(K=U.get(x.constructor)))return K(x,T);const R={};for(const k in x){if(!1===Object.hasOwnProperty.call(x,k))continue;const v=x[k];R[k]="object"!=typeof v||null===v?v:v.constructor!==Object&&(K=U.get(v.constructor))?K(v,T):ArrayBuffer.isView(v)?I(v):T(v)}return R};function y(x,R){const k=Object.keys(x),v=new Array(k.length);for(let N=0;N<k.length;N++){const M=k[N],P=x[M];v[M]="object"!=typeof P||null===P?P:P.constructor!==Object&&(K=U.get(P.constructor))?K(P,R):ArrayBuffer.isView(P)?I(P):R(P)}return v}}},36636:(ye,I,A)=>{"use strict";var O=A(83838).Buffer,$=A(71993),U=A(13686),K=new Array(16),y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],T=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R=[0,1518500249,1859775393,2400959708,2840853838],k=[1352829926,1548603684,1836072691,2053994217,0];function v(){U.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function N(q,X){return q<<X|q>>>32-X}function M(q,X,Q,te,ie,ae,me,ge){return N(q+(X^Q^te)+ae+me|0,ge)+ie|0}function P(q,X,Q,te,ie,ae,me,ge){return N(q+(X&Q|~X&te)+ae+me|0,ge)+ie|0}function L(q,X,Q,te,ie,ae,me,ge){return N(q+((X|~Q)^te)+ae+me|0,ge)+ie|0}function G(q,X,Q,te,ie,ae,me,ge){return N(q+(X&te|Q&~te)+ae+me|0,ge)+ie|0}function B(q,X,Q,te,ie,ae,me,ge){return N(q+(X^(Q|~te))+ae+me|0,ge)+ie|0}$(v,U),v.prototype._update=function(){for(var q=K,X=0;X<16;++X)q[X]=this._block.readInt32LE(4*X);for(var Q=0|this._a,te=0|this._b,ie=0|this._c,ae=0|this._d,me=0|this._e,ge=0|this._a,de=0|this._b,z=0|this._c,d=0|this._d,f=0|this._e,b=0;b<80;b+=1){var C,D;b<16?(C=M(Q,te,ie,ae,me,q[y[b]],R[0],w[b]),D=B(ge,de,z,d,f,q[T[b]],k[0],x[b])):b<32?(C=P(Q,te,ie,ae,me,q[y[b]],R[1],w[b]),D=G(ge,de,z,d,f,q[T[b]],k[1],x[b])):b<48?(C=L(Q,te,ie,ae,me,q[y[b]],R[2],w[b]),D=L(ge,de,z,d,f,q[T[b]],k[2],x[b])):b<64?(C=G(Q,te,ie,ae,me,q[y[b]],R[3],w[b]),D=P(ge,de,z,d,f,q[T[b]],k[3],x[b])):(C=B(Q,te,ie,ae,me,q[y[b]],R[4],w[b]),D=M(ge,de,z,d,f,q[T[b]],k[4],x[b])),Q=me,me=ae,ae=N(ie,10),ie=te,te=C,ge=f,f=d,d=N(z,10),z=de,de=D}var V=this._b+ie+d|0;this._b=this._c+ae+f|0,this._c=this._d+me+ge|0,this._d=this._e+Q+de|0,this._e=this._a+te+z|0,this._a=V},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var q=O.alloc?O.alloc(20):new O(20);return q.writeInt32LE(this._a,0),q.writeInt32LE(this._b,4),q.writeInt32LE(this._c,8),q.writeInt32LE(this._d,12),q.writeInt32LE(this._e,16),q},ye.exports=v},81725:(ye,I,A)=>{ye.exports=function $(U,K,y){if("number"!=typeof K)throw new Error("second argument must be a Number");let T,w,x,R,k,N,v=!0;function M(L){function G(){y&&y(L,T),y=null}v?O(G):G()}function P(L,G,B){if(T[L]=B,G&&(k=!0),0==--x||G)M(G);else if(!k&&N<w){let q;R?(q=R[N],N+=1,U[q](function(X,Q){P(q,X,Q)})):(q=N,N+=1,U[q](function(X,Q){P(q,X,Q)}))}}Array.isArray(U)?(T=[],x=w=U.length):(R=Object.keys(U),T={},x=w=R.length),N=K,x?R?R.some(function(L,G){return U[L](function(B,q){P(L,B,q)}),G===K-1}):U.some(function(L,G){return L(function(B,q){P(G,B,q)}),G===K-1}):M(null),v=!1};const O=A(24515)},84412:(ye,I,A)=>{"use strict";A.d(I,{t:()=>$});var O=A(21413);class $ extends O.B{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const y=super._subscribe(K);return!y.closed&&K.next(this._value),y}getValue(){const{hasError:K,thrownError:y,_value:T}=this;if(K)throw y;return this._throwIfClosed(),T}next(K){super.next(this._value=K)}}},71985:(ye,I,A)=>{"use strict";A.d(I,{c:()=>x});var O=A(47707),$=A(18359),U=A(3494),K=A(71203),y=A(41026),T=A(98071),w=A(49786);let x=(()=>{class N{constructor(P){P&&(this._subscribe=P)}lift(P){const L=new N;return L.source=this,L.operator=P,L}subscribe(P,L,G){const B=function v(N){return N&&N instanceof O.vU||function k(N){return N&&(0,T.T)(N.next)&&(0,T.T)(N.error)&&(0,T.T)(N.complete)}(N)&&(0,$.Uv)(N)}(P)?P:new O.Ms(P,L,G);return(0,w.Y)(()=>{const{operator:q,source:X}=this;B.add(q?q.call(B,X):X?this._subscribe(B):this._trySubscribe(B))}),B}_trySubscribe(P){try{return this._subscribe(P)}catch(L){P.error(L)}}forEach(P,L){return new(L=R(L))((G,B)=>{const q=new O.Ms({next:X=>{try{P(X)}catch(Q){B(Q),q.unsubscribe()}},error:B,complete:G});this.subscribe(q)})}_subscribe(P){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(P)}[U.s](){return this}pipe(...P){return(0,K.m)(P)(this)}toPromise(P){return new(P=R(P))((L,G)=>{let B;this.subscribe(q=>B=q,q=>G(q),()=>L(B))})}}return N.create=M=>new N(M),N})();function R(N){var M;return null!==(M=N??y.$.Promise)&&void 0!==M?M:Promise}},21413:(ye,I,A)=>{"use strict";A.d(I,{B:()=>w});var O=A(71985),$=A(18359);const K=(0,A(81853).L)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var y=A(57908),T=A(49786);let w=(()=>{class R extends O.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(v){const N=new x(this,this);return N.operator=v,N}_throwIfClosed(){if(this.closed)throw new K}next(v){(0,T.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const N of this.currentObservers)N.next(v)}})}error(v){(0,T.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=v;const{observers:N}=this;for(;N.length;)N.shift().error(v)}})}complete(){(0,T.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:v}=this;for(;v.length;)v.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0}_trySubscribe(v){return this._throwIfClosed(),super._trySubscribe(v)}_subscribe(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)}_innerSubscribe(v){const{hasError:N,isStopped:M,observers:P}=this;return N||M?$.Kn:(this.currentObservers=null,P.push(v),new $.yU(()=>{this.currentObservers=null,(0,y.o)(P,v)}))}_checkFinalizedStatuses(v){const{hasError:N,thrownError:M,isStopped:P}=this;N?v.error(M):P&&v.complete()}asObservable(){const v=new O.c;return v.source=this,v}}return R.create=(k,v)=>new x(k,v),R})();class x extends w{constructor(k,v){super(),this.destination=k,this.source=v}next(k){var v,N;null===(N=null===(v=this.destination)||void 0===v?void 0:v.next)||void 0===N||N.call(v,k)}error(k){var v,N;null===(N=null===(v=this.destination)||void 0===v?void 0:v.error)||void 0===N||N.call(v,k)}complete(){var k,v;null===(v=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===v||v.call(k)}_subscribe(k){var v,N;return null!==(N=null===(v=this.source)||void 0===v?void 0:v.subscribe(k))&&void 0!==N?N:$.Kn}}},47707:(ye,I,A)=>{"use strict";A.d(I,{Ms:()=>G,vU:()=>N});var O=A(98071),$=A(18359),U=A(41026),K=A(45334),y=A(85343);const T=R("C",void 0,void 0);function R(te,ie,ae){return{kind:te,value:ie,error:ae}}var k=A(19270),v=A(49786);class N extends $.yU{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,$.Uv)(ie)&&ie.add(this)):this.destination=Q}static create(ie,ae,me){return new G(ie,ae,me)}next(ie){this.isStopped?X(function x(te){return R("N",te,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?X(function w(te){return R("E",void 0,te)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?X(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function P(te,ie){return M.call(te,ie)}class L{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:ae}=this;if(ae.next)try{ae.next(ie)}catch(me){B(me)}}error(ie){const{partialObserver:ae}=this;if(ae.error)try{ae.error(ie)}catch(me){B(me)}else B(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(ae){B(ae)}}}class G extends N{constructor(ie,ae,me){let ge;if(super(),(0,O.T)(ie)||!ie)ge={next:ie??void 0,error:ae??void 0,complete:me??void 0};else{let de;this&&U.$.useDeprecatedNextContext?(de=Object.create(ie),de.unsubscribe=()=>this.unsubscribe(),ge={next:ie.next&&P(ie.next,de),error:ie.error&&P(ie.error,de),complete:ie.complete&&P(ie.complete,de)}):ge=ie}this.destination=new L(ge)}}function B(te){U.$.useDeprecatedSynchronousErrorHandling?(0,v.l)(te):(0,K.m)(te)}function X(te,ie){const{onStoppedNotification:ae}=U.$;ae&&k.f.setTimeout(()=>ae(te,ie))}const Q={closed:!0,next:y.l,error:function q(te){throw te},complete:y.l}},18359:(ye,I,A)=>{"use strict";A.d(I,{Kn:()=>T,yU:()=>y,Uv:()=>w});var O=A(98071);const U=(0,A(81853).L)(R=>function(v){R(this),this.message=v?`${v.length} errors occurred during unsubscription:\n${v.map((N,M)=>`${M+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=v});var K=A(57908);class y{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:v}=this;if(v)if(this._parentage=null,Array.isArray(v))for(const P of v)P.remove(this);else v.remove(this);const{initialTeardown:N}=this;if((0,O.T)(N))try{N()}catch(P){k=P instanceof U?P.errors:[P]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const P of M)try{x(P)}catch(L){k=k??[],L instanceof U?k=[...k,...L.errors]:k.push(L)}}if(k)throw new U(k)}}add(k){var v;if(k&&k!==this)if(this.closed)x(k);else{if(k instanceof y){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(k)}}_hasParent(k){const{_parentage:v}=this;return v===k||Array.isArray(v)&&v.includes(k)}_addParent(k){const{_parentage:v}=this;this._parentage=Array.isArray(v)?(v.push(k),v):v?[v,k]:k}_removeParent(k){const{_parentage:v}=this;v===k?this._parentage=null:Array.isArray(v)&&(0,K.o)(v,k)}remove(k){const{_finalizers:v}=this;v&&(0,K.o)(v,k),k instanceof y&&k._removeParent(this)}}y.EMPTY=(()=>{const R=new y;return R.closed=!0,R})();const T=y.EMPTY;function w(R){return R instanceof y||R&&"closed"in R&&(0,O.T)(R.remove)&&(0,O.T)(R.add)&&(0,O.T)(R.unsubscribe)}function x(R){(0,O.T)(R)?R():R.unsubscribe()}},41026:(ye,I,A)=>{"use strict";A.d(I,{$:()=>O});const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},54360:(ye,I,A)=>{"use strict";A.d(I,{_:()=>$});var O=A(47707);function $(K,y,T,w,x){return new U(K,y,T,w,x)}class U extends O.vU{constructor(y,T,w,x,R,k){super(y),this.onFinalize=R,this.shouldUnsubscribe=k,this._next=T?function(v){try{T(v)}catch(N){y.error(N)}}:super._next,this._error=x?function(v){try{x(v)}catch(N){y.error(N)}finally{this.unsubscribe()}}:super._error,this._complete=w?function(){try{w()}catch(v){y.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:T}=this;super.unsubscribe(),!T&&(null===(y=this.onFinalize)||void 0===y||y.call(this))}}}},96354:(ye,I,A)=>{"use strict";A.d(I,{T:()=>U});var O=A(39974),$=A(54360);function U(K,y){return(0,O.N)((T,w)=>{let x=0;T.subscribe((0,$._)(w,R=>{w.next(K.call(y,R,x++))}))})}},19270:(ye,I,A)=>{"use strict";A.d(I,{f:()=>O});const O={setTimeout($,U,...K){const{delegate:y}=O;return y?.setTimeout?y.setTimeout($,U,...K):setTimeout($,U,...K)},clearTimeout($){const{delegate:U}=O;return(U?.clearTimeout||clearTimeout)($)},delegate:void 0}},3494:(ye,I,A)=>{"use strict";A.d(I,{s:()=>O});const O="function"==typeof Symbol&&Symbol.observable||"@@observable"},57908:(ye,I,A)=>{"use strict";function O($,U){if($){const K=$.indexOf(U);0<=K&&$.splice(K,1)}}A.d(I,{o:()=>O})},81853:(ye,I,A)=>{"use strict";function O($){const K=$(y=>{Error.call(y),y.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}A.d(I,{L:()=>O})},49786:(ye,I,A)=>{"use strict";A.d(I,{Y:()=>U,l:()=>K});var O=A(41026);let $=null;function U(y){if(O.$.useDeprecatedSynchronousErrorHandling){const T=!$;if(T&&($={errorThrown:!1,error:null}),y(),T){const{errorThrown:w,error:x}=$;if($=null,w)throw x}}else y()}function K(y){O.$.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=y)}},33669:(ye,I,A)=>{"use strict";function O($){return $}A.d(I,{D:()=>O})},98071:(ye,I,A)=>{"use strict";function O($){return"function"==typeof $}A.d(I,{T:()=>O})},39974:(ye,I,A)=>{"use strict";A.d(I,{N:()=>U,S:()=>$});var O=A(98071);function $(K){return(0,O.T)(K?.lift)}function U(K){return y=>{if($(y))return y.lift(function(T){try{return K(T,this)}catch(w){this.error(w)}});throw new TypeError("Unable to lift unknown Observable type")}}},85343:(ye,I,A)=>{"use strict";function O(){}A.d(I,{l:()=>O})},71203:(ye,I,A)=>{"use strict";A.d(I,{F:()=>$,m:()=>U});var O=A(33669);function $(...K){return U(K)}function U(K){return 0===K.length?O.D:1===K.length?K[0]:function(T){return K.reduce((w,x)=>x(w),T)}}},45334:(ye,I,A)=>{"use strict";A.d(I,{m:()=>U});var O=A(41026),$=A(19270);function U(K){$.f.setTimeout(()=>{const{onUnhandledError:y}=O.$;if(!y)throw K;y(K)})}},27054:(ye,I,A)=>{var O=A(83838),$=O.Buffer;function U(y,T){for(var w in y)T[w]=y[w]}function K(y,T,w){return $(y,T,w)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?ye.exports=O:(U(O,I),I.Buffer=K),K.prototype=Object.create($.prototype),U($,K),K.from=function(y,T,w){if("number"==typeof y)throw new TypeError("Argument must not be a number");return $(y,T,w)},K.alloc=function(y,T,w){if("number"!=typeof y)throw new TypeError("Argument must be a number");var x=$(y);return void 0!==T?"string"==typeof w?x.fill(T,w):x.fill(T):x.fill(0),x},K.allocUnsafe=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return $(y)},K.allocUnsafeSlow=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return O.SlowBuffer(y)}},5202:(ye,I,A)=>{"use strict";var O=A(23020),$=A(53290),U=O("RegExp.prototype.exec"),K=A(46758);ye.exports=function(T){if(!$(T))throw new K("`regex` must be a RegExp");return function(x){return null!==U(T,x)}}},31358:(ye,I,A)=>{"use strict";var O=A(90258),$=A(92736),U=A(35861)(),K=A(83798),y=A(46758),T=O("%Math.floor%");ye.exports=function(x,R){if("function"!=typeof x)throw new y("`fn` is not a function");if("number"!=typeof R||R<0||R>4294967295||T(R)!==R)throw new y("`length` must be a positive 32-bit integer");var k=arguments.length>2&&!!arguments[2],v=!0,N=!0;if("length"in x&&K){var M=K(x,"length");M&&!M.configurable&&(v=!1),M&&!M.writable&&(N=!1)}return(v||N||!k)&&(U?$(x,"length",R,!0,!0):$(x,"length",R)),x}},56469:(ye,I,A)=>{"use strict";var O=A(92736),$=A(35861)(),U=A(64003).functionsHaveConfigurableNames(),K=A(46758);ye.exports=function(T,w){if("function"!=typeof T)throw new K("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||U)&&($?O(T,"name",w,!0,!0):O(T,"name",w)),T}},70463:(ye,I,A)=>{var O=A(27054).Buffer;function $(U,K){this._block=O.alloc(U),this._finalSize=K,this._blockSize=U,this._len=0}$.prototype.update=function(U,K){"string"==typeof U&&(U=O.from(U,K=K||"utf8"));for(var y=this._block,T=this._blockSize,w=U.length,x=this._len,R=0;R<w;){for(var k=x%T,v=Math.min(w-R,T-k),N=0;N<v;N++)y[k+N]=U[R+N];R+=v,(x+=v)%T==0&&this._update(y)}return this._len+=w,this},$.prototype.digest=function(U){var K=this._len%this._blockSize;this._block[K]=128,this._block.fill(0,K+1),K>=this._finalSize&&(this._update(this._block),this._block.fill(0));var y=8*this._len;if(y<=4294967295)this._block.writeUInt32BE(y,this._blockSize-4);else{var T=(4294967295&y)>>>0;this._block.writeUInt32BE((y-T)/4294967296,this._blockSize-8),this._block.writeUInt32BE(T,this._blockSize-4)}this._update(this._block);var x=this._hash();return U?x.toString(U):x},$.prototype._update=function(){throw new Error("_update must be implemented by subclass")},ye.exports=$},25443:(ye,I,A)=>{var O=ye.exports=function(U){U=U.toLowerCase();var K=O[U];if(!K)throw new Error(U+" is not supported (we accept pull requests)");return new K};O.sha=A(48585),O.sha1=A(21270),O.sha224=A(42709),O.sha256=A(32148),O.sha384=A(51856),O.sha512=A(3121)},48585:(ye,I,A)=>{var O=A(71993),$=A(70463),U=A(27054).Buffer,K=[1518500249,1859775393,-1894007588,-899497514],y=new Array(80);function T(){this.init(),this._w=y,$.call(this,64,56)}function w(k){return k<<5|k>>>27}function x(k){return k<<30|k>>>2}function R(k,v,N,M){return 0===k?v&N|~v&M:2===k?v&N|v&M|N&M:v^N^M}O(T,$),T.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},T.prototype._update=function(k){for(var v=this._w,N=0|this._a,M=0|this._b,P=0|this._c,L=0|this._d,G=0|this._e,B=0;B<16;++B)v[B]=k.readInt32BE(4*B);for(;B<80;++B)v[B]=v[B-3]^v[B-8]^v[B-14]^v[B-16];for(var q=0;q<80;++q){var X=~~(q/20),Q=w(N)+R(X,M,P,L)+G+v[q]+K[X]|0;G=L,L=P,P=x(M),M=N,N=Q}this._a=N+this._a|0,this._b=M+this._b|0,this._c=P+this._c|0,this._d=L+this._d|0,this._e=G+this._e|0},T.prototype._hash=function(){var k=U.allocUnsafe(20);return k.writeInt32BE(0|this._a,0),k.writeInt32BE(0|this._b,4),k.writeInt32BE(0|this._c,8),k.writeInt32BE(0|this._d,12),k.writeInt32BE(0|this._e,16),k},ye.exports=T},21270:(ye,I,A)=>{var O=A(71993),$=A(70463),U=A(27054).Buffer,K=[1518500249,1859775393,-1894007588,-899497514],y=new Array(80);function T(){this.init(),this._w=y,$.call(this,64,56)}function w(v){return v<<1|v>>>31}function x(v){return v<<5|v>>>27}function R(v){return v<<30|v>>>2}function k(v,N,M,P){return 0===v?N&M|~N&P:2===v?N&M|N&P|M&P:N^M^P}O(T,$),T.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},T.prototype._update=function(v){for(var N=this._w,M=0|this._a,P=0|this._b,L=0|this._c,G=0|this._d,B=0|this._e,q=0;q<16;++q)N[q]=v.readInt32BE(4*q);for(;q<80;++q)N[q]=w(N[q-3]^N[q-8]^N[q-14]^N[q-16]);for(var X=0;X<80;++X){var Q=~~(X/20),te=x(M)+k(Q,P,L,G)+B+N[X]+K[Q]|0;B=G,G=L,L=R(P),P=M,M=te}this._a=M+this._a|0,this._b=P+this._b|0,this._c=L+this._c|0,this._d=G+this._d|0,this._e=B+this._e|0},T.prototype._hash=function(){var v=U.allocUnsafe(20);return v.writeInt32BE(0|this._a,0),v.writeInt32BE(0|this._b,4),v.writeInt32BE(0|this._c,8),v.writeInt32BE(0|this._d,12),v.writeInt32BE(0|this._e,16),v},ye.exports=T},42709:(ye,I,A)=>{var O=A(71993),$=A(32148),U=A(70463),K=A(27054).Buffer,y=new Array(64);function T(){this.init(),this._w=y,U.call(this,64,56)}O(T,$),T.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},T.prototype._hash=function(){var w=K.allocUnsafe(28);return w.writeInt32BE(this._a,0),w.writeInt32BE(this._b,4),w.writeInt32BE(this._c,8),w.writeInt32BE(this._d,12),w.writeInt32BE(this._e,16),w.writeInt32BE(this._f,20),w.writeInt32BE(this._g,24),w},ye.exports=T},32148:(ye,I,A)=>{var O=A(71993),$=A(70463),U=A(27054).Buffer,K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=new Array(64);function T(){this.init(),this._w=y,$.call(this,64,56)}function w(M,P,L){return L^M&(P^L)}function x(M,P,L){return M&P|L&(M|P)}function R(M){return(M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10)}function k(M){return(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7)}function v(M){return(M>>>7|M<<25)^(M>>>18|M<<14)^M>>>3}function N(M){return(M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10}O(T,$),T.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},T.prototype._update=function(M){for(var P=this._w,L=0|this._a,G=0|this._b,B=0|this._c,q=0|this._d,X=0|this._e,Q=0|this._f,te=0|this._g,ie=0|this._h,ae=0;ae<16;++ae)P[ae]=M.readInt32BE(4*ae);for(;ae<64;++ae)P[ae]=N(P[ae-2])+P[ae-7]+v(P[ae-15])+P[ae-16]|0;for(var me=0;me<64;++me){var ge=ie+k(X)+w(X,Q,te)+K[me]+P[me]|0,de=R(L)+x(L,G,B)|0;ie=te,te=Q,Q=X,X=q+ge|0,q=B,B=G,G=L,L=ge+de|0}this._a=L+this._a|0,this._b=G+this._b|0,this._c=B+this._c|0,this._d=q+this._d|0,this._e=X+this._e|0,this._f=Q+this._f|0,this._g=te+this._g|0,this._h=ie+this._h|0},T.prototype._hash=function(){var M=U.allocUnsafe(32);return M.writeInt32BE(this._a,0),M.writeInt32BE(this._b,4),M.writeInt32BE(this._c,8),M.writeInt32BE(this._d,12),M.writeInt32BE(this._e,16),M.writeInt32BE(this._f,20),M.writeInt32BE(this._g,24),M.writeInt32BE(this._h,28),M},ye.exports=T},51856:(ye,I,A)=>{var O=A(71993),$=A(3121),U=A(70463),K=A(27054).Buffer,y=new Array(160);function T(){this.init(),this._w=y,U.call(this,128,112)}O(T,$),T.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},T.prototype._hash=function(){var w=K.allocUnsafe(48);function x(R,k,v){w.writeInt32BE(R,v),w.writeInt32BE(k,v+4)}return x(this._ah,this._al,0),x(this._bh,this._bl,8),x(this._ch,this._cl,16),x(this._dh,this._dl,24),x(this._eh,this._el,32),x(this._fh,this._fl,40),w},ye.exports=T},3121:(ye,I,A)=>{var O=A(71993),$=A(70463),U=A(27054).Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);function T(){this.init(),this._w=y,$.call(this,128,112)}function w(G,B,q){return q^G&(B^q)}function x(G,B,q){return G&B|q&(G|B)}function R(G,B){return(G>>>28|B<<4)^(B>>>2|G<<30)^(B>>>7|G<<25)}function k(G,B){return(G>>>14|B<<18)^(G>>>18|B<<14)^(B>>>9|G<<23)}function v(G,B){return(G>>>1|B<<31)^(G>>>8|B<<24)^G>>>7}function N(G,B){return(G>>>1|B<<31)^(G>>>8|B<<24)^(G>>>7|B<<25)}function M(G,B){return(G>>>19|B<<13)^(B>>>29|G<<3)^G>>>6}function P(G,B){return(G>>>19|B<<13)^(B>>>29|G<<3)^(G>>>6|B<<26)}function L(G,B){return G>>>0<B>>>0?1:0}O(T,$),T.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},T.prototype._update=function(G){for(var B=this._w,q=0|this._ah,X=0|this._bh,Q=0|this._ch,te=0|this._dh,ie=0|this._eh,ae=0|this._fh,me=0|this._gh,ge=0|this._hh,de=0|this._al,z=0|this._bl,d=0|this._cl,f=0|this._dl,b=0|this._el,C=0|this._fl,D=0|this._gl,V=0|this._hl,Y=0;Y<32;Y+=2)B[Y]=G.readInt32BE(4*Y),B[Y+1]=G.readInt32BE(4*Y+4);for(;Y<160;Y+=2){var F=B[Y-30],h=B[Y-30+1],g=v(F,h),J=N(h,F),ee=M(F=B[Y-4],h=B[Y-4+1]),re=P(h,F),Me=B[Y-32],Le=B[Y-32+1],Ee=J+B[Y-14+1]|0,Se=g+B[Y-14]+L(Ee,J)|0;Se=(Se=Se+ee+L(Ee=Ee+re|0,re)|0)+Me+L(Ee=Ee+Le|0,Le)|0,B[Y]=Se,B[Y+1]=Ee}for(var He=0;He<160;He+=2){Se=B[He],Ee=B[He+1];var Te=x(q,X,Q),u=x(de,z,d),xe=R(q,de),be=R(de,q),_e=k(ie,b),Ce=k(b,ie),ke=K[He],ze=K[He+1],Ne=w(ie,ae,me),We=w(b,C,D),Ye=V+Ce|0,wt=ge+_e+L(Ye,V)|0;wt=(wt=(wt=wt+Ne+L(Ye=Ye+We|0,We)|0)+ke+L(Ye=Ye+ze|0,ze)|0)+Se+L(Ye=Ye+Ee|0,Ee)|0;var mt=be+u|0,rt=xe+Te+L(mt,be)|0;ge=me,V=D,me=ae,D=C,ae=ie,C=b,ie=te+wt+L(b=f+Ye|0,f)|0,te=Q,f=d,Q=X,d=z,X=q,z=de,q=wt+rt+L(de=Ye+mt|0,Ye)|0}this._al=this._al+de|0,this._bl=this._bl+z|0,this._cl=this._cl+d|0,this._dl=this._dl+f|0,this._el=this._el+b|0,this._fl=this._fl+C|0,this._gl=this._gl+D|0,this._hl=this._hl+V|0,this._ah=this._ah+q+L(this._al,de)|0,this._bh=this._bh+X+L(this._bl,z)|0,this._ch=this._ch+Q+L(this._cl,d)|0,this._dh=this._dh+te+L(this._dl,f)|0,this._eh=this._eh+ie+L(this._el,b)|0,this._fh=this._fh+ae+L(this._fl,C)|0,this._gh=this._gh+me+L(this._gl,D)|0,this._hh=this._hh+ge+L(this._hl,V)|0},T.prototype._hash=function(){var G=U.allocUnsafe(64);function B(q,X,Q){G.writeInt32BE(q,Q),G.writeInt32BE(X,Q+4)}return B(this._ah,this._al,0),B(this._bh,this._bl,8),B(this._ch,this._cl,16),B(this._dh,this._dl,24),B(this._eh,this._el,32),B(this._fh,this._fl,40),B(this._gh,this._gl,48),B(this._hh,this._hl,56),G},ye.exports=T},3541:(ye,I,A)=>{"use strict";var O=A(90258),$=A(23020),U=A(89150),K=A(46758),y=O("%WeakMap%",!0),T=O("%Map%",!0),w=$("WeakMap.prototype.get",!0),x=$("WeakMap.prototype.set",!0),R=$("WeakMap.prototype.has",!0),k=$("Map.prototype.get",!0),v=$("Map.prototype.set",!0),N=$("Map.prototype.has",!0),M=function(B,q){for(var Q,X=B;null!==(Q=X.next);X=Q)if(Q.key===q)return X.next=Q.next,Q.next=B.next,B.next=Q,Q};ye.exports=function(){var q,X,Q,te={assert:function(ie){if(!te.has(ie))throw new K("Side channel does not contain "+U(ie))},get:function(ie){if(y&&ie&&("object"==typeof ie||"function"==typeof ie)){if(q)return w(q,ie)}else if(T){if(X)return k(X,ie)}else if(Q)return function(B,q){var X=M(B,q);return X&&X.value}(Q,ie)},has:function(ie){if(y&&ie&&("object"==typeof ie||"function"==typeof ie)){if(q)return R(q,ie)}else if(T){if(X)return N(X,ie)}else if(Q)return function(B,q){return!!M(B,q)}(Q,ie);return!1},set:function(ie,ae){y&&ie&&("object"==typeof ie||"function"==typeof ie)?(q||(q=new y),x(q,ie,ae)):T?(X||(X=new T),v(X,ie,ae)):(Q||(Q={key:{},next:null}),function(B,q,X){var Q=M(B,q);Q?Q.value=X:B.next={key:q,next:B.next,value:X}}(Q,ie,ae))}};return te}},18876:ye=>{"use strict";function A(K,y){return K+O(y)}function O(K){let y=K;return y-=y>>1&1431655765,y=(858993459&y)+(y>>2&858993459),16843009*(y+(y>>4)&252645135)>>24}function $(K,y){return K[0]-y[0]}function U(K){return K[1]}ye.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(y,T){let w=this._internalPositionFor(y,!1);if(void 0===T)-1!==w&&(this._unsetInternalPos(w),this._unsetBit(y),this._changedLength=!0,this._changedData=!0);else{let x=!1;-1===w?(w=this._data.length,this._setBit(y),this._changedData=!0):x=!0,this._setInternalPos(w,y,T,x),this._changedLength=!0}}unset(y){this.set(y,void 0)}get(y){this._sortData();const T=this._internalPositionFor(y,!0);if(-1!==T)return this._data[T][1]}push(y){return this.set(this.length,y),this.length}get length(){if(this._sortData(),this._changedLength){const y=this._data[this._data.length-1];this._length=y?y[0]+1:0,this._changedLength=!1}return this._length}forEach(y){let T=0;for(;T<this.length;)y(this.get(T),T,this),T++}map(y){let T=0,w=new Array(this.length);for(;T<this.length;)w[T]=y(this.get(T),T,this),T++;return w}reduce(y,T){let w=0,x=T;for(;w<this.length;)x=y(x,this.get(w),w),w++;return x}find(y){let w,x,T=0;for(;T<this.length&&!w;)x=this.get(T),w=y(x),T++;return w?x:void 0}_internalPositionFor(y,T){const w=this._bytePosFor(y,T);if(w>=this._bitArrays.length)return-1;const x=this._bitArrays[w],R=y-7*w;return(x&1<<R)>0?this._bitArrays.slice(0,w).reduce(A,0)+O(x&~(4294967295<<R+1))-1:-1}_bytePosFor(y,T){const w=Math.floor(y/7),x=w+1;for(;!T&&this._bitArrays.length<x;)this._bitArrays.push(0);return w}_setBit(y){const T=this._bytePosFor(y,!1);this._bitArrays[T]|=1<<y-7*T}_unsetBit(y){const T=this._bytePosFor(y,!1);this._bitArrays[T]&=~(1<<y-7*T)}_setInternalPos(y,T,w,x){const R=this._data,k=[T,w];if(x)this._sortData(),R[y]=k;else{if(R.length)if(R[R.length-1][0]>=T)R.push(k);else if(R[0][0]<=T)R.unshift(k);else{const v=Math.round(R.length/2);this._data=R.slice(0,v).concat(k).concat(R.slice(v))}else this._data.push(k);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(y){this._data.splice(y,1)}_sortData(){this._changedData&&this._data.sort($),this._changedData=!1}bitField(){const y=[];let R,T=8,w=0,x=0;const k=this._bitArrays.slice();for(;k.length||w;){0===w&&(R=k.shift(),w=7);const N=Math.min(w,T);x|=(R&~(255<<N))<<8-T,R>>>=N,w-=N,T-=N,(!T||!w&&!k.length)&&(y.push(x),x=0,T=8)}for(var v=y.length-1;v>0&&0===y[v];v--)y.pop();return y}compactArray(){return this._sortData(),this._data.map(U)}}},18911:(ye,I,A)=>{var O=A(46096).cM;ye.exports=function($,U){U||(U={});var K={},y=function T(w,x){if("Literal"===w.type)return w.value;if("UnaryExpression"===w.type){var R=T(w.argument);return"+"===w.operator?+R:"-"===w.operator?-R:"~"===w.operator?~R:"!"===w.operator?!R:K}if("ArrayExpression"===w.type){for(var k=[],v=0,N=w.elements.length;v<N;v++){if((M=T(w.elements[v]))===K)return K;k.push(M)}return k}if("ObjectExpression"===w.type){var P={};for(v=0;v<w.properties.length;v++){var G=null===(L=w.properties[v]).value?L.value:T(L.value);if(G===K)return K;P[L.key.value||L.key.name]=G}return P}if("BinaryExpression"===w.type||"LogicalExpression"===w.type){if((N=T(w.left))===K)return K;var B=T(w.right);if(B===K)return K;var q=w.operator;return"=="===q?N==B:"==="===q?N===B:"!="===q?N!=B:"!=="===q?N!==B:"+"===q?N+B:"-"===q?N-B:"*"===q?N*B:"/"===q?N/B:"%"===q?N%B:"<"===q?N<B:"<="===q?N<=B:">"===q?N>B:">="===q?N>=B:"|"===q?N|B:"&"===q?N&B:"^"===q?N^B:"&&"===q?N&&B:"||"===q?N||B:K}if("Identifier"===w.type)return{}.hasOwnProperty.call(U,w.name)?U[w.name]:K;if("ThisExpression"===w.type)return{}.hasOwnProperty.call(U,"this")?U.this:K;if("CallExpression"===w.type){var X=T(w.callee);if(X===K||"function"!=typeof X)return K;var Q=w.callee.object?T(w.callee.object):K;Q===K&&(Q=null);var te=[];for(v=0,N=w.arguments.length;v<N;v++){var M;if((M=T(w.arguments[v]))===K)return K;te.push(M)}return X.apply(Q,te)}var L;if("MemberExpression"===w.type)return(P=T(w.object))===K||"function"==typeof P?K:"Identifier"===w.property.type?P[w.property.name]:(L=T(w.property))===K?K:P[L];if("ConditionalExpression"===w.type)return(R=T(w.test))===K?K:T(R?w.consequent:w.alternate);if("ExpressionStatement"===w.type)return(R=T(w.expression))===K?K:R;if("ReturnStatement"===w.type)return T(w.argument);if("FunctionExpression"===w.type){var ie=w.body.body,ae={};for(Object.keys(U).forEach(function(D){ae[D]=U[D]}),v=0;v<w.params.length;v++){var me=w.params[v];if("Identifier"!=me.type)return K;U[me.name]=null}for(var v in ie)if(T(ie[v])===K)return K;U=ae;var ge=Object.keys(U),de=ge.map(function(D){return U[D]});return Function(ge.join(", "),"return "+O(w)).apply(null,de)}if("TemplateLiteral"===w.type){var z="";for(v=0;v<w.expressions.length;v++)z+=T(w.quasis[v]),z+=T(w.expressions[v]);return z+T(w.quasis[v])}if("TaggedTemplateExpression"===w.type){var d=T(w.tag),f=w.quasi,b=f.quasis.map(T),C=f.expressions.map(T);return d.apply(null,[b].concat(C))}return"TemplateElement"===w.type?w.value.cooked:K}($);return y===K?void 0:y}},14792:(ye,I,A)=>{var O=A(19532);function $(){O.call(this)}$.prototype=new O,ye.exports=$,$.Stream=$,$.prototype.pipe=function(U,K){var y=this;function T(M){U.writable&&!1===U.write(M)&&y.pause&&y.pause()}function w(){y.readable&&y.resume&&y.resume()}y.on("data",T),U.on("drain",w),!U._isStdio&&(!K||!1!==K.end)&&(y.on("end",R),y.on("close",k));var x=!1;function R(){x||(x=!0,U.end())}function k(){x||(x=!0,"function"==typeof U.destroy&&U.destroy())}function v(M){if(N(),!this.hasListeners("error"))throw M}function N(){y.off("data",T),U.off("drain",w),y.off("end",R),y.off("close",k),y.off("error",v),U.off("error",v),y.off("end",N),y.off("close",N),U.off("end",N),U.off("close",N)}return y.on("error",v),U.on("error",v),y.on("end",N),y.on("close",N),U.on("end",N),U.on("close",N),U.emit("pipe",y),U}},20571:(ye,I,A)=>{"use strict";var O=A(98683),$=A(48527),U=A(33602),K=A(84706),y=A(88535),T=A(34813),w=A(23020),x=A(19900)(),R=A(55864),k=A(90258),v=A(46758),N=k("%RegExp%"),M=w("String.prototype.indexOf"),P=A(73995),L=function(B){var q=P();if(x&&"symbol"==typeof Symbol.matchAll){var X=U(B,Symbol.matchAll);return X===N.prototype[Symbol.matchAll]&&X!==q?q:X}if(K(B))return q};ye.exports=function(B){var q=T(this);if(typeof B<"u"&&null!==B){if(K(B)){var Q="flags"in B?$(B,"flags"):R(B);if(T(Q),M(y(Q),"g")<0)throw new v("matchAll requires a global regular expression")}var te=L(B);if(typeof te<"u")return O(te,B,[q])}var ie=y(q),ae=new N(B,"g");return O(L(ae),ae,[ie])}},72373:(ye,I,A)=>{"use strict";var O=A(48128),$=A(947),U=A(20571),K=A(40082),y=A(928),T=O(U);$(T,{getPolyfill:K,implementation:U,shim:y}),ye.exports=T},73995:(ye,I,A)=>{"use strict";var O=A(19900)(),$=A(88153);ye.exports=function(){return O&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:$}},40082:(ye,I,A)=>{"use strict";var O=A(20571);ye.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return O}},88153:(ye,I,A)=>{"use strict";var O=A(87045),$=A(48527),U=A(72459),K=A(50149),y=A(51382),T=A(88535),w=A(80035),x=A(55864),R=A(56469),k=A(23020),v=A(90258),N=A(46758),M=k("String.prototype.indexOf"),P=v("%RegExp%"),L="flags"in P.prototype,B=R(function(X){var Q=this;if("Object"!==w(Q))throw new N('"this" value must be an Object');var te=T(X),ae=function(X,Q){var ie="flags"in Q?$(Q,"flags"):T(x(Q));return{flags:ie,matcher:new X(L&&"string"==typeof ie?Q:X===P?Q.source:Q,ie)}}(K(Q,P),Q),me=ae.flags,ge=ae.matcher,de=y($(Q,"lastIndex"));U(ge,"lastIndex",de,!0);var z=M(me,"g")>-1,d=M(me,"u")>-1;return O(ge,te,z,d)},"[Symbol.matchAll]",!0);ye.exports=B},928:(ye,I,A)=>{"use strict";var O=A(947),$=A(19900)(),U=A(83798),K=A(40082),y=A(73995),T=Object.defineProperty;ye.exports=function(){var x=K();if(O(String.prototype,{matchAll:x},{matchAll:function(){return String.prototype.matchAll!==x}}),$){var R=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(O(Symbol,{matchAll:R},{matchAll:function(){return Symbol.matchAll!==R}}),T&&U){var k=U(Symbol,R);(!k||k.configurable)&&T(Symbol,R,{configurable:!1,enumerable:!1,value:R,writable:!1})}var v=y(),N={};N[R]=v;var M={};M[R]=function(){return RegExp.prototype[R]!==v},O(RegExp.prototype,N,M)}return x}},90343:(ye,I,A)=>{"use strict";var O=A(34813),$=A(88535),K=A(23020)("String.prototype.replace"),y=/^\s$/.test("\u180e"),T=y?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,w=y?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;ye.exports=function(){var R=$(O(this));return K(K(R,T,""),w,"")}},36913:(ye,I,A)=>{"use strict";var O=A(48128),$=A(947),U=A(34813),K=A(90343),y=A(12054),T=A(98452),w=O(y()),x=function(k){return U(k),w(k)};$(x,{getPolyfill:y,implementation:K,shim:T}),ye.exports=x},12054:(ye,I,A)=>{"use strict";var O=A(90343);ye.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:O}},98452:(ye,I,A)=>{"use strict";var O=A(947),$=A(12054);ye.exports=function(){var K=$();return O(String.prototype,{trim:K},{trim:function(){return String.prototype.trim!==K}}),K}},78454:(ye,I,A)=>{"use strict";var O=A(27054).Buffer,$=O.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function y(q){var X;switch(this.encoding=function K(q){var X=function U(q){if(!q)return"utf8";for(var X;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(X)return;q=(""+q).toLowerCase(),X=!0}}(q);if("string"!=typeof X&&(O.isEncoding===$||!$(q)))throw new Error("Unknown encoding: "+q);return X||q}(q),this.encoding){case"utf16le":this.text=N,this.end=M,X=4;break;case"utf8":this.fillLast=R,X=4;break;case"base64":this.text=P,this.end=L,X=3;break;default:return this.write=G,void(this.end=B)}this.lastNeed=0,this.lastTotal=0,this.lastChar=O.allocUnsafe(X)}function T(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function R(q){var X=this.lastTotal-this.lastNeed,Q=function x(q,X){if(128!=(192&X[0]))return q.lastNeed=0,"\ufffd";if(q.lastNeed>1&&X.length>1){if(128!=(192&X[1]))return q.lastNeed=1,"\ufffd";if(q.lastNeed>2&&X.length>2&&128!=(192&X[2]))return q.lastNeed=2,"\ufffd"}}(this,q);return void 0!==Q?Q:this.lastNeed<=q.length?(q.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,X,0,q.length),void(this.lastNeed-=q.length))}function N(q,X){if((q.length-X)%2==0){var Q=q.toString("utf16le",X);if(Q){var te=Q.charCodeAt(Q.length-1);if(te>=55296&&te<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",X,q.length-1)}function M(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):X}function P(q,X){var Q=(q.length-X)%3;return 0===Q?q.toString("base64",X):(this.lastNeed=3-Q,this.lastTotal=3,1===Q?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",X,q.length-Q))}function L(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function G(q){return q.toString(this.encoding)}function B(q){return q&&q.length?this.write(q):""}I.StringDecoder=y,y.prototype.write=function(q){if(0===q.length)return"";var X,Q;if(this.lastNeed){if(void 0===(X=this.fillLast(q)))return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<q.length?X?X+this.text(q,Q):this.text(q,Q):X||""},y.prototype.end=function v(q){var X=q&&q.length?this.write(q):"";return this.lastNeed?X+"\ufffd":X},y.prototype.text=function k(q,X){var Q=function w(q,X,Q){var te=X.length-1;if(te<Q)return 0;var ie=T(X[te]);return ie>=0?(ie>0&&(q.lastNeed=ie-1),ie):--te<Q||-2===ie?0:(ie=T(X[te]))>=0?(ie>0&&(q.lastNeed=ie-2),ie):--te<Q||-2===ie?0:(ie=T(X[te]))>=0?(ie>0&&(2===ie?ie=0:q.lastNeed=ie-3),ie):0}(this,q,X);if(!this.lastNeed)return q.toString("utf8",X);this.lastTotal=Q;var te=q.length-(Q-this.lastNeed);return q.copy(this.lastChar,0,te),q.toString("utf8",X,te)},y.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},95568:function(ye,I){!function(A){"use strict";function O(){for(var ht=arguments.length,et=Array(ht),ut=0;ut<ht;ut++)et[ut]=arguments[ut];if(et.length>1){et[0]=et[0].slice(0,-1);for(var en=et.length-1,It=1;It<en;++It)et[It]=et[It].slice(1,-1);return et[en]=et[en].slice(1),et.join("")}return et[0]}function $(ht){return"(?:"+ht+")"}function U(ht){return void 0===ht?"undefined":null===ht?"null":Object.prototype.toString.call(ht).split(" ").pop().split("]").shift().toLowerCase()}function K(ht){return ht.toUpperCase()}function w(ht){var et="[A-Za-z]",en="[0-9]",qt=O(en,"[A-Fa-f]"),cn=$($("%[EFef]"+qt+"%"+qt+qt+"%"+qt+qt)+"|"+$("%[89A-Fa-f]"+qt+"%"+qt+qt)+"|"+$("%"+qt+qt)),jn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Bn=O("[\\:\\/\\?\\#\\[\\]\\@]",jn),Vn=ht?"[\\uE000-\\uF8FF]":"[]",nr=O(et,en,"[\\-\\.\\_\\~]",ht?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),tr=$(et+O(et,en,"[\\+\\-\\.]")+"*"),Xn=$($(cn+"|"+O(nr,jn,"[\\:]"))+"*"),Xr=($($("25[0-5]")+"|"+$("2[0-4]"+en)+"|"+$("1"+en+en)+"|"+$("[1-9]"+en)+"|"+en),$($("25[0-5]")+"|"+$("2[0-4]"+en)+"|"+$("1"+en+en)+"|"+$("0?[1-9]"+en)+"|0?0?"+en)),Rr=$(Xr+"\\."+Xr+"\\."+Xr+"\\."+Xr),Un=$(qt+"{1,4}"),Qn=$($(Un+"\\:"+Un)+"|"+Rr),Jr=$($(Un+"\\:")+"{6}"+Qn),Qr=$("\\:\\:"+$(Un+"\\:")+"{5}"+Qn),Tr=$($(Un)+"?\\:\\:"+$(Un+"\\:")+"{4}"+Qn),qn=$($($(Un+"\\:")+"{0,1}"+Un)+"?\\:\\:"+$(Un+"\\:")+"{3}"+Qn),$r=$($($(Un+"\\:")+"{0,2}"+Un)+"?\\:\\:"+$(Un+"\\:")+"{2}"+Qn),xi=$($($(Un+"\\:")+"{0,3}"+Un)+"?\\:\\:"+Un+"\\:"+Qn),Ti=$($($(Un+"\\:")+"{0,4}"+Un)+"?\\:\\:"+Qn),qs=$($($(Un+"\\:")+"{0,5}"+Un)+"?\\:\\:"+Un),vi=$($($(Un+"\\:")+"{0,6}"+Un)+"?\\:\\:"),Fo=$([Jr,Qr,Tr,qn,$r,xi,Ti,qs,vi].join("|")),tc=$($(nr+"|"+cn)+"+"),is=($(Fo+"\\%25"+tc),$(Fo+$("\\%25|\\%(?!"+qt+"{2})")+tc)),Xm=$("[vV]"+qt+"+\\."+O(nr,jn,"[\\:]")+"+"),jd=$("\\["+$(is+"|"+Fo+"|"+Xm)+"\\]"),La=$($(cn+"|"+O(nr,jn))+"*"),No=$(jd+"|"+Rr+"(?!"+La+")|"+La),Xo=$(en+"*"),Cc=$($(Xn+"@")+"?"+No+$("\\:"+Xo)+"?"),As=$(cn+"|"+O(nr,jn,"[\\:\\@]")),va=$(As+"*"),Ac=$(As+"+"),Hr=$($(cn+"|"+O(nr,jn,"[\\@]"))+"+"),ni=$($("\\/"+va)+"*"),Tc=$("\\/"+$(Ac+ni)+"?"),Zc=$(Hr+ni),Eu=$(Ac+ni),Jc="(?!"+As+")",nc=($(ni+"|"+Tc+"|"+Zc+"|"+Eu+"|"+Jc),$($(As+"|"+O("[\\/\\?]",Vn))+"*")),Vr=$($(As+"|[\\/\\?]")+"*"),ps=$($("\\/\\/"+Cc+ni)+"|"+Tc+"|"+Eu+"|"+Jc),$l=$(tr+"\\:"+ps+$("\\?"+nc)+"?"+$("\\#"+Vr)+"?"),Ke=$($("\\/\\/"+Cc+ni)+"|"+Tc+"|"+Zc+"|"+Jc),nt=$(Ke+$("\\?"+nc)+"?"+$("\\#"+Vr)+"?");return $($l+"|"+nt),$(tr+"\\:"+ps+$("\\?"+nc)+"?"),$($("\\/\\/("+$("("+Xn+")@")+"?("+No+")"+$("\\:("+Xo+")")+"?)")+"?("+ni+"|"+Tc+"|"+Eu+"|"+Jc+")"),$("\\?("+nc+")"),$("\\#("+Vr+")"),$($("\\/\\/("+$("("+Xn+")@")+"?("+No+")"+$("\\:("+Xo+")")+"?)")+"?("+ni+"|"+Tc+"|"+Zc+"|"+Jc+")"),$("\\?("+nc+")"),$("\\#("+Vr+")"),$($("\\/\\/("+$("("+Xn+")@")+"?("+No+")"+$("\\:("+Xo+")")+"?)")+"?("+ni+"|"+Tc+"|"+Eu+"|"+Jc+")"),$("\\?("+nc+")"),$("\\#("+Vr+")"),$("("+Xn+")@"),$("\\:("+Xo+")"),{NOT_SCHEME:new RegExp(O("[^]",et,en,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(O("[^\\%\\:]",nr,jn),"g"),NOT_HOST:new RegExp(O("[^\\%\\[\\]\\:]",nr,jn),"g"),NOT_PATH:new RegExp(O("[^\\%\\/\\:\\@]",nr,jn),"g"),NOT_PATH_NOSCHEME:new RegExp(O("[^\\%\\/\\@]",nr,jn),"g"),NOT_QUERY:new RegExp(O("[^\\%]",nr,jn,"[\\:\\@\\/\\?]",Vn),"g"),NOT_FRAGMENT:new RegExp(O("[^\\%]",nr,jn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(O("[^]",nr,jn),"g"),UNRESERVED:new RegExp(nr,"g"),OTHER_CHARS:new RegExp(O("[^\\%]",nr,Bn),"g"),PCT_ENCODED:new RegExp(cn,"g"),IPV4ADDRESS:new RegExp("^("+Rr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Fo+")"+$($("\\%25|\\%(?!"+qt+"{2})")+"("+tc+")")+"?\\]?$")}}var x=w(!1),R=w(!0),k=function(){return function(et,ut){if(Array.isArray(et))return et;if(Symbol.iterator in Object(et))return function ht(et,ut){var en=[],It=!0,qt=!1,Fn=void 0;try{for(var cn,Vt=et[Symbol.iterator]();!(It=(cn=Vt.next()).done)&&(en.push(cn.value),!ut||en.length!==ut);It=!0);}catch(vr){qt=!0,Fn=vr}finally{try{!It&&Vt.return&&Vt.return()}finally{if(qt)throw Fn}}return en}(et,ut);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=2147483647,M=36,te=/^xn--/,ie=/[^\0-\x7E]/,ae=/[\x2E\u3002\uFF0E\uFF61]/g,me={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},de=Math.floor,z=String.fromCharCode;function d(ht){throw new RangeError(me[ht])}function b(ht,et){var ut=ht.split("@"),en="";return ut.length>1&&(en=ut[0]+"@",ht=ut[1]),en+function f(ht,et){for(var ut=[],en=ht.length;en--;)ut[en]=et(ht[en]);return ut}((ht=ht.replace(ae,".")).split("."),et).join(".")}function C(ht){for(var et=[],ut=0,en=ht.length;ut<en;){var It=ht.charCodeAt(ut++);if(It>=55296&&It<=56319&&ut<en){var qt=ht.charCodeAt(ut++);56320==(64512&qt)?et.push(((1023&It)<<10)+(1023&qt)+65536):(et.push(It),ut--)}else et.push(It)}return et}var V=function(et){return et-48<10?et-22:et-65<26?et-65:et-97<26?et-97:M},Y=function(et,ut){return et+22+75*(et<26)-((0!=ut)<<5)},F=function(et,ut,en){var It=0;for(et=en?de(et/700):et>>1,et+=de(et/ut);et>455;It+=M)et=de(et/35);return de(It+36*et/(et+38))},h=function(et){var ut=[],en=et.length,It=0,qt=128,Fn=72,Vt=et.lastIndexOf("-");Vt<0&&(Vt=0);for(var cn=0;cn<Vt;++cn)et.charCodeAt(cn)>=128&&d("not-basic"),ut.push(et.charCodeAt(cn));for(var vr=Vt>0?Vt+1:0;vr<en;){for(var jn=It,Bn=1,gr=M;;gr+=M){vr>=en&&d("invalid-input");var Vn=V(et.charCodeAt(vr++));(Vn>=M||Vn>de((N-It)/Bn))&&d("overflow"),It+=Vn*Bn;var nr=gr<=Fn?1:gr>=Fn+26?26:gr-Fn;if(Vn<nr)break;var tr=M-nr;Bn>de(N/tr)&&d("overflow"),Bn*=tr}var Xn=ut.length+1;Fn=F(It-jn,Xn,0==jn),de(It/Xn)>N-qt&&d("overflow"),qt+=de(It/Xn),It%=Xn,ut.splice(It++,0,qt)}return String.fromCodePoint.apply(String,ut)},g=function(et){var ut=[],en=(et=C(et)).length,It=128,qt=0,Fn=72,Vt=!0,cn=!1,vr=void 0;try{for(var Bn,jn=et[Symbol.iterator]();!(Vt=(Bn=jn.next()).done);Vt=!0){var gr=Bn.value;gr<128&&ut.push(z(gr))}}catch(is){cn=!0,vr=is}finally{try{!Vt&&jn.return&&jn.return()}finally{if(cn)throw vr}}var Vn=ut.length,nr=Vn;for(Vn&&ut.push("-");nr<en;){var tr=N,Xn=!0,pi=!1,Xr=void 0;try{for(var Un,Rr=et[Symbol.iterator]();!(Xn=(Un=Rr.next()).done);Xn=!0){var Qn=Un.value;Qn>=It&&Qn<tr&&(tr=Qn)}}catch(is){pi=!0,Xr=is}finally{try{!Xn&&Rr.return&&Rr.return()}finally{if(pi)throw Xr}}var Jr=nr+1;tr-It>de((N-qt)/Jr)&&d("overflow"),qt+=(tr-It)*Jr,It=tr;var Qr=!0,Tr=!1,qn=void 0;try{for(var xi,$r=et[Symbol.iterator]();!(Qr=(xi=$r.next()).done);Qr=!0){var Ti=xi.value;if(Ti<It&&++qt>N&&d("overflow"),Ti==It){for(var qs=qt,vi=M;;vi+=M){var Fo=vi<=Fn?1:vi>=Fn+26?26:vi-Fn;if(qs<Fo)break;var tc=qs-Fo,Th=M-Fo;ut.push(z(Y(Fo+tc%Th,0))),qs=de(tc/Th)}ut.push(z(Y(qs,0))),Fn=F(qt,Jr,nr==Vn),qt=0,++nr}}}catch(is){Tr=!0,qn=is}finally{try{!Qr&&$r.return&&$r.return()}finally{if(Tr)throw qn}}++qt,++It}return ut.join("")},re={version:"2.1.0",ucs2:{decode:C,encode:function(et){return String.fromCodePoint.apply(String,function(ht){if(Array.isArray(ht)){for(var et=0,ut=Array(ht.length);et<ht.length;et++)ut[et]=ht[et];return ut}return Array.from(ht)}(et))}},decode:h,encode:g,toASCII:function(et){return b(et,function(ut){return ie.test(ut)?"xn--"+g(ut):ut})},toUnicode:function(et){return b(et,function(ut){return te.test(ut)?h(ut.slice(4).toLowerCase()):ut})}},fe={};function Ae(ht){var et=ht.charCodeAt(0);return et<16?"%0"+et.toString(16).toUpperCase():et<128?"%"+et.toString(16).toUpperCase():et<2048?"%"+(et>>6|192).toString(16).toUpperCase()+"%"+(63&et|128).toString(16).toUpperCase():"%"+(et>>12|224).toString(16).toUpperCase()+"%"+(et>>6&63|128).toString(16).toUpperCase()+"%"+(63&et|128).toString(16).toUpperCase()}function Me(ht){for(var et="",ut=0,en=ht.length;ut<en;){var It=parseInt(ht.substr(ut+1,2),16);if(It<128)et+=String.fromCharCode(It),ut+=3;else if(It>=194&&It<224){if(en-ut>=6){var qt=parseInt(ht.substr(ut+4,2),16);et+=String.fromCharCode((31&It)<<6|63&qt)}else et+=ht.substr(ut,6);ut+=6}else if(It>=224){if(en-ut>=9){var Fn=parseInt(ht.substr(ut+4,2),16),Vt=parseInt(ht.substr(ut+7,2),16);et+=String.fromCharCode((15&It)<<12|(63&Fn)<<6|63&Vt)}else et+=ht.substr(ut,9);ut+=9}else et+=ht.substr(ut,3),ut+=3}return et}function Le(ht,et){function ut(en){var It=Me(en);return It.match(et.UNRESERVED)?It:en}return ht.scheme&&(ht.scheme=String(ht.scheme).replace(et.PCT_ENCODED,ut).toLowerCase().replace(et.NOT_SCHEME,"")),void 0!==ht.userinfo&&(ht.userinfo=String(ht.userinfo).replace(et.PCT_ENCODED,ut).replace(et.NOT_USERINFO,Ae).replace(et.PCT_ENCODED,K)),void 0!==ht.host&&(ht.host=String(ht.host).replace(et.PCT_ENCODED,ut).toLowerCase().replace(et.NOT_HOST,Ae).replace(et.PCT_ENCODED,K)),void 0!==ht.path&&(ht.path=String(ht.path).replace(et.PCT_ENCODED,ut).replace(ht.scheme?et.NOT_PATH:et.NOT_PATH_NOSCHEME,Ae).replace(et.PCT_ENCODED,K)),void 0!==ht.query&&(ht.query=String(ht.query).replace(et.PCT_ENCODED,ut).replace(et.NOT_QUERY,Ae).replace(et.PCT_ENCODED,K)),void 0!==ht.fragment&&(ht.fragment=String(ht.fragment).replace(et.PCT_ENCODED,ut).replace(et.NOT_FRAGMENT,Ae).replace(et.PCT_ENCODED,K)),ht}function Ee(ht){return ht.replace(/^0*(.*)/,"$1")||"0"}function Se(ht,et){var ut=ht.match(et.IPV4ADDRESS)||[],It=k(ut,2)[1];return It?It.split(".").map(Ee).join("."):ht}function He(ht,et){var ut=ht.match(et.IPV6ADDRESS)||[],en=k(ut,3),It=en[1],qt=en[2];if(It){for(var Fn=It.toLowerCase().split("::").reverse(),Vt=k(Fn,2),cn=Vt[0],vr=Vt[1],jn=vr?vr.split(":").map(Ee):[],Bn=cn.split(":").map(Ee),gr=et.IPV4ADDRESS.test(Bn[Bn.length-1]),Vn=gr?7:8,nr=Bn.length-Vn,tr=Array(Vn),Xn=0;Xn<Vn;++Xn)tr[Xn]=jn[Xn]||Bn[nr+Xn]||"";gr&&(tr[Vn-1]=Se(tr[Vn-1],et));var Xr=tr.reduce(function(Jr,Qr,Tr){if(!Qr||"0"===Qr){var qn=Jr[Jr.length-1];qn&&qn.index+qn.length===Tr?qn.length++:Jr.push({index:Tr,length:1})}return Jr},[]).sort(function(Jr,Qr){return Qr.length-Jr.length})[0],Rr=void 0;if(Xr&&Xr.length>1){var Un=tr.slice(0,Xr.index),Qn=tr.slice(Xr.index+Xr.length);Rr=Un.join(":")+"::"+Qn.join(":")}else Rr=tr.join(":");return qt&&(Rr+="%"+qt),Rr}return ht}var Te=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,u=void 0==="".match(/(){0}/)[1];function xe(ht){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ut={},en=!1!==et.iri?R:x;"suffix"===et.reference&&(ht=(et.scheme?et.scheme+":":"")+"//"+ht);var It=ht.match(Te);if(It){u?(ut.scheme=It[1],ut.userinfo=It[3],ut.host=It[4],ut.port=parseInt(It[5],10),ut.path=It[6]||"",ut.query=It[7],ut.fragment=It[8],isNaN(ut.port)&&(ut.port=It[5])):(ut.scheme=It[1]||void 0,ut.userinfo=-1!==ht.indexOf("@")?It[3]:void 0,ut.host=-1!==ht.indexOf("//")?It[4]:void 0,ut.port=parseInt(It[5],10),ut.path=It[6]||"",ut.query=-1!==ht.indexOf("?")?It[7]:void 0,ut.fragment=-1!==ht.indexOf("#")?It[8]:void 0,isNaN(ut.port)&&(ut.port=ht.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?It[4]:void 0)),ut.host&&(ut.host=He(Se(ut.host,en),en)),ut.reference=void 0!==ut.scheme||void 0!==ut.userinfo||void 0!==ut.host||void 0!==ut.port||ut.path||void 0!==ut.query?void 0===ut.scheme?"relative":void 0===ut.fragment?"absolute":"uri":"same-document",et.reference&&"suffix"!==et.reference&&et.reference!==ut.reference&&(ut.error=ut.error||"URI is not a "+et.reference+" reference.");var qt=fe[(et.scheme||ut.scheme||"").toLowerCase()];if(et.unicodeSupport||qt&&qt.unicodeSupport)Le(ut,en);else{if(ut.host&&(et.domainHost||qt&&qt.domainHost))try{ut.host=re.toASCII(ut.host.replace(en.PCT_ENCODED,Me).toLowerCase())}catch(Fn){ut.error=ut.error||"Host's domain name can not be converted to ASCII via punycode: "+Fn}Le(ut,x)}qt&&qt.parse&&qt.parse(ut,et)}else ut.error=ut.error||"URI can not be parsed.";return ut}var _e=/^\.\.?\//,Ce=/^\/\.(\/|$)/,ke=/^\/\.\.(\/|$)/,ze=/^\/?(?:.|\n)*?(?=\/|$)/;function Ne(ht){for(var et=[];ht.length;)if(ht.match(_e))ht=ht.replace(_e,"");else if(ht.match(Ce))ht=ht.replace(Ce,"/");else if(ht.match(ke))ht=ht.replace(ke,"/"),et.pop();else if("."===ht||".."===ht)ht="";else{var ut=ht.match(ze);if(!ut)throw new Error("Unexpected dot segment condition");var en=ut[0];ht=ht.slice(en.length),et.push(en)}return et.join("")}function We(ht){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ut=et.iri?R:x,en=[],It=fe[(et.scheme||ht.scheme||"").toLowerCase()];if(It&&It.serialize&&It.serialize(ht,et),ht.host&&!ut.IPV6ADDRESS.test(ht.host)&&(et.domainHost||It&&It.domainHost))try{ht.host=et.iri?re.toUnicode(ht.host):re.toASCII(ht.host.replace(ut.PCT_ENCODED,Me).toLowerCase())}catch(Vt){ht.error=ht.error||"Host's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Vt}Le(ht,ut),"suffix"!==et.reference&&ht.scheme&&(en.push(ht.scheme),en.push(":"));var qt=function be(ht,et){var ut=!1!==et.iri?R:x,en=[];return void 0!==ht.userinfo&&(en.push(ht.userinfo),en.push("@")),void 0!==ht.host&&en.push(He(Se(String(ht.host),ut),ut).replace(ut.IPV6ADDRESS,function(It,qt,Fn){return"["+qt+(Fn?"%25"+Fn:"")+"]"})),("number"==typeof ht.port||"string"==typeof ht.port)&&(en.push(":"),en.push(String(ht.port))),en.length?en.join(""):void 0}(ht,et);if(void 0!==qt&&("suffix"!==et.reference&&en.push("//"),en.push(qt),ht.path&&"/"!==ht.path.charAt(0)&&en.push("/")),void 0!==ht.path){var Fn=ht.path;!et.absolutePath&&(!It||!It.absolutePath)&&(Fn=Ne(Fn)),void 0===qt&&(Fn=Fn.replace(/^\/\//,"/%2F")),en.push(Fn)}return void 0!==ht.query&&(en.push("?"),en.push(ht.query)),void 0!==ht.fragment&&(en.push("#"),en.push(ht.fragment)),en.join("")}function Ye(ht,et){var ut=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},It={};return arguments[3]||(ht=xe(We(ht,ut),ut),et=xe(We(et,ut),ut)),!(ut=ut||{}).tolerant&&et.scheme?(It.scheme=et.scheme,It.userinfo=et.userinfo,It.host=et.host,It.port=et.port,It.path=Ne(et.path||""),It.query=et.query):(void 0!==et.userinfo||void 0!==et.host||void 0!==et.port?(It.userinfo=et.userinfo,It.host=et.host,It.port=et.port,It.path=Ne(et.path||""),It.query=et.query):(et.path?("/"===et.path.charAt(0)?It.path=Ne(et.path):(It.path=void 0===ht.userinfo&&void 0===ht.host&&void 0===ht.port||ht.path?ht.path?ht.path.slice(0,ht.path.lastIndexOf("/")+1)+et.path:et.path:"/"+et.path,It.path=Ne(It.path)),It.query=et.query):(It.path=ht.path,It.query=void 0!==et.query?et.query:ht.query),It.userinfo=ht.userinfo,It.host=ht.host,It.port=ht.port),It.scheme=ht.scheme),It.fragment=et.fragment,It}function se(ht,et){return ht&&ht.toString().replace(et&&et.iri?R.PCT_ENCODED:x.PCT_ENCODED,Me)}var W={scheme:"http",domainHost:!0,parse:function(et,ut){return et.host||(et.error=et.error||"HTTP URIs must have a host."),et},serialize:function(et,ut){var en="https"===String(et.scheme).toLowerCase();return(et.port===(en?443:80)||""===et.port)&&(et.port=void 0),et.path||(et.path="/"),et}},Z={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function he(ht){return"boolean"==typeof ht.secure?ht.secure:"wss"===String(ht.scheme).toLowerCase()}var De={scheme:"ws",domainHost:!0,parse:function(et,ut){var en=et;return en.secure=he(en),en.resourceName=(en.path||"/")+(en.query?"?"+en.query:""),en.path=void 0,en.query=void 0,en},serialize:function(et,ut){if((et.port===(he(et)?443:80)||""===et.port)&&(et.port=void 0),"boolean"==typeof et.secure&&(et.scheme=et.secure?"wss":"ws",et.secure=void 0),et.resourceName){var en=et.resourceName.split("?"),It=k(en,2),qt=It[0],Fn=It[1];et.path=qt&&"/"!==qt?qt:void 0,et.query=Fn,et.resourceName=void 0}return et.fragment=void 0,et}},Xe={scheme:"wss",domainHost:De.domainHost,parse:De.parse,serialize:De.serialize},Ze={},Rt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Mt="[0-9A-Fa-f]",At=$($("%[EFef]"+Mt+"%"+Mt+Mt+"%"+Mt+Mt)+"|"+$("%[89A-Fa-f]"+Mt+"%"+Mt+Mt)+"|"+$("%"+Mt+Mt)),nn=O("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),sn=new RegExp(Rt,"g"),an=new RegExp(At,"g"),kn=new RegExp(O("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',nn),"g"),Ve=new RegExp(O("[^]",Rt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),st=Ve;function gt(ht){var et=Me(ht);return et.match(sn)?et:ht}var dt={scheme:"mailto",parse:function(et,ut){var en=et,It=en.to=en.path?en.path.split(","):[];if(en.path=void 0,en.query){for(var qt=!1,Fn={},Vt=en.query.split("&"),cn=0,vr=Vt.length;cn<vr;++cn){var jn=Vt[cn].split("=");switch(jn[0]){case"to":for(var Bn=jn[1].split(","),gr=0,Vn=Bn.length;gr<Vn;++gr)It.push(Bn[gr]);break;case"subject":en.subject=se(jn[1],ut);break;case"body":en.body=se(jn[1],ut);break;default:qt=!0,Fn[se(jn[0],ut)]=se(jn[1],ut)}}qt&&(en.headers=Fn)}en.query=void 0;for(var nr=0,tr=It.length;nr<tr;++nr){var Xn=It[nr].split("@");if(Xn[0]=se(Xn[0]),ut.unicodeSupport)Xn[1]=se(Xn[1],ut).toLowerCase();else try{Xn[1]=re.toASCII(se(Xn[1],ut).toLowerCase())}catch(pi){en.error=en.error||"Email address's domain name can not be converted to ASCII via punycode: "+pi}It[nr]=Xn.join("@")}return en},serialize:function(et,ut){var en=et,It=function y(ht){return null!=ht?ht instanceof Array?ht:"number"!=typeof ht.length||ht.split||ht.setInterval||ht.call?[ht]:Array.prototype.slice.call(ht):[]}(et.to);if(It){for(var qt=0,Fn=It.length;qt<Fn;++qt){var Vt=String(It[qt]),cn=Vt.lastIndexOf("@"),vr=Vt.slice(0,cn).replace(an,gt).replace(an,K).replace(kn,Ae),jn=Vt.slice(cn+1);try{jn=ut.iri?re.toUnicode(jn):re.toASCII(se(jn,ut).toLowerCase())}catch(nr){en.error=en.error||"Email address's domain name can not be converted to "+(ut.iri?"Unicode":"ASCII")+" via punycode: "+nr}It[qt]=vr+"@"+jn}en.path=It.join(",")}var Bn=et.headers=et.headers||{};et.subject&&(Bn.subject=et.subject),et.body&&(Bn.body=et.body);var gr=[];for(var Vn in Bn)Bn[Vn]!==Ze[Vn]&&gr.push(Vn.replace(an,gt).replace(an,K).replace(Ve,Ae)+"="+Bn[Vn].replace(an,gt).replace(an,K).replace(st,Ae));return gr.length&&(en.query=gr.join("&")),en}},yt=/^([^\:]+)\:(.*)/,ln={scheme:"urn",parse:function(et,ut){var en=et.path&&et.path.match(yt),It=et;if(en){var qt=ut.scheme||It.scheme||"urn",Fn=en[1].toLowerCase(),Vt=en[2],vr=fe[qt+":"+(ut.nid||Fn)];It.nid=Fn,It.nss=Vt,It.path=void 0,vr&&(It=vr.parse(It,ut))}else It.error=It.error||"URN can not be parsed.";return It},serialize:function(et,ut){var It=et.nid,Fn=fe[(ut.scheme||et.scheme||"urn")+":"+(ut.nid||It)];Fn&&(et=Fn.serialize(et,ut));var Vt=et;return Vt.path=(It||ut.nid)+":"+et.nss,Vt}},Be=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ge={scheme:"urn:uuid",parse:function(et,ut){var en=et;return en.uuid=en.nss,en.nss=void 0,!ut.tolerant&&(!en.uuid||!en.uuid.match(Be))&&(en.error=en.error||"UUID is not valid."),en},serialize:function(et,ut){var en=et;return en.nss=(et.uuid||"").toLowerCase(),en}};fe[W.scheme]=W,fe[Z.scheme]=Z,fe[De.scheme]=De,fe[Xe.scheme]=Xe,fe[dt.scheme]=dt,fe[ln.scheme]=ln,fe[Ge.scheme]=Ge,A.SCHEMES=fe,A.pctEncChar=Ae,A.pctDecChars=Me,A.parse=xe,A.removeDotSegments=Ne,A.serialize=We,A.resolveComponents=Ye,A.resolve=function wt(ht,et,ut){var en=function T(ht,et){var ut=ht;if(et)for(var en in et)ut[en]=et[en];return ut}({scheme:"null"},ut);return We(Ye(xe(ht,en),xe(et,en),en,!0),en)},A.normalize=function mt(ht,et){return"string"==typeof ht?ht=We(xe(ht,et),et):"object"===U(ht)&&(ht=xe(We(ht,et),et)),ht},A.equal=function rt(ht,et,ut){return"string"==typeof ht?ht=We(xe(ht,ut),ut):"object"===U(ht)&&(ht=We(ht,ut)),"string"==typeof et?et=We(xe(et,ut),ut):"object"===U(et)&&(et=We(et,ut)),ht===et},A.escapeComponent=function Ut(ht,et){return ht&&ht.toString().replace(et&&et.iri?R.ESCAPE:x.ESCAPE,Ae)},A.unescapeComponent=se,Object.defineProperty(A,"__esModule",{value:!0})}(I)},3398:ye=>{function A(O){try{if(!globalThis.localStorage)return!1}catch{return!1}var $=globalThis.localStorage[O];return null!=$&&"true"===String($).toLowerCase()}ye.exports=function I(O,$){if(A("noDeprecation"))return O;var U=!1;return function K(){if(!U){if(A("throwDeprecation"))throw new Error($);A("traceDeprecation")?console.trace($):console.warn($),U=!0}return O.apply(this,arguments)}}},78982:()=>{},47790:()=>{},73776:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},52797:()=>{},64688:()=>{},42634:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},99014:(ye,I,A)=>{"use strict";var O=A(32431),$=A(34174),U=A(74985),K=A(46758);ye.exports=function(T,w,x){if("string"!=typeof T)throw new K("Assertion failed: `S` must be a String");if(!$(w)||w<0||w>U)throw new K("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof x)throw new K("Assertion failed: `unicode` must be a Boolean");return x?w+1>=T.length?w+1:w+O(T,w)["[[CodeUnitCount]]"]:w+1}},98683:(ye,I,A)=>{"use strict";var O=A(90258),$=A(23020),U=A(46758),K=A(22802),y=O("%Reflect.apply%",!0)||$("Function.prototype.apply");ye.exports=function(w,x){var R=arguments.length>2?arguments[2]:[];if(!K(R))throw new U("Assertion failed: optional `argumentsList`, if provided, must be a List");return y(w,x,R)}},32431:(ye,I,A)=>{"use strict";var O=A(46758),$=A(23020),U=A(32270),K=A(24034),y=A(15225),T=$("String.prototype.charAt"),w=$("String.prototype.charCodeAt");ye.exports=function(R,k){if("string"!=typeof R)throw new O("Assertion failed: `string` must be a String");var v=R.length;if(k<0||k>=v)throw new O("Assertion failed: `position` must be >= 0, and < the length of `string`");var N=w(R,k),M=T(R,k),P=U(N),L=K(N);if(!P&&!L)return{"[[CodePoint]]":M,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(L||k+1===v)return{"[[CodePoint]]":M,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var G=w(R,k+1);return K(G)?{"[[CodePoint]]":y(N,G),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":M,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},50363:(ye,I,A)=>{"use strict";var O=A(46758);ye.exports=function(U,K){if("boolean"!=typeof K)throw new O("Assertion failed: Type(done) is not Boolean");return{value:U,done:K}}},87045:(ye,I,A)=>{"use strict";var O=A(90258),$=A(19900)(),U=A(46758),K=O("%IteratorPrototype%",!0),y=A(99014),T=A(50363),w=A(29624),x=A(48527),R=A(56042),k=A(59127),v=A(72459),N=A(51382),M=A(88535),P=A(80035),L=A(53720),G=A(65240),B=function(te,ie,ae,me){if("string"!=typeof ie)throw new U("`S` must be a string");if("boolean"!=typeof ae)throw new U("`global` must be a boolean");if("boolean"!=typeof me)throw new U("`fullUnicode` must be a boolean");L.set(this,"[[IteratingRegExp]]",te),L.set(this,"[[IteratedString]]",ie),L.set(this,"[[Global]]",ae),L.set(this,"[[Unicode]]",me),L.set(this,"[[Done]]",!1)};K&&(B.prototype=R(K)),w(B.prototype,"next",function(){var te=this;if("Object"!==P(te))throw new U("receiver must be an object");if(!(te instanceof B&&L.has(te,"[[IteratingRegExp]]")&&L.has(te,"[[IteratedString]]")&&L.has(te,"[[Global]]")&&L.has(te,"[[Unicode]]")&&L.has(te,"[[Done]]")))throw new U('"this" value must be a RegExpStringIterator instance');if(L.get(te,"[[Done]]"))return T(void 0,!0);var ie=L.get(te,"[[IteratingRegExp]]"),ae=L.get(te,"[[IteratedString]]"),me=L.get(te,"[[Global]]"),ge=L.get(te,"[[Unicode]]"),de=k(ie,ae);if(null===de)return L.set(te,"[[Done]]",!0),T(void 0,!0);if(me){if(""===M(x(de,"0"))){var d=N(x(ie,"lastIndex")),f=y(ae,d,ge);v(ie,"lastIndex",f,!0)}return T(de,!1)}return L.set(te,"[[Done]]",!0),T(de,!1)},!1),$&&(G(B.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof B.prototype[Symbol.iterator])&&w(B.prototype,Symbol.iterator,function(){return this},!1),ye.exports=function(te,ie,ae,me){return new B(te,ie,ae,me)}},29624:(ye,I,A)=>{"use strict";var O=A(46758),$=A(90662),U=A(42626),K=A(1203),y=A(80035);ye.exports=function(w,x,R,k){if("Object"!==y(w))throw new O("Assertion failed: `homeObject` is not an Object");if(!K(x))throw new O("Assertion failed: `key` is not a Property Key or a Private Name");if("function"!=typeof R)throw new O("Assertion failed: `closure` is not a function");if("boolean"!=typeof k)throw new O("Assertion failed: `enumerable` is not a Boolean");if(!U(w))throw new O("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");$(w,x,{"[[Value]]":R,"[[Writable]]":!0,"[[Enumerable]]":k,"[[Configurable]]":!0})}},90662:(ye,I,A)=>{"use strict";var O=A(46758),$=A(70492),U=A(81396),K=A(72183),y=A(11414),T=A(1203),w=A(86440),x=A(46018),R=A(80035);ye.exports=function(v,N,M){if("Object"!==R(v))throw new O("Assertion failed: Type(O) is not Object");if(!T(N))throw new O("Assertion failed: IsPropertyKey(P) is not true");var P=$(M)?M:x(M);if(!$(P))throw new O("Assertion failed: Desc is not a valid Property Descriptor");return U(y,w,K,v,N,P)}},72183:(ye,I,A)=>{"use strict";var O=A(46758),$=A(70492),U=A(4938);ye.exports=function(y){if(typeof y<"u"&&!$(y))throw new O("Assertion failed: `Desc` must be a Property Descriptor");return U(y)}},48527:(ye,I,A)=>{"use strict";var O=A(46758),$=A(89150),U=A(1203),K=A(80035);ye.exports=function(T,w){if("Object"!==K(T))throw new O("Assertion failed: Type(O) is not Object");if(!U(w))throw new O("Assertion failed: IsPropertyKey(P) is not true, got "+$(w));return T[w]}},33602:(ye,I,A)=>{"use strict";var O=A(46758),$=A(80213),U=A(35867),K=A(1203),y=A(89150);ye.exports=function(w,x){if(!K(x))throw new O("Assertion failed: IsPropertyKey(P) is not true");var R=$(w,x);if(null!=R){if(!U(R))throw new O(y(x)+" is not a function: "+y(R));return R}}},80213:(ye,I,A)=>{"use strict";var O=A(46758),$=A(89150),U=A(1203);ye.exports=function(y,T){if(!U(T))throw new O("Assertion failed: IsPropertyKey(P) is not true, got "+$(T));return y[T]}},22802:(ye,I,A)=>{"use strict";ye.exports=A(31153)},35867:(ye,I,A)=>{"use strict";ye.exports=A(58239)},13711:(ye,I,A)=>{"use strict";var $=A(29539)("%Reflect.construct%",!0),U=A(90662);try{U({},"",{"[[Get]]":function(){}})}catch{U=null}if(U&&$){var K={},y={};U(y,"length",{"[[Get]]":function(){throw K},"[[Enumerable]]":!0}),ye.exports=function(w){try{$(w,y)}catch(x){return x===K}}}else ye.exports=function(w){return"function"==typeof w&&!!w.prototype}},11414:(ye,I,A)=>{"use strict";var O=A(46758),$=A(78368),U=A(70492);ye.exports=function(y){if(typeof y>"u")return!1;if(!U(y))throw new O("Assertion failed: `Desc` must be a Property Descriptor");return!(!$(y,"[[Value]]")&&!$(y,"[[Writable]]"))}},42626:(ye,I,A)=>{"use strict";var O=A(90258),$=O("%Object.preventExtensions%",!0),U=O("%Object.isExtensible%",!0),K=A(32081);ye.exports=$?function(T){return!K(T)&&U(T)}:function(T){return!K(T)}},1203:ye=>{"use strict";ye.exports=function(A){return"string"==typeof A||"symbol"==typeof A}},84706:(ye,I,A)=>{"use strict";var $=A(90258)("%Symbol.match%",!0),U=A(53290),K=A(12788);ye.exports=function(T){if(!T||"object"!=typeof T)return!1;if($){var w=T[$];if(typeof w<"u")return K(w)}return U(T)}},56042:(ye,I,A)=>{"use strict";var $=A(90258)("%Object.create%",!0),U=A(46758),K=A(58413),y=A(22802),T=A(80035),w=A(54810),x=A(53720),R=A(62119)();ye.exports=function(v){if(null!==v&&"Object"!==T(v))throw new U("Assertion failed: `proto` must be null or an object");var M,N=arguments.length<2?[]:arguments[1];if(!y(N))throw new U("Assertion failed: `additionalInternalSlotsList` must be an Array");if($)M=$(v);else if(R)M={__proto__:v};else{if(null===v)throw new K("native Object.create support is required to create null objects");var P=function(){};P.prototype=v,M=new P}return N.length>0&&w(N,function(L){x.set(M,L,void 0)}),M}},59127:(ye,I,A)=>{"use strict";var O=A(46758),$=A(23020)("RegExp.prototype.exec"),U=A(98683),K=A(48527),y=A(35867),T=A(80035);ye.exports=function(x,R){if("Object"!==T(x))throw new O("Assertion failed: `R` must be an Object");if("string"!=typeof R)throw new O("Assertion failed: `S` must be a String");var k=K(x,"exec");if(y(k)){var v=U(k,x,[R]);if("object"==typeof v)return v;throw new O('"exec" method must return `null` or an Object')}return $(x,R)}},86440:(ye,I,A)=>{"use strict";var O=A(91661);ye.exports=function(U,K){return U===K?0!==U||1/U==1/K:O(U)&&O(K)}},72459:(ye,I,A)=>{"use strict";var O=A(46758),$=A(1203),U=A(86440),K=A(80035),y=function(){try{return delete[].length,!0}catch{return!1}}();ye.exports=function(w,x,R,k){if("Object"!==K(w))throw new O("Assertion failed: `O` must be an Object");if(!$(x))throw new O("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof k)throw new O("Assertion failed: `Throw` must be a Boolean");if(k){if(w[x]=R,y&&!U(w[x],R))throw new O("Attempted to assign to readonly property.");return!0}try{return w[x]=R,!y||U(w[x],R)}catch{return!1}}},50149:(ye,I,A)=>{"use strict";var $=A(90258)("%Symbol.species%",!0),U=A(46758),K=A(13711),y=A(80035);ye.exports=function(w,x){if("Object"!==y(w))throw new U("Assertion failed: Type(O) is not Object");var R=w.constructor;if(typeof R>"u")return x;if("Object"!==y(R))throw new U("O.constructor is not an Object");var k=$?R[$]:void 0;if(null==k)return x;if(K(k))return k;throw new U("no constructor found")}},6465:(ye,I,A)=>{"use strict";var O=A(90258),$=O("%Number%"),U=O("%RegExp%"),K=A(46758),y=O("%parseInt%"),T=A(23020),w=A(5202),x=T("String.prototype.slice"),R=w(/^0b[01]+$/i),k=w(/^0o[0-7]+$/i),v=w(/^[-+]0x[0-9a-f]+$/i),P=w(new U("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),L=A(36913);ye.exports=function G(B){if("string"!=typeof B)throw new K("Assertion failed: `argument` is not a String");if(R(B))return $(y(x(B,2),2));if(k(B))return $(y(x(B,2),8));if(P(B)||v(B))return NaN;var q=L(B);return q!==B?G(q):$(B)}},12788:ye=>{"use strict";ye.exports=function(A){return!!A}},39463:(ye,I,A)=>{"use strict";var O=A(81255),$=A(39737),U=A(91661),K=A(84217);ye.exports=function(T){var w=O(T);return U(w)||0===w?0:K(w)?$(w):w}},51382:(ye,I,A)=>{"use strict";var O=A(74985),$=A(39463);ye.exports=function(K){var y=$(K);return y<=0?0:y>O?O:y}},81255:(ye,I,A)=>{"use strict";var O=A(90258),$=A(46758),U=O("%Number%"),K=A(32081),y=A(56801),T=A(6465);ye.exports=function(x){var R=K(x)?x:y(x,U);if("symbol"==typeof R)throw new $("Cannot convert a Symbol value to a number");if("bigint"==typeof R)throw new $("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof R?T(R):U(R)}},56801:(ye,I,A)=>{"use strict";var O=A(31232);ye.exports=function(U){return arguments.length>1?O(U,arguments[1]):O(U)}},46018:(ye,I,A)=>{"use strict";var O=A(78368),$=A(46758),U=A(80035),K=A(12788),y=A(35867);ye.exports=function(w){if("Object"!==U(w))throw new $("ToPropertyDescriptor requires an object");var x={};if(O(w,"enumerable")&&(x["[[Enumerable]]"]=K(w.enumerable)),O(w,"configurable")&&(x["[[Configurable]]"]=K(w.configurable)),O(w,"value")&&(x["[[Value]]"]=w.value),O(w,"writable")&&(x["[[Writable]]"]=K(w.writable)),O(w,"get")){var R=w.get;if(typeof R<"u"&&!y(R))throw new $("getter must be a function");x["[[Get]]"]=R}if(O(w,"set")){var k=w.set;if(typeof k<"u"&&!y(k))throw new $("setter must be a function");x["[[Set]]"]=k}if((O(x,"[[Get]]")||O(x,"[[Set]]"))&&(O(x,"[[Value]]")||O(x,"[[Writable]]")))throw new $("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return x}},88535:(ye,I,A)=>{"use strict";var $=A(90258)("%String%"),U=A(46758);ye.exports=function(y){if("symbol"==typeof y)throw new U("Cannot convert a Symbol value to a string");return $(y)}},80035:(ye,I,A)=>{"use strict";var O=A(72408);ye.exports=function(U){return"symbol"==typeof U?"Symbol":"bigint"==typeof U?"BigInt":O(U)}},15225:(ye,I,A)=>{"use strict";var O=A(90258),$=A(46758),U=O("%String.fromCharCode%"),K=A(32270),y=A(24034);ye.exports=function(w,x){if(!K(w)||!y(x))throw new $("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return U(w)+U(x)}},12045:ye=>{"use strict";var I=Math.floor;ye.exports=function(O){return"bigint"==typeof O?O:I(O)}},39737:(ye,I,A)=>{"use strict";var O=A(12045),$=A(46758);ye.exports=function(K){if("number"!=typeof K&&"bigint"!=typeof K)throw new $("argument must be a Number or a BigInt");var y=K<0?-O(-K):O(K);return 0===y?0:y}},72408:ye=>{"use strict";ye.exports=function(A){return null===A?"Null":typeof A>"u"?"Undefined":"function"==typeof A||"object"==typeof A?"Object":"number"==typeof A?"Number":"boolean"==typeof A?"Boolean":"string"==typeof A?"String":void 0}},29539:(ye,I,A)=>{"use strict";ye.exports=A(90258)},81396:(ye,I,A)=>{"use strict";var O=A(35861),$=A(4570),U=O.hasArrayLengthDefineBug(),K=U&&A(31153),T=A(23020)("Object.prototype.propertyIsEnumerable");ye.exports=function(x,R,k,v,N,M){if(!$){if(!x(M)||!M["[[Configurable]]"]||!M["[[Writable]]"]||N in v&&T(v,N)!==!!M["[[Enumerable]]"])return!1;var P=M["[[Value]]"];return v[N]=P,R(v[N],P)}return U&&"length"===N&&"[[Value]]"in M&&K(v)&&v.length!==M["[[Value]]"]?(v.length=M["[[Value]]"],v.length===M["[[Value]]"]):($(v,N,k(M)),!0)}},31153:(ye,I,A)=>{"use strict";var $=A(90258)("%Array%"),U=!$.isArray&&A(23020)("Object.prototype.toString");ye.exports=$.isArray||function(y){return"[object Array]"===U(y)}},54810:ye=>{"use strict";ye.exports=function(A,O){for(var $=0;$<A.length;$+=1)O(A[$],$,A)}},4938:ye=>{"use strict";ye.exports=function(A){if(typeof A>"u")return A;var O={};return"[[Value]]"in A&&(O.value=A["[[Value]]"]),"[[Writable]]"in A&&(O.writable=!!A["[[Writable]]"]),"[[Get]]"in A&&(O.get=A["[[Get]]"]),"[[Set]]"in A&&(O.set=A["[[Set]]"]),"[[Enumerable]]"in A&&(O.enumerable=!!A["[[Enumerable]]"]),"[[Configurable]]"in A&&(O.configurable=!!A["[[Configurable]]"]),O}},84217:(ye,I,A)=>{"use strict";var O=A(91661);ye.exports=function($){return("number"==typeof $||"bigint"==typeof $)&&!O($)&&$!==1/0&&$!==-1/0}},34174:(ye,I,A)=>{"use strict";var O=A(90258),$=O("%Math.abs%"),U=O("%Math.floor%"),K=A(91661),y=A(84217);ye.exports=function(w){if("number"!=typeof w||K(w)||!y(w))return!1;var x=$(w);return U(x)===x}},32270:ye=>{"use strict";ye.exports=function(A){return"number"==typeof A&&A>=55296&&A<=56319}},91661:ye=>{"use strict";ye.exports=Number.isNaN||function(A){return A!=A}},32081:ye=>{"use strict";ye.exports=function(A){return null===A||"function"!=typeof A&&"object"!=typeof A}},24034:ye=>{"use strict";ye.exports=function(A){return"number"==typeof A&&A>=56320&&A<=57343}},74985:ye=>{"use strict";ye.exports=Number.MAX_SAFE_INTEGER||9007199254740991},70492:(ye,I,A)=>{"use strict";var O=A(46758),$=A(78368),U={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};ye.exports=function(y){if(!y||"object"!=typeof y)return!1;for(var T in y)if($(y,T)&&!U[T])return!1;var w=$(y,"[[Value]]")||$(y,"[[Writable]]"),x=$(y,"[[Get]]")||$(y,"[[Set]]");if(w&&x)throw new O("Property Descriptors may not be both accessor and data descriptors");return!0}},28280:(ye,I,A)=>{"use strict";const{normalizeIPv6:O,normalizeIPv4:$,removeDotSegments:U,recomposeAuthority:K,normalizeComponentEncoding:y}=A(61661),T=A(54908);function R(B,q,X,Q){const te={};return Q||(B=L(v(B,X),X),q=L(v(q,X),X)),!(X=X||{}).tolerant&&q.scheme?(te.scheme=q.scheme,te.userinfo=q.userinfo,te.host=q.host,te.port=q.port,te.path=U(q.path||""),te.query=q.query):(void 0!==q.userinfo||void 0!==q.host||void 0!==q.port?(te.userinfo=q.userinfo,te.host=q.host,te.port=q.port,te.path=U(q.path||""),te.query=q.query):(q.path?("/"===q.path.charAt(0)?te.path=U(q.path):(te.path=void 0===B.userinfo&&void 0===B.host&&void 0===B.port||B.path?B.path?B.path.slice(0,B.path.lastIndexOf("/")+1)+q.path:q.path:"/"+q.path,te.path=U(te.path)),te.query=q.query):(te.path=B.path,te.query=void 0!==q.query?q.query:B.query),te.userinfo=B.userinfo,te.host=B.host,te.port=B.port),te.scheme=B.scheme),te.fragment=q.fragment,te}function v(B,q){const X={host:B.host,scheme:B.scheme,userinfo:B.userinfo,port:B.port,path:B.path,query:B.query,nid:B.nid,nss:B.nss,uuid:B.uuid,fragment:B.fragment,reference:B.reference,resourceName:B.resourceName,secure:B.secure,error:""},Q=Object.assign({},q),te=[],ie=T[(Q.scheme||X.scheme||"").toLowerCase()];ie&&ie.serialize&&ie.serialize(X,Q),void 0!==X.path&&(Q.skipEscape?X.path=unescape(X.path):(X.path=escape(X.path),void 0!==X.scheme&&(X.path=X.path.split("%3A").join(":")))),"suffix"!==Q.reference&&X.scheme&&te.push(X.scheme,":");const ae=K(X,Q);if(void 0!==ae&&("suffix"!==Q.reference&&te.push("//"),te.push(ae),X.path&&"/"!==X.path.charAt(0)&&te.push("/")),void 0!==X.path){let me=X.path;!Q.absolutePath&&(!ie||!ie.absolutePath)&&(me=U(me)),void 0===ae&&(me=me.replace(/^\/\//u,"/%2F")),te.push(me)}return void 0!==X.query&&te.push("?",X.query),void 0!==X.fragment&&te.push("#",X.fragment),te.join("")}const N=Array.from({length:127},(B,q)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(q))),P=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function L(B,q){const X=Object.assign({},q),Q={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},te=-1!==B.indexOf("%");let ie=!1;"suffix"===X.reference&&(B=(X.scheme?X.scheme+":":"")+"//"+B);const ae=B.match(P);if(ae){if(Q.scheme=ae[1],Q.userinfo=ae[3],Q.host=ae[4],Q.port=parseInt(ae[5],10),Q.path=ae[6]||"",Q.query=ae[7],Q.fragment=ae[8],isNaN(Q.port)&&(Q.port=ae[5]),Q.host){const ge=$(Q.host);if(!1===ge.isIPV4){const de=O(ge.host,{isIPV4:!1});Q.host=de.host.toLowerCase(),ie=de.isIPV6}else Q.host=ge.host,ie=!0}Q.reference=void 0!==Q.scheme||void 0!==Q.userinfo||void 0!==Q.host||void 0!==Q.port||Q.path||void 0!==Q.query?void 0===Q.scheme?"relative":void 0===Q.fragment?"absolute":"uri":"same-document",X.reference&&"suffix"!==X.reference&&X.reference!==Q.reference&&(Q.error=Q.error||"URI is not a "+X.reference+" reference.");const me=T[(X.scheme||Q.scheme||"").toLowerCase()];if(!X.unicodeSupport&&(!me||!me.unicodeSupport)&&Q.host&&(X.domainHost||me&&me.domainHost)&&!1===ie&&function M(B){let q=0;for(let X=0,Q=B.length;X<Q;++X)if(q=B.charCodeAt(X),q>126||N[q])return!0;return!1}(Q.host))try{Q.host=URL.domainToASCII(Q.host.toLowerCase())}catch(ge){Q.error=Q.error||"Host's domain name can not be converted to ASCII: "+ge}(!me||me&&!me.skipNormalize)&&(te&&void 0!==Q.scheme&&(Q.scheme=unescape(Q.scheme)),te&&void 0!==Q.host&&(Q.host=unescape(Q.host)),void 0!==Q.path&&Q.path.length&&(Q.path=escape(unescape(Q.path))),void 0!==Q.fragment&&Q.fragment.length&&(Q.fragment=encodeURI(decodeURIComponent(Q.fragment)))),me&&me.parse&&me.parse(Q,X)}else Q.error=Q.error||"URI can not be parsed.";return Q}const G={SCHEMES:T,normalize:function w(B,q){return"string"==typeof B?B=v(L(B,q),q):"object"==typeof B&&(B=L(v(B,q),q)),B},resolve:function x(B,q,X){const Q=Object.assign({scheme:"null"},X);return v(R(L(B,Q),L(q,Q),Q,!0),{...Q,skipEscape:!0})},resolveComponents:R,equal:function k(B,q,X){return"string"==typeof B?(B=unescape(B),B=v(y(L(B,X),!0),{...X,skipEscape:!0})):"object"==typeof B&&(B=v(y(B,!0),{...X,skipEscape:!0})),"string"==typeof q?(q=unescape(q),q=v(y(L(q,X),!0),{...X,skipEscape:!0})):"object"==typeof q&&(q=v(y(q,!0),{...X,skipEscape:!0})),B.toLowerCase()===q.toLowerCase()},serialize:v,parse:L};ye.exports=G,ye.exports.default=G,ye.exports.fastUri=G},54908:ye=>{"use strict";const I=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,A=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function O(B){return"boolean"==typeof B.secure?B.secure:"wss"===String(B.scheme).toLowerCase()}function $(B){return B.host||(B.error=B.error||"HTTP URIs must have a host."),B}function U(B){const q="https"===String(B.scheme).toLowerCase();return(B.port===(q?443:80)||""===B.port)&&(B.port=void 0),B.path||(B.path="/"),B}const k={scheme:"http",domainHost:!0,parse:$,serialize:U},N={scheme:"ws",domainHost:!0,parse:function K(B){return B.secure=O(B),B.resourceName=(B.path||"/")+(B.query?"?"+B.query:""),B.path=void 0,B.query=void 0,B},serialize:function y(B){if((B.port===(O(B)?443:80)||""===B.port)&&(B.port=void 0),"boolean"==typeof B.secure&&(B.scheme=B.secure?"wss":"ws",B.secure=void 0),B.resourceName){const[q,X]=B.resourceName.split("?");B.path=q&&"/"!==q?q:void 0,B.query=X,B.resourceName=void 0}return B.fragment=void 0,B}},G={http:k,https:{scheme:"https",domainHost:k.domainHost,parse:$,serialize:U},ws:N,wss:{scheme:"wss",domainHost:N.domainHost,parse:N.parse,serialize:N.serialize},urn:{scheme:"urn",parse:function T(B,q){if(!B.path)return B.error="URN can not be parsed",B;const X=B.path.match(A);if(X){const Q=q.scheme||B.scheme||"urn";B.nid=X[1].toLowerCase(),B.nss=X[2];const ie=G[`${Q}:${q.nid||B.nid}`];B.path=void 0,ie&&(B=ie.parse(B,q))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function w(B,q){const X=q.scheme||B.scheme||"urn",Q=B.nid.toLowerCase(),ie=G[`${X}:${q.nid||Q}`];ie&&(B=ie.serialize(B,q));const ae=B;return ae.path=`${Q||q.nid}:${B.nss}`,q.skipEscape=!0,ae},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function x(B,q){const X=B;return X.uuid=X.nss,X.nss=void 0,!q.tolerant&&(!X.uuid||!I.test(X.uuid))&&(X.error=X.error||"UUID is not valid."),X},serialize:function R(B){const q=B;return q.nss=(B.uuid||"").toLowerCase(),q},skipNormalize:!0}};ye.exports=G},74185:ye=>{"use strict";ye.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},61661:(ye,I,A)=>{"use strict";const{HEX:O}=A(74185);function $(L){if(w(L,".")<3)return{host:L,isIPV4:!1};const G=L.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[B]=G;return B?{host:T(B,"."),isIPV4:!0}:{host:L,isIPV4:!1}}function U(L,G=!1){let B="",q=!0;for(const X of L){if(void 0===O[X])return;"0"!==X&&!0===q&&(q=!1),q||(B+=X)}return G&&0===B.length&&(B="0"),B}function y(L,G={}){if(w(L,":")<2)return{host:L,isIPV6:!1};const B=function K(L){let G=0;const B={error:!1,address:"",zone:""},q=[],X=[];let Q=!1,te=!1,ie=!1;function ae(){if(X.length){if(!1===Q){const me=U(X);if(void 0===me)return B.error=!0,!1;q.push(me)}X.length=0}return!0}for(let me=0;me<L.length;me++){const ge=L[me];if("["!==ge&&"]"!==ge){if(":"===ge){if(!0===te&&(ie=!0),!ae())break;if(G++,q.push(":"),G>7){B.error=!0;break}me-1>=0&&":"===L[me-1]&&(te=!0);continue}if("%"!==ge){X.push(ge);continue}if(!ae())break;Q=!0}}return X.length&&(Q?B.zone=X.join(""):q.push(ie?X.join(""):U(X))),B.address=q.join(""),B}(L);if(B.error)return{host:L,isIPV6:!1};{let q=B.address,X=B.address;return B.zone&&(q+="%"+B.zone,X+="%25"+B.zone),{host:q,escapedHost:X,isIPV6:!0}}}function T(L,G){let B="",q=!0;const X=L.length;for(let Q=0;Q<X;Q++){const te=L[Q];"0"===te&&q?(Q+1<=X&&L[Q+1]===G||Q+1===X)&&(B+=te,q=!1):(q=te===G,B+=te)}return B}function w(L,G){let B=0;for(let q=0;q<L.length;q++)L[q]===G&&B++;return B}const x=/^\.\.?\//u,R=/^\/\.(?:\/|$)/u,k=/^\/\.\.(?:\/|$)/u,v=/^\/?(?:.|\n)*?(?=\/|$)/u;ye.exports={recomposeAuthority:function P(L,G){const B=[];if(void 0!==L.userinfo&&(B.push(L.userinfo),B.push("@")),void 0!==L.host){let q=unescape(L.host);const X=$(q);if(X.isIPV4)q=X.host;else{const Q=y(X.host,{isIPV4:!1});q=!0===Q.isIPV6?`[${Q.escapedHost}]`:L.host}B.push(q)}return("number"==typeof L.port||"string"==typeof L.port)&&(B.push(":"),B.push(String(L.port))),B.length?B.join(""):void 0},normalizeComponentEncoding:function M(L,G){const B=!0!==G?escape:unescape;return void 0!==L.scheme&&(L.scheme=B(L.scheme)),void 0!==L.userinfo&&(L.userinfo=B(L.userinfo)),void 0!==L.host&&(L.host=B(L.host)),void 0!==L.path&&(L.path=B(L.path)),void 0!==L.query&&(L.query=B(L.query)),void 0!==L.fragment&&(L.fragment=B(L.fragment)),L},removeDotSegments:function N(L){const G=[];for(;L.length;)if(L.match(x))L=L.replace(x,"");else if(L.match(R))L=L.replace(R,"/");else if(L.match(k))L=L.replace(k,"/"),G.pop();else if("."===L||".."===L)L="";else{const B=L.match(v);if(!B)throw new Error("Unexpected dot segment condition");{const q=B[0];L=L.slice(q.length),G.push(q)}}return G.join("")},normalizeIPv4:$,normalizeIPv6:y,stringArrayToHexStripped:U}},25172:ye=>{ye.exports=function I(A,O){this.v=A,this.k=O},ye.exports.__esModule=!0,ye.exports.default=ye.exports},93513:(ye,I,A)=>{var O=A(25172);ye.exports=function $(U){var K={},y=!1;function T(w,x){return y=!0,x=new Promise(function(R){R(U[w](x))}),{done:!1,value:new O(x,1)}}return K[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},K.next=function(w){return y?(y=!1,w):T("next",w)},"function"==typeof U.throw&&(K.throw=function(w){if(y)throw y=!1,w;return T("throw",w)}),"function"==typeof U.return&&(K.return=function(w){return y?(y=!1,w):T("return",w)}),K},ye.exports.__esModule=!0,ye.exports.default=ye.exports},82881:ye=>{function A(O){function $(U){if(Object(U)!==U)return Promise.reject(new TypeError(U+" is not an object."));var K=U.done;return Promise.resolve(U.value).then(function(y){return{value:y,done:K}})}return(A=function(K){this.s=K,this.n=K.next}).prototype={s:null,n:null,next:function(){return $(this.n.apply(this.s,arguments))},return:function(K){var y=this.s.return;return void 0===y?Promise.resolve({value:K,done:!0}):$(y.apply(this.s,arguments))},throw:function(K){var y=this.s.return;return void 0===y?Promise.reject(K):$(y.apply(this.s,arguments))}},new A(O)}ye.exports=function I(O){var $,U,K,y=2;for(typeof Symbol<"u"&&(U=Symbol.asyncIterator,K=Symbol.iterator);y--;){if(U&&null!=($=O[U]))return $.call(O);if(K&&null!=($=O[K]))return new A($.call(O));U="@@asyncIterator",K="@@iterator"}throw new TypeError("Object is not async iterable")},ye.exports.__esModule=!0,ye.exports.default=ye.exports},29293:ye=>{function I(O,$,U,K,y,T,w){try{var x=O[T](w),R=x.value}catch(k){return void U(k)}x.done?$(R):Promise.resolve(R).then(K,y)}ye.exports=function A(O){return function(){var $=this,U=arguments;return new Promise(function(K,y){var T=O.apply($,U);function w(R){I(T,K,y,w,x,"next",R)}function x(R){I(T,K,y,w,x,"throw",R)}w(void 0)})}},ye.exports.__esModule=!0,ye.exports.default=ye.exports},53344:(ye,I,A)=>{var O=A(25172);ye.exports=function $(U){return new O(U,0)},ye.exports.__esModule=!0,ye.exports.default=ye.exports},42958:(ye,I,A)=>{var O=A(25172);function U(K){var y,T;function w(R,k){try{var v=K[R](k),N=v.value,M=N instanceof O;Promise.resolve(M?N.v:N).then(function(P){if(M){var L="return"===R?"return":"next";if(!N.k||P.done)return w(L,P);P=K[L](P).value}x(v.done?"return":"normal",P)},function(P){w("throw",P)})}catch(P){x("throw",P)}}function x(R,k){switch(R){case"return":y.resolve({value:k,done:!0});break;case"throw":y.reject(k);break;default:y.resolve({value:k,done:!1})}(y=y.next)?w(y.key,y.arg):T=null}this._invoke=function(R,k){return new Promise(function(v,N){var M={key:R,arg:k,resolve:v,reject:N,next:null};T?T=T.next=M:(y=T=M,w(R,k))})},"function"!=typeof K.return&&(this.return=void 0)}U.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},U.prototype.next=function(K){return this._invoke("next",K)},U.prototype.throw=function(K){return this._invoke("throw",K)},U.prototype.return=function(K){return this._invoke("return",K)},ye.exports=function $(K){return function(){return new U(K.apply(this,arguments))}},ye.exports.__esModule=!0,ye.exports.default=ye.exports},49969:(ye,I,A)=>{"use strict";A.d(I,{FX:()=>de,If:()=>O,K2:()=>T,hZ:()=>U,i0:()=>K,iF:()=>w,kY:()=>k,kp:()=>$,sf:()=>me,ui:()=>ge,wk:()=>x});var O=function(z){return z[z.State=0]="State",z[z.Transition=1]="Transition",z[z.Sequence=2]="Sequence",z[z.Group=3]="Group",z[z.Animate=4]="Animate",z[z.Keyframes=5]="Keyframes",z[z.Style=6]="Style",z[z.Trigger=7]="Trigger",z[z.Reference=8]="Reference",z[z.AnimateChild=9]="AnimateChild",z[z.AnimateRef=10]="AnimateRef",z[z.Query=11]="Query",z[z.Stagger=12]="Stagger",z}(O||{});const $="*";function U(z,d){return{type:O.Trigger,name:z,definitions:d,options:{}}}function K(z,d=null){return{type:O.Animate,styles:d,timings:z}}function T(z,d=null){return{type:O.Sequence,steps:z,options:d}}function w(z){return{type:O.Style,styles:z,offset:null}}function x(z,d,f){return{type:O.State,name:z,styles:d,options:f}}function k(z,d,f=null){return{type:O.Transition,expr:z,animation:d,options:f}}class me{constructor(d=0,f=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=d+f}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(d){this._position=this.totalTime?d*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(d){const f="start"==d?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}class ge{constructor(d){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=d;let f=0,b=0,C=0;const D=this.players.length;0==D?queueMicrotask(()=>this._onFinish()):this.players.forEach(V=>{V.onDone(()=>{++f==D&&this._onFinish()}),V.onDestroy(()=>{++b==D&&this._onDestroy()}),V.onStart(()=>{++C==D&&this._onStart()})}),this.totalTime=this.players.reduce((V,Y)=>Math.max(V,Y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this.players.forEach(d=>d.init())}onStart(d){this._onStartFns.push(d)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(d=>d()),this._onStartFns=[])}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(d=>d.play())}pause(){this.players.forEach(d=>d.pause())}restart(){this.players.forEach(d=>d.restart())}finish(){this._onFinish(),this.players.forEach(d=>d.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(d=>d.destroy()),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this.players.forEach(d=>d.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(d){const f=d*this.totalTime;this.players.forEach(b=>{const C=b.totalTime?Math.min(1,f/b.totalTime):1;b.setPosition(C)})}getPosition(){const d=this.players.reduce((f,b)=>null===f||b.totalTime>f.totalTime?b:f,null);return null!=d?d.getPosition():0}beforeDestroy(){this.players.forEach(d=>{d.beforeDestroy&&d.beforeDestroy()})}triggerCallback(d){const f="start"==d?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}const de="!"},68008:(ye,I,A)=>{"use strict";A.r(I),A.d(I,{AnimationDriver:()=>mt,NoopAnimationDriver:()=>wt,\u0275Animation:()=>Mb,\u0275AnimationEngine:()=>Zm,\u0275AnimationRenderer:()=>fd,\u0275AnimationRendererFactory:()=>hx,\u0275AnimationStyleNormalizer:()=>rt,\u0275BaseAnimationRenderer:()=>Vg,\u0275NoopAnimationStyleNormalizer:()=>Ut,\u0275WebAnimationsDriver:()=>eA,\u0275WebAnimationsPlayer:()=>kc,\u0275WebAnimationsStyleNormalizer:()=>It,\u0275allowPreviousPlayerStylesMerge:()=>Ge,\u0275camelCaseToDashCase:()=>Be,\u0275containsElement:()=>Ne,\u0275createEngine:()=>nl,\u0275getParentElement:()=>u,\u0275invokeQuery:()=>We,\u0275normalizeKeyframes:()=>nn,\u0275validateStyleProperty:()=>Ce,\u0275validateWebAnimatableStyleProperty:()=>ke});var O=A(49969),$=A(54438);function K(Pt){return new $.wOt(3e3,!1)}const re=new Set(["-moz-outline-radius","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-ms-grid-columns","-ms-grid-rows","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color","accent-color","all","backdrop-filter","background","background-color","background-position","background-size","block-size","border","border-block-end","border-block-end-color","border-block-end-width","border-block-start","border-block-start-color","border-block-start-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-color","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-slice","border-image-width","border-inline-end","border-inline-end-color","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-start-end-radius","border-start-start-radius","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","border-width","bottom","box-shadow","caret-color","clip","clip-path","color","column-count","column-gap","column-rule","column-rule-color","column-rule-width","column-width","columns","filter","flex","flex-basis","flex-grow","flex-shrink","font","font-size","font-size-adjust","font-stretch","font-variation-settings","font-weight","gap","grid-column-gap","grid-gap","grid-row-gap","grid-template-columns","grid-template-rows","height","inline-size","input-security","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","left","letter-spacing","line-clamp","line-height","margin","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","mask","mask-border","mask-position","mask-size","max-block-size","max-height","max-inline-size","max-lines","max-width","min-block-size","min-height","min-inline-size","min-width","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","outline","outline-color","outline-offset","outline-width","padding","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","perspective","perspective-origin","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-coordinate","scroll-snap-destination","scrollbar-color","shape-image-threshold","shape-margin","shape-outside","tab-size","text-decoration","text-decoration-color","text-decoration-thickness","text-emphasis","text-emphasis-color","text-indent","text-shadow","text-underline-offset","top","transform","transform-origin","translate","vertical-align","visibility","width","word-spacing","z-index","zoom"]);function fe(Pt){switch(Pt.length){case 0:return new O.sf;case 1:return Pt[0];default:return new O.ui(Pt)}}function Ae(Pt,je,qe=new Map,ct=new Map){const _t=[],Nt=[];let Qt=-1,tn=null;if(je.forEach(En=>{const An=En.get("offset"),lr=An==Qt,ur=lr&&tn||new Map;En.forEach(($i,ii)=>{let Fr=ii,gi=$i;if("offset"!==ii)switch(Fr=Pt.normalizePropertyName(Fr,_t),gi){case O.FX:gi=qe.get(ii);break;case O.kp:gi=ct.get(ii);break;default:gi=Pt.normalizeStyleValue(ii,Fr,gi,_t)}ur.set(Fr,gi)}),lr||Nt.push(ur),tn=ur,Qt=An}),_t.length)throw function d(){return new $.wOt(3502,!1)}();return Nt}function Me(Pt,je,qe,ct){switch(je){case"start":Pt.onStart(()=>ct(qe&&Le(qe,"start",Pt)));break;case"done":Pt.onDone(()=>ct(qe&&Le(qe,"done",Pt)));break;case"destroy":Pt.onDestroy(()=>ct(qe&&Le(qe,"destroy",Pt)))}}function Le(Pt,je,qe){const Nt=Ee(Pt.element,Pt.triggerName,Pt.fromState,Pt.toState,je||Pt.phaseName,qe.totalTime??Pt.totalTime,!!qe.disabled),Qt=Pt._data;return null!=Qt&&(Nt._data=Qt),Nt}function Ee(Pt,je,qe,ct,_t="",Nt=0,Qt){return{element:Pt,triggerName:je,fromState:qe,toState:ct,phaseName:_t,totalTime:Nt,disabled:!!Qt}}function Se(Pt,je,qe){let ct=Pt.get(je);return ct||Pt.set(je,ct=qe),ct}function He(Pt){const je=Pt.indexOf(":");return[Pt.substring(1,je),Pt.slice(je+1)]}const Te=typeof document>"u"?null:document.documentElement;function u(Pt){const je=Pt.parentNode||Pt.host||null;return je===Te?null:je}let be=null,_e=!1;function Ce(Pt){be||(be=function ze(){return typeof document<"u"?document.body:null}()||{},_e=!!be.style&&"WebkitAppearance"in be.style);let je=!0;return be.style&&!function xe(Pt){return"ebkit"==Pt.substring(1,6)}(Pt)&&(je=Pt in be.style,!je&&_e&&(je="Webkit"+Pt.charAt(0).toUpperCase()+Pt.slice(1)in be.style)),je}function ke(Pt){return re.has(Pt)}function Ne(Pt,je){for(;je;){if(je===Pt)return!0;je=u(je)}return!1}function We(Pt,je,qe){if(qe)return Array.from(Pt.querySelectorAll(je));const ct=Pt.querySelector(je);return ct?[ct]:[]}let wt=(()=>{class Pt{validateStyleProperty(qe){return Ce(qe)}containsElement(qe,ct){return Ne(qe,ct)}getParentElement(qe){return u(qe)}query(qe,ct,_t){return We(qe,ct,_t)}computeStyle(qe,ct,_t){return _t||""}animate(qe,ct,_t,Nt,Qt,tn=[],En){return new O.sf(_t,Nt)}static{this.\u0275fac=function(ct){return new(ct||Pt)}}static{this.\u0275prov=$.jDH({token:Pt,factory:Pt.\u0275fac})}}return Pt})();class mt{static{this.NOOP=new wt}}class rt{}class Ut{normalizePropertyName(je,qe){return je}normalizeStyleValue(je,qe,ct,_t){return ct}}const se=1e3,he="ng-enter",De="ng-leave",Xe="ng-trigger",Ze=".ng-trigger",at="ng-animating",Rt=".ng-animating";function Mt(Pt){if("number"==typeof Pt)return Pt;const je=Pt.match(/^(-?[\.\d]+)(m?s)/);return!je||je.length<2?0:At(parseFloat(je[1]),je[2])}function At(Pt,je){return"s"===je?Pt*se:Pt}function Wt(Pt,je,qe){return Pt.hasOwnProperty("duration")?Pt:function Bt(Pt,je,qe){let _t,Nt=0,Qt="";if("string"==typeof Pt){const tn=Pt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===tn)return je.push(K()),{duration:0,delay:0,easing:""};_t=At(parseFloat(tn[1]),tn[2]);const En=tn[3];null!=En&&(Nt=At(parseFloat(En),tn[4]));const An=tn[5];An&&(Qt=An)}else _t=Pt;if(!qe){let tn=!1,En=je.length;_t<0&&(je.push(function y(){return new $.wOt(3100,!1)}()),tn=!0),Nt<0&&(je.push(function T(){return new $.wOt(3101,!1)}()),tn=!0),tn&&je.splice(En,0,K())}return{duration:_t,delay:Nt,easing:Qt}}(Pt,je,qe)}function nn(Pt){return Pt.length?Pt[0]instanceof Map?Pt:Pt.map(je=>new Map(Object.entries(je))):[]}function Hn(Pt){return Array.isArray(Pt)?new Map(...Pt):new Map(Pt)}function sn(Pt,je,qe){je.forEach((ct,_t)=>{const Nt=ln(_t);qe&&!qe.has(_t)&&qe.set(_t,Pt.style[Nt]),Pt.style[Nt]=ct})}function an(Pt,je){je.forEach((qe,ct)=>{const _t=ln(ct);Pt.style[_t]=""})}function kn(Pt){return Array.isArray(Pt)?1==Pt.length?Pt[0]:(0,O.K2)(Pt):Pt}const st=new RegExp("{{\\s*(.+?)\\s*}}","g");function gt(Pt){let je=[];if("string"==typeof Pt){let qe;for(;qe=st.exec(Pt);)je.push(qe[1]);st.lastIndex=0}return je}function dt(Pt,je,qe){const ct=`${Pt}`,_t=ct.replace(st,(Nt,Qt)=>{let tn=je[Qt];return null==tn&&(qe.push(function x(){return new $.wOt(3003,!1)}()),tn=""),tn.toString()});return _t==ct?Pt:_t}const yt=/-+([a-z0-9])/g;function ln(Pt){return Pt.replace(yt,(...je)=>je[1].toUpperCase())}function Be(Pt){return Pt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ge(Pt,je){return 0===Pt||0===je}function et(Pt,je,qe){switch(je.type){case O.If.Trigger:return Pt.visitTrigger(je,qe);case O.If.State:return Pt.visitState(je,qe);case O.If.Transition:return Pt.visitTransition(je,qe);case O.If.Sequence:return Pt.visitSequence(je,qe);case O.If.Group:return Pt.visitGroup(je,qe);case O.If.Animate:return Pt.visitAnimate(je,qe);case O.If.Keyframes:return Pt.visitKeyframes(je,qe);case O.If.Style:return Pt.visitStyle(je,qe);case O.If.Reference:return Pt.visitReference(je,qe);case O.If.AnimateChild:return Pt.visitAnimateChild(je,qe);case O.If.AnimateRef:return Pt.visitAnimateRef(je,qe);case O.If.Query:return Pt.visitQuery(je,qe);case O.If.Stagger:return Pt.visitStagger(je,qe);default:throw function R(){return new $.wOt(3004,!1)}()}}function ut(Pt,je){return window.getComputedStyle(Pt)[je]}const en=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class It extends rt{normalizePropertyName(je,qe){return ln(je)}normalizeStyleValue(je,qe,ct,_t){let Nt="";const Qt=ct.toString().trim();if(en.has(qe)&&0!==ct&&"0"!==ct)if("number"==typeof ct)Nt="px";else{const tn=ct.match(/^[+-]?[\d\.]+([a-z]*)$/);tn&&0==tn[1].length&&_t.push(function k(){return new $.wOt(3005,!1)}())}return Qt+Nt}}const Bn="*";const tr=new Set(["true","1"]),Xn=new Set(["false","0"]);function pi(Pt,je){const qe=tr.has(Pt)||Xn.has(Pt),ct=tr.has(je)||Xn.has(je);return(_t,Nt)=>{let Qt=Pt==Bn||Pt==_t,tn=je==Bn||je==Nt;return!Qt&&qe&&"boolean"==typeof _t&&(Qt=_t?tr.has(Pt):Xn.has(Pt)),!tn&&ct&&"boolean"==typeof Nt&&(tn=Nt?tr.has(je):Xn.has(je)),Qt&&tn}}const Rr=new RegExp("s*:selfs*,?","g");function Un(Pt,je,qe,ct){return new Jr(Pt).build(je,qe,ct)}class Jr{constructor(je){this._driver=je}build(je,qe,ct){const _t=new qn(qe);return this._resetContextStyleTimingState(_t),et(this,kn(je),_t)}_resetContextStyleTimingState(je){je.currentQuerySelector="",je.collectedStyles=new Map,je.collectedStyles.set("",new Map),je.currentTime=0}visitTrigger(je,qe){let ct=qe.queryCount=0,_t=qe.depCount=0;const Nt=[],Qt=[];return"@"==je.name.charAt(0)&&qe.errors.push(function v(){return new $.wOt(3006,!1)}()),je.definitions.forEach(tn=>{if(this._resetContextStyleTimingState(qe),tn.type==O.If.State){const En=tn,An=En.name;An.toString().split(/\s*,\s*/).forEach(lr=>{En.name=lr,Nt.push(this.visitState(En,qe))}),En.name=An}else if(tn.type==O.If.Transition){const En=this.visitTransition(tn,qe);ct+=En.queryCount,_t+=En.depCount,Qt.push(En)}else qe.errors.push(function N(){return new $.wOt(3007,!1)}())}),{type:O.If.Trigger,name:je.name,states:Nt,transitions:Qt,queryCount:ct,depCount:_t,options:null}}visitState(je,qe){const ct=this.visitStyle(je.styles,qe),_t=je.options&&je.options.params||null;if(ct.containsDynamicStyles){const Nt=new Set,Qt=_t||{};ct.styles.forEach(tn=>{tn instanceof Map&&tn.forEach(En=>{gt(En).forEach(An=>{Qt.hasOwnProperty(An)||Nt.add(An)})})}),Nt.size&&qe.errors.push(function M(){return new $.wOt(3008,!1)}(0,Nt.values()))}return{type:O.If.State,name:je.name,style:ct,options:_t?{params:_t}:null}}visitTransition(je,qe){qe.queryCount=0,qe.depCount=0;const ct=et(this,kn(je.animation),qe),_t=function gr(Pt,je){const qe=[];return"string"==typeof Pt?Pt.split(/\s*,\s*/).forEach(ct=>function Vn(Pt,je,qe){if(":"==Pt[0]){const En=function nr(Pt,je){switch(Pt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(qe,ct)=>parseFloat(ct)>parseFloat(qe);case":decrement":return(qe,ct)=>parseFloat(ct)<parseFloat(qe);default:return je.push(function me(){return new $.wOt(3016,!1)}()),"* => *"}}(Pt,qe);if("function"==typeof En)return void je.push(En);Pt=En}const ct=Pt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ct||ct.length<4)return qe.push(function ae(){return new $.wOt(3015,!1)}()),je;const _t=ct[1],Nt=ct[2],Qt=ct[3];je.push(pi(_t,Qt)),"<"==Nt[0]&&(_t!=Bn||Qt!=Bn)&&je.push(pi(Qt,_t))}(ct,qe,je)):qe.push(Pt),qe}(je.expr,qe.errors);return{type:O.If.Transition,matchers:_t,animation:ct,queryCount:qe.queryCount,depCount:qe.depCount,options:Ti(je.options)}}visitSequence(je,qe){return{type:O.If.Sequence,steps:je.steps.map(ct=>et(this,ct,qe)),options:Ti(je.options)}}visitGroup(je,qe){const ct=qe.currentTime;let _t=0;const Nt=je.steps.map(Qt=>{qe.currentTime=ct;const tn=et(this,Qt,qe);return _t=Math.max(_t,qe.currentTime),tn});return qe.currentTime=_t,{type:O.If.Group,steps:Nt,options:Ti(je.options)}}visitAnimate(je,qe){const ct=function xi(Pt,je){if(Pt.hasOwnProperty("duration"))return Pt;if("number"==typeof Pt)return qs(Wt(Pt,je).duration,0,"");const qe=Pt;if(qe.split(/\s+/).some(Nt=>"{"==Nt.charAt(0)&&"{"==Nt.charAt(1))){const Nt=qs(0,0,"");return Nt.dynamic=!0,Nt.strValue=qe,Nt}const _t=Wt(qe,je);return qs(_t.duration,_t.delay,_t.easing)}(je.timings,qe.errors);qe.currentAnimateTimings=ct;let _t,Nt=je.styles?je.styles:(0,O.iF)({});if(Nt.type==O.If.Keyframes)_t=this.visitKeyframes(Nt,qe);else{let Qt=je.styles,tn=!1;if(!Qt){tn=!0;const An={};ct.easing&&(An.easing=ct.easing),Qt=(0,O.iF)(An)}qe.currentTime+=ct.duration+ct.delay;const En=this.visitStyle(Qt,qe);En.isEmptyStep=tn,_t=En}return qe.currentAnimateTimings=null,{type:O.If.Animate,timings:ct,style:_t,options:null}}visitStyle(je,qe){const ct=this._makeStyleAst(je,qe);return this._validateStyleAst(ct,qe),ct}_makeStyleAst(je,qe){const ct=[],_t=Array.isArray(je.styles)?je.styles:[je.styles];for(let tn of _t)"string"==typeof tn?tn===O.kp?ct.push(tn):qe.errors.push(new $.wOt(3002,!1)):ct.push(new Map(Object.entries(tn)));let Nt=!1,Qt=null;return ct.forEach(tn=>{if(tn instanceof Map&&(tn.has("easing")&&(Qt=tn.get("easing"),tn.delete("easing")),!Nt))for(let En of tn.values())if(En.toString().indexOf("{{")>=0){Nt=!0;break}}),{type:O.If.Style,styles:ct,easing:Qt,offset:je.offset,containsDynamicStyles:Nt,options:null}}_validateStyleAst(je,qe){const ct=qe.currentAnimateTimings;let _t=qe.currentTime,Nt=qe.currentTime;ct&&Nt>0&&(Nt-=ct.duration+ct.delay),je.styles.forEach(Qt=>{"string"!=typeof Qt&&Qt.forEach((tn,En)=>{const An=qe.collectedStyles.get(qe.currentQuerySelector),lr=An.get(En);let ur=!0;lr&&(Nt!=_t&&Nt>=lr.startTime&&_t<=lr.endTime&&(qe.errors.push(function G(){return new $.wOt(3010,!1)}()),ur=!1),Nt=lr.startTime),ur&&An.set(En,{startTime:Nt,endTime:_t}),qe.options&&function Ve(Pt,je,qe){const ct=je.params||{},_t=gt(Pt);_t.length&&_t.forEach(Nt=>{ct.hasOwnProperty(Nt)||qe.push(function w(){return new $.wOt(3001,!1)}())})}(tn,qe.options,qe.errors)})})}visitKeyframes(je,qe){const ct={type:O.If.Keyframes,styles:[],options:null};if(!qe.currentAnimateTimings)return qe.errors.push(function B(){return new $.wOt(3011,!1)}()),ct;let Nt=0;const Qt=[];let tn=!1,En=!1,An=0;const lr=je.steps.map(gs=>{const Lo=this._makeStyleAst(gs,qe);let rc=null!=Lo.offset?Lo.offset:function $r(Pt){if("string"==typeof Pt)return null;let je=null;if(Array.isArray(Pt))Pt.forEach(qe=>{if(qe instanceof Map&&qe.has("offset")){const ct=qe;je=parseFloat(ct.get("offset")),ct.delete("offset")}});else if(Pt instanceof Map&&Pt.has("offset")){const qe=Pt;je=parseFloat(qe.get("offset")),qe.delete("offset")}return je}(Lo.styles),fo=0;return null!=rc&&(Nt++,fo=Lo.offset=rc),En=En||fo<0||fo>1,tn=tn||fo<An,An=fo,Qt.push(fo),Lo});En&&qe.errors.push(function q(){return new $.wOt(3012,!1)}()),tn&&qe.errors.push(function X(){return new $.wOt(3200,!1)}());const ur=je.steps.length;let $i=0;Nt>0&&Nt<ur?qe.errors.push(function Q(){return new $.wOt(3202,!1)}()):0==Nt&&($i=1/(ur-1));const ii=ur-1,Fr=qe.currentTime,gi=qe.currentAnimateTimings,Yi=gi.duration;return lr.forEach((gs,Lo)=>{const rc=$i>0?Lo==ii?1:$i*Lo:Qt[Lo],fo=rc*Yi;qe.currentTime=Fr+gi.delay+fo,gi.duration=fo,this._validateStyleAst(gs,qe),gs.offset=rc,ct.styles.push(gs)}),ct}visitReference(je,qe){return{type:O.If.Reference,animation:et(this,kn(je.animation),qe),options:Ti(je.options)}}visitAnimateChild(je,qe){return qe.depCount++,{type:O.If.AnimateChild,options:Ti(je.options)}}visitAnimateRef(je,qe){return{type:O.If.AnimateRef,animation:this.visitReference(je.animation,qe),options:Ti(je.options)}}visitQuery(je,qe){const ct=qe.currentQuerySelector,_t=je.options||{};qe.queryCount++,qe.currentQuery=je;const[Nt,Qt]=function Qr(Pt){const je=!!Pt.split(/\s*,\s*/).find(qe=>":self"==qe);return je&&(Pt=Pt.replace(Rr,"")),Pt=Pt.replace(/@\*/g,Ze).replace(/@\w+/g,qe=>Ze+"-"+qe.slice(1)).replace(/:animating/g,Rt),[Pt,je]}(je.selector);qe.currentQuerySelector=ct.length?ct+" "+Nt:Nt,Se(qe.collectedStyles,qe.currentQuerySelector,new Map);const tn=et(this,kn(je.animation),qe);return qe.currentQuery=null,qe.currentQuerySelector=ct,{type:O.If.Query,selector:Nt,limit:_t.limit||0,optional:!!_t.optional,includeSelf:Qt,animation:tn,originalSelector:je.selector,options:Ti(je.options)}}visitStagger(je,qe){qe.currentQuery||qe.errors.push(function te(){return new $.wOt(3013,!1)}());const ct="full"===je.timings?{duration:0,delay:0,easing:"full"}:Wt(je.timings,qe.errors,!0);return{type:O.If.Stagger,animation:et(this,kn(je.animation),qe),timings:ct,options:null}}}class qn{constructor(je){this.errors=je,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ti(Pt){return Pt?(Pt={...Pt}).params&&(Pt.params=function Tr(Pt){return Pt?{...Pt}:null}(Pt.params)):Pt={},Pt}function qs(Pt,je,qe){return{duration:Pt,delay:je,easing:qe}}function vi(Pt,je,qe,ct,_t,Nt,Qt=null,tn=!1){return{type:1,element:Pt,keyframes:je,preStyleProps:qe,postStyleProps:ct,duration:_t,delay:Nt,totalTime:_t+Nt,easing:Qt,subTimeline:tn}}class Fo{constructor(){this._map=new Map}get(je){return this._map.get(je)||[]}append(je,qe){let ct=this._map.get(je);ct||this._map.set(je,ct=[]),ct.push(...qe)}has(je){return this._map.has(je)}clear(){this._map.clear()}}const is=new RegExp(":enter","g"),jd=new RegExp(":leave","g");function La(Pt,je,qe,ct,_t,Nt=new Map,Qt=new Map,tn,En,An=[]){return(new No).buildKeyframes(Pt,je,qe,ct,_t,Nt,Qt,tn,En,An)}class No{buildKeyframes(je,qe,ct,_t,Nt,Qt,tn,En,An,lr=[]){An=An||new Fo;const ur=new Cc(je,qe,An,_t,Nt,lr,[]);ur.options=En;const $i=En.delay?Mt(En.delay):0;ur.currentTimeline.delayNextStep($i),ur.currentTimeline.setStyles([Qt],null,ur.errors,En),et(this,ct,ur);const ii=ur.timelines.filter(Fr=>Fr.containsAnimation());if(ii.length&&tn.size){let Fr;for(let gi=ii.length-1;gi>=0;gi--){const Yi=ii[gi];if(Yi.element===qe){Fr=Yi;break}}Fr&&!Fr.allowOnlyTimelineStyles()&&Fr.setStyles([tn],null,ur.errors,En)}return ii.length?ii.map(Fr=>Fr.buildKeyframes()):[vi(qe,[],[],[],0,$i,"",!1)]}visitTrigger(je,qe){}visitState(je,qe){}visitTransition(je,qe){}visitAnimateChild(je,qe){const ct=qe.subInstructions.get(qe.element);if(ct){const _t=qe.createSubContext(je.options),Nt=qe.currentTimeline.currentTime,Qt=this._visitSubInstructions(ct,_t,_t.options);Nt!=Qt&&qe.transformIntoNewTimeline(Qt)}qe.previousNode=je}visitAnimateRef(je,qe){const ct=qe.createSubContext(je.options);ct.transformIntoNewTimeline(),this._applyAnimationRefDelays([je.options,je.animation.options],qe,ct),this.visitReference(je.animation,ct),qe.transformIntoNewTimeline(ct.currentTimeline.currentTime),qe.previousNode=je}_applyAnimationRefDelays(je,qe,ct){for(const _t of je){const Nt=_t?.delay;if(Nt){const Qt="number"==typeof Nt?Nt:Mt(dt(Nt,_t?.params??{},qe.errors));ct.delayNextStep(Qt)}}}_visitSubInstructions(je,qe,ct){let Nt=qe.currentTimeline.currentTime;const Qt=null!=ct.duration?Mt(ct.duration):null,tn=null!=ct.delay?Mt(ct.delay):null;return 0!==Qt&&je.forEach(En=>{const An=qe.appendInstructionToTimeline(En,Qt,tn);Nt=Math.max(Nt,An.duration+An.delay)}),Nt}visitReference(je,qe){qe.updateOptions(je.options,!0),et(this,je.animation,qe),qe.previousNode=je}visitSequence(je,qe){const ct=qe.subContextCount;let _t=qe;const Nt=je.options;if(Nt&&(Nt.params||Nt.delay)&&(_t=qe.createSubContext(Nt),_t.transformIntoNewTimeline(),null!=Nt.delay)){_t.previousNode.type==O.If.Style&&(_t.currentTimeline.snapshotCurrentStyles(),_t.previousNode=Xo);const Qt=Mt(Nt.delay);_t.delayNextStep(Qt)}je.steps.length&&(je.steps.forEach(Qt=>et(this,Qt,_t)),_t.currentTimeline.applyStylesToKeyframe(),_t.subContextCount>ct&&_t.transformIntoNewTimeline()),qe.previousNode=je}visitGroup(je,qe){const ct=[];let _t=qe.currentTimeline.currentTime;const Nt=je.options&&je.options.delay?Mt(je.options.delay):0;je.steps.forEach(Qt=>{const tn=qe.createSubContext(je.options);Nt&&tn.delayNextStep(Nt),et(this,Qt,tn),_t=Math.max(_t,tn.currentTimeline.currentTime),ct.push(tn.currentTimeline)}),ct.forEach(Qt=>qe.currentTimeline.mergeTimelineCollectedStyles(Qt)),qe.transformIntoNewTimeline(_t),qe.previousNode=je}_visitTiming(je,qe){if(je.dynamic){const ct=je.strValue;return Wt(qe.params?dt(ct,qe.params,qe.errors):ct,qe.errors)}return{duration:je.duration,delay:je.delay,easing:je.easing}}visitAnimate(je,qe){const ct=qe.currentAnimateTimings=this._visitTiming(je.timings,qe),_t=qe.currentTimeline;ct.delay&&(qe.incrementTime(ct.delay),_t.snapshotCurrentStyles());const Nt=je.style;Nt.type==O.If.Keyframes?this.visitKeyframes(Nt,qe):(qe.incrementTime(ct.duration),this.visitStyle(Nt,qe),_t.applyStylesToKeyframe()),qe.currentAnimateTimings=null,qe.previousNode=je}visitStyle(je,qe){const ct=qe.currentTimeline,_t=qe.currentAnimateTimings;!_t&&ct.hasCurrentStyleProperties()&&ct.forwardFrame();const Nt=_t&&_t.easing||je.easing;je.isEmptyStep?ct.applyEmptyStep(Nt):ct.setStyles(je.styles,Nt,qe.errors,qe.options),qe.previousNode=je}visitKeyframes(je,qe){const ct=qe.currentAnimateTimings,_t=qe.currentTimeline.duration,Nt=ct.duration,tn=qe.createSubContext().currentTimeline;tn.easing=ct.easing,je.styles.forEach(En=>{tn.forwardTime((En.offset||0)*Nt),tn.setStyles(En.styles,En.easing,qe.errors,qe.options),tn.applyStylesToKeyframe()}),qe.currentTimeline.mergeTimelineCollectedStyles(tn),qe.transformIntoNewTimeline(_t+Nt),qe.previousNode=je}visitQuery(je,qe){const ct=qe.currentTimeline.currentTime,_t=je.options||{},Nt=_t.delay?Mt(_t.delay):0;Nt&&(qe.previousNode.type===O.If.Style||0==ct&&qe.currentTimeline.hasCurrentStyleProperties())&&(qe.currentTimeline.snapshotCurrentStyles(),qe.previousNode=Xo);let Qt=ct;const tn=qe.invokeQuery(je.selector,je.originalSelector,je.limit,je.includeSelf,!!_t.optional,qe.errors);qe.currentQueryTotal=tn.length;let En=null;tn.forEach((An,lr)=>{qe.currentQueryIndex=lr;const ur=qe.createSubContext(je.options,An);Nt&&ur.delayNextStep(Nt),An===qe.element&&(En=ur.currentTimeline),et(this,je.animation,ur),ur.currentTimeline.applyStylesToKeyframe(),Qt=Math.max(Qt,ur.currentTimeline.currentTime)}),qe.currentQueryIndex=0,qe.currentQueryTotal=0,qe.transformIntoNewTimeline(Qt),En&&(qe.currentTimeline.mergeTimelineCollectedStyles(En),qe.currentTimeline.snapshotCurrentStyles()),qe.previousNode=je}visitStagger(je,qe){const ct=qe.parentContext,_t=qe.currentTimeline,Nt=je.timings,Qt=Math.abs(Nt.duration),tn=Qt*(qe.currentQueryTotal-1);let En=Qt*qe.currentQueryIndex;switch(Nt.duration<0?"reverse":Nt.easing){case"reverse":En=tn-En;break;case"full":En=ct.currentStaggerTime}const lr=qe.currentTimeline;En&&lr.delayNextStep(En);const ur=lr.currentTime;et(this,je.animation,qe),qe.previousNode=je,ct.currentStaggerTime=_t.currentTime-ur+(_t.startTime-ct.currentTimeline.startTime)}}const Xo={};class Cc{constructor(je,qe,ct,_t,Nt,Qt,tn,En){this._driver=je,this.element=qe,this.subInstructions=ct,this._enterClassName=_t,this._leaveClassName=Nt,this.errors=Qt,this.timelines=tn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=En||new As(this._driver,qe,0),tn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(je,qe){if(!je)return;const ct=je;let _t=this.options;null!=ct.duration&&(_t.duration=Mt(ct.duration)),null!=ct.delay&&(_t.delay=Mt(ct.delay));const Nt=ct.params;if(Nt){let Qt=_t.params;Qt||(Qt=this.options.params={}),Object.keys(Nt).forEach(tn=>{(!qe||!Qt.hasOwnProperty(tn))&&(Qt[tn]=dt(Nt[tn],Qt,this.errors))})}}_copyOptions(){const je={};if(this.options){const qe=this.options.params;if(qe){const ct=je.params={};Object.keys(qe).forEach(_t=>{ct[_t]=qe[_t]})}}return je}createSubContext(je=null,qe,ct){const _t=qe||this.element,Nt=new Cc(this._driver,_t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(_t,ct||0));return Nt.previousNode=this.previousNode,Nt.currentAnimateTimings=this.currentAnimateTimings,Nt.options=this._copyOptions(),Nt.updateOptions(je),Nt.currentQueryIndex=this.currentQueryIndex,Nt.currentQueryTotal=this.currentQueryTotal,Nt.parentContext=this,this.subContextCount++,Nt}transformIntoNewTimeline(je){return this.previousNode=Xo,this.currentTimeline=this.currentTimeline.fork(this.element,je),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(je,qe,ct){const _t={duration:qe??je.duration,delay:this.currentTimeline.currentTime+(ct??0)+je.delay,easing:""},Nt=new va(this._driver,je.element,je.keyframes,je.preStyleProps,je.postStyleProps,_t,je.stretchStartingKeyframe);return this.timelines.push(Nt),_t}incrementTime(je){this.currentTimeline.forwardTime(this.currentTimeline.duration+je)}delayNextStep(je){je>0&&this.currentTimeline.delayNextStep(je)}invokeQuery(je,qe,ct,_t,Nt,Qt){let tn=[];if(_t&&tn.push(this.element),je.length>0){je=(je=je.replace(is,"."+this._enterClassName)).replace(jd,"."+this._leaveClassName);let An=this._driver.query(this.element,je,1!=ct);0!==ct&&(An=ct<0?An.slice(An.length+ct,An.length):An.slice(0,ct)),tn.push(...An)}return!Nt&&0==tn.length&&Qt.push(function ie(){return new $.wOt(3014,!1)}()),tn}}class As{constructor(je,qe,ct,_t){this._driver=je,this.element=qe,this.startTime=ct,this._elementTimelineStylesLookup=_t,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(qe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(qe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(je){const qe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||qe?(this.forwardTime(this.currentTime+je),qe&&this.snapshotCurrentStyles()):this.startTime+=je}fork(je,qe){return this.applyStylesToKeyframe(),new As(this._driver,je,qe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(je){this.applyStylesToKeyframe(),this.duration=je,this._loadKeyframe()}_updateStyle(je,qe){this._localTimelineStyles.set(je,qe),this._globalTimelineStyles.set(je,qe),this._styleSummary.set(je,{time:this.currentTime,value:qe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(je){je&&this._previousKeyframe.set("easing",je);for(let[qe,ct]of this._globalTimelineStyles)this._backFill.set(qe,ct||O.kp),this._currentKeyframe.set(qe,O.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(je,qe,ct,_t){qe&&this._previousKeyframe.set("easing",qe);const Nt=_t&&_t.params||{},Qt=function Hr(Pt,je){const qe=new Map;let ct;return Pt.forEach(_t=>{if("*"===_t){ct??=je.keys();for(let Nt of ct)qe.set(Nt,O.kp)}else for(let[Nt,Qt]of _t)qe.set(Nt,Qt)}),qe}(je,this._globalTimelineStyles);for(let[tn,En]of Qt){const An=dt(En,Nt,ct);this._pendingStyles.set(tn,An),this._localTimelineStyles.has(tn)||this._backFill.set(tn,this._globalTimelineStyles.get(tn)??O.kp),this._updateStyle(tn,An)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((je,qe)=>{this._currentKeyframe.set(qe,je)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((je,qe)=>{this._currentKeyframe.has(qe)||this._currentKeyframe.set(qe,je)}))}snapshotCurrentStyles(){for(let[je,qe]of this._localTimelineStyles)this._pendingStyles.set(je,qe),this._updateStyle(je,qe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const je=[];for(let qe in this._currentKeyframe)je.push(qe);return je}mergeTimelineCollectedStyles(je){je._styleSummary.forEach((qe,ct)=>{const _t=this._styleSummary.get(ct);(!_t||qe.time>_t.time)&&this._updateStyle(ct,qe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const je=new Set,qe=new Set,ct=1===this._keyframes.size&&0===this.duration;let _t=[];this._keyframes.forEach((tn,En)=>{const An=new Map([...this._backFill,...tn]);An.forEach((lr,ur)=>{lr===O.FX?je.add(ur):lr===O.kp&&qe.add(ur)}),ct||An.set("offset",En/this.duration),_t.push(An)});const Nt=[...je.values()],Qt=[...qe.values()];if(ct){const tn=_t[0],En=new Map(tn);tn.set("offset",0),En.set("offset",1),_t=[tn,En]}return vi(this.element,_t,Nt,Qt,this.duration,this.startTime,this.easing,!1)}}class va extends As{constructor(je,qe,ct,_t,Nt,Qt,tn=!1){super(je,qe,Qt.delay),this.keyframes=ct,this.preStyleProps=_t,this.postStyleProps=Nt,this._stretchStartingKeyframe=tn,this.timings={duration:Qt.duration,delay:Qt.delay,easing:Qt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let je=this.keyframes,{delay:qe,duration:ct,easing:_t}=this.timings;if(this._stretchStartingKeyframe&&qe){const Nt=[],Qt=ct+qe,tn=qe/Qt,En=new Map(je[0]);En.set("offset",0),Nt.push(En);const An=new Map(je[0]);An.set("offset",Ac(tn)),Nt.push(An);const lr=je.length-1;for(let ur=1;ur<=lr;ur++){let $i=new Map(je[ur]);const ii=$i.get("offset");$i.set("offset",Ac((qe+ii*ct)/Qt)),Nt.push($i)}ct=Qt,qe=0,_t="",je=Nt}return vi(this.element,je,this.preStyleProps,this.postStyleProps,ct,qe,_t,!0)}}function Ac(Pt,je=3){const qe=Math.pow(10,je-1);return Math.round(Pt*qe)/qe}function ni(Pt,je,qe,ct,_t,Nt,Qt,tn,En,An,lr,ur,$i){return{type:0,element:Pt,triggerName:je,isRemovalTransition:_t,fromState:qe,fromStyles:Nt,toState:ct,toStyles:Qt,timelines:tn,queriedElements:En,preStyleProps:An,postStyleProps:lr,totalTime:ur,errors:$i}}const Tc={};class Zc{constructor(je,qe,ct){this._triggerName=je,this.ast=qe,this._stateStyles=ct}match(je,qe,ct,_t){return function Jc(Pt,je,qe,ct,_t){return Pt.some(Nt=>Nt(je,qe,ct,_t))}(this.ast.matchers,je,qe,ct,_t)}buildStyles(je,qe,ct){let _t=this._stateStyles.get("*");return void 0!==je&&(_t=this._stateStyles.get(je?.toString())||_t),_t?_t.buildStyles(qe,ct):new Map}build(je,qe,ct,_t,Nt,Qt,tn,En,An,lr){const ur=[],$i=this.ast.options&&this.ast.options.params||Tc,Fr=this.buildStyles(ct,tn&&tn.params||Tc,ur),gi=En&&En.params||Tc,Yi=this.buildStyles(_t,gi,ur),gs=new Set,Lo=new Map,rc=new Map,fo="void"===_t,Cu={params:jl(gi,$i),delay:this.ast.options?.delay},Au=lr?[]:La(je,qe,this.ast.animation,Nt,Qt,Fr,Yi,Cu,An,ur);let ja=0;return Au.forEach(Ic=>{ja=Math.max(Ic.duration+Ic.delay,ja)}),ur.length?ni(qe,this._triggerName,ct,_t,fo,Fr,Yi,[],[],Lo,rc,ja,ur):(Au.forEach(Ic=>{const Mh=Ic.element,Pp=Se(Lo,Mh,new Set);Ic.preStyleProps.forEach(Vd=>Pp.add(Vd));const Ug=Se(rc,Mh,new Set);Ic.postStyleProps.forEach(Vd=>Ug.add(Vd)),Mh!==qe&&gs.add(Mh)}),ni(qe,this._triggerName,ct,_t,fo,Fr,Yi,Au,[...gs.values()],Lo,rc,ja))}}function jl(Pt,je){const qe={...je};return Object.entries(Pt).forEach(([ct,_t])=>{null!=_t&&(qe[ct]=_t)}),qe}class nc{constructor(je,qe,ct){this.styles=je,this.defaultParams=qe,this.normalizer=ct}buildStyles(je,qe){const ct=new Map,_t=jl(je,this.defaultParams);return this.styles.styles.forEach(Nt=>{"string"!=typeof Nt&&Nt.forEach((Qt,tn)=>{Qt&&(Qt=dt(Qt,_t,qe));const En=this.normalizer.normalizePropertyName(tn,qe);Qt=this.normalizer.normalizeStyleValue(tn,En,Qt,qe),ct.set(tn,Qt)})}),ct}}class ps{constructor(je,qe,ct){this.name=je,this.ast=qe,this._normalizer=ct,this.transitionFactories=[],this.states=new Map,qe.states.forEach(_t=>{this.states.set(_t.name,new nc(_t.style,_t.options&&_t.options.params||{},ct))}),Ke(this.states,"true","1"),Ke(this.states,"false","0"),qe.transitions.forEach(_t=>{this.transitionFactories.push(new Zc(je,_t,this.states))}),this.fallbackTransition=function $l(Pt,je){return new Zc(Pt,{type:O.If.Transition,animation:{type:O.If.Sequence,steps:[],options:null},matchers:[(Qt,tn)=>!0],options:null,queryCount:0,depCount:0},je)}(je,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(je,qe,ct,_t){return this.transitionFactories.find(Qt=>Qt.match(je,qe,ct,_t))||null}matchStyles(je,qe,ct){return this.fallbackTransition.buildStyles(je,qe,ct)}}function Ke(Pt,je,qe){Pt.has(je)?Pt.has(qe)||Pt.set(qe,Pt.get(je)):Pt.has(qe)&&Pt.set(je,Pt.get(qe))}const nt=new Fo;class St{constructor(je,qe,ct){this.bodyNode=je,this._driver=qe,this._normalizer=ct,this._animations=new Map,this._playersById=new Map,this.players=[]}register(je,qe){const ct=[],Nt=Un(this._driver,qe,ct,[]);if(ct.length)throw function f(){return new $.wOt(3503,!1)}();this._animations.set(je,Nt)}_buildPlayer(je,qe,ct){const _t=je.element,Nt=Ae(this._normalizer,je.keyframes,qe,ct);return this._driver.animate(_t,Nt,je.duration,je.delay,je.easing,[],!0)}create(je,qe,ct={}){const _t=[],Nt=this._animations.get(je);let Qt;const tn=new Map;if(Nt?(Qt=La(this._driver,qe,Nt,he,De,new Map,new Map,ct,nt,_t),Qt.forEach(lr=>{const ur=Se(tn,lr.element,new Map);lr.postStyleProps.forEach($i=>ur.set($i,null))})):(_t.push(function b(){return new $.wOt(3300,!1)}()),Qt=[]),_t.length)throw function C(){return new $.wOt(3504,!1)}();tn.forEach((lr,ur)=>{lr.forEach(($i,ii)=>{lr.set(ii,this._driver.computeStyle(ur,ii,O.kp))})});const An=fe(Qt.map(lr=>{const ur=tn.get(lr.element);return this._buildPlayer(lr,new Map,ur)}));return this._playersById.set(je,An),An.onDestroy(()=>this.destroy(je)),this.players.push(An),An}destroy(je){const qe=this._getPlayer(je);qe.destroy(),this._playersById.delete(je);const ct=this.players.indexOf(qe);ct>=0&&this.players.splice(ct,1)}_getPlayer(je){const qe=this._playersById.get(je);if(!qe)throw function D(){return new $.wOt(3301,!1)}();return qe}listen(je,qe,ct,_t){const Nt=Ee(qe,"","","");return Me(this._getPlayer(je),ct,Nt,_t),()=>{}}command(je,qe,ct,_t){if("register"==ct)return void this.register(je,_t[0]);if("create"==ct)return void this.create(je,qe,_t[0]||{});const Nt=this._getPlayer(je);switch(ct){case"play":Nt.play();break;case"pause":Nt.pause();break;case"reset":Nt.reset();break;case"restart":Nt.restart();break;case"finish":Nt.finish();break;case"init":Nt.init();break;case"setPosition":Nt.setPosition(parseFloat(_t[0]));break;case"destroy":this.destroy(je)}}}const pt="ng-animate-queued",Ot="ng-animate-disabled",mr=[],Ei={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Si={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fs="__ng_removed";class Ns{get params(){return this.options.params}constructor(je,qe=""){this.namespaceId=qe;const ct=je&&je.hasOwnProperty("value");if(this.value=function ba(Pt){return Pt??null}(ct?je.value:je),ct){const{value:Nt,...Qt}=je;this.options=Qt}else this.options={};this.options.params||(this.options.params={})}absorbOptions(je){const qe=je.params;if(qe){const ct=this.options.params;Object.keys(qe).forEach(_t=>{null==ct[_t]&&(ct[_t]=qe[_t])})}}}const Qc="void",Bs=new Ns(Qc);class Ym{constructor(je,qe,ct){this.id=je,this.hostElement=qe,this._engine=ct,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+je,Ls(qe,this._hostClassName)}listen(je,qe,ct,_t){if(!this._triggers.has(qe))throw function V(){return new $.wOt(3302,!1)}();if(null==ct||0==ct.length)throw function Y(){return new $.wOt(3303,!1)}();if(!function el(Pt){return"start"==Pt||"done"==Pt}(ct))throw function F(){return new $.wOt(3400,!1)}();const Nt=Se(this._elementListeners,je,[]),Qt={name:qe,phase:ct,callback:_t};Nt.push(Qt);const tn=Se(this._engine.statesByElement,je,new Map);return tn.has(qe)||(Ls(je,Xe),Ls(je,Xe+"-"+qe),tn.set(qe,Bs)),()=>{this._engine.afterFlush(()=>{const En=Nt.indexOf(Qt);En>=0&&Nt.splice(En,1),this._triggers.has(qe)||tn.delete(qe)})}}register(je,qe){return!this._triggers.has(je)&&(this._triggers.set(je,qe),!0)}_getTrigger(je){const qe=this._triggers.get(je);if(!qe)throw function h(){return new $.wOt(3401,!1)}();return qe}trigger(je,qe,ct,_t=!0){const Nt=this._getTrigger(qe),Qt=new So(this.id,qe,je);let tn=this._engine.statesByElement.get(je);tn||(Ls(je,Xe),Ls(je,Xe+"-"+qe),this._engine.statesByElement.set(je,tn=new Map));let En=tn.get(qe);const An=new Ns(ct,this.id);if(!(ct&&ct.hasOwnProperty("value"))&&En&&An.absorbOptions(En.options),tn.set(qe,An),En||(En=Bs),An.value!==Qc&&En.value===An.value){if(!function tl(Pt,je){const qe=Object.keys(Pt),ct=Object.keys(je);if(qe.length!=ct.length)return!1;for(let _t=0;_t<qe.length;_t++){const Nt=qe[_t];if(!je.hasOwnProperty(Nt)||Pt[Nt]!==je[Nt])return!1}return!0}(En.params,An.params)){const gi=[],Yi=Nt.matchStyles(En.value,En.params,gi),gs=Nt.matchStyles(An.value,An.params,gi);gi.length?this._engine.reportError(gi):this._engine.afterFlush(()=>{an(je,Yi),sn(je,gs)})}return}const $i=Se(this._engine.playersByElement,je,[]);$i.forEach(gi=>{gi.namespaceId==this.id&&gi.triggerName==qe&&gi.queued&&gi.destroy()});let ii=Nt.matchTransition(En.value,An.value,je,An.params),Fr=!1;if(!ii){if(!_t)return;ii=Nt.fallbackTransition,Fr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:je,triggerName:qe,transition:ii,fromState:En,toState:An,player:Qt,isFallbackTransition:Fr}),Fr||(Ls(je,pt),Qt.onStart(()=>{Co(je,pt)})),Qt.onDone(()=>{let gi=this.players.indexOf(Qt);gi>=0&&this.players.splice(gi,1);const Yi=this._engine.playersByElement.get(je);if(Yi){let gs=Yi.indexOf(Qt);gs>=0&&Yi.splice(gs,1)}}),this.players.push(Qt),$i.push(Qt),Qt}deregister(je){this._triggers.delete(je),this._engine.statesByElement.forEach(qe=>qe.delete(je)),this._elementListeners.forEach((qe,ct)=>{this._elementListeners.set(ct,qe.filter(_t=>_t.name!=je))})}clearElementCache(je){this._engine.statesByElement.delete(je),this._elementListeners.delete(je);const qe=this._engine.playersByElement.get(je);qe&&(qe.forEach(ct=>ct.destroy()),this._engine.playersByElement.delete(je))}_signalRemovalForInnerTriggers(je,qe){const ct=this._engine.driver.query(je,Ze,!0);ct.forEach(_t=>{if(_t[Fs])return;const Nt=this._engine.fetchNamespacesByElement(_t);Nt.size?Nt.forEach(Qt=>Qt.triggerLeaveAnimation(_t,qe,!1,!0)):this.clearElementCache(_t)}),this._engine.afterFlushAnimationsDone(()=>ct.forEach(_t=>this.clearElementCache(_t)))}triggerLeaveAnimation(je,qe,ct,_t){const Nt=this._engine.statesByElement.get(je),Qt=new Map;if(Nt){const tn=[];if(Nt.forEach((En,An)=>{if(Qt.set(An,En.value),this._triggers.has(An)){const lr=this.trigger(je,An,Qc,_t);lr&&tn.push(lr)}}),tn.length)return this._engine.markElementAsRemoved(this.id,je,!0,qe,Qt),ct&&fe(tn).onDone(()=>this._engine.processLeaveNode(je)),!0}return!1}prepareLeaveAnimationListeners(je){const qe=this._elementListeners.get(je),ct=this._engine.statesByElement.get(je);if(qe&&ct){const _t=new Set;qe.forEach(Nt=>{const Qt=Nt.name;if(_t.has(Qt))return;_t.add(Qt);const En=this._triggers.get(Qt).fallbackTransition,An=ct.get(Qt)||Bs,lr=new Ns(Qc),ur=new So(this.id,Qt,je);this._engine.totalQueuedPlayers++,this._queue.push({element:je,triggerName:Qt,transition:En,fromState:An,toState:lr,player:ur,isFallbackTransition:!0})})}}removeNode(je,qe){const ct=this._engine;if(je.childElementCount&&this._signalRemovalForInnerTriggers(je,qe),this.triggerLeaveAnimation(je,qe,!0))return;let _t=!1;if(ct.totalAnimations){const Nt=ct.players.length?ct.playersByQueriedElement.get(je):[];if(Nt&&Nt.length)_t=!0;else{let Qt=je;for(;Qt=Qt.parentNode;)if(ct.statesByElement.get(Qt)){_t=!0;break}}}if(this.prepareLeaveAnimationListeners(je),_t)ct.markElementAsRemoved(this.id,je,!1,qe);else{const Nt=je[Fs];(!Nt||Nt===Ei)&&(ct.afterFlush(()=>this.clearElementCache(je)),ct.destroyInnerAnimations(je),ct._onRemovalComplete(je,qe))}}insertNode(je,qe){Ls(je,this._hostClassName)}drainQueuedTransitions(je){const qe=[];return this._queue.forEach(ct=>{const _t=ct.player;if(_t.destroyed)return;const Nt=ct.element,Qt=this._elementListeners.get(Nt);Qt&&Qt.forEach(tn=>{if(tn.name==ct.triggerName){const En=Ee(Nt,ct.triggerName,ct.fromState.value,ct.toState.value);En._data=je,Me(ct.player,tn.phase,En,tn.callback)}}),_t.markedForDestroy?this._engine.afterFlush(()=>{_t.destroy()}):qe.push(ct)}),this._queue=[],qe.sort((ct,_t)=>{const Nt=ct.transition.ast.depCount,Qt=_t.transition.ast.depCount;return 0==Nt||0==Qt?Nt-Qt:this._engine.driver.containsElement(ct.element,_t.element)?1:-1})}destroy(je){this.players.forEach(qe=>qe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,je)}}class Jn{_onRemovalComplete(je,qe){this.onRemovalComplete(je,qe)}constructor(je,qe,ct){this.bodyNode=je,this.driver=qe,this._normalizer=ct,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(_t,Nt)=>{}}get queuedPlayers(){const je=[];return this._namespaceList.forEach(qe=>{qe.players.forEach(ct=>{ct.queued&&je.push(ct)})}),je}createNamespace(je,qe){const ct=new Ym(je,qe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,qe)?this._balanceNamespaceList(ct,qe):(this.newHostElements.set(qe,ct),this.collectEnterElement(qe)),this._namespaceLookup[je]=ct}_balanceNamespaceList(je,qe){const ct=this._namespaceList,_t=this.namespacesByHostElement;if(ct.length-1>=0){let Qt=!1,tn=this.driver.getParentElement(qe);for(;tn;){const En=_t.get(tn);if(En){const An=ct.indexOf(En);ct.splice(An+1,0,je),Qt=!0;break}tn=this.driver.getParentElement(tn)}Qt||ct.unshift(je)}else ct.push(je);return _t.set(qe,je),je}register(je,qe){let ct=this._namespaceLookup[je];return ct||(ct=this.createNamespace(je,qe)),ct}registerTrigger(je,qe,ct){let _t=this._namespaceLookup[je];_t&&_t.register(qe,ct)&&this.totalAnimations++}destroy(je,qe){je&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const ct=this._fetchNamespace(je);this.namespacesByHostElement.delete(ct.hostElement);const _t=this._namespaceList.indexOf(ct);_t>=0&&this._namespaceList.splice(_t,1),ct.destroy(qe),delete this._namespaceLookup[je]}))}_fetchNamespace(je){return this._namespaceLookup[je]}fetchNamespacesByElement(je){const qe=new Set,ct=this.statesByElement.get(je);if(ct)for(let _t of ct.values())if(_t.namespaceId){const Nt=this._fetchNamespace(_t.namespaceId);Nt&&qe.add(Nt)}return qe}trigger(je,qe,ct,_t){if(uo(qe)){const Nt=this._fetchNamespace(je);if(Nt)return Nt.trigger(qe,ct,_t),!0}return!1}insertNode(je,qe,ct,_t){if(!uo(qe))return;const Nt=qe[Fs];if(Nt&&Nt.setForRemoval){Nt.setForRemoval=!1,Nt.setForMove=!0;const Qt=this.collectedLeaveElements.indexOf(qe);Qt>=0&&this.collectedLeaveElements.splice(Qt,1)}if(je){const Qt=this._fetchNamespace(je);Qt&&Qt.insertNode(qe,ct)}_t&&this.collectEnterElement(qe)}collectEnterElement(je){this.collectedEnterElements.push(je)}markElementAsDisabled(je,qe){qe?this.disabledNodes.has(je)||(this.disabledNodes.add(je),Ls(je,Ot)):this.disabledNodes.has(je)&&(this.disabledNodes.delete(je),Co(je,Ot))}removeNode(je,qe,ct){if(uo(qe)){const _t=je?this._fetchNamespace(je):null;_t?_t.removeNode(qe,ct):this.markElementAsRemoved(je,qe,!1,ct);const Nt=this.namespacesByHostElement.get(qe);Nt&&Nt.id!==je&&Nt.removeNode(qe,ct)}else this._onRemovalComplete(qe,ct)}markElementAsRemoved(je,qe,ct,_t,Nt){this.collectedLeaveElements.push(qe),qe[Fs]={namespaceId:je,setForRemoval:_t,hasAnimation:ct,removedBeforeQueried:!1,previousTriggersValues:Nt}}listen(je,qe,ct,_t,Nt){return uo(qe)?this._fetchNamespace(je).listen(qe,ct,_t,Nt):()=>{}}_buildInstruction(je,qe,ct,_t,Nt){return je.transition.build(this.driver,je.element,je.fromState.value,je.toState.value,ct,_t,je.fromState.options,je.toState.options,qe,Nt)}destroyInnerAnimations(je){let qe=this.driver.query(je,Ze,!0);qe.forEach(ct=>this.destroyActiveAnimationsForElement(ct)),0!=this.playersByQueriedElement.size&&(qe=this.driver.query(je,Rt,!0),qe.forEach(ct=>this.finishActiveQueriedAnimationOnElement(ct)))}destroyActiveAnimationsForElement(je){const qe=this.playersByElement.get(je);qe&&qe.forEach(ct=>{ct.queued?ct.markedForDestroy=!0:ct.destroy()})}finishActiveQueriedAnimationOnElement(je){const qe=this.playersByQueriedElement.get(je);qe&&qe.forEach(ct=>ct.finish())}whenRenderingDone(){return new Promise(je=>{if(this.players.length)return fe(this.players).onDone(()=>je());je()})}processLeaveNode(je){const qe=je[Fs];if(qe&&qe.setForRemoval){if(je[Fs]=Ei,qe.namespaceId){this.destroyInnerAnimations(je);const ct=this._fetchNamespace(qe.namespaceId);ct&&ct.clearElementCache(je)}this._onRemovalComplete(je,qe.setForRemoval)}je.classList?.contains(Ot)&&this.markElementAsDisabled(je,!1),this.driver.query(je,".ng-animate-disabled",!0).forEach(ct=>{this.markElementAsDisabled(ct,!1)})}flush(je=-1){let qe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ct,_t)=>this._balanceNamespaceList(ct,_t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ct=0;ct<this.collectedEnterElements.length;ct++)Ls(this.collectedEnterElements[ct],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ct=[];try{qe=this._flushAnimations(ct,je)}finally{for(let _t=0;_t<ct.length;_t++)ct[_t]()}}else for(let ct=0;ct<this.collectedLeaveElements.length;ct++)this.processLeaveNode(this.collectedLeaveElements[ct]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ct=>ct()),this._flushFns=[],this._whenQuietFns.length){const ct=this._whenQuietFns;this._whenQuietFns=[],qe.length?fe(qe).onDone(()=>{ct.forEach(_t=>_t())}):ct.forEach(_t=>_t())}}reportError(je){throw function g(){return new $.wOt(3402,!1)}()}_flushAnimations(je,qe){const ct=new Fo,_t=[],Nt=new Map,Qt=[],tn=new Map,En=new Map,An=new Map,lr=new Set;this.disabledNodes.forEach(br=>{lr.add(br);const Br=this.driver.query(br,".ng-animate-queued",!0);for(let Yn=0;Yn<Br.length;Yn++)lr.add(Br[Yn])});const ur=this.bodyNode,$i=Array.from(this.statesByElement.keys()),ii=Mc($i,this.collectedEnterElements),Fr=new Map;let gi=0;ii.forEach((br,Br)=>{const Yn=he+gi++;Fr.set(Br,Yn),br.forEach(Nr=>Ls(Nr,Yn))});const Yi=[],gs=new Set,Lo=new Set;for(let br=0;br<this.collectedLeaveElements.length;br++){const Br=this.collectedLeaveElements[br],Yn=Br[Fs];Yn&&Yn.setForRemoval&&(Yi.push(Br),gs.add(Br),Yn.hasAnimation?this.driver.query(Br,".ng-star-inserted",!0).forEach(Nr=>gs.add(Nr)):Lo.add(Br))}const rc=new Map,fo=Mc($i,Array.from(gs));fo.forEach((br,Br)=>{const Yn=De+gi++;rc.set(Br,Yn),br.forEach(Nr=>Ls(Nr,Yn))}),je.push(()=>{ii.forEach((br,Br)=>{const Yn=Fr.get(Br);br.forEach(Nr=>Co(Nr,Yn))}),fo.forEach((br,Br)=>{const Yn=rc.get(Br);br.forEach(Nr=>Co(Nr,Yn))}),Yi.forEach(br=>{this.processLeaveNode(br)})});const Cu=[],Au=[];for(let br=this._namespaceList.length-1;br>=0;br--)this._namespaceList[br].drainQueuedTransitions(qe).forEach(Yn=>{const Nr=Yn.player,zi=Yn.element;if(Cu.push(Nr),this.collectedEnterElements.length){const Va=zi[Fs];if(Va&&Va.setForMove){if(Va.previousTriggersValues&&Va.previousTriggersValues.has(Yn.triggerName)){const hd=Va.previousTriggersValues.get(Yn.triggerName),pd=this.statesByElement.get(Yn.element);if(pd&&pd.has(Yn.triggerName)){const Jm=pd.get(Yn.triggerName);Jm.value=hd,pd.set(Yn.triggerName,Jm)}}return void Nr.destroy()}}const $a=!ur||!this.driver.containsElement(ur,zi),ys=rc.get(zi),Tu=Fr.get(zi),eo=this._buildInstruction(Yn,ct,Tu,ys,$a);if(eo.errors&&eo.errors.length)return void Au.push(eo);if($a)return Nr.onStart(()=>an(zi,eo.fromStyles)),Nr.onDestroy(()=>sn(zi,eo.toStyles)),void _t.push(Nr);if(Yn.isFallbackTransition)return Nr.onStart(()=>an(zi,eo.fromStyles)),Nr.onDestroy(()=>sn(zi,eo.toStyles)),void _t.push(Nr);const zg=[];eo.timelines.forEach(Va=>{Va.stretchStartingKeyframe=!0,this.disabledNodes.has(Va.element)||zg.push(Va)}),eo.timelines=zg,ct.append(zi,eo.timelines),Qt.push({instruction:eo,player:Nr,element:zi}),eo.queriedElements.forEach(Va=>Se(tn,Va,[]).push(Nr)),eo.preStyleProps.forEach((Va,hd)=>{if(Va.size){let pd=En.get(hd);pd||En.set(hd,pd=new Set),Va.forEach((Jm,Hg)=>pd.add(Hg))}}),eo.postStyleProps.forEach((Va,hd)=>{let pd=An.get(hd);pd||An.set(hd,pd=new Set),Va.forEach((Jm,Hg)=>pd.add(Hg))})});if(Au.length){const br=[];Au.forEach(Br=>{br.push(function ee(){return new $.wOt(3505,!1)}())}),Cu.forEach(Br=>Br.destroy()),this.reportError(br)}const ja=new Map,Ic=new Map;Qt.forEach(br=>{const Br=br.element;ct.has(Br)&&(Ic.set(Br,Br),this._beforeAnimationBuild(br.player.namespaceId,br.instruction,ja))}),_t.forEach(br=>{const Br=br.element;this._getPreviousPlayers(Br,!1,br.namespaceId,br.triggerName,null).forEach(Nr=>{Se(ja,Br,[]).push(Nr),Nr.destroy()})});const Mh=Yi.filter(br=>Ip(br,En,An)),Pp=new Map;Bo(Pp,this.driver,Lo,An,O.kp).forEach(br=>{Ip(br,En,An)&&Mh.push(br)});const Vd=new Map;ii.forEach((br,Br)=>{Bo(Vd,this.driver,new Set(br),En,O.FX)}),Mh.forEach(br=>{const Br=Pp.get(br),Yn=Vd.get(br);Pp.set(br,new Map([...Br?.entries()??[],...Yn?.entries()??[]]))});const px=[],kh=[],mx={};Qt.forEach(br=>{const{element:Br,player:Yn,instruction:Nr}=br;if(ct.has(Br)){if(lr.has(Br))return Yn.onDestroy(()=>sn(Br,Nr.toStyles)),Yn.disabled=!0,Yn.overrideTotalTime(Nr.totalTime),void _t.push(Yn);let zi=mx;if(Ic.size>1){let ys=Br;const Tu=[];for(;ys=ys.parentNode;){const eo=Ic.get(ys);if(eo){zi=eo;break}Tu.push(ys)}Tu.forEach(eo=>Ic.set(eo,zi))}const $a=this._buildAnimation(Yn.namespaceId,Nr,ja,Nt,Vd,Pp);if(Yn.setRealPlayer($a),zi===mx)px.push(Yn);else{const ys=this.playersByElement.get(zi);ys&&ys.length&&(Yn.parentPlayer=fe(ys)),_t.push(Yn)}}else an(Br,Nr.fromStyles),Yn.onDestroy(()=>sn(Br,Nr.toStyles)),kh.push(Yn),lr.has(Br)&&_t.push(Yn)}),kh.forEach(br=>{const Br=Nt.get(br.element);if(Br&&Br.length){const Yn=fe(Br);br.setRealPlayer(Yn)}}),_t.forEach(br=>{br.parentPlayer?br.syncPlayerEvents(br.parentPlayer):br.destroy()});for(let br=0;br<Yi.length;br++){const Br=Yi[br],Yn=Br[Fs];if(Co(Br,De),Yn&&Yn.hasAnimation)continue;let Nr=[];if(tn.size){let $a=tn.get(Br);$a&&$a.length&&Nr.push(...$a);let ys=this.driver.query(Br,Rt,!0);for(let Tu=0;Tu<ys.length;Tu++){let eo=tn.get(ys[Tu]);eo&&eo.length&&Nr.push(...eo)}}const zi=Nr.filter($a=>!$a.destroyed);zi.length?Cf(this,Br,zi):this.processLeaveNode(Br)}return Yi.length=0,px.forEach(br=>{this.players.push(br),br.onDone(()=>{br.destroy();const Br=this.players.indexOf(br);this.players.splice(Br,1)}),br.play()}),px}afterFlush(je){this._flushFns.push(je)}afterFlushAnimationsDone(je){this._whenQuietFns.push(je)}_getPreviousPlayers(je,qe,ct,_t,Nt){let Qt=[];if(qe){const tn=this.playersByQueriedElement.get(je);tn&&(Qt=tn)}else{const tn=this.playersByElement.get(je);if(tn){const En=!Nt||Nt==Qc;tn.forEach(An=>{An.queued||!En&&An.triggerName!=_t||Qt.push(An)})}}return(ct||_t)&&(Qt=Qt.filter(tn=>!(ct&&ct!=tn.namespaceId||_t&&_t!=tn.triggerName))),Qt}_beforeAnimationBuild(je,qe,ct){const Nt=qe.element,Qt=qe.isRemovalTransition?void 0:je,tn=qe.isRemovalTransition?void 0:qe.triggerName;for(const En of qe.timelines){const An=En.element,lr=An!==Nt,ur=Se(ct,An,[]);this._getPreviousPlayers(An,lr,Qt,tn,qe.toState).forEach(ii=>{const Fr=ii.getRealPlayer();Fr.beforeDestroy&&Fr.beforeDestroy(),ii.destroy(),ur.push(ii)})}an(Nt,qe.fromStyles)}_buildAnimation(je,qe,ct,_t,Nt,Qt){const tn=qe.triggerName,En=qe.element,An=[],lr=new Set,ur=new Set,$i=qe.timelines.map(Fr=>{const gi=Fr.element;lr.add(gi);const Yi=gi[Fs];if(Yi&&Yi.removedBeforeQueried)return new O.sf(Fr.duration,Fr.delay);const gs=gi!==En,Lo=function Dh(Pt){const je=[];return fx(Pt,je),je}((ct.get(gi)||mr).map(ja=>ja.getRealPlayer())).filter(ja=>!!ja.element&&ja.element===gi),rc=Nt.get(gi),fo=Qt.get(gi),Cu=Ae(this._normalizer,Fr.keyframes,rc,fo),Au=this._buildPlayer(Fr,Cu,Lo);if(Fr.subTimeline&&_t&&ur.add(gi),gs){const ja=new So(je,tn,gi);ja.setRealPlayer(Au),An.push(ja)}return Au});An.forEach(Fr=>{Se(this.playersByQueriedElement,Fr.element,[]).push(Fr),Fr.onDone(()=>function Vl(Pt,je,qe){let ct=Pt.get(je);if(ct){if(ct.length){const _t=ct.indexOf(qe);ct.splice(_t,1)}0==ct.length&&Pt.delete(je)}return ct}(this.playersByQueriedElement,Fr.element,Fr))}),lr.forEach(Fr=>Ls(Fr,at));const ii=fe($i);return ii.onDestroy(()=>{lr.forEach(Fr=>Co(Fr,at)),sn(En,qe.toStyles)}),ur.forEach(Fr=>{Se(_t,Fr,[]).push(ii)}),ii}_buildPlayer(je,qe,ct){return qe.length>0?this.driver.animate(je.element,qe,je.duration,je.delay,je.easing,ct):new O.sf(je.duration,je.delay)}}class So{constructor(je,qe,ct){this.namespaceId=je,this.triggerName=qe,this.element=ct,this._player=new O.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(je){this._containsRealPlayer||(this._player=je,this._queuedCallbacks.forEach((qe,ct)=>{qe.forEach(_t=>Me(je,ct,void 0,_t))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(je.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(je){this.totalTime=je}syncPlayerEvents(je){const qe=this._player;qe.triggerCallback&&je.onStart(()=>qe.triggerCallback("start")),je.onDone(()=>this.finish()),je.onDestroy(()=>this.destroy())}_queueEvent(je,qe){Se(this._queuedCallbacks,je,[]).push(qe)}onDone(je){this.queued&&this._queueEvent("done",je),this._player.onDone(je)}onStart(je){this.queued&&this._queueEvent("start",je),this._player.onStart(je)}onDestroy(je){this.queued&&this._queueEvent("destroy",je),this._player.onDestroy(je)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(je){this.queued||this._player.setPosition(je)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(je){const qe=this._player;qe.triggerCallback&&qe.triggerCallback(je)}}function uo(Pt){return Pt&&1===Pt.nodeType}function Dc(Pt,je){const qe=Pt.style.display;return Pt.style.display=je??"none",qe}function Bo(Pt,je,qe,ct,_t){const Nt=[];qe.forEach(En=>Nt.push(Dc(En)));const Qt=[];ct.forEach((En,An)=>{const lr=new Map;En.forEach(ur=>{const $i=je.computeStyle(An,ur,_t);lr.set(ur,$i),(!$i||0==$i.length)&&(An[Fs]=Si,Qt.push(An))}),Pt.set(An,lr)});let tn=0;return qe.forEach(En=>Dc(En,Nt[tn++])),Qt}function Mc(Pt,je){const qe=new Map;if(Pt.forEach(tn=>qe.set(tn,[])),0==je.length)return qe;const _t=new Set(je),Nt=new Map;function Qt(tn){if(!tn)return 1;let En=Nt.get(tn);if(En)return En;const An=tn.parentNode;return En=qe.has(An)?An:_t.has(An)?1:Qt(An),Nt.set(tn,En),En}return je.forEach(tn=>{const En=Qt(tn);1!==En&&qe.get(En).push(tn)}),qe}function Ls(Pt,je){Pt.classList?.add(je)}function Co(Pt,je){Pt.classList?.remove(je)}function Cf(Pt,je,qe){fe(qe).onDone(()=>Pt.processLeaveNode(je))}function fx(Pt,je){for(let qe=0;qe<Pt.length;qe++){const ct=Pt[qe];ct instanceof O.ui?fx(ct.players,je):je.push(ct)}}function Ip(Pt,je,qe){const ct=qe.get(Pt);if(!ct)return!1;let _t=je.get(Pt);return _t?ct.forEach(Nt=>_t.add(Nt)):je.set(Pt,ct),qe.delete(Pt),!0}class Zm{constructor(je,qe,ct){this._driver=qe,this._normalizer=ct,this._triggerCache={},this.onRemovalComplete=(_t,Nt)=>{},this._transitionEngine=new Jn(je.body,qe,ct),this._timelineEngine=new St(je.body,qe,ct),this._transitionEngine.onRemovalComplete=(_t,Nt)=>this.onRemovalComplete(_t,Nt)}registerTrigger(je,qe,ct,_t,Nt){const Qt=je+"-"+_t;let tn=this._triggerCache[Qt];if(!tn){const En=[],lr=Un(this._driver,Nt,En,[]);if(En.length)throw function z(){return new $.wOt(3404,!1)}();tn=function Vr(Pt,je,qe){return new ps(Pt,je,qe)}(_t,lr,this._normalizer),this._triggerCache[Qt]=tn}this._transitionEngine.registerTrigger(qe,_t,tn)}register(je,qe){this._transitionEngine.register(je,qe)}destroy(je,qe){this._transitionEngine.destroy(je,qe)}onInsert(je,qe,ct,_t){this._transitionEngine.insertNode(je,qe,ct,_t)}onRemove(je,qe,ct){this._transitionEngine.removeNode(je,qe,ct)}disableAnimations(je,qe){this._transitionEngine.markElementAsDisabled(je,qe)}process(je,qe,ct,_t){if("@"==ct.charAt(0)){const[Nt,Qt]=He(ct);this._timelineEngine.command(Nt,qe,Qt,_t)}else this._transitionEngine.trigger(je,qe,ct,_t)}listen(je,qe,ct,_t,Nt){if("@"==ct.charAt(0)){const[Qt,tn]=He(ct);return this._timelineEngine.listen(Qt,qe,tn,Nt)}return this._transitionEngine.listen(je,qe,ct,_t,Nt)}flush(je=-1){this._transitionEngine.flush(je)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(je){this._transitionEngine.afterFlushAnimationsDone(je)}}class Af{static{this.initialStylesByElement=new WeakMap}constructor(je,qe,ct){this._element=je,this._startStyles=qe,this._endStyles=ct,this._state=0;let _t=Af.initialStylesByElement.get(je);_t||Af.initialStylesByElement.set(je,_t=new Map),this._initialStyles=_t}start(){this._state<1&&(this._startStyles&&sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sn(this._element,this._initialStyles),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Af.initialStylesByElement.delete(this._element),this._startStyles&&(an(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(an(this._element,this._endStyles),this._endStyles=null),sn(this._element,this._initialStyles),this._state=3)}}function Ul(Pt){let je=null;return Pt.forEach((qe,ct)=>{(function gL(Pt){return"display"===Pt||"position"===Pt})(ct)&&(je=je||new Map,je.set(ct,qe))}),je}class kc{constructor(je,qe,ct,_t){this.element=je,this.keyframes=qe,this.options=ct,this._specialStyles=_t,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ct.duration,this._delay=ct.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const je=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,je,this.options),this._finalKeyframe=je.length?je[je.length-1]:new Map;const qe=()=>this._onFinish();this.domPlayer.addEventListener("finish",qe),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",qe)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(je){const qe=[];return je.forEach(ct=>{qe.push(Object.fromEntries(ct))}),qe}_triggerWebAnimation(je,qe,ct){return je.animate(this._convertKeyframesToObject(qe),ct)}onStart(je){this._originalOnStartFns.push(je),this._onStartFns.push(je)}onDone(je){this._originalOnDoneFns.push(je),this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(je=>je()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}setPosition(je){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=je*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const je=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ct,_t)=>{"offset"!==_t&&je.set(_t,this._finished?ct:ut(this.element,_t))}),this.currentSnapshot=je}triggerCallback(je){const qe="start"===je?this._onStartFns:this._onDoneFns;qe.forEach(ct=>ct()),qe.length=0}}class eA{validateStyleProperty(je){return!0}validateAnimatableStyleProperty(je){return!0}containsElement(je,qe){return Ne(je,qe)}getParentElement(je){return u(je)}query(je,qe,ct){return We(je,qe,ct)}computeStyle(je,qe,ct){return ut(je,qe)}animate(je,qe,ct,_t,Nt,Qt=[]){const En={duration:ct,delay:_t,fill:0==_t?"both":"forwards"};Nt&&(En.easing=Nt);const An=new Map,lr=Qt.filter(ii=>ii instanceof kc);Ge(ct,_t)&&lr.forEach(ii=>{ii.currentSnapshot.forEach((Fr,gi)=>An.set(gi,Fr))});let ur=nn(qe).map(ii=>new Map(ii));ur=function ht(Pt,je,qe){if(qe.size&&je.length){let ct=je[0],_t=[];if(qe.forEach((Nt,Qt)=>{ct.has(Qt)||_t.push(Qt),ct.set(Qt,Nt)}),_t.length)for(let Nt=1;Nt<je.length;Nt++){let Qt=je[Nt];_t.forEach(tn=>Qt.set(tn,ut(Pt,tn)))}}return je}(je,ur,An);const $i=function $g(Pt,je){let qe=null,ct=null;return Array.isArray(je)&&je.length?(qe=Ul(je[0]),je.length>1&&(ct=Ul(je[je.length-1]))):je instanceof Map&&(qe=Ul(je)),qe||ct?new Af(Pt,qe,ct):null}(je,ur);return new kc(je,ur,En,$i)}}function nl(Pt,je){return"noop"===Pt?new Zm(je,new wt,new Ut):new Zm(je,new eA,new It)}class Mb{constructor(je,qe){this._driver=je;const ct=[],Nt=Un(je,qe,ct,[]);if(ct.length)throw function ge(){return new $.wOt(3500,!1)}();this._animationAst=Nt}buildTimelines(je,qe,ct,_t,Nt){const Qt=Array.isArray(qe)?Hn(qe):qe,tn=Array.isArray(ct)?Hn(ct):ct,En=[];Nt=Nt||new Fo;const An=La(this._driver,je,this._animationAst,he,De,Qt,tn,_t,Nt,En);if(En.length)throw function de(){return new $.wOt(3501,!1)}();return An}}const tA="@.disabled";class Vg{constructor(je,qe,ct,_t){this.namespaceId=je,this.delegate=qe,this.engine=ct,this._onDestroy=_t,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(je){this.delegate.destroyNode?.(je)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(je,qe){return this.delegate.createElement(je,qe)}createComment(je){return this.delegate.createComment(je)}createText(je){return this.delegate.createText(je)}appendChild(je,qe){this.delegate.appendChild(je,qe),this.engine.onInsert(this.namespaceId,qe,je,!1)}insertBefore(je,qe,ct,_t=!0){this.delegate.insertBefore(je,qe,ct),this.engine.onInsert(this.namespaceId,qe,je,_t)}removeChild(je,qe,ct){this.parentNode(qe)&&this.engine.onRemove(this.namespaceId,qe,this.delegate)}selectRootElement(je,qe){return this.delegate.selectRootElement(je,qe)}parentNode(je){return this.delegate.parentNode(je)}nextSibling(je){return this.delegate.nextSibling(je)}setAttribute(je,qe,ct,_t){this.delegate.setAttribute(je,qe,ct,_t)}removeAttribute(je,qe,ct){this.delegate.removeAttribute(je,qe,ct)}addClass(je,qe){this.delegate.addClass(je,qe)}removeClass(je,qe){this.delegate.removeClass(je,qe)}setStyle(je,qe,ct,_t){this.delegate.setStyle(je,qe,ct,_t)}removeStyle(je,qe,ct){this.delegate.removeStyle(je,qe,ct)}setProperty(je,qe,ct){"@"==qe.charAt(0)&&qe==tA?this.disableAnimations(je,!!ct):this.delegate.setProperty(je,qe,ct)}setValue(je,qe){this.delegate.setValue(je,qe)}listen(je,qe,ct){return this.delegate.listen(je,qe,ct)}disableAnimations(je,qe){this.engine.disableAnimations(je,qe)}}class fd extends Vg{constructor(je,qe,ct,_t,Nt){super(qe,ct,_t,Nt),this.factory=je,this.namespaceId=qe}setProperty(je,qe,ct){"@"==qe.charAt(0)?"."==qe.charAt(1)&&qe==tA?this.disableAnimations(je,ct=void 0===ct||!!ct):this.engine.process(this.namespaceId,je,qe.slice(1),ct):this.delegate.setProperty(je,qe,ct)}listen(je,qe,ct){if("@"==qe.charAt(0)){const _t=function Xi(Pt){switch(Pt){case"body":return document.body;case"document":return document;case"window":return window;default:return Pt}}(je);let Nt=qe.slice(1),Qt="";return"@"!=Nt.charAt(0)&&([Nt,Qt]=function $d(Pt){const je=Pt.indexOf(".");return[Pt.substring(0,je),Pt.slice(je+1)]}(Nt)),this.engine.listen(this.namespaceId,_t,Nt,Qt,tn=>{this.factory.scheduleListenerCallback(tn._data||-1,ct,tn)})}return this.delegate.listen(je,qe,ct)}}class hx{constructor(je,qe,ct){this.delegate=je,this.engine=qe,this._zone=ct,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,qe.onRemovalComplete=(_t,Nt)=>{Nt?.removeChild(null,_t)}}createRenderer(je,qe){const _t=this.delegate.createRenderer(je,qe);if(!je||!qe?.data?.animation){const An=this._rendererCache;let lr=An.get(_t);return lr||(lr=new Vg("",_t,this.engine,()=>An.delete(_t)),An.set(_t,lr)),lr}const Nt=qe.id,Qt=qe.id+"-"+this._currentId;this._currentId++,this.engine.register(Qt,je);const tn=An=>{Array.isArray(An)?An.forEach(tn):this.engine.registerTrigger(Nt,Qt,je,An.name,An)};return qe.data.animation.forEach(tn),new fd(this,Qt,_t,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(je,qe,ct){if(je>=0&&je<this._microtaskId)return void this._zone.run(()=>qe(ct));const _t=this._animationCallbacksBuffer;0==_t.length&&queueMicrotask(()=>{this._zone.run(()=>{_t.forEach(Nt=>{const[Qt,tn]=Nt;Qt(tn)}),this._animationCallbacksBuffer=[]})}),_t.push([qe,ct])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}},54438:(ye,I,A)=>{"use strict";function O(l,p){return Object.is(l,p)}A.d(I,{bc$:()=>m9,iLQ:()=>WE,sZ2:()=>iT,hnV:()=>c4,wjH:()=>Qp,Hbi:()=>nJ,o8S:()=>Xu,BIS:()=>g9,gRc:()=>z0,Ql9:()=>KM,OM3:()=>ju,Ocv:()=>w4,abz:()=>ly,Z63:()=>$d,aKT:()=>Xb,uvJ:()=>Ud,zcH:()=>Gd,bkB:()=>Ou,$GK:()=>Vr,nKC:()=>qn,zZn:()=>Ua,_q3:()=>tk,MKu:()=>$4,xe9:()=>XM,Co$:()=>pO,Vns:()=>A0,SKi:()=>po,Xx1:()=>Mc,Agw:()=>Xx,PLl:()=>p9,rOR:()=>zx,sFG:()=>OY,_9s:()=>zP,czy:()=>AT,WPN:()=>Wd,kdw:()=>Co,C4Q:()=>Py,NYb:()=>Q$,giA:()=>UM,RxE:()=>fm,c1b:()=>$2,gXe:()=>ct,mal:()=>cr,Tzd:()=>Ej,Af3:()=>Pb,L39:()=>RJ,EWP:()=>jV,sbv:()=>rO,a0P:()=>sS,Ol2:()=>mO,w6W:()=>bj,oH4:()=>lV,QZP:()=>ml,Rfq:()=>an,WQX:()=>Jn,Hps:()=>Uy,QuC:()=>$a,EmA:()=>hd,Udg:()=>FJ,fpN:()=>tJ,HJs:()=>VV,N4e:()=>DX,vPA:()=>K2,O8t:()=>$1,An2:()=>w0,H3F:()=>gv,H8p:()=>iA,KH2:()=>N0,TgB:()=>a0,wOt:()=>ze,WHO:()=>Z$,e01:()=>J$,lNU:()=>ke,h9k:()=>g0,$MX:()=>h2,ZF7:()=>$p,Kcf:()=>xy,e5t:()=>T9,UyX:()=>C9,cWb:()=>aY,osQ:()=>A9,H5H:()=>nv,Zy3:()=>Ne,mq5:()=>h1,JZv:()=>at,LfX:()=>pi,plB:()=>Gf,jNT:()=>R1,zjR:()=>zM,ngT:()=>ac,TL$:()=>h9,Tbb:()=>Bt,rcV:()=>Lh,nM4:()=>lO,Vt3:()=>Sa,GFd:()=>hO,OA$:()=>fA,Jv_:()=>wM,aNF:()=>M1,R7$:()=>dP,BMQ:()=>Q_,HbH:()=>LO,ZvI:()=>zj,AVh:()=>GD,vxM:()=>qD,wni:()=>v5,C6U:()=>x5,VBU:()=>Ug,FsC:()=>br,jDH:()=>Vn,G2t:()=>tr,$C:()=>kh,EJ8:()=>Br,rXU:()=>Bf,nrm:()=>Gu,k0s:()=>Ai,j41:()=>eu,RV6:()=>wr,xGo:()=>iy,Mr5:()=>ea,pXf:()=>m$,KVO:()=>Bs,kS0:()=>da,QTQ:()=>uP,bIt:()=>nu,lsd:()=>w5,joV:()=>kA,qSk:()=>MA,XpG:()=>aM,SdG:()=>l5,NAR:()=>c5,Y8G:()=>Qy,eq3:()=>k1,l_i:()=>rp,sMw:()=>xM,NyB:()=>S1,mGM:()=>_5,sdS:()=>dM,Dyx:()=>WO,Z7z:()=>bE,fX1:()=>im,Vm6:()=>tv,Njj:()=>Tx,tSv:()=>Bu,eBV:()=>N8,npT:()=>g2,n$t:()=>H6,xc7:()=>pE,DNE:()=>gO,C5r:()=>OE,EFF:()=>hM,JRh:()=>pM,SpI:()=>mM,DH7:()=>Td,mxI:()=>cv,R50:()=>vM,GBs:()=>b5});let $=null,U=!1,K=1;const y=Symbol("SIGNAL");function T(l){const p=$;return $=l,p}const k={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function v(l){if(U)throw new Error("");if(null===$)return;$.consumerOnSignalRead(l);const p=$.nextProducerIndex++;me($),p<$.producerNode.length&&$.producerNode[p]!==l&&ae($)&&ie($.producerNode[p],$.producerIndexOfThis[p]),$.producerNode[p]!==l&&($.producerNode[p]=l,$.producerIndexOfThis[p]=ae($)?te(l,$,p):0),$.producerLastReadVersion[p]=l.version}function M(l){if((!ae(l)||l.dirty)&&(l.dirty||l.lastCleanEpoch!==K)){if(!l.producerMustRecompute(l)&&!X(l))return l.dirty=!1,void(l.lastCleanEpoch=K);l.producerRecomputeValue(l),l.dirty=!1,l.lastCleanEpoch=K}}function P(l){if(void 0===l.liveConsumerNode)return;const p=U;U=!0;try{for(const S of l.liveConsumerNode)S.dirty||G(S)}finally{U=p}}function L(){return!1!==$?.consumerAllowSignalWrites}function G(l){l.dirty=!0,P(l),l.consumerMarkedDirty?.(l)}function B(l){return l&&(l.nextProducerIndex=0),T(l)}function q(l,p){if(T(p),l&&void 0!==l.producerNode&&void 0!==l.producerIndexOfThis&&void 0!==l.producerLastReadVersion){if(ae(l))for(let S=l.nextProducerIndex;S<l.producerNode.length;S++)ie(l.producerNode[S],l.producerIndexOfThis[S]);for(;l.producerNode.length>l.nextProducerIndex;)l.producerNode.pop(),l.producerLastReadVersion.pop(),l.producerIndexOfThis.pop()}}function X(l){me(l);for(let p=0;p<l.producerNode.length;p++){const S=l.producerNode[p],H=l.producerLastReadVersion[p];if(H!==S.version||(M(S),H!==S.version))return!0}return!1}function Q(l){if(me(l),ae(l))for(let p=0;p<l.producerNode.length;p++)ie(l.producerNode[p],l.producerIndexOfThis[p]);l.producerNode.length=l.producerLastReadVersion.length=l.producerIndexOfThis.length=0,l.liveConsumerNode&&(l.liveConsumerNode.length=l.liveConsumerIndexOfThis.length=0)}function te(l,p,S){if(ge(l),0===l.liveConsumerNode.length&&de(l))for(let H=0;H<l.producerNode.length;H++)l.producerIndexOfThis[H]=te(l.producerNode[H],l,H);return l.liveConsumerIndexOfThis.push(S),l.liveConsumerNode.push(p)-1}function ie(l,p){if(ge(l),1===l.liveConsumerNode.length&&de(l))for(let H=0;H<l.producerNode.length;H++)ie(l.producerNode[H],l.producerIndexOfThis[H]);const S=l.liveConsumerNode.length-1;if(l.liveConsumerNode[p]=l.liveConsumerNode[S],l.liveConsumerIndexOfThis[p]=l.liveConsumerIndexOfThis[S],l.liveConsumerNode.length--,l.liveConsumerIndexOfThis.length--,p<l.liveConsumerNode.length){const H=l.liveConsumerIndexOfThis[p],ne=l.liveConsumerNode[p];me(ne),ne.producerIndexOfThis[H]=p}}function ae(l){return l.consumerIsAlwaysLive||(l?.liveConsumerNode?.length??0)>0}function me(l){l.producerNode??=[],l.producerIndexOfThis??=[],l.producerLastReadVersion??=[]}function ge(l){l.liveConsumerNode??=[],l.liveConsumerIndexOfThis??=[]}function de(l){return void 0!==l.producerNode}function z(l){const p=Object.create(C);p.computation=l;const S=()=>{if(M(p),v(p),p.value===b)throw p.error;return p.value};return S[y]=p,S}const d=Symbol("UNSET"),f=Symbol("COMPUTING"),b=Symbol("ERRORED"),C={...k,value:d,dirty:!0,error:null,equal:O,producerMustRecompute:l=>l.value===d||l.value===f,producerRecomputeValue(l){if(l.value===f)throw new Error("Detected cycle in computations.");const p=l.value;l.value=f;const S=B(l);let H;try{H=l.computation()}catch(ne){H=b,l.error=ne}finally{q(l,S)}p!==d&&p!==b&&H!==b&&l.equal(p,H)?l.value=p:(l.value=H,l.version++)}};let V=function D(){throw new Error};function Y(){V()}let h=null;function re(l,p){L()||Y(),l.equal(l.value,p)||(l.value=p,function Le(l){l.version++,function N(){K++}(),P(l),h?.()}(l))}const Me={...k,equal:O,value:void 0};const Se=()=>{},He={...k,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:l=>{null!==l.schedule&&l.schedule(l.ref)},hasRun:!1,cleanupFn:Se};var u=A(84412),xe=A(21413),be=A(18359),_e=A(96354);const ke="https://g.co/ng/security#xss";class ze extends Error{constructor(p,S){super(Ne(p,S)),this.code=p}}function Ne(l,p){return`NG0${Math.abs(l)}${p?": "+p:""}`}function Ut(l){return{toString:l}.toString()}const W="__parameters__";function Xe(l,p,S){return Ut(()=>{const H=function De(l){return function(...S){if(l){const H=l(...S);for(const ne in H)this[ne]=H[ne]}}}(p);function ne(...ce){if(this instanceof ne)return H.apply(this,ce),this;const ve=new ne(...ce);return Re.annotation=ve,Re;function Re(Ue,it,ft){const kt=Ue.hasOwnProperty(W)?Ue[W]:Object.defineProperty(Ue,W,{value:[]})[W];for(;kt.length<=ft;)kt.push(null);return(kt[ft]=kt[ft]||[]).push(ve),Ue}}return S&&(ne.prototype=Object.create(S.prototype)),ne.prototype.ngMetadataName=l,ne.annotationCls=ne,ne})}const at=globalThis;function At(l){for(let p in l)if(l[p]===At)return p;throw Error("Could not find renamed property on target object.")}function Wt(l,p){for(const S in p)p.hasOwnProperty(S)&&!l.hasOwnProperty(S)&&(l[S]=p[S])}function Bt(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Bt).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const p=l.toString();if(null==p)return""+p;const S=p.indexOf("\n");return-1===S?p:p.substring(0,S)}function nn(l,p){return null==l||""===l?null===p?"":p:null==p||""===p?l:l+" "+p}const sn=At({__forward_ref__:At});function an(l){return l.__forward_ref__=an,l.toString=function(){return Bt(this())},l}function kn(l){return Ve(l)?l():l}function Ve(l){return"function"==typeof l&&l.hasOwnProperty(sn)&&l.__forward_ref__===an}function ln(l,p,S){l!=p&&function Vt(l,p,S,H){throw new Error(`ASSERTION ERROR: ${l}`+(null==H?"":` [Expected=> ${S} ${H} ${p} <=Actual]`))}(S,l,p,"==")}function Vn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function tr(l){return{providers:l.providers||[],imports:l.imports||[]}}function Xn(l){return Xr(l,Qn)||Xr(l,Qr)}function pi(l){return null!==Xn(l)}function Xr(l,p){return l.hasOwnProperty(p)?l[p]:null}function Un(l){return l&&(l.hasOwnProperty(Jr)||l.hasOwnProperty(Tr))?l[Jr]:null}const Qn=At({\u0275prov:At}),Jr=At({\u0275inj:At}),Qr=At({ngInjectableDef:At}),Tr=At({ngInjectorDef:At});class qn{constructor(p,S){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof S?this.__NG_ELEMENT_ID__=S:void 0!==S&&(this.\u0275prov=Vn({token:this,providedIn:S.providedIn||"root",factory:S.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jd(l){return l&&!!l.\u0275providers}const La=At({\u0275cmp:At}),No=At({\u0275dir:At}),Xo=At({\u0275pipe:At}),Cc=At({\u0275mod:At}),As=At({\u0275fac:At}),va=At({__NG_ELEMENT_ID__:At}),Ac=At({__NG_ENV_ID__:At});function Hr(l){return"string"==typeof l?l:null==l?"":String(l)}function nc(l,p){throw new ze(-201,!1)}var Vr=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(Vr||{});let ps;function $l(){return ps}function Ke(l){const p=ps;return ps=l,p}function nt(l,p,S){const H=Xn(l);return H&&"root"==H.providedIn?void 0===H.value?H.value=H.factory():H.value:S&Vr.Optional?null:void 0!==p?p:void nc()}const bt={},Ot="__NG_DI_FLAG__",mn="ngTempTokenPath",Gn=/\n/gm,Ei="__source";let Si;function Ns(l){const p=Si;return Si=l,p}function Qc(l,p=Vr.Default){if(void 0===Si)throw new ze(-203,!1);return null===Si?nt(l,void 0,p):Si.get(l,p&Vr.Optional?null:void 0,p)}function Bs(l,p=Vr.Default){return($l()||Qc)(kn(l),p)}function Jn(l,p=Vr.Default){return Bs(l,So(p))}function So(l){return typeof l>"u"||"number"==typeof l?l:(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function Vl(l){const p=[];for(let S=0;S<l.length;S++){const H=kn(l[S]);if(Array.isArray(H)){if(0===H.length)throw new ze(900,!1);let ne,ce=Vr.Default;for(let ve=0;ve<H.length;ve++){const Re=H[ve],Ue=uo(Re);"number"==typeof Ue?-1===Ue?ne=Re.token:ce|=Ue:ne=Re}p.push(Bs(ne,ce))}else p.push(Bs(H))}return p}function ba(l,p){return l[Ot]=p,l.prototype[Ot]=p,l}function uo(l){return l[Ot]}const Mc=ba(Xe("Optional"),8),Co=ba(Xe("SkipSelf"),4);function Dh(l,p){return l.hasOwnProperty(As)?l[As]:null}function Ip(l,p){l.forEach(S=>Array.isArray(S)?Ip(S,p):p(S))}function Zm(l,p,S){p>=l.length?l.push(S):l.splice(p,0,S)}function $g(l,p){return p>=l.length-1?l.pop():l.splice(p,1)[0]}function nl(l,p,S){let H=Su(l,p);return H>=0?l[1|H]=S:(H=~H,function kc(l,p,S,H){let ne=l.length;if(ne==p)l.push(S,H);else if(1===ne)l.push(H,l[0]),l[0]=S;else{for(ne--,l.push(l[ne-1],l[ne]);ne>p;)l[ne]=l[ne-2],ne--;l[p]=S,l[p+1]=H}}(l,H,p,S)),H}function Mb(l,p){const S=Su(l,p);if(S>=0)return l[1|S]}function Su(l,p){return function Vg(l,p,S){let H=0,ne=l.length>>S;for(;ne!==H;){const ce=H+(ne-H>>1),ve=l[ce<<S];if(p===ve)return ce<<S;ve>p?ne=ce:H=ce+1}return~(ne<<S)}(l,p,1)}const fd={},Xi=[],$d=new qn(""),hx=new qn("",-1),Pt=new qn("");class je{get(p,S=bt){if(S===bt){const H=new Error(`NullInjectorError: No provider for ${Bt(p)}!`);throw H.name="NullInjectorError",H}return S}}var qe=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(qe||{}),ct=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(ct||{}),_t=function(l){return l[l.None=0]="None",l[l.SignalBased=1]="SignalBased",l[l.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",l}(_t||{});function Nt(l,p,S){let H=l.length;for(;;){const ne=l.indexOf(p,S);if(-1===ne)return ne;if(0===ne||l.charCodeAt(ne-1)<=32){const ce=p.length;if(ne+ce===H||l.charCodeAt(ne+ce)<=32)return ne}S=ne+1}}function Qt(l,p,S){let H=0;for(;H<S.length;){const ne=S[H];if("number"==typeof ne){if(0!==ne)break;H++;const ce=S[H++],ve=S[H++],Re=S[H++];l.setAttribute(p,ve,Re,ce)}else{const ce=ne,ve=S[++H];En(ce)?l.setProperty(p,ce,ve):l.setAttribute(p,ce,ve),H++}}return H}function tn(l){return 3===l||4===l||6===l}function En(l){return 64===l.charCodeAt(0)}function An(l,p){if(null!==p&&0!==p.length)if(null===l||0===l.length)l=p.slice();else{let S=-1;for(let H=0;H<p.length;H++){const ne=p[H];"number"==typeof ne?S=ne:0===S||lr(l,S,ne,null,-1===S||2===S?p[++H]:null)}}return l}function lr(l,p,S,H,ne){let ce=0,ve=l.length;if(-1===p)ve=-1;else for(;ce<l.length;){const Re=l[ce++];if("number"==typeof Re){if(Re===p){ve=-1;break}if(Re>p){ve=ce-1;break}}}for(;ce<l.length;){const Re=l[ce];if("number"==typeof Re)break;if(Re===S){if(null===H)return void(null!==ne&&(l[ce+1]=ne));if(H===l[ce+1])return void(l[ce+2]=ne)}ce++,null!==H&&ce++,null!==ne&&ce++}-1!==ve&&(l.splice(ve,0,p),ce=ve+1),l.splice(ce++,0,S),null!==H&&l.splice(ce++,0,H),null!==ne&&l.splice(ce++,0,ne)}const ur="ng-template";function $i(l,p,S,H){let ne=0;if(H){for(;ne<p.length&&"string"==typeof p[ne];ne+=2)if("class"===p[ne]&&-1!==Nt(p[ne+1].toLowerCase(),S,0))return!0}else if(ii(l))return!1;if(ne=p.indexOf(1,ne),ne>-1){let ce;for(;++ne<p.length&&"string"==typeof(ce=p[ne]);)if(ce.toLowerCase()===S)return!0}return!1}function ii(l){return 4===l.type&&l.value!==ur}function Fr(l,p,S){return p===(4!==l.type||S?l.value:ur)}function gi(l,p,S){let H=4;const ne=l.attrs,ce=null!==ne?function fo(l){for(let p=0;p<l.length;p++)if(tn(l[p]))return p;return l.length}(ne):0;let ve=!1;for(let Re=0;Re<p.length;Re++){const Ue=p[Re];if("number"!=typeof Ue){if(!ve)if(4&H){if(H=2|1&H,""!==Ue&&!Fr(l,Ue,S)||""===Ue&&1===p.length){if(Yi(H))return!1;ve=!0}}else if(8&H){if(null===ne||!$i(l,ne,Ue,S)){if(Yi(H))return!1;ve=!0}}else{const it=p[++Re],ft=gs(Ue,ne,ii(l),S);if(-1===ft){if(Yi(H))return!1;ve=!0;continue}if(""!==it){let kt;if(kt=ft>ce?"":ne[ft+1].toLowerCase(),2&H&&it!==kt){if(Yi(H))return!1;ve=!0}}}}else{if(!ve&&!Yi(H)&&!Yi(Ue))return!1;if(ve&&Yi(Ue))continue;ve=!1,H=Ue|1&H}}return Yi(H)||ve}function Yi(l){return!(1&l)}function gs(l,p,S,H){if(null===p)return-1;let ne=0;if(H||!S){let ce=!1;for(;ne<p.length;){const ve=p[ne];if(ve===l)return ne;if(3===ve||6===ve)ce=!0;else{if(1===ve||2===ve){let Re=p[++ne];for(;"string"==typeof Re;)Re=p[++ne];continue}if(4===ve)break;if(0===ve){ne+=4;continue}}ne+=ce?1:2}return-1}return function Cu(l,p){let S=l.indexOf(4);if(S>-1)for(S++;S<l.length;){const H=l[S];if("number"==typeof H)return-1;if(H===p)return S;S++}return-1}(p,l)}function Lo(l,p,S=!1){for(let H=0;H<p.length;H++)if(gi(l,p[H],S))return!0;return!1}function Au(l,p){e:for(let S=0;S<p.length;S++){const H=p[S];if(l.length===H.length){for(let ne=0;ne<l.length;ne++)if(l[ne]!==H[ne])continue e;return!0}}return!1}function ja(l,p){return l?":not("+p.trim()+")":p}function Ic(l){let p=l[0],S=1,H=2,ne="",ce=!1;for(;S<l.length;){let ve=l[S];if("string"==typeof ve)if(2&H){const Re=l[++S];ne+="["+ve+(Re.length>0?'="'+Re+'"':"")+"]"}else 8&H?ne+="."+ve:4&H&&(ne+=" "+ve);else""!==ne&&!Yi(ve)&&(p+=ja(ce,ne),ne=""),H=ve,ce=ce||!Yi(H);S++}return""!==ne&&(p+=ja(ce,ne)),p}function Ug(l){return Ut(()=>{const p=Tu(l),S={...p,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||ct.Emulated,styles:l.styles||Xi,_:null,schemas:l.schemas||null,tView:null,id:""};eo(S);const H=l.dependencies;return S.directiveDefs=zg(H,!1),S.pipeDefs=zg(H,!0),S.id=function Va(l){let p=0;const S=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const ne of S)p=Math.imul(31,p)+ne.charCodeAt(0)|0;return p+=2147483648,"c"+p}(S),S})}function Vd(l){return Yn(l)||Nr(l)}function px(l){return null!==l}function kh(l){return Ut(()=>({type:l.type,bootstrap:l.bootstrap||Xi,declarations:l.declarations||Xi,imports:l.imports||Xi,exports:l.exports||Xi,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function mx(l,p){if(null==l)return fd;const S={};for(const H in l)if(l.hasOwnProperty(H)){const ne=l[H];let ce,ve,Re=_t.None;Array.isArray(ne)?(Re=ne[0],ce=ne[1],ve=ne[2]??ce):(ce=ne,ve=ne),p?(S[ce]=Re!==_t.None?[H,Re]:H,p[ce]=ve):S[ce]=H}return S}function br(l){return Ut(()=>{const p=Tu(l);return eo(p),p})}function Br(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Yn(l){return l[La]||null}function Nr(l){return l[No]||null}function zi(l){return l[Xo]||null}function $a(l){const p=Yn(l)||Nr(l)||zi(l);return null!==p&&p.standalone}function ys(l,p){const S=l[Cc]||null;if(!S&&!0===p)throw new Error(`Type ${Bt(l)} does not have '\u0275mod' property.`);return S}function Tu(l){const p={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:p,inputTransforms:null,inputConfig:l.inputs||fd,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||Xi,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mx(l.inputs,p),outputs:mx(l.outputs),debugInfo:null}}function eo(l){l.features?.forEach(p=>p(l))}function zg(l,p){if(!l)return null;const S=p?zi:Vd;return()=>("function"==typeof l?l():l).map(H=>S(H)).filter(px)}function hd(l){return{\u0275providers:l}}function pd(...l){return{\u0275providers:Jm(0,l),\u0275fromNgModule:!0}}function Jm(l,...p){const S=[],H=new Set;let ne;const ce=ve=>{S.push(ve)};return Ip(p,ve=>{const Re=ve;gx(Re,ce,[],H)&&(ne||=[],ne.push(Re))}),void 0!==ne&&Hg(ne,ce),S}function Hg(l,p){for(let S=0;S<l.length;S++){const{ngModule:H,providers:ne}=l[S];m8(ne,ce=>{p(ce,H)})}}function gx(l,p,S,H){if(!(l=kn(l)))return!1;let ne=null,ce=Un(l);const ve=!ce&&Yn(l);if(ce||ve){if(ve&&!ve.standalone)return!1;ne=l}else{const Ue=l.ngModule;if(ce=Un(Ue),!ce)return!1;ne=Ue}const Re=H.has(ne);if(ve){if(Re)return!1;if(H.add(ne),ve.dependencies){const Ue="function"==typeof ve.dependencies?ve.dependencies():ve.dependencies;for(const it of Ue)gx(it,p,S,H)}}else{if(!ce)return!1;{if(null!=ce.imports&&!Re){let it;H.add(ne);try{Ip(ce.imports,ft=>{gx(ft,p,S,H)&&(it||=[],it.push(ft))})}finally{}void 0!==it&&Hg(it,p)}if(!Re){const it=Dh(ne)||(()=>new ne);p({provide:ne,useFactory:it,deps:Xi},ne),p({provide:Pt,useValue:ne,multi:!0},ne),p({provide:$d,useValue:()=>Bs(ne),multi:!0},ne)}const Ue=ce.providers;if(null!=Ue&&!Re){const it=l;m8(Ue,ft=>{p(ft,it)})}}}return ne!==l&&void 0!==l.providers}function m8(l,p){for(let S of l)jd(S)&&(S=S.\u0275providers),Array.isArray(S)?m8(S,p):p(S)}const xX=At({provide:String,useValue:At});function rA(l){return null!==l&&"object"==typeof l&&xX in l}function Gg(l){return"function"==typeof l}const iA=new qn(""),yx={},yL={};let v8;function kb(){return void 0===v8&&(v8=new je),v8}class Ud{}class cs extends Ud{get destroyed(){return this._destroyed}constructor(p,S,H,ne){super(),this.parent=S,this.source=H,this.scopes=ne,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_8(p,ve=>this.processProvider(ve)),this.records.set(hx,Ib(void 0,this)),ne.has("environment")&&this.records.set(Ud,Ib(void 0,this));const ce=this.records.get(iA);null!=ce&&"string"==typeof ce.value&&this.scopes.add(ce.value),this.injectorDefTypes=new Set(this.get(Pt,Xi,Vr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const p=T(null);try{for(const H of this._ngOnDestroyHooks)H.ngOnDestroy();const S=this._onDestroyHooks;this._onDestroyHooks=[];for(const H of S)H()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(p)}}onDestroy(p){return this.assertNotDestroyed(),this._onDestroyHooks.push(p),()=>this.removeOnDestroy(p)}runInContext(p){this.assertNotDestroyed();const S=Ns(this),H=Ke(void 0);try{return p()}finally{Ns(S),Ke(H)}}get(p,S=bt,H=Vr.Default){if(this.assertNotDestroyed(),p.hasOwnProperty(Ac))return p[Ac](this);H=So(H);const ce=Ns(this),ve=Ke(void 0);try{if(!(H&Vr.SkipSelf)){let Ue=this.records.get(p);if(void 0===Ue){const it=function bL(l){return"function"==typeof l||"object"==typeof l&&l instanceof qn}(p)&&Xn(p);Ue=it&&this.injectableDefInScope(it)?Ib(b8(p),yx):null,this.records.set(p,Ue)}if(null!=Ue)return this.hydrate(p,Ue)}return(H&Vr.Self?kb():this.parent).get(p,S=H&Vr.Optional&&S===bt?null:S)}catch(Re){if("NullInjectorError"===Re.name){if((Re[mn]=Re[mn]||[]).unshift(Bt(p)),ce)throw Re;return function el(l,p,S,H){const ne=l[mn];throw p[Ei]&&ne.unshift(p[Ei]),l.message=function Dc(l,p,S,H=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let ne=Bt(p);if(Array.isArray(p))ne=p.map(Bt).join(" -> ");else if("object"==typeof p){let ce=[];for(let ve in p)if(p.hasOwnProperty(ve)){let Re=p[ve];ce.push(ve+":"+("string"==typeof Re?JSON.stringify(Re):Bt(Re)))}ne=`{${ce.join(", ")}}`}return`${S}${H?"("+H+")":""}[${ne}]: ${l.replace(Gn,"\n  ")}`}("\n"+l.message,ne,S,H),l.ngTokenPath=ne,l[mn]=null,l}(Re,p,"R3InjectorError",this.source)}throw Re}finally{Ke(ve),Ns(ce)}}resolveInjectorInitializers(){const p=T(null),S=Ns(this),H=Ke(void 0);try{const ce=this.get($d,Xi,Vr.Self);for(const ve of ce)ve()}finally{Ns(S),Ke(H),T(p)}}toString(){const p=[],S=this.records;for(const H of S.keys())p.push(Bt(H));return`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(p){let S=Gg(p=kn(p))?p:kn(p&&p.provide);const H=function CX(l){return rA(l)?Ib(void 0,l.useValue):Ib(vL(l),yx)}(p);if(!Gg(p)&&!0===p.multi){let ne=this.records.get(S);ne||(ne=Ib(void 0,yx,!0),ne.factory=()=>Vl(ne.multi),this.records.set(S,ne)),S=p,ne.multi.push(p)}this.records.set(S,H)}hydrate(p,S){const H=T(null);try{return S.value===yx&&(S.value=yL,S.value=S.factory()),"object"==typeof S.value&&S.value&&function TX(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(S.value)&&this._ngOnDestroyHooks.add(S.value),S.value}finally{T(H)}}injectableDefInScope(p){if(!p.providedIn)return!1;const S=kn(p.providedIn);return"string"==typeof S?"any"===S||this.scopes.has(S):this.injectorDefTypes.has(S)}removeOnDestroy(p){const S=this._onDestroyHooks.indexOf(p);-1!==S&&this._onDestroyHooks.splice(S,1)}}function b8(l){const p=Xn(l),S=null!==p?p.factory:Dh(l);if(null!==S)return S;if(l instanceof qn)throw new ze(204,!1);if(l instanceof Function)return function SX(l){if(l.length>0)throw new ze(204,!1);const S=function Rr(l){return l&&(l[Qn]||l[Qr])||null}(l);return null!==S?()=>S.factory(l):()=>new l}(l);throw new ze(204,!1)}function vL(l,p,S){let H;if(Gg(l)){const ne=kn(l);return Dh(ne)||b8(ne)}if(rA(l))H=()=>kn(l.useValue);else if(function y8(l){return!(!l||!l.useFactory)}(l))H=()=>l.useFactory(...Vl(l.deps||[]));else if(function g8(l){return!(!l||!l.useExisting)}(l))H=()=>Bs(kn(l.useExisting));else{const ne=kn(l&&(l.useClass||l.provide));if(!function AX(l){return!!l.deps}(l))return Dh(ne)||b8(ne);H=()=>new ne(...Vl(l.deps))}return H}function Ib(l,p,S=!1){return{factory:l,value:p,multi:S?[]:void 0}}function _8(l,p){for(const S of l)Array.isArray(S)?_8(S,p):S&&jd(S)?_8(S.\u0275providers,p):p(S)}function DX(l,p){l instanceof cs&&l.assertNotDestroyed();const H=Ns(l),ne=Ke(void 0);try{return p()}finally{Ns(H),Ke(ne)}}function _L(){return void 0!==$l()||null!=function Fs(){return Si}()}function Pb(l){if(!_L())throw new ze(-203,!1)}const to=0,zn=1,Ur=2,_a=3,Tf=4,Pc=5,zl=6,Ob=7,no=8,wa=9,Df=10,si=11,Rb=12,EL=13,qg=14,To=15,Qm=16,Xg=17,Op=18,Fb=19,SL=20,e0=21,aA=22,Du=23,Dr=25,E8=1,Ih=7,Rp=9,ca=10;var Nb=function(l){return l[l.None=0]="None",l[l.HasTransplantedViews=2]="HasTransplantedViews",l}(Nb||{});function jo(l){return Array.isArray(l)&&"object"==typeof l[E8]}function rl(l){return Array.isArray(l)&&!0===l[E8]}function S8(l){return!!(4&l.flags)}function t0(l){return l.componentOffset>-1}function Yg(l){return!(1&~l.flags)}function il(l){return!!l.template}function Bb(l){return!!(512&l[Ur])}class dA{constructor(p,S,H){this.previousValue=p,this.currentValue=S,this.firstChange=H}isFirstChange(){return this.firstChange}}function uA(l,p,S,H){null!==p?p.applyValueToInputSignal(p,H):l[S]=H}function fA(){return hA}function hA(l){return l.type.prototype.ngOnChanges&&(l.setInput=IL),kL}function kL(){const l=PL(this),p=l?.current;if(p){const S=l.previous;if(S===fd)l.previous=p;else for(let H in p)S[H]=p[H];l.current=null,this.ngOnChanges(p)}}function IL(l,p,S,H,ne){const ce=this.declaredInputs[H],ve=PL(l)||function VX(l,p){return l[k8]=p}(l,{previous:fd,current:null}),Re=ve.current||(ve.current={}),Ue=ve.previous,it=Ue[ce];Re[ce]=new dA(it&&it.currentValue,S,Ue===fd),uA(l,p,ne,S)}fA.ngInherit=!0;const k8="__ngSimpleChanges__";function PL(l){return l[k8]||null}const Mf=function(l,p,S){},I8="svg";function ts(l){for(;Array.isArray(l);)l=l[to];return l}function jb(l,p){return ts(p[l])}function Oc(l,p){return ts(p[l.index])}function Zg(l,p){return l.data[p]}function zd(l,p){const S=p[l];return jo(S)?S:S[to]}function Cx(l){return!(128&~l[Ur])}function Hd(l,p){return null==p?null:l[p]}function mA(l){l[Xg]=0}function FL(l){1024&l[Ur]||(l[Ur]|=1024,Cx(l)&&vA(l))}function gA(l){return!!(9216&l[Ur]||l[Du]?.dirty)}function yA(l){l[Df].changeDetectionScheduler?.notify(8),64&l[Ur]&&(l[Ur]|=1024),gA(l)&&vA(l)}function vA(l){l[Df].changeDetectionScheduler?.notify(0);let p=Fp(l);for(;null!==p&&!(8192&p[Ur])&&(p[Ur]|=8192,Cx(p));)p=Fp(p)}function bA(l,p){if(!(256&~l[Ur]))throw new ze(911,!1);null===l[e0]&&(l[e0]=[]),l[e0].push(p)}function Fp(l){const p=l[_a];return rl(p)?p[_a]:p}const mi={lFrame:H8(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let F8=!1;function BL(){return mi.bindingsEnabled}function ey(){return null!==mi.skipHydrationRootTNode}function Tn(){return mi.lFrame.lView}function Di(){return mi.lFrame.tView}function N8(l){return mi.lFrame.contextLView=l,l[no]}function Tx(l){return mi.lFrame.contextLView=null,l}function Ts(){let l=wA();for(;null!==l&&64===l.type;)l=l.parent;return l}function wA(){return mi.lFrame.currentTNode}function Vb(){const l=mi.lFrame,p=l.currentTNode;return l.isParent?p:p.parent}function Mu(l,p){const S=mi.lFrame;S.currentTNode=l,S.isParent=p}function xA(){return mi.lFrame.isParent}function EA(){mi.lFrame.isParent=!1}function Dx(){return F8}function j8(l){F8=l}function ic(){const l=mi.lFrame;let p=l.bindingRootIndex;return-1===p&&(p=l.bindingRootIndex=l.tView.bindingStartIndex),p}function ku(){return mi.lFrame.bindingIndex++}function Ph(l){const p=mi.lFrame,S=p.bindingIndex;return p.bindingIndex=p.bindingIndex+l,S}function SA(l){mi.lFrame.inI18n=l}function jL(l,p){const S=mi.lFrame;S.bindingIndex=S.bindingRootIndex=l,CA(p)}function CA(l){mi.lFrame.currentDirectiveIndex=l}function Ub(){return mi.lFrame.currentQueryIndex}function Mx(l){mi.lFrame.currentQueryIndex=l}function $L(l){const p=l[zn];return 2===p.type?p.declTNode:1===p.type?l[Pc]:null}function U8(l,p,S){if(S&Vr.SkipSelf){let ne=p,ce=l;for(;!(ne=ne.parent,null!==ne||S&Vr.Host||(ne=$L(ce),null===ne||(ce=ce[qg],10&ne.type))););if(null===ne)return!1;p=ne,l=ce}const H=mi.lFrame=z8();return H.currentTNode=p,H.lView=l,!0}function TA(l){const p=z8(),S=l[zn];mi.lFrame=p,p.currentTNode=S.firstChild,p.lView=l,p.tView=S,p.contextLView=l,p.bindingIndex=S.bindingStartIndex,p.inI18n=!1}function z8(){const l=mi.lFrame,p=null===l?null:l.child;return null===p?H8(l):p}function H8(l){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=p),p}function G8(){const l=mi.lFrame;return mi.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const W8=G8;function DA(){const l=G8();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function xa(){return mi.lFrame.selectedIndex}function Bp(l){mi.lFrame.selectedIndex=l}function js(){const l=mi.lFrame;return Zg(l.tView,l.selectedIndex)}function MA(){mi.lFrame.currentNamespace=I8}function kA(){!function VL(){mi.lFrame.currentNamespace=null}()}let PA=!0;function ty(){return PA}function Iu(l){PA=l}function Do(l,p){for(let S=p.directiveStart,H=p.directiveEnd;S<H;S++){const ce=l.data[S].type.prototype,{ngAfterContentInit:ve,ngAfterContentChecked:Re,ngAfterViewInit:Ue,ngAfterViewChecked:it,ngOnDestroy:ft}=ce;ve&&(l.contentHooks??=[]).push(-S,ve),Re&&((l.contentHooks??=[]).push(S,Re),(l.contentCheckHooks??=[]).push(S,Re)),Ue&&(l.viewHooks??=[]).push(-S,Ue),it&&((l.viewHooks??=[]).push(S,it),(l.viewCheckHooks??=[]).push(S,it)),null!=ft&&(l.destroyHooks??=[]).push(S,ft)}}function kx(l,p,S){q8(l,p,3,S)}function Ix(l,p,S,H){(3&l[Ur])===S&&q8(l,p,S,H)}function OA(l,p){let S=l[Ur];(3&S)===p&&(S&=16383,S+=1,l[Ur]=S)}function q8(l,p,S,H){const ce=H??-1,ve=p.length-1;let Re=0;for(let Ue=void 0!==H?65535&l[Xg]:0;Ue<ve;Ue++)if("number"==typeof p[Ue+1]){if(Re=p[Ue],null!=H&&Re>=H)break}else p[Ue]<0&&(l[Xg]+=65536),(Re<ce||-1==ce)&&(zL(l,S,p,Ue),l[Xg]=(4294901760&l[Xg])+Ue+2),Ue++}function RA(l,p){Mf(4,l,p);const S=T(null);try{p.call(l)}finally{T(S),Mf(5,l,p)}}function zL(l,p,S,H){const ne=S[H]<0,ce=S[H+1],Re=l[ne?-S[H]:S[H]];ne?l[Ur]>>14<l[Xg]>>16&&(3&l[Ur])===p&&(l[Ur]+=16384,RA(Re,ce)):RA(Re,ce)}const ny=-1;class md{constructor(p,S,H){this.factory=p,this.resolving=!1,this.canSeeViewProviders=S,this.injectImpl=H}}const Px={};class n0{constructor(p,S){this.injector=p,this.parentInjector=S}get(p,S,H){H=So(H);const ne=this.injector.get(p,Px,H);return ne!==Px||S===Px?ne:this.parentInjector.get(p,S,H)}}function NA(l){return l!==ny}function ho(l){return 32767&l}function r0(l,p){let S=function Y8(l){return l>>16}(l),H=p;for(;S>0;)H=H[qg],S--;return H}let s0=!0;function Rx(l){const p=s0;return s0=l,p}const gd=255,Z8=5;let WL=0;const If={};function zb(l,p){const S=Oh(l,p);if(-1!==S)return S;const H=p[zn];H.firstCreatePass&&(l.injectorIndex=p.length,BA(H.data,l),BA(p,null),BA(H.blueprint,null));const ne=ei(l,p),ce=l.injectorIndex;if(NA(ne)){const ve=ho(ne),Re=r0(ne,p),Ue=Re[zn].data;for(let it=0;it<8;it++)p[ce+it]=Re[ve+it]|Ue[ve+it]}return p[ce+8]=ne,ce}function BA(l,p){l.push(0,0,0,0,0,0,0,0,p)}function Oh(l,p){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===p[l.injectorIndex+8]?-1:l.injectorIndex}function ei(l,p){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let S=0,H=null,ne=p;for(;null!==ne;){if(H=e6(ne),null===H)return ny;if(S++,ne=ne[qg],-1!==H.injectorIndex)return H.injectorIndex|S<<16}return ny}function LA(l,p,S){!function KL(l,p,S){let H;"string"==typeof S?H=S.charCodeAt(0)||0:S.hasOwnProperty(va)&&(H=S[va]),null==H&&(H=S[va]=WL++);const ne=H&gd;p.data[l+(ne>>Z8)]|=1<<ne}(l,p,S)}function Fx(l,p,S){if(S&Vr.Optional||void 0!==l)return l;nc()}function jA(l,p,S,H){if(S&Vr.Optional&&void 0===H&&(H=null),!(S&(Vr.Self|Vr.Host))){const ne=l[wa],ce=Ke(void 0);try{return ne?ne.get(p,H,S&Vr.Optional):nt(p,H,S&Vr.Optional)}finally{Ke(ce)}}return Fx(H,0,S)}function Hb(l,p,S,H=Vr.Default,ne){if(null!==l){if(2048&p[Ur]&&!(H&Vr.Self)){const ve=function JX(l,p,S,H,ne){let ce=l,ve=p;for(;null!==ce&&null!==ve&&2048&ve[Ur]&&!(512&ve[Ur]);){const Re=J8(ce,ve,S,H|Vr.Self,If);if(Re!==If)return Re;let Ue=ce.parent;if(!Ue){const it=ve[SL];if(it){const ft=it.get(S,If,H);if(ft!==If)return ft}Ue=e6(ve),ve=ve[qg]}ce=Ue}return ne}(l,p,S,H,If);if(ve!==If)return ve}const ce=J8(l,p,S,H,If);if(ce!==If)return ce}return jA(p,S,H,ne)}function J8(l,p,S,H,ne){const ce=function XL(l){if("string"==typeof l)return l.charCodeAt(0)||0;const p=l.hasOwnProperty(va)?l[va]:void 0;return"number"==typeof p?p>=0?p&gd:YL:p}(S);if("function"==typeof ce){if(!U8(p,l,H))return H&Vr.Host?Fx(ne,0,H):jA(p,S,H,ne);try{let ve;if(ve=ce(H),null!=ve||H&Vr.Optional)return ve;nc()}finally{W8()}}else if("number"==typeof ce){let ve=null,Re=Oh(l,p),Ue=ny,it=H&Vr.Host?p[To][Pc]:null;for((-1===Re||H&Vr.SkipSelf)&&(Ue=-1===Re?ei(l,p):p[Re+8],Ue!==ny&&o0(H,!1)?(ve=p[zn],Re=ho(Ue),p=r0(Ue,p)):Re=-1);-1!==Re;){const ft=p[zn];if(Ea(ce,Re,ft.data)){const kt=Q8(Re,p,S,ve,H,it);if(kt!==If)return kt}Ue=p[Re+8],Ue!==ny&&o0(H,p[zn].data[Re+8]===it)&&Ea(ce,Re,p)?(ve=ft,Re=ho(Ue),p=r0(Ue,p)):Re=-1}}return ne}function Q8(l,p,S,H,ne,ce){const ve=p[zn],Re=ve.data[l+8],ft=Nx(Re,ve,S,null==H?t0(Re)&&s0:H!=ve&&!!(3&Re.type),ne&Vr.Host&&ce===Re);return null!==ft?Pf(p,ve,ft,Re):If}function Nx(l,p,S,H,ne){const ce=l.providerIndexes,ve=p.data,Re=1048575&ce,Ue=l.directiveStart,ft=ce>>20,zt=ne?Re+ft:l.directiveEnd;for(let Zt=H?Re:Re+ft;Zt<zt;Zt++){const fn=ve[Zt];if(Zt<Ue&&S===fn||Zt>=Ue&&fn.type===S)return Zt}if(ne){const Zt=ve[Ue];if(Zt&&il(Zt)&&Zt.type===S)return Ue}return null}function Pf(l,p,S,H){let ne=l[S];const ce=p.data;if(function Mo(l){return l instanceof md}(ne)){const ve=ne;ve.resolving&&function Eu(l,p){throw p&&p.join(" > "),new ze(-200,l)}(function ni(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Hr(l)}(ce[S]));const Re=Rx(ve.canSeeViewProviders);ve.resolving=!0;const it=ve.injectImpl?Ke(ve.injectImpl):null;U8(l,H,Vr.Default);try{ne=l[S]=ve.factory(void 0,ce,l,H),p.firstCreatePass&&S>=H.directiveStart&&function UL(l,p,S){const{ngOnChanges:H,ngOnInit:ne,ngDoCheck:ce}=p.type.prototype;if(H){const ve=hA(p);(S.preOrderHooks??=[]).push(l,ve),(S.preOrderCheckHooks??=[]).push(l,ve)}ne&&(S.preOrderHooks??=[]).push(0-l,ne),ce&&((S.preOrderHooks??=[]).push(l,ce),(S.preOrderCheckHooks??=[]).push(l,ce))}(S,ce[S],p)}finally{null!==it&&Ke(it),Rx(Re),ve.resolving=!1,W8()}}return ne}function Ea(l,p,S){return!!(S[p+(l>>Z8)]&1<<l)}function o0(l,p){return!(l&Vr.Self||l&Vr.Host&&p)}class la{constructor(p,S){this._tNode=p,this._lView=S}get(p,S,H){return Hb(this._tNode,this._lView,p,So(H),S)}}function YL(){return new la(Ts(),Tn())}function iy(l){return Ut(()=>{const p=l.prototype.constructor,S=p[As]||sc(p),H=Object.prototype;let ne=Object.getPrototypeOf(l.prototype).constructor;for(;ne&&ne!==H;){const ce=ne[As]||sc(ne);if(ce&&ce!==S)return ce;ne=Object.getPrototypeOf(ne)}return ce=>new ce})}function sc(l){return Ve(l)?()=>{const p=sc(kn(l));return p&&p()}:Dh(l)}function e6(l){const p=l[zn],S=p.type;return 2===S?p.declTNode:1===S?l[Pc]:null}function da(l){return function qL(l,p){if("class"===p)return l.classes;if("style"===p)return l.styles;const S=l.attrs;if(S){const H=S.length;let ne=0;for(;ne<H;){const ce=S[ne];if(tn(ce))break;if(0===ce)ne+=2;else if("number"==typeof ce)for(ne++;ne<H&&"string"==typeof S[ne];)ne++;else{if(ce===p)return S[ne+1];ne+=2}}}return null}(Ts(),l)}function t6(l,p=null,S=null,H){const ne=n6(l,p,S,H);return ne.resolveInjectorInitializers(),ne}function n6(l,p=null,S=null,H,ne=new Set){const ce=[S||Xi,pd(l)];return H=H||("object"==typeof l?void 0:Bt(l)),new cs(ce,p||kb(),H||null,ne)}class Ua{static{this.THROW_IF_NOT_FOUND=bt}static{this.NULL=new je}static create(p,S){if(Array.isArray(p))return t6({name:""},S,p,"");{const H=p.name??"";return t6({name:H},p.parent,p.providers,H)}}static{this.\u0275prov=Vn({token:Ua,providedIn:"any",factory:()=>Bs(hx)})}static{this.__NG_ELEMENT_ID__=-1}}new qn("").__NG_ELEMENT_ID__=l=>{const p=Ts();if(null===p)throw new ze(204,!1);if(2&p.type)return p.value;if(l&Vr.Optional)return null;throw new ze(204,!1)};function Ci(l){return l.ngOriginalError}const cy=!0;let ly=(()=>{class l{static{this.__NG_ELEMENT_ID__=JL}static{this.__NG_ENV_ID__=S=>S}}return l})();class dy extends ly{constructor(p){super(),this._lView=p}onDestroy(p){return bA(this._lView,p),()=>function R8(l,p){if(null===l[e0])return;const S=l[e0].indexOf(p);-1!==S&&l[e0].splice(S,1)}(this._lView,p)}}function JL(){return new dy(Tn())}let a0=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new u.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const S=this.taskId++;return this.pendingTasks.add(S),S}remove(S){this.pendingTasks.delete(S),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:()=>new l})}}return l})();const Ou=class zA extends xe.B{constructor(p=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=p,_L()&&(this.destroyRef=Jn(ly,{optional:!0})??void 0,this.pendingTasks=Jn(a0,{optional:!0})??void 0)}emit(p){const S=T(null);try{super.next(p)}finally{T(S)}}subscribe(p,S,H){let ne=p,ce=S||(()=>null),ve=H;if(p&&"object"==typeof p){const Ue=p;ne=Ue.next?.bind(Ue),ce=Ue.error?.bind(Ue),ve=Ue.complete?.bind(Ue)}this.__isAsync&&(ce=this.wrapInTimeout(ce),ne&&(ne=this.wrapInTimeout(ne)),ve&&(ve=this.wrapInTimeout(ve)));const Re=super.subscribe({next:ne,error:ce,complete:ve});return p instanceof be.yU&&p.add(Re),Re}wrapInTimeout(p){return S=>{const H=this.pendingTasks?.add();setTimeout(()=>{p(S),void 0!==H&&this.pendingTasks?.remove(H)})}}};function Wb(...l){}function Fh(l){let p,S;function H(){l=Wb;try{void 0!==S&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(S),void 0!==p&&clearTimeout(p)}catch{}}return p=setTimeout(()=>{l(),H()}),"function"==typeof requestAnimationFrame&&(S=requestAnimationFrame(()=>{l(),H()})),()=>H()}function i6(l){return queueMicrotask(()=>l()),()=>{l=Wb}}const jx="isAngularZone",$x=jx+"_ID";let s6=0;class po{constructor(p){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ou(!1),this.onMicrotaskEmpty=new Ou(!1),this.onStable=new Ou(!1),this.onError=new Ou(!1);const{enableLongStackTrace:S=!1,shouldCoalesceEventChangeDetection:H=!1,shouldCoalesceRunChangeDetection:ne=!1,scheduleInRootZone:ce=cy}=p;if(typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const ve=this;ve._nesting=0,ve._outer=ve._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(ve._inner=ve._inner.fork(new Zone.TaskTrackingZoneSpec)),S&&Zone.longStackTraceZoneSpec&&(ve._inner=ve._inner.fork(Zone.longStackTraceZoneSpec)),ve.shouldCoalesceEventChangeDetection=!ne&&H,ve.shouldCoalesceRunChangeDetection=ne,ve.callbackScheduled=!1,ve.scheduleInRootZone=ce,function c0(l){const p=()=>{!function Ux(l){function p(){Fh(()=>{l.callbackScheduled=!1,bs(l),l.isCheckStableRunning=!0,Vx(l),l.isCheckStableRunning=!1})}l.isCheckStableRunning||l.callbackScheduled||(l.callbackScheduled=!0,l.scheduleInRootZone?Zone.root.run(()=>{p()}):l._outer.run(()=>{p()}),bs(l))}(l)},S=s6++;l._inner=l._inner.fork({name:"angular",properties:{[jx]:!0,[$x]:S,[$x+S]:!0},onInvokeTask:(H,ne,ce,ve,Re,Ue)=>{if(function e9(l){return Kb(l,"__ignore_ng_zone__")}(Ue))return H.invokeTask(ce,ve,Re,Ue);try{return uy(l),H.invokeTask(ce,ve,Re,Ue)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===ve.type||l.shouldCoalesceRunChangeDetection)&&p(),a6(l)}},onInvoke:(H,ne,ce,ve,Re,Ue,it)=>{try{return uy(l),H.invoke(ce,ve,Re,Ue,it)}finally{l.shouldCoalesceRunChangeDetection&&!l.callbackScheduled&&!function fy(l){return Kb(l,"__scheduler_tick__")}(Ue)&&p(),a6(l)}},onHasTask:(H,ne,ce,ve)=>{H.hasTask(ce,ve),ne===ce&&("microTask"==ve.change?(l._hasPendingMicrotasks=ve.microTask,bs(l),Vx(l)):"macroTask"==ve.change&&(l.hasPendingMacrotasks=ve.macroTask))},onHandleError:(H,ne,ce,ve)=>(H.handleError(ce,ve),l.runOutsideAngular(()=>l.onError.emit(ve)),!1)})}(ve)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(jx)}static assertInAngularZone(){if(!po.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(po.isInAngularZone())throw new ze(909,!1)}run(p,S,H){return this._inner.run(p,S,H)}runTask(p,S,H,ne){const ce=this._inner,ve=ce.scheduleEventTask("NgZoneEvent: "+ne,p,o6,Wb,Wb);try{return ce.runTask(ve,S,H)}finally{ce.cancelTask(ve)}}runGuarded(p,S,H){return this._inner.runGuarded(p,S,H)}runOutsideAngular(p){return this._outer.run(p)}}const o6={};function Vx(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function bs(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&!0===l.callbackScheduled)}function uy(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function a6(l){l._nesting--,Vx(l)}class Nh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ou,this.onMicrotaskEmpty=new Ou,this.onStable=new Ou,this.onError=new Ou}run(p,S,H){return p.apply(S,H)}runGuarded(p,S,H){return p.apply(S,H)}runOutsideAngular(p){return p()}runTask(p,S,H,ne){return p.apply(S,H)}}function Kb(l,p){return!(!Array.isArray(l)||1!==l.length)&&!0===l[0]?.data?.[p]}class Gd{constructor(){this._console=console}handleError(p){const S=this._findOriginalError(p);this._console.error("ERROR",p),S&&this._console.error("ORIGINAL ERROR",S)}_findOriginalError(p){let S=p&&Ci(p);for(;S&&Ci(S);)S=Ci(S);return S||null}}const qb=new qn("",{providedIn:"root",factory:()=>{const l=Jn(po),p=Jn(Gd);return S=>l.runOutsideAngular(()=>p.handleError(S))}});function l6(){return hy(Ts(),Tn())}function hy(l,p){return new Xb(Oc(l,p))}let Xb=(()=>{class l{constructor(S){this.nativeElement=S}static{this.__NG_ELEMENT_ID__=l6}}return l})();function d6(l){return l instanceof Xb?l.nativeElement:l}function KA(){return this._results[Symbol.iterator]()}class zx{get changes(){return this._changes??=new Ou}constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const S=zx.prototype;S[Symbol.iterator]||(S[Symbol.iterator]=KA)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,S){return this._results.reduce(p,S)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,S){this.dirty=!1;const H=function tl(l){return l.flat(Number.POSITIVE_INFINITY)}(p);(this._changesDetected=!function fx(l,p,S){if(l.length!==p.length)return!1;for(let H=0;H<l.length;H++){let ne=l[H],ce=p[H];if(S&&(ne=S(ne),ce=S(ce)),ce!==ne)return!1}return!0}(this._results,H,S))&&(this._results=H,this.length=H.length,this.last=H[this.length-1],this.first=H[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(p){this._onDirty=p}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Zb(l){return!(128&~l.flags)}const Hx=new Map;let i9=0;function Gx(l){Hx.delete(l[Fb])}const e_="__ngContext__";function Fc(l,p){jo(p)?(l[e_]=p[Fb],function s9(l){Hx.set(l[Fb],l)}(p)):l[e_]=p}function Rf(l){return r_(l[Rb])}function Hl(l){return r_(l[Tf])}function r_(l){for(;null!==l&&!rl(l);)l=l[Tf];return l}let b6;function h9(l){b6=l}function u0(){if(void 0!==b6)return b6;if(typeof document<"u")return document;throw new ze(210,!1)}const iT=new qn("",{providedIn:"root",factory:()=>rY}),rY="ng",p9=new qn(""),Xx=new qn("",{providedIn:"platform",factory:()=>"unknown"}),m9=new qn(""),g9=new qn("",{providedIn:"root",factory:()=>u0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let l_=()=>null;function e2(l,p,S=!1){return l_(l,p,S)}const _y=new qn("",{providedIn:"root",factory:()=>!1});let c2,d2;function wy(l){return function dT(){if(void 0===c2&&(c2=null,at.trustedTypes))try{c2=at.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return c2}()?.createHTML(l)||l}function uT(){if(void 0===d2&&(d2=null,at.trustedTypes))try{d2=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return d2}function D6(l){return uT()?.createHTML(l)||l}function k6(l){return uT()?.createScriptURL(l)||l}class m0{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ke})`}}class w9 extends m0{getTypeName(){return"HTML"}}class x9 extends m0{getTypeName(){return"Style"}}class E9 extends m0{getTypeName(){return"Script"}}class S9 extends m0{getTypeName(){return"URL"}}class I6 extends m0{getTypeName(){return"ResourceURL"}}function Lh(l){return l instanceof m0?l.changingThisBreaksApplicationSecurity:l}function $p(l,p){const S=function u2(l){return l instanceof m0&&l.getTypeName()||null}(l);if(null!=S&&S!==p){if("ResourceURL"===S&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${S} (see ${ke})`)}return S===p}function xy(l){return new w9(l)}function aY(l){return new x9(l)}function C9(l){return new E9(l)}function A9(l){return new S9(l)}function T9(l){return new I6(l)}function f2(l){const p=new P6(l);return function M9(){try{return!!(new window.DOMParser).parseFromString(wy(""),"text/html")}catch{return!1}}()?new D9(p):p}class D9{constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const S=(new window.DOMParser).parseFromString(wy(p),"text/html").body;return null===S?this.inertDocumentHelper.getInertBodyElement(p):(S.firstChild?.remove(),S)}catch{return null}}}class P6{constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const S=this.inertDocument.createElement("template");return S.innerHTML=wy(p),S}}const O6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function h2(l){return(l=String(l)).match(O6)?l:"unsafe:"+l}function jh(l){const p={};for(const S of l.split(","))p[S]=!0;return p}function h_(...l){const p={};for(const S of l)for(const H in S)S.hasOwnProperty(H)&&(p[H]=!0);return p}const R6=jh("area,br,col,hr,img,wbr"),p_=jh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),F6=jh("rp,rt"),fT=h_(R6,h_(p_,jh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),h_(F6,jh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),h_(F6,p_)),hT=jh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),I9=h_(hT,jh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N6=jh("script,style,template");class B6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(p){let S=p.firstChild,H=!0,ne=[];for(;S;)if(S.nodeType===Node.ELEMENT_NODE?H=this.startElement(S):S.nodeType===Node.TEXT_NODE?this.chars(S.nodeValue):this.sanitizedSomething=!0,H&&S.firstChild)ne.push(S),S=L6(S);else for(;S;){S.nodeType===Node.ELEMENT_NODE&&this.endElement(S);let ce=O9(S);if(ce){S=ce;break}S=ne.pop()}return this.buf.join("")}startElement(p){const S=j6(p).toLowerCase();if(!fT.hasOwnProperty(S))return this.sanitizedSomething=!0,!N6.hasOwnProperty(S);this.buf.push("<"),this.buf.push(S);const H=p.attributes;for(let ne=0;ne<H.length;ne++){const ce=H.item(ne),ve=ce.name,Re=ve.toLowerCase();if(!I9.hasOwnProperty(Re)){this.sanitizedSomething=!0;continue}let Ue=ce.value;hT[Re]&&(Ue=h2(Ue)),this.buf.push(" ",ve,'="',mT(Ue),'"')}return this.buf.push(">"),!0}endElement(p){const S=j6(p).toLowerCase();fT.hasOwnProperty(S)&&!R6.hasOwnProperty(S)&&(this.buf.push("</"),this.buf.push(S),this.buf.push(">"))}chars(p){this.buf.push(mT(p))}}function O9(l){const p=l.nextSibling;if(p&&l!==p.previousSibling)throw $6(p);return p}function L6(l){const p=l.firstChild;if(p&&function P9(l,p){return(l.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(l,p))throw $6(p);return p}function j6(l){const p=l.nodeName;return"string"==typeof p?p:"FORM"}function $6(l){return new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`)}const R9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pT=/([^\#-~ |!])/g;function mT(l){return l.replace(/&/g,"&amp;").replace(R9,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(pT,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let p2;function g0(l,p){let S=null;try{p2=p2||f2(l);let H=p?String(p):"";S=p2.getInertBodyElement(H);let ne=5,ce=H;do{if(0===ne)throw new Error("Failed to sanitize html because the input is unstable");ne--,H=ce,ce=S.innerHTML,S=p2.getInertBodyElement(H)}while(H!==ce);return wy((new B6).sanitizeChildren(m2(S)||S))}finally{if(S){const H=m2(S)||S;for(;H.firstChild;)H.firstChild.remove()}}}function m2(l){return"content"in l&&function gT(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Wd=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(Wd||{});function g2(l){const p=Vp();return p?D6(p.sanitize(Wd.HTML,l)||""):$p(l,"HTML")?D6(Lh(l)):g0(u0(),Hr(l))}function V6(l){const p=Vp();return p?p.sanitize(Wd.URL,l)||"":$p(l,"URL")?Lh(l):h2(Hr(l))}function yT(l){const p=Vp();if(p)return k6(p.sanitize(Wd.RESOURCE_URL,l)||"");if($p(l,"ResourceURL"))return k6(Lh(l));throw new ze(904,!1)}function H6(l,p,S){return function z6(l,p){return"src"===p&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===p&&("base"===l||"link"===l)?yT:V6}(p,S)(l)}function Vp(){const l=Tn();return l&&l[Df].sanitizer}const L9=/^>|^->|<!--|-->|--!>|<!-$/g,j9=/(<|>)/g,$9="\u200b$1\u200b";function Bu(l){return l.ownerDocument.defaultView}function qd(l){return l instanceof Function?l():l}function Gl(l){return"browser"===(l??Jn(Ua)).get(Xx)}var AT=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(AT||{});let Y6;function TT(l,p){return Y6(l,p)}function y_(l,p,S,H,ne){if(null!=H){let ce,ve=!1;rl(H)?ce=H:jo(H)&&(ve=!0,H=H[to]);const Re=ts(H);0===l&&null!==S?null==ne?Ha(p,S,Re):Nf(p,S,Re,ne||null,!0):1===l&&null!==S?Nf(p,S,Re,ne||null,!0):2===l?function v_(l,p,S){l.removeChild(null,p,S)}(p,Re,ve):3===l&&p.destroyNode(Re),null!=ce&&function t7(l,p,S,H,ne){const ce=S[Ih];ce!==ts(S)&&y_(p,l,H,ce,ne);for(let Re=ca;Re<S.length;Re++){const Ue=S[Re];E2(Ue[zn],Ue,l,p,H,ce)}}(p,l,ce,S,ne)}}function v2(l,p){return l.createText(p)}function b2(l,p){return l.createComment(function G6(l){return l.replace(L9,p=>p.replace(j9,$9))}(p))}function _2(l,p,S){return l.createElement(p,S)}function J6(l,p){p[Df].changeDetectionScheduler?.notify(9),E2(l,p,p[si],2,null,null)}function eP(l,p){const S=l[Rp],H=p[_a];(jo(H)||p[To]!==H[_a][To])&&(l[Ur]|=Nb.HasTransplantedViews),null===S?l[Rp]=[p]:S.push(p)}function tP(l,p){const S=l[Rp],H=S.indexOf(p);S.splice(H,1)}function w2(l,p){if(l.length<=ca)return;const S=ca+p,H=l[S];if(H){const ne=H[Qm];null!==ne&&ne!==l&&tP(ne,H),p>0&&(l[S-1][Tf]=H[Tf]);const ce=$g(l,ca+p);!function Y9(l,p){J6(l,p),p[to]=null,p[Pc]=null}(H[zn],H);const ve=ce[Op];null!==ve&&ve.detachView(ce[zn]),H[_a]=null,H[Tf]=null,H[Ur]&=-129}return H}function DT(l,p){if(!(256&p[Ur])){const S=p[si];S.destroyNode&&E2(l,p,S,3,null,null),function J9(l){let p=l[Rb];if(!p)return nP(l[zn],l);for(;p;){let S=null;if(jo(p))S=p[Rb];else{const H=p[ca];H&&(S=H)}if(!S){for(;p&&!p[Tf]&&p!==l;)jo(p)&&nP(p[zn],p),p=p[_a];null===p&&(p=l),jo(p)&&nP(p[zn],p),S=p&&p[Tf]}p=S}}(p)}}function nP(l,p){if(256&p[Ur])return;const S=T(null);try{p[Ur]&=-129,p[Ur]|=256,p[Du]&&Q(p[Du]),function bY(l,p){let S;if(null!=l&&null!=(S=l.destroyHooks))for(let H=0;H<S.length;H+=2){const ne=p[S[H]];if(!(ne instanceof md)){const ce=S[H+1];if(Array.isArray(ce))for(let ve=0;ve<ce.length;ve+=2){const Re=ne[ce[ve]],Ue=ce[ve+1];Mf(4,Re,Ue);try{Ue.call(Re)}finally{Mf(5,Re,Ue)}}else{Mf(4,ne,ce);try{ce.call(ne)}finally{Mf(5,ne,ce)}}}}}(l,p),function vY(l,p){const S=l.cleanup,H=p[Ob];if(null!==S)for(let ce=0;ce<S.length-1;ce+=2)if("string"==typeof S[ce]){const ve=S[ce+3];ve>=0?H[ve]():H[-ve].unsubscribe(),ce+=2}else S[ce].call(H[S[ce+1]]);null!==H&&(p[Ob]=null);const ne=p[e0];if(null!==ne){p[e0]=null;for(let ce=0;ce<ne.length;ce++)(0,ne[ce])()}}(l,p),1===p[zn].type&&p[si].destroy();const H=p[Qm];if(null!==H&&rl(p[_a])){H!==p[_a]&&tP(H,p);const ne=p[Op];null!==ne&&ne.detachView(l)}Gx(p)}finally{T(S)}}function Nn(l,p,S){return rP(l,p.parent,S)}function rP(l,p,S){let H=p;for(;null!==H&&168&H.type;)H=(p=H).parent;if(null===H)return S[to];{const{componentOffset:ne}=H;if(ne>-1){const{encapsulation:ce}=l.data[H.directiveStart+ne];if(ce===ct.None||ce===ct.Emulated)return null}return Oc(H,S)}}function Nf(l,p,S,H,ne){l.insertBefore(p,S,H,ne)}function Ha(l,p,S){l.appendChild(p,S)}function Gi(l,p,S,H,ne){null!==H?Nf(l,p,S,H,ne):Ha(l,p,S)}function Or(l,p){return l.parentNode(p)}function Sy(l,p,S){return Q9(l,p,S)}function iP(l,p,S){return 40&l.type?Oc(l,S):null}let x2,Q9=iP;function sP(l,p){Q9=l,x2=p}function $h(l,p,S,H){const ne=Nn(l,H,p),ce=p[si],Re=Sy(H.parent||p[Pc],H,p);if(null!=ne)if(Array.isArray(S))for(let Ue=0;Ue<S.length;Ue++)Gi(ce,ne,S[Ue],Re,!1);else Gi(ce,ne,S,Re,!1);void 0!==x2&&x2(ce,H,p,S,ne)}function Cy(l,p){if(null!==p){const S=p.type;if(3&S)return Oc(p,l);if(4&S)return MT(-1,l[p.index]);if(8&S){const H=p.child;if(null!==H)return Cy(l,H);{const ne=l[p.index];return rl(ne)?MT(-1,ne):ts(ne)}}if(128&S)return Cy(l,p.next);if(32&S)return TT(p,l)()||ts(l[p.index]);{const H=oP(l,p);return null!==H?Array.isArray(H)?H[0]:Cy(Fp(l[To]),H):Cy(l,p.next)}}return null}function oP(l,p){return null!==p?l[To][Pc].projection[p.projection]:null}function MT(l,p){const S=ca+l+1;if(S<p.length){const H=p[S],ne=H[zn].firstChild;if(null!==ne)return Cy(H,ne)}return p[Ih]}function kT(l,p,S,H,ne,ce,ve){for(;null!=S;){if(128===S.type){S=S.next;continue}const Re=H[S.index],Ue=S.type;if(ve&&0===p&&(Re&&Fc(ts(Re),H),S.flags|=2),32&~S.flags)if(8&Ue)kT(l,p,S.child,H,ne,ce,!1),y_(p,l,ne,Re,ce);else if(32&Ue){const it=TT(S,H);let ft;for(;ft=it();)y_(p,l,ne,ft,ce);y_(p,l,ne,Re,ce)}else 16&Ue?cP(l,p,H,S,ne,ce):y_(p,l,ne,Re,ce);S=ve?S.projectionNext:S.next}}function E2(l,p,S,H,ne,ce){kT(S,H,l.firstChild,p,ne,ce,!1)}function cP(l,p,S,H,ne,ce){const ve=S[To],Ue=ve[Pc].projection[H.projection];if(Array.isArray(Ue))for(let it=0;it<Ue.length;it++)y_(p,l,ne,Ue[it],ce);else{let it=Ue;const ft=ve[_a];Zb(H)&&(it.flags|=128),kT(l,p,it,ft,ne,ce,!0)}}function b_(l,p,S){""===S?l.removeAttribute(p,"class"):l.setAttribute(p,"class",S)}function Ay(l,p,S){const{mergedAttrs:H,classes:ne,styles:ce}=S;null!==H&&Qt(l,p,H),null!==ne&&b_(l,p,ne),null!==ce&&function n7(l,p,S){l.setAttribute(p,"style",S)}(l,p,ce)}const bi={};function dP(l=1){Ga(Di(),Tn(),xa()+l,!1)}function Ga(l,p,S,H){if(!H)if(3&~p[Ur]){const ce=l.preOrderHooks;null!==ce&&Ix(p,ce,0,S)}else{const ce=l.preOrderCheckHooks;null!==ce&&kx(p,ce,S)}Bp(S)}function Bf(l,p=Vr.Default){const S=Tn();return null===S?Bs(l,p):Hb(Ts(),S,kn(l),p)}function uP(){throw new Error("invalid")}function fP(l,p,S,H,ne,ce){const ve=T(null);try{let Re=null;ne&_t.SignalBased&&(Re=p[H][y]),null!==Re&&void 0!==Re.transformFn&&(ce=Re.transformFn(ce)),ne&_t.HasDecoratorInputTransform&&(ce=l.inputTransforms[H].call(p,ce)),null!==l.setInput?l.setInput(p,Re,ce,S,H):uA(p,Re,H,ce)}finally{T(ve)}}function S2(l,p,S,H,ne,ce,ve,Re,Ue,it,ft){const kt=p.blueprint.slice();return kt[to]=ne,kt[Ur]=204|H,(null!==it||l&&2048&l[Ur])&&(kt[Ur]|=2048),mA(kt),kt[_a]=kt[qg]=l,kt[no]=S,kt[Df]=ve||l&&l[Df],kt[si]=Re||l&&l[si],kt[wa]=Ue||l&&l[wa]||null,kt[Pc]=ce,kt[Fb]=function l0(){return i9++}(),kt[zl]=ft,kt[SL]=it,kt[To]=2==p.type?l[To]:kt,kt}function y0(l,p,S,H,ne){let ce=l.data[p];if(null===ce)ce=IT(l,p,S,H,ne),function Np(){return mi.lFrame.inI18n}()&&(ce.flags|=32);else if(64&ce.type){ce.type=S,ce.value=H,ce.attrs=ne;const ve=Vb();ce.injectorIndex=null===ve?-1:ve.injectorIndex}return Mu(ce,!0),ce}function IT(l,p,S,H,ne){const ce=wA(),ve=xA(),Ue=l.data[p]=function T2(l,p,S,H,ne,ce){let ve=p?p.injectorIndex:-1,Re=0;return ey()&&(Re|=128),{type:S,index:H,insertBeforeIndex:null,injectorIndex:ve,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Re,providerIndexes:0,value:ne,attrs:ce,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ve?ce:ce&&ce.parent,S,p,H,ne);return null===l.firstChild&&(l.firstChild=Ue),null!==ce&&(ve?null==ce.child&&null!==Ue.parent&&(ce.child=Ue):null===ce.next&&(ce.next=Ue,Ue.prev=ce)),Ue}function __(l,p,S,H){if(0===S)return-1;const ne=p.length;for(let ce=0;ce<S;ce++)p.push(H),l.blueprint.push(H),l.data.push(null);return ne}function C2(l,p,S,H,ne){const ce=xa(),ve=2&H;try{Bp(-1),ve&&p.length>Dr&&Ga(l,p,Dr,!1),Mf(ve?2:0,ne),S(H,ne)}finally{Bp(ce),Mf(ve?3:1,ne)}}function sl(l,p,S){if(S8(p)){const H=T(null);try{const ce=p.directiveEnd;for(let ve=p.directiveStart;ve<ce;ve++){const Re=l.data[ve];Re.contentQueries&&Re.contentQueries(1,S[ve],ve)}}finally{T(H)}}}function PT(l,p,S){BL()&&(function u7(l,p,S,H){const ne=S.directiveStart,ce=S.directiveEnd;t0(S)&&function y7(l,p,S){const H=Oc(p,l),ne=hP(S);let ve=16;S.signals?ve=4096:S.onPush&&(ve=64);const Re=zp(l,S2(l,ne,null,ve,H,p,null,l[Df].rendererFactory.createRenderer(H,S),null,null,null));l[p.index]=Re}(p,S,l.data[ne+S.componentOffset]),l.firstCreatePass||zb(S,p),Fc(H,p);const ve=S.initialInputs;for(let Re=ne;Re<ce;Re++){const Ue=l.data[Re],it=Pf(p,l,Re,S);Fc(it,p),null!==ve&&v7(0,Re-ne,it,Ue,0,ve),il(Ue)&&(zd(S.index,p)[no]=Pf(p,l,Re,S))}}(l,p,S,Oc(S,p)),!(64&~S.flags)&&FT(l,p,S))}function OT(l,p,S=Oc){const H=p.localNames;if(null!==H){let ne=p.index+1;for(let ce=0;ce<H.length;ce+=2){const ve=H[ce+1],Re=-1===ve?S(p,l):l[ve];l[ne++]=Re}}}function hP(l){const p=l.tView;return null===p||p.incompleteFirstPass?l.tView=Xd(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):p}function Xd(l,p,S,H,ne,ce,ve,Re,Ue,it,ft){const kt=Dr+H,zt=kt+ne,Zt=function i7(l,p){const S=[];for(let H=0;H<p;H++)S.push(H<l?null:bi);return S}(kt,zt),fn="function"==typeof it?it():it;return Zt[zn]={type:l,blueprint:Zt,template:S,queries:null,viewQuery:Re,declTNode:p,data:Zt.slice().fill(null,kt),bindingStartIndex:kt,expandoStartIndex:zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof ce?ce():ce,pipeRegistry:"function"==typeof ve?ve():ve,firstChild:null,schemas:Ue,consts:fn,incompleteFirstPass:!1,ssrId:ft}}let a7=()=>null;function Up(l,p,S,H,ne){for(let ce in p){if(!p.hasOwnProperty(ce))continue;const ve=p[ce];if(void 0===ve)continue;H??={};let Re,Ue=_t.None;Array.isArray(ve)?(Re=ve[0],Ue=ve[1]):Re=ve;let it=ce;if(null!==ne){if(!ne.hasOwnProperty(ce))continue;it=ne[ce]}0===l?hn(H,S,it,Re,Ue):hn(H,S,it,Re)}return H}function hn(l,p,S,H,ne){let ce;l.hasOwnProperty(S)?(ce=l[S]).push(p,H):ce=l[S]=[p,H],void 0!==ne&&ce.push(ne)}function $s(l,p,S,H,ne,ce,ve,Re){const Ue=Oc(p,S);let ft,it=p.inputs;!Re&&null!=it&&(ft=it[H])?(S_(l,S,ft,H,ne),t0(p)&&function l7(l,p){const S=zd(p,l);16&S[Ur]||(S[Ur]|=64)}(S,p.index)):3&p.type&&(H=function c7(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(H),ne=null!=ve?ve(ne,p.value||"",H):ne,ce.setProperty(Ue,H,ne))}function RT(l,p,S,H){if(BL()){const ne=null===H?null:{"":-1},ce=function f7(l,p){const S=l.directiveRegistry;let H=null,ne=null;if(S)for(let ce=0;ce<S.length;ce++){const ve=S[ce];if(Lo(p,ve.selectors,!1))if(H||(H=[]),il(ve))if(null!==ve.findHostDirectiveDefs){const Re=[];ne=ne||new Map,ve.findHostDirectiveDefs(ve,Re,ne),H.unshift(...Re,ve),BT(l,p,Re.length)}else H.unshift(ve),BT(l,p,0);else ne=ne||new Map,ve.findHostDirectiveDefs?.(ve,H,ne),H.push(ve)}return null===H?null:[H,ne]}(l,S);let ve,Re;null===ce?ve=Re=null:[ve,Re]=ce,null!==ve&&gP(l,p,S,ve,ne,Re),ne&&function h7(l,p,S){if(p){const H=l.localNames=[];for(let ne=0;ne<p.length;ne+=2){const ce=S[p[ne+1]];if(null==ce)throw new ze(-301,!1);H.push(p[ne],ce)}}}(S,H,ne)}S.mergedAttrs=An(S.mergedAttrs,S.attrs)}function gP(l,p,S,H,ne,ce){for(let it=0;it<H.length;it++)LA(zb(S,p),l,H[it].type);!function m7(l,p,S){l.flags|=1,l.directiveStart=p,l.directiveEnd=p+S,l.providerIndexes=p}(S,l.data.length,H.length);for(let it=0;it<H.length;it++){const ft=H[it];ft.providersResolver&&ft.providersResolver(ft)}let ve=!1,Re=!1,Ue=__(l,p,H.length,null);for(let it=0;it<H.length;it++){const ft=H[it];S.mergedAttrs=An(S.mergedAttrs,ft.hostAttrs),g7(l,S,p,Ue,ft),p7(Ue,ft,ne),null!==ft.contentQueries&&(S.flags|=4),(null!==ft.hostBindings||null!==ft.hostAttrs||0!==ft.hostVars)&&(S.flags|=64);const kt=ft.type.prototype;!ve&&(kt.ngOnChanges||kt.ngOnInit||kt.ngDoCheck)&&((l.preOrderHooks??=[]).push(S.index),ve=!0),!Re&&(kt.ngOnChanges||kt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(S.index),Re=!0),Ue++}!function D2(l,p,S){const ne=p.directiveEnd,ce=l.data,ve=p.attrs,Re=[];let Ue=null,it=null;for(let ft=p.directiveStart;ft<ne;ft++){const kt=ce[ft],zt=S?S.get(kt):null,fn=zt?zt.outputs:null;Ue=Up(0,kt.inputs,ft,Ue,zt?zt.inputs:null),it=Up(1,kt.outputs,ft,it,fn);const Mn=null===Ue||null===ve||ii(p)?null:b7(Ue,ft,ve);Re.push(Mn)}null!==Ue&&(Ue.hasOwnProperty("class")&&(p.flags|=8),Ue.hasOwnProperty("style")&&(p.flags|=16)),p.initialInputs=Re,p.inputs=Ue,p.outputs=it}(l,S,ce)}function FT(l,p,S){const H=S.directiveStart,ne=S.directiveEnd,ce=S.index,ve=function V8(){return mi.lFrame.currentDirectiveIndex}();try{Bp(ce);for(let Re=H;Re<ne;Re++){const Ue=l.data[Re],it=p[Re];CA(Re),(null!==Ue.hostBindings||0!==Ue.hostVars||null!==Ue.hostAttrs)&&NT(Ue,it)}}finally{Bp(-1),CA(ve)}}function NT(l,p){null!==l.hostBindings&&l.hostBindings(1,p)}function BT(l,p,S){p.componentOffset=S,(l.components??=[]).push(p.index)}function p7(l,p,S){if(S){if(p.exportAs)for(let H=0;H<p.exportAs.length;H++)S[p.exportAs[H]]=l;il(p)&&(S[""]=l)}}function g7(l,p,S,H,ne){l.data[H]=ne;const ce=ne.factory||(ne.factory=Dh(ne.type)),ve=new md(ce,il(ne),Bf);l.blueprint[H]=ve,S[H]=ve,function yP(l,p,S,H,ne){const ce=ne.hostBindings;if(ce){let ve=l.hostBindingOpCodes;null===ve&&(ve=l.hostBindingOpCodes=[]);const Re=~p.index;(function d7(l){let p=l.length;for(;p>0;){const S=l[--p];if("number"==typeof S&&S<0)return S}return 0})(ve)!=Re&&ve.push(Re),ve.push(S,H,ce)}}(l,p,H,__(l,S,ne.hostVars,bi),ne)}function Lf(l,p,S,H,ne,ce){const ve=Oc(l,p);!function LT(l,p,S,H,ne,ce,ve){if(null==ce)l.removeAttribute(p,ne,S);else{const Re=null==ve?Hr(ce):ve(ce,H||"",ne);l.setAttribute(p,ne,Re,S)}}(p[si],ve,ce,l.value,S,H,ne)}function v7(l,p,S,H,ne,ce){const ve=ce[p];if(null!==ve)for(let Re=0;Re<ve.length;)fP(H,S,ve[Re++],ve[Re++],ve[Re++],ve[Re++])}function b7(l,p,S){let H=null,ne=0;for(;ne<S.length;){const ce=S[ne];if(0!==ce)if(5!==ce){if("number"==typeof ce)break;if(l.hasOwnProperty(ce)){null===H&&(H=[]);const ve=l[ce];for(let Re=0;Re<ve.length;Re+=3)if(ve[Re]===p){H.push(ce,ve[Re+1],ve[Re+2],S[ne+1]);break}}ne+=2}else ne+=2;else ne+=4}return H}function vP(l,p,S,H){return[l,!0,0,p,null,H,null,S,null,null]}function x_(l,p){const S=l.contentQueries;if(null!==S){const H=T(null);try{for(let ne=0;ne<S.length;ne+=2){const ve=S[ne+1];if(-1!==ve){const Re=l.data[ve];Mx(S[ne]),Re.contentQueries(2,p[ve],ve)}}}finally{T(H)}}}function zp(l,p){return l[Rb]?l[EL][Tf]=p:l[Rb]=p,l[EL]=p,p}function v0(l,p,S){Mx(0);const H=T(null);try{p(l,S)}finally{T(H)}}function E_(l){return l[Ob]??=[]}function bP(l){return l.cleanup??=[]}function Ty(l,p){const S=l[wa],H=S?S.get(Gd,null):null;H&&H.handleError(p)}function S_(l,p,S,H,ne){for(let ce=0;ce<S.length;){const ve=S[ce++],Re=S[ce++],Ue=S[ce++];fP(l.data[ve],p[ve],H,Re,Ue,ne)}}function wY(l,p){const S=zd(p,l),H=S[zn];!function wP(l,p){for(let S=p.length;S<l.blueprint.length;S++)p.push(l.blueprint[S])}(H,S);const ne=S[to];null!==ne&&null===S[zl]&&(S[zl]=e2(ne,S[wa])),C_(H,S,S[no])}function C_(l,p,S){TA(p);try{const H=l.viewQuery;null!==H&&v0(1,H,S);const ne=l.template;null!==ne&&C2(l,p,ne,1,S),l.firstCreatePass&&(l.firstCreatePass=!1),p[Op]?.finishViewCreation(l),l.staticContentQueries&&x_(l,p),l.staticViewQueries&&v0(2,l.viewQuery,S);const ce=l.components;null!==ce&&function Vo(l,p){for(let S=0;S<p.length;S++)wY(l,p[S])}(p,ce)}catch(H){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),H}finally{p[Ur]&=-5,DA()}}function Dy(l,p,S,H){const ne=T(null);try{const ce=p.tView,Ue=S2(l,ce,S,4096&l[Ur]?4096:16,null,p,null,null,H?.injector??null,H?.embeddedViewInjector??null,H?.dehydratedView??null);Ue[Qm]=l[p.index];const ft=l[Op];return null!==ft&&(Ue[Op]=ft.createEmbeddedView(ce)),C_(ce,Ue,S),Ue}finally{T(ne)}}function xP(l,p){const S=ca+p;if(S<l.length)return l[S]}function b0(l,p){return!p||null===p.firstChild||Zb(l)}function jf(l,p,S,H=!0){const ne=p[zn];if(function Q6(l,p,S,H){const ne=ca+H,ce=S.length;H>0&&(S[ne-1][Tf]=p),H<ce-ca?(p[Tf]=S[ne],Zm(S,ca+H,p)):(S.push(p),p[Tf]=null),p[_a]=S;const ve=p[Qm];null!==ve&&S!==ve&&eP(ve,p);const Re=p[Op];null!==Re&&Re.insertView(l),yA(p),p[Ur]|=128}(ne,p,l,S),H){const ve=MT(S,l),Re=p[si],Ue=Or(Re,l[Ih]);null!==Ue&&function Z9(l,p,S,H,ne,ce){H[to]=ne,H[Pc]=p,E2(l,H,S,1,ne,ce)}(ne,l[Pc],Re,p,Ue,ve)}const ce=p[zl];null!==ce&&null!==ce.firstChild&&(ce.firstChild=null)}function jT(l,p){const S=w2(l,p);return void 0!==S&&DT(S[zn],S),S}function My(l,p,S,H,ne=!1){for(;null!==S;){if(128===S.type){S=ne?S.projectionNext:S.next;continue}const ce=p[S.index];null!==ce&&H.push(ts(ce)),rl(ce)&&EP(ce,H);const ve=S.type;if(8&ve)My(l,p,S.child,H);else if(32&ve){const Re=TT(S,p);let Ue;for(;Ue=Re();)H.push(Ue)}else if(16&ve){const Re=oP(p,S);if(Array.isArray(Re))H.push(...Re);else{const Ue=Fp(p[To]);My(Ue[zn],Ue,Re,H,!0)}}S=ne?S.projectionNext:S.next}return H}function EP(l,p){for(let S=ca;S<l.length;S++){const H=l[S],ne=H[zn].firstChild;null!==ne&&My(H[zn],H,ne,p)}l[Ih]!==l[to]&&p.push(l[Ih])}let ky=[];const w7={...k,consumerIsAlwaysLive:!0,consumerMarkedDirty:l=>{vA(l.lView)},consumerOnSignalRead(){this.lView[Du]=this}},SP={...k,consumerIsAlwaysLive:!0,consumerMarkedDirty:l=>{let p=Fp(l.lView);for(;p&&!yd(p[zn]);)p=Fp(p);p&&FL(p)},consumerOnSignalRead(){this.lView[Du]=this}};function yd(l){return 2!==l.type}const VT=100;function A_(l,p=!0,S=0){const H=l[Df],ne=H.rendererFactory;ne.begin?.();try{!function T_(l,p){const S=Dx();try{j8(!0),M_(l,p);let H=0;for(;gA(l);){if(H===VT)throw new ze(103,!1);H++,M_(l,1)}}finally{j8(S)}}(l,S)}catch(ve){throw p&&Ty(l,ve),ve}finally{ne.end?.(),H.inlineEffectRunner?.flush()}}function x7(l,p,S,H){const ne=p[Ur];if(!(256&~ne))return;p[Df].inlineEffectRunner?.flush(),TA(p);let Re=!0,Ue=null,it=null;yd(l)?(it=function _7(l){return l[Du]??function ua(l){const p=ky.pop()??Object.create(w7);return p.lView=l,p}(l)}(p),Ue=B(it)):null===function w(){return $}()?(Re=!1,it=function k2(l){const p=l[Du]??Object.create(SP);return p.lView=l,p}(p),Ue=B(it)):p[Du]&&(Q(p[Du]),p[Du]=null);try{mA(p),function $8(l){return mi.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==S&&C2(l,p,S,2,H);const ft=!(3&~ne);if(ft){const Zt=l.preOrderCheckHooks;null!==Zt&&kx(p,Zt,null)}else{const Zt=l.preOrderHooks;null!==Zt&&Ix(p,Zt,0,null),OA(p,0)}if(function E7(l){for(let p=Rf(l);null!==p;p=Hl(p)){if(!(p[Ur]&Nb.HasTransplantedViews))continue;const S=p[Rp];for(let H=0;H<S.length;H++)FL(S[H])}}(p),Wl(p,0),null!==l.contentQueries&&x_(l,p),ft){const Zt=l.contentCheckHooks;null!==Zt&&kx(p,Zt)}else{const Zt=l.contentHooks;null!==Zt&&Ix(p,Zt,1),OA(p,1)}!function r7(l,p){const S=l.hostBindingOpCodes;if(null!==S)try{for(let H=0;H<S.length;H++){const ne=S[H];if(ne<0)Bp(~ne);else{const ce=ne,ve=S[++H],Re=S[++H];jL(ve,ce),Re(2,p[ce])}}}finally{Bp(-1)}}(l,p);const kt=l.components;null!==kt&&CP(p,kt,0);const zt=l.viewQuery;if(null!==zt&&v0(2,zt,H),ft){const Zt=l.viewCheckHooks;null!==Zt&&kx(p,Zt)}else{const Zt=l.viewHooks;null!==Zt&&Ix(p,Zt,2),OA(p,2)}if(!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),p[aA]){for(const Zt of p[aA])Zt();p[aA]=null}p[Ur]&=-73}catch(ft){throw vA(p),ft}finally{null!==it&&(q(it,Ue),Re&&function $T(l){l.lView[Du]!==l&&(l.lView=null,ky.push(l))}(it)),DA()}}function Wl(l,p){for(let S=Rf(l);null!==S;S=Hl(S))for(let H=ca;H<S.length;H++)Wa(S[H],p)}function D_(l,p,S){Wa(zd(p,l),S)}function Wa(l,p){Cx(l)&&M_(l,p)}function M_(l,p){const H=l[zn],ne=l[Ur],ce=l[Du];let ve=!!(0===p&&16&ne);if(ve||=!!(64&ne&&0===p),ve||=!!(1024&ne),ve||=!(!ce?.dirty||!X(ce)),ve||=!1,ce&&(ce.dirty=!1),l[Ur]&=-9217,ve)x7(H,l,H.template,l[no]);else if(8192&ne){Wl(l,1);const Re=H.components;null!==Re&&CP(l,Re,1)}}function CP(l,p,S){for(let H=0;H<p.length;H++)D_(l,p[H],S)}function k_(l,p){const S=Dx()?64:1088;for(l[Df].changeDetectionScheduler?.notify(p);l;){l[Ur]|=S;const H=Fp(l);if(Bb(l)&&!H)return l;l=H}return null}class Vh{get rootNodes(){const p=this._lView,S=p[zn];return My(S,p,S.firstChild,[])}constructor(p,S,H=!0){this._lView=p,this._cdRefInjectingView=S,this.notifyErrorHandler=H,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[no]}set context(p){this._lView[no]=p}get destroyed(){return!(256&~this._lView[Ur])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[_a];if(rl(p)){const S=p[8],H=S?S.indexOf(this):-1;H>-1&&(w2(p,H),$g(S,H))}this._attachedToViewContainer=!1}DT(this._lView[zn],this._lView)}onDestroy(p){bA(this._lView,p)}markForCheck(){k_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ur]&=-129}reattach(){yA(this._lView),this._lView[Ur]|=128}detectChanges(){this._lView[Ur]|=1024,A_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const p=Bb(this._lView),S=this._lView[Qm];null!==S&&!p&&tP(S,this._lView),J6(this._lView[zn],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=p;const S=Bb(this._lView),H=this._lView[Qm];null!==H&&!S&&eP(H,this._lView),yA(this._lView)}}let Py=(()=>{class l{static{this.__NG_ELEMENT_ID__=xY}}return l})();const I_=Py,AP=class extends I_{constructor(p,S,H){super(),this._declarationLView=p,this._declarationTContainer=S,this.elementRef=H}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(p,S){return this.createEmbeddedViewImpl(p,S)}createEmbeddedViewImpl(p,S,H){const ne=Dy(this._declarationLView,this._declarationTContainer,p,{embeddedViewInjector:S,dehydratedView:H});return new Vh(ne)}};function xY(){return UT(Ts(),Tn())}function UT(l,p){return 4&l.type?new AP(p,l,hy(l,p)):null}function MP(l,p,S){const H=p.insertBeforeIndex,ne=Array.isArray(H)?H[0]:H;return null===ne?iP(l,0,S):ts(S[ne])}function GT(l,p,S,H,ne){const ce=p.insertBeforeIndex;if(Array.isArray(ce)){let ve=H,Re=null;if(3&p.type||(Re=ve,ve=ne),null!==ve&&-1===p.componentOffset)for(let Ue=1;Ue<ce.length;Ue++)Nf(l,ve,S[ce[Ue]],Re,!1)}}function kP(l,p){if(l.push(p),l.length>1)for(let S=l.length-2;S>=0;S--){const H=l[S];A7(H)||T7(H,p)&&null===DY(H)&&MY(H,p.index)}}function A7(l){return!(64&l.type)}function T7(l,p){return A7(p)||l.index>p.index}function DY(l){const p=l.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function MY(l,p){const S=l.insertBeforeIndex;Array.isArray(S)?S[0]=p:(sP(MP,GT),l.insertBeforeIndex=p)}function k7(l,p,S){const H=IT(l,S,64,null,null);return kP(p,H),H}function Wp(l,p,S){l.index=0;const H=function R2(l,p){const S=p[l.currentCaseLViewIndex];return null===S?S:S<0?~S:S}(p,S);l.removes=null!==H?p.remove[H]:Xi}function WT(l){if(l.index<l.removes.length){const p=l.removes[l.index++];return p>0?l.lView[p]:(l.stack.push(l.index,l.removes),Wp(l,l.lView[zn].data[~p],l.lView),WT(l))}return 0===l.stack.length?null:(l.removes=l.stack.pop(),l.index=l.stack.pop(),WT(l))}function P7(){const l={stack:[],index:-1};return function p(S,H){for(l.lView=H;l.stack.length;)l.stack.pop();return Wp(l,S.value,H),WT.bind(null,l)}}let RP=()=>{},UP=()=>null;function bd(l,p){return UP(l,p)}class w0{}const Ly=new qn("",{providedIn:"root",factory:()=>!1}),oD=new qn(""),Yp=new qn("");class x0{}class Gh{}class Zo{resolveComponentFactory(p){throw function Hf(l){const p=Error(`No component factory found for ${Bt(l)}.`);return p.ngComponent=l,p}(p)}}class ju{static{this.NULL=new Zo}}class zP{}let OY=(()=>{class l{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function RY(){const l=Tn(),S=zd(Ts().index,l);return(jo(S)?S:l)[si]}()}}return l})(),FY=(()=>{class l{static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:()=>null})}}return l})();function Gf(l){return!!ys(l)}function F_(l,p,S){let H=S?l.styles:null,ne=S?l.classes:null,ce=0;if(null!==p)for(let ve=0;ve<p.length;ve++){const Re=p[ve];"number"==typeof Re?ce=Re:1==ce?ne=nn(ne,Re):2==ce&&(H=nn(H,Re+": "+p[++ve]+";"))}S?l.styles=H:l.stylesWithoutHost=H,S?l.classes=ne:l.classesWithoutHost=ne}class cD extends ju{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const S=Yn(p);return new us(S,this.ngModule)}}function WP(l,p){const S=[];for(const H in l){if(!l.hasOwnProperty(H))continue;const ne=l[H];if(void 0===ne)continue;const ce=Array.isArray(ne),ve=ce?ne[0]:ne;S.push(p?{propName:ve,templateName:H,isSignal:!!((ce?ne[1]:_t.None)&_t.SignalBased)}:{propName:ve,templateName:H})}return S}class us extends Gh{get inputs(){const p=this.componentDef,S=p.inputTransforms,H=WP(p.inputs,!0);if(null!==S)for(const ne of H)S.hasOwnProperty(ne.propName)&&(ne.transform=S[ne.propName]);return H}get outputs(){return WP(this.componentDef.outputs,!1)}constructor(p,S){super(),this.componentDef=p,this.ngModule=S,this.componentType=p.type,this.selector=function Mh(l){return l.map(Ic).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!S}create(p,S,H,ne){const ce=T(null);try{let ve=(ne=ne||this.ngModule)instanceof Ud?ne:ne?.injector;ve&&null!==this.componentDef.getStandaloneInjector&&(ve=this.componentDef.getStandaloneInjector(ve)||ve);const Re=ve?new n0(p,ve):p,Ue=Re.get(zP,null);if(null===Ue)throw new ze(407,!1);const kt={rendererFactory:Ue,sanitizer:Re.get(FY,null),inlineEffectRunner:null,changeDetectionScheduler:Re.get(w0,null)},zt=Ue.createRenderer(null,this.componentDef),Zt=this.componentDef.selectors[0][0]||"div",fn=H?function s7(l,p,S,H){const ce=H.get(_y,!1)||S===ct.ShadowDom,ve=l.selectRootElement(p,ce);return function o7(l){a7(l)}(ve),ve}(zt,H,this.componentDef.encapsulation,Re):_2(zt,Zt,function H7(l){const p=l.toLowerCase();return"svg"===p?I8:"math"===p?"math":null}(Zt));let Mn=512;this.componentDef.signals?Mn|=4096:this.componentDef.onPush||(Mn|=16);let Wn=null;null!==fn&&(Wn=e2(fn,Re,!0));const Zn=Xd(0,null,null,1,0,null,null,null,null,null,null),Dn=S2(null,Zn,null,Mn,null,null,kt,zt,Re,null,Wn);TA(Dn);let oi,Bi,zs=null;try{const Ho=this.componentDef;let uc,mm=null;Ho.findHostDirectiveDefs?(uc=[],mm=new Map,Ho.findHostDirectiveDefs(Ho,uc,mm),uc.push(Ho)):uc=[Ho];const K4=function ko(l,p){const S=l[zn],H=Dr;return l[H]=p,y0(S,H,2,"#host",null)}(Dn,fn);zs=function j2(l,p,S,H,ne,ce,ve){const Re=ne[zn];!function G7(l,p,S,H){for(const ne of l)p.mergedAttrs=An(p.mergedAttrs,ne.hostAttrs);null!==p.mergedAttrs&&(F_(p,p.mergedAttrs,!0),null!==S&&Ay(H,S,p))}(H,l,p,ve);let Ue=null;null!==p&&(Ue=e2(p,ne[wa]));const it=ce.rendererFactory.createRenderer(p,S);let ft=16;S.signals?ft=4096:S.onPush&&(ft=64);const kt=S2(ne,hP(S),null,ft,ne[l.index],l,ce,it,null,null,Ue);return Re.firstCreatePass&&BT(Re,l,H.length-1),zp(ne,kt),ne[l.index]=kt}(K4,fn,Ho,uc,Dn,kt,zt),Bi=Zg(Zn,Dr),fn&&function K7(l,p,S,H){if(H)Qt(l,S,["ng-version","18.2.10"]);else{const{attrs:ne,classes:ce}=function Pp(l){const p=[],S=[];let H=1,ne=2;for(;H<l.length;){let ce=l[H];if("string"==typeof ce)2===ne?""!==ce&&p.push(ce,l[++H]):8===ne&&S.push(ce);else{if(!Yi(ne))break;ne=ce}H++}return{attrs:p,classes:S}}(p.selectors[0]);ne&&Qt(l,S,ne),ce&&ce.length>0&&b_(l,S,ce.join(" "))}}(zt,Ho,fn,H),void 0!==S&&function q7(l,p,S){const H=l.projection=[];for(let ne=0;ne<p.length;ne++){const ce=S[ne];H.push(null!=ce?Array.from(ce):null)}}(Bi,this.ngContentSelectors,S),oi=function W7(l,p,S,H,ne,ce){const ve=Ts(),Re=ne[zn],Ue=Oc(ve,ne);gP(Re,ne,ve,S,null,H);for(let ft=0;ft<S.length;ft++)Fc(Pf(ne,Re,ve.directiveStart+ft,ve),ne);FT(Re,ne,ve),Ue&&Fc(Ue,ne);const it=Pf(ne,Re,ve.directiveStart+ve.componentOffset,ve);if(l[no]=ne[no]=it,null!==ce)for(const ft of ce)ft(it,p);return sl(Re,ve,ne),it}(zs,Ho,uc,mm,Dn,[X7]),C_(Zn,Dn,null)}catch(Ho){throw null!==zs&&Gx(zs),Gx(Dn),Ho}finally{DA()}return new KP(this.componentType,oi,hy(Bi,Dn),Dn,Bi)}finally{T(ce)}}}class KP extends x0{constructor(p,S,H,ne,ce){super(),this.location=H,this._rootLView=ne,this._tNode=ce,this.previousInputValues=null,this.instance=S,this.hostView=this.changeDetectorRef=new Vh(ne,void 0,!1),this.componentType=p}setInput(p,S){const H=this._tNode.inputs;let ne;if(null!==H&&(ne=H[p])){if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),S))return;const ce=this._rootLView;S_(ce[zn],ce,ne,p,S),this.previousInputValues.set(p,S),k_(zd(this._tNode.index,ce),1)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}function X7(){const l=Ts();Do(Tn()[zn],l)}let $2=(()=>{class l{static{this.__NG_ELEMENT_ID__=Y7}}return l})();function Y7(){return J7(Ts(),Tn())}const NY=$2,Z7=class extends NY{constructor(p,S,H){super(),this._lContainer=p,this._hostTNode=S,this._hostLView=H}get element(){return hy(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const p=ei(this._hostTNode,this._hostLView);if(NA(p)){const S=r0(p,this._hostLView),H=ho(p);return new la(S[zn].data[H+8],S)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const S=V2(this._lContainer);return null!==S&&S[p]||null}get length(){return this._lContainer.length-ca}createEmbeddedView(p,S,H){let ne,ce;"number"==typeof H?ne=H:null!=H&&(ne=H.index,ce=H.injector);const ve=bd(this._lContainer,p.ssrId),Re=p.createEmbeddedViewImpl(S||{},ce,ve);return this.insertImpl(Re,ne,b0(this._hostTNode,ve)),Re}createComponent(p,S,H,ne,ce){const ve=p&&!function Kg(l){return"function"==typeof l}(p);let Re;if(ve)Re=S;else{const fn=S||{};Re=fn.index,H=fn.injector,ne=fn.projectableNodes,ce=fn.environmentInjector||fn.ngModuleRef}const Ue=ve?p:new us(Yn(p)),it=H||this.parentInjector;if(!ce&&null==Ue.ngModule){const Mn=(ve?it:this.parentInjector).get(Ud,null);Mn&&(ce=Mn)}const ft=Yn(Ue.componentType??{}),kt=bd(this._lContainer,ft?.id??null),Zt=Ue.create(it,ne,kt?.firstChild??null,ce);return this.insertImpl(Zt.hostView,Re,b0(this._hostTNode,kt)),Zt}insert(p,S){return this.insertImpl(p,S,!0)}insertImpl(p,S,H){const ne=p._lView;if(function RL(l){return rl(l[_a])}(ne)){const Re=this.indexOf(p);if(-1!==Re)this.detach(Re);else{const Ue=ne[_a],it=new Z7(Ue,Ue[Pc],Ue[_a]);it.detach(it.indexOf(p))}}const ce=this._adjustIndex(S),ve=this._lContainer;return jf(ve,ne,ce,H),p.attachToViewContainerRef(),Zm(N_(ve),ce,p),p}move(p,S){return this.insert(p,S)}indexOf(p){const S=V2(this._lContainer);return null!==S?S.indexOf(p):-1}remove(p){const S=this._adjustIndex(p,-1),H=w2(this._lContainer,S);H&&($g(N_(this._lContainer),S),DT(H[zn],H))}detach(p){const S=this._adjustIndex(p,-1),H=w2(this._lContainer,S);return H&&null!=$g(N_(this._lContainer),S)?new Vh(H):null}_adjustIndex(p,S=0){return p??this.length+S}};function V2(l){return l[8]}function N_(l){return l[8]||(l[8]=[])}function J7(l,p){let S;const H=p[l.index];return rl(H)?S=H:(S=vP(H,p,null,l),p[l.index]=S,zp(p,S)),ej(S,p,l,H),new Z7(S,l,p)}let ej=function qP(l,p,S,H){if(l[Ih])return;let ne;ne=8&S.type?ts(H):function Q7(l,p){const S=l[si],H=S.createComment(""),ne=Oc(p,l);return Nf(S,Or(S,ne),H,function Lr(l,p){return l.nextSibling(p)}(S,ne),!1),H}(p,S),l[Ih]=ne},U2=()=>!1;class B_{constructor(p){this.queryList=p,this.matches=null}clone(){return new B_(this.queryList)}setDirty(){this.queryList.setDirty()}}class z2{constructor(p=[]){this.queries=p}createEmbeddedView(p){const S=p.queries;if(null!==S){const H=null!==p.contentQueries?p.contentQueries[0]:S.length,ne=[];for(let ce=0;ce<H;ce++){const ve=S.getByIndex(ce);ne.push(this.queries[ve.indexInDeclarationView].clone())}return new z2(ne)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}finishViewCreation(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let S=0;S<this.queries.length;S++)null!==W2(p,S).matches&&this.queries[S].setDirty()}}class H2{constructor(p,S,H=null){this.flags=S,this.read=H,this.predicate="string"==typeof p?function rj(l){return l.split(",").map(p=>p.trim())}(p):p}}class dD{constructor(p=[]){this.queries=p}elementStart(p,S){for(let H=0;H<this.queries.length;H++)this.queries[H].elementStart(p,S)}elementEnd(p){for(let S=0;S<this.queries.length;S++)this.queries[S].elementEnd(p)}embeddedTView(p){let S=null;for(let H=0;H<this.length;H++){const ne=null!==S?S.length:0,ce=this.getByIndex(H).embeddedTView(p,ne);ce&&(ce.indexInDeclarationView=H,null!==S?S.push(ce):S=[ce])}return null!==S?new dD(S):null}template(p,S){for(let H=0;H<this.queries.length;H++)this.queries[H].template(p,S)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class uD{constructor(p,S=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=S}elementStart(p,S){this.isApplyingToNode(S)&&this.matchTNode(p,S)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,S){this.elementStart(p,S)}embeddedTView(p,S){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,S),new uD(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1&~this.metadata.flags){const S=this._declarationNodeIndex;let H=p.parent;for(;null!==H&&8&H.type&&H.index!==S;)H=H.parent;return S===(null!==H?H.index:-1)}return this._appliesToNextNode}matchTNode(p,S){const H=this.metadata.predicate;if(Array.isArray(H))for(let ne=0;ne<H.length;ne++){const ce=H[ne];this.matchTNodeWithReadOption(p,S,nj(S,ce)),this.matchTNodeWithReadOption(p,S,Nx(S,p,ce,!1,!1))}else H===Py?4&S.type&&this.matchTNodeWithReadOption(p,S,-1):this.matchTNodeWithReadOption(p,S,Nx(S,p,H,!1,!1))}matchTNodeWithReadOption(p,S,H){if(null!==H){const ne=this.metadata.read;if(null!==ne)if(ne===Xb||ne===$2||ne===Py&&4&S.type)this.addMatch(S.index,-2);else{const ce=Nx(S,p,ne,!1,!1);null!==ce&&this.addMatch(S.index,ce)}else this.addMatch(S.index,H)}}addMatch(p,S){null===this.matches?this.matches=[p,S]:this.matches.push(p,S)}}function nj(l,p){const S=l.localNames;if(null!==S)for(let H=0;H<S.length;H+=2)if(S[H]===p)return S[H+1];return null}function $u(l,p,S,H){return-1===S?function C0(l,p){return 11&l.type?hy(l,p):4&l.type?UT(l,p):null}(p,l):-2===S?function Uo(l,p,S){return S===Xb?hy(p,l):S===Py?UT(p,l):S===$2?J7(p,l):void 0}(l,p,H):Pf(l,l[zn],S,p)}function Wh(l,p,S,H){const ne=p[Op].queries[H];if(null===ne.matches){const ce=l.data,ve=S.matches,Re=[];for(let Ue=0;null!==ve&&Ue<ve.length;Ue+=2){const it=ve[Ue];Re.push(it<0?null:$u(p,ce[it],ve[Ue+1],S.metadata.read))}ne.matches=Re}return ne.matches}function Vy(l,p,S,H){const ne=l.queries.getByIndex(S),ce=ne.matches;if(null!==ce){const ve=Wh(l,p,ne,S);for(let Re=0;Re<ce.length;Re+=2){const Ue=ce[Re];if(Ue>0)H.push(ve[Re/2]);else{const it=ce[Re+1],ft=p[-Ue];for(let kt=ca;kt<ft.length;kt++){const zt=ft[kt];zt[Qm]===zt[_a]&&Vy(zt[zn],zt,it,H)}if(null!==ft[Rp]){const kt=ft[Rp];for(let zt=0;zt<kt.length;zt++){const Zt=kt[zt];Vy(Zt[zn],Zt,it,H)}}}}}return H}function G2(l,p){return l[Op].queries[p].queryList}function ZP(l,p,S){const H=new zx(!(4&~S));return function pP(l,p,S,H){const ne=E_(p);ne.push(S),l.firstCreatePass&&bP(l).push(H,ne.length-1)}(l,p,H,H.destroy),(p[Op]??=new z2).queries.push(new B_(H))-1}function QP(l,p,S,H){const ne=Di();if(ne.firstCreatePass){const ce=Ts();ij(ne,new H2(p,S,H),ce.index),function sj(l,p){const S=l.contentQueries||(l.contentQueries=[]);p!==(S.length?S[S.length-1]:-1)&&S.push(l.queries.length-1,p)}(ne,l),!(2&~S)&&(ne.staticContentQueries=!0)}return ZP(ne,Tn(),S)}function ij(l,p,S){null===l.queries&&(l.queries=new dD),l.queries.track(new uD(p,S))}function W2(l,p){return l.queries.getByIndex(p)}function L_(l,p){const S=l[zn],H=W2(S,p);return H.crossesNgTemplate?Vy(S,l,p,[]):Wh(S,l,H,p)}const j_=new Set;function ac(l){j_.has(l)||(j_.add(l),performance?.mark?.("mark_feature_usage",{detail:{feature:l}}))}function Uy(l){return"function"==typeof l&&void 0!==l[y]}function K2(l,p){ac("NgSignals");const S=function g(l){const p=Object.create(Me);p.value=l;const S=()=>(v(p),p.value);return S[y]=p,S}(l),H=S[y];return p?.equal&&(H.equal=p.equal),S.set=ne=>re(H,ne),S.update=ne=>function fe(l,p){L()||Y(),re(l,p(l.value))}(H,ne),S.asReadonly=al.bind(S),S}function al(){const l=this[y];if(void 0===l.readonlyFn){const p=()=>this();p[y]=l,l.readonlyFn=p}return l.readonlyFn}function $_(l){return Uy(l)&&"function"==typeof l.set}function q2(l,p){let S;const H=z(()=>{S._dirtyCounter();const ne=function pD(l,p){const S=l._lView,H=l._queryIndex;if(void 0===S||void 0===H||4&S[Ur])return p?void 0:Xi;const ne=G2(S,H),ce=L_(S,H);return ne.reset(ce,d6),p?ne.first:ne._changesDetected||void 0===l._flatValue?l._flatValue=ne.toArray():l._flatValue}(S,l);if(p&&void 0===ne)throw new ze(-951,!1);return ne});return S=H[y],S._dirtyCounter=K2(0),S._flatValue=void 0,H}function Z2(l,p){return function eO(){return q2(!0,!1)}()}const rO=(Z2.required=function cj(l,p){return function fD(){return q2(!0,!0)}()},Z2);function Sa(l){let p=function pj(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),S=!0;const H=[l];for(;p;){let ne;if(il(l))ne=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new ze(903,!1);ne=p.\u0275dir}if(ne){if(S){H.push(ne);const ve=l;ve.inputs=Jp(l.inputs),ve.inputTransforms=Jp(l.inputTransforms),ve.declaredInputs=Jp(l.declaredInputs),ve.outputs=Jp(l.outputs);const Re=ne.hostBindings;Re&&yD(l,Re);const Ue=ne.viewQuery,it=ne.contentQueries;if(Ue&&J2(l,Ue),it&&Q2(l,it),mj(l,ne),Wt(l.outputs,ne.outputs),il(ne)&&ne.data.animation){const ft=l.data;ft.animation=(ft.animation||[]).concat(ne.data.animation)}}const ce=ne.features;if(ce)for(let ve=0;ve<ce.length;ve++){const Re=ce[ve];Re&&Re.ngInherit&&Re(l),Re===Sa&&(S=!1)}}p=Object.getPrototypeOf(p)}!function fs(l){let p=0,S=null;for(let H=l.length-1;H>=0;H--){const ne=l[H];ne.hostVars=p+=ne.hostVars,ne.hostAttrs=An(ne.hostAttrs,S=An(S,ne.hostAttrs))}}(H)}function mj(l,p){for(const S in p.inputs){if(!p.inputs.hasOwnProperty(S)||l.inputs.hasOwnProperty(S))continue;const H=p.inputs[S];if(void 0!==H&&(l.inputs[S]=H,l.declaredInputs[S]=p.declaredInputs[S],null!==p.inputTransforms)){const ne=Array.isArray(H)?H[0]:H;if(!p.inputTransforms.hasOwnProperty(ne))continue;l.inputTransforms??={},l.inputTransforms[ne]=p.inputTransforms[ne]}}}function Jp(l){return l===fd?{}:l===Xi?[]:l}function J2(l,p){const S=l.viewQuery;l.viewQuery=S?(H,ne)=>{p(H,ne),S(H,ne)}:p}function Q2(l,p){const S=l.contentQueries;l.contentQueries=S?(H,ne,ce)=>{p(H,ne,ce),S(H,ne,ce)}:p}function yD(l,p){const S=l.hostBindings;l.hostBindings=S?(H,ne)=>{p(H,ne),S(H,ne)}:p}function lO(l){const p=S=>{const H=(Array.isArray(l)?l:l()).map(ne=>"function"==typeof ne?{directive:kn(ne),inputs:fd,outputs:fd}:{directive:kn(ne.directive),inputs:uO(ne.inputs),outputs:uO(ne.outputs)});null===S.hostDirectives?(S.findHostDirectiveDefs=dO,S.hostDirectives=H):S.hostDirectives.unshift(...H)};return p.ngInherit=!0,p}function dO(l,p,S){if(null!==l.hostDirectives)for(const H of l.hostDirectives){const ne=Nr(H.directive);vj(ne.declaredInputs,H.inputs),dO(ne,p,S),S.set(ne,H),p.push(ne)}}function uO(l){if(void 0===l||0===l.length)return fd;const p={};for(let S=0;S<l.length;S+=2)p[l[S]]=l[S+1];return p}function vj(l,p){for(const S in p)p.hasOwnProperty(S)&&(l[p[S]]=l[S])}function hO(l){const p=l.inputConfig,S={};for(const H in p)if(p.hasOwnProperty(H)){const ne=p[H];Array.isArray(ne)&&ne[3]&&(S[H]=ne[3])}l.inputTransforms=S}class A0{}class pO{}function bj(l,p){return new vD(l,p??null,[])}class vD extends A0{constructor(p,S,H,ne=!0){super(),this.ngModuleType=p,this._parent=S,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cD(this);const ce=ys(p);this._bootstrapComponents=qd(ce.bootstrap),this._r3Injector=n6(p,S,[{provide:A0,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...H],Bt(p),new Set(["environment"])),ne&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(S=>S()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class bD extends pO{constructor(p){super(),this.moduleType=p}create(p){return new vD(this.moduleType,p,[])}}class _j extends A0{constructor(p){super(),this.componentFactoryResolver=new cD(this),this.instance=null;const S=new cs([...p.providers,{provide:A0,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],p.parent||kb(),p.debugName,new Set(["environment"]));this.injector=S,p.runEnvironmentInitializers&&S.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function mO(l,p,S=null){return new _j({providers:l,parent:p,debugName:S,runEnvironmentInitializers:!0}).injector}function _D(l){return!!wD(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function wD(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function lc(l,p,S){return l[p]=S}function mo(l,p,S){return!Object.is(l[p],S)&&(l[p]=S,!0)}function zy(l,p,S,H){const ne=mo(l,p,S);return mo(l,p+1,H)||ne}function eE(l,p,S,H,ne,ce,ve,Re,Ue,it){const ft=S+Dr,kt=p.firstCreatePass?function GY(l,p,S,H,ne,ce,ve,Re,Ue){const it=p.consts,ft=y0(p,l,4,ve||null,Re||null);RT(p,S,ft,Hd(it,Ue)),Do(p,ft);const kt=ft.tView=Xd(2,ft,H,ne,ce,p.directiveRegistry,p.pipeRegistry,null,p.schemas,it,null);return null!==p.queries&&(p.queries.template(p,ft),kt.queries=p.queries.embeddedTView(ft)),ft}(ft,p,l,H,ne,ce,ve,Re,Ue):p.data[ft];Mu(kt,!1);const zt=Zd(p,l,kt,S);ty()&&$h(p,l,zt,kt),Fc(zt,l);const Zt=vP(zt,l,zt,kt);return l[ft]=Zt,zp(l,Zt),function lD(l,p,S){return U2(l,p,S)}(Zt,kt,l),Yg(kt)&&PT(p,l,kt),null!=Ue&&OT(l,kt,it),kt}function gO(l,p,S,H,ne,ce,ve,Re){const Ue=Tn(),it=Di();return eE(Ue,it,l,p,S,H,ne,Hd(it.consts,ce),ve,Re),gO}let Zd=function Kl(l,p,S,H){return Iu(!0),p[si].createComment("")};var Qp=function(l){return l[l.EarlyRead=0]="EarlyRead",l[l.Write=1]="Write",l[l.MixedReadWrite=2]="MixedReadWrite",l[l.Read=3]="Read",l}(Qp||{});let SD=(()=>{class l{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:()=>new l})}}return l})();class Gy{constructor(){this.ngZone=Jn(po),this.scheduler=Jn(w0),this.errorHandler=Jn(Gd,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Qp.EarlyRead,Qp.Write,Qp.MixedReadWrite,Qp.Read]}execute(){this.executing=!0;for(const p of Gy.PHASES)for(const S of this.sequences)if(!S.erroredOrDestroyed&&S.hooks[p])try{S.pipelinedValue=this.ngZone.runOutsideAngular(()=>S.hooks[p](S.pipelinedValue))}catch(H){S.erroredOrDestroyed=!0,this.errorHandler?.handleError(H)}this.executing=!1;for(const p of this.sequences)p.afterRun(),p.once&&(this.sequences.delete(p),p.destroy());for(const p of this.deferredRegistrations)this.sequences.add(p);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(p){this.executing?this.deferredRegistrations.add(p):(this.sequences.add(p),this.scheduler.notify(6))}unregister(p){this.executing&&this.sequences.has(p)?(p.erroredOrDestroyed=!0,p.pipelinedValue=void 0,p.once=!0):(this.sequences.delete(p),this.deferredRegistrations.delete(p))}static{this.\u0275prov=Vn({token:Gy,providedIn:"root",factory:()=>new Gy})}}class CD{constructor(p,S,H,ne){this.impl=p,this.hooks=S,this.once=H,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=ne?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Ej(l,p){!p?.injector&&Pb();const S=p?.injector??Jn(Ua);return Gl(S)?(ac("NgAfterRender"),go(l,S,p,!1)):AD}function cr(l,p){!p?.injector&&Pb();const S=p?.injector??Jn(Ua);return Gl(S)?(ac("NgAfterNextRender"),go(l,S,p,!0)):AD}function go(l,p,S,H){const ne=p.get(SD);ne.impl??=p.get(Gy);const ce=S?.phase??Qp.MixedReadWrite,ve=!0!==S?.manualCleanup?p.get(ly):null,Re=new CD(ne.impl,function G_(l,p){if(l instanceof Function){const S=[void 0,void 0,void 0,void 0];return S[p]=l,S}return[l.earlyRead,l.write,l.mixedReadWrite,l.read]}(l,ce),H,ve);return ne.impl.register(Re),Re}const AD={destroy(){}};function Q_(l,p,S,H){const ne=Tn();return mo(ne,ku(),p)&&(Di(),Lf(js(),ne,l,p,S,H)),Q_}function Xy(l,p,S,H){return mo(l,ku(),S)?p+Hr(S)+H:bi}function s1(l,p){return l<<17|p<<2}function Yh(l){return l>>17&32767}function FO(l){return 2|l}function P0(l){return(131068&l)>>2}function NO(l,p){return-131069&l|p<<2}function O0(l){return 1|l}function VD(l,p,S,H){const ne=l[S+1],ce=null===p;let ve=H?Yh(ne):P0(ne),Re=!1;for(;0!==ve&&(!1===Re||ce);){const it=l[ve+1];Rj(l[ve],p)&&(Re=!0,l[ve+1]=H?O0(it):FO(it)),ve=H?Yh(it):P0(it)}Re&&(l[S+1]=H?FO(ne):O0(ne))}function Rj(l,p){return null===l||null==p||(Array.isArray(l)?l[1]:l)===p||!(!Array.isArray(l)||"string"!=typeof p)&&Su(l,p)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BO(l){return l.substring(Vs.key,Vs.keyEnd)}function UD(l,p){const S=Vs.textEnd;return S===p?-1:(p=Vs.keyEnd=function sZ(l,p,S){for(;p<S&&l.charCodeAt(p)>32;)p++;return p}(l,Vs.key=p,S),o1(l,p,S))}function o1(l,p,S){for(;p<S&&l.charCodeAt(p)<=32;)p++;return p}function Qy(l,p,S){const H=Tn();return mo(H,ku(),p)&&$s(Di(),js(),H,l,p,H[si],S,!1),Qy}function hE(l,p,S,H,ne){const ve=ne?"class":"style";S_(l,S,p.inputs[ve],ve,H)}function pE(l,p,S){return Sd(l,p,S,!1),pE}function GD(l,p){return Sd(l,p,null,!0),GD}function LO(l){Qd(VO,qf,l,!0)}function qf(l,p){for(let S=function rZ(l){return function fE(l){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=l.length}(l),UD(l,o1(l,0,Vs.textEnd))}(p);S>=0;S=UD(p,S))nl(l,BO(p),!0)}function Sd(l,p,S,H){const ne=Tn(),ce=Di(),ve=Ph(2);ce.firstUpdatePass&&jO(ce,l,ve,H),p!==bi&&mo(ne,ve,p)&&KD(ce,ce.data[xa()],ne,ne[si],l,ne[ve+1]=function Xf(l,p){return null==l||""===l||("string"==typeof p?l+=p:"object"==typeof l&&(l=Bt(Lh(l)))),l}(p,S),H,ve)}function Qd(l,p,S,H){const ne=Di(),ce=Ph(2);ne.firstUpdatePass&&jO(ne,null,ce,H);const ve=Tn();if(S!==bi&&mo(ve,ce,S)){const Re=ne.data[xa()];if(Zh(Re,H)&&!ti(ne,ce)){let Ue=H?Re.classesWithoutHost:Re.stylesWithoutHost;null!==Ue&&(S=nn(Ue,S||"")),hE(ne,Re,ve,S,H)}else!function Uj(l,p,S,H,ne,ce,ve,Re){ne===bi&&(ne=Xi);let Ue=0,it=0,ft=0<ne.length?ne[0]:null,kt=0<ce.length?ce[0]:null;for(;null!==ft||null!==kt;){const zt=Ue<ne.length?ne[Ue+1]:void 0,Zt=it<ce.length?ce[it+1]:void 0;let Mn,fn=null;ft===kt?(Ue+=2,it+=2,zt!==Zt&&(fn=kt,Mn=Zt)):null===kt||null!==ft&&ft<kt?(Ue+=2,fn=ft):(it+=2,fn=kt,Mn=Zt),null!==fn&&KD(l,p,S,H,fn,Mn,ve,Re),ft=Ue<ne.length?ne[Ue]:null,kt=it<ce.length?ce[it]:null}}(ne,Re,ve,ve[si],ve[ce+1],ve[ce+1]=function $O(l,p,S){if(null==S||""===S)return Xi;const H=[],ne=Lh(S);if(Array.isArray(ne))for(let ce=0;ce<ne.length;ce++)l(H,ne[ce],!0);else if("object"==typeof ne)for(const ce in ne)ne.hasOwnProperty(ce)&&l(H,ce,ne[ce]);else"string"==typeof ne&&p(H,ne);return H}(l,p,S),H,ce)}}function ti(l,p){return p>=l.expandoStartIndex}function jO(l,p,S,H){const ne=l.data;if(null===ne[S+1]){const ce=ne[xa()],ve=ti(l,S);Zh(ce,H)&&null===p&&!ve&&(p=!1),p=function Bj(l,p,S,H){const ne=function AA(l){const p=mi.lFrame.currentDirectiveIndex;return-1===p?null:l[p]}(l);let ce=H?p.residualClasses:p.residualStyles;if(null===ne)0===(H?p.classBindings:p.styleBindings)&&(S=rm(S=WD(null,l,p,S,H),p.attrs,H),ce=null);else{const ve=p.directiveStylingLast;if(-1===ve||l[ve]!==ne)if(S=WD(ne,l,p,S,H),null===ce){let Ue=function Lj(l,p,S){const H=S?p.classBindings:p.styleBindings;if(0!==P0(H))return l[Yh(H)]}(l,p,H);void 0!==Ue&&Array.isArray(Ue)&&(Ue=WD(null,l,p,Ue[1],H),Ue=rm(Ue,p.attrs,H),function jj(l,p,S,H){l[Yh(S?p.classBindings:p.styleBindings)]=H}(l,p,H,Ue))}else ce=function $j(l,p,S){let H;const ne=p.directiveEnd;for(let ce=1+p.directiveStylingLast;ce<ne;ce++)H=rm(H,l[ce].hostAttrs,S);return rm(H,p.attrs,S)}(l,p,H)}return void 0!==ce&&(H?p.residualClasses=ce:p.residualStyles=ce),S}(ne,ce,p,H),function tZ(l,p,S,H,ne,ce){let ve=ce?p.classBindings:p.styleBindings,Re=Yh(ve),Ue=P0(ve);l[H]=S;let ft,it=!1;if(Array.isArray(S)?(ft=S[1],(null===ft||Su(S,ft)>0)&&(it=!0)):ft=S,ne)if(0!==Ue){const zt=Yh(l[Re+1]);l[H+1]=s1(zt,Re),0!==zt&&(l[zt+1]=NO(l[zt+1],H)),l[Re+1]=function RO(l,p){return 131071&l|p<<17}(l[Re+1],H)}else l[H+1]=s1(Re,0),0!==Re&&(l[Re+1]=NO(l[Re+1],H)),Re=H;else l[H+1]=s1(Ue,0),0===Re?Re=H:l[Ue+1]=NO(l[Ue+1],H),Ue=H;it&&(l[H+1]=FO(l[H+1])),VD(l,ft,H,!0),VD(l,ft,H,!1),function Oj(l,p,S,H,ne){const ce=ne?l.residualClasses:l.residualStyles;null!=ce&&"string"==typeof p&&Su(ce,p)>=0&&(S[H+1]=O0(S[H+1]))}(p,ft,l,H,ce),ve=s1(Re,Ue),ce?p.classBindings=ve:p.styleBindings=ve}(ne,ce,p,S,ve,H)}}function WD(l,p,S,H,ne){let ce=null;const ve=S.directiveEnd;let Re=S.directiveStylingLast;for(-1===Re?Re=S.directiveStart:Re++;Re<ve&&(ce=p[Re],H=rm(H,ce.hostAttrs,ne),ce!==l);)Re++;return null!==l&&(S.directiveStylingLast=Re),H}function rm(l,p,S){const H=S?1:2;let ne=-1;if(null!==p)for(let ce=0;ce<p.length;ce++){const ve=p[ce];"number"==typeof ve?ne=ve:ne===H&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),nl(l,ve,!!S||p[++ce]))}return void 0===l?null:l}function VO(l,p,S){const H=String(p);""!==H&&!H.includes(" ")&&nl(l,H,S)}function KD(l,p,S,H,ne,ce,ve,Re){if(!(3&p.type))return;const Ue=l.data,it=Ue[Re+1],ft=function Jy(l){return!(1&~l)}(it)?UO(Ue,p,S,ne,P0(it),ve):void 0;R0(ft)||(R0(ce)||function uE(l){return!(2&~l)}(it)&&(ce=UO(Ue,null,S,ne,Re,ve)),function lP(l,p,S,H,ne){if(p)ne?l.addClass(S,H):l.removeClass(S,H);else{let ce=-1===H.indexOf("-")?void 0:AT.DashCase;null==ne?l.removeStyle(S,H,ce):("string"==typeof ne&&ne.endsWith("!important")&&(ne=ne.slice(0,-10),ce|=AT.Important),l.setStyle(S,H,ne,ce))}}(H,ve,jb(xa(),S),ne,ce))}function UO(l,p,S,H,ne,ce){const ve=null===p;let Re;for(;ne>0;){const Ue=l[ne],it=Array.isArray(Ue),ft=it?Ue[1]:Ue,kt=null===ft;let zt=S[ne+1];zt===bi&&(zt=kt?Xi:void 0);let Zt=kt?Mb(zt,H):ft===H?zt:void 0;if(it&&!R0(Zt)&&(Zt=Mb(Ue,H)),R0(Zt)&&(Re=Zt,ve))return Re;const fn=l[ne+1];ne=ve?Yh(fn):P0(fn)}if(null!==p){let Ue=ce?p.residualClasses:p.residualStyles;null!=Ue&&(Re=Mb(Ue,H))}return Re}function R0(l){return void 0!==l}function Zh(l,p){return!!(l.flags&(p?8:16))}function zj(l,p,S){Qd(nl,qf,Xy(Tn(),l,p,S),!0)}class cZ{destroy(p){}updateValue(p,S){}swap(p,S){const H=Math.min(p,S),ne=Math.max(p,S),ce=this.detach(ne);if(ne-H>1){const ve=this.detach(H);this.attach(H,ce),this.attach(ne,ve)}else this.attach(H,ce)}move(p,S){this.attach(S,this.detach(p))}}function gE(l,p,S,H,ne){return l===S&&Object.is(p,H)?1:Object.is(ne(l,p),ne(S,H))?-1:0}function yE(l,p,S,H){return!(void 0===p||!p.has(H)||(l.attach(S,p.get(H)),p.delete(H),0))}function vE(l,p,S,H,ne){if(yE(l,p,H,S(H,ne)))l.updateValue(H,ne);else{const ce=l.create(H,ne);l.attach(H,ce)}}function ev(l,p,S,H){const ne=new Set;for(let ce=p;ce<=S;ce++)ne.add(H(ce,l.at(ce)));return ne}class Zj{constructor(){this.kvMap=new Map,this._vMap=void 0}has(p){return this.kvMap.has(p)}delete(p){if(!this.has(p))return!1;const S=this.kvMap.get(p);return void 0!==this._vMap&&this._vMap.has(S)?(this.kvMap.set(p,this._vMap.get(S)),this._vMap.delete(S)):this.kvMap.delete(p),!0}get(p){return this.kvMap.get(p)}set(p,S){if(this.kvMap.has(p)){let H=this.kvMap.get(p);void 0===this._vMap&&(this._vMap=new Map);const ne=this._vMap;for(;ne.has(H);)H=ne.get(H);ne.set(H,S)}else this.kvMap.set(p,S)}forEach(p){for(let[S,H]of this.kvMap)if(p(H,S),void 0!==this._vMap){const ne=this._vMap;for(;ne.has(H);)H=ne.get(H),p(H,S)}}}function qD(l,p){ac("NgControlFlow");const S=Tn(),H=ku(),ne=S[H]!==bi?S[H]:-1,ce=-1!==ne?d1(S,Dr+ne):void 0;if(mo(S,H,l)){const Re=T(null);try{if(void 0!==ce&&jT(ce,0),-1!==l){const Ue=Dr+l,it=d1(S,Ue),ft=XD(S[zn],Ue),kt=bd(it,ft.tView.ssrId);jf(it,Dy(S,ft,p,{dehydratedView:kt}),0,b0(ft,kt))}}finally{T(Re)}}else if(void 0!==ce){const Re=xP(ce,0);void 0!==Re&&(Re[no]=p)}}class l1{constructor(p,S,H){this.lContainer=p,this.$implicit=S,this.$index=H}get $count(){return this.lContainer.length-ca}}function tv(l){return l}function im(l,p){return p}class sm{constructor(p,S,H){this.hasEmptyBlock=p,this.trackByFn=S,this.liveCollection=H}}function bE(l,p,S,H,ne,ce,ve,Re,Ue,it,ft,kt,zt){ac("NgControlFlow");const Zt=Tn(),fn=Di(),Mn=void 0!==Ue,Wn=Tn(),Zn=Re?ve.bind(Wn[To][no]):ve,Dn=new sm(Mn,Zn);Wn[Dr+l]=Dn,eE(Zt,fn,l+1,p,S,H,ne,Hd(fn.consts,ce)),Mn&&eE(Zt,fn,l+2,Ue,it,ft,kt,Hd(fn.consts,zt))}class GO extends cZ{constructor(p,S,H){super(),this.lContainer=p,this.hostLView=S,this.templateTNode=H,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ca}at(p){return this.getLView(p)[no].$implicit}attach(p,S){const H=S[zl];this.needsIndexUpdate||=p!==this.length,jf(this.lContainer,S,p,b0(this.templateTNode,H))}detach(p){return this.needsIndexUpdate||=p!==this.length-1,function Jj(l,p){return w2(l,p)}(this.lContainer,p)}create(p,S){const H=bd(this.lContainer,this.templateTNode.tView.ssrId),ne=Dy(this.hostLView,this.templateTNode,new l1(this.lContainer,S,p),{dehydratedView:H});return this.operationsCounter?.recordCreate(),ne}destroy(p){DT(p[zn],p),this.operationsCounter?.recordDestroy()}updateValue(p,S){this.getLView(p)[no].$implicit=S}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let p=0;p<this.length;p++)this.getLView(p)[no].$index=p}getLView(p){return function Qj(l,p){return xP(l,p)}(this.lContainer,p)}}function WO(l){const p=T(null),S=xa();try{const H=Tn(),ne=H[zn],ce=H[S],ve=S+1,Re=d1(H,ve);if(void 0===ce.liveCollection){const it=XD(ne,ve);ce.liveCollection=new GO(Re,H,it)}else ce.liveCollection.reset();const Ue=ce.liveCollection;if(function Yj(l,p,S){let H,ne,ce=0,ve=l.length-1;if(Array.isArray(p)){let Ue=p.length-1;for(;ce<=ve&&ce<=Ue;){const it=l.at(ce),ft=p[ce],kt=gE(ce,it,ce,ft,S);if(0!==kt){kt<0&&l.updateValue(ce,ft),ce++;continue}const zt=l.at(ve),Zt=p[Ue],fn=gE(ve,zt,Ue,Zt,S);if(0!==fn){fn<0&&l.updateValue(ve,Zt),ve--,Ue--;continue}const Mn=S(ce,it),Wn=S(ve,zt),Zn=S(ce,ft);if(Object.is(Zn,Wn)){const Dn=S(Ue,Zt);Object.is(Dn,Mn)?(l.swap(ce,ve),l.updateValue(ve,Zt),Ue--,ve--):l.move(ve,ce),l.updateValue(ce,ft),ce++}else if(H??=new Zj,ne??=ev(l,ce,ve,S),yE(l,H,ce,Zn))l.updateValue(ce,ft),ce++,ve++;else if(ne.has(Zn))H.set(Mn,l.detach(ce)),ve--;else{const Dn=l.create(ce,p[ce]);l.attach(ce,Dn),ce++,ve++}}for(;ce<=Ue;)vE(l,H,S,ce,p[ce]),ce++}else if(null!=p){const Ue=p[Symbol.iterator]();let it=Ue.next();for(;!it.done&&ce<=ve;){const ft=l.at(ce),kt=it.value,zt=gE(ce,ft,ce,kt,S);if(0!==zt)zt<0&&l.updateValue(ce,kt),ce++,it=Ue.next();else{H??=new Zj,ne??=ev(l,ce,ve,S);const Zt=S(ce,kt);if(yE(l,H,ce,Zt))l.updateValue(ce,kt),ce++,ve++,it=Ue.next();else if(ne.has(Zt)){const fn=S(ce,ft);H.set(fn,l.detach(ce)),ve--}else l.attach(ce,l.create(ce,kt)),ce++,ve++,it=Ue.next()}}for(;!it.done;)vE(l,H,S,l.length,it.value),it=Ue.next()}for(;ce<=ve;)l.destroy(l.detach(ve--));H?.forEach(Ue=>{l.destroy(Ue)})}(Ue,l,ce.trackByFn),Ue.updateIndexes(),ce.hasEmptyBlock){const it=ku(),ft=0===Ue.length;if(mo(H,it,ft)){const kt=S+2,zt=d1(H,kt);if(ft){const Zt=XD(ne,kt),fn=bd(zt,Zt.tView.ssrId);jf(zt,Dy(H,Zt,void 0,{dehydratedView:fn}),0,b0(Zt,fn))}else jT(zt,0)}}}finally{T(p)}}function d1(l,p){return l[p]}function XD(l,p){return Zg(l,p)}function eu(l,p,S,H){const ne=Tn(),ce=Di(),ve=Dr+l,Re=ne[si],Ue=ce.firstCreatePass?function e$(l,p,S,H,ne,ce){const ve=p.consts,Ue=y0(p,l,2,H,Hd(ve,ne));return RT(p,S,Ue,Hd(ve,ce)),null!==Ue.attrs&&F_(Ue,Ue.attrs,!1),null!==Ue.mergedAttrs&&F_(Ue,Ue.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,Ue),Ue}(ve,ce,ne,p,S,H):ce.data[ve],it=Gr(ce,ne,Ue,Re,p,l);ne[ve]=it;const ft=Yg(Ue);return Mu(Ue,!0),Ay(Re,it,Ue),!function T0(l){return!(32&~l.flags)}(Ue)&&ty()&&$h(ce,ne,it,Ue),0===function Ax(){return mi.lFrame.elementDepthCount}()&&Fc(it,ne),function zX(){mi.lFrame.elementDepthCount++}(),ft&&(PT(ce,ne,Ue),sl(ce,Ue,ne)),null!==H&&OT(ne,Ue),eu}function Ai(){let l=Ts();xA()?EA():(l=l.parent,Mu(l,!1));const p=l;(function GX(l){return mi.skipHydrationRootTNode===l})(p)&&function $o(){mi.skipHydrationRootTNode=null}(),function HX(){mi.lFrame.elementDepthCount--}();const S=Di();return S.firstCreatePass&&(Do(S,l),S8(l)&&S.queries.elementEnd(l)),null!=p.classesWithoutHost&&function HL(l){return!!(8&l.flags)}(p)&&hE(S,p,Tn(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function GL(l){return!!(16&l.flags)}(p)&&hE(S,p,Tn(),p.stylesWithoutHost,!1),Ai}function Gu(l,p,S,H){return eu(l,p,S,H),Ai(),Gu}let Gr=(l,p,S,H,ne,ce)=>(Iu(!0),_2(H,ne,function IA(){return mi.lFrame.currentNamespace}()));function wr(){return Tn()}function ea(l,p,S){const H=Tn();return mo(H,ku(),p)&&$s(Di(),js(),H,l,p,H[si],S,!0),ea}const Yf=void 0;var EE=["en",[["a","p"],["AM","PM"],Yf],[["AM","PM"],Yf,Yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yf,"{1} 'at' {0}",Yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xE(l){const S=Math.floor(Math.abs(l)),H=l.toString().replace(/^[^.]*\.?/,"").length;return 1===S&&0===H?1:5}];let Jh={};function nv(l){const p=function SE(l){return l.toLowerCase().replace(/_/g,"-")}(l);let S=Qh(p);if(S)return S;const H=p.split("-")[0];if(S=Qh(H),S)return S;if("en"===H)return EE;throw new ze(701,!1)}function h1(l){return nv(l)[N0.PluralCase]}function Qh(l){return l in Jh||(Jh[l]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[l]),Jh[l]}var N0=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(N0||{});const Wu="en-US",om={marker:"element"},am={marker:"ICU"};var Xs=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Xs||{});let rv=Wu;let g1=(l,p,S,H)=>(Iu(!0),function L0(l,p,S){const H=l[si];switch(S){case Node.COMMENT_NODE:return b2(H,p);case Node.TEXT_NODE:return v2(H,p);case Node.ELEMENT_NODE:return _2(H,p,null)}}(l,S,H));const v1=/\ufffd(\d+):?\d*\ufffd/gi,b1=/\ufffd(\d+)\ufffd/,_1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sv="\ufffd",w1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ka=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,YO=/\uE500/g;function x1(l,p,S,H,ne,ce,ve){const Re=__(l,H,1,null);let Ue=Re<<Xs.SHIFT,it=Vb();p===it&&(it=null),null===it&&(Ue|=Xs.APPEND_EAGERLY),ve&&(Ue|=Xs.COMMENT,function X9(l){void 0===Y6&&(Y6=l())}(P7)),ne.push(Ue,null===ce?"":ce);const ft=IT(l,Re,ve?32:1,null===ce?"":ce,null);kP(S,ft);const kt=ft.index;return Mu(ft,!1),null!==it&&p!==it&&function M7(l,p){let S=l.insertBeforeIndex;null===S?(sP(MP,GT),S=l.insertBeforeIndex=[null,p]):(ln(Array.isArray(S),!0,"Expecting array here"),S.push(p))}(it,kt),ft}function fl(l,p,S,H,ne,ce,ve,Re){const Ue=Re.match(v1),ft=x1(p,S,H,ve,ne,Ue?null:Re,!1).index;Ue&&qa(ce,Re,ft,null,0,null),l.push({kind:0,index:ft})}function qa(l,p,S,H,ne,ce){const ve=l.length,Re=ve+1;l.push(null,null);const Ue=ve+2,it=p.split(v1);let ft=0;for(let kt=0;kt<it.length;kt++){const zt=it[kt];if(1&kt){const Zt=ne+parseInt(zt,10);l.push(-1-Zt),ft|=rM(Zt)}else""!==zt&&l.push(zt)}return l.push(S<<2|(H?1:0)),H&&l.push(H,ce),l[ve]=ft,l[Re]=l.length-Ue,ft}function rM(l){return 1<<Math.min(l,31)}function iM(l){let p,ce,S="",H=0,ne=!1;for(;null!==(p=w1.exec(l));)ne?p[0]===`${sv}/*${ce}${sv}`&&(H=p.index,ne=!1):(S+=l.substring(H,p.index+p[0].length),ce=p[1],ne=!0);return S+=l.slice(H),S}function eh(l,p,S,H,ne,ce,ve){let Re=0;const Ue={type:ce.type,currentCaseLViewIndex:__(p,S,1,null),anchorIdx:ve,cases:[],create:[],remove:[],update:[]};(function mZ(l,p,S){l.push(rM(p.mainBinding),2,-1-p.mainBinding,S<<2|2)})(H,ce,ve),function D7(l,p,S){const H=l.data[p];null===H?l.data[p]=S:H.value=S}(p,ve,Ue);const it=ce.values,ft=[];for(let kt=0;kt<it.length;kt++){const zt=it[kt],Zt=[];for(let Mn=0;Mn<zt.length;Mn++){const Wn=zt[Mn];if("string"!=typeof Wn){const Zn=Zt.push(Wn)-1;zt[Mn]=`\x3c!--\ufffd${Zn}\ufffd--\x3e`}}const fn=[];ft.push(fn),Re=ta(fn,p,Ue,S,H,ne,ce.cases[kt],zt.join(""),Zt)|Re}Re&&function c$(l,p,S){l.push(p,1,S<<2|3)}(H,Re,ve),l.push({kind:3,index:ve,cases:ft,currentCaseLViewIndex:Ue.currentCaseLViewIndex})}function fa(l){const p=[],S=[];let H=1,ne=0;const ce=Io(l=l.replace(_1,function(ve,Re,Ue){return H="select"===Ue?0:1,ne=parseInt(Re.slice(1),10),""}));for(let ve=0;ve<ce.length;){let Re=ce[ve++].trim();1===H&&(Re=Re.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Re.length&&p.push(Re);const Ue=Io(ce[ve++]);p.length>S.length&&S.push(Ue)}return{type:H,mainBinding:ne,cases:p,values:S}}function Io(l){if(!l)return[];let p=0;const S=[],H=[],ne=/[{}]/g;let ce;for(ne.lastIndex=0;ce=ne.exec(l);){const Re=ce.index;if("}"==ce[0]){if(S.pop(),0==S.length){const Ue=l.substring(p,Re);_1.test(Ue)?H.push(fa(Ue)):H.push(Ue),p=Re+1}}else{if(0==S.length){const Ue=l.substring(p,Re);H.push(Ue),p=Re+1}S.push("{")}}const ve=l.substring(p);return H.push(ve),H}function ta(l,p,S,H,ne,ce,ve,Re,Ue){const it=[],ft=[],kt=[];S.cases.push(ve),S.create.push(it),S.remove.push(ft),S.update.push(kt);const Zt=f2(u0()).getInertBodyElement(Re),fn=m2(Zt)||Zt;return fn?e5(l,p,S,H,ne,it,ft,kt,fn,ce,Ue,0):0}function e5(l,p,S,H,ne,ce,ve,Re,Ue,it,ft,kt){let zt=0,Zt=Ue.firstChild;for(;Zt;){const fn=__(p,H,1,null);switch(Zt.nodeType){case Node.ELEMENT_NODE:const Mn=Zt,Wn=Mn.tagName.toLowerCase();if(fT.hasOwnProperty(Wn)){t5(ce,om,Wn,it,fn),p.data[fn]=Wn;const Bi=Mn.attributes;for(let Ho=0;Ho<Bi.length;Ho++){const uc=Bi.item(Ho),mm=uc.name.toLowerCase();uc.value.match(v1)?I9.hasOwnProperty(mm)&&qa(Re,uc.value,fn,uc.name,0,hT[mm]?h2:null):gZ(ce,fn,uc)}const zs={kind:1,index:fn,children:[]};l.push(zs),zt=e5(zs.children,p,S,H,ne,ce,ve,Re,Zt,fn,ft,kt+1)|zt,a$(ve,fn,kt)}break;case Node.TEXT_NODE:const Zn=Zt.textContent||"",Dn=Zn.match(v1);t5(ce,null,Dn?"":Zn,it,fn),a$(ve,fn,kt),Dn&&(zt=qa(Re,Zn,fn,null,0,null)|zt),l.push({kind:0,index:fn});break;case Node.COMMENT_NODE:const oi=b1.exec(Zt.textContent||"");if(oi){const zs=ft[parseInt(oi[1],10)];t5(ce,am,"",it,fn),eh(l,p,H,ne,it,zs,fn),pZ(ve,fn,kt)}}Zt=Zt.nextSibling}return zt}function a$(l,p,S){0===S&&l.push(p)}function pZ(l,p,S){0===S&&(l.push(~p),l.push(p))}function t5(l,p,S,H,ne){null!==p&&l.push(p),l.push(S,ne,function PP(l,p,S){return l|p<<17|S<<1}(0,H,ne))}function gZ(l,p,S){l.push(p<<1|1,S.name,S.value)}function s5(l,p,S=-1){const H=Di(),ne=Tn(),ce=Dr+l,ve=Hd(H.consts,p),Re=Vb();H.firstCreatePass&&function cm(l,p,S,H,ne,ce){const ve=Vb(),Re=[],Ue=[],it=[[]],ft=[[]];ne=function Qf(l,p){if(function I7(l){return-1===l}(p))return iM(l);{const S=l.indexOf(`:${p}${sv}`)+2+p.toString().length,H=l.search(new RegExp(`${sv}\\/\\*\\d+:${p}${sv}`));return iM(l.substring(S,H))}}(ne,ce);const kt=function ZO(l){return l.replace(YO," ")}(ne).split(Ka);for(let zt=0;zt<kt.length;zt++){let Zt=kt[zt];if(1&zt){const fn=47===Zt.charCodeAt(0),Mn=Zt.charCodeAt(fn?1:0),Wn=Dr+Number.parseInt(Zt.substring(fn?2:1));if(fn)it.shift(),ft.shift(),Mu(Vb(),!1);else{const Zn=k7(l,it[0],Wn);it.unshift([]),Mu(Zn,!0);const Dn={kind:2,index:Wn,children:[],type:35===Mn?0:1};ft[0].push(Dn),ft.unshift(Dn.children)}}else{const fn=Io(Zt);for(let Mn=0;Mn<fn.length;Mn++){let Wn=fn[Mn];if(1&Mn){const Zn=Wn;if("object"!=typeof Zn)throw new Error(`Unable to parse ICU expression in "${ne}" message.`);const oi=x1(l,ve,it[0],S,Re,"",!0).index;eh(ft[0],l,S,Ue,p,Zn,oi)}else""!==Wn&&fl(ft[0],l,ve,it[0],Re,Ue,S,Wn)}}}l.data[H]={create:Re,update:Ue,ast:ft[0],parentTNodeIndex:p}}(H,null===Re?0:Re.index,ne,ce,ve,S),2===H.type?ne[To][Ur]|=32:ne[Ur]|=32;const Ue=H.data[ce],ft=rP(H,Re===ne[Pc]?null:Re,ne),kt=Re&&8&Re.type?ne[Re.index]:null;(function FP(l,p,S,H){RP(l,p,S,H)})(ne,ce,Re,S),function uZ(l,p,S,H){const ne=l[si];for(let ce=0;ce<p.length;ce++){const ve=p[ce++],it=(ve&Xs.APPEND_EAGERLY)===Xs.APPEND_EAGERLY,ft=ve>>>Xs.SHIFT;let kt=l[ft],zt=!1;null===kt&&(kt=l[ft]=g1(l,ft,p[ce],(ve&Xs.COMMENT)===Xs.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),zt=ty()),it&&null!==S&&zt&&Nf(ne,S,kt,H,!1)}}(ne,Ue.create,ft,kt),SA(!0)}function m$(l,p,S){s5(l,p,S),function E1(){SA(!1)}()}let o5=(l,p,S)=>{};function nu(l,p,S,H){const ne=Tn(),ce=Di(),ve=Ts();return Ad(ce,ne,ne[si],ve,l,p,H),nu}function Ad(l,p,S,H,ne,ce,ve){const Re=Yg(H),it=l.firstCreatePass&&bP(l),ft=p[no],kt=E_(p);let zt=!0;if(3&H.type||ve){const Mn=Oc(H,p),Wn=ve?ve(Mn):Mn,Zn=kt.length,Dn=ve?Bi=>ve(ts(Bi[H.index])):H.index;let oi=null;if(!ve&&Re&&(oi=function _Z(l,p,S,H){const ne=l.cleanup;if(null!=ne)for(let ce=0;ce<ne.length-1;ce+=2){const ve=ne[ce];if(ve===S&&ne[ce+1]===H){const Re=p[Ob],Ue=ne[ce+2];return Re.length>Ue?Re[Ue]:null}"string"==typeof ve&&(ce+=2)}return null}(l,p,ne,H.index)),null!==oi)(oi.__ngLastListenerFn__||oi).__ngNextListenerFn__=ce,oi.__ngLastListenerFn__=ce,zt=!1;else{ce=tp(H,p,ft,ce),o5(Mn,ne,ce);const Bi=S.listen(Wn,ne,ce);kt.push(ce,Bi),it&&it.push(ne,Dn,Zn,Zn+1)}}else ce=tp(H,p,ft,ce);const Zt=H.outputs;let fn;if(zt&&null!==Zt&&(fn=Zt[ne])){const Mn=fn.length;if(Mn)for(let Wn=0;Wn<Mn;Wn+=2){const zs=p[fn[Wn]][fn[Wn+1]].subscribe(ce),Ho=kt.length;kt.push(ce,zs),it&&it.push(ne,H.index,Ho,-(Ho+1))}}}function a5(l,p,S,H){const ne=T(null);try{return Mf(6,p,S),!1!==S(H)}catch(ce){return Ty(l,ce),!1}finally{Mf(7,p,S),T(ne)}}function tp(l,p,S,H){return function ne(ce){if(ce===Function)return H;k_(l.componentOffset>-1?zd(l.index,p):p,5);let Re=a5(p,S,H,ce),Ue=ne.__ngNextListenerFn__;for(;Ue;)Re=a5(p,S,Ue,ce)&&Re,Ue=Ue.__ngNextListenerFn__;return Re}}function aM(l=1){return function XX(l){return(mi.lFrame.contextLView=function NL(l,p){for(;l>0;)p=p[qg],l--;return p}(l,mi.lFrame.contextLView))[no]}(l)}function g$(l,p){let S=null;const H=function rc(l){const p=l.attrs;if(null!=p){const S=p.indexOf(5);if(!(1&S))return p[S+1]}return null}(l);for(let ne=0;ne<p.length;ne++){const ce=p[ne];if("*"!==ce){if(null===H?Lo(l,ce,!0):Au(H,ce))return ne}else S=ne}return S}function c5(l){const p=Tn()[To][Pc];if(!p.projection){const H=p.projection=function Af(l,p){const S=[];for(let H=0;H<l;H++)S.push(p);return S}(l?l.length:1,null),ne=H.slice();let ce=p.child;for(;null!==ce;){if(128!==ce.type){const ve=l?g$(ce,l):0;null!==ve&&(ne[ve]?ne[ve].projectionNext=ce:H[ve]=ce,ne[ve]=ce)}ce=ce.next}}}function l5(l,p=0,S,H,ne,ce){const ve=Tn(),Re=Di(),Ue=H?l+1:null;null!==Ue&&eE(ve,Re,Ue,H,ne,ce,null,S);const it=y0(Re,Dr+l,16,null,S||null);null===it.projection&&(it.projection=p),EA();const kt=!ve[zl]||ey();null===ve[To][Pc].projection[it.projection]&&null!==Ue?function d5(l,p,S){const H=Dr+S,ne=p.data[H],ce=l[H],ve=bd(ce,ne.tView.ssrId);jf(ce,Dy(l,ne,void 0,{dehydratedView:ve}),0,b0(ne,ve))}(ve,Re,Ue):kt&&32&~it.flags&&function e7(l,p,S){cP(p[si],0,p,S,Nn(l,S,p),Sy(S.parent||p[Pc],S,p))}(Re,ve,it)}function v5(l,p,S,H){QP(l,p,S,H)}function b5(l,p,S){!function JP(l,p,S){const H=Di();return H.firstCreatePass&&(ij(H,new H2(l,p,S),-1),!(2&~p)&&(H.staticViewQueries=!0)),ZP(H,Tn(),p)}(l,p,S)}function _5(l){const p=Tn(),S=Di(),H=Ub();Mx(H+1);const ne=W2(S,H);if(l.dirty&&function OL(l){return!(4&~l[Ur])}(p)===!(2&~ne.metadata.flags)){if(null===ne.matches)l.reset([]);else{const ce=L_(p,H);l.reset(ce,d6),l.notifyOnChanges()}return!0}return!1}function w5(){return G2(Tn(),Ub())}function x5(l,p,S,H,ne){!function hD(l,p){const S=l[y];S._lView=Tn(),S._queryIndex=p,S._queryList=G2(S._lView,p),S._queryList.onDirty(()=>S._dirtyCounter.update(H=>H+1))}(p,QP(l,S,H,ne))}function S1(l=1){Mx(Ub()+l)}function dM(l){return function Jg(l,p){return l[p]}(function B8(){return mi.lFrame.contextLView}(),Dr+l)}function hM(l,p=""){const S=Tn(),H=Di(),ne=l+Dr,ce=H.firstCreatePass?y0(H,ne,1,p,null):H.data[ne],ve=DE(H,S,ce,p,l);S[ne]=ve,ty()&&$h(H,S,ve,ce),Mu(ce,!1)}let DE=(l,p,S,H,ne)=>(Iu(!0),v2(p[si],H));function pM(l){return mM("",l,""),pM}function mM(l,p,S){const H=Tn(),ne=Xy(H,l,p,S);return ne!==bi&&function Hp(l,p,S){const H=jb(p,l);!function Z6(l,p,S){l.setValue(p,S)}(l[si],H,S)}(H,xa(),ne),mM}function vM(l,p,S){$_(p)&&(p=p());const H=Tn();return mo(H,ku(),p)&&$s(Di(),js(),H,l,p,H[si],S,!1),vM}function Td(l,p){const S=$_(l);return S&&l.set(p),S}function cv(l,p){const S=Tn(),H=Di(),ne=Ts();return Ad(H,S,S[si],ne,l,p),cv}function ME(l,p,S,H,ne){if(l=kn(l),Array.isArray(l))for(let ce=0;ce<l.length;ce++)ME(l[ce],p,S,H,ne);else{const ce=Di(),ve=Tn(),Re=Ts();let Ue=Gg(l)?l:kn(l.provide);const it=vL(l),ft=1048575&Re.providerIndexes,kt=Re.directiveStart,zt=Re.providerIndexes>>20;if(Gg(l)||!l.multi){const Zt=new md(it,ne,Bf),fn=_M(Ue,p,ne?ft:ft+zt,kt);-1===fn?(LA(zb(Re,ve),ce,Ue),qu(ce,l,p.length),p.push(Ue),Re.directiveStart++,Re.directiveEnd++,ne&&(Re.providerIndexes+=1048576),S.push(Zt),ve.push(Zt)):(S[fn]=Zt,ve[fn]=Zt)}else{const Zt=_M(Ue,p,ft+zt,kt),fn=_M(Ue,p,ft,ft+zt),Wn=fn>=0&&S[fn];if(ne&&!Wn||!ne&&!(Zt>=0&&S[Zt])){LA(zb(Re,ve),ce,Ue);const Zn=function S$(l,p,S,H,ne){const ce=new md(l,S,Bf);return ce.multi=[],ce.index=p,ce.componentProviders=0,P5(ce,ne,H&&!S),ce}(ne?E$:lv,S.length,ne,H,it);!ne&&Wn&&(S[fn].providerFactory=Zn),qu(ce,l,p.length,0),p.push(Ue),Re.directiveStart++,Re.directiveEnd++,ne&&(Re.providerIndexes+=1048576),S.push(Zn),ve.push(Zn)}else qu(ce,l,Zt>-1?Zt:fn,P5(S[ne?fn:Zt],it,!ne&&H));!ne&&H&&Wn&&S[fn].componentProviders++}}}function qu(l,p,S,H){const ne=Gg(p),ce=function EX(l){return!!l.useClass}(p);if(ne||ce){const Ue=(ce?kn(p.useClass):p).prototype.ngOnDestroy;if(Ue){const it=l.destroyHooks||(l.destroyHooks=[]);if(!ne&&p.multi){const ft=it.indexOf(S);-1===ft?it.push(S,[H,Ue]):it[ft+1].push(H,Ue)}else it.push(S,Ue)}}}function P5(l,p,S){return S&&l.componentProviders++,l.multi.push(p)-1}function _M(l,p,S,H){for(let ne=S;ne<H;ne++)if(p[ne]===l)return ne;return-1}function lv(l,p,S,H){return D1(this.multi,[])}function E$(l,p,S,H){const ne=this.multi;let ce;if(this.providerFactory){const ve=this.providerFactory.componentProviders,Re=Pf(S,S[zn],this.providerFactory.index,H);ce=Re.slice(0,ve),D1(ne,ce);for(let Ue=ve;Ue<Re.length;Ue++)ce.push(Re[Ue])}else ce=[],D1(ne,ce);return ce}function D1(l,p){for(let S=0;S<l.length;S++)p.push((0,l[S])());return p}function wM(l,p=[]){return S=>{S.providersResolver=(H,ne)=>function x$(l,p,S){const H=Di();if(H.firstCreatePass){const ne=il(l);ME(S,H.data,H.blueprint,ne,!0),ME(p,H.data,H.blueprint,ne,!1)}}(H,ne?ne(l):l,p)}}let kE=(()=>{class l{constructor(S){this._injector=S,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(S){if(!S.standalone)return null;if(!this.cachedInjectors.has(S)){const H=Jm(0,S.type),ne=H.length>0?mO([H],this._injector,`Standalone[${S.type.name}]`):null;this.cachedInjectors.set(S,ne)}return this.cachedInjectors.get(S)}ngOnDestroy(){try{for(const S of this.cachedInjectors.values())null!==S&&S.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Vn({token:l,providedIn:"environment",factory:()=>new l(Bs(Ud))})}}return l})();function M1(l){ac("NgStandalone"),l.getStandaloneInjector=p=>p.get(kE).getOrCreateStandaloneInjector(l)}function k1(l,p,S,H){return function EM(l,p,S,H,ne,ce){const ve=p+S;return mo(l,ve,ne)?lc(l,ve+1,ce?H.call(ce,ne):H(ne)):dv(l,ve+1)}(Tn(),ic(),l,p,S,H)}function rp(l,p,S,H,ne){return function SM(l,p,S,H,ne,ce,ve){const Re=p+S;return zy(l,Re,ne,ce)?lc(l,Re+2,ve?H.call(ve,ne,ce):H(ne,ce)):dv(l,Re+2)}(Tn(),ic(),l,p,S,H,ne)}function xM(l,p,S,H,ne,ce){return function CM(l,p,S,H,ne,ce,ve,Re){const Ue=p+S;return function xD(l,p,S,H,ne){const ce=zy(l,p,S,H);return mo(l,p+2,ne)||ce}(l,Ue,ne,ce,ve)?lc(l,Ue+3,Re?H.call(Re,ne,ce,ve):H(ne,ce,ve)):dv(l,Ue+3)}(Tn(),ic(),l,p,S,H,ne,ce)}function dv(l,p){const S=l[p];return S===bi?void 0:S}function OE(l,p){return UT(l,p)}class fm{constructor(p){this.full=p;const S=p.split(".");this.major=S[0],this.minor=S[1],this.patch=S.slice(2).join(".")}}let gv=(()=>{class l{log(S){console.log(S)}warn(S){console.warn(S)}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"platform"})}}return l})();const Z$=new qn(""),J$=new qn("");let GE,Q$=(()=>{class l{constructor(S,H,ne){this._ngZone=S,this.registry=H,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,GE||(function eV(l){GE=l}(ne),ne.addToWindow(H)),this._watchAngularEvents(),S.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let S=this._callbacks.pop();clearTimeout(S.timeoutId),S.doneCb()}});else{let S=this.getPendingTasks();this._callbacks=this._callbacks.filter(H=>!H.updateCb||!H.updateCb(S)||(clearTimeout(H.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(S=>({source:S.source,creationLocation:S.creationLocation,data:S.data})):[]}addCallback(S,H,ne){let ce=-1;H&&H>0&&(ce=setTimeout(()=>{this._callbacks=this._callbacks.filter(ve=>ve.timeoutId!==ce),S()},H)),this._callbacks.push({doneCb:S,timeoutId:ce,updateCb:ne})}whenStable(S,H,ne){if(ne&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(S,H,ne),this._runCallbacksIfReady()}registerApplication(S){this.registry.registerApplication(S,this)}unregisterApplication(S){this.registry.unregisterApplication(S)}findProviders(S,H,ne){return[]}static{this.\u0275fac=function(H){return new(H||l)(Bs(po),Bs(UM),Bs(J$))}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac})}}return l})(),UM=(()=>{class l{constructor(){this._applications=new Map}registerApplication(S,H){this._applications.set(S,H)}unregisterApplication(S){this._applications.delete(S)}unregisterAllApplications(){this._applications.clear()}getTestability(S){return this._applications.get(S)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(S,H=!0){return GE?.findTestabilityInTree(this,S,H)??null}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"platform"})}}return l})();function R1(l){return!!l&&"function"==typeof l.then}function zM(l){return!!l&&"function"==typeof l.subscribe}const c4=new qn("");let HM=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((S,H)=>{this.resolve=S,this.reject=H}),this.appInits=Jn(c4,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const S=[];for(const ne of this.appInits){const ce=ne();if(R1(ce))S.push(ce);else if(zM(ce)){const ve=new Promise((Re,Ue)=>{ce.subscribe({complete:Re,error:Ue})});S.push(ve)}}const H=()=>{this.done=!0,this.resolve()};Promise.all(S).then(()=>{H()}).catch(ne=>{this.reject(ne)}),0===S.length&&H(),this.initialized=!0}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const WE=new qn("");function f4(l,p){return Array.isArray(p)?p.reduce(f4,l):{...l,...p}}let Xu=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(qb),this.afterRenderManager=Jn(SD),this.zonelessEnabled=Jn(Ly),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new xe.B,this.afterTick=new xe.B,this.componentTypes=[],this.components=[],this.isStable=Jn(a0).hasPendingTasks.pipe((0,_e.T)(S=>!S)),this._injector=Jn(Ud)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let S;return new Promise(H=>{S=this.isStable.subscribe({next:ne=>{ne&&H()}})}).finally(()=>{S.unsubscribe()})}get injector(){return this._injector}bootstrap(S,H){const ne=S instanceof Gh;if(!this._injector.get(HM).done)throw!ne&&$a(S),new ze(405,!1);let ve;ve=ne?S:this._injector.get(ju).resolveComponentFactory(S),this.componentTypes.push(ve.componentType);const Re=function d4(l){return l.isBoundToModule}(ve)?void 0:this._injector.get(A0),it=ve.create(Ua.NULL,[],H||ve.selector,Re),ft=it.location.nativeElement,kt=it.injector.get(Z$,null);return kt?.registerApplication(ft),it.onDestroy(()=>{this.detachView(it.hostView),KE(this.components,it),kt?.unregisterApplication(ft)}),this._loadComponent(it),it}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ze(101,!1);const S=T(null);try{this._runningTick=!0,this.synchronize()}catch(H){this.internalErrorHandler(H)}finally{this._runningTick=!1,T(S),this.afterTick.next()}}synchronize(){let S=null;this._injector.destroyed||(S=this._injector.get(zP,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let H=0;for(;0!==this.dirtyFlags&&H++<10;)this.synchronizeOnce(S)}synchronizeOnce(S){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const H=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(H);for(let{_lView:ne,notifyErrorHandler:ce}of this._views)WM(ne,ce,H,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else S?.begin?.(),S?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:S})=>gA(S))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(S){const H=S;this._views.push(H),H.attachToAppRef(this)}detachView(S){const H=S;KE(this._views,H),H.detachFromAppRef()}_loadComponent(S){this.attachView(S.hostView),this.tick(),this.components.push(S);const H=this._injector.get(WE,[]);[...this._bootstrapListeners,...H].forEach(ne=>ne(S))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(S=>S()),this._views.slice().forEach(S=>S.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(S){return this._destroyListeners.push(S),()=>KE(this._destroyListeners,S)}destroy(){if(this._destroyed)throw new ze(406,!1);const S=this._injector;S.destroy&&!S.destroyed&&S.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function KE(l,p){const S=l.indexOf(p);S>-1&&l.splice(S,1)}function WM(l,p,S,H){(S||gA(l))&&A_(l,p,S&&!H?0:1)}class tV{constructor(p,S){this.ngModuleFactory=p,this.componentFactories=S}}let KM=(()=>{class l{compileModuleSync(S){return new bD(S)}compileModuleAsync(S){return Promise.resolve(this.compileModuleSync(S))}compileModuleAndAllComponentsSync(S){const H=this.compileModuleSync(S),ce=qd(ys(S).declarations).reduce((ve,Re)=>{const Ue=Yn(Re);return Ue&&ve.push(new us(Ue)),ve},[]);return new tV(H,ce)}compileModuleAndAllComponentsAsync(S){return Promise.resolve(this.compileModuleAndAllComponentsSync(S))}clearCache(){}clearCacheFor(S){}getModuleId(S){}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),y4=(()=>{class l{constructor(){this.zone=Jn(po),this.changeDetectionScheduler=Jn(w0),this.applicationRef=Jn(Xu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function F1({ngZoneFactory:l,ignoreChangesOutsideZone:p,scheduleInRootZone:S}){return l??=()=>new po({...qM(),scheduleInRootZone:S}),[{provide:po,useFactory:l},{provide:$d,multi:!0,useFactory:()=>{const H=Jn(y4,{optional:!0});return()=>H.initialize()}},{provide:$d,multi:!0,useFactory:()=>{const H=Jn(v4);return()=>{H.initialize()}}},!0===p?{provide:oD,useValue:!0}:[],{provide:Yp,useValue:S??cy}]}function qM(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}let v4=(()=>{class l{constructor(){this.subscription=new be.yU,this.initialized=!1,this.zone=Jn(po),this.pendingTasks=Jn(a0)}initialize(){if(this.initialized)return;this.initialized=!0;let S=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(S=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{null!==S&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(S),S=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{po.assertInAngularZone(),S??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),vv=(()=>{class l{constructor(){this.appRef=Jn(Xu),this.taskService=Jn(a0),this.ngZone=Jn(po),this.zonelessEnabled=Jn(Ly),this.disableScheduling=Jn(oD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($x):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Jn(Yp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nh||!this.zoneIsDefined)}notify(S){if(!this.zonelessEnabled&&5===S)return;switch(S){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const H=this.useMicrotaskScheduler?i6:Fh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>H(()=>this.tick())):this.ngZone.runOutsideAngular(()=>H(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($x+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const S=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(H){throw this.taskService.remove(S),H}finally{this.cleanup()}this.useMicrotaskScheduler=!0,i6(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(S)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const S=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(S)}}static{this.\u0275fac=function(H){return new(H||l)}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const XM=new qn("",{providedIn:"root",factory:()=>Jn(XM,Vr.Optional|Vr.SkipSelf)||function U0(){return typeof $localize<"u"&&$localize.locale||Wu}()}),w4=new qn("",{providedIn:"root",factory:()=>"USD"}),YE=new qn("");function N1(l){return!l.moduleRef}let A4=(()=>{class l{constructor(S){this._injector=S,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(S,H){const ne=H?.scheduleInRootZone,ve=H?.ignoreChangesOutsideZone,Re=[F1({ngZoneFactory:()=>function t9(l="zone.js",p){return"noop"===l?new Nh:"zone.js"===l?new po(p):l}(H?.ngZone,{...qM({eventCoalescing:H?.ngZoneEventCoalescing,runCoalescing:H?.ngZoneRunCoalescing}),scheduleInRootZone:ne}),ignoreChangesOutsideZone:ve}),{provide:w0,useExisting:vv}],Ue=function UY(l,p,S){return new vD(l,p,S,!1)}(S.moduleType,this.injector,Re);return function S4(l){const p=N1(l)?l.r3Injector:l.moduleRef.injector,S=p.get(po);return S.run(()=>{N1(l)?l.r3Injector.resolveInjectorInitializers():l.moduleRef.resolveInjectorInitializers();const H=p.get(Gd,null);let ne;if(S.runOutsideAngular(()=>{ne=S.onError.subscribe({next:ce=>{H.handleError(ce)}})}),N1(l)){const ce=()=>p.destroy(),ve=l.platformInjector.get(YE);ve.add(ce),p.onDestroy(()=>{ne.unsubscribe(),ve.delete(ce)})}else{const ce=()=>l.moduleRef.destroy(),ve=l.platformInjector.get(YE);ve.add(ce),l.moduleRef.onDestroy(()=>{KE(l.allPlatformModules,l.moduleRef),ne.unsubscribe(),ve.delete(ce)})}return function GM(l,p,S){try{const H=S();return R1(H)?H.catch(ne=>{throw p.runOutsideAngular(()=>l.handleError(ne)),ne}):H}catch(H){throw p.runOutsideAngular(()=>l.handleError(H)),H}}(H,S,()=>{const ce=p.get(HM);return ce.runInitializers(),ce.donePromise.then(()=>{if(function p1(l){"string"==typeof l&&(rv=l.toLowerCase().replace(/_/g,"-"))}(p.get(XM,Wu)||Wu),N1(l)){const Re=p.get(Xu);return void 0!==l.rootComponent&&Re.bootstrap(l.rootComponent),Re}return function C4(l,p){const S=l.injector.get(Xu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(H=>S.bootstrap(H));else{if(!l.instance.ngDoBootstrap)throw new ze(-403,!1);l.instance.ngDoBootstrap(S)}p.push(l)}(l.moduleRef,l.allPlatformModules),l.moduleRef})})})}({moduleRef:Ue,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(S,H=[]){const ne=f4({},H);return function m4(l,p,S){const H=new bD(S);return Promise.resolve(H)}(0,0,S).then(ce=>this.bootstrapModuleFactory(ce,ne))}onDestroy(S){this._destroyListeners.push(S)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(H=>H.destroy()),this._destroyListeners.forEach(H=>H());const S=this._injector.get(YE,null);S&&(S.forEach(H=>H()),S.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(H){return new(H||l)(Bs(Ua))}}static{this.\u0275prov=Vn({token:l,factory:l.\u0275fac,providedIn:"platform"})}}return l})(),sp=null;const cV=new qn("");function lV(l,p,S=[]){const H=`Platform: ${p}`,ne=new qn(H);return(ce=[])=>{let ve=T4();if(!ve||ve.injector.get(cV,!1)){const Re=[...S,...ce,{provide:ne,useValue:!0}];l?l(Re):function VZ(l){if(sp&&!sp.get(cV,!1))throw new ze(400,!1);(function l4(){!function F(l){V=l}(()=>{throw new ze(600,!1)})})(),sp=l;const p=l.get(A4);(function uV(l){l.get(p9,null)?.forEach(S=>S())})(l)}(function YM(l=[],p){return Ua.create({name:p,providers:[{provide:iA,useValue:"platform"},{provide:YE,useValue:new Set([()=>sp=null])},...l]})}(Re,H))}return function dV(){const p=T4();if(!p)throw new ze(401,!1);return p}()}}function T4(){return sp?.get(A4)??null}let z0=(()=>{class l{static{this.__NG_ELEMENT_ID__=M4}}return l})();function M4(l){return function k4(l,p,S){if(t0(l)&&!S){const H=zd(l.index,p);return new Vh(H,H)}return 175&l.type?new Vh(p[To],p):null}(Ts(),Tn(),!(16&~l))}class R4{constructor(){}supports(p){return _D(p)}create(p){return new YZ(p)}}const XZ=(l,p)=>p;class YZ{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||XZ}forEachItem(p){let S;for(S=this._itHead;null!==S;S=S._next)p(S)}forEachOperation(p){let S=this._itHead,H=this._removalsHead,ne=0,ce=null;for(;S||H;){const ve=!H||S&&S.currentIndex<B4(H,ne,ce)?S:H,Re=B4(ve,ne,ce),Ue=ve.currentIndex;if(ve===H)ne--,H=H._nextRemoved;else if(S=S._next,null==ve.previousIndex)ne++;else{ce||(ce=[]);const it=Re-ne,ft=Ue-ne;if(it!=ft){for(let zt=0;zt<it;zt++){const Zt=zt<ce.length?ce[zt]:ce[zt]=0,fn=Zt+zt;ft<=fn&&fn<it&&(ce[zt]=Zt+1)}ce[ve.previousIndex]=ft-it}}Re!==Ue&&p(ve,Re,Ue)}}forEachPreviousItem(p){let S;for(S=this._previousItHead;null!==S;S=S._nextPrevious)p(S)}forEachAddedItem(p){let S;for(S=this._additionsHead;null!==S;S=S._nextAdded)p(S)}forEachMovedItem(p){let S;for(S=this._movesHead;null!==S;S=S._nextMoved)p(S)}forEachRemovedItem(p){let S;for(S=this._removalsHead;null!==S;S=S._nextRemoved)p(S)}forEachIdentityChange(p){let S;for(S=this._identityChangesHead;null!==S;S=S._nextIdentityChange)p(S)}diff(p){if(null==p&&(p=[]),!_D(p))throw new ze(900,!1);return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let ne,ce,ve,S=this._itHead,H=!1;if(Array.isArray(p)){this.length=p.length;for(let Re=0;Re<this.length;Re++)ce=p[Re],ve=this._trackByFn(Re,ce),null!==S&&Object.is(S.trackById,ve)?(H&&(S=this._verifyReinsertion(S,ce,ve,Re)),Object.is(S.item,ce)||this._addIdentityChange(S,ce)):(S=this._mismatch(S,ce,ve,Re),H=!0),S=S._next}else ne=0,function Oi(l,p){if(Array.isArray(l))for(let S=0;S<l.length;S++)p(l[S]);else{const S=l[Symbol.iterator]();let H;for(;!(H=S.next()).done;)p(H.value)}}(p,Re=>{ve=this._trackByFn(ne,Re),null!==S&&Object.is(S.trackById,ve)?(H&&(S=this._verifyReinsertion(S,Re,ve,ne)),Object.is(S.item,Re)||this._addIdentityChange(S,Re)):(S=this._mismatch(S,Re,ve,ne),H=!0),S=S._next,ne++}),this.length=ne;return this._truncate(S),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,S,H,ne){let ce;return null===p?ce=this._itTail:(ce=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(H,null))?(Object.is(p.item,S)||this._addIdentityChange(p,S),this._reinsertAfter(p,ce,ne)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(H,ne))?(Object.is(p.item,S)||this._addIdentityChange(p,S),this._moveAfter(p,ce,ne)):p=this._addAfter(new pV(S,H),ce,ne),p}_verifyReinsertion(p,S,H,ne){let ce=null===this._unlinkedRecords?null:this._unlinkedRecords.get(H,null);return null!==ce?p=this._reinsertAfter(ce,p._prev,ne):p.currentIndex!=ne&&(p.currentIndex=ne,this._addToMoves(p,ne)),p}_truncate(p){for(;null!==p;){const S=p._next;this._addToRemovals(this._unlink(p)),p=S}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,S,H){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const ne=p._prevRemoved,ce=p._nextRemoved;return null===ne?this._removalsHead=ce:ne._nextRemoved=ce,null===ce?this._removalsTail=ne:ce._prevRemoved=ne,this._insertAfter(p,S,H),this._addToMoves(p,H),p}_moveAfter(p,S,H){return this._unlink(p),this._insertAfter(p,S,H),this._addToMoves(p,H),p}_addAfter(p,S,H){return this._insertAfter(p,S,H),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,S,H){const ne=null===S?this._itHead:S._next;return p._next=ne,p._prev=S,null===ne?this._itTail=p:ne._prev=p,null===S?this._itHead=p:S._next=p,null===this._linkedRecords&&(this._linkedRecords=new N4),this._linkedRecords.put(p),p.currentIndex=H,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const S=p._prev,H=p._next;return null===S?this._itHead=H:S._next=H,null===H?this._itTail=S:H._prev=S,p}_addToMoves(p,S){return p.previousIndex===S||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N4),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,S){return p.item=S,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class pV{constructor(p,S){this.item=p,this.trackById=S,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F4{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,S){let H;for(H=this._head;null!==H;H=H._nextDup)if((null===S||S<=H.currentIndex)&&Object.is(H.trackById,p))return H;return null}remove(p){const S=p._prevDup,H=p._nextDup;return null===S?this._head=H:S._nextDup=H,null===H?this._tail=S:H._prevDup=S,null===this._head}}class N4{constructor(){this.map=new Map}put(p){const S=p.trackById;let H=this.map.get(S);H||(H=new F4,this.map.set(S,H)),H.add(p)}get(p,S){const ne=this.map.get(p);return ne?ne.get(p,S):null}remove(p){const S=p.trackById;return this.map.get(S).remove(p)&&this.map.delete(S),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B4(l,p,S){const H=l.previousIndex;if(null===H)return H;let ne=0;return S&&H<S.length&&(ne=S[H]),H+p+ne}class L4{constructor(){}supports(p){return p instanceof Map||wD(p)}create(){return new mV}}class mV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(p){let S;for(S=this._mapHead;null!==S;S=S._next)p(S)}forEachPreviousItem(p){let S;for(S=this._previousMapHead;null!==S;S=S._nextPrevious)p(S)}forEachChangedItem(p){let S;for(S=this._changesHead;null!==S;S=S._nextChanged)p(S)}forEachAddedItem(p){let S;for(S=this._additionsHead;null!==S;S=S._nextAdded)p(S)}forEachRemovedItem(p){let S;for(S=this._removalsHead;null!==S;S=S._nextRemoved)p(S)}diff(p){if(p){if(!(p instanceof Map||wD(p)))throw new ze(900,!1)}else p=new Map;return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let S=this._mapHead;if(this._appendAfter=null,this._forEach(p,(H,ne)=>{if(S&&S.key===ne)this._maybeAddToChanges(S,H),this._appendAfter=S,S=S._next;else{const ce=this._getOrCreateRecordForKey(ne,H);S=this._insertBeforeOrAppend(S,ce)}}),S){S._prev&&(S._prev._next=null),this._removalsHead=S;for(let H=S;null!==H;H=H._nextRemoved)H===this._mapHead&&(this._mapHead=null),this._records.delete(H.key),H._nextRemoved=H._next,H.previousValue=H.currentValue,H.currentValue=null,H._prev=null,H._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(p,S){if(p){const H=p._prev;return S._next=p,S._prev=H,p._prev=S,H&&(H._next=S),p===this._mapHead&&(this._mapHead=S),this._appendAfter=p,p}return this._appendAfter?(this._appendAfter._next=S,S._prev=this._appendAfter):this._mapHead=S,this._appendAfter=S,null}_getOrCreateRecordForKey(p,S){if(this._records.has(p)){const ne=this._records.get(p);this._maybeAddToChanges(ne,S);const ce=ne._prev,ve=ne._next;return ce&&(ce._next=ve),ve&&(ve._prev=ce),ne._next=null,ne._prev=null,ne}const H=new gV(p);return this._records.set(p,H),H.currentValue=S,this._addToAdditions(H),H}_reset(){if(this.isDirty){let p;for(this._previousMapHead=this._mapHead,p=this._previousMapHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._changesHead;null!==p;p=p._nextChanged)p.previousValue=p.currentValue;for(p=this._additionsHead;null!=p;p=p._nextAdded)p.previousValue=p.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(p,S){Object.is(S,p.currentValue)||(p.previousValue=p.currentValue,p.currentValue=S,this._addToChanges(p))}_addToAdditions(p){null===this._additionsHead?this._additionsHead=this._additionsTail=p:(this._additionsTail._nextAdded=p,this._additionsTail=p)}_addToChanges(p){null===this._changesHead?this._changesHead=this._changesTail=p:(this._changesTail._nextChanged=p,this._changesTail=p)}_forEach(p,S){p instanceof Map?p.forEach(S):Object.keys(p).forEach(H=>S(p[H],H))}}class gV{constructor(p){this.key=p,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j4(){return new tk([new R4])}let tk=(()=>{class l{static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:j4})}constructor(S){this.factories=S}static create(S,H){if(null!=H){const ne=H.factories.slice();S=S.concat(ne)}return new l(S)}static extend(S){return{provide:l,useFactory:H=>l.create(S,H||j4()),deps:[[l,new Co,new Mc]]}}find(S){const H=this.factories.find(ne=>ne.supports(S));if(null!=H)return H;throw new ze(901,!1)}}return l})();function yV(){return new $4([new L4])}let $4=(()=>{class l{static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:yV})}constructor(S){this.factories=S}static create(S,H){if(H){const ne=H.factories.slice();S=S.concat(ne)}return new l(S)}static extend(S){return{provide:l,useFactory:H=>l.create(S,H||yV()),deps:[[l,new Co,new Mc]]}}find(S){const H=this.factories.find(ne=>ne.supports(S));if(H)return H;throw new ze(901,!1)}}return l})();const tJ=lV(null,"core",[]);let nJ=(()=>{class l{constructor(S){}static{this.\u0275fac=function(H){return new(H||l)(Bs(Xu))}}static{this.\u0275mod=kh({type:l})}static{this.\u0275inj=tr({})}}return l})();function RJ(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function FJ(l,p=NaN){return isNaN(parseFloat(l))||isNaN(Number(l))?p:Number(l)}function jV(l,p){ac("NgSignals");const S=z(l);return p?.equal&&(S[y].equal=p.equal),S}function $1(l){const p=T(null);try{return l()}finally{T(p)}}const iS=new qn("",{providedIn:"root",factory:()=>Jn(G4)});let G4=(()=>{class l{static{this.\u0275prov=Vn({token:l,providedIn:"root",factory:()=>new $V})}}return l})();class $V{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Jn(a0),this.taskId=null}scheduleEffect(p){if(this.enqueue(p),null===this.taskId){const S=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(S),this.taskId=null})}}enqueue(p){const S=p.creationZone;this.queues.has(S)||this.queues.set(S,new Set);const H=this.queues.get(S);H.has(p)||(this.queuedEffectCount++,H.add(p))}flush(){for(;this.queuedEffectCount>0;)for(const[p,S]of this.queues)null===p?this.flushQueue(S):p.run(()=>this.flushQueue(S))}flushQueue(p){for(const S of p)p.delete(S),this.queuedEffectCount--,S.run()}}class W4{constructor(p,S,H,ne,ce,ve){this.scheduler=p,this.effectFn=S,this.creationZone=H,this.injector=ce,this.watcher=function Ee(l,p,S){const H=Object.create(He);S&&(H.consumerAllowSignalWrites=!0),H.fn=l,H.schedule=p;const ne=Ue=>{H.cleanupFn=Ue};return H.ref={notify:()=>G(H),run:()=>{if(null===H.fn)return;if(function x(){return U}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(H.dirty=!1,H.hasRun&&!X(H))return;H.hasRun=!0;const Ue=B(H);try{H.cleanupFn(),H.cleanupFn=Se,H.fn(ne)}finally{q(H,Ue)}},cleanup:()=>H.cleanupFn(),destroy:()=>function ve(Ue){(function ce(Ue){return null===Ue.fn&&null===Ue.schedule})(Ue)||(Q(Ue),Ue.cleanupFn(),Ue.fn=null,Ue.schedule=null,Ue.cleanupFn=Se)}(H),[y]:H},H.ref}(Re=>this.runEffect(Re),()=>this.schedule(),ve),this.unregisterOnDestroy=ne?.onDestroy(()=>this.destroy())}runEffect(p){try{this.effectFn(p)}catch(S){this.injector.get(Gd,null,{optional:!0})?.handleError(S)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function ml(l,p){ac("NgSignals"),!p?.injector&&Pb();const S=p?.injector??Jn(Ua),H=!0!==p?.manualCleanup?S.get(ly):null,ne=new W4(S.get(iS),l,typeof Zone>"u"?null:Zone.current,H,S,p?.allowSignalWrites??!1),ce=S.get(z0,null,{optional:!0});return ce&&8&ce._lView[Ur]?(ce._lView[aA]??=[]).push(ne.watcher.notify):ne.watcher.notify(),ne}function sS(l,p){const S=Yn(l),H=p.elementInjector||kb();return new us(S).create(H,p.projectableNodes,p.hostElement,p.environmentInjector)}function VV(l){const p=Yn(l);if(!p)return null;const S=new us(p);return{get selector(){return S.selector},get type(){return S.componentType},get inputs(){return S.inputs},get outputs(){return S.outputs},get ngContentSelectors(){return S.ngContentSelectors},get isStandalone(){return p.standalone},get isSignal(){return p.signals}}}},94073:()=>{"use strict";const ye=":";Error;const fe=function(Le,...Ee){if(fe.translate){const He=fe.translate(Le,Ee);Le=He[0],Ee=He[1]}let Se=Me(Le[0],Le.raw[0]);for(let He=1;He<Le.length;He++)Se+=Ee[He-1]+Me(Le[He],Le.raw[He]);return Se},Ae=":";function Me(Le,Ee){return Ee.charAt(0)===Ae?Le.substring(function b(Le,Ee){for(let Se=1,He=1;Se<Le.length;Se++,He++)if("\\"===Ee[He])He++;else if(Le[Se]===ye)return Se;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Le,Ee)+1):Le}globalThis.$localize=fe},35975:(ye,I,A)=>{"use strict";A.r(I),A.d(I,{customAlphabet:()=>K,customRandom:()=>U,nanoid:()=>y,random:()=>$,urlAlphabet:()=>O});let O="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$=T=>crypto.getRandomValues(new Uint8Array(T)),U=(T,w,x)=>{let R=(2<<Math.log(T.length-1)/Math.LN2)-1,k=-~(1.6*R*w/T.length);return(v=w)=>{let N="";for(;;){let M=x(k),P=k;for(;P--;)if(N+=T[M[P]&R]||"",N.length===v)return N}}},K=(T,w=21)=>U(T,w,$),y=(T=21)=>crypto.getRandomValues(new Uint8Array(T)).reduce((w,x)=>w+((x&=63)<36?x.toString(36):x<62?(x-26).toString(36).toUpperCase():x>62?"-":"_"),"")},14151:(ye,I,A)=>{"use strict";A.r(I),A.d(I,{compare:()=>L,concat:()=>X,equals:()=>Q,fromString:()=>Ke,toString:()=>nt,xor:()=>St});var O={};A.r(O),A.d(O,{identity:()=>Me});var $={};A.r($),A.d($,{base2:()=>Le});var U={};A.r(U),A.d(U,{base8:()=>Ee});var K={};A.r(K),A.d(K,{base10:()=>Se});var y={};A.r(y),A.d(y,{base16:()=>He,base16upper:()=>Te});var T={};A.r(T),A.d(T,{base32:()=>u,base32hex:()=>Ce,base32hexpad:()=>ze,base32hexpadupper:()=>Ne,base32hexupper:()=>ke,base32pad:()=>be,base32padupper:()=>_e,base32upper:()=>xe,base32z:()=>We});var w={};A.r(w),A.d(w,{base36:()=>Ye,base36upper:()=>wt});var x={};A.r(x),A.d(x,{base58btc:()=>mt,base58flickr:()=>rt});var R={};A.r(R),A.d(R,{base64:()=>Ut,base64pad:()=>se,base64url:()=>W,base64urlpad:()=>Z});var k={};A.r(k),A.d(k,{base256emoji:()=>Rt});var v={};A.r(v),A.d(v,{sha256:()=>pi,sha512:()=>Xr});var N={};A.r(N),A.d(N,{identity:()=>Qr});var M={};A.r(M),A.d(M,{code:()=>qn,decode:()=>xi,encode:()=>$r,name:()=>Tr});var P={};function L(pt,bt){for(let Ot=0;Ot<pt.byteLength;Ot++){if(pt[Ot]<bt[Ot])return-1;if(pt[Ot]>bt[Ot])return 1}return pt.byteLength>bt.byteLength?1:pt.byteLength<bt.byteLength?-1:0}function G(pt){return null!=globalThis.Buffer?new Uint8Array(pt.buffer,pt.byteOffset,pt.byteLength):pt}function q(pt=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?G(globalThis.Buffer.allocUnsafe(pt)):new Uint8Array(pt)}function X(pt,bt){bt||(bt=pt.reduce((wn,Gn)=>wn+Gn.length,0));const Ot=q(bt);let mn=0;for(const wn of pt)Ot.set(wn,mn),mn+=wn.length;return G(Ot)}function Q(pt,bt){if(pt===bt)return!0;if(pt.byteLength!==bt.byteLength)return!1;for(let Ot=0;Ot<pt.byteLength;Ot++)if(pt[Ot]!==bt[Ot])return!1;return!0}A.r(P),A.d(P,{code:()=>Fo,decode:()=>Th,encode:()=>tc,name:()=>vi});const f=(new Uint8Array(0),pt=>{if(pt instanceof Uint8Array&&"Uint8Array"===pt.constructor.name)return pt;if(pt instanceof ArrayBuffer)return new Uint8Array(pt);if(ArrayBuffer.isView(pt))return new Uint8Array(pt.buffer,pt.byteOffset,pt.byteLength);throw new Error("Unknown type, must be binary type")});class V{constructor(bt,Ot,mn){this.name=bt,this.prefix=Ot,this.baseEncode=mn}encode(bt){if(bt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(bt)}`;throw Error("Unknown type, must be binary type")}}class Y{constructor(bt,Ot,mn){if(this.name=bt,this.prefix=Ot,void 0===Ot.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Ot.codePointAt(0),this.baseDecode=mn}decode(bt){if("string"==typeof bt){if(bt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(bt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(bt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(bt){return h(this,bt)}}class F{constructor(bt){this.decoders=bt}or(bt){return h(this,bt)}decode(bt){const mn=this.decoders[bt[0]];if(mn)return mn.decode(bt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(bt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const h=(pt,bt)=>new F({...pt.decoders||{[pt.prefix]:pt},...bt.decoders||{[bt.prefix]:bt}});class g{constructor(bt,Ot,mn,wn){this.name=bt,this.prefix=Ot,this.baseEncode=mn,this.baseDecode=wn,this.encoder=new V(bt,Ot,mn),this.decoder=new Y(bt,Ot,wn)}encode(bt){return this.encoder.encode(bt)}decode(bt){return this.decoder.decode(bt)}}const J=({name:pt,prefix:bt,encode:Ot,decode:mn})=>new g(pt,bt,Ot,mn),ee=({prefix:pt,name:bt,alphabet:Ot})=>{const{encode:mn,decode:wn}=function te(pt,bt){if(pt.length>=255)throw new TypeError("Alphabet too long");for(var Ot=new Uint8Array(256),mn=0;mn<Ot.length;mn++)Ot[mn]=255;for(var wn=0;wn<pt.length;wn++){var Gn=pt.charAt(wn),mr=Gn.charCodeAt(0);if(255!==Ot[mr])throw new TypeError(Gn+" is ambiguous");Ot[mr]=wn}var Ei=pt.length,Si=pt.charAt(0),Fs=Math.log(Ei)/Math.log(256),Ns=Math.log(256)/Math.log(Ei);function Bs(Jn){if("string"!=typeof Jn)throw new TypeError("Expected String");if(0===Jn.length)return new Uint8Array;var So=0;if(" "!==Jn[So]){for(var Vl=0,ba=0;Jn[So]===Si;)Vl++,So++;for(var uo=(Jn.length-So)*Fs+1>>>0,el=new Uint8Array(uo);Jn[So];){var Dc=Ot[Jn.charCodeAt(So)];if(255===Dc)return;for(var Bo=0,Mc=uo-1;(0!==Dc||Bo<ba)&&-1!==Mc;Mc--,Bo++)el[Mc]=(Dc+=Ei*el[Mc]>>>0)%256>>>0,Dc=Dc/256>>>0;if(0!==Dc)throw new Error("Non-zero carry");ba=Bo,So++}if(" "!==Jn[So]){for(var Ls=uo-ba;Ls!==uo&&0===el[Ls];)Ls++;for(var Co=new Uint8Array(Vl+(uo-Ls)),Cf=Vl;Ls!==uo;)Co[Cf++]=el[Ls++];return Co}}}return{encode:function Qc(Jn){if(Jn instanceof Uint8Array||(ArrayBuffer.isView(Jn)?Jn=new Uint8Array(Jn.buffer,Jn.byteOffset,Jn.byteLength):Array.isArray(Jn)&&(Jn=Uint8Array.from(Jn))),!(Jn instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Jn.length)return"";for(var So=0,Vl=0,ba=0,uo=Jn.length;ba!==uo&&0===Jn[ba];)ba++,So++;for(var el=(uo-ba)*Ns+1>>>0,Dc=new Uint8Array(el);ba!==uo;){for(var Bo=Jn[ba],Mc=0,Ls=el-1;(0!==Bo||Mc<Vl)&&-1!==Ls;Ls--,Mc++)Dc[Ls]=(Bo+=256*Dc[Ls]>>>0)%Ei>>>0,Bo=Bo/Ei>>>0;if(0!==Bo)throw new Error("Non-zero carry");Vl=Mc,ba++}for(var Co=el-Vl;Co!==el&&0===Dc[Co];)Co++;for(var Cf=Si.repeat(So);Co<el;++Co)Cf+=pt.charAt(Dc[Co]);return Cf},decodeUnsafe:Bs,decode:function Ym(Jn){var So=Bs(Jn);if(So)return So;throw new Error(`Non-${bt} character`)}}}(Ot,bt);return J({prefix:pt,name:bt,encode:mn,decode:Gn=>f(wn(Gn))})},Ae=({name:pt,prefix:bt,bitsPerChar:Ot,alphabet:mn})=>J({prefix:bt,name:pt,encode:wn=>((pt,bt,Ot)=>{const mn="="===bt[bt.length-1],wn=(1<<Ot)-1;let Gn="",mr=0,Ei=0;for(let Si=0;Si<pt.length;++Si)for(Ei=Ei<<8|pt[Si],mr+=8;mr>Ot;)mr-=Ot,Gn+=bt[wn&Ei>>mr];if(mr&&(Gn+=bt[wn&Ei<<Ot-mr]),mn)for(;Gn.length*Ot&7;)Gn+="=";return Gn})(wn,mn,Ot),decode:wn=>((pt,bt,Ot,mn)=>{const wn={};for(let Ns=0;Ns<bt.length;++Ns)wn[bt[Ns]]=Ns;let Gn=pt.length;for(;"="===pt[Gn-1];)--Gn;const mr=new Uint8Array(Gn*Ot/8|0);let Ei=0,Si=0,Fs=0;for(let Ns=0;Ns<Gn;++Ns){const Qc=wn[pt[Ns]];if(void 0===Qc)throw new SyntaxError(`Non-${mn} character`);Si=Si<<Ot|Qc,Ei+=Ot,Ei>=8&&(Ei-=8,mr[Fs++]=255&Si>>Ei)}if(Ei>=Ot||255&Si<<8-Ei)throw new SyntaxError("Unexpected end of data");return mr})(wn,mn,Ot,pt)}),Me=J({prefix:"\0",name:"identity",encode:pt=>(pt=>(new TextDecoder).decode(pt))(pt),decode:pt=>(pt=>(new TextEncoder).encode(pt))(pt)}),Le=Ae({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ee=Ae({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Se=ee({prefix:"9",name:"base10",alphabet:"0123456789"}),He=Ae({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Te=Ae({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),u=Ae({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xe=Ae({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),be=Ae({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_e=Ae({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ce=Ae({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ke=Ae({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ze=Ae({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ne=Ae({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),We=Ae({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ye=ee({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wt=ee({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),mt=ee({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rt=ee({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ut=Ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),se=Ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),W=Ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Z=Ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),he=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),De=he.reduce((pt,bt,Ot)=>(pt[Ot]=bt,pt),[]),Xe=he.reduce((pt,bt,Ot)=>(pt[bt.codePointAt(0)]=Ot,pt),[]),Rt=J({prefix:"\u{1f680}",name:"base256emoji",encode:function Ze(pt){return pt.reduce((bt,Ot)=>bt+De[Ot],"")},decode:function at(pt){const bt=[];for(const Ot of pt){const mn=Xe[Ot.codePointAt(0)];if(void 0===mn)throw new Error(`Non-base256emoji character: ${Ot}`);bt.push(mn)}return new Uint8Array(bt)}});var Mt=A(10467),Wt=128,nn=-128,Hn=Math.pow(2,31),gt=Math.pow(2,7),dt=Math.pow(2,14),yt=Math.pow(2,21),ln=Math.pow(2,28),Be=Math.pow(2,35),Ge=Math.pow(2,42),ht=Math.pow(2,49),et=Math.pow(2,56),ut=Math.pow(2,63);const Fn_encode=function sn(pt,bt,Ot){bt=bt||[];for(var mn=Ot=Ot||0;pt>=Hn;)bt[Ot++]=255&pt|Wt,pt/=128;for(;pt&nn;)bt[Ot++]=255&pt|Wt,pt>>>=7;return bt[Ot]=0|pt,sn.bytes=Ot-mn+1,bt},Fn_encodingLength=function(pt){return pt<gt?1:pt<dt?2:pt<yt?3:pt<ln?4:pt<Be?5:pt<Ge?6:pt<ht?7:pt<et?8:pt<ut?9:10},cn=(pt,bt,Ot=0)=>(Fn_encode(pt,bt,Ot),bt),vr=pt=>Fn_encodingLength(pt),jn=(pt,bt)=>{const Ot=bt.byteLength,mn=vr(pt),wn=mn+vr(Ot),Gn=new Uint8Array(wn+Ot);return cn(pt,Gn,0),cn(Ot,Gn,mn),Gn.set(bt,wn),new Vn(pt,Ot,bt,Gn)};class Vn{constructor(bt,Ot,mn,wn){this.code=bt,this.size=Ot,this.digest=mn,this.bytes=wn}}const nr=({name:pt,code:bt,encode:Ot})=>new tr(pt,bt,Ot);class tr{constructor(bt,Ot,mn){this.name=bt,this.code=Ot,this.encode=mn}digest(bt){if(bt instanceof Uint8Array){const Ot=this.encode(bt);return Ot instanceof Uint8Array?jn(this.code,Ot):Ot.then(mn=>jn(this.code,mn))}throw Error("Unknown type, must be binary type")}}const Xn=pt=>function(){var bt=(0,Mt.A)(function*(Ot){return new Uint8Array(yield crypto.subtle.digest(pt,Ot))});return function(Ot){return bt.apply(this,arguments)}}(),pi=nr({name:"sha2-256",code:18,encode:Xn("SHA-256")}),Xr=nr({name:"sha2-512",code:19,encode:Xn("SHA-512")}),Qn=f,Qr={code:0,name:"identity",encode:Qn,digest:pt=>jn(0,Qn(pt))},Tr="raw",qn=85,$r=pt=>f(pt),xi=pt=>f(pt),Ti=new TextEncoder,qs=new TextDecoder,vi="json",Fo=512,tc=pt=>Ti.encode(JSON.stringify(pt)),Th=pt=>JSON.parse(qs.decode(pt));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Zc={...O,...$,...U,...K,...y,...T,...w,...x,...R,...k};function jl(pt,bt,Ot,mn){return{name:pt,prefix:bt,encoder:{name:pt,prefix:bt,encode:Ot},decoder:{decode:mn}}}const nc=jl("utf8","u",pt=>"u"+new TextDecoder("utf8").decode(pt),pt=>(new TextEncoder).encode(pt.substring(1))),Vr=jl("ascii","a",pt=>{let bt="a";for(let Ot=0;Ot<pt.length;Ot++)bt+=String.fromCharCode(pt[Ot]);return bt},pt=>{const bt=q((pt=pt.substring(1)).length);for(let Ot=0;Ot<pt.length;Ot++)bt[Ot]=pt.charCodeAt(Ot);return bt}),$l={utf8:nc,"utf-8":nc,hex:Zc.base16,latin1:Vr,ascii:Vr,binary:Vr,...Zc};function Ke(pt,bt="utf8"){const Ot=$l[bt];if(!Ot)throw new Error(`Unsupported encoding "${bt}"`);return"utf8"!==bt&&"utf-8"!==bt||null==globalThis.Buffer||null==globalThis.Buffer.from?Ot.decoder.decode(`${Ot.prefix}${pt}`):G(globalThis.Buffer.from(pt,"utf-8"))}function nt(pt,bt="utf8"){const Ot=$l[bt];if(!Ot)throw new Error(`Unsupported encoding "${bt}"`);return"utf8"!==bt&&"utf-8"!==bt||null==globalThis.Buffer||null==globalThis.Buffer.from?Ot.encoder.encode(pt).substring(1):globalThis.Buffer.from(pt.buffer,pt.byteOffset,pt.byteLength).toString("utf8")}function St(pt,bt){if(pt.length!==bt.length)throw new Error("Inputs should have the same length");const Ot=q(pt.length);for(let mn=0;mn<pt.length;mn++)Ot[mn]=pt[mn]^bt[mn];return G(Ot)}},10467:(ye,I,A)=>{"use strict";function O(U,K,y,T,w,x,R){try{var k=U[x](R),v=k.value}catch(N){return void y(N)}k.done?K(v):Promise.resolve(v).then(T,w)}function $(U){return function(){var K=this,y=arguments;return new Promise(function(T,w){var x=U.apply(K,y);function R(v){O(x,T,w,R,k,"next",v)}function k(v){O(x,T,w,R,k,"throw",v)}R(void 0)})}}A.d(I,{A:()=>$})},83813:ye=>{"use strict";ye.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},63837:ye=>{"use strict";ye.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:ye=>{"use strict";ye.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},3219:ye=>{"use strict";ye.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:ye=>{"use strict";ye.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:ye=>{"use strict";ye.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:ye=>{"use strict";ye.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:ye=>{"use strict";ye.exports={rE:"6.6.0"}},84777:ye=>{"use strict";ye.exports={}},99600:ye=>{"use strict";ye.exports={rE:"4.3.0"}},15579:ye=>{"use strict";ye.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},ye=>{var I=O=>ye(ye.s=O);I(94073),I(4302)}]);